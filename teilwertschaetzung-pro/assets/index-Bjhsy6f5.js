var PT=Object.defineProperty;var RT=(n,e,t)=>e in n?PT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ot=(n,e,t)=>RT(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var L9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var M0={exports:{}},Yd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function DT(){if(Zv)return Yd;Zv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Yd.Fragment=e,Yd.jsx=t,Yd.jsxs=t,Yd}var Xv;function IT(){return Xv||(Xv=1,M0.exports=DT()),M0.exports}var S=IT(),L0={exports:{}},un={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function OT(){if(Qv)return un;Qv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,T={};function M(j,me,D){this.props=j,this.context=me,this.refs=T,this.updater=D||x}M.prototype.isReactComponent={},M.prototype.setState=function(j,me){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,me,"setState")},M.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=M.prototype;function P(j,me,D){this.props=j,this.context=me,this.refs=T,this.updater=D||x}var I=P.prototype=new k;I.constructor=P,N(I,M.prototype),I.isPureReactComponent=!0;var J=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function X(j,me,D,Y,Q,ue){return D=ue.ref,{$$typeof:n,type:j,key:me,ref:D!==void 0?D:null,props:ue}}function U(j,me){return X(j.type,me,void 0,void 0,void 0,j.props)}function ee(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function de(j){var me={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(D){return me[D]})}var B=/\/+/g;function q(j,me){return typeof j=="object"&&j!==null&&j.key!=null?de(""+j.key):me.toString(36)}function oe(){}function ne(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(oe,oe):(j.status="pending",j.then(function(me){j.status==="pending"&&(j.status="fulfilled",j.value=me)},function(me){j.status==="pending"&&(j.status="rejected",j.reason=me)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ie(j,me,D,Y,Q){var ue=typeof j;(ue==="undefined"||ue==="boolean")&&(j=null);var ce=!1;if(j===null)ce=!0;else switch(ue){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(j.$$typeof){case n:case e:ce=!0;break;case h:return ce=j._init,ie(ce(j._payload),me,D,Y,Q)}}if(ce)return Q=Q(j),ce=Y===""?"."+q(j,0):Y,J(Q)?(D="",ce!=null&&(D=ce.replace(B,"$&/")+"/"),ie(Q,me,D,"",function(Ee){return Ee})):Q!=null&&(ee(Q)&&(Q=U(Q,D+(Q.key==null||j&&j.key===Q.key?"":(""+Q.key).replace(B,"$&/")+"/")+ce)),me.push(Q)),1;ce=0;var ye=Y===""?".":Y+":";if(J(j))for(var Se=0;Se<j.length;Se++)Y=j[Se],ue=ye+q(Y,Se),ce+=ie(Y,me,D,ue,Q);else if(Se=b(j),typeof Se=="function")for(j=Se.call(j),Se=0;!(Y=j.next()).done;)Y=Y.value,ue=ye+q(Y,Se++),ce+=ie(Y,me,D,ue,Q);else if(ue==="object"){if(typeof j.then=="function")return ie(ne(j),me,D,Y,Q);throw me=String(j),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return ce}function G(j,me,D){if(j==null)return j;var Y=[],Q=0;return ie(j,Y,"","",function(ue){return me.call(D,ue,Q++)}),Y}function te(j){if(j._status===-1){var me=j._result;me=me(),me.then(function(D){(j._status===0||j._status===-1)&&(j._status=1,j._result=D)},function(D){(j._status===0||j._status===-1)&&(j._status=2,j._result=D)}),j._status===-1&&(j._status=0,j._result=me)}if(j._status===1)return j._result.default;throw j._result}var ae=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function pe(){}return un.Children={map:G,forEach:function(j,me,D){G(j,function(){me.apply(this,arguments)},D)},count:function(j){var me=0;return G(j,function(){me++}),me},toArray:function(j){return G(j,function(me){return me})||[]},only:function(j){if(!ee(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},un.Component=M,un.Fragment=t,un.Profiler=r,un.PureComponent=P,un.StrictMode=i,un.Suspense=c,un.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,un.__COMPILER_RUNTIME={__proto__:null,c:function(j){return H.H.useMemoCache(j)}},un.cache=function(j){return function(){return j.apply(null,arguments)}},un.cloneElement=function(j,me,D){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Y=N({},j.props),Q=j.key,ue=void 0;if(me!=null)for(ce in me.ref!==void 0&&(ue=void 0),me.key!==void 0&&(Q=""+me.key),me)!K.call(me,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&me.ref===void 0||(Y[ce]=me[ce]);var ce=arguments.length-2;if(ce===1)Y.children=D;else if(1<ce){for(var ye=Array(ce),Se=0;Se<ce;Se++)ye[Se]=arguments[Se+2];Y.children=ye}return X(j.type,Q,void 0,void 0,ue,Y)},un.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},un.createElement=function(j,me,D){var Y,Q={},ue=null;if(me!=null)for(Y in me.key!==void 0&&(ue=""+me.key),me)K.call(me,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(Q[Y]=me[Y]);var ce=arguments.length-2;if(ce===1)Q.children=D;else if(1<ce){for(var ye=Array(ce),Se=0;Se<ce;Se++)ye[Se]=arguments[Se+2];Q.children=ye}if(j&&j.defaultProps)for(Y in ce=j.defaultProps,ce)Q[Y]===void 0&&(Q[Y]=ce[Y]);return X(j,ue,void 0,void 0,null,Q)},un.createRef=function(){return{current:null}},un.forwardRef=function(j){return{$$typeof:u,render:j}},un.isValidElement=ee,un.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:te}},un.memo=function(j,me){return{$$typeof:f,type:j,compare:me===void 0?null:me}},un.startTransition=function(j){var me=H.T,D={};H.T=D;try{var Y=j(),Q=H.S;Q!==null&&Q(D,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(pe,ae)}catch(ue){ae(ue)}finally{H.T=me}},un.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},un.use=function(j){return H.H.use(j)},un.useActionState=function(j,me,D){return H.H.useActionState(j,me,D)},un.useCallback=function(j,me){return H.H.useCallback(j,me)},un.useContext=function(j){return H.H.useContext(j)},un.useDebugValue=function(){},un.useDeferredValue=function(j,me){return H.H.useDeferredValue(j,me)},un.useEffect=function(j,me,D){var Y=H.H;if(typeof D=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(j,me)},un.useId=function(){return H.H.useId()},un.useImperativeHandle=function(j,me,D){return H.H.useImperativeHandle(j,me,D)},un.useInsertionEffect=function(j,me){return H.H.useInsertionEffect(j,me)},un.useLayoutEffect=function(j,me){return H.H.useLayoutEffect(j,me)},un.useMemo=function(j,me){return H.H.useMemo(j,me)},un.useOptimistic=function(j,me){return H.H.useOptimistic(j,me)},un.useReducer=function(j,me,D){return H.H.useReducer(j,me,D)},un.useRef=function(j){return H.H.useRef(j)},un.useState=function(j){return H.H.useState(j)},un.useSyncExternalStore=function(j,me,D){return H.H.useSyncExternalStore(j,me,D)},un.useTransition=function(){return H.H.useTransition()},un.version="19.1.0",un}var e5;function m2(){return e5||(e5=1,L0.exports=OT()),L0.exports}var re=m2();const FT=Yw(re);var P0={exports:{}},$d={},R0={exports:{}},D0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t5;function BT(){return t5||(t5=1,function(n){function e(G,te){var ae=G.length;G.push(te);e:for(;0<ae;){var pe=ae-1>>>1,j=G[pe];if(0<r(j,te))G[pe]=te,G[ae]=j,ae=pe;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var te=G[0],ae=G.pop();if(ae!==te){G[0]=ae;e:for(var pe=0,j=G.length,me=j>>>1;pe<me;){var D=2*(pe+1)-1,Y=G[D],Q=D+1,ue=G[Q];if(0>r(Y,ae))Q<j&&0>r(ue,Y)?(G[pe]=ue,G[Q]=ae,pe=Q):(G[pe]=Y,G[D]=ae,pe=D);else if(Q<j&&0>r(ue,ae))G[pe]=ue,G[Q]=ae,pe=Q;else break e}}return te}function r(G,te){var ae=G.sortIndex-te.sortIndex;return ae!==0?ae:G.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var c=[],f=[],h=1,y=null,b=3,x=!1,N=!1,T=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function J(G){for(var te=t(f);te!==null;){if(te.callback===null)i(f);else if(te.startTime<=G)i(f),te.sortIndex=te.expirationTime,e(c,te);else break;te=t(f)}}function H(G){if(T=!1,J(G),!N)if(t(c)!==null)N=!0,K||(K=!0,q());else{var te=t(f);te!==null&&ie(H,te.startTime-G)}}var K=!1,X=-1,U=5,ee=-1;function de(){return M?!0:!(n.unstable_now()-ee<U)}function B(){if(M=!1,K){var G=n.unstable_now();ee=G;var te=!0;try{e:{N=!1,T&&(T=!1,P(X),X=-1),x=!0;var ae=b;try{t:{for(J(G),y=t(c);y!==null&&!(y.expirationTime>G&&de());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,b=y.priorityLevel;var j=pe(y.expirationTime<=G);if(G=n.unstable_now(),typeof j=="function"){y.callback=j,J(G),te=!0;break t}y===t(c)&&i(c),J(G)}else i(c);y=t(c)}if(y!==null)te=!0;else{var me=t(f);me!==null&&ie(H,me.startTime-G),te=!1}}break e}finally{y=null,b=ae,x=!1}te=void 0}}finally{te?q():K=!1}}}var q;if(typeof I=="function")q=function(){I(B)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ne=oe.port2;oe.port1.onmessage=B,q=function(){ne.postMessage(null)}}else q=function(){k(B,0)};function ie(G,te){X=k(function(){G(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(G){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var ae=b;b=te;try{return G()}finally{b=ae}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=b;b=G;try{return te()}finally{b=ae}},n.unstable_scheduleCallback=function(G,te,ae){var pe=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?pe+ae:pe):ae=pe,G){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ae+j,G={id:h++,callback:te,priorityLevel:G,startTime:ae,expirationTime:j,sortIndex:-1},ae>pe?(G.sortIndex=ae,e(f,G),t(c)===null&&G===t(f)&&(T?(P(X),X=-1):T=!0,ie(H,ae-pe))):(G.sortIndex=j,e(c,G),N||x||(N=!0,K||(K=!0,q()))),G},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(G){var te=b;return function(){var ae=b;b=te;try{return G.apply(this,arguments)}finally{b=ae}}}}(D0)),D0}var n5;function zT(){return n5||(n5=1,R0.exports=BT()),R0.exports}var I0={exports:{}},Xr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5;function jT(){if(i5)return Xr;i5=1;var n=m2();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,f,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:c,containerInfo:f,implementation:h}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xr.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,h)},Xr.flushSync=function(c){var f=o.T,h=i.p;try{if(o.T=null,i.p=2,c)return c()}finally{o.T=f,i.p=h,i.d.f()}},Xr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},Xr.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Xr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,y=u(h,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):h==="script"&&i.d.X(c,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Xr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},Xr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,y=u(h,f.crossOrigin);i.d.L(c,h,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Xr.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},Xr.requestFormReset=function(c){i.d.r(c)},Xr.unstable_batchedUpdates=function(c,f){return c(f)},Xr.useFormState=function(c,f,h){return o.H.useFormState(c,f,h)},Xr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Xr.version="19.1.0",Xr}var r5;function UT(){if(r5)return I0.exports;r5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),I0.exports=jT(),I0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s5;function VT(){if(s5)return $d;s5=1;var n=zT(),e=m2(),t=UT();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function c(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var d=a,p=l;;){var w=d.return;if(w===null)break;var A=w.alternate;if(A===null){if(p=w.return,p!==null){d=p;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===d)return u(w),a;if(A===p)return u(w),l;A=A.sibling}throw Error(i(188))}if(d.return!==p.return)d=w,p=A;else{for(var R=!1,$=w.child;$;){if($===d){R=!0,d=w,p=A;break}if($===p){R=!0,p=w,d=A;break}$=$.sibling}if(!R){for($=A.child;$;){if($===d){R=!0,d=A,p=w;break}if($===p){R=!0,p=A,d=w;break}$=$.sibling}if(!R)throw Error(i(189))}}if(d.alternate!==p)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),I=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Symbol.for("react.client.reference");function ne(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===oe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case M:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case K:return"SuspenseList";case ee:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case I:return(a.displayName||"Context")+".Provider";case P:return(a._context.displayName||"Context")+".Consumer";case J:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case X:return l=a.displayName||null,l!==null?l:ne(a.type)||"Memo";case U:l=a._payload,a=a._init;try{return ne(a(l))}catch{}}return null}var ie=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},pe=[],j=-1;function me(a){return{current:a}}function D(a){0>j||(a.current=pe[j],pe[j]=null,j--)}function Y(a,l){j++,pe[j]=a.current,a.current=l}var Q=me(null),ue=me(null),ce=me(null),ye=me(null);function Se(a,l){switch(Y(ce,l),Y(ue,a),Y(Q,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Tv(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Tv(l),a=Cv(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}D(Q),Y(Q,a)}function Ee(){D(Q),D(ue),D(ce)}function $e(a){a.memoizedState!==null&&Y(ye,a);var l=Q.current,d=Cv(l,a.type);l!==d&&(Y(ue,a),Y(Q,d))}function Ye(a){ue.current===a&&(D(Q),D(ue)),ye.current===a&&(D(ye),qd._currentValue=ae)}var Qe=Object.prototype.hasOwnProperty,Ke=n.unstable_scheduleCallback,et=n.unstable_cancelCallback,De=n.unstable_shouldYield,fe=n.unstable_requestPaint,Et=n.unstable_now,yt=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,nt=n.unstable_UserBlockingPriority,st=n.unstable_NormalPriority,it=n.unstable_LowPriority,mt=n.unstable_IdlePriority,Pt=n.log,Kt=n.unstable_setDisableYieldValue,jt=null,xt=null;function Yt(a){if(typeof Pt=="function"&&Kt(a),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(jt,a)}catch{}}var bt=Math.clz32?Math.clz32:ui,Vt=Math.log,lt=Math.LN2;function ui(a){return a>>>=0,a===0?32:31-(Vt(a)/lt|0)|0}var zt=256,Ei=4194304;function hn(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pn(a,l,d){var p=a.pendingLanes;if(p===0)return 0;var w=0,A=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var $=p&134217727;return $!==0?(p=$&~A,p!==0?w=hn(p):(R&=$,R!==0?w=hn(R):d||(d=$&~a,d!==0&&(w=hn(d))))):($=p&~A,$!==0?w=hn($):R!==0?w=hn(R):d||(d=p&~a,d!==0&&(w=hn(d)))),w===0?0:l!==0&&l!==w&&(l&A)===0&&(A=w&-w,d=l&-l,A>=d||A===32&&(d&4194048)!==0)?l:w}function ci(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function yn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(){var a=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),a}function Rn(){var a=Ei;return Ei<<=1,(Ei&62914560)===0&&(Ei=4194304),a}function ki(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Yi(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Dn(a,l,d,p,w,A){var R=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var $=a.entanglements,he=a.expirationTimes,Pe=a.hiddenUpdates;for(d=R&~d;0<d;){var ze=31-bt(d),We=1<<ze;$[ze]=0,he[ze]=-1;var Re=Pe[ze];if(Re!==null)for(Pe[ze]=null,ze=0;ze<Re.length;ze++){var Ie=Re[ze];Ie!==null&&(Ie.lane&=-536870913)}d&=~We}p!==0&&Ot(a,p,0),A!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=A&~(R&~l))}function Ot(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-bt(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|d&4194090}function Dt(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var p=31-bt(d),w=1<<p;w&l|a[p]&l&&(a[p]|=l),d&=~w}}function xi(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ti(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function nr(){var a=te.p;return a!==0?a:(a=window.event,a===void 0?32:Gv(a.type))}function kr(a,l){var d=te.p;try{return te.p=a,l()}finally{te.p=d}}var gt=Math.random().toString(36).slice(2),In="__reactFiber$"+gt,Cn="__reactProps$"+gt,ni="__reactContainer$"+gt,kn="__reactEvents$"+gt,Nn="__reactListeners$"+gt,Sr="__reactHandles$"+gt,Yn="__reactResources$"+gt,pr="__reactMarker$"+gt;function Mn(a){delete a[In],delete a[Cn],delete a[kn],delete a[Nn],delete a[Sr]}function fi(a){var l=a[In];if(l)return l;for(var d=a.parentNode;d;){if(l=d[ni]||d[In]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=Mv(a);a!==null;){if(d=a[In])return d;a=Mv(a)}return l}a=d,d=a.parentNode}return null}function di(a){if(a=a[In]||a[ni]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function gr(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function ai(a){var l=a[Yn];return l||(l=a[Yn]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Xt(a){a[pr]=!0}var ls=new Set,Ar={};function bi(a,l){Bi(a,l),Bi(a+"Capture",l)}function Bi(a,l){for(Ar[a]=l,a=0;a<l.length;a++)ls.add(l[a])}var Rs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qs={},ea={};function ro(a){return Qe.call(ea,a)?!0:Qe.call(Qs,a)?!1:Rs.test(a)?ea[a]=!0:(Qs[a]=!0,!1)}function Hr(a,l,d){if(ro(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function wt(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function vt(a,l,d,p){if(p===null)a.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+p)}}var we,Ce;function qe(a){if(we===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);we=l&&l[1]||"",Ce=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+a+Ce}var Xe=!1;function je(a,l){if(!a||Xe)return"";Xe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Ie){var Re=Ie}Reflect.construct(a,[],We)}else{try{We.call()}catch(Ie){Re=Ie}a.call(We.prototype)}}else{try{throw Error()}catch(Ie){Re=Ie}(We=a())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Ie){if(Ie&&Re&&typeof Ie.stack=="string")return[Ie.stack,Re.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=p.DetermineComponentFrameRoot(),R=A[0],$=A[1];if(R&&$){var he=R.split(`
`),Pe=$.split(`
`);for(w=p=0;p<he.length&&!he[p].includes("DetermineComponentFrameRoot");)p++;for(;w<Pe.length&&!Pe[w].includes("DetermineComponentFrameRoot");)w++;if(p===he.length||w===Pe.length)for(p=he.length-1,w=Pe.length-1;1<=p&&0<=w&&he[p]!==Pe[w];)w--;for(;1<=p&&0<=w;p--,w--)if(he[p]!==Pe[w]){if(p!==1||w!==1)do if(p--,w--,0>w||he[p]!==Pe[w]){var ze=`
`+he[p].replace(" at new "," at ");return a.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",a.displayName)),ze}while(1<=p&&0<=w);break}}}finally{Xe=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?qe(d):""}function dt(a){switch(a.tag){case 26:case 27:case 5:return qe(a.type);case 16:return qe("Lazy");case 13:return qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return je(a.type,!1);case 11:return je(a.type.render,!1);case 1:return je(a.type,!0);case 31:return qe("Activity");default:return""}}function ut(a){try{var l="";do l+=dt(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function _t(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ft(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function cn(a){var l=Ft(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),p=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,A=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return w.call(this)},set:function(R){p=""+R,A.call(this,R)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function ht(a){a._valueTracker||(a._valueTracker=cn(a))}function Ct(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return a&&(p=Ft(a)?a.checked?"true":"false":a.value),a=p,a!==d?(l.setValue(a),!0):!1}function It(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var en=/[\n"\\]/g;function kt(a){return a.replace(en,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function On(a,l,d,p,w,A,R,$){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),l!=null?R==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+_t(l)):a.value!==""+_t(l)&&(a.value=""+_t(l)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),l!=null?$n(a,R,_t(l)):d!=null?$n(a,R,_t(d)):p!=null&&a.removeAttribute("value"),w==null&&A!=null&&(a.defaultChecked=!!A),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?a.name=""+_t($):a.removeAttribute("name")}function hi(a,l,d,p,w,A,R,$){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),l!=null||d!=null){if(!(A!=="submit"&&A!=="reset"||l!=null))return;d=d!=null?""+_t(d):"",l=l!=null?""+_t(l):d,$||l===a.value||(a.value=l),a.defaultValue=l}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=$?a.checked:!!p,a.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R)}function $n(a,l,d){l==="number"&&It(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function zi(a,l,d,p){if(a=a.options,l){l={};for(var w=0;w<d.length;w++)l["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=l.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&p&&(a[d].defaultSelected=!0)}else{for(d=""+_t(d),l=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,p&&(a[w].defaultSelected=!0);return}l!==null||a[w].disabled||(l=a[w])}l!==null&&(l.selected=!0)}}function Tr(a,l,d){if(l!=null&&(l=""+_t(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+_t(d):""}function vn(a,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(i(92));if(ie(p)){if(1<p.length)throw Error(i(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=_t(l),a.defaultValue=d,p=a.textContent,p===d&&p!==""&&p!==null&&(a.value=p)}function ir(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Wn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mi(a,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,d):typeof d!="number"||d===0||Wn.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Sa(a,l,d){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var w in l)p=l[w],l.hasOwnProperty(w)&&d[w]!==p&&Mi(a,w,p)}else for(var A in l)l.hasOwnProperty(A)&&Mi(a,A,l[A])}function Gr(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ys=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(a){return Aa.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Ta=null;function ji(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var so=null,Ca=null;function $t(a){var l=di(a);if(l&&(a=l.stateNode)){var d=a[Cn]||null;e:switch(a=l.stateNode,l.type){case"input":if(On(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+kt(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==a&&p.form===a.form){var w=p[Cn]||null;if(!w)throw Error(i(90));On(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===a.form&&Ct(p)}break e;case"textarea":Tr(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&zi(a,!!d.multiple,l,!1)}}}var Vu=!1;function qc(a,l,d){if(Vu)return a(l,d);Vu=!0;try{var p=a(l);return p}finally{if(Vu=!1,(so!==null||Ca!==null)&&(Ap(),so&&(l=so,a=Ca,Ca=so=null,$t(l),a)))for(l=0;l<a.length;l++)$t(a[l])}}function Wr(a,l){var d=a.stateNode;if(d===null)return null;var p=d[Cn]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,l,typeof d));return d}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(xs)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Il=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Il=!1}var bs=null,qu=null,Ol=null;function Hc(){if(Ol)return Ol;var a,l=qu,d=l.length,p,w="value"in bs?bs.value:bs.textContent,A=w.length;for(a=0;a<d&&l[a]===w[a];a++);var R=d-a;for(p=1;p<=R&&l[d-p]===w[A-p];p++);return Ol=w.slice(a,1<p?1-p:void 0)}function ao(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function na(){return!0}function Na(){return!1}function Mr(a){function l(d,p,w,A,R){this._reactName=d,this._targetInst=w,this.type=p,this.nativeEvent=A,this.target=R,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(d=a[$],this[$]=d?d(A):A[$]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?na:Na,this.isPropagationStopped=Na,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),l}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Mr(us),ia=h({},us,{view:0,detail:0}),Gc=Mr(ia),Fl,Bl,lo,cs=h({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==lo&&(lo&&a.type==="mousemove"?(Fl=a.screenX-lo.screenX,Bl=a.screenY-lo.screenY):Bl=Fl=0,lo=a),Fl)},movementY:function(a){return"movementY"in a?a.movementY:Bl}}),ra=Mr(cs),ad=h({},cs,{dataTransfer:0}),uo=Mr(ad),Ds=h({},ia,{relatedTarget:0}),Yo=Mr(Ds),$o=h({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),od=Mr($o),zl=h({},us,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ld=Mr(zl),Hu=h({},us,{data:0}),jl=Mr(Hu),Wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ul={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Gu[a])?!!l[a]:!1}function Vl(){return Wu}var ud=h({},ia,{key:function(a){if(a.key){var l=Wc[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ao(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ul[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(a){return a.type==="keypress"?ao(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ao(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ql=Mr(ud),Jo=h({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=Mr(Jo),co=h({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),Ku=Mr(co),C=h({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=Mr(C),le=h({},cs,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=Mr(le),Ne=h({},us,{newState:0,oldState:0}),Fe=Mr(Ne),Je=[9,13,27,32],ct=xs&&"CompositionEvent"in window,Nt=null;xs&&"documentMode"in document&&(Nt=document.documentMode);var rn=xs&&"TextEvent"in window&&!Nt,Qt=xs&&(!ct||Nt&&8<Nt&&11>=Nt),bn=" ",pi=!1;function wi(a,l){switch(a){case"keyup":return Je.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ui(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Vi=!1;function mr(a,l){switch(a){case"compositionend":return Ui(l);case"keypress":return l.which!==32?null:(pi=!0,bn);case"textInput":return a=l.data,a===bn&&pi?null:a;default:return null}}function Is(a,l){if(Vi)return a==="compositionend"||!ct&&wi(a,l)?(a=Hc(),Ol=qu=bs=null,Vi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Qt&&l.locale!=="ko"?null:l.data;default:return null}}var fs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Os(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!fs[a.type]:l==="textarea"}function Yu(a,l,d,p){so?Ca?Ca.push(p):Ca=[p]:so=p,l=Mp(l,"onChange"),0<l.length&&(d=new oo("onChange","change",null,d,p),a.push({event:d,listeners:l}))}var Ea=null,ka=null;function Gl(a){bv(a,0)}function fo(a){var l=gr(a);if(Ct(l))return a}function Wl(a,l){if(a==="change")return l}var Zo=!1;if(xs){var rr;if(xs){var ho="oninput"in document;if(!ho){var Xo=document.createElement("div");Xo.setAttribute("oninput","return;"),ho=typeof Xo.oninput=="function"}rr=ho}else rr=!1;Zo=rr&&(!document.documentMode||9<document.documentMode)}function Qo(){Ea&&(Ea.detachEvent("onpropertychange",Kl),ka=Ea=null)}function Kl(a){if(a.propertyName==="value"&&fo(ka)){var l=[];Yu(l,ka,a,ji(a)),qc(Gl,l)}}function Kr(a,l,d){a==="focusin"?(Qo(),Ea=l,ka=d,Ea.attachEvent("onpropertychange",Kl)):a==="focusout"&&Qo()}function cd(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return fo(ka)}function $u(a,l){if(a==="click")return fo(l)}function Kc(a,l){if(a==="input"||a==="change")return fo(l)}function ws(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var yr=typeof Object.is=="function"?Object.is:ws;function po(a,l){if(yr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var w=d[p];if(!Qe.call(l,w)||!yr(a[w],l[w]))return!1}return!0}function Ju(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ma(a,l){var d=Ju(a);a=0;for(var p;d;){if(d.nodeType===3){if(p=a+d.textContent.length,a<=l&&p>=l)return{node:d,offset:l-a};a=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ju(d)}}function go(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?go(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Br(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=It(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=It(a.document)}return l}function Cr(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var mo=xs&&"documentMode"in document&&11>=document.documentMode,Yr=null,Fs=null,sa=null,Bs=!1;function Li(a,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Bs||Yr==null||Yr!==It(p)||(p=Yr,"selectionStart"in p&&Cr(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),sa&&po(sa,p)||(sa=p,p=Mp(Fs,"onSelect"),0<p.length&&(l=new oo("onSelect","select",null,l,d),a.push({event:l,listeners:p}),l.target=Yr)))}function zs(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var $i={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},$r={},el={};xs&&(el=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function aa(a){if($r[a])return $r[a];if(!$i[a])return a;var l=$i[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in el)return $r[a]=l[d];return a}var Yl=aa("animationend"),yo=aa("animationiteration"),vo=aa("animationstart"),xo=aa("transitionrun"),tl=aa("transitionstart"),$l=aa("transitioncancel"),bo=aa("transitionend"),La=new Map,nl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nl.push("scrollEnd");function Pi(a,l){La.set(a,l),bi(l,[a])}var ds=new WeakMap;function gn(a,l){if(typeof a=="object"&&a!==null){var d=ds.get(a);return d!==void 0?d:(l={value:a,source:l,stack:ut(l)},ds.set(a,l),l)}return{value:a,source:l,stack:ut(l)}}var mn=[],ii=0,qi=0;function _s(){for(var a=ii,l=qi=ii=0;l<a;){var d=mn[l];mn[l++]=null;var p=mn[l];mn[l++]=null;var w=mn[l];mn[l++]=null;var A=mn[l];if(mn[l++]=null,p!==null&&w!==null){var R=p.pending;R===null?w.next=w:(w.next=R.next,R.next=w),p.pending=w}A!==0&&Yc(d,w,A)}}function wo(a,l,d,p){mn[ii++]=a,mn[ii++]=l,mn[ii++]=d,mn[ii++]=p,qi|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function _o(a,l,d,p){return wo(a,l,d,p),il(a)}function Pa(a,l){return wo(a,null,null,l),il(a)}function Yc(a,l,d){a.lanes|=d;var p=a.alternate;p!==null&&(p.lanes|=d);for(var w=!1,A=a.return;A!==null;)A.childLanes|=d,p=A.alternate,p!==null&&(p.childLanes|=d),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(w=!0)),a=A,A=A.return;return a.tag===3?(A=a.stateNode,w&&l!==null&&(w=31-bt(d),a=A.hiddenUpdates,p=a[w],p===null?a[w]=[l]:p.push(l),l.lane=d|536870912),A):null}function il(a){if(50<Id)throw Id=0,e0=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var vr={};function Ss(a,l,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(a,l,d,p){return new Ss(a,l,d,p)}function Jl(a){return a=a.prototype,!(!a||!a.isReactComponent)}function oa(a,l){var d=a.alternate;return d===null?(d=Lr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Zu(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function rl(a,l,d,p,w,A){var R=0;if(p=a,typeof a=="function")Jl(a)&&(R=1);else if(typeof a=="string")R=xT(a,d,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case ee:return a=Lr(31,d,l,w),a.elementType=ee,a.lanes=A,a;case N:return Ra(d.children,w,A,l);case T:R=8,w|=24;break;case M:return a=Lr(12,d,l,w|2),a.elementType=M,a.lanes=A,a;case H:return a=Lr(13,d,l,w),a.elementType=H,a.lanes=A,a;case K:return a=Lr(19,d,l,w),a.elementType=K,a.lanes=A,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:case I:R=10;break e;case P:R=9;break e;case J:R=11;break e;case X:R=14;break e;case U:R=16,p=null;break e}R=29,d=Error(i(130,a===null?"null":typeof a,"")),p=null}return l=Lr(R,d,l,w),l.elementType=a,l.type=p,l.lanes=A,l}function Ra(a,l,d,p){return a=Lr(7,a,p,l),a.lanes=d,a}function $c(a,l,d){return a=Lr(6,a,null,l),a.lanes=d,a}function Xu(a,l,d){return l=Lr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var So=[],Da=0,Zl=null,Jc=0,As=[],hs=0,sl=null,Ia=1,Oa="";function al(a,l){So[Da++]=Jc,So[Da++]=Zl,Zl=a,Jc=l}function Yh(a,l,d){As[hs++]=Ia,As[hs++]=Oa,As[hs++]=sl,sl=a;var p=Ia;a=Oa;var w=32-bt(p)-1;p&=~(1<<w),d+=1;var A=32-bt(l)+w;if(30<A){var R=w-w%5;A=(p&(1<<R)-1).toString(32),p>>=R,w-=R,Ia=1<<32-bt(l)+w|d<<w|p,Oa=A+a}else Ia=1<<A|d<<w|p,Oa=a}function Qu(a){a.return!==null&&(al(a,1),Yh(a,1,0))}function ec(a){for(;a===Zl;)Zl=So[--Da],So[Da]=null,Jc=So[--Da],So[Da]=null;for(;a===sl;)sl=As[--hs],As[hs]=null,Oa=As[--hs],As[hs]=null,Ia=As[--hs],As[hs]=null}var sr=null,Ri=null,jn=!1,Ao=null,la=!1,fd=Error(i(519));function ol(a){var l=Error(i(418,""));throw Xl(gn(l,a)),fd}function $h(a){var l=a.stateNode,d=a.type,p=a.memoizedProps;switch(l[In]=a,l[Cn]=p,d){case"dialog":_n("cancel",l),_n("close",l);break;case"iframe":case"object":case"embed":_n("load",l);break;case"video":case"audio":for(d=0;d<Fd.length;d++)_n(Fd[d],l);break;case"source":_n("error",l);break;case"img":case"image":case"link":_n("error",l),_n("load",l);break;case"details":_n("toggle",l);break;case"input":_n("invalid",l),hi(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),ht(l);break;case"select":_n("invalid",l);break;case"textarea":_n("invalid",l),vn(l,p.value,p.defaultValue,p.children),ht(l)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||Av(l.textContent,d)?(p.popover!=null&&(_n("beforetoggle",l),_n("toggle",l)),p.onScroll!=null&&_n("scroll",l),p.onScrollEnd!=null&&_n("scrollend",l),p.onClick!=null&&(l.onclick=Lp),l=!0):l=!1,l||ol(a)}function Fa(a){for(sr=a.return;sr;)switch(sr.tag){case 5:case 13:la=!1;return;case 27:case 3:la=!0;return;default:sr=sr.return}}function zr(a){if(a!==sr)return!1;if(!jn)return Fa(a),jn=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||m0(a.type,a.memoizedProps)),d=!d),d&&Ri&&ol(a),Fa(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){Ri=Ga(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}Ri=null}}else l===27?(l=Ri,gu(a.type)?(a=b0,b0=null,Ri=a):Ri=l):Ri=sr?Ga(a.stateNode.nextSibling):null;return!0}function ps(){Ri=sr=null,jn=!1}function Jh(){var a=Ao;return a!==null&&(Ns===null?Ns=a:Ns.push.apply(Ns,a),Ao=null),a}function Xl(a){Ao===null?Ao=[a]:Ao.push(a)}var ua=me(null),xr=null,Ba=null;function To(a,l,d){Y(ua,l._currentValue),l._currentValue=d}function ca(a){a._currentValue=ua.current,D(ua)}function Zc(a,l,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===d)break;a=a.return}}function Xc(a,l,d,p){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var A=w.dependencies;if(A!==null){var R=w.child;A=A.firstContext;e:for(;A!==null;){var $=A;A=w;for(var he=0;he<l.length;he++)if($.context===l[he]){A.lanes|=d,$=A.alternate,$!==null&&($.lanes|=d),Zc(A.return,d,a),p||(R=null);break e}A=$.next}}else if(w.tag===18){if(R=w.return,R===null)throw Error(i(341));R.lanes|=d,A=R.alternate,A!==null&&(A.lanes|=d),Zc(R,d,a),R=null}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===a){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}}function Ql(a,l,d,p){a=null;for(var w=l,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var R=w.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var $=w.type;yr(w.pendingProps.value,R.value)||(a!==null?a.push($):a=[$])}}else if(w===ye.current){if(R=w.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(qd):a=[qd])}w=w.return}a!==null&&Xc(l,a,d,p),l.flags|=262144}function Qc(a){for(a=a.firstContext;a!==null;){if(!yr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function fa(a){xr=a,Ba=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ar(a){return ef(xr,a)}function Co(a,l){return xr===null&&fa(a),ef(a,l)}function ef(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ba===null){if(a===null)throw Error(i(308));Ba=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Ba=Ba.next=l;return d}var Tm=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},Zh=n.unstable_scheduleCallback,Cm=n.unstable_NormalPriority,or={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dd(){return{controller:new Tm,data:new Map,refCount:0}}function tc(a){a.refCount--,a.refCount===0&&Zh(Cm,function(){a.controller.abort()})}var nc=null,hd=0,ll=0,za=null;function Nm(a,l){if(nc===null){var d=nc=[];hd=0,ll=o0(),za={status:"pending",value:void 0,then:function(p){d.push(p)}}}return hd++,l.then(Xh,Xh),l}function Xh(){if(--hd===0&&nc!==null){za!==null&&(za.status="fulfilled");var a=nc;nc=null,ll=0,za=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Qh(a,l){var d=[],p={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var w=0;w<d.length;w++)(0,d[w])(l)},function(w){for(p.status="rejected",p.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),p}var v=G.S;G.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Nm(a,l),v!==null&&v(a,l)};var _=me(null);function E(){var a=_.current;return a!==null?a:mi.pooledCache}function L(a,l){l===null?Y(_,_.current):Y(_,l.pool)}function O(){var a=E();return a===null?null:{parent:or._currentValue,pool:a}}var z=Error(i(460)),V=Error(i(474)),W=Error(i(542)),Z={then:function(){}};function se(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ve(){}function Le(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(ve,ve),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,He(a),a;default:if(typeof l.status=="string")l.then(ve,ve);else{if(a=mi,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=p}},function(p){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,He(a),a}throw ke=l,z}}var ke=null;function Ae(){if(ke===null)throw Error(i(459));var a=ke;return ke=null,a}function He(a){if(a===z||a===W)throw Error(i(483))}var Oe=!1;function xe(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _e(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Be(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ge(a,l,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Zn&2)!==0){var w=p.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),p.pending=l,l=il(a),Yc(a,null,d),l}return wo(a,p,l,d),il(a)}function Ue(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,d|=p,l.lanes=d,Dt(a,d)}}function ft(a,l){var d=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var w=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};A===null?w=A=R:A=A.next=R,d=d.next}while(d!==null);A===null?w=A=l:A=A.next=l}else w=A=l;d={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:p.shared,callbacks:p.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var rt=!1;function Lt(){if(rt){var a=za;if(a!==null)throw a}}function at(a,l,d,p){rt=!1;var w=a.updateQueue;Oe=!1;var A=w.firstBaseUpdate,R=w.lastBaseUpdate,$=w.shared.pending;if($!==null){w.shared.pending=null;var he=$,Pe=he.next;he.next=null,R===null?A=Pe:R.next=Pe,R=he;var ze=a.alternate;ze!==null&&(ze=ze.updateQueue,$=ze.lastBaseUpdate,$!==R&&($===null?ze.firstBaseUpdate=Pe:$.next=Pe,ze.lastBaseUpdate=he))}if(A!==null){var We=w.baseState;R=0,ze=Pe=he=null,$=A;do{var Re=$.lane&-536870913,Ie=Re!==$.lane;if(Ie?(zn&Re)===Re:(p&Re)===Re){Re!==0&&Re===ll&&(rt=!0),ze!==null&&(ze=ze.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Jt=a,Ut=$;Re=l;var si=d;switch(Ut.tag){case 1:if(Jt=Ut.payload,typeof Jt=="function"){We=Jt.call(si,We,Re);break e}We=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=Ut.payload,Re=typeof Jt=="function"?Jt.call(si,We,Re):Jt,Re==null)break e;We=h({},We,Re);break e;case 2:Oe=!0}}Re=$.callback,Re!==null&&(a.flags|=64,Ie&&(a.flags|=8192),Ie=w.callbacks,Ie===null?w.callbacks=[Re]:Ie.push(Re))}else Ie={lane:Re,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ze===null?(Pe=ze=Ie,he=We):ze=ze.next=Ie,R|=Re;if($=$.next,$===null){if($=w.shared.pending,$===null)break;Ie=$,$=Ie.next,Ie.next=null,w.lastBaseUpdate=Ie,w.shared.pending=null}}while(!0);ze===null&&(he=We),w.baseState=he,w.firstBaseUpdate=Pe,w.lastBaseUpdate=ze,A===null&&(w.shared.lanes=0),fu|=R,a.lanes=R,a.memoizedState=We}}function Fn(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function Un(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Fn(d[a],l)}var fn=me(null),ln=me(0);function Kn(a,l){a=vl,Y(ln,a),Y(fn,l),vl=a|l.baseLanes}function Vn(){Y(ln,vl),Y(fn,fn.current)}function tn(){vl=ln.current,D(fn),D(ln)}var Jn=0,Bt=null,Gt=null,Ln=null,Bn=!1,br=!1,lr=!1,Hi=0,Gi=0,Ji=null,Ts=0;function qn(){throw Error(i(321))}function Zi(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!yr(a[d],l[d]))return!1;return!0}function js(a,l,d,p,w,A){return Jn=A,Bt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,G.H=a===null||a.memoizedState===null?ry:sy,lr=!1,A=d(p,w),lr=!1,br&&(A=ul(l,d,p,w)),No(a),A}function No(a){G.H=fp;var l=Gt!==null&&Gt.next!==null;if(Jn=0,Ln=Gt=Bt=null,Bn=!1,Gi=0,Ji=null,l)throw Error(i(300));a===null||Pr||(a=a.dependencies,a!==null&&Qc(a)&&(Pr=!0))}function ul(a,l,d,p){Bt=a;var w=0;do{if(br&&(Ji=null),Gi=0,br=!1,25<=w)throw Error(i(301));if(w+=1,Ln=Gt=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}G.H=MA,A=l(d,p)}while(br);return A}function Eo(){var a=G.H,l=a.useState()[0];return l=typeof l.then=="function"?ko(l):l,a=a.useState()[0],(Gt!==null?Gt.memoizedState:null)!==a&&(Bt.flags|=1024),l}function gi(){var a=Hi!==0;return Hi=0,a}function ic(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function tf(a){if(Bn){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Bn=!1}Jn=0,Ln=Gt=Bt=null,br=!1,Gi=Hi=0,Ji=null}function jr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Bt.memoizedState=Ln=a:Ln=Ln.next=a,Ln}function _i(){if(Gt===null){var a=Bt.alternate;a=a!==null?a.memoizedState:null}else a=Gt.next;var l=Ln===null?Bt.memoizedState:Ln.next;if(l!==null)Ln=l,Gt=a;else{if(a===null)throw Bt.alternate===null?Error(i(467)):Error(i(310));Gt=a,a={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Ln===null?Bt.memoizedState=Ln=a:Ln=Ln.next=a}return Ln}function cl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(a){var l=Gi;return Gi+=1,Ji===null&&(Ji=[]),a=Le(Ji,a,l),l=Bt,(Ln===null?l.memoizedState:Ln.next)===null&&(l=l.alternate,G.H=l===null||l.memoizedState===null?ry:sy),a}function Jr(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ko(a);if(a.$$typeof===I)return ar(a)}throw Error(i(438,String(a)))}function Mo(a){var l=null,d=Bt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=Bt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=cl(),Bt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),p=0;p<a;p++)d[p]=de;return l.index++,d}function Zr(a,l){return typeof l=="function"?l(a):l}function rc(a){var l=_i();return eu(l,Gt,a)}function eu(a,l,d){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=d;var w=a.baseQueue,A=p.pending;if(A!==null){if(w!==null){var R=w.next;w.next=A.next,A.next=R}l.baseQueue=w=A,p.pending=null}if(A=a.baseState,w===null)a.memoizedState=A;else{l=w.next;var $=R=null,he=null,Pe=l,ze=!1;do{var We=Pe.lane&-536870913;if(We!==Pe.lane?(zn&We)===We:(Jn&We)===We){var Re=Pe.revertLane;if(Re===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),We===ll&&(ze=!0);else if((Jn&Re)===Re){Pe=Pe.next,Re===ll&&(ze=!0);continue}else We={lane:0,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},he===null?($=he=We,R=A):he=he.next=We,Bt.lanes|=Re,fu|=Re;We=Pe.action,lr&&d(A,We),A=Pe.hasEagerState?Pe.eagerState:d(A,We)}else Re={lane:We,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},he===null?($=he=Re,R=A):he=he.next=Re,Bt.lanes|=We,fu|=We;Pe=Pe.next}while(Pe!==null&&Pe!==l);if(he===null?R=A:he.next=$,!yr(A,a.memoizedState)&&(Pr=!0,ze&&(d=za,d!==null)))throw d;a.memoizedState=A,a.baseState=R,a.baseQueue=he,p.lastRenderedState=A}return w===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function nf(a){var l=_i(),d=l.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var p=d.dispatch,w=d.pending,A=l.memoizedState;if(w!==null){d.pending=null;var R=w=w.next;do A=a(A,R.action),R=R.next;while(R!==w);yr(A,l.memoizedState)||(Pr=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),d.lastRenderedState=A}return[A,p]}function sc(a,l,d){var p=Bt,w=_i(),A=jn;if(A){if(d===void 0)throw Error(i(407));d=d()}else d=l();var R=!yr((Gt||w).memoizedState,d);R&&(w.memoizedState=d,Pr=!0),w=w.queue;var $=tu.bind(null,p,w,a);if(ru(2048,8,$,[a]),w.getSnapshot!==l||R||Ln!==null&&Ln.memoizedState.tag&1){if(p.flags|=2048,Ua(9,uc(),ac.bind(null,p,w,d,l),null),mi===null)throw Error(i(349));A||(Jn&124)!==0||rf(p,l,d)}return d}function rf(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Bt.updateQueue,l===null?(l=cl(),Bt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function ac(a,l,d,p){l.value=d,l.getSnapshot=p,ep(l)&&tp(a)}function tu(a,l,d){return d(function(){ep(l)&&tp(a)})}function ep(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!yr(a,d)}catch{return!0}}function tp(a){var l=Pa(a,2);l!==null&&Ws(l,a,2)}function oc(a){var l=jr();if(typeof a=="function"){var d=a;if(a=d(),lr){Yt(!0);try{d()}finally{Yt(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:a},l}function ja(a,l,d,p){return a.baseState=d,eu(a,Gt,typeof p=="function"?p:Zr)}function Em(a,l,d,p,w){if(cp(a))throw Error(i(485));if(a=l.action,a!==null){var A={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){A.listeners.push(R)}};G.T!==null?d(!0):A.isTransition=!1,p(A),d=l.pending,d===null?(A.next=l.pending=A,np(l,A)):(A.next=d.next,l.pending=d.next=A)}}function np(a,l){var d=l.action,p=l.payload,w=a.state;if(l.isTransition){var A=G.T,R={};G.T=R;try{var $=d(w,p),he=G.S;he!==null&&he(R,$),ip(a,l,$)}catch(Pe){nu(a,l,Pe)}finally{G.T=A}}else try{A=d(w,p),ip(a,l,A)}catch(Pe){nu(a,l,Pe)}}function ip(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){pd(a,l,p)},function(p){return nu(a,l,p)}):pd(a,l,d)}function pd(a,l,d){l.status="fulfilled",l.value=d,gd(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,np(a,d)))}function nu(a,l,d){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,gd(l),l=l.next;while(l!==p)}a.action=null}function gd(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function md(a,l){return l}function lc(a,l){if(jn){var d=mi.formState;if(d!==null){e:{var p=Bt;if(jn){if(Ri){t:{for(var w=Ri,A=la;w.nodeType!==8;){if(!A){w=null;break t}if(w=Ga(w.nextSibling),w===null){w=null;break t}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){Ri=Ga(w.nextSibling),p=w.data==="F!";break e}}ol(p)}p=!1}p&&(l=d[0])}}return d=jr(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:l},d.queue=p,d=ty.bind(null,Bt,p),p.dispatch=d,p=oc(!1),A=km.bind(null,Bt,!1,p.queue),p=jr(),w={state:l,dispatch:null,action:a,pending:null},p.queue=w,d=Em.bind(null,Bt,w,A,d),w.dispatch=d,p.memoizedState=a,[l,d,!1]}function sf(a){var l=_i();return iu(l,Gt,a)}function iu(a,l,d){if(l=eu(a,l,md)[0],a=rc(Zr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=ko(l)}catch(R){throw R===z?W:R}else p=l;l=_i();var w=l.queue,A=w.dispatch;return d!==l.memoizedState&&(Bt.flags|=2048,Ua(9,uc(),rp.bind(null,w,d),null)),[p,A,a]}function rp(a,l){a.action=l}function sp(a){var l=_i(),d=Gt;if(d!==null)return iu(l,d,a);_i(),l=l.memoizedState,d=_i();var p=d.queue.dispatch;return d.memoizedState=a,[l,p,!1]}function Ua(a,l,d,p){return a={tag:a,create:d,deps:p,inst:l,next:null},l=Bt.updateQueue,l===null&&(l=cl(),Bt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,l.lastEffect=a),a}function uc(){return{destroy:void 0,resource:void 0}}function af(){return _i().memoizedState}function Us(a,l,d,p){var w=jr();p=p===void 0?null:p,Bt.flags|=a,w.memoizedState=Ua(1|l,uc(),d,p)}function ru(a,l,d,p){var w=_i();p=p===void 0?null:p;var A=w.memoizedState.inst;Gt!==null&&p!==null&&Zi(p,Gt.memoizedState.deps)?w.memoizedState=Ua(l,A,d,p):(Bt.flags|=a,w.memoizedState=Ua(1|l,A,d,p))}function yd(a,l){Us(8390656,8,a,l)}function ap(a,l){ru(2048,8,a,l)}function vd(a,l){return ru(4,2,a,l)}function fl(a,l){return ru(4,4,a,l)}function op(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function xd(a,l,d){d=d!=null?d.concat([a]):null,ru(4,4,op.bind(null,l,a),d)}function bd(){}function wd(a,l){var d=_i();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&Zi(l,p[1])?p[0]:(d.memoizedState=[a,l],a)}function lp(a,l){var d=_i();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&Zi(l,p[1]))return p[0];if(p=a(),lr){Yt(!0);try{a()}finally{Yt(!1)}}return d.memoizedState=[p,l],p}function dl(a,l,d){return d===void 0||(Jn&1073741824)!==0?a.memoizedState=l:(a.memoizedState=d,a=Zy(),Bt.lanes|=a,fu|=a,d)}function of(a,l,d,p){return yr(d,l)?d:fn.current!==null?(a=dl(a,d,p),yr(a,l)||(Pr=!0),a):(Jn&42)===0?(Pr=!0,a.memoizedState=d):(a=Zy(),Bt.lanes|=a,fu|=a,l)}function cc(a,l,d,p,w){var A=te.p;te.p=A!==0&&8>A?A:8;var R=G.T,$={};G.T=$,km(a,!1,l,d);try{var he=w(),Pe=G.S;if(Pe!==null&&Pe($,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var ze=Qh(he,p);Td(a,l,ze,Gs(a))}else Td(a,l,p,Gs(a))}catch(We){Td(a,l,{then:function(){},status:"rejected",reason:We},Gs())}finally{te.p=A,G.T=R}}function Va(){}function da(a,l,d,p){if(a.tag!==5)throw Error(i(476));var w=qa(a).queue;cc(a,w,l,ae,d===null?Va:function(){return fc(a),d(p)})}function qa(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:ae},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function fc(a){var l=qa(a).next.queue;Td(a,l,{},Gs())}function dc(){return ar(qd)}function _d(){return _i().memoizedState}function up(){return _i().memoizedState}function Sd(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=Gs();a=Be(d);var p=Ge(l,a,d);p!==null&&(Ws(p,l,d),Ue(p,l,d)),l={cache:dd()},a.payload=l;return}l=l.return}}function Ad(a,l,d){var p=Gs();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},cp(a)?ny(l,d):(d=_o(a,l,d,p),d!==null&&(Ws(d,a,p),iy(d,l,p)))}function ty(a,l,d){var p=Gs();Td(a,l,d,p)}function Td(a,l,d,p){var w={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(cp(a))ny(l,w);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var R=l.lastRenderedState,$=A(R,d);if(w.hasEagerState=!0,w.eagerState=$,yr($,R))return wo(a,l,w,0),mi===null&&_s(),!1}catch{}finally{}if(d=_o(a,l,w,p),d!==null)return Ws(d,a,p),iy(d,l,p),!0}return!1}function km(a,l,d,p){if(p={lane:2,revertLane:o0(),action:p,hasEagerState:!1,eagerState:null,next:null},cp(a)){if(l)throw Error(i(479))}else l=_o(a,d,p,2),l!==null&&Ws(l,a,2)}function cp(a){var l=a.alternate;return a===Bt||l!==null&&l===Bt}function ny(a,l){br=Bn=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function iy(a,l,d){if((d&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,d|=p,l.lanes=d,Dt(a,d)}}var fp={readContext:ar,use:Jr,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useLayoutEffect:qn,useInsertionEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useSyncExternalStore:qn,useId:qn,useHostTransitionStatus:qn,useFormState:qn,useActionState:qn,useOptimistic:qn,useMemoCache:qn,useCacheRefresh:qn},ry={readContext:ar,use:Jr,useCallback:function(a,l){return jr().memoizedState=[a,l===void 0?null:l],a},useContext:ar,useEffect:yd,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Us(4194308,4,op.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Us(4194308,4,a,l)},useInsertionEffect:function(a,l){Us(4,2,a,l)},useMemo:function(a,l){var d=jr();l=l===void 0?null:l;var p=a();if(lr){Yt(!0);try{a()}finally{Yt(!1)}}return d.memoizedState=[p,l],p},useReducer:function(a,l,d){var p=jr();if(d!==void 0){var w=d(l);if(lr){Yt(!0);try{d(l)}finally{Yt(!1)}}}else w=l;return p.memoizedState=p.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},p.queue=a,a=a.dispatch=Ad.bind(null,Bt,a),[p.memoizedState,a]},useRef:function(a){var l=jr();return a={current:a},l.memoizedState=a},useState:function(a){a=oc(a);var l=a.queue,d=ty.bind(null,Bt,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:bd,useDeferredValue:function(a,l){var d=jr();return dl(d,a,l)},useTransition:function(){var a=oc(!1);return a=cc.bind(null,Bt,a.queue,!0,!1),jr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var p=Bt,w=jr();if(jn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=l(),mi===null)throw Error(i(349));(zn&124)!==0||rf(p,l,d)}w.memoizedState=d;var A={value:d,getSnapshot:l};return w.queue=A,yd(tu.bind(null,p,A,a),[a]),p.flags|=2048,Ua(9,uc(),ac.bind(null,p,A,d,l),null),d},useId:function(){var a=jr(),l=mi.identifierPrefix;if(jn){var d=Oa,p=Ia;d=(p&~(1<<32-bt(p)-1)).toString(32)+d,l="«"+l+"R"+d,d=Hi++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=Ts++,l="«"+l+"r"+d.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:dc,useFormState:lc,useActionState:lc,useOptimistic:function(a){var l=jr();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=km.bind(null,Bt,!0,d),d.dispatch=l,[a,l]},useMemoCache:Mo,useCacheRefresh:function(){return jr().memoizedState=Sd.bind(null,Bt)}},sy={readContext:ar,use:Jr,useCallback:wd,useContext:ar,useEffect:ap,useImperativeHandle:xd,useInsertionEffect:vd,useLayoutEffect:fl,useMemo:lp,useReducer:rc,useRef:af,useState:function(){return rc(Zr)},useDebugValue:bd,useDeferredValue:function(a,l){var d=_i();return of(d,Gt.memoizedState,a,l)},useTransition:function(){var a=rc(Zr)[0],l=_i().memoizedState;return[typeof a=="boolean"?a:ko(a),l]},useSyncExternalStore:sc,useId:_d,useHostTransitionStatus:dc,useFormState:sf,useActionState:sf,useOptimistic:function(a,l){var d=_i();return ja(d,Gt,a,l)},useMemoCache:Mo,useCacheRefresh:up},MA={readContext:ar,use:Jr,useCallback:wd,useContext:ar,useEffect:ap,useImperativeHandle:xd,useInsertionEffect:vd,useLayoutEffect:fl,useMemo:lp,useReducer:nf,useRef:af,useState:function(){return nf(Zr)},useDebugValue:bd,useDeferredValue:function(a,l){var d=_i();return Gt===null?dl(d,a,l):of(d,Gt.memoizedState,a,l)},useTransition:function(){var a=nf(Zr)[0],l=_i().memoizedState;return[typeof a=="boolean"?a:ko(a),l]},useSyncExternalStore:sc,useId:_d,useHostTransitionStatus:dc,useFormState:sp,useActionState:sp,useOptimistic:function(a,l){var d=_i();return Gt!==null?ja(d,Gt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:Mo,useCacheRefresh:up},lf=null,Cd=0;function dp(a){var l=Cd;return Cd+=1,lf===null&&(lf=[]),Le(lf,a,l)}function Nd(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function hp(a,l){throw l.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function ay(a){var l=a._init;return l(a._payload)}function oy(a){function l(Te,be){if(a){var Me=Te.deletions;Me===null?(Te.deletions=[be],Te.flags|=16):Me.push(be)}}function d(Te,be){if(!a)return null;for(;be!==null;)l(Te,be),be=be.sibling;return null}function p(Te){for(var be=new Map;Te!==null;)Te.key!==null?be.set(Te.key,Te):be.set(Te.index,Te),Te=Te.sibling;return be}function w(Te,be){return Te=oa(Te,be),Te.index=0,Te.sibling=null,Te}function A(Te,be,Me){return Te.index=Me,a?(Me=Te.alternate,Me!==null?(Me=Me.index,Me<be?(Te.flags|=67108866,be):Me):(Te.flags|=67108866,be)):(Te.flags|=1048576,be)}function R(Te){return a&&Te.alternate===null&&(Te.flags|=67108866),Te}function $(Te,be,Me,Ve){return be===null||be.tag!==6?(be=$c(Me,Te.mode,Ve),be.return=Te,be):(be=w(be,Me),be.return=Te,be)}function he(Te,be,Me,Ve){var St=Me.type;return St===N?ze(Te,be,Me.props.children,Ve,Me.key):be!==null&&(be.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===U&&ay(St)===be.type)?(be=w(be,Me.props),Nd(be,Me),be.return=Te,be):(be=rl(Me.type,Me.key,Me.props,null,Te.mode,Ve),Nd(be,Me),be.return=Te,be)}function Pe(Te,be,Me,Ve){return be===null||be.tag!==4||be.stateNode.containerInfo!==Me.containerInfo||be.stateNode.implementation!==Me.implementation?(be=Xu(Me,Te.mode,Ve),be.return=Te,be):(be=w(be,Me.children||[]),be.return=Te,be)}function ze(Te,be,Me,Ve,St){return be===null||be.tag!==7?(be=Ra(Me,Te.mode,Ve,St),be.return=Te,be):(be=w(be,Me),be.return=Te,be)}function We(Te,be,Me){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=$c(""+be,Te.mode,Me),be.return=Te,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case b:return Me=rl(be.type,be.key,be.props,null,Te.mode,Me),Nd(Me,be),Me.return=Te,Me;case x:return be=Xu(be,Te.mode,Me),be.return=Te,be;case U:var Ve=be._init;return be=Ve(be._payload),We(Te,be,Me)}if(ie(be)||q(be))return be=Ra(be,Te.mode,Me,null),be.return=Te,be;if(typeof be.then=="function")return We(Te,dp(be),Me);if(be.$$typeof===I)return We(Te,Co(Te,be),Me);hp(Te,be)}return null}function Re(Te,be,Me,Ve){var St=be!==null?be.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return St!==null?null:$(Te,be,""+Me,Ve);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:return Me.key===St?he(Te,be,Me,Ve):null;case x:return Me.key===St?Pe(Te,be,Me,Ve):null;case U:return St=Me._init,Me=St(Me._payload),Re(Te,be,Me,Ve)}if(ie(Me)||q(Me))return St!==null?null:ze(Te,be,Me,Ve,null);if(typeof Me.then=="function")return Re(Te,be,dp(Me),Ve);if(Me.$$typeof===I)return Re(Te,be,Co(Te,Me),Ve);hp(Te,Me)}return null}function Ie(Te,be,Me,Ve,St){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Te=Te.get(Me)||null,$(be,Te,""+Ve,St);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case b:return Te=Te.get(Ve.key===null?Me:Ve.key)||null,he(be,Te,Ve,St);case x:return Te=Te.get(Ve.key===null?Me:Ve.key)||null,Pe(be,Te,Ve,St);case U:var xn=Ve._init;return Ve=xn(Ve._payload),Ie(Te,be,Me,Ve,St)}if(ie(Ve)||q(Ve))return Te=Te.get(Me)||null,ze(be,Te,Ve,St,null);if(typeof Ve.then=="function")return Ie(Te,be,Me,dp(Ve),St);if(Ve.$$typeof===I)return Ie(Te,be,Me,Co(be,Ve),St);hp(be,Ve)}return null}function Jt(Te,be,Me,Ve){for(var St=null,xn=null,Rt=be,qt=be=0,Dr=null;Rt!==null&&qt<Me.length;qt++){Rt.index>qt?(Dr=Rt,Rt=null):Dr=Rt.sibling;var Hn=Re(Te,Rt,Me[qt],Ve);if(Hn===null){Rt===null&&(Rt=Dr);break}a&&Rt&&Hn.alternate===null&&l(Te,Rt),be=A(Hn,be,qt),xn===null?St=Hn:xn.sibling=Hn,xn=Hn,Rt=Dr}if(qt===Me.length)return d(Te,Rt),jn&&al(Te,qt),St;if(Rt===null){for(;qt<Me.length;qt++)Rt=We(Te,Me[qt],Ve),Rt!==null&&(be=A(Rt,be,qt),xn===null?St=Rt:xn.sibling=Rt,xn=Rt);return jn&&al(Te,qt),St}for(Rt=p(Rt);qt<Me.length;qt++)Dr=Ie(Rt,Te,qt,Me[qt],Ve),Dr!==null&&(a&&Dr.alternate!==null&&Rt.delete(Dr.key===null?qt:Dr.key),be=A(Dr,be,qt),xn===null?St=Dr:xn.sibling=Dr,xn=Dr);return a&&Rt.forEach(function(bu){return l(Te,bu)}),jn&&al(Te,qt),St}function Ut(Te,be,Me,Ve){if(Me==null)throw Error(i(151));for(var St=null,xn=null,Rt=be,qt=be=0,Dr=null,Hn=Me.next();Rt!==null&&!Hn.done;qt++,Hn=Me.next()){Rt.index>qt?(Dr=Rt,Rt=null):Dr=Rt.sibling;var bu=Re(Te,Rt,Hn.value,Ve);if(bu===null){Rt===null&&(Rt=Dr);break}a&&Rt&&bu.alternate===null&&l(Te,Rt),be=A(bu,be,qt),xn===null?St=bu:xn.sibling=bu,xn=bu,Rt=Dr}if(Hn.done)return d(Te,Rt),jn&&al(Te,qt),St;if(Rt===null){for(;!Hn.done;qt++,Hn=Me.next())Hn=We(Te,Hn.value,Ve),Hn!==null&&(be=A(Hn,be,qt),xn===null?St=Hn:xn.sibling=Hn,xn=Hn);return jn&&al(Te,qt),St}for(Rt=p(Rt);!Hn.done;qt++,Hn=Me.next())Hn=Ie(Rt,Te,qt,Hn.value,Ve),Hn!==null&&(a&&Hn.alternate!==null&&Rt.delete(Hn.key===null?qt:Hn.key),be=A(Hn,be,qt),xn===null?St=Hn:xn.sibling=Hn,xn=Hn);return a&&Rt.forEach(function(LT){return l(Te,LT)}),jn&&al(Te,qt),St}function si(Te,be,Me,Ve){if(typeof Me=="object"&&Me!==null&&Me.type===N&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:e:{for(var St=Me.key;be!==null;){if(be.key===St){if(St=Me.type,St===N){if(be.tag===7){d(Te,be.sibling),Ve=w(be,Me.props.children),Ve.return=Te,Te=Ve;break e}}else if(be.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===U&&ay(St)===be.type){d(Te,be.sibling),Ve=w(be,Me.props),Nd(Ve,Me),Ve.return=Te,Te=Ve;break e}d(Te,be);break}else l(Te,be);be=be.sibling}Me.type===N?(Ve=Ra(Me.props.children,Te.mode,Ve,Me.key),Ve.return=Te,Te=Ve):(Ve=rl(Me.type,Me.key,Me.props,null,Te.mode,Ve),Nd(Ve,Me),Ve.return=Te,Te=Ve)}return R(Te);case x:e:{for(St=Me.key;be!==null;){if(be.key===St)if(be.tag===4&&be.stateNode.containerInfo===Me.containerInfo&&be.stateNode.implementation===Me.implementation){d(Te,be.sibling),Ve=w(be,Me.children||[]),Ve.return=Te,Te=Ve;break e}else{d(Te,be);break}else l(Te,be);be=be.sibling}Ve=Xu(Me,Te.mode,Ve),Ve.return=Te,Te=Ve}return R(Te);case U:return St=Me._init,Me=St(Me._payload),si(Te,be,Me,Ve)}if(ie(Me))return Jt(Te,be,Me,Ve);if(q(Me)){if(St=q(Me),typeof St!="function")throw Error(i(150));return Me=St.call(Me),Ut(Te,be,Me,Ve)}if(typeof Me.then=="function")return si(Te,be,dp(Me),Ve);if(Me.$$typeof===I)return si(Te,be,Co(Te,Me),Ve);hp(Te,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,be!==null&&be.tag===6?(d(Te,be.sibling),Ve=w(be,Me),Ve.return=Te,Te=Ve):(d(Te,be),Ve=$c(Me,Te.mode,Ve),Ve.return=Te,Te=Ve),R(Te)):d(Te,be)}return function(Te,be,Me,Ve){try{Cd=0;var St=si(Te,be,Me,Ve);return lf=null,St}catch(Rt){if(Rt===z||Rt===W)throw Rt;var xn=Lr(29,Rt,null,Te.mode);return xn.lanes=Ve,xn.return=Te,xn}finally{}}}var uf=oy(!0),ly=oy(!1),ha=me(null),Lo=null;function su(a){var l=a.alternate;Y(Nr,Nr.current&1),Y(ha,a),Lo===null&&(l===null||fn.current!==null||l.memoizedState!==null)&&(Lo=a)}function uy(a){if(a.tag===22){if(Y(Nr,Nr.current),Y(ha,a),Lo===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Lo=a)}}else au()}function au(){Y(Nr,Nr.current),Y(ha,ha.current)}function hl(a){D(ha),Lo===a&&(Lo=null),D(Nr)}var Nr=me(0);function pp(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||x0(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Mm(a,l,d,p){l=a.memoizedState,d=d(p,l),d=d==null?l:h({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Lm={enqueueSetState:function(a,l,d){a=a._reactInternals;var p=Gs(),w=Be(p);w.payload=l,d!=null&&(w.callback=d),l=Ge(a,w,p),l!==null&&(Ws(l,a,p),Ue(l,a,p))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var p=Gs(),w=Be(p);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=Ge(a,w,p),l!==null&&(Ws(l,a,p),Ue(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Gs(),p=Be(d);p.tag=2,l!=null&&(p.callback=l),l=Ge(a,p,d),l!==null&&(Ws(l,a,d),Ue(l,a,d))}};function cy(a,l,d,p,w,A,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,A,R):l.prototype&&l.prototype.isPureReactComponent?!po(d,p)||!po(w,A):!0}function fy(a,l,d,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==a&&Lm.enqueueReplaceState(l,l.state,null)}function hc(a,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(a=a.defaultProps){d===l&&(d=h({},d));for(var w in a)d[w]===void 0&&(d[w]=a[w])}return d}var gp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function dy(a){gp(a)}function hy(a){console.error(a)}function py(a){gp(a)}function mp(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function gy(a,l,d){try{var p=a.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Pm(a,l,d){return d=Be(d),d.tag=3,d.payload={element:null},d.callback=function(){mp(a,l)},d}function my(a){return a=Be(a),a.tag=3,a}function yy(a,l,d,p){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var A=p.value;a.payload=function(){return w(A)},a.callback=function(){gy(l,d,p)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){gy(l,d,p),typeof w!="function"&&(du===null?du=new Set([this]):du.add(this));var $=p.stack;this.componentDidCatch(p.value,{componentStack:$!==null?$:""})})}function LA(a,l,d,p,w){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&Ql(l,d,w,!0),d=ha.current,d!==null){switch(d.tag){case 13:return Lo===null?n0():d.alternate===null&&Xi===0&&(Xi=3),d.flags&=-257,d.flags|=65536,d.lanes=w,p===Z?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),r0(a,p,w)),!1;case 22:return d.flags|=65536,p===Z?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),r0(a,p,w)),!1}throw Error(i(435,d.tag))}return r0(a,p,w),n0(),!1}if(jn)return l=ha.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,p!==fd&&(a=Error(i(422),{cause:p}),Xl(gn(a,d)))):(p!==fd&&(l=Error(i(423),{cause:p}),Xl(gn(l,d))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,p=gn(p,d),w=Pm(a.stateNode,p,w),ft(a,w),Xi!==4&&(Xi=2)),!1;var A=Error(i(520),{cause:p});if(A=gn(A,d),Dd===null?Dd=[A]:Dd.push(A),Xi!==4&&(Xi=2),l===null)return!0;p=gn(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=w&-w,d.lanes|=a,a=Pm(d.stateNode,p,a),ft(d,a),!1;case 1:if(l=d.type,A=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(du===null||!du.has(A))))return d.flags|=65536,w&=-w,d.lanes|=w,w=my(w),yy(w,a,d,p),ft(d,w),!1}d=d.return}while(d!==null);return!1}var vy=Error(i(461)),Pr=!1;function Ur(a,l,d,p){l.child=a===null?ly(l,null,d,p):uf(l,a.child,d,p)}function xy(a,l,d,p,w){d=d.render;var A=l.ref;if("ref"in p){var R={};for(var $ in p)$!=="ref"&&(R[$]=p[$])}else R=p;return fa(l),p=js(a,l,d,R,A,w),$=gi(),a!==null&&!Pr?(ic(a,l,w),pl(a,l,w)):(jn&&$&&Qu(l),l.flags|=1,Ur(a,l,p,w),l.child)}function by(a,l,d,p,w){if(a===null){var A=d.type;return typeof A=="function"&&!Jl(A)&&A.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=A,wy(a,l,A,p,w)):(a=rl(d.type,null,p,l,l.mode,w),a.ref=l.ref,a.return=l,l.child=a)}if(A=a.child,!jm(a,w)){var R=A.memoizedProps;if(d=d.compare,d=d!==null?d:po,d(R,p)&&a.ref===l.ref)return pl(a,l,w)}return l.flags|=1,a=oa(A,p),a.ref=l.ref,a.return=l,l.child=a}function wy(a,l,d,p,w){if(a!==null){var A=a.memoizedProps;if(po(A,p)&&a.ref===l.ref)if(Pr=!1,l.pendingProps=p=A,jm(a,w))(a.flags&131072)!==0&&(Pr=!0);else return l.lanes=a.lanes,pl(a,l,w)}return Rm(a,l,d,p,w)}function _y(a,l,d){var p=l.pendingProps,w=p.children,A=a!==null?a.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=A!==null?A.baseLanes|d:d,a!==null){for(w=l.child=a.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;l.childLanes=A&~p}else l.childLanes=0,l.child=null;return Sy(a,l,p,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&L(l,A!==null?A.cachePool:null),A!==null?Kn(l,A):Vn(),uy(l);else return l.lanes=l.childLanes=536870912,Sy(a,l,A!==null?A.baseLanes|d:d,d)}else A!==null?(L(l,A.cachePool),Kn(l,A),au(),l.memoizedState=null):(a!==null&&L(l,null),Vn(),au());return Ur(a,l,w,d),l.child}function Sy(a,l,d,p){var w=E();return w=w===null?null:{parent:or._currentValue,pool:w},l.memoizedState={baseLanes:d,cachePool:w},a!==null&&L(l,null),Vn(),uy(l),a!==null&&Ql(a,l,p,!0),null}function yp(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function Rm(a,l,d,p,w){return fa(l),d=js(a,l,d,p,void 0,w),p=gi(),a!==null&&!Pr?(ic(a,l,w),pl(a,l,w)):(jn&&p&&Qu(l),l.flags|=1,Ur(a,l,d,w),l.child)}function Ay(a,l,d,p,w,A){return fa(l),l.updateQueue=null,d=ul(l,p,d,w),No(a),p=gi(),a!==null&&!Pr?(ic(a,l,A),pl(a,l,A)):(jn&&p&&Qu(l),l.flags|=1,Ur(a,l,d,A),l.child)}function Ty(a,l,d,p,w){if(fa(l),l.stateNode===null){var A=vr,R=d.contextType;typeof R=="object"&&R!==null&&(A=ar(R)),A=new d(p,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Lm,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=p,A.state=l.memoizedState,A.refs={},xe(l),R=d.contextType,A.context=typeof R=="object"&&R!==null?ar(R):vr,A.state=l.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(Mm(l,d,R,p),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(R=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),R!==A.state&&Lm.enqueueReplaceState(A,A.state,null),at(l,p,A,w),Lt(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){A=l.stateNode;var $=l.memoizedProps,he=hc(d,$);A.props=he;var Pe=A.context,ze=d.contextType;R=vr,typeof ze=="object"&&ze!==null&&(R=ar(ze));var We=d.getDerivedStateFromProps;ze=typeof We=="function"||typeof A.getSnapshotBeforeUpdate=="function",$=l.pendingProps!==$,ze||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($||Pe!==R)&&fy(l,A,p,R),Oe=!1;var Re=l.memoizedState;A.state=Re,at(l,p,A,w),Lt(),Pe=l.memoizedState,$||Re!==Pe||Oe?(typeof We=="function"&&(Mm(l,d,We,p),Pe=l.memoizedState),(he=Oe||cy(l,d,he,p,Re,Pe,R))?(ze||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Pe),A.props=p,A.state=Pe,A.context=R,p=he):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{A=l.stateNode,_e(a,l),R=l.memoizedProps,ze=hc(d,R),A.props=ze,We=l.pendingProps,Re=A.context,Pe=d.contextType,he=vr,typeof Pe=="object"&&Pe!==null&&(he=ar(Pe)),$=d.getDerivedStateFromProps,(Pe=typeof $=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(R!==We||Re!==he)&&fy(l,A,p,he),Oe=!1,Re=l.memoizedState,A.state=Re,at(l,p,A,w),Lt();var Ie=l.memoizedState;R!==We||Re!==Ie||Oe||a!==null&&a.dependencies!==null&&Qc(a.dependencies)?(typeof $=="function"&&(Mm(l,d,$,p),Ie=l.memoizedState),(ze=Oe||cy(l,d,ze,p,Re,Ie,he)||a!==null&&a.dependencies!==null&&Qc(a.dependencies))?(Pe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Ie,he),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Ie,he)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||R===a.memoizedProps&&Re===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&Re===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Ie),A.props=p,A.state=Ie,A.context=he,p=ze):(typeof A.componentDidUpdate!="function"||R===a.memoizedProps&&Re===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&Re===a.memoizedState||(l.flags|=1024),p=!1)}return A=p,yp(a,l),p=(l.flags&128)!==0,A||p?(A=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,a!==null&&p?(l.child=uf(l,a.child,null,w),l.child=uf(l,null,d,w)):Ur(a,l,d,w),l.memoizedState=A.state,a=l.child):a=pl(a,l,w),a}function Cy(a,l,d,p){return ps(),l.flags|=256,Ur(a,l,d,p),l.child}var Dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Im(a){return{baseLanes:a,cachePool:O()}}function Om(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=pa),a}function Ny(a,l,d){var p=l.pendingProps,w=!1,A=(l.flags&128)!==0,R;if((R=A)||(R=a!==null&&a.memoizedState===null?!1:(Nr.current&2)!==0),R&&(w=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,a===null){if(jn){if(w?su(l):au(),jn){var $=Ri,he;if(he=$){e:{for(he=$,$=la;he.nodeType!==8;){if(!$){$=null;break e}if(he=Ga(he.nextSibling),he===null){$=null;break e}}$=he}$!==null?(l.memoizedState={dehydrated:$,treeContext:sl!==null?{id:Ia,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},he=Lr(18,null,null,0),he.stateNode=$,he.return=l,l.child=he,sr=l,Ri=null,he=!0):he=!1}he||ol(l)}if($=l.memoizedState,$!==null&&($=$.dehydrated,$!==null))return x0($)?l.lanes=32:l.lanes=536870912,null;hl(l)}return $=p.children,p=p.fallback,w?(au(),w=l.mode,$=vp({mode:"hidden",children:$},w),p=Ra(p,w,d,null),$.return=l,p.return=l,$.sibling=p,l.child=$,w=l.child,w.memoizedState=Im(d),w.childLanes=Om(a,R,d),l.memoizedState=Dm,p):(su(l),Fm(l,$))}if(he=a.memoizedState,he!==null&&($=he.dehydrated,$!==null)){if(A)l.flags&256?(su(l),l.flags&=-257,l=Bm(a,l,d)):l.memoizedState!==null?(au(),l.child=a.child,l.flags|=128,l=null):(au(),w=p.fallback,$=l.mode,p=vp({mode:"visible",children:p.children},$),w=Ra(w,$,d,null),w.flags|=2,p.return=l,w.return=l,p.sibling=w,l.child=p,uf(l,a.child,null,d),p=l.child,p.memoizedState=Im(d),p.childLanes=Om(a,R,d),l.memoizedState=Dm,l=w);else if(su(l),x0($)){if(R=$.nextSibling&&$.nextSibling.dataset,R)var Pe=R.dgst;R=Pe,p=Error(i(419)),p.stack="",p.digest=R,Xl({value:p,source:null,stack:null}),l=Bm(a,l,d)}else if(Pr||Ql(a,l,d,!1),R=(d&a.childLanes)!==0,Pr||R){if(R=mi,R!==null&&(p=d&-d,p=(p&42)!==0?1:xi(p),p=(p&(R.suspendedLanes|d))!==0?0:p,p!==0&&p!==he.retryLane))throw he.retryLane=p,Pa(a,p),Ws(R,a,p),vy;$.data==="$?"||n0(),l=Bm(a,l,d)}else $.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=he.treeContext,Ri=Ga($.nextSibling),sr=l,jn=!0,Ao=null,la=!1,a!==null&&(As[hs++]=Ia,As[hs++]=Oa,As[hs++]=sl,Ia=a.id,Oa=a.overflow,sl=l),l=Fm(l,p.children),l.flags|=4096);return l}return w?(au(),w=p.fallback,$=l.mode,he=a.child,Pe=he.sibling,p=oa(he,{mode:"hidden",children:p.children}),p.subtreeFlags=he.subtreeFlags&65011712,Pe!==null?w=oa(Pe,w):(w=Ra(w,$,d,null),w.flags|=2),w.return=l,p.return=l,p.sibling=w,l.child=p,p=w,w=l.child,$=a.child.memoizedState,$===null?$=Im(d):(he=$.cachePool,he!==null?(Pe=or._currentValue,he=he.parent!==Pe?{parent:Pe,pool:Pe}:he):he=O(),$={baseLanes:$.baseLanes|d,cachePool:he}),w.memoizedState=$,w.childLanes=Om(a,R,d),l.memoizedState=Dm,p):(su(l),d=a.child,a=d.sibling,d=oa(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,a!==null&&(R=l.deletions,R===null?(l.deletions=[a],l.flags|=16):R.push(a)),l.child=d,l.memoizedState=null,d)}function Fm(a,l){return l=vp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function vp(a,l){return a=Lr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Bm(a,l,d){return uf(l,a.child,null,d),a=Fm(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Ey(a,l,d){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Zc(a.return,l,d)}function zm(a,l,d,p,w){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:w}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=d,A.tailMode=w)}function ky(a,l,d){var p=l.pendingProps,w=p.revealOrder,A=p.tail;if(Ur(a,l,p.children,d),p=Nr.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ey(a,d,l);else if(a.tag===19)Ey(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}switch(Y(Nr,p),w){case"forwards":for(d=l.child,w=null;d!==null;)a=d.alternate,a!==null&&pp(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=l.child,l.child=null):(w=d.sibling,d.sibling=null),zm(l,!1,w,d,A);break;case"backwards":for(d=null,w=l.child,l.child=null;w!==null;){if(a=w.alternate,a!==null&&pp(a)===null){l.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}zm(l,!0,d,null,A);break;case"together":zm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function pl(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),fu|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(Ql(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,d=oa(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=oa(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function jm(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Qc(a)))}function PA(a,l,d){switch(l.tag){case 3:Se(l,l.stateNode.containerInfo),To(l,or,a.memoizedState.cache),ps();break;case 27:case 5:$e(l);break;case 4:Se(l,l.stateNode.containerInfo);break;case 10:To(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(su(l),l.flags|=128,null):(d&l.child.childLanes)!==0?Ny(a,l,d):(su(l),a=pl(a,l,d),a!==null?a.sibling:null);su(l);break;case 19:var w=(a.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(Ql(a,l,d,!1),p=(d&l.childLanes)!==0),w){if(p)return ky(a,l,d);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Y(Nr,Nr.current),p)break;return null;case 22:case 23:return l.lanes=0,_y(a,l,d);case 24:To(l,or,a.memoizedState.cache)}return pl(a,l,d)}function My(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Pr=!0;else{if(!jm(a,d)&&(l.flags&128)===0)return Pr=!1,PA(a,l,d);Pr=(a.flags&131072)!==0}else Pr=!1,jn&&(l.flags&1048576)!==0&&Yh(l,Jc,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var p=l.elementType,w=p._init;if(p=w(p._payload),l.type=p,typeof p=="function")Jl(p)?(a=hc(p,a),l.tag=1,l=Ty(null,l,p,a,d)):(l.tag=0,l=Rm(null,l,p,a,d));else{if(p!=null){if(w=p.$$typeof,w===J){l.tag=11,l=xy(null,l,p,a,d);break e}else if(w===X){l.tag=14,l=by(null,l,p,a,d);break e}}throw l=ne(p)||p,Error(i(306,l,""))}}return l;case 0:return Rm(a,l,l.type,l.pendingProps,d);case 1:return p=l.type,w=hc(p,l.pendingProps),Ty(a,l,p,w,d);case 3:e:{if(Se(l,l.stateNode.containerInfo),a===null)throw Error(i(387));p=l.pendingProps;var A=l.memoizedState;w=A.element,_e(a,l),at(l,p,null,d);var R=l.memoizedState;if(p=R.cache,To(l,or,p),p!==A.cache&&Xc(l,[or],d,!0),Lt(),p=R.element,A.isDehydrated)if(A={element:p,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){l=Cy(a,l,p,d);break e}else if(p!==w){w=gn(Error(i(424)),l),Xl(w),l=Cy(a,l,p,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ri=Ga(a.firstChild),sr=l,jn=!0,Ao=null,la=!0,d=ly(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ps(),p===w){l=pl(a,l,d);break e}Ur(a,l,p,d)}l=l.child}return l;case 26:return yp(a,l),a===null?(d=Dv(l.type,null,l.pendingProps,null))?l.memoizedState=d:jn||(d=l.type,a=l.pendingProps,p=Pp(ce.current).createElement(d),p[In]=l,p[Cn]=a,qr(p,d,a),Xt(p),l.stateNode=p):l.memoizedState=Dv(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return $e(l),a===null&&jn&&(p=l.stateNode=Lv(l.type,l.pendingProps,ce.current),sr=l,la=!0,w=Ri,gu(l.type)?(b0=w,Ri=Ga(p.firstChild)):Ri=w),Ur(a,l,l.pendingProps.children,d),yp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&jn&&((w=p=Ri)&&(p=aT(p,l.type,l.pendingProps,la),p!==null?(l.stateNode=p,sr=l,Ri=Ga(p.firstChild),la=!1,w=!0):w=!1),w||ol(l)),$e(l),w=l.type,A=l.pendingProps,R=a!==null?a.memoizedProps:null,p=A.children,m0(w,A)?p=null:R!==null&&m0(w,R)&&(l.flags|=32),l.memoizedState!==null&&(w=js(a,l,Eo,null,null,d),qd._currentValue=w),yp(a,l),Ur(a,l,p,d),l.child;case 6:return a===null&&jn&&((a=d=Ri)&&(d=oT(d,l.pendingProps,la),d!==null?(l.stateNode=d,sr=l,Ri=null,a=!0):a=!1),a||ol(l)),null;case 13:return Ny(a,l,d);case 4:return Se(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=uf(l,null,p,d):Ur(a,l,p,d),l.child;case 11:return xy(a,l,l.type,l.pendingProps,d);case 7:return Ur(a,l,l.pendingProps,d),l.child;case 8:return Ur(a,l,l.pendingProps.children,d),l.child;case 12:return Ur(a,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,To(l,l.type,p.value),Ur(a,l,p.children,d),l.child;case 9:return w=l.type._context,p=l.pendingProps.children,fa(l),w=ar(w),p=p(w),l.flags|=1,Ur(a,l,p,d),l.child;case 14:return by(a,l,l.type,l.pendingProps,d);case 15:return wy(a,l,l.type,l.pendingProps,d);case 19:return ky(a,l,d);case 31:return p=l.pendingProps,d=l.mode,p={mode:p.mode,children:p.children},a===null?(d=vp(p,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=oa(a.child,p),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return _y(a,l,d);case 24:return fa(l),p=ar(or),a===null?(w=E(),w===null&&(w=mi,A=dd(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=d),w=A),l.memoizedState={parent:p,cache:w},xe(l),To(l,or,w)):((a.lanes&d)!==0&&(_e(a,l),at(l,null,null,d),Lt()),w=a.memoizedState,A=l.memoizedState,w.parent!==p?(w={parent:p,cache:p},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),To(l,or,p)):(p=A.cache,To(l,or,p),p!==w.cache&&Xc(l,[or],d,!0))),Ur(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function gl(a){a.flags|=4}function Ly(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!zv(l)){if(l=ha.current,l!==null&&((zn&4194048)===zn?Lo!==null:(zn&62914560)!==zn&&(zn&536870912)===0||l!==Lo))throw ke=Z,V;a.flags|=8192}}function xp(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Rn():536870912,a.lanes|=l,hf|=l)}function Ed(a,l){if(!jn)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Wi(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(l)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=p,a.childLanes=d,l}function RA(a,l,d){var p=l.pendingProps;switch(ec(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(l),null;case 1:return Wi(l),null;case 3:return d=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),ca(or),Ee(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(zr(l)?gl(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Jh())),Wi(l),null;case 26:return d=l.memoizedState,a===null?(gl(l),d!==null?(Wi(l),Ly(l,d)):(Wi(l),l.flags&=-16777217)):d?d!==a.memoizedState?(gl(l),Wi(l),Ly(l,d)):(Wi(l),l.flags&=-16777217):(a.memoizedProps!==p&&gl(l),Wi(l),l.flags&=-16777217),null;case 27:Ye(l),d=ce.current;var w=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==p&&gl(l);else{if(!p){if(l.stateNode===null)throw Error(i(166));return Wi(l),null}a=Q.current,zr(l)?$h(l):(a=Lv(w,p,d),l.stateNode=a,gl(l))}return Wi(l),null;case 5:if(Ye(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&gl(l);else{if(!p){if(l.stateNode===null)throw Error(i(166));return Wi(l),null}if(a=Q.current,zr(l))$h(l);else{switch(w=Pp(ce.current),a){case 1:a=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=w.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof p.is=="string"?w.createElement("select",{is:p.is}):w.createElement("select"),p.multiple?a.multiple=!0:p.size&&(a.size=p.size);break;default:a=typeof p.is=="string"?w.createElement(d,{is:p.is}):w.createElement(d)}}a[In]=l,a[Cn]=p;e:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)a.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break e;for(;w.sibling===null;){if(w.return===null||w.return===l)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=a;e:switch(qr(a,d,p),d){case"button":case"input":case"select":case"textarea":a=!!p.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&gl(l)}}return Wi(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&gl(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(i(166));if(a=ce.current,zr(l)){if(a=l.stateNode,d=l.memoizedProps,p=null,w=sr,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}a[In]=l,a=!!(a.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||Av(a.nodeValue,d)),a||ol(l)}else a=Pp(a).createTextNode(p),a[In]=l,l.stateNode=a}return Wi(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=zr(l),p!==null&&p.dehydrated!==null){if(a===null){if(!w)throw Error(i(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[In]=l}else ps(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Wi(l),w=!1}else w=Jh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(hl(l),l):(hl(l),null)}if(hl(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=p!==null,a=a!==null&&a.memoizedState!==null,d){p=l.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool);var A=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(A=p.memoizedState.cachePool.pool),A!==w&&(p.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),xp(l,l.updateQueue),Wi(l),null;case 4:return Ee(),a===null&&f0(l.stateNode.containerInfo),Wi(l),null;case 10:return ca(l.type),Wi(l),null;case 19:if(D(Nr),w=l.memoizedState,w===null)return Wi(l),null;if(p=(l.flags&128)!==0,A=w.rendering,A===null)if(p)Ed(w,!1);else{if(Xi!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(A=pp(a),A!==null){for(l.flags|=128,Ed(w,!1),a=A.updateQueue,l.updateQueue=a,xp(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)Zu(d,a),d=d.sibling;return Y(Nr,Nr.current&1|2),l.child}a=a.sibling}w.tail!==null&&Et()>_p&&(l.flags|=128,p=!0,Ed(w,!1),l.lanes=4194304)}else{if(!p)if(a=pp(A),a!==null){if(l.flags|=128,p=!0,a=a.updateQueue,l.updateQueue=a,xp(l,a),Ed(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!jn)return Wi(l),null}else 2*Et()-w.renderingStartTime>_p&&d!==536870912&&(l.flags|=128,p=!0,Ed(w,!1),l.lanes=4194304);w.isBackwards?(A.sibling=l.child,l.child=A):(a=w.last,a!==null?a.sibling=A:l.child=A,w.last=A)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=Et(),l.sibling=null,a=Nr.current,Y(Nr,p?a&1|2:a&1),l):(Wi(l),null);case 22:case 23:return hl(l),tn(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(Wi(l),l.subtreeFlags&6&&(l.flags|=8192)):Wi(l),d=l.updateQueue,d!==null&&xp(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),a!==null&&D(_),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ca(or),Wi(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function DA(a,l){switch(ec(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ca(or),Ee(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ye(l),null;case 13:if(hl(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));ps()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return D(Nr),null;case 4:return Ee(),null;case 10:return ca(l.type),null;case 22:case 23:return hl(l),tn(),a!==null&&D(_),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ca(or),null;case 25:return null;default:return null}}function Py(a,l){switch(ec(l),l.tag){case 3:ca(or),Ee();break;case 26:case 27:case 5:Ye(l);break;case 4:Ee();break;case 13:hl(l);break;case 19:D(Nr);break;case 10:ca(l.type);break;case 22:case 23:hl(l),tn(),a!==null&&D(_);break;case 24:ca(or)}}function kd(a,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var w=p.next;d=w;do{if((d.tag&a)===a){p=void 0;var A=d.create,R=d.inst;p=A(),R.destroy=p}d=d.next}while(d!==w)}}catch($){oi(l,l.return,$)}}function ou(a,l,d){try{var p=l.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var A=w.next;p=A;do{if((p.tag&a)===a){var R=p.inst,$=R.destroy;if($!==void 0){R.destroy=void 0,w=l;var he=d,Pe=$;try{Pe()}catch(ze){oi(w,he,ze)}}}p=p.next}while(p!==A)}}catch(ze){oi(l,l.return,ze)}}function Ry(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{Un(l,d)}catch(p){oi(a,a.return,p)}}}function Dy(a,l,d){d.props=hc(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(p){oi(a,l,p)}}function Md(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof d=="function"?a.refCleanup=d(p):d.current=p}}catch(w){oi(a,l,w)}}function Po(a,l){var d=a.ref,p=a.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(w){oi(a,l,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){oi(a,l,w)}else d.current=null}function Iy(a){var l=a.type,d=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(w){oi(a,a.return,w)}}function Um(a,l,d){try{var p=a.stateNode;tT(p,a.type,d,l),p[Cn]=l}catch(w){oi(a,a.return,w)}}function Oy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&gu(a.type)||a.tag===4}function Vm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Oy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&gu(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function qm(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Lp));else if(p!==4&&(p===27&&gu(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(qm(a,l,d),a=a.sibling;a!==null;)qm(a,l,d),a=a.sibling}function bp(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(p!==4&&(p===27&&gu(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(bp(a,l,d),a=a.sibling;a!==null;)bp(a,l,d),a=a.sibling}function Fy(a){var l=a.stateNode,d=a.memoizedProps;try{for(var p=a.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);qr(l,p,d),l[In]=a,l[Cn]=d}catch(A){oi(a,a.return,A)}}var ml=!1,ur=!1,Hm=!1,By=typeof WeakSet=="function"?WeakSet:Set,Rr=null;function IA(a,l){if(a=a.containerInfo,p0=Bp,a=Br(a),Cr(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var w=p.anchorOffset,A=p.focusNode;p=p.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var R=0,$=-1,he=-1,Pe=0,ze=0,We=a,Re=null;t:for(;;){for(var Ie;We!==d||w!==0&&We.nodeType!==3||($=R+w),We!==A||p!==0&&We.nodeType!==3||(he=R+p),We.nodeType===3&&(R+=We.nodeValue.length),(Ie=We.firstChild)!==null;)Re=We,We=Ie;for(;;){if(We===a)break t;if(Re===d&&++Pe===w&&($=R),Re===A&&++ze===p&&(he=R),(Ie=We.nextSibling)!==null)break;We=Re,Re=We.parentNode}We=Ie}d=$===-1||he===-1?null:{start:$,end:he}}else d=null}d=d||{start:0,end:0}}else d=null;for(g0={focusedElem:a,selectionRange:d},Bp=!1,Rr=l;Rr!==null;)if(l=Rr,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Rr=a;else for(;Rr!==null;){switch(l=Rr,A=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&A!==null){a=void 0,d=l,w=A.memoizedProps,A=A.memoizedState,p=d.stateNode;try{var Jt=hc(d.type,w,d.elementType===d.type);a=p.getSnapshotBeforeUpdate(Jt,A),p.__reactInternalSnapshotBeforeUpdate=a}catch(Ut){oi(d,d.return,Ut)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)v0(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":v0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,Rr=a;break}Rr=l.return}}function zy(a,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:lu(a,d),p&4&&kd(5,d);break;case 1:if(lu(a,d),p&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(R){oi(d,d.return,R)}else{var w=hc(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(w,l,a.__reactInternalSnapshotBeforeUpdate)}catch(R){oi(d,d.return,R)}}p&64&&Ry(d),p&512&&Md(d,d.return);break;case 3:if(lu(a,d),p&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Un(a,l)}catch(R){oi(d,d.return,R)}}break;case 27:l===null&&p&4&&Fy(d);case 26:case 5:lu(a,d),l===null&&p&4&&Iy(d),p&512&&Md(d,d.return);break;case 12:lu(a,d);break;case 13:lu(a,d),p&4&&Vy(a,d),p&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=HA.bind(null,d),lT(a,d))));break;case 22:if(p=d.memoizedState!==null||ml,!p){l=l!==null&&l.memoizedState!==null||ur,w=ml;var A=ur;ml=p,(ur=l)&&!A?uu(a,d,(d.subtreeFlags&8772)!==0):lu(a,d),ml=w,ur=A}break;case 30:break;default:lu(a,d)}}function jy(a){var l=a.alternate;l!==null&&(a.alternate=null,jy(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Mn(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Di=null,Cs=!1;function yl(a,l,d){for(d=d.child;d!==null;)Uy(a,l,d),d=d.sibling}function Uy(a,l,d){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(jt,d)}catch{}switch(d.tag){case 26:ur||Po(d,l),yl(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ur||Po(d,l);var p=Di,w=Cs;gu(d.type)&&(Di=d.stateNode,Cs=!1),yl(a,l,d),zd(d.stateNode),Di=p,Cs=w;break;case 5:ur||Po(d,l);case 6:if(p=Di,w=Cs,Di=null,yl(a,l,d),Di=p,Cs=w,Di!==null)if(Cs)try{(Di.nodeType===9?Di.body:Di.nodeName==="HTML"?Di.ownerDocument.body:Di).removeChild(d.stateNode)}catch(A){oi(d,l,A)}else try{Di.removeChild(d.stateNode)}catch(A){oi(d,l,A)}break;case 18:Di!==null&&(Cs?(a=Di,kv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Kd(a)):kv(Di,d.stateNode));break;case 4:p=Di,w=Cs,Di=d.stateNode.containerInfo,Cs=!0,yl(a,l,d),Di=p,Cs=w;break;case 0:case 11:case 14:case 15:ur||ou(2,d,l),ur||ou(4,d,l),yl(a,l,d);break;case 1:ur||(Po(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&Dy(d,l,p)),yl(a,l,d);break;case 21:yl(a,l,d);break;case 22:ur=(p=ur)||d.memoizedState!==null,yl(a,l,d),ur=p;break;default:yl(a,l,d)}}function Vy(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Kd(a)}catch(d){oi(l,l.return,d)}}function OA(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new By),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new By),l;default:throw Error(i(435,a.tag))}}function Gm(a,l){var d=OA(a);l.forEach(function(p){var w=GA.bind(null,a,p);d.has(p)||(d.add(p),p.then(w,w))})}function Vs(a,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var w=d[p],A=a,R=l,$=R;e:for(;$!==null;){switch($.tag){case 27:if(gu($.type)){Di=$.stateNode,Cs=!1;break e}break;case 5:Di=$.stateNode,Cs=!1;break e;case 3:case 4:Di=$.stateNode.containerInfo,Cs=!0;break e}$=$.return}if(Di===null)throw Error(i(160));Uy(A,R,w),Di=null,Cs=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)qy(l,a),l=l.sibling}var Ha=null;function qy(a,l){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vs(l,a),qs(a),p&4&&(ou(3,a,a.return),kd(3,a),ou(5,a,a.return));break;case 1:Vs(l,a),qs(a),p&512&&(ur||d===null||Po(d,d.return)),p&64&&ml&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var w=Ha;if(Vs(l,a),qs(a),p&512&&(ur||d===null||Po(d,d.return)),p&4){var A=d!==null?d.memoizedState:null;if(p=a.memoizedState,d===null)if(p===null)if(a.stateNode===null){e:{p=a.type,d=a.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":A=w.getElementsByTagName("title")[0],(!A||A[pr]||A[In]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(p),w.head.insertBefore(A,w.querySelector("head > title"))),qr(A,p,d),A[In]=a,Xt(A),p=A;break e;case"link":var R=Fv("link","href",w).get(p+(d.href||""));if(R){for(var $=0;$<R.length;$++)if(A=R[$],A.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&A.getAttribute("rel")===(d.rel==null?null:d.rel)&&A.getAttribute("title")===(d.title==null?null:d.title)&&A.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice($,1);break t}}A=w.createElement(p),qr(A,p,d),w.head.appendChild(A);break;case"meta":if(R=Fv("meta","content",w).get(p+(d.content||""))){for($=0;$<R.length;$++)if(A=R[$],A.getAttribute("content")===(d.content==null?null:""+d.content)&&A.getAttribute("name")===(d.name==null?null:d.name)&&A.getAttribute("property")===(d.property==null?null:d.property)&&A.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&A.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice($,1);break t}}A=w.createElement(p),qr(A,p,d),w.head.appendChild(A);break;default:throw Error(i(468,p))}A[In]=a,Xt(A),p=A}a.stateNode=p}else Bv(w,a.type,a.stateNode);else a.stateNode=Ov(w,p,a.memoizedProps);else A!==p?(A===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):A.count--,p===null?Bv(w,a.type,a.stateNode):Ov(w,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Um(a,a.memoizedProps,d.memoizedProps)}break;case 27:Vs(l,a),qs(a),p&512&&(ur||d===null||Po(d,d.return)),d!==null&&p&4&&Um(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Vs(l,a),qs(a),p&512&&(ur||d===null||Po(d,d.return)),a.flags&32){w=a.stateNode;try{ir(w,"")}catch(Ie){oi(a,a.return,Ie)}}p&4&&a.stateNode!=null&&(w=a.memoizedProps,Um(a,w,d!==null?d.memoizedProps:w)),p&1024&&(Hm=!0);break;case 6:if(Vs(l,a),qs(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,d=a.stateNode;try{d.nodeValue=p}catch(Ie){oi(a,a.return,Ie)}}break;case 3:if(Ip=null,w=Ha,Ha=Rp(l.containerInfo),Vs(l,a),Ha=w,qs(a),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Kd(l.containerInfo)}catch(Ie){oi(a,a.return,Ie)}Hm&&(Hm=!1,Hy(a));break;case 4:p=Ha,Ha=Rp(a.stateNode.containerInfo),Vs(l,a),qs(a),Ha=p;break;case 12:Vs(l,a),qs(a);break;case 13:Vs(l,a),qs(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Zm=Et()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Gm(a,p)));break;case 22:w=a.memoizedState!==null;var he=d!==null&&d.memoizedState!==null,Pe=ml,ze=ur;if(ml=Pe||w,ur=ze||he,Vs(l,a),ur=ze,ml=Pe,qs(a),p&8192)e:for(l=a.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(d===null||he||ml||ur||pc(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){he=d=l;try{if(A=he.stateNode,w)R=A.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{$=he.stateNode;var We=he.memoizedProps.style,Re=We!=null&&We.hasOwnProperty("display")?We.display:null;$.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(Ie){oi(he,he.return,Ie)}}}else if(l.tag===6){if(d===null){he=l;try{he.stateNode.nodeValue=w?"":he.memoizedProps}catch(Ie){oi(he,he.return,Ie)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Gm(a,d))));break;case 19:Vs(l,a),qs(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Gm(a,p)));break;case 30:break;case 21:break;default:Vs(l,a),qs(a)}}function qs(a){var l=a.flags;if(l&2){try{for(var d,p=a.return;p!==null;){if(Oy(p)){d=p;break}p=p.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var w=d.stateNode,A=Vm(a);bp(a,A,w);break;case 5:var R=d.stateNode;d.flags&32&&(ir(R,""),d.flags&=-33);var $=Vm(a);bp(a,$,R);break;case 3:case 4:var he=d.stateNode.containerInfo,Pe=Vm(a);qm(a,Pe,he);break;default:throw Error(i(161))}}catch(ze){oi(a,a.return,ze)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Hy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Hy(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function lu(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)zy(a,l.alternate,l),l=l.sibling}function pc(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:ou(4,l,l.return),pc(l);break;case 1:Po(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Dy(l,l.return,d),pc(l);break;case 27:zd(l.stateNode);case 26:case 5:Po(l,l.return),pc(l);break;case 22:l.memoizedState===null&&pc(l);break;case 30:pc(l);break;default:pc(l)}a=a.sibling}}function uu(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,w=a,A=l,R=A.flags;switch(A.tag){case 0:case 11:case 15:uu(w,A,d),kd(4,A);break;case 1:if(uu(w,A,d),p=A,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Pe){oi(p,p.return,Pe)}if(p=A,w=p.updateQueue,w!==null){var $=p.stateNode;try{var he=w.shared.hiddenCallbacks;if(he!==null)for(w.shared.hiddenCallbacks=null,w=0;w<he.length;w++)Fn(he[w],$)}catch(Pe){oi(p,p.return,Pe)}}d&&R&64&&Ry(A),Md(A,A.return);break;case 27:Fy(A);case 26:case 5:uu(w,A,d),d&&p===null&&R&4&&Iy(A),Md(A,A.return);break;case 12:uu(w,A,d);break;case 13:uu(w,A,d),d&&R&4&&Vy(w,A);break;case 22:A.memoizedState===null&&uu(w,A,d),Md(A,A.return);break;case 30:break;default:uu(w,A,d)}l=l.sibling}}function Wm(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&tc(d))}function Km(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&tc(a))}function Ro(a,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Gy(a,l,d,p),l=l.sibling}function Gy(a,l,d,p){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Ro(a,l,d,p),w&2048&&kd(9,l);break;case 1:Ro(a,l,d,p);break;case 3:Ro(a,l,d,p),w&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&tc(a)));break;case 12:if(w&2048){Ro(a,l,d,p),a=l.stateNode;try{var A=l.memoizedProps,R=A.id,$=A.onPostCommit;typeof $=="function"&&$(R,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(he){oi(l,l.return,he)}}else Ro(a,l,d,p);break;case 13:Ro(a,l,d,p);break;case 23:break;case 22:A=l.stateNode,R=l.alternate,l.memoizedState!==null?A._visibility&2?Ro(a,l,d,p):Ld(a,l):A._visibility&2?Ro(a,l,d,p):(A._visibility|=2,cf(a,l,d,p,(l.subtreeFlags&10256)!==0)),w&2048&&Wm(R,l);break;case 24:Ro(a,l,d,p),w&2048&&Km(l.alternate,l);break;default:Ro(a,l,d,p)}}function cf(a,l,d,p,w){for(w=w&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var A=a,R=l,$=d,he=p,Pe=R.flags;switch(R.tag){case 0:case 11:case 15:cf(A,R,$,he,w),kd(8,R);break;case 23:break;case 22:var ze=R.stateNode;R.memoizedState!==null?ze._visibility&2?cf(A,R,$,he,w):Ld(A,R):(ze._visibility|=2,cf(A,R,$,he,w)),w&&Pe&2048&&Wm(R.alternate,R);break;case 24:cf(A,R,$,he,w),w&&Pe&2048&&Km(R.alternate,R);break;default:cf(A,R,$,he,w)}l=l.sibling}}function Ld(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,p=l,w=p.flags;switch(p.tag){case 22:Ld(d,p),w&2048&&Wm(p.alternate,p);break;case 24:Ld(d,p),w&2048&&Km(p.alternate,p);break;default:Ld(d,p)}l=l.sibling}}var Pd=8192;function ff(a){if(a.subtreeFlags&Pd)for(a=a.child;a!==null;)Wy(a),a=a.sibling}function Wy(a){switch(a.tag){case 26:ff(a),a.flags&Pd&&a.memoizedState!==null&&wT(Ha,a.memoizedState,a.memoizedProps);break;case 5:ff(a);break;case 3:case 4:var l=Ha;Ha=Rp(a.stateNode.containerInfo),ff(a),Ha=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Pd,Pd=16777216,ff(a),Pd=l):ff(a));break;default:ff(a)}}function Ky(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Rd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Rr=p,$y(p,a)}Ky(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Yy(a),a=a.sibling}function Yy(a){switch(a.tag){case 0:case 11:case 15:Rd(a),a.flags&2048&&ou(9,a,a.return);break;case 3:Rd(a);break;case 12:Rd(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,wp(a)):Rd(a);break;default:Rd(a)}}function wp(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Rr=p,$y(p,a)}Ky(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:ou(8,l,l.return),wp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,wp(l));break;default:wp(l)}a=a.sibling}}function $y(a,l){for(;Rr!==null;){var d=Rr;switch(d.tag){case 0:case 11:case 15:ou(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:tc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Rr=p;else e:for(d=a;Rr!==null;){p=Rr;var w=p.sibling,A=p.return;if(jy(p),p===d){Rr=null;break e}if(w!==null){w.return=A,Rr=w;break e}Rr=A}}}var FA={getCacheForType:function(a){var l=ar(or),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},BA=typeof WeakMap=="function"?WeakMap:Map,Zn=0,mi=null,wn=null,zn=0,Xn=0,Hs=null,cu=!1,df=!1,Ym=!1,vl=0,Xi=0,fu=0,gc=0,$m=0,pa=0,hf=0,Dd=null,Ns=null,Jm=!1,Zm=0,_p=1/0,Sp=null,du=null,Vr=0,hu=null,pf=null,gf=0,Xm=0,Qm=null,Jy=null,Id=0,e0=null;function Gs(){if((Zn&2)!==0&&zn!==0)return zn&-zn;if(G.T!==null){var a=ll;return a!==0?a:o0()}return nr()}function Zy(){pa===0&&(pa=(zn&536870912)===0||jn?os():536870912);var a=ha.current;return a!==null&&(a.flags|=32),pa}function Ws(a,l,d){(a===mi&&(Xn===2||Xn===9)||a.cancelPendingCommit!==null)&&(mf(a,0),pu(a,zn,pa,!1)),Yi(a,d),((Zn&2)===0||a!==mi)&&(a===mi&&((Zn&2)===0&&(gc|=d),Xi===4&&pu(a,zn,pa,!1)),Do(a))}function Xy(a,l,d){if((Zn&6)!==0)throw Error(i(327));var p=!d&&(l&124)===0&&(l&a.expiredLanes)===0||ci(a,l),w=p?UA(a,l):i0(a,l,!0),A=p;do{if(w===0){df&&!p&&pu(a,l,0,!1);break}else{if(d=a.current.alternate,A&&!zA(d)){w=i0(a,l,!1),A=!1;continue}if(w===2){if(A=l,a.errorRecoveryDisabledLanes&A)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var $=a;w=Dd;var he=$.current.memoizedState.isDehydrated;if(he&&(mf($,R).flags|=256),R=i0($,R,!1),R!==2){if(Ym&&!he){$.errorRecoveryDisabledLanes|=A,gc|=A,w=4;break e}A=Ns,Ns=w,A!==null&&(Ns===null?Ns=A:Ns.push.apply(Ns,A))}w=R}if(A=!1,w!==2)continue}}if(w===1){mf(a,0),pu(a,l,0,!0);break}e:{switch(p=a,A=w,A){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:pu(p,l,pa,!cu);break e;case 2:Ns=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(w=Zm+300-Et(),10<w)){if(pu(p,l,pa,!cu),pn(p,0,!0)!==0)break e;p.timeoutHandle=Nv(Qy.bind(null,p,d,Ns,Sp,Jm,l,pa,gc,hf,cu,A,2,-0,0),w);break e}Qy(p,d,Ns,Sp,Jm,l,pa,gc,hf,cu,A,0,-0,0)}}break}while(!0);Do(a)}function Qy(a,l,d,p,w,A,R,$,he,Pe,ze,We,Re,Ie){if(a.timeoutHandle=-1,We=l.subtreeFlags,(We&8192||(We&16785408)===16785408)&&(Vd={stylesheets:null,count:0,unsuspend:bT},Wy(l),We=_T(),We!==null)){a.cancelPendingCommit=We(av.bind(null,a,l,A,d,p,w,R,$,he,ze,1,Re,Ie)),pu(a,A,R,!Pe);return}av(a,l,A,d,p,w,R,$,he)}function zA(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var w=d[p],A=w.getSnapshot;w=w.value;try{if(!yr(A(),w))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function pu(a,l,d,p){l&=~$m,l&=~gc,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var w=l;0<w;){var A=31-bt(w),R=1<<A;p[A]=-1,w&=~R}d!==0&&Ot(a,d,l)}function Ap(){return(Zn&6)===0?(Od(0),!1):!0}function t0(){if(wn!==null){if(Xn===0)var a=wn.return;else a=wn,Ba=xr=null,tf(a),lf=null,Cd=0,a=wn;for(;a!==null;)Py(a.alternate,a),a=a.return;wn=null}}function mf(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,iT(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),t0(),mi=a,wn=d=oa(a.current,null),zn=l,Xn=0,Hs=null,cu=!1,df=ci(a,l),Ym=!1,hf=pa=$m=gc=fu=Xi=0,Ns=Dd=null,Jm=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var w=31-bt(p),A=1<<w;l|=a[w],p&=~A}return vl=l,_s(),d}function ev(a,l){Bt=null,G.H=fp,l===z||l===W?(l=Ae(),Xn=3):l===V?(l=Ae(),Xn=4):Xn=l===vy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Hs=l,wn===null&&(Xi=1,mp(a,gn(l,a.current)))}function tv(){var a=G.H;return G.H=fp,a===null?fp:a}function nv(){var a=G.A;return G.A=FA,a}function n0(){Xi=4,cu||(zn&4194048)!==zn&&ha.current!==null||(df=!0),(fu&134217727)===0&&(gc&134217727)===0||mi===null||pu(mi,zn,pa,!1)}function i0(a,l,d){var p=Zn;Zn|=2;var w=tv(),A=nv();(mi!==a||zn!==l)&&(Sp=null,mf(a,l)),l=!1;var R=Xi;e:do try{if(Xn!==0&&wn!==null){var $=wn,he=Hs;switch(Xn){case 8:t0(),R=6;break e;case 3:case 2:case 9:case 6:ha.current===null&&(l=!0);var Pe=Xn;if(Xn=0,Hs=null,yf(a,$,he,Pe),d&&df){R=0;break e}break;default:Pe=Xn,Xn=0,Hs=null,yf(a,$,he,Pe)}}jA(),R=Xi;break}catch(ze){ev(a,ze)}while(!0);return l&&a.shellSuspendCounter++,Ba=xr=null,Zn=p,G.H=w,G.A=A,wn===null&&(mi=null,zn=0,_s()),R}function jA(){for(;wn!==null;)iv(wn)}function UA(a,l){var d=Zn;Zn|=2;var p=tv(),w=nv();mi!==a||zn!==l?(Sp=null,_p=Et()+500,mf(a,l)):df=ci(a,l);e:do try{if(Xn!==0&&wn!==null){l=wn;var A=Hs;t:switch(Xn){case 1:Xn=0,Hs=null,yf(a,l,A,1);break;case 2:case 9:if(se(A)){Xn=0,Hs=null,rv(l);break}l=function(){Xn!==2&&Xn!==9||mi!==a||(Xn=7),Do(a)},A.then(l,l);break e;case 3:Xn=7;break e;case 4:Xn=5;break e;case 7:se(A)?(Xn=0,Hs=null,rv(l)):(Xn=0,Hs=null,yf(a,l,A,7));break;case 5:var R=null;switch(wn.tag){case 26:R=wn.memoizedState;case 5:case 27:var $=wn;if(!R||zv(R)){Xn=0,Hs=null;var he=$.sibling;if(he!==null)wn=he;else{var Pe=$.return;Pe!==null?(wn=Pe,Tp(Pe)):wn=null}break t}}Xn=0,Hs=null,yf(a,l,A,5);break;case 6:Xn=0,Hs=null,yf(a,l,A,6);break;case 8:t0(),Xi=6;break e;default:throw Error(i(462))}}VA();break}catch(ze){ev(a,ze)}while(!0);return Ba=xr=null,G.H=p,G.A=w,Zn=d,wn!==null?0:(mi=null,zn=0,_s(),Xi)}function VA(){for(;wn!==null&&!De();)iv(wn)}function iv(a){var l=My(a.alternate,a,vl);a.memoizedProps=a.pendingProps,l===null?Tp(a):wn=l}function rv(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=Ay(d,l,l.pendingProps,l.type,void 0,zn);break;case 11:l=Ay(d,l,l.pendingProps,l.type.render,l.ref,zn);break;case 5:tf(l);default:Py(d,l),l=wn=Zu(l,vl),l=My(d,l,vl)}a.memoizedProps=a.pendingProps,l===null?Tp(a):wn=l}function yf(a,l,d,p){Ba=xr=null,tf(l),lf=null,Cd=0;var w=l.return;try{if(LA(a,w,l,d,zn)){Xi=1,mp(a,gn(d,a.current)),wn=null;return}}catch(A){if(w!==null)throw wn=w,A;Xi=1,mp(a,gn(d,a.current)),wn=null;return}l.flags&32768?(jn||p===1?a=!0:df||(zn&536870912)!==0?a=!1:(cu=a=!0,(p===2||p===9||p===3||p===6)&&(p=ha.current,p!==null&&p.tag===13&&(p.flags|=16384))),sv(l,a)):Tp(l)}function Tp(a){var l=a;do{if((l.flags&32768)!==0){sv(l,cu);return}a=l.return;var d=RA(l.alternate,l,vl);if(d!==null){wn=d;return}if(l=l.sibling,l!==null){wn=l;return}wn=l=a}while(l!==null);Xi===0&&(Xi=5)}function sv(a,l){do{var d=DA(a.alternate,a);if(d!==null){d.flags&=32767,wn=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){wn=a;return}wn=a=d}while(a!==null);Xi=6,wn=null}function av(a,l,d,p,w,A,R,$,he){a.cancelPendingCommit=null;do Cp();while(Vr!==0);if((Zn&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(A=l.lanes|l.childLanes,A|=qi,Dn(a,d,A,R,$,he),a===mi&&(wn=mi=null,zn=0),pf=l,hu=a,gf=d,Xm=A,Qm=w,Jy=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,WA(st,function(){return fv(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=G.T,G.T=null,w=te.p,te.p=2,R=Zn,Zn|=4;try{IA(a,l,d)}finally{Zn=R,te.p=w,G.T=p}}Vr=1,ov(),lv(),uv()}}function ov(){if(Vr===1){Vr=0;var a=hu,l=pf,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=G.T,G.T=null;var p=te.p;te.p=2;var w=Zn;Zn|=4;try{qy(l,a);var A=g0,R=Br(a.containerInfo),$=A.focusedElem,he=A.selectionRange;if(R!==$&&$&&$.ownerDocument&&go($.ownerDocument.documentElement,$)){if(he!==null&&Cr($)){var Pe=he.start,ze=he.end;if(ze===void 0&&(ze=Pe),"selectionStart"in $)$.selectionStart=Pe,$.selectionEnd=Math.min(ze,$.value.length);else{var We=$.ownerDocument||document,Re=We&&We.defaultView||window;if(Re.getSelection){var Ie=Re.getSelection(),Jt=$.textContent.length,Ut=Math.min(he.start,Jt),si=he.end===void 0?Ut:Math.min(he.end,Jt);!Ie.extend&&Ut>si&&(R=si,si=Ut,Ut=R);var Te=Ma($,Ut),be=Ma($,si);if(Te&&be&&(Ie.rangeCount!==1||Ie.anchorNode!==Te.node||Ie.anchorOffset!==Te.offset||Ie.focusNode!==be.node||Ie.focusOffset!==be.offset)){var Me=We.createRange();Me.setStart(Te.node,Te.offset),Ie.removeAllRanges(),Ut>si?(Ie.addRange(Me),Ie.extend(be.node,be.offset)):(Me.setEnd(be.node,be.offset),Ie.addRange(Me))}}}}for(We=[],Ie=$;Ie=Ie.parentNode;)Ie.nodeType===1&&We.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<We.length;$++){var Ve=We[$];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Bp=!!p0,g0=p0=null}finally{Zn=w,te.p=p,G.T=d}}a.current=l,Vr=2}}function lv(){if(Vr===2){Vr=0;var a=hu,l=pf,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=G.T,G.T=null;var p=te.p;te.p=2;var w=Zn;Zn|=4;try{zy(a,l.alternate,l)}finally{Zn=w,te.p=p,G.T=d}}Vr=3}}function uv(){if(Vr===4||Vr===3){Vr=0,fe();var a=hu,l=pf,d=gf,p=Jy;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Vr=5:(Vr=0,pf=hu=null,cv(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(du=null),ti(d),l=l.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(jt,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=G.T,w=te.p,te.p=2,G.T=null;try{for(var A=a.onRecoverableError,R=0;R<p.length;R++){var $=p[R];A($.value,{componentStack:$.stack})}}finally{G.T=l,te.p=w}}(gf&3)!==0&&Cp(),Do(a),w=a.pendingLanes,(d&4194090)!==0&&(w&42)!==0?a===e0?Id++:(Id=0,e0=a):Id=0,Od(0)}}function cv(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,tc(l)))}function Cp(a){return ov(),lv(),uv(),fv()}function fv(){if(Vr!==5)return!1;var a=hu,l=Xm;Xm=0;var d=ti(gf),p=G.T,w=te.p;try{te.p=32>d?32:d,G.T=null,d=Qm,Qm=null;var A=hu,R=gf;if(Vr=0,pf=hu=null,gf=0,(Zn&6)!==0)throw Error(i(331));var $=Zn;if(Zn|=4,Yy(A.current),Gy(A,A.current,R,d),Zn=$,Od(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(jt,A)}catch{}return!0}finally{te.p=w,G.T=p,cv(a,l)}}function dv(a,l,d){l=gn(d,l),l=Pm(a.stateNode,l,2),a=Ge(a,l,2),a!==null&&(Yi(a,2),Do(a))}function oi(a,l,d){if(a.tag===3)dv(a,a,d);else for(;l!==null;){if(l.tag===3){dv(l,a,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(du===null||!du.has(p))){a=gn(d,a),d=my(2),p=Ge(l,d,2),p!==null&&(yy(d,p,l,a),Yi(p,2),Do(p));break}}l=l.return}}function r0(a,l,d){var p=a.pingCache;if(p===null){p=a.pingCache=new BA;var w=new Set;p.set(l,w)}else w=p.get(l),w===void 0&&(w=new Set,p.set(l,w));w.has(d)||(Ym=!0,w.add(d),a=qA.bind(null,a,l,d),l.then(a,a))}function qA(a,l,d){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,mi===a&&(zn&d)===d&&(Xi===4||Xi===3&&(zn&62914560)===zn&&300>Et()-Zm?(Zn&2)===0&&mf(a,0):$m|=d,hf===zn&&(hf=0)),Do(a)}function hv(a,l){l===0&&(l=Rn()),a=Pa(a,l),a!==null&&(Yi(a,l),Do(a))}function HA(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),hv(a,d)}function GA(a,l){var d=0;switch(a.tag){case 13:var p=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(l),hv(a,d)}function WA(a,l){return Ke(a,l)}var Np=null,vf=null,s0=!1,Ep=!1,a0=!1,mc=0;function Do(a){a!==vf&&a.next===null&&(vf===null?Np=vf=a:vf=vf.next=a),Ep=!0,s0||(s0=!0,YA())}function Od(a,l){if(!a0&&Ep){a0=!0;do for(var d=!1,p=Np;p!==null;){if(a!==0){var w=p.pendingLanes;if(w===0)var A=0;else{var R=p.suspendedLanes,$=p.pingedLanes;A=(1<<31-bt(42|a)+1)-1,A&=w&~(R&~$),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(d=!0,yv(p,A))}else A=zn,A=pn(p,p===mi?A:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(A&3)===0||ci(p,A)||(d=!0,yv(p,A));p=p.next}while(d);a0=!1}}function KA(){pv()}function pv(){Ep=s0=!1;var a=0;mc!==0&&(nT()&&(a=mc),mc=0);for(var l=Et(),d=null,p=Np;p!==null;){var w=p.next,A=gv(p,l);A===0?(p.next=null,d===null?Np=w:d.next=w,w===null&&(vf=d)):(d=p,(a!==0||(A&3)!==0)&&(Ep=!0)),p=w}Od(a)}function gv(a,l){for(var d=a.suspendedLanes,p=a.pingedLanes,w=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var R=31-bt(A),$=1<<R,he=w[R];he===-1?(($&d)===0||($&p)!==0)&&(w[R]=yn($,l)):he<=l&&(a.expiredLanes|=$),A&=~$}if(l=mi,d=zn,d=pn(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,d===0||a===l&&(Xn===2||Xn===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&et(p),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ci(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(p!==null&&et(p),ti(d)){case 2:case 8:d=nt;break;case 32:d=st;break;case 268435456:d=mt;break;default:d=st}return p=mv.bind(null,a),d=Ke(d,p),a.callbackPriority=l,a.callbackNode=d,l}return p!==null&&p!==null&&et(p),a.callbackPriority=2,a.callbackNode=null,2}function mv(a,l){if(Vr!==0&&Vr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Cp()&&a.callbackNode!==d)return null;var p=zn;return p=pn(a,a===mi?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Xy(a,p,l),gv(a,Et()),a.callbackNode!=null&&a.callbackNode===d?mv.bind(null,a):null)}function yv(a,l){if(Cp())return null;Xy(a,l,!0)}function YA(){rT(function(){(Zn&6)!==0?Ke(Ze,KA):pv()})}function o0(){return mc===0&&(mc=os()),mc}function vv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:vs(""+a)}function xv(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function $A(a,l,d,p,w){if(l==="submit"&&d&&d.stateNode===w){var A=vv((w[Cn]||null).action),R=p.submitter;R&&(l=(l=R[Cn]||null)?vv(l.formAction):R.getAttribute("formAction"),l!==null&&(A=l,R=null));var $=new oo("action","action",null,p,w);a.push({event:$,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(mc!==0){var he=R?xv(w,R):new FormData(w);da(d,{pending:!0,data:he,method:w.method,action:A},null,he)}}else typeof A=="function"&&($.preventDefault(),he=R?xv(w,R):new FormData(w),da(d,{pending:!0,data:he,method:w.method,action:A},A,he))},currentTarget:w}]})}}for(var l0=0;l0<nl.length;l0++){var u0=nl[l0],JA=u0.toLowerCase(),ZA=u0[0].toUpperCase()+u0.slice(1);Pi(JA,"on"+ZA)}Pi(Yl,"onAnimationEnd"),Pi(yo,"onAnimationIteration"),Pi(vo,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(xo,"onTransitionRun"),Pi(tl,"onTransitionStart"),Pi($l,"onTransitionCancel"),Pi(bo,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fd));function bv(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var p=a[d],w=p.event;p=p.listeners;e:{var A=void 0;if(l)for(var R=p.length-1;0<=R;R--){var $=p[R],he=$.instance,Pe=$.currentTarget;if($=$.listener,he!==A&&w.isPropagationStopped())break e;A=$,w.currentTarget=Pe;try{A(w)}catch(ze){gp(ze)}w.currentTarget=null,A=he}else for(R=0;R<p.length;R++){if($=p[R],he=$.instance,Pe=$.currentTarget,$=$.listener,he!==A&&w.isPropagationStopped())break e;A=$,w.currentTarget=Pe;try{A(w)}catch(ze){gp(ze)}w.currentTarget=null,A=he}}}}function _n(a,l){var d=l[kn];d===void 0&&(d=l[kn]=new Set);var p=a+"__bubble";d.has(p)||(wv(l,a,2,!1),d.add(p))}function c0(a,l,d){var p=0;l&&(p|=4),wv(d,a,p,l)}var kp="_reactListening"+Math.random().toString(36).slice(2);function f0(a){if(!a[kp]){a[kp]=!0,ls.forEach(function(d){d!=="selectionchange"&&(XA.has(d)||c0(d,!1,a),c0(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[kp]||(l[kp]=!0,c0("selectionchange",!1,l))}}function wv(a,l,d,p){switch(Gv(l)){case 2:var w=TT;break;case 8:w=CT;break;default:w=T0}d=w.bind(null,l,d,a),w=void 0,!Il||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),p?w!==void 0?a.addEventListener(l,d,{capture:!0,passive:w}):a.addEventListener(l,d,!0):w!==void 0?a.addEventListener(l,d,{passive:w}):a.addEventListener(l,d,!1)}function d0(a,l,d,p,w){var A=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var $=p.stateNode.containerInfo;if($===w)break;if(R===4)for(R=p.return;R!==null;){var he=R.tag;if((he===3||he===4)&&R.stateNode.containerInfo===w)return;R=R.return}for(;$!==null;){if(R=fi($),R===null)return;if(he=R.tag,he===5||he===6||he===26||he===27){p=A=R;continue e}$=$.parentNode}}p=p.return}qc(function(){var Pe=A,ze=ji(d),We=[];e:{var Re=La.get(a);if(Re!==void 0){var Ie=oo,Jt=a;switch(a){case"keypress":if(ao(d)===0)break e;case"keydown":case"keyup":Ie=ql;break;case"focusin":Jt="focus",Ie=Yo;break;case"focusout":Jt="blur",Ie=Yo;break;case"beforeblur":case"afterblur":Ie=Yo;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Ku;break;case Yl:case yo:case vo:Ie=od;break;case bo:Ie=F;break;case"scroll":case"scrollend":Ie=Gc;break;case"wheel":Ie=ge;break;case"copy":case"cut":case"paste":Ie=ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Hl;break;case"toggle":case"beforetoggle":Ie=Fe}var Ut=(l&4)!==0,si=!Ut&&(a==="scroll"||a==="scrollend"),Te=Ut?Re!==null?Re+"Capture":null:Re;Ut=[];for(var be=Pe,Me;be!==null;){var Ve=be;if(Me=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Me===null||Te===null||(Ve=Wr(be,Te),Ve!=null&&Ut.push(Bd(be,Ve,Me))),si)break;be=be.return}0<Ut.length&&(Re=new Ie(Re,Jt,null,d,ze),We.push({event:Re,listeners:Ut}))}}if((l&7)===0){e:{if(Re=a==="mouseover"||a==="pointerover",Ie=a==="mouseout"||a==="pointerout",Re&&d!==Ta&&(Jt=d.relatedTarget||d.fromElement)&&(fi(Jt)||Jt[ni]))break e;if((Ie||Re)&&(Re=ze.window===ze?ze:(Re=ze.ownerDocument)?Re.defaultView||Re.parentWindow:window,Ie?(Jt=d.relatedTarget||d.toElement,Ie=Pe,Jt=Jt?fi(Jt):null,Jt!==null&&(si=s(Jt),Ut=Jt.tag,Jt!==si||Ut!==5&&Ut!==27&&Ut!==6)&&(Jt=null)):(Ie=null,Jt=Pe),Ie!==Jt)){if(Ut=ra,Ve="onMouseLeave",Te="onMouseEnter",be="mouse",(a==="pointerout"||a==="pointerover")&&(Ut=Hl,Ve="onPointerLeave",Te="onPointerEnter",be="pointer"),si=Ie==null?Re:gr(Ie),Me=Jt==null?Re:gr(Jt),Re=new Ut(Ve,be+"leave",Ie,d,ze),Re.target=si,Re.relatedTarget=Me,Ve=null,fi(ze)===Pe&&(Ut=new Ut(Te,be+"enter",Jt,d,ze),Ut.target=Me,Ut.relatedTarget=si,Ve=Ut),si=Ve,Ie&&Jt)t:{for(Ut=Ie,Te=Jt,be=0,Me=Ut;Me;Me=xf(Me))be++;for(Me=0,Ve=Te;Ve;Ve=xf(Ve))Me++;for(;0<be-Me;)Ut=xf(Ut),be--;for(;0<Me-be;)Te=xf(Te),Me--;for(;be--;){if(Ut===Te||Te!==null&&Ut===Te.alternate)break t;Ut=xf(Ut),Te=xf(Te)}Ut=null}else Ut=null;Ie!==null&&_v(We,Re,Ie,Ut,!1),Jt!==null&&si!==null&&_v(We,si,Jt,Ut,!0)}}e:{if(Re=Pe?gr(Pe):window,Ie=Re.nodeName&&Re.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Re.type==="file")var St=Wl;else if(Os(Re))if(Zo)St=Kc;else{St=cd;var xn=Kr}else Ie=Re.nodeName,!Ie||Ie.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Pe&&Gr(Pe.elementType)&&(St=Wl):St=$u;if(St&&(St=St(a,Pe))){Yu(We,St,d,ze);break e}xn&&xn(a,Re,Pe),a==="focusout"&&Pe&&Re.type==="number"&&Pe.memoizedProps.value!=null&&$n(Re,"number",Re.value)}switch(xn=Pe?gr(Pe):window,a){case"focusin":(Os(xn)||xn.contentEditable==="true")&&(Yr=xn,Fs=Pe,sa=null);break;case"focusout":sa=Fs=Yr=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,Li(We,d,ze);break;case"selectionchange":if(mo)break;case"keydown":case"keyup":Li(We,d,ze)}var Rt;if(ct)e:{switch(a){case"compositionstart":var qt="onCompositionStart";break e;case"compositionend":qt="onCompositionEnd";break e;case"compositionupdate":qt="onCompositionUpdate";break e}qt=void 0}else Vi?wi(a,d)&&(qt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(qt="onCompositionStart");qt&&(Qt&&d.locale!=="ko"&&(Vi||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Vi&&(Rt=Hc()):(bs=ze,qu="value"in bs?bs.value:bs.textContent,Vi=!0)),xn=Mp(Pe,qt),0<xn.length&&(qt=new jl(qt,a,null,d,ze),We.push({event:qt,listeners:xn}),Rt?qt.data=Rt:(Rt=Ui(d),Rt!==null&&(qt.data=Rt)))),(Rt=rn?mr(a,d):Is(a,d))&&(qt=Mp(Pe,"onBeforeInput"),0<qt.length&&(xn=new jl("onBeforeInput","beforeinput",null,d,ze),We.push({event:xn,listeners:qt}),xn.data=Rt)),$A(We,a,Pe,d,ze)}bv(We,l)})}function Bd(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Mp(a,l){for(var d=l+"Capture",p=[];a!==null;){var w=a,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=Wr(a,d),w!=null&&p.unshift(Bd(a,w,A)),w=Wr(a,l),w!=null&&p.push(Bd(a,w,A))),a.tag===3)return p;a=a.return}return[]}function xf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function _v(a,l,d,p,w){for(var A=l._reactName,R=[];d!==null&&d!==p;){var $=d,he=$.alternate,Pe=$.stateNode;if($=$.tag,he!==null&&he===p)break;$!==5&&$!==26&&$!==27||Pe===null||(he=Pe,w?(Pe=Wr(d,A),Pe!=null&&R.unshift(Bd(d,Pe,he))):w||(Pe=Wr(d,A),Pe!=null&&R.push(Bd(d,Pe,he)))),d=d.return}R.length!==0&&a.push({event:l,listeners:R})}var QA=/\r\n?/g,eT=/\u0000|\uFFFD/g;function Sv(a){return(typeof a=="string"?a:""+a).replace(QA,`
`).replace(eT,"")}function Av(a,l){return l=Sv(l),Sv(a)===l}function Lp(){}function ri(a,l,d,p,w,A){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||ir(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&ir(a,""+p);break;case"className":wt(a,"class",p);break;case"tabIndex":wt(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":wt(a,d,p);break;case"style":Sa(a,p,A);break;case"data":if(l!=="object"){wt(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=vs(""+p),a.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(d==="formAction"?(l!=="input"&&ri(a,l,"name",w.name,w,null),ri(a,l,"formEncType",w.formEncType,w,null),ri(a,l,"formMethod",w.formMethod,w,null),ri(a,l,"formTarget",w.formTarget,w,null)):(ri(a,l,"encType",w.encType,w,null),ri(a,l,"method",w.method,w,null),ri(a,l,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=vs(""+p),a.setAttribute(d,p);break;case"onClick":p!=null&&(a.onclick=Lp);break;case"onScroll":p!=null&&_n("scroll",a);break;case"onScrollEnd":p!=null&&_n("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(w.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}d=vs(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""+p):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":p===!0?a.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,p):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(d,p):a.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(d):a.setAttribute(d,p);break;case"popover":_n("beforetoggle",a),_n("toggle",a),Hr(a,"popover",p);break;case"xlinkActuate":vt(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":vt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":vt(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":vt(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":vt(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":vt(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":vt(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":vt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":vt(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Hr(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=ys.get(d)||d,Hr(a,d,p))}}function h0(a,l,d,p,w,A){switch(d){case"style":Sa(a,p,A);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(w.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof p=="string"?ir(a,p):(typeof p=="number"||typeof p=="bigint")&&ir(a,""+p);break;case"onScroll":p!=null&&_n("scroll",a);break;case"onScrollEnd":p!=null&&_n("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Lp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ar.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),l=d.slice(2,w?d.length-7:void 0),A=a[Cn]||null,A=A!=null?A[d]:null,typeof A=="function"&&a.removeEventListener(l,A,w),typeof p=="function")){typeof A!="function"&&A!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,p,w);break e}d in a?a[d]=p:p===!0?a.setAttribute(d,""):Hr(a,d,p)}}}function qr(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",a),_n("load",a);var p=!1,w=!1,A;for(A in d)if(d.hasOwnProperty(A)){var R=d[A];if(R!=null)switch(A){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:ri(a,l,A,R,d,null)}}w&&ri(a,l,"srcSet",d.srcSet,d,null),p&&ri(a,l,"src",d.src,d,null);return;case"input":_n("invalid",a);var $=A=R=w=null,he=null,Pe=null;for(p in d)if(d.hasOwnProperty(p)){var ze=d[p];if(ze!=null)switch(p){case"name":w=ze;break;case"type":R=ze;break;case"checked":he=ze;break;case"defaultChecked":Pe=ze;break;case"value":A=ze;break;case"defaultValue":$=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,l));break;default:ri(a,l,p,ze,d,null)}}hi(a,A,$,he,Pe,R,w,!1),ht(a);return;case"select":_n("invalid",a),p=R=A=null;for(w in d)if(d.hasOwnProperty(w)&&($=d[w],$!=null))switch(w){case"value":A=$;break;case"defaultValue":R=$;break;case"multiple":p=$;default:ri(a,l,w,$,d,null)}l=A,d=R,a.multiple=!!p,l!=null?zi(a,!!p,l,!1):d!=null&&zi(a,!!p,d,!0);return;case"textarea":_n("invalid",a),A=w=p=null;for(R in d)if(d.hasOwnProperty(R)&&($=d[R],$!=null))switch(R){case"value":p=$;break;case"defaultValue":w=$;break;case"children":A=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:ri(a,l,R,$,d,null)}vn(a,p,w,A),ht(a);return;case"option":for(he in d)if(d.hasOwnProperty(he)&&(p=d[he],p!=null))switch(he){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ri(a,l,he,p,d,null)}return;case"dialog":_n("beforetoggle",a),_n("toggle",a),_n("cancel",a),_n("close",a);break;case"iframe":case"object":_n("load",a);break;case"video":case"audio":for(p=0;p<Fd.length;p++)_n(Fd[p],a);break;case"image":_n("error",a),_n("load",a);break;case"details":_n("toggle",a);break;case"embed":case"source":case"link":_n("error",a),_n("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in d)if(d.hasOwnProperty(Pe)&&(p=d[Pe],p!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:ri(a,l,Pe,p,d,null)}return;default:if(Gr(l)){for(ze in d)d.hasOwnProperty(ze)&&(p=d[ze],p!==void 0&&h0(a,l,ze,p,d,void 0));return}}for($ in d)d.hasOwnProperty($)&&(p=d[$],p!=null&&ri(a,l,$,p,d,null))}function tT(a,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,R=null,$=null,he=null,Pe=null,ze=null;for(Ie in d){var We=d[Ie];if(d.hasOwnProperty(Ie)&&We!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":he=We;default:p.hasOwnProperty(Ie)||ri(a,l,Ie,null,p,We)}}for(var Re in p){var Ie=p[Re];if(We=d[Re],p.hasOwnProperty(Re)&&(Ie!=null||We!=null))switch(Re){case"type":A=Ie;break;case"name":w=Ie;break;case"checked":Pe=Ie;break;case"defaultChecked":ze=Ie;break;case"value":R=Ie;break;case"defaultValue":$=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,l));break;default:Ie!==We&&ri(a,l,Re,Ie,p,We)}}On(a,R,$,he,Pe,ze,A,w);return;case"select":Ie=R=$=Re=null;for(A in d)if(he=d[A],d.hasOwnProperty(A)&&he!=null)switch(A){case"value":break;case"multiple":Ie=he;default:p.hasOwnProperty(A)||ri(a,l,A,null,p,he)}for(w in p)if(A=p[w],he=d[w],p.hasOwnProperty(w)&&(A!=null||he!=null))switch(w){case"value":Re=A;break;case"defaultValue":$=A;break;case"multiple":R=A;default:A!==he&&ri(a,l,w,A,p,he)}l=$,d=R,p=Ie,Re!=null?zi(a,!!d,Re,!1):!!p!=!!d&&(l!=null?zi(a,!!d,l,!0):zi(a,!!d,d?[]:"",!1));return;case"textarea":Ie=Re=null;for($ in d)if(w=d[$],d.hasOwnProperty($)&&w!=null&&!p.hasOwnProperty($))switch($){case"value":break;case"children":break;default:ri(a,l,$,null,p,w)}for(R in p)if(w=p[R],A=d[R],p.hasOwnProperty(R)&&(w!=null||A!=null))switch(R){case"value":Re=w;break;case"defaultValue":Ie=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==A&&ri(a,l,R,w,p,A)}Tr(a,Re,Ie);return;case"option":for(var Jt in d)if(Re=d[Jt],d.hasOwnProperty(Jt)&&Re!=null&&!p.hasOwnProperty(Jt))switch(Jt){case"selected":a.selected=!1;break;default:ri(a,l,Jt,null,p,Re)}for(he in p)if(Re=p[he],Ie=d[he],p.hasOwnProperty(he)&&Re!==Ie&&(Re!=null||Ie!=null))switch(he){case"selected":a.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:ri(a,l,he,Re,p,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in d)Re=d[Ut],d.hasOwnProperty(Ut)&&Re!=null&&!p.hasOwnProperty(Ut)&&ri(a,l,Ut,null,p,Re);for(Pe in p)if(Re=p[Pe],Ie=d[Pe],p.hasOwnProperty(Pe)&&Re!==Ie&&(Re!=null||Ie!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,l));break;default:ri(a,l,Pe,Re,p,Ie)}return;default:if(Gr(l)){for(var si in d)Re=d[si],d.hasOwnProperty(si)&&Re!==void 0&&!p.hasOwnProperty(si)&&h0(a,l,si,void 0,p,Re);for(ze in p)Re=p[ze],Ie=d[ze],!p.hasOwnProperty(ze)||Re===Ie||Re===void 0&&Ie===void 0||h0(a,l,ze,Re,p,Ie);return}}for(var Te in d)Re=d[Te],d.hasOwnProperty(Te)&&Re!=null&&!p.hasOwnProperty(Te)&&ri(a,l,Te,null,p,Re);for(We in p)Re=p[We],Ie=d[We],!p.hasOwnProperty(We)||Re===Ie||Re==null&&Ie==null||ri(a,l,We,Re,p,Ie)}var p0=null,g0=null;function Pp(a){return a.nodeType===9?a:a.ownerDocument}function Tv(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function m0(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var y0=null;function nT(){var a=window.event;return a&&a.type==="popstate"?a===y0?!1:(y0=a,!0):(y0=null,!1)}var Nv=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(a){return Ev.resolve(null).then(a).catch(sT)}:Nv;function sT(a){setTimeout(function(){throw a})}function gu(a){return a==="head"}function kv(a,l){var d=l,p=0,w=0;do{var A=d.nextSibling;if(a.removeChild(d),A&&A.nodeType===8)if(d=A.data,d==="/$"){if(0<p&&8>p){d=p;var R=a.ownerDocument;if(d&1&&zd(R.documentElement),d&2&&zd(R.body),d&4)for(d=R.head,zd(d),R=d.firstChild;R;){var $=R.nextSibling,he=R.nodeName;R[pr]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&R.rel.toLowerCase()==="stylesheet"||d.removeChild(R),R=$}}if(w===0){a.removeChild(A),Kd(l);return}w--}else d==="$"||d==="$?"||d==="$!"?w++:p=d.charCodeAt(0)-48;else p=0;d=A}while(d);Kd(l)}function v0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":v0(d),Mn(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function aT(a,l,d,p){for(;a.nodeType===1;){var w=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[pr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=Ga(a.nextSibling),a===null)break}return null}function oT(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Ga(a.nextSibling),a===null))return null;return a}function x0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function lT(a,l){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Ga(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var b0=null;function Mv(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function Lv(a,l,d){switch(l=Pp(d),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function zd(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Mn(a)}var ga=new Map,Pv=new Set;function Rp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var xl=te.d;te.d={f:uT,r:cT,D:fT,C:dT,L:hT,m:pT,X:mT,S:gT,M:yT};function uT(){var a=xl.f(),l=Ap();return a||l}function cT(a){var l=di(a);l!==null&&l.tag===5&&l.type==="form"?fc(l):xl.r(a)}var bf=typeof document>"u"?null:document;function Rv(a,l,d){var p=bf;if(p&&typeof l=="string"&&l){var w=kt(l);w='link[rel="'+a+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),Pv.has(w)||(Pv.add(w),a={rel:a,crossOrigin:d,href:l},p.querySelector(w)===null&&(l=p.createElement("link"),qr(l,"link",a),Xt(l),p.head.appendChild(l)))}}function fT(a){xl.D(a),Rv("dns-prefetch",a,null)}function dT(a,l){xl.C(a,l),Rv("preconnect",a,l)}function hT(a,l,d){xl.L(a,l,d);var p=bf;if(p&&a&&l){var w='link[rel="preload"][as="'+kt(l)+'"]';l==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+kt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+kt(d.imageSizes)+'"]')):w+='[href="'+kt(a)+'"]';var A=w;switch(l){case"style":A=wf(a);break;case"script":A=_f(a)}ga.has(A)||(a=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),ga.set(A,a),p.querySelector(w)!==null||l==="style"&&p.querySelector(jd(A))||l==="script"&&p.querySelector(Ud(A))||(l=p.createElement("link"),qr(l,"link",a),Xt(l),p.head.appendChild(l)))}}function pT(a,l){xl.m(a,l);var d=bf;if(d&&a){var p=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+kt(p)+'"][href="'+kt(a)+'"]',A=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=_f(a)}if(!ga.has(A)&&(a=h({rel:"modulepreload",href:a},l),ga.set(A,a),d.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ud(A)))return}p=d.createElement("link"),qr(p,"link",a),Xt(p),d.head.appendChild(p)}}}function gT(a,l,d){xl.S(a,l,d);var p=bf;if(p&&a){var w=ai(p).hoistableStyles,A=wf(a);l=l||"default";var R=w.get(A);if(!R){var $={loading:0,preload:null};if(R=p.querySelector(jd(A)))$.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":l},d),(d=ga.get(A))&&w0(a,d);var he=R=p.createElement("link");Xt(he),qr(he,"link",a),he._p=new Promise(function(Pe,ze){he.onload=Pe,he.onerror=ze}),he.addEventListener("load",function(){$.loading|=1}),he.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Dp(R,l,p)}R={type:"stylesheet",instance:R,count:1,state:$},w.set(A,R)}}}function mT(a,l){xl.X(a,l);var d=bf;if(d&&a){var p=ai(d).hoistableScripts,w=_f(a),A=p.get(w);A||(A=d.querySelector(Ud(w)),A||(a=h({src:a,async:!0},l),(l=ga.get(w))&&_0(a,l),A=d.createElement("script"),Xt(A),qr(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(w,A))}}function yT(a,l){xl.M(a,l);var d=bf;if(d&&a){var p=ai(d).hoistableScripts,w=_f(a),A=p.get(w);A||(A=d.querySelector(Ud(w)),A||(a=h({src:a,async:!0,type:"module"},l),(l=ga.get(w))&&_0(a,l),A=d.createElement("script"),Xt(A),qr(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(w,A))}}function Dv(a,l,d,p){var w=(w=ce.current)?Rp(w):null;if(!w)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=wf(d.href),d=ai(w).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=wf(d.href);var A=ai(w).hoistableStyles,R=A.get(a);if(R||(w=w.ownerDocument||w,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,R),(A=w.querySelector(jd(a)))&&!A._p&&(R.instance=A,R.state.loading=5),ga.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ga.set(a,d),A||vT(w,a,d,R.state))),l&&p===null)throw Error(i(528,""));return R}if(l&&p!==null)throw Error(i(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=_f(d),d=ai(w).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function wf(a){return'href="'+kt(a)+'"'}function jd(a){return'link[rel="stylesheet"]['+a+"]"}function Iv(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function vT(a,l,d,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),qr(l,"link",d),Xt(l),a.head.appendChild(l))}function _f(a){return'[src="'+kt(a)+'"]'}function Ud(a){return"script[async]"+a}function Ov(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+kt(d.href)+'"]');if(p)return l.instance=p,Xt(p),p;var w=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Xt(p),qr(p,"style",w),Dp(p,d.precedence,a),l.instance=p;case"stylesheet":w=wf(d.href);var A=a.querySelector(jd(w));if(A)return l.state.loading|=4,l.instance=A,Xt(A),A;p=Iv(d),(w=ga.get(w))&&w0(p,w),A=(a.ownerDocument||a).createElement("link"),Xt(A);var R=A;return R._p=new Promise(function($,he){R.onload=$,R.onerror=he}),qr(A,"link",p),l.state.loading|=4,Dp(A,d.precedence,a),l.instance=A;case"script":return A=_f(d.src),(w=a.querySelector(Ud(A)))?(l.instance=w,Xt(w),w):(p=d,(w=ga.get(A))&&(p=h({},d),_0(p,w)),a=a.ownerDocument||a,w=a.createElement("script"),Xt(w),qr(w,"link",p),a.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Dp(p,d.precedence,a));return l.instance}function Dp(a,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,A=w,R=0;R<p.length;R++){var $=p[R];if($.dataset.precedence===l)A=$;else if(A!==w)break}A?A.parentNode.insertBefore(a,A.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function w0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function _0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Ip=null;function Fv(a,l,d){if(Ip===null){var p=new Map,w=Ip=new Map;w.set(d,p)}else w=Ip,p=w.get(d),p||(p=new Map,w.set(d,p));if(p.has(a))return p;for(p.set(a,null),d=d.getElementsByTagName(a),w=0;w<d.length;w++){var A=d[w];if(!(A[pr]||A[In]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var R=A.getAttribute(l)||"";R=a+R;var $=p.get(R);$?$.push(A):p.set(R,[A])}}return p}function Bv(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function xT(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function zv(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Vd=null;function bT(){}function wT(a,l,d){if(Vd===null)throw Error(i(475));var p=Vd;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var w=wf(d.href),A=a.querySelector(jd(w));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(p.count++,p=Op.bind(p),a.then(p,p)),l.state.loading|=4,l.instance=A,Xt(A);return}A=a.ownerDocument||a,d=Iv(d),(w=ga.get(w))&&w0(d,w),A=A.createElement("link"),Xt(A);var R=A;R._p=new Promise(function($,he){R.onload=$,R.onerror=he}),qr(A,"link",d),l.instance=A}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=Op.bind(p),a.addEventListener("load",l),a.addEventListener("error",l))}}function _T(){if(Vd===null)throw Error(i(475));var a=Vd;return a.stylesheets&&a.count===0&&S0(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&S0(a,a.stylesheets),a.unsuspend){var p=a.unsuspend;a.unsuspend=null,p()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function Op(){if(this.count--,this.count===0){if(this.stylesheets)S0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Fp=null;function S0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Fp=new Map,l.forEach(ST,a),Fp=null,Op.call(a))}function ST(a,l){if(!(l.state.loading&4)){var d=Fp.get(a);if(d)var p=d.get(null);else{d=new Map,Fp.set(a,d);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var R=w[A];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),p=R)}p&&d.set(null,p)}w=l.instance,R=w.getAttribute("data-precedence"),A=d.get(R)||p,A===p&&d.set(null,w),d.set(R,w),this.count++,p=Op.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),A?A.parentNode.insertBefore(w,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),l.state.loading|=4}}var qd={$$typeof:I,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function AT(a,l,d,p,w,A,R,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function jv(a,l,d,p,w,A,R,$,he,Pe,ze,We){return a=new AT(a,l,d,R,$,he,Pe,We),l=1,A===!0&&(l|=24),A=Lr(3,null,null,l),a.current=A,A.stateNode=a,l=dd(),l.refCount++,a.pooledCache=l,l.refCount++,A.memoizedState={element:p,isDehydrated:d,cache:l},xe(A),a}function Uv(a){return a?(a=vr,a):vr}function Vv(a,l,d,p,w,A){w=Uv(w),p.context===null?p.context=w:p.pendingContext=w,p=Be(l),p.payload={element:d},A=A===void 0?null:A,A!==null&&(p.callback=A),d=Ge(a,p,l),d!==null&&(Ws(d,a,l),Ue(d,a,l))}function qv(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function A0(a,l){qv(a,l),(a=a.alternate)&&qv(a,l)}function Hv(a){if(a.tag===13){var l=Pa(a,67108864);l!==null&&Ws(l,a,67108864),A0(a,67108864)}}var Bp=!0;function TT(a,l,d,p){var w=G.T;G.T=null;var A=te.p;try{te.p=2,T0(a,l,d,p)}finally{te.p=A,G.T=w}}function CT(a,l,d,p){var w=G.T;G.T=null;var A=te.p;try{te.p=8,T0(a,l,d,p)}finally{te.p=A,G.T=w}}function T0(a,l,d,p){if(Bp){var w=C0(p);if(w===null)d0(a,l,p,zp,d),Wv(a,p);else if(ET(w,a,l,d,p))p.stopPropagation();else if(Wv(a,p),l&4&&-1<NT.indexOf(a)){for(;w!==null;){var A=di(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var R=hn(A.pendingLanes);if(R!==0){var $=A;for($.pendingLanes|=2,$.entangledLanes|=2;R;){var he=1<<31-bt(R);$.entanglements[1]|=he,R&=~he}Do(A),(Zn&6)===0&&(_p=Et()+500,Od(0))}}break;case 13:$=Pa(A,2),$!==null&&Ws($,A,2),Ap(),A0(A,2)}if(A=C0(p),A===null&&d0(a,l,p,zp,d),A===w)break;w=A}w!==null&&p.stopPropagation()}else d0(a,l,p,null,d)}}function C0(a){return a=ji(a),N0(a)}var zp=null;function N0(a){if(zp=null,a=fi(a),a!==null){var l=s(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=o(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return zp=a,null}function Gv(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case Ze:return 2;case nt:return 8;case st:case it:return 32;case mt:return 268435456;default:return 32}default:return 32}}var E0=!1,mu=null,yu=null,vu=null,Hd=new Map,Gd=new Map,xu=[],NT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wv(a,l){switch(a){case"focusin":case"focusout":mu=null;break;case"dragenter":case"dragleave":yu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":Hd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gd.delete(l.pointerId)}}function Wd(a,l,d,p,w,A){return a===null||a.nativeEvent!==A?(a={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:A,targetContainers:[w]},l!==null&&(l=di(l),l!==null&&Hv(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),a)}function ET(a,l,d,p,w){switch(l){case"focusin":return mu=Wd(mu,a,l,d,p,w),!0;case"dragenter":return yu=Wd(yu,a,l,d,p,w),!0;case"mouseover":return vu=Wd(vu,a,l,d,p,w),!0;case"pointerover":var A=w.pointerId;return Hd.set(A,Wd(Hd.get(A)||null,a,l,d,p,w)),!0;case"gotpointercapture":return A=w.pointerId,Gd.set(A,Wd(Gd.get(A)||null,a,l,d,p,w)),!0}return!1}function Kv(a){var l=fi(a.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){a.blockedOn=l,kr(a.priority,function(){if(d.tag===13){var p=Gs();p=xi(p);var w=Pa(d,p);w!==null&&Ws(w,d,p),A0(d,p)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function jp(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=C0(a.nativeEvent);if(d===null){d=a.nativeEvent;var p=new d.constructor(d.type,d);Ta=p,d.target.dispatchEvent(p),Ta=null}else return l=di(d),l!==null&&Hv(l),a.blockedOn=d,!1;l.shift()}return!0}function Yv(a,l,d){jp(a)&&d.delete(l)}function kT(){E0=!1,mu!==null&&jp(mu)&&(mu=null),yu!==null&&jp(yu)&&(yu=null),vu!==null&&jp(vu)&&(vu=null),Hd.forEach(Yv),Gd.forEach(Yv)}function Up(a,l){a.blockedOn===l&&(a.blockedOn=null,E0||(E0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kT)))}var Vp=null;function $v(a){Vp!==a&&(Vp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vp===a&&(Vp=null);for(var l=0;l<a.length;l+=3){var d=a[l],p=a[l+1],w=a[l+2];if(typeof p!="function"){if(N0(p||d)===null)continue;break}var A=di(d);A!==null&&(a.splice(l,3),l-=3,da(A,{pending:!0,data:w,method:d.method,action:p},p,w))}}))}function Kd(a){function l(he){return Up(he,a)}mu!==null&&Up(mu,a),yu!==null&&Up(yu,a),vu!==null&&Up(vu,a),Hd.forEach(l),Gd.forEach(l);for(var d=0;d<xu.length;d++){var p=xu[d];p.blockedOn===a&&(p.blockedOn=null)}for(;0<xu.length&&(d=xu[0],d.blockedOn===null);)Kv(d),d.blockedOn===null&&xu.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var w=d[p],A=d[p+1],R=w[Cn]||null;if(typeof A=="function")R||$v(d);else if(R){var $=null;if(A&&A.hasAttribute("formAction")){if(w=A,R=A[Cn]||null)$=R.formAction;else if(N0(w)!==null)continue}else $=R.action;typeof $=="function"?d[p+1]=$:(d.splice(p,3),p-=3),$v(d)}}}function k0(a){this._internalRoot=a}qp.prototype.render=k0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var d=l.current,p=Gs();Vv(d,p,a,l,null,null)},qp.prototype.unmount=k0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Vv(a.current,2,null,a,null,null),Ap(),l[ni]=null}};function qp(a){this._internalRoot=a}qp.prototype.unstable_scheduleHydration=function(a){if(a){var l=nr();a={blockedOn:null,target:a,priority:l};for(var d=0;d<xu.length&&l!==0&&l<xu[d].priority;d++);xu.splice(d,0,a),d===0&&Kv(a)}};var Jv=e.version;if(Jv!=="19.1.0")throw Error(i(527,Jv,"19.1.0"));te.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=c(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var MT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{jt=Hp.inject(MT),xt=Hp}catch{}}return $d.createRoot=function(a,l){if(!r(a))throw Error(i(299));var d=!1,p="",w=dy,A=hy,R=py,$=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks)),l=jv(a,1,!1,null,null,d,p,w,A,R,$,null),a[ni]=l.current,f0(a),new k0(l)},$d.hydrateRoot=function(a,l,d){if(!r(a))throw Error(i(299));var p=!1,w="",A=dy,R=hy,$=py,he=null,Pe=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(A=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&($=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(he=d.unstable_transitionCallbacks),d.formState!==void 0&&(Pe=d.formState)),l=jv(a,1,!0,l,d??null,p,w,A,R,$,he,Pe),l.context=Uv(null),d=l.current,p=Gs(),p=xi(p),w=Be(p),w.callback=null,Ge(d,w,p),d=p,l.current.lanes=d,Yi(l,d),Do(l),a[ni]=l.current,f0(a),new qp(l)},$d.version="19.1.0",$d}var a5;function qT(){if(a5)return P0.exports;a5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),P0.exports=VT(),P0.exports}var HT=qT();const GT=Yw(HT);var Jd={},o5;function WT(){if(o5)return Jd;o5=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.parse=o,Jd.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function o(b,x){const N=new s,T=b.length;if(T<2)return N;const M=(x==null?void 0:x.decode)||h;let k=0;do{const P=b.indexOf("=",k);if(P===-1)break;const I=b.indexOf(";",k),J=I===-1?T:I;if(P>J){k=b.lastIndexOf(";",P-1)+1;continue}const H=u(b,k,P),K=c(b,P,H),X=b.slice(H,K);if(N[X]===void 0){let U=u(b,P+1,J),ee=c(b,J,U);const de=M(b.slice(U,ee));N[X]=de}k=J+1}while(k<T);return N}function u(b,x,N){do{const T=b.charCodeAt(x);if(T!==32&&T!==9)return x}while(++x<N);return N}function c(b,x,N){for(;x>N;){const T=b.charCodeAt(--x);if(T!==32&&T!==9)return x+1}return N}function f(b,x,N){const T=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=T(x);if(!e.test(M))throw new TypeError(`argument val is invalid: ${x}`);let k=b+"="+M;if(!N)return k;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);k+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);k+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);k+="; Path="+N.path}if(N.expires){if(!y(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);k+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(k+="; HttpOnly"),N.secure&&(k+="; Secure"),N.partitioned&&(k+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return k}function h(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return r.call(b)==="[object Date]"}return Jd}WT();var l5="popstate";function KT(n={}){function e(r,s){let{pathname:o="/",search:u="",hash:c=""}=Bc(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),v1("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let c=r.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof s=="string"?s:kh(s))}function i(r,s){wa(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return $T(e,t,i,n)}function Fi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wa(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YT(){return Math.random().toString(36).substring(2,10)}function u5(n,e){return{usr:n.state,key:n.key,idx:e}}function v1(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Bc(e):e,state:t,key:e&&e.key||i||YT()}}function kh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Bc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function $T(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,u="POP",c=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function y(){u="POP";let M=h(),k=M==null?null:M-f;f=M,c&&c({action:u,location:T.location,delta:k})}function b(M,k){u="PUSH";let P=v1(T.location,M,k);t&&t(P,M),f=h()+1;let I=u5(P,f),J=T.createHref(P);try{o.pushState(I,"",J)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(J)}s&&c&&c({action:u,location:T.location,delta:1})}function x(M,k){u="REPLACE";let P=v1(T.location,M,k);t&&t(P,M),f=h();let I=u5(P,f),J=T.createHref(P);o.replaceState(I,"",J),s&&c&&c({action:u,location:T.location,delta:0})}function N(M){return JT(M)}let T={get action(){return u},get location(){return n(r,o)},listen(M){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(l5,y),c=M,()=>{r.removeEventListener(l5,y),c=null}},createHref(M){return e(r,M)},createURL:N,encodeLocation(M){let k=N(M);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:x,go(M){return o.go(M)}};return T}function JT(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Fi(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:kh(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function $w(n,e,t="/"){return ZT(n,e,t,!1)}function ZT(n,e,t,i){let r=typeof e=="string"?Bc(e):e,s=Pl(r.pathname||"/",t);if(s==null)return null;let o=Jw(n);XT(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let f=u3(s);u=o3(o[c],f,i)}return u}function Jw(n,e=[],t=[],i=""){let r=(s,o,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Fi(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let f=Ll([i,c.relativePath]),h=t.concat(c);s.children&&s.children.length>0&&(Fi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Jw(s.children,e,h,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:s3(f,s.index),routesMeta:h})};return n.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,o);else for(let c of Zw(s.path))r(s,o,c)}),e}function Zw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Zw(i.join("/")),u=[];return u.push(...o.map(c=>c===""?s:[s,c].join("/"))),r&&u.push(...o),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function XT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:a3(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var QT=/^:[\w-]+$/,e3=3,t3=2,n3=1,i3=10,r3=-2,c5=n=>n==="*";function s3(n,e){let t=n.split("/"),i=t.length;return t.some(c5)&&(i+=r3),e&&(i+=t3),t.filter(r=>!c5(r)).reduce((r,s)=>r+(QT.test(s)?e3:s===""?n3:i3),i)}function a3(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function o3(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let u=0;u<i.length;++u){let c=i[u],f=u===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",y=jg({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),b=c.route;if(!y&&f&&t&&!i[i.length-1].route.index&&(y=jg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!y)return null;Object.assign(r,y.params),o.push({params:r,pathname:Ll([s,y.pathname]),pathnameBase:h3(Ll([s,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(s=Ll([s,y.pathnameBase]))}return o}function jg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=l3(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:h,isOptional:y},b)=>{if(h==="*"){let N=u[b]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const x=u[b];return y&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:n}}function l3(n,e=!1,t=!0){wa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function u3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wa(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function c3(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Bc(n):n;return{pathname:t?t.startsWith("/")?t:f3(t,e):e,search:p3(i),hash:g3(r)}}function f3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function O0(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function y2(n){let e=d3(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function v2(n,e,t,i=!1){let r;typeof n=="string"?r=Bc(n):(r={...n},Fi(!r.pathname||!r.pathname.includes("?"),O0("?","pathname","search",r)),Fi(!r.pathname||!r.pathname.includes("#"),O0("#","pathname","hash",r)),Fi(!r.search||!r.search.includes("#"),O0("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,u;if(o==null)u=t;else{let y=e.length-1;if(!i&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),y-=1;r.pathname=b.join("/")}u=y>=0?e[y]:"/"}let c=c3(r,u),f=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Ll=n=>n.join("/").replace(/\/\/+/g,"/"),h3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),p3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,g3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function m3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Xw=["POST","PUT","PATCH","DELETE"];new Set(Xw);var y3=["GET",...Xw];new Set(y3);var nd=re.createContext(null);nd.displayName="DataRouter";var cm=re.createContext(null);cm.displayName="DataRouterState";var Qw=re.createContext({isTransitioning:!1});Qw.displayName="ViewTransition";var v3=re.createContext(new Map);v3.displayName="Fetchers";var x3=re.createContext(null);x3.displayName="Await";var eo=re.createContext(null);eo.displayName="Navigation";var Uh=re.createContext(null);Uh.displayName="Location";var to=re.createContext({outlet:null,matches:[],isDataRoute:!1});to.displayName="Route";var x2=re.createContext(null);x2.displayName="RouteError";function b3(n,{relative:e}={}){Fi(id(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=re.useContext(eo),{hash:r,pathname:s,search:o}=Vh(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Ll([t,s])),i.createHref({pathname:u,search:o,hash:r})}function id(){return re.useContext(Uh)!=null}function Fu(){return Fi(id(),"useLocation() may be used only in the context of a <Router> component."),re.useContext(Uh).location}var e_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t_(n){re.useContext(eo).static||re.useLayoutEffect(n)}function b2(){let{isDataRoute:n}=re.useContext(to);return n?D3():w3()}function w3(){Fi(id(),"useNavigate() may be used only in the context of a <Router> component.");let n=re.useContext(nd),{basename:e,navigator:t}=re.useContext(eo),{matches:i}=re.useContext(to),{pathname:r}=Fu(),s=JSON.stringify(y2(i)),o=re.useRef(!1);return t_(()=>{o.current=!0}),re.useCallback((c,f={})=>{if(wa(o.current,e_),!o.current)return;if(typeof c=="number"){t.go(c);return}let h=v2(c,JSON.parse(s),r,f.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ll([e,h.pathname])),(f.replace?t.replace:t.push)(h,f.state,f)},[e,t,s,r,n])}re.createContext(null);function _3(){let{matches:n}=re.useContext(to),e=n[n.length-1];return e?e.params:{}}function Vh(n,{relative:e}={}){let{matches:t}=re.useContext(to),{pathname:i}=Fu(),r=JSON.stringify(y2(t));return re.useMemo(()=>v2(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function S3(n,e){return n_(n,e)}function n_(n,e,t,i){var k;Fi(id(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=re.useContext(eo),{matches:s}=re.useContext(to),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let P=h&&h.path||"";i_(c,!h||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Fu(),b;if(e){let P=typeof e=="string"?Bc(e):e;Fi(f==="/"||((k=P.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=y;let x=b.pathname||"/",N=x;if(f!=="/"){let P=f.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=$w(n,{pathname:N});wa(h||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),wa(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=E3(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Ll([f,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:Ll([f,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,t,i);return e&&M?re.createElement(Uh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function A3(){let n=R3(),e=m3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=re.createElement(re.Fragment,null,re.createElement("p",null,"💿 Hey developer 👋"),re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",re.createElement("code",{style:s},"ErrorBoundary")," or"," ",re.createElement("code",{style:s},"errorElement")," prop on your route.")),re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),t?re.createElement("pre",{style:r},t):null,o)}var T3=re.createElement(A3,null),C3=class extends re.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?re.createElement(to.Provider,{value:this.props.routeContext},re.createElement(x2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N3({routeContext:n,match:e,children:t}){let i=re.useContext(nd);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),re.createElement(to.Provider,{value:n},t)}function E3(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,s=t==null?void 0:t.errors;if(s!=null){let c=r.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Fi(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let o=!1,u=-1;if(t)for(let c=0;c<r.length;c++){let f=r[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:y}=t,b=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||b){o=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((c,f,h)=>{let y,b=!1,x=null,N=null;t&&(y=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||T3,o&&(u<0&&h===0?(i_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):u===h&&(b=!0,N=f.route.hydrateFallbackElement||null)));let T=e.concat(r.slice(0,h+1)),M=()=>{let k;return y?k=x:b?k=N:f.route.Component?k=re.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=c,re.createElement(N3,{match:f,routeContext:{outlet:c,matches:T,isDataRoute:t!=null},children:k})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?re.createElement(C3,{location:t.location,revalidation:t.revalidation,component:x,error:y,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):M()},null)}function w2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k3(n){let e=re.useContext(nd);return Fi(e,w2(n)),e}function M3(n){let e=re.useContext(cm);return Fi(e,w2(n)),e}function L3(n){let e=re.useContext(to);return Fi(e,w2(n)),e}function _2(n){let e=L3(n),t=e.matches[e.matches.length-1];return Fi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function P3(){return _2("useRouteId")}function R3(){var i;let n=re.useContext(x2),e=M3("useRouteError"),t=_2("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function D3(){let{router:n}=k3("useNavigate"),e=_2("useNavigate"),t=re.useRef(!1);return t_(()=>{t.current=!0}),re.useCallback(async(r,s={})=>{wa(t.current,e_),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var f5={};function i_(n,e,t){!e&&!f5[n]&&(f5[n]=!0,wa(!1,t))}re.memo(I3);function I3({routes:n,future:e,state:t}){return n_(n,void 0,t,e)}function d5({to:n,replace:e,state:t,relative:i}){Fi(id(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=re.useContext(eo);wa(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=re.useContext(to),{pathname:o}=Fu(),u=b2(),c=v2(n,y2(s),o,i==="path"),f=JSON.stringify(c);return re.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:i})},[u,f,i,e,t]),null}function Sc(n){Fi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O3({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){Fi(!id(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),u=re.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=Bc(t));let{pathname:c="/",search:f="",hash:h="",state:y=null,key:b="default"}=t,x=re.useMemo(()=>{let N=Pl(c,o);return N==null?null:{location:{pathname:N,search:f,hash:h,state:y,key:b},navigationType:i}},[o,c,f,h,y,b,i]);return wa(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:re.createElement(eo.Provider,{value:u},re.createElement(Uh.Provider,{children:e,value:x}))}function F3({children:n,location:e}){return S3(x1(n),e)}function x1(n,e=[]){let t=[];return re.Children.forEach(n,(i,r)=>{if(!re.isValidElement(i))return;let s=[...e,r];if(i.type===re.Fragment){t.push.apply(t,x1(i.props.children,s));return}Fi(i.type===Sc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=x1(i.props.children,s)),t.push(o)}),t}var wg="get",_g="application/x-www-form-urlencoded";function fm(n){return n!=null&&typeof n.tagName=="string"}function B3(n){return fm(n)&&n.tagName.toLowerCase()==="button"}function z3(n){return fm(n)&&n.tagName.toLowerCase()==="form"}function j3(n){return fm(n)&&n.tagName.toLowerCase()==="input"}function U3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function V3(n,e){return n.button===0&&(!e||e==="_self")&&!U3(n)}var Gp=null;function q3(){if(Gp===null)try{new FormData(document.createElement("form"),0),Gp=!1}catch{Gp=!0}return Gp}var H3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function F0(n){return n!=null&&!H3.has(n)?(wa(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_g}"`),null):n}function G3(n,e){let t,i,r,s,o;if(z3(n)){let u=n.getAttribute("action");i=u?Pl(u,e):null,t=n.getAttribute("method")||wg,r=F0(n.getAttribute("enctype"))||_g,s=new FormData(n)}else if(B3(n)||j3(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(i=c?Pl(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||wg,r=F0(n.getAttribute("formenctype"))||F0(u.getAttribute("enctype"))||_g,s=new FormData(u,n),!q3()){let{name:f,type:h,value:y}=n;if(h==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,y)}}else{if(fm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wg,i=null,r=_g,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}function S2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function W3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Y3(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await W3(s,t);return o.links?o.links():[]}return[]}));return X3(i.flat(1).filter(K3).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function h5(n,e,t,i,r,s){let o=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,u=(c,f)=>{var h;return t[f].pathname!==c.pathname||((h=t[f].route.path)==null?void 0:h.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,f)=>o(c,f)||u(c,f)):s==="data"?e.filter((c,f)=>{var y;let h=i.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let b=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $3(n,e,{includeHydrateFallback:t}={}){return J3(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function J3(n){return[...new Set(n)]}function Z3(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function X3(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(Z3(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q3=new Set([100,101,204,205]);function eC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Pl(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function r_(){let n=re.useContext(nd);return S2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tC(){let n=re.useContext(cm);return S2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var A2=re.createContext(void 0);A2.displayName="FrameworkContext";function s_(){let n=re.useContext(A2);return S2(n,"You must render this element inside a <HydratedRouter> element"),n}function nC(n,e){let t=re.useContext(A2),[i,r]=re.useState(!1),[s,o]=re.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:y}=e,b=re.useRef(null);re.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let T=k=>{k.forEach(P=>{o(P.isIntersecting)})},M=new IntersectionObserver(T,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[n]),re.useEffect(()=>{if(i){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[i]);let x=()=>{r(!0)},N=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,b,{}]:[s,b,{onFocus:Zd(u,x),onBlur:Zd(c,N),onMouseEnter:Zd(f,x),onMouseLeave:Zd(h,N),onTouchStart:Zd(y,x)}]:[!1,b,{}]}function Zd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function iC({page:n,...e}){let{router:t}=r_(),i=re.useMemo(()=>$w(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?re.createElement(sC,{page:n,matches:i,...e}):null}function rC(n){let{manifest:e,routeModules:t}=s_(),[i,r]=re.useState([]);return re.useEffect(()=>{let s=!1;return Y3(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function sC({page:n,matches:e,...t}){let i=Fu(),{manifest:r,routeModules:s}=s_(),{basename:o}=r_(),{loaderData:u,matches:c}=tC(),f=re.useMemo(()=>h5(n,e,c,r,i,"data"),[n,e,c,r,i]),h=re.useMemo(()=>h5(n,e,c,r,i,"assets"),[n,e,c,r,i]),y=re.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,T=!1;if(e.forEach(k=>{var I;let P=r.routes[k.route.id];!P||!P.hasLoader||(!f.some(J=>J.route.id===k.route.id)&&k.route.id in u&&((I=s[k.route.id])!=null&&I.shouldRevalidate)||P.hasClientLoader?T=!0:N.add(k.route.id))}),N.size===0)return[];let M=eC(n,o);return T&&N.size>0&&M.searchParams.set("_routes",e.filter(k=>N.has(k.route.id)).map(k=>k.route.id).join(",")),[M.pathname+M.search]},[o,u,i,r,f,e,n,s]),b=re.useMemo(()=>$3(h,r),[h,r]),x=rC(h);return re.createElement(re.Fragment,null,y.map(N=>re.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>re.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),x.map(({key:N,link:T})=>re.createElement("link",{key:N,...T})))}function aC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var a_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a_&&(window.__reactRouterVersion="7.6.2")}catch{}function oC({basename:n,children:e,window:t}){let i=re.useRef();i.current==null&&(i.current=KT({window:t,v5Compat:!0}));let r=i.current,[s,o]=re.useState({action:r.action,location:r.location}),u=re.useCallback(c=>{re.startTransition(()=>o(c))},[o]);return re.useLayoutEffect(()=>r.listen(u),[r,u]),re.createElement(O3,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var o_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xa=re.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:u,target:c,to:f,preventScrollReset:h,viewTransition:y,...b},x){let{basename:N}=re.useContext(eo),T=typeof f=="string"&&o_.test(f),M,k=!1;if(typeof f=="string"&&T&&(M=f,a_))try{let ee=new URL(window.location.href),de=f.startsWith("//")?new URL(ee.protocol+f):new URL(f),B=Pl(de.pathname,N);de.origin===ee.origin&&B!=null?f=B+de.search+de.hash:k=!0}catch{wa(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=b3(f,{relative:r}),[I,J,H]=nC(i,b),K=fC(f,{replace:o,state:u,target:c,preventScrollReset:h,relative:r,viewTransition:y});function X(ee){e&&e(ee),ee.defaultPrevented||K(ee)}let U=re.createElement("a",{...b,...H,href:M||P,onClick:k||s?e:X,ref:aC(x,J),target:c,"data-discover":!T&&t==="render"?"true":void 0});return I&&!T?re.createElement(re.Fragment,null,U,re.createElement(iC,{page:P})):U});xa.displayName="Link";var lC=re.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:u,children:c,...f},h){let y=Vh(o,{relative:f.relative}),b=Fu(),x=re.useContext(cm),{navigator:N,basename:T}=re.useContext(eo),M=x!=null&&mC(y)&&u===!0,k=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,P=b.pathname,I=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(P=P.toLowerCase(),I=I?I.toLowerCase():null,k=k.toLowerCase()),I&&T&&(I=Pl(I,T)||I);const J=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let H=P===k||!r&&P.startsWith(k)&&P.charAt(J)==="/",K=I!=null&&(I===k||!r&&I.startsWith(k)&&I.charAt(k.length)==="/"),X={isActive:H,isPending:K,isTransitioning:M},U=H?e:void 0,ee;typeof i=="function"?ee=i(X):ee=[i,H?"active":null,K?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let de=typeof s=="function"?s(X):s;return re.createElement(xa,{...f,"aria-current":U,className:ee,ref:h,style:de,to:o,viewTransition:u},typeof c=="function"?c(X):c)});lC.displayName="NavLink";var uC=re.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=wg,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:y,...b},x)=>{let N=pC(),T=gC(u,{relative:f}),M=o.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&o_.test(u),P=I=>{if(c&&c(I),I.defaultPrevented)return;I.preventDefault();let J=I.nativeEvent.submitter,H=(J==null?void 0:J.getAttribute("formmethod"))||o;N(J||I.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:r,state:s,relative:f,preventScrollReset:h,viewTransition:y})};return re.createElement("form",{ref:x,method:M,action:T,onSubmit:i?c:P,...b,"data-discover":!k&&n==="render"?"true":void 0})});uC.displayName="Form";function cC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l_(n){let e=re.useContext(nd);return Fi(e,cC(n)),e}function fC(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let u=b2(),c=Fu(),f=Vh(n,{relative:s});return re.useCallback(h=>{if(V3(h,e)){h.preventDefault();let y=t!==void 0?t:kh(c)===kh(f);u(n,{replace:y,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[c,u,f,t,i,e,n,r,s,o])}var dC=0,hC=()=>`__${String(++dC)}__`;function pC(){let{router:n}=l_("useSubmit"),{basename:e}=re.useContext(eo),t=P3();return re.useCallback(async(i,r={})=>{let{action:s,method:o,encType:u,formData:c,body:f}=G3(i,e);if(r.navigate===!1){let h=r.fetcherKey||hC();await n.fetch(h,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||o,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||o,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function gC(n,{relative:e}={}){let{basename:t}=re.useContext(eo),i=re.useContext(to);Fi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Vh(n||".",{relative:e})},o=Fu();if(n==null){s.search=o.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(y=>y).forEach(y=>u.append("index",y));let h=u.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ll([t,s.pathname])),kh(s)}function mC(n,e={}){let t=re.useContext(Qw);Fi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=l_("useViewTransitionState"),r=Vh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Pl(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Pl(t.nextLocation.pathname,i)||t.nextLocation.pathname;return jg(r.pathname,o)!=null||jg(r.pathname,s)!=null}[...Q3];var Qi=(n=>(n.NEW="Neu (Extern Geladen)",n.AWAITING_KEEPA="Wartet auf Keepa-Daten (Objekt)",n.READY_FOR_MARKET_RESEARCH="Bereit für Marktrecherche",n.MARKET_RESEARCH_IN_PROGRESS="Marktrecherche läuft...",n.MARKET_RESEARCH_COMPLETED="Marktrecherche abgeschlossen",n.READY_FOR_EBAY_SEARCH_TERMS="Bereit für eBay Suchbegriffe",n.EBAY_SEARCH_TERMS_IN_PROGRESS="eBay Suchbegriffe werden generiert...",n.EBAY_SEARCH_TERMS_COMPLETED="eBay Suchbegriffe generiert",n.AWAITING_EBAY_DATA="Wartet auf eBay-Daten",n.EBAY_DATA_RECEIVED="eBay-Daten empfangen",n.READY_FOR_VALUATION="Bereit für Teilwertschätzung",n.VALUATION_IN_PROGRESS="Teilwertschätzung läuft...",n.VALUATION_COMPLETED="Teilwertschätzung abgeschlossen",n.REPORT_READY="Bericht bereit",n.ERROR_MARKET_RESEARCH="Fehler: Marktrecherche",n.ERROR_EBAY_SEARCH_TERMS="Fehler: eBay Suchbegriffe",n.ERROR_VALUATION="Fehler: Teilwertschätzung",n.ERROR_UNKNOWN="Unbekannter Fehler",n.LOADED_FROM_EXTERNAL="Extern Geladen",n))(Qi||{});const Xd="gemini-2.5-flash-preview-04-17",yC="https://m.media-amazon.com/images/I/",ba=20,vC="https://hutauf.pythonanywhere.com/api/",ks="v2processstatus",xh="v2searchterms",Ff="v2ebayresults",Sg="v2marketAnalysisData",Bf="v2TeilwertData",Mh="v2keepa",kf="v2processErrors",Wp="v2pdf",Kp="appConfigV2Token",Yp="appConfigOracleWriteUrl",$p="appConfigGeminiApiKey",Jp="appConfigProductSourceUrl",u_={[Qi.LOADED_FROM_EXTERNAL]:{bg:"bg-green-100",text:"text-green-700",border:"border-green-400"},[Qi.NEW]:{bg:"bg-gray-200",text:"text-gray-700",border:"border-gray-400"},[Qi.AWAITING_KEEPA]:{bg:"bg-yellow-100",text:"text-yellow-700",border:"border-yellow-400"},[Qi.READY_FOR_MARKET_RESEARCH]:{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-400"},[Qi.MARKET_RESEARCH_IN_PROGRESS]:{bg:"bg-blue-200",text:"text-blue-800",border:"border-blue-500"},[Qi.MARKET_RESEARCH_COMPLETED]:{bg:"bg-green-100",text:"text-green-700",border:"border-green-400"},[Qi.READY_FOR_EBAY_SEARCH_TERMS]:{bg:"bg-indigo-100",text:"text-indigo-700",border:"border-indigo-400"},[Qi.EBAY_SEARCH_TERMS_IN_PROGRESS]:{bg:"bg-indigo-200",text:"text-indigo-800",border:"border-indigo-500"},[Qi.EBAY_SEARCH_TERMS_COMPLETED]:{bg:"bg-purple-100",text:"text-purple-700",border:"border-purple-400"},[Qi.AWAITING_EBAY_DATA]:{bg:"bg-pink-100",text:"text-pink-700",border:"border-pink-400"},[Qi.EBAY_DATA_RECEIVED]:{bg:"bg-teal-100",text:"text-teal-700",border:"border-teal-400"},[Qi.READY_FOR_VALUATION]:{bg:"bg-cyan-100",text:"text-cyan-700",border:"border-cyan-400"},[Qi.VALUATION_IN_PROGRESS]:{bg:"bg-cyan-200",text:"text-cyan-800",border:"border-cyan-500"},[Qi.VALUATION_COMPLETED]:{bg:"bg-emerald-100",text:"text-emerald-700",border:"border-emerald-400"},[Qi.REPORT_READY]:{bg:"bg-lime-100",text:"text-lime-700",border:"border-lime-400"},[Qi.ERROR_MARKET_RESEARCH]:{bg:"bg-red-100",text:"text-red-700",border:"border-red-400"},[Qi.ERROR_EBAY_SEARCH_TERMS]:{bg:"bg-red-100",text:"text-red-700",border:"border-red-400"},[Qi.ERROR_VALUATION]:{bg:"bg-red-100",text:"text-red-700",border:"border-red-400"},[Qi.ERROR_UNKNOWN]:{bg:"bg-red-200",text:"text-red-800",border:"border-red-500"}};var Gn;(function(n){n.assertEqual=r=>{};function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{const s={};for(const o of r)s[o]=o;return s},n.getValidEnumValues=r=>{const s=n.objectKeys(r).filter(u=>typeof r[r[u]]!="number"),o={};for(const u of s)o[u]=r[u];return n.objectValues(o)},n.objectValues=r=>n.objectKeys(r).map(function(s){return r[s]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.push(o);return s},n.find=(r,s)=>{for(const o of r)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function i(r,s=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=i,n.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(Gn||(Gn={}));var p5;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(p5||(p5={}));const Tt=Gn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Su=n=>{switch(typeof n){case"undefined":return Tt.undefined;case"string":return Tt.string;case"number":return Number.isNaN(n)?Tt.nan:Tt.number;case"boolean":return Tt.boolean;case"function":return Tt.function;case"bigint":return Tt.bigint;case"symbol":return Tt.symbol;case"object":return Array.isArray(n)?Tt.array:n===null?Tt.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Tt.promise:typeof Map<"u"&&n instanceof Map?Tt.map:typeof Set<"u"&&n instanceof Set?Tt.set:typeof Date<"u"&&n instanceof Date?Tt.date:Tt.object;default:return Tt.unknown}},tt=Gn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Rl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},i={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)i._errors.push(t(o));else{let u=i,c=0;for(;c<o.path.length;){const f=o.path[c];c===o.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(o))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return r(this),i}static assert(e){if(!(e instanceof Rl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}Rl.create=n=>new Rl(n);const b1=(n,e)=>{let t;switch(n.code){case tt.invalid_type:n.received===Tt.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case tt.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Gn.jsonStringifyReplacer)}`;break;case tt.unrecognized_keys:t=`Unrecognized key(s) in object: ${Gn.joinValues(n.keys,", ")}`;break;case tt.invalid_union:t="Invalid input";break;case tt.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Gn.joinValues(n.options)}`;break;case tt.invalid_enum_value:t=`Invalid enum value. Expected ${Gn.joinValues(n.options)}, received '${n.received}'`;break;case tt.invalid_arguments:t="Invalid function arguments";break;case tt.invalid_return_type:t="Invalid function return type";break;case tt.invalid_date:t="Invalid date";break;case tt.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Gn.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case tt.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case tt.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case tt.custom:t="Invalid input";break;case tt.invalid_intersection_types:t="Intersection results could not be merged";break;case tt.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case tt.not_finite:t="Number must be finite";break;default:t=e.defaultError,Gn.assertNever(n)}return{message:t}};let xC=b1;function bC(){return xC}const wC=n=>{const{data:e,path:t,errorMaps:i,issueData:r}=n,s=[...t,...r.path||[]],o={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(o,{data:e,defaultError:u}).message;return{...r,path:s,message:u}};function pt(n,e){const t=bC(),i=wC({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===b1?void 0:b1].filter(r=>!!r)});n.common.issues.push(i)}class ms{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const r of t){if(r.status==="aborted")return sn;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const r of t){const s=await r.key,o=await r.value;i.push({key:s,value:o})}return ms.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const r of t){const{key:s,value:o}=r;if(s.status==="aborted"||o.status==="aborted")return sn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(i[s.value]=o.value)}return{status:e.value,value:i}}}const sn=Object.freeze({status:"aborted"}),fh=n=>({status:"dirty",value:n}),_a=n=>({status:"valid",value:n}),g5=n=>n.status==="aborted",m5=n=>n.status==="dirty",Kf=n=>n.status==="valid",Ug=n=>typeof Promise<"u"&&n instanceof Promise;var Mt;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Mt||(Mt={}));class Wo{constructor(e,t,i,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const y5=(n,e)=>{if(Kf(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Rl(n.common.issues);return this._error=t,this._error}}};function dn(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:r}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,u)=>{const{message:c}=n;return o.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:o.code!=="invalid_type"?{message:u.defaultError}:{message:c??t??u.defaultError}},description:r}}class Pn{get description(){return this._def.description}_getType(e){return Su(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Su(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ms,ctx:{common:e.parent.common,data:e.data,parsedType:Su(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ug(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Su(e)},r=this._parseSync({data:e,path:i.path,parent:i});return y5(i,r)}"~validate"(e){var i,r;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Su(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:t});return Kf(s)?{value:s.value}:{issues:t.common.issues}}catch(s){(r=(i=s==null?void 0:s.message)==null?void 0:i.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>Kf(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Su(e)},r=this._parse({data:e,path:i.path,parent:i}),s=await(Ug(r)?r:Promise.resolve(r));return y5(i,s)}refine(e,t){const i=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,s)=>{const o=e(r),u=()=>s.addIssue({code:tt.custom,...i(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,t){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof t=="function"?t(i,r):t),!1))}_refinement(e){return new Jf({schema:this,typeName:nn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ku.create(this,this._def)}nullable(){return Zf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qo.create(this)}promise(){return Wg.create(this,this._def)}or(e){return qg.create([this,e],this._def)}and(e){return Hg.create(this,e,this._def)}transform(e){return new Jf({...dn(this._def),schema:this,typeName:nn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new A1({...dn(this._def),innerType:this,defaultValue:t,typeName:nn.ZodDefault})}brand(){return new HC({typeName:nn.ZodBranded,type:this,...dn(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new T1({...dn(this._def),innerType:this,catchValue:t,typeName:nn.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return T2.create(this,e)}readonly(){return C1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _C=/^c[^\s-]{8,}$/i,SC=/^[0-9a-z]+$/,AC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,TC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,CC=/^[a-z0-9_-]{21}$/i,NC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,EC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,MC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let B0;const LC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,RC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,DC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,OC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,c_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FC=new RegExp(`^${c_}$`);function f_(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function BC(n){return new RegExp(`^${f_(n)}$`)}function zC(n){let e=`${c_}T${f_(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function jC(n,e){return!!((e==="v4"||!e)&&LC.test(n)||(e==="v6"||!e)&&RC.test(n))}function UC(n,e){if(!NC.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function VC(n,e){return!!((e==="v4"||!e)&&PC.test(n)||(e==="v6"||!e)&&DC.test(n))}class jo extends Pn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Tt.string){const s=this._getOrReturnCtx(e);return pt(s,{code:tt.invalid_type,expected:Tt.string,received:s.parsedType}),sn}const i=new ms;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,u=e.data.length<s.value;(o||u)&&(r=this._getOrReturnCtx(e,r),o?pt(r,{code:tt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&pt(r,{code:tt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")kC.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"email",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")B0||(B0=new RegExp(MC,"u")),B0.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"emoji",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")TC.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"uuid",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")CC.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"nanoid",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")_C.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"cuid",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")SC.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"cuid2",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")AC.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"ulid",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),pt(r,{validation:"url",code:tt.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"regex",code:tt.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?zC(s).test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?FC.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?BC(s).test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?EC.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"duration",code:tt.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?jC(e.data,s.version)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"ip",code:tt.invalid_string,message:s.message}),i.dirty()):s.kind==="jwt"?UC(e.data,s.alg)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"jwt",code:tt.invalid_string,message:s.message}),i.dirty()):s.kind==="cidr"?VC(e.data,s.version)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"cidr",code:tt.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?IC.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"base64",code:tt.invalid_string,message:s.message}),i.dirty()):s.kind==="base64url"?OC.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"base64url",code:tt.invalid_string,message:s.message}),i.dirty()):Gn.assertNever(s);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(r=>e.test(r),{validation:t,code:tt.invalid_string,...Mt.errToObj(i)})}_addCheck(e){return new jo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Mt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Mt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Mt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Mt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Mt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Mt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Mt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Mt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Mt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Mt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Mt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Mt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Mt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Mt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Mt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Mt.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Mt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Mt.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Mt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Mt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Mt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Mt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Mt.errToObj(t)})}nonempty(e){return this.min(1,Mt.errToObj(e))}trim(){return new jo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}jo.create=n=>new jo({checks:[],typeName:nn.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...dn(n)});function qC(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=t>i?t:i,s=Number.parseInt(n.toFixed(r).replace(".","")),o=Number.parseInt(e.toFixed(r).replace(".",""));return s%o/10**r}class Rc extends Pn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Tt.number){const s=this._getOrReturnCtx(e);return pt(s,{code:tt.invalid_type,expected:Tt.number,received:s.parsedType}),sn}let i;const r=new ms;for(const s of this._def.checks)s.kind==="int"?Gn.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{code:tt.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),pt(i,{code:tt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),pt(i,{code:tt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?qC(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),pt(i,{code:tt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{code:tt.not_finite,message:s.message}),r.dirty()):Gn.assertNever(s);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Mt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Mt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Mt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Mt.toString(t))}setLimit(e,t,i,r){return new Rc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Mt.toString(r)}]})}_addCheck(e){return new Rc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Mt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Mt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Mt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Mt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Mt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Gn.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Rc.create=n=>new Rc({checks:[],typeName:nn.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...dn(n)});class Dc extends Pn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Tt.bigint)return this._getInvalidInput(e);let i;const r=new ms;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),pt(i,{code:tt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),pt(i,{code:tt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),pt(i,{code:tt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):Gn.assertNever(s);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return pt(t,{code:tt.invalid_type,expected:Tt.bigint,received:t.parsedType}),sn}gte(e,t){return this.setLimit("min",e,!0,Mt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Mt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Mt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Mt.toString(t))}setLimit(e,t,i,r){return new Dc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Mt.toString(r)}]})}_addCheck(e){return new Dc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Mt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Dc.create=n=>new Dc({checks:[],typeName:nn.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...dn(n)});class Vg extends Pn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Tt.boolean){const i=this._getOrReturnCtx(e);return pt(i,{code:tt.invalid_type,expected:Tt.boolean,received:i.parsedType}),sn}return _a(e.data)}}Vg.create=n=>new Vg({typeName:nn.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...dn(n)});class Yf extends Pn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Tt.date){const s=this._getOrReturnCtx(e);return pt(s,{code:tt.invalid_type,expected:Tt.date,received:s.parsedType}),sn}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return pt(s,{code:tt.invalid_date}),sn}const i=new ms;let r;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):Gn.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yf({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Mt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Mt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Yf.create=n=>new Yf({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:nn.ZodDate,...dn(n)});class v5 extends Pn{_parse(e){if(this._getType(e)!==Tt.symbol){const i=this._getOrReturnCtx(e);return pt(i,{code:tt.invalid_type,expected:Tt.symbol,received:i.parsedType}),sn}return _a(e.data)}}v5.create=n=>new v5({typeName:nn.ZodSymbol,...dn(n)});class x5 extends Pn{_parse(e){if(this._getType(e)!==Tt.undefined){const i=this._getOrReturnCtx(e);return pt(i,{code:tt.invalid_type,expected:Tt.undefined,received:i.parsedType}),sn}return _a(e.data)}}x5.create=n=>new x5({typeName:nn.ZodUndefined,...dn(n)});class b5 extends Pn{_parse(e){if(this._getType(e)!==Tt.null){const i=this._getOrReturnCtx(e);return pt(i,{code:tt.invalid_type,expected:Tt.null,received:i.parsedType}),sn}return _a(e.data)}}b5.create=n=>new b5({typeName:nn.ZodNull,...dn(n)});class w5 extends Pn{constructor(){super(...arguments),this._any=!0}_parse(e){return _a(e.data)}}w5.create=n=>new w5({typeName:nn.ZodAny,...dn(n)});class w1 extends Pn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _a(e.data)}}w1.create=n=>new w1({typeName:nn.ZodUnknown,...dn(n)});class Lu extends Pn{_parse(e){const t=this._getOrReturnCtx(e);return pt(t,{code:tt.invalid_type,expected:Tt.never,received:t.parsedType}),sn}}Lu.create=n=>new Lu({typeName:nn.ZodNever,...dn(n)});class _5 extends Pn{_parse(e){if(this._getType(e)!==Tt.undefined){const i=this._getOrReturnCtx(e);return pt(i,{code:tt.invalid_type,expected:Tt.void,received:i.parsedType}),sn}return _a(e.data)}}_5.create=n=>new _5({typeName:nn.ZodVoid,...dn(n)});class qo extends Pn{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),r=this._def;if(t.parsedType!==Tt.array)return pt(t,{code:tt.invalid_type,expected:Tt.array,received:t.parsedType}),sn;if(r.exactLength!==null){const o=t.data.length>r.exactLength.value,u=t.data.length<r.exactLength.value;(o||u)&&(pt(t,{code:o?tt.too_big:tt.too_small,minimum:u?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(pt(t,{code:tt.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(pt(t,{code:tt.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((o,u)=>r.type._parseAsync(new Wo(t,o,t.path,u)))).then(o=>ms.mergeArray(i,o));const s=[...t.data].map((o,u)=>r.type._parseSync(new Wo(t,o,t.path,u)));return ms.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new qo({...this._def,minLength:{value:e,message:Mt.toString(t)}})}max(e,t){return new qo({...this._def,maxLength:{value:e,message:Mt.toString(t)}})}length(e,t){return new qo({...this._def,exactLength:{value:e,message:Mt.toString(t)}})}nonempty(e){return this.min(1,e)}}qo.create=(n,e)=>new qo({type:n,minLength:null,maxLength:null,exactLength:null,typeName:nn.ZodArray,...dn(e)});function Mf(n){if(n instanceof _r){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=ku.create(Mf(i))}return new _r({...n._def,shape:()=>e})}else return n instanceof qo?new qo({...n._def,type:Mf(n.element)}):n instanceof ku?ku.create(Mf(n.unwrap())):n instanceof Zf?Zf.create(Mf(n.unwrap())):n instanceof Ic?Ic.create(n.items.map(e=>Mf(e))):n}class _r extends Pn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Gn.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Tt.object){const f=this._getOrReturnCtx(e);return pt(f,{code:tt.invalid_type,expected:Tt.object,received:f.parsedType}),sn}const{status:i,ctx:r}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof Lu&&this._def.unknownKeys==="strip"))for(const f in r.data)o.includes(f)||u.push(f);const c=[];for(const f of o){const h=s[f],y=r.data[f];c.push({key:{status:"valid",value:f},value:h._parse(new Wo(r,y,r.path,f)),alwaysSet:f in r.data})}if(this._def.catchall instanceof Lu){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of u)c.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(f==="strict")u.length>0&&(pt(r,{code:tt.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of u){const y=r.data[h];c.push({key:{status:"valid",value:h},value:f._parse(new Wo(r,y,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of c){const y=await h.key,b=await h.value;f.push({key:y,value:b,alwaysSet:h.alwaysSet})}return f}).then(f=>ms.mergeObjectSync(i,f)):ms.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return Mt.errToObj,new _r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var s,o;const r=((o=(s=this._def).errorMap)==null?void 0:o.call(s,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:Mt.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new _r({...this._def,unknownKeys:"strip"})}passthrough(){return new _r({...this._def,unknownKeys:"passthrough"})}extend(e){return new _r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:nn.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new _r({...this._def,catchall:e})}pick(e){const t={};for(const i of Gn.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new _r({...this._def,shape:()=>t})}omit(e){const t={};for(const i of Gn.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new _r({...this._def,shape:()=>t})}deepPartial(){return Mf(this)}partial(e){const t={};for(const i of Gn.objectKeys(this.shape)){const r=this.shape[i];e&&!e[i]?t[i]=r:t[i]=r.optional()}return new _r({...this._def,shape:()=>t})}required(e){const t={};for(const i of Gn.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof ku;)s=s._def.innerType;t[i]=s}return new _r({...this._def,shape:()=>t})}keyof(){return d_(Gn.objectKeys(this.shape))}}_r.create=(n,e)=>new _r({shape:()=>n,unknownKeys:"strip",catchall:Lu.create(),typeName:nn.ZodObject,...dn(e)});_r.strictCreate=(n,e)=>new _r({shape:()=>n,unknownKeys:"strict",catchall:Lu.create(),typeName:nn.ZodObject,...dn(e)});_r.lazycreate=(n,e)=>new _r({shape:n,unknownKeys:"strip",catchall:Lu.create(),typeName:nn.ZodObject,...dn(e)});class qg extends Pn{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function r(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const o=s.map(u=>new Rl(u.ctx.common.issues));return pt(t,{code:tt.invalid_union,unionErrors:o}),sn}if(t.common.async)return Promise.all(i.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(r);{let s;const o=[];for(const c of i){const f={...t,common:{...t.common,issues:[]},parent:null},h=c._parseSync({data:t.data,path:t.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const u=o.map(c=>new Rl(c));return pt(t,{code:tt.invalid_union,unionErrors:u}),sn}}get options(){return this._def.options}}qg.create=(n,e)=>new qg({options:n,typeName:nn.ZodUnion,...dn(e)});function _1(n,e){const t=Su(n),i=Su(e);if(n===e)return{valid:!0,data:n};if(t===Tt.object&&i===Tt.object){const r=Gn.objectKeys(e),s=Gn.objectKeys(n).filter(u=>r.indexOf(u)!==-1),o={...n,...e};for(const u of s){const c=_1(n[u],e[u]);if(!c.valid)return{valid:!1};o[u]=c.data}return{valid:!0,data:o}}else if(t===Tt.array&&i===Tt.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let s=0;s<n.length;s++){const o=n[s],u=e[s],c=_1(o,u);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return t===Tt.date&&i===Tt.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Hg extends Pn{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=(s,o)=>{if(g5(s)||g5(o))return sn;const u=_1(s.value,o.value);return u.valid?((m5(s)||m5(o))&&t.dirty(),{status:t.value,value:u.data}):(pt(i,{code:tt.invalid_intersection_types}),sn)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>r(s,o)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Hg.create=(n,e,t)=>new Hg({left:n,right:e,typeName:nn.ZodIntersection,...dn(t)});class Ic extends Pn{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Tt.array)return pt(i,{code:tt.invalid_type,expected:Tt.array,received:i.parsedType}),sn;if(i.data.length<this._def.items.length)return pt(i,{code:tt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),sn;!this._def.rest&&i.data.length>this._def.items.length&&(pt(i,{code:tt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...i.data].map((o,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Wo(i,o,i.path,u)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>ms.mergeArray(t,o)):ms.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Ic({...this._def,rest:e})}}Ic.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ic({items:n,typeName:nn.ZodTuple,rest:null,...dn(e)})};class Gg extends Pn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Tt.object)return pt(i,{code:tt.invalid_type,expected:Tt.object,received:i.parsedType}),sn;const r=[],s=this._def.keyType,o=this._def.valueType;for(const u in i.data)r.push({key:s._parse(new Wo(i,u,i.path,u)),value:o._parse(new Wo(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?ms.mergeObjectAsync(t,r):ms.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof Pn?new Gg({keyType:e,valueType:t,typeName:nn.ZodRecord,...dn(i)}):new Gg({keyType:jo.create(),valueType:e,typeName:nn.ZodRecord,...dn(t)})}}class S5 extends Pn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Tt.map)return pt(i,{code:tt.invalid_type,expected:Tt.map,received:i.parsedType}),sn;const r=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([u,c],f)=>({key:r._parse(new Wo(i,u,i.path,[f,"key"])),value:s._parse(new Wo(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of o){const f=await c.key,h=await c.value;if(f.status==="aborted"||h.status==="aborted")return sn;(f.status==="dirty"||h.status==="dirty")&&t.dirty(),u.set(f.value,h.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const c of o){const f=c.key,h=c.value;if(f.status==="aborted"||h.status==="aborted")return sn;(f.status==="dirty"||h.status==="dirty")&&t.dirty(),u.set(f.value,h.value)}return{status:t.value,value:u}}}}S5.create=(n,e,t)=>new S5({valueType:e,keyType:n,typeName:nn.ZodMap,...dn(t)});class Lh extends Pn{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Tt.set)return pt(i,{code:tt.invalid_type,expected:Tt.set,received:i.parsedType}),sn;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(pt(i,{code:tt.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(pt(i,{code:tt.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const s=this._def.valueType;function o(c){const f=new Set;for(const h of c){if(h.status==="aborted")return sn;h.status==="dirty"&&t.dirty(),f.add(h.value)}return{status:t.value,value:f}}const u=[...i.data.values()].map((c,f)=>s._parse(new Wo(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>o(c)):o(u)}min(e,t){return new Lh({...this._def,minSize:{value:e,message:Mt.toString(t)}})}max(e,t){return new Lh({...this._def,maxSize:{value:e,message:Mt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Lh.create=(n,e)=>new Lh({valueType:n,minSize:null,maxSize:null,typeName:nn.ZodSet,...dn(e)});class S1 extends Pn{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}S1.create=(n,e)=>new S1({getter:n,typeName:nn.ZodLazy,...dn(e)});class A5 extends Pn{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return pt(t,{received:t.data,code:tt.invalid_literal,expected:this._def.value}),sn}return{status:"valid",value:e.data}}get value(){return this._def.value}}A5.create=(n,e)=>new A5({value:n,typeName:nn.ZodLiteral,...dn(e)});function d_(n,e){return new $f({values:n,typeName:nn.ZodEnum,...dn(e)})}class $f extends Pn{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return pt(t,{expected:Gn.joinValues(i),received:t.parsedType,code:tt.invalid_type}),sn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return pt(t,{received:t.data,code:tt.invalid_enum_value,options:i}),sn}return _a(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return $f.create(e,{...this._def,...t})}exclude(e,t=this._def){return $f.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}$f.create=d_;class T5 extends Pn{_parse(e){const t=Gn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==Tt.string&&i.parsedType!==Tt.number){const r=Gn.objectValues(t);return pt(i,{expected:Gn.joinValues(r),received:i.parsedType,code:tt.invalid_type}),sn}if(this._cache||(this._cache=new Set(Gn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Gn.objectValues(t);return pt(i,{received:i.data,code:tt.invalid_enum_value,options:r}),sn}return _a(e.data)}get enum(){return this._def.values}}T5.create=(n,e)=>new T5({values:n,typeName:nn.ZodNativeEnum,...dn(e)});class Wg extends Pn{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Tt.promise&&t.common.async===!1)return pt(t,{code:tt.invalid_type,expected:Tt.promise,received:t.parsedType}),sn;const i=t.parsedType===Tt.promise?t.data:Promise.resolve(t.data);return _a(i.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Wg.create=(n,e)=>new Wg({type:n,typeName:nn.ZodPromise,...dn(e)});class Jf extends Pn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:o=>{pt(i,o),o.fatal?t.abort():t.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const o=r.transform(i.data,s);if(i.common.async)return Promise.resolve(o).then(async u=>{if(t.value==="aborted")return sn;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?sn:c.status==="dirty"||t.value==="dirty"?fh(c.value):c});{if(t.value==="aborted")return sn;const u=this._def.schema._parseSync({data:o,path:i.path,parent:i});return u.status==="aborted"?sn:u.status==="dirty"||t.value==="dirty"?fh(u.value):u}}if(r.type==="refinement"){const o=u=>{const c=r.refinement(u,s);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?sn:(u.status==="dirty"&&t.dirty(),o(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?sn:(u.status==="dirty"&&t.dirty(),o(u.value).then(()=>({status:t.value,value:u.value}))))}if(r.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Kf(o))return sn;const u=r.transform(o.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>Kf(o)?Promise.resolve(r.transform(o.value,s)).then(u=>({status:t.value,value:u})):sn);Gn.assertNever(r)}}Jf.create=(n,e,t)=>new Jf({schema:n,typeName:nn.ZodEffects,effect:e,...dn(t)});Jf.createWithPreprocess=(n,e,t)=>new Jf({schema:e,effect:{type:"preprocess",transform:n},typeName:nn.ZodEffects,...dn(t)});class ku extends Pn{_parse(e){return this._getType(e)===Tt.undefined?_a(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ku.create=(n,e)=>new ku({innerType:n,typeName:nn.ZodOptional,...dn(e)});class Zf extends Pn{_parse(e){return this._getType(e)===Tt.null?_a(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zf.create=(n,e)=>new Zf({innerType:n,typeName:nn.ZodNullable,...dn(e)});class A1 extends Pn{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===Tt.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}A1.create=(n,e)=>new A1({innerType:n,typeName:nn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...dn(e)});class T1 extends Pn{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Ug(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rl(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Rl(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}T1.create=(n,e)=>new T1({innerType:n,typeName:nn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...dn(e)});class C5 extends Pn{_parse(e){if(this._getType(e)!==Tt.nan){const i=this._getOrReturnCtx(e);return pt(i,{code:tt.invalid_type,expected:Tt.nan,received:i.parsedType}),sn}return{status:"valid",value:e.data}}}C5.create=n=>new C5({typeName:nn.ZodNaN,...dn(n)});class HC extends Pn{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class T2 extends Pn{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?sn:s.status==="dirty"?(t.dirty(),fh(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?sn:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,t){return new T2({in:e,out:t,typeName:nn.ZodPipeline})}}class C1 extends Pn{_parse(e){const t=this._def.innerType._parse(e),i=r=>(Kf(r)&&(r.value=Object.freeze(r.value)),r);return Ug(t)?t.then(r=>i(r)):i(t)}unwrap(){return this._def.innerType}}C1.create=(n,e)=>new C1({innerType:n,typeName:nn.ZodReadonly,...dn(e)});var nn;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(nn||(nn={}));const yc=jo.create,N5=Rc.create;Dc.create;const GC=Vg.create;Yf.create;const E5=w1.create;Lu.create;const dh=qo.create,WC=_r.create,KC=qg.create;Hg.create;Ic.create;const YC=Gg.create,$C=S1.create,JC=$f.create;Wg.create;ku.create;Zf.create;const Sf={string:n=>jo.create({...n,coerce:!0}),number:n=>Rc.create({...n,coerce:!0}),boolean:n=>Vg.create({...n,coerce:!0}),bigint:n=>Dc.create({...n,coerce:!0}),date:n=>Yf.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ZC,XC;function QC(){return{geminiUrl:ZC,vertexUrl:XC}}function e4(n,e,t){var i,r,s;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){const o=QC();return n.vertexai?(r=o.vertexUrl)!==null&&r!==void 0?r:e:(s=o.geminiUrl)!==null&&s!==void 0?s:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rd{}function Zt(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function m(n,e,t){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const u=o.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const h=c[f];m(h,e.slice(s+1),t[f])}else for(const f of c)m(f,e.slice(s+1),t)}return}else if(o.endsWith("[0]")){const u=o.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];m(c[0],e.slice(s+1),t);return}(!n[o]||typeof n[o]!="object")&&(n[o]={}),n=n[o]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function g(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in n){const s=n[r];return Array.isArray(s)?s.map(o=>g(o,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var k5;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(k5||(k5={}));var M5;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(M5||(M5={}));var Uo;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Uo||(Uo={}));var L5;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(L5||(L5={}));var P5;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(P5||(P5={}));var R5;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(R5||(R5={}));var D5;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(D5||(D5={}));var I5;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(I5||(I5={}));var O5;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(O5||(O5={}));var F5;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(F5||(F5={}));var B5;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(B5||(B5={}));var z5;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(z5||(z5={}));var j5;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(j5||(j5={}));var Kg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Kg||(Kg={}));var U5;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(U5||(U5={}));var N1;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(N1||(N1={}));var V5;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(V5||(V5={}));var q5;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(q5||(q5={}));var H5;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(H5||(H5={}));var G5;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(G5||(G5={}));var W5;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(W5||(W5={}));var K5;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(K5||(K5={}));var Y5;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Y5||(Y5={}));var $5;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})($5||($5={}));var J5;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(J5||(J5={}));var Z5;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Z5||(Z5={}));var X5;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(X5||(X5={}));var Q5;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Q5||(Q5={}));var ex;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ex||(ex={}));var tx;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(tx||(tx={}));var nx;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(nx||(nx={}));var ix;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(ix||(ix={}));var rx;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(rx||(rx={}));var sx;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sx||(sx={}));var ax;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(ax||(ax={}));var ox;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ox||(ox={}));var lx;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(lx||(lx={}));var ux;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ux||(ux={}));var Df;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Df||(Df={}));class Qd{get text(){var e,t,i,r,s,o,u,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const y=[];for(const b of(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[x,N]of Object.entries(b))x!=="text"&&x!=="thought"&&(N!==null||N!==void 0)&&y.push(x);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;h=!0,f+=b.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,t,i,r,s,o,u,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const y of(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[b,x]of Object.entries(y))b!=="inlineData"&&(x!==null||x!==void 0)&&h.push(b);y.inlineData&&typeof y.inlineData.data=="string"&&(f+=atob(y.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,r,s,o,u,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,r,s,o,u,c,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,r,s,o,u,c,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class cx{}class fx{}class t4{}class n4{}class dx{}class hx{}class px{}class i4{}class gx{}class mx{}class yx{}class r4{}class E1{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class s4{}class a4{}class o4{get text(){var e,t,i;let r="",s=!1;const o=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&o.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,r+=u.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(o))u!=="inlineData"&&c!==null&&s.push(u);o.inlineData&&typeof o.inlineData.data=="string"&&(r+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class l4{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vi(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function h_(n,e){const t=vi(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function p_(n,e){return Array.isArray(e)?e.map(t=>Yg(n,t)):[Yg(n,e)]}function Yg(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function u4(n,e){const t=Yg(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function c4(n,e){const t=Yg(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function vx(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function g_(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>vx(n,t)):[vx(n,e)]}function k1(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function xx(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function bx(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function gs(n,e){if(e==null)throw new Error("ContentUnion is required");return k1(e)?e:{role:"user",parts:g_(n,e)}}function m_(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=gs(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=gs(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>gs(n,t)):[gs(n,e)]}function Za(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(xx(e)||bx(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gs(n,e)]}const t=[],i=[],r=k1(e[0]);for(const s of e){const o=k1(s);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(s);else{if(xx(s)||bx(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(s)}}return r||t.push({role:"user",parts:g_(n,i)}),t}const f4=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),wx=JC(["string","number","integer","object","array","boolean","null"]),d4=KC([wx,dh(wx)]);function h4(n=!0){const e=$C(()=>{const t=WC({type:d4.optional(),format:yc().optional(),title:yc().optional(),description:yc().optional(),default:E5().optional(),items:e.optional(),minItems:Sf.string().optional(),maxItems:Sf.string().optional(),enum:dh(E5()).optional(),properties:YC(yc(),e).optional(),required:dh(yc()).optional(),minProperties:Sf.string().optional(),maxProperties:Sf.string().optional(),propertyOrdering:dh(yc()).optional(),minimum:N5().optional(),maximum:N5().optional(),minLength:Sf.string().optional(),maxLength:Sf.string().optional(),pattern:yc().optional(),anyOf:dh(e).optional(),additionalProperties:GC().optional()});return n?t.strict():t});return e}function p4(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Uo).includes(t[0].toUpperCase())?t[0].toUpperCase():Uo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Uo).includes(i.toUpperCase())?i.toUpperCase():Uo.TYPE_UNSPECIFIED})}}function zf(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&p4(n.type,e);for(const[o,u]of Object.entries(n))if(u!=null)if(o=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Uo).includes(u.toUpperCase())?u.toUpperCase():Uo.TYPE_UNSPECIFIED}else if(t.includes(o))e[o]=zf(u);else if(i.includes(o)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(zf(f))}e[o]=c}else if(r.includes(o)){const c={};for(const[f,h]of Object.entries(u))c[f]=zf(h);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=u}return e}function $g(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=h4().parse(e);return zf(t)}else return zf(e)}function y_(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function C2(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function qh(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=$g(n,t.parameters)),t.response&&(t.response=$g(n,t.response));return e}function Hh(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function g4(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Bu(n,e){if(typeof e!="string")throw new Error("name must be a string");return g4(n,e,"cachedContents")}function v_(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function zu(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function m4(n){return n!=null&&typeof n=="object"&&"name"in n}function y4(n){return n!=null&&typeof n=="object"&&"video"in n}function v4(n){return n!=null&&typeof n=="object"&&"uri"in n}function x_(n,e){var t;let i;if(m4(e)&&(i=e.name),!(v4(e)&&(i=e.uri,i===void 0))&&!(y4(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const s=i.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${i}`);i=s[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function b_(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function w_(n,e){for(const t of["models","tunedModels","publisherModels"])if(x4(e,t))return e[t];return[]}function x4(n,e){return n!==null&&typeof n=="object"&&e in n}function b4(n,e={}){const t=n,i={name:t.name,description:t.description,parameters:zf(dm(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function w4(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const o=b4(r,e);o.functionDeclarations&&t.push(...o.functionDeclarations)}return{functionDeclarations:t}}function _4(n){const e=[];for(const t of n)e.push(dm(t));return e}function S4(n){const e={};for(const[t,i]of Object.entries(n)){const r=i;e[t]=dm(r)}return e}function dm(n){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),r={};for(const[s,o]of Object.entries(n))if(e.has(s))r[s]=dm(o);else if(t.has(s))r[s]=_4(o);else if(i.has(s))r[s]=S4(o);else if(s==="type"){const u=o.toUpperCase();r[s]=Object.values(Uo).includes(u)?u:Uo.TYPE_UNSPECIFIED}else f4.has(s)&&(r[s]=o);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A4(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function T4(n,e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["data"]);i!=null&&m(t,["data"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function C4(n,e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function N4(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],A4(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],T4(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],C4(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function _x(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>N4(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function E4(n,e){const t={},i=g(e,["behavior"]);i!=null&&m(t,["behavior"],i);const r=g(e,["description"]);r!=null&&m(t,["description"],r);const s=g(e,["name"]);s!=null&&m(t,["name"],s);const o=g(e,["parameters"]);o!=null&&m(t,["parameters"],o);const u=g(e,["response"]);return u!=null&&m(t,["response"],u),t}function k4(n,e){const t={},i=g(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=g(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function M4(n,e){const t={},i=g(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],k4(n,i)),t}function L4(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function P4(n,e){const t={},i=g(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],L4(n,i)),t}function R4(){return{}}function D4(n,e){const t={},i=g(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>E4(n,f))),m(t,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],M4(n,r));const s=g(e,["googleSearchRetrieval"]);if(s!=null&&m(t,["googleSearchRetrieval"],P4(n,s)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&m(t,["urlContext"],R4());const u=g(e,["codeExecution"]);return u!=null&&m(t,["codeExecution"],u),t}function I4(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function O4(n,e){const t={},i=g(e,["latitude"]);i!=null&&m(t,["latitude"],i);const r=g(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function F4(n,e){const t={},i=g(e,["latLng"]);i!=null&&m(t,["latLng"],O4(n,i));const r=g(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function B4(n,e){const t={},i=g(e,["functionCallingConfig"]);i!=null&&m(t,["functionCallingConfig"],I4(n,i));const r=g(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],F4(n,r)),t}function z4(n,e,t){const i={},r=g(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const s=g(e,["expireTime"]);t!==void 0&&s!=null&&m(t,["expireTime"],s);const o=g(e,["displayName"]);t!==void 0&&o!=null&&m(t,["displayName"],o);const u=g(e,["contents"]);if(t!==void 0&&u!=null){let y=Za(n,u);Array.isArray(y)&&(y=y.map(b=>_x(n,b))),m(t,["contents"],y)}const c=g(e,["systemInstruction"]);t!==void 0&&c!=null&&m(t,["systemInstruction"],_x(n,gs(n,c)));const f=g(e,["tools"]);if(t!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(b=>D4(n,b))),m(t,["tools"],y)}const h=g(e,["toolConfig"]);if(t!==void 0&&h!=null&&m(t,["toolConfig"],B4(n,h)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function j4(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["model"],h_(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],z4(n,r,t)),t}function U4(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["_url","name"],Bu(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function V4(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["_url","name"],Bu(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function q4(n,e,t){const i={},r=g(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const s=g(e,["expireTime"]);return t!==void 0&&s!=null&&m(t,["expireTime"],s),i}function H4(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["_url","name"],Bu(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],q4(n,r,t)),t}function G4(n,e,t){const i={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const s=g(e,["pageToken"]);return t!==void 0&&s!=null&&m(t,["_query","pageToken"],s),i}function W4(n,e){const t={},i=g(e,["config"]);return i!=null&&m(t,["config"],G4(n,i,t)),t}function K4(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function Y4(n,e){const t={},i=g(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=g(e,["data"]);r!=null&&m(t,["data"],r);const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function $4(n,e){const t={},i=g(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=g(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function J4(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],K4(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],Y4(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],$4(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function Sx(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>J4(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function Z4(n,e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=g(e,["description"]);i!=null&&m(t,["description"],i);const r=g(e,["name"]);r!=null&&m(t,["name"],r);const s=g(e,["parameters"]);s!=null&&m(t,["parameters"],s);const o=g(e,["response"]);return o!=null&&m(t,["response"],o),t}function X4(n,e){const t={},i=g(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=g(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function Q4(n,e){const t={},i=g(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],X4(n,i)),t}function eN(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function tN(n,e){const t={},i=g(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],eN(n,i)),t}function nN(){return{}}function iN(n,e){const t={},i=g(e,["apiKeyString"]);return i!=null&&m(t,["apiKeyString"],i),t}function rN(n,e){const t={},i=g(e,["apiKeyConfig"]);i!=null&&m(t,["apiKeyConfig"],iN(n,i));const r=g(e,["authType"]);r!=null&&m(t,["authType"],r);const s=g(e,["googleServiceAccountConfig"]);s!=null&&m(t,["googleServiceAccountConfig"],s);const o=g(e,["httpBasicAuthConfig"]);o!=null&&m(t,["httpBasicAuthConfig"],o);const u=g(e,["oauthConfig"]);u!=null&&m(t,["oauthConfig"],u);const c=g(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function sN(n,e){const t={},i=g(e,["authConfig"]);return i!=null&&m(t,["authConfig"],rN(n,i)),t}function aN(){return{}}function oN(n,e){const t={},i=g(e,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>Z4(n,b))),m(t,["functionDeclarations"],y)}const r=g(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const s=g(e,["googleSearch"]);s!=null&&m(t,["googleSearch"],Q4(n,s));const o=g(e,["googleSearchRetrieval"]);o!=null&&m(t,["googleSearchRetrieval"],tN(n,o)),g(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],nN());const c=g(e,["googleMaps"]);c!=null&&m(t,["googleMaps"],sN(n,c)),g(e,["urlContext"])!=null&&m(t,["urlContext"],aN());const h=g(e,["codeExecution"]);return h!=null&&m(t,["codeExecution"],h),t}function lN(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function uN(n,e){const t={},i=g(e,["latitude"]);i!=null&&m(t,["latitude"],i);const r=g(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function cN(n,e){const t={},i=g(e,["latLng"]);i!=null&&m(t,["latLng"],uN(n,i));const r=g(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function fN(n,e){const t={},i=g(e,["functionCallingConfig"]);i!=null&&m(t,["functionCallingConfig"],lN(n,i));const r=g(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],cN(n,r)),t}function dN(n,e,t){const i={},r=g(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const s=g(e,["expireTime"]);t!==void 0&&s!=null&&m(t,["expireTime"],s);const o=g(e,["displayName"]);t!==void 0&&o!=null&&m(t,["displayName"],o);const u=g(e,["contents"]);if(t!==void 0&&u!=null){let b=Za(n,u);Array.isArray(b)&&(b=b.map(x=>Sx(n,x))),m(t,["contents"],b)}const c=g(e,["systemInstruction"]);t!==void 0&&c!=null&&m(t,["systemInstruction"],Sx(n,gs(n,c)));const f=g(e,["tools"]);if(t!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(x=>oN(n,x))),m(t,["tools"],b)}const h=g(e,["toolConfig"]);t!==void 0&&h!=null&&m(t,["toolConfig"],fN(n,h));const y=g(e,["kmsKeyName"]);return t!==void 0&&y!=null&&m(t,["encryption_spec","kmsKeyName"],y),i}function hN(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["model"],h_(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],dN(n,r,t)),t}function pN(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["_url","name"],Bu(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function gN(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["_url","name"],Bu(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function mN(n,e,t){const i={},r=g(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const s=g(e,["expireTime"]);return t!==void 0&&s!=null&&m(t,["expireTime"],s),i}function yN(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["_url","name"],Bu(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],mN(n,r,t)),t}function vN(n,e,t){const i={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const s=g(e,["pageToken"]);return t!==void 0&&s!=null&&m(t,["_query","pageToken"],s),i}function xN(n,e){const t={},i=g(e,["config"]);return i!=null&&m(t,["config"],vN(n,i,t)),t}function Ag(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["displayName"]);r!=null&&m(t,["displayName"],r);const s=g(e,["model"]);s!=null&&m(t,["model"],s);const o=g(e,["createTime"]);o!=null&&m(t,["createTime"],o);const u=g(e,["updateTime"]);u!=null&&m(t,["updateTime"],u);const c=g(e,["expireTime"]);c!=null&&m(t,["expireTime"],c);const f=g(e,["usageMetadata"]);return f!=null&&m(t,["usageMetadata"],f),t}function bN(){return{}}function wN(n,e){const t={},i=g(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=g(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Ag(n,o))),m(t,["cachedContents"],s)}return t}function Tg(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["displayName"]);r!=null&&m(t,["displayName"],r);const s=g(e,["model"]);s!=null&&m(t,["model"],s);const o=g(e,["createTime"]);o!=null&&m(t,["createTime"],o);const u=g(e,["updateTime"]);u!=null&&m(t,["updateTime"],u);const c=g(e,["expireTime"]);c!=null&&m(t,["expireTime"],c);const f=g(e,["usageMetadata"]);return f!=null&&m(t,["usageMetadata"],f),t}function _N(){return{}}function SN(n,e){const t={},i=g(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=g(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Tg(n,o))),m(t,["cachedContents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xf;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Xf||(Xf={}));class hm{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};i?typeof i=="object"?o=Object.assign({},i):o=i:o={config:{}},o.config&&(o.config.pageToken=t.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(r=o.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AN extends rd{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new hm(Xf.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=hN(this.apiClient,e);return u=Zt("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Tg(this.apiClient,h))}else{const f=j4(this.apiClient,e);return u=Zt("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>Ag(this.apiClient,h))}}async get(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=pN(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Tg(this.apiClient,h))}else{const f=U4(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>Ag(this.apiClient,h))}}async delete(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=gN(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=_N(),y=new mx;return Object.assign(y,h),y})}else{const f=V4(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(()=>{const h=bN(),y=new mx;return Object.assign(y,h),y})}}async update(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=yN(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Tg(this.apiClient,h))}else{const f=H4(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>Ag(this.apiClient,h))}}async listInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=xN(this.apiClient,e);return u=Zt("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=SN(this.apiClient,h),b=new yx;return Object.assign(b,y),b})}else{const f=W4(this.apiClient,e);return u=Zt("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=wN(this.apiClient,h),b=new yx;return Object.assign(b,y),b})}}}function Ax(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(n){return this instanceof Si?(this.v=n,this):new Si(n)}function jf(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(x){return function(N){return Promise.resolve(N).then(x,y)}}function u(x,N){i[x]&&(r[x]=function(T){return new Promise(function(M,k){s.push([x,T,M,k])>1||c(x,T)})},N&&(r[x]=N(r[x])))}function c(x,N){try{f(i[x](N))}catch(T){b(s[0][3],T)}}function f(x){x.value instanceof Si?Promise.resolve(x.value.v).then(h,y):b(s[0][2],x)}function h(x){c("next",x)}function y(x){c("throw",x)}function b(x,N){x(N),s.shift(),s.length&&c(s[0][0],s[0][1])}}function bh(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ax=="function"?Ax(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(u,c){o=n[s](o),r(u,c,o.done,o.value)})}}function r(s,o,u,c){Promise.resolve(c).then(function(f){s({value:f,done:u})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TN(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:__(t)}function __(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function CN(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Tx(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!__(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class NN{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new EN(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class EN{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),CN(s)}async sendMessage(e){var t;await this.sendPromise;const i=gs(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,o,u;const c=await r,f=(o=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,h=c.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let b=[];h!=null&&(b=(u=h.slice(y))!==null&&u!==void 0?u:[]);const x=f?[f]:[];this.recordHistory(i,x,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=gs(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?Tx(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return jf(this,arguments,function*(){var o,u,c,f;const h=[];try{for(var y=!0,b=bh(e),x;x=yield Si(b.next()),o=x.done,!o;y=!0){f=x.value,y=!1;const N=f;if(TN(N)){const T=(r=(i=N.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;T!==void 0&&h.push(T)}yield yield Si(N)}}catch(N){u={error:N}}finally{try{!y&&!o&&(c=b.return)&&(yield Si(c.call(b)))}finally{if(u)throw u.error}}this.recordHistory(t,h)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Tx(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kN(n,e,t){const i={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const s=g(e,["pageToken"]);return t!==void 0&&s!=null&&m(t,["_query","pageToken"],s),i}function MN(n,e){const t={},i=g(e,["config"]);return i!=null&&m(t,["config"],kN(n,i,t)),t}function LN(n,e){const t={},i=g(e,["details"]);i!=null&&m(t,["details"],i);const r=g(e,["message"]);r!=null&&m(t,["message"],r);const s=g(e,["code"]);return s!=null&&m(t,["code"],s),t}function PN(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["displayName"]);r!=null&&m(t,["displayName"],r);const s=g(e,["mimeType"]);s!=null&&m(t,["mimeType"],s);const o=g(e,["sizeBytes"]);o!=null&&m(t,["sizeBytes"],o);const u=g(e,["createTime"]);u!=null&&m(t,["createTime"],u);const c=g(e,["expirationTime"]);c!=null&&m(t,["expirationTime"],c);const f=g(e,["updateTime"]);f!=null&&m(t,["updateTime"],f);const h=g(e,["sha256Hash"]);h!=null&&m(t,["sha256Hash"],h);const y=g(e,["uri"]);y!=null&&m(t,["uri"],y);const b=g(e,["downloadUri"]);b!=null&&m(t,["downloadUri"],b);const x=g(e,["state"]);x!=null&&m(t,["state"],x);const N=g(e,["source"]);N!=null&&m(t,["source"],N);const T=g(e,["videoMetadata"]);T!=null&&m(t,["videoMetadata"],T);const M=g(e,["error"]);return M!=null&&m(t,["error"],LN(n,M)),t}function RN(n,e){const t={},i=g(e,["file"]);i!=null&&m(t,["file"],PN(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function DN(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["_url","file"],x_(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function IN(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["_url","file"],x_(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function ON(n,e){const t={},i=g(e,["details"]);i!=null&&m(t,["details"],i);const r=g(e,["message"]);r!=null&&m(t,["message"],r);const s=g(e,["code"]);return s!=null&&m(t,["code"],s),t}function M1(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["displayName"]);r!=null&&m(t,["displayName"],r);const s=g(e,["mimeType"]);s!=null&&m(t,["mimeType"],s);const o=g(e,["sizeBytes"]);o!=null&&m(t,["sizeBytes"],o);const u=g(e,["createTime"]);u!=null&&m(t,["createTime"],u);const c=g(e,["expirationTime"]);c!=null&&m(t,["expirationTime"],c);const f=g(e,["updateTime"]);f!=null&&m(t,["updateTime"],f);const h=g(e,["sha256Hash"]);h!=null&&m(t,["sha256Hash"],h);const y=g(e,["uri"]);y!=null&&m(t,["uri"],y);const b=g(e,["downloadUri"]);b!=null&&m(t,["downloadUri"],b);const x=g(e,["state"]);x!=null&&m(t,["state"],x);const N=g(e,["source"]);N!=null&&m(t,["source"],N);const T=g(e,["videoMetadata"]);T!=null&&m(t,["videoMetadata"],T);const M=g(e,["error"]);return M!=null&&m(t,["error"],ON(n,M)),t}function FN(n,e){const t={},i=g(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=g(e,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>M1(n,o))),m(t,["files"],s)}return t}function BN(){return{}}function zN(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jN extends rd{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new hm(Xf.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>M1(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=MN(this.apiClient,e);return s=Zt("files",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=FN(this.apiClient,c),h=new r4;return Object.assign(h,f),h})}}async createInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RN(this.apiClient,e);return s=Zt("upload/v1beta/files",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(()=>{const c=BN(),f=new s4;return Object.assign(f,c),f})}}async get(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DN(this.apiClient,e);return s=Zt("files/{file}",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>M1(this.apiClient,c))}}async delete(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IN(this.apiClient,e);return s=Zt("files/{file}",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(()=>{const c=zN(),f=new a4;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UN(n,e){const t={},i=g(e,["voiceName"]);return i!=null&&m(t,["voiceName"],i),t}function VN(n,e){const t={},i=g(e,["voiceName"]);return i!=null&&m(t,["voiceName"],i),t}function S_(n,e){const t={},i=g(e,["prebuiltVoiceConfig"]);return i!=null&&m(t,["prebuiltVoiceConfig"],UN(n,i)),t}function qN(n,e){const t={},i=g(e,["prebuiltVoiceConfig"]);return i!=null&&m(t,["prebuiltVoiceConfig"],VN(n,i)),t}function HN(n,e){const t={},i=g(e,["speaker"]);i!=null&&m(t,["speaker"],i);const r=g(e,["voiceConfig"]);return r!=null&&m(t,["voiceConfig"],S_(n,r)),t}function GN(n,e){const t={},i=g(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>HN(n,s))),m(t,["speakerVoiceConfigs"],r)}return t}function WN(n,e){const t={},i=g(e,["voiceConfig"]);i!=null&&m(t,["voiceConfig"],S_(n,i));const r=g(e,["multiSpeakerVoiceConfig"]);r!=null&&m(t,["multiSpeakerVoiceConfig"],GN(n,r));const s=g(e,["languageCode"]);return s!=null&&m(t,["languageCode"],s),t}function KN(n,e){const t={},i=g(e,["voiceConfig"]);if(i!=null&&m(t,["voiceConfig"],qN(n,i)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=g(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function YN(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function $N(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function JN(n,e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["data"]);i!=null&&m(t,["data"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function ZN(n,e){const t={},i=g(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=g(e,["data"]);r!=null&&m(t,["data"],r);const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function XN(n,e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function QN(n,e){const t={},i=g(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=g(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function eE(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],YN(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],JN(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],XN(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function tE(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],$N(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],ZN(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],QN(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function nE(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>eE(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function iE(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>tE(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function rE(n,e){const t={},i=g(e,["behavior"]);i!=null&&m(t,["behavior"],i);const r=g(e,["description"]);r!=null&&m(t,["description"],r);const s=g(e,["name"]);s!=null&&m(t,["name"],s);const o=g(e,["parameters"]);o!=null&&m(t,["parameters"],o);const u=g(e,["response"]);return u!=null&&m(t,["response"],u),t}function sE(n,e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=g(e,["description"]);i!=null&&m(t,["description"],i);const r=g(e,["name"]);r!=null&&m(t,["name"],r);const s=g(e,["parameters"]);s!=null&&m(t,["parameters"],s);const o=g(e,["response"]);return o!=null&&m(t,["response"],o),t}function aE(n,e){const t={},i=g(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=g(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function oE(n,e){const t={},i=g(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=g(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function lE(n,e){const t={},i=g(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],aE(n,i)),t}function uE(n,e){const t={},i=g(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],oE(n,i)),t}function cE(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function fE(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function dE(n,e){const t={},i=g(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],cE(n,i)),t}function hE(n,e){const t={},i=g(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],fE(n,i)),t}function pE(){return{}}function gE(n,e){const t={},i=g(e,["apiKeyString"]);return i!=null&&m(t,["apiKeyString"],i),t}function mE(n,e){const t={},i=g(e,["apiKeyConfig"]);i!=null&&m(t,["apiKeyConfig"],gE(n,i));const r=g(e,["authType"]);r!=null&&m(t,["authType"],r);const s=g(e,["googleServiceAccountConfig"]);s!=null&&m(t,["googleServiceAccountConfig"],s);const o=g(e,["httpBasicAuthConfig"]);o!=null&&m(t,["httpBasicAuthConfig"],o);const u=g(e,["oauthConfig"]);u!=null&&m(t,["oauthConfig"],u);const c=g(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function yE(n,e){const t={},i=g(e,["authConfig"]);return i!=null&&m(t,["authConfig"],mE(n,i)),t}function vE(){return{}}function xE(){return{}}function bE(n,e){const t={},i=g(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>rE(n,f))),m(t,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],lE(n,r));const s=g(e,["googleSearchRetrieval"]);if(s!=null&&m(t,["googleSearchRetrieval"],dE(n,s)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&m(t,["urlContext"],vE());const u=g(e,["codeExecution"]);return u!=null&&m(t,["codeExecution"],u),t}function wE(n,e){const t={},i=g(e,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>sE(n,b))),m(t,["functionDeclarations"],y)}const r=g(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const s=g(e,["googleSearch"]);s!=null&&m(t,["googleSearch"],uE(n,s));const o=g(e,["googleSearchRetrieval"]);o!=null&&m(t,["googleSearchRetrieval"],hE(n,o)),g(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],pE());const c=g(e,["googleMaps"]);c!=null&&m(t,["googleMaps"],yE(n,c)),g(e,["urlContext"])!=null&&m(t,["urlContext"],xE());const h=g(e,["codeExecution"]);return h!=null&&m(t,["codeExecution"],h),t}function _E(n,e){const t={},i=g(e,["handle"]);if(i!=null&&m(t,["handle"],i),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function SE(n,e){const t={},i=g(e,["handle"]);i!=null&&m(t,["handle"],i);const r=g(e,["transparent"]);return r!=null&&m(t,["transparent"],r),t}function Cx(){return{}}function Nx(){return{}}function AE(n,e){const t={},i=g(e,["disabled"]);i!=null&&m(t,["disabled"],i);const r=g(e,["startOfSpeechSensitivity"]);r!=null&&m(t,["startOfSpeechSensitivity"],r);const s=g(e,["endOfSpeechSensitivity"]);s!=null&&m(t,["endOfSpeechSensitivity"],s);const o=g(e,["prefixPaddingMs"]);o!=null&&m(t,["prefixPaddingMs"],o);const u=g(e,["silenceDurationMs"]);return u!=null&&m(t,["silenceDurationMs"],u),t}function TE(n,e){const t={},i=g(e,["disabled"]);i!=null&&m(t,["disabled"],i);const r=g(e,["startOfSpeechSensitivity"]);r!=null&&m(t,["startOfSpeechSensitivity"],r);const s=g(e,["endOfSpeechSensitivity"]);s!=null&&m(t,["endOfSpeechSensitivity"],s);const o=g(e,["prefixPaddingMs"]);o!=null&&m(t,["prefixPaddingMs"],o);const u=g(e,["silenceDurationMs"]);return u!=null&&m(t,["silenceDurationMs"],u),t}function CE(n,e){const t={},i=g(e,["automaticActivityDetection"]);i!=null&&m(t,["automaticActivityDetection"],AE(n,i));const r=g(e,["activityHandling"]);r!=null&&m(t,["activityHandling"],r);const s=g(e,["turnCoverage"]);return s!=null&&m(t,["turnCoverage"],s),t}function NE(n,e){const t={},i=g(e,["automaticActivityDetection"]);i!=null&&m(t,["automaticActivityDetection"],TE(n,i));const r=g(e,["activityHandling"]);r!=null&&m(t,["activityHandling"],r);const s=g(e,["turnCoverage"]);return s!=null&&m(t,["turnCoverage"],s),t}function EE(n,e){const t={},i=g(e,["targetTokens"]);return i!=null&&m(t,["targetTokens"],i),t}function kE(n,e){const t={},i=g(e,["targetTokens"]);return i!=null&&m(t,["targetTokens"],i),t}function ME(n,e){const t={},i=g(e,["triggerTokens"]);i!=null&&m(t,["triggerTokens"],i);const r=g(e,["slidingWindow"]);return r!=null&&m(t,["slidingWindow"],EE(n,r)),t}function LE(n,e){const t={},i=g(e,["triggerTokens"]);i!=null&&m(t,["triggerTokens"],i);const r=g(e,["slidingWindow"]);return r!=null&&m(t,["slidingWindow"],kE(n,r)),t}function PE(n,e){const t={},i=g(e,["proactiveAudio"]);return i!=null&&m(t,["proactiveAudio"],i),t}function RE(n,e){const t={},i=g(e,["proactiveAudio"]);return i!=null&&m(t,["proactiveAudio"],i),t}function DE(n,e,t){const i={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const s=g(e,["responseModalities"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","responseModalities"],s);const o=g(e,["temperature"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","temperature"],o);const u=g(e,["topP"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","topP"],u);const c=g(e,["topK"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&m(t,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","mediaResolution"],h);const y=g(e,["seed"]);t!==void 0&&y!=null&&m(t,["setup","generationConfig","seed"],y);const b=g(e,["speechConfig"]);t!==void 0&&b!=null&&m(t,["setup","generationConfig","speechConfig"],WN(n,C2(n,b)));const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],x);const N=g(e,["systemInstruction"]);t!==void 0&&N!=null&&m(t,["setup","systemInstruction"],nE(n,gs(n,N)));const T=g(e,["tools"]);if(t!==void 0&&T!=null){let K=Hh(n,T);Array.isArray(K)&&(K=K.map(X=>bE(n,qh(n,X)))),m(t,["setup","tools"],K)}const M=g(e,["sessionResumption"]);t!==void 0&&M!=null&&m(t,["setup","sessionResumption"],_E(n,M));const k=g(e,["inputAudioTranscription"]);t!==void 0&&k!=null&&m(t,["setup","inputAudioTranscription"],Cx());const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&m(t,["setup","outputAudioTranscription"],Cx());const I=g(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&m(t,["setup","realtimeInputConfig"],CE(n,I));const J=g(e,["contextWindowCompression"]);t!==void 0&&J!=null&&m(t,["setup","contextWindowCompression"],ME(n,J));const H=g(e,["proactivity"]);return t!==void 0&&H!=null&&m(t,["setup","proactivity"],PE(n,H)),i}function IE(n,e,t){const i={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const s=g(e,["responseModalities"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","responseModalities"],s);const o=g(e,["temperature"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","temperature"],o);const u=g(e,["topP"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","topP"],u);const c=g(e,["topK"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&m(t,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","mediaResolution"],h);const y=g(e,["seed"]);t!==void 0&&y!=null&&m(t,["setup","generationConfig","seed"],y);const b=g(e,["speechConfig"]);t!==void 0&&b!=null&&m(t,["setup","generationConfig","speechConfig"],KN(n,C2(n,b)));const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],x);const N=g(e,["systemInstruction"]);t!==void 0&&N!=null&&m(t,["setup","systemInstruction"],iE(n,gs(n,N)));const T=g(e,["tools"]);if(t!==void 0&&T!=null){let K=Hh(n,T);Array.isArray(K)&&(K=K.map(X=>wE(n,qh(n,X)))),m(t,["setup","tools"],K)}const M=g(e,["sessionResumption"]);t!==void 0&&M!=null&&m(t,["setup","sessionResumption"],SE(n,M));const k=g(e,["inputAudioTranscription"]);t!==void 0&&k!=null&&m(t,["setup","inputAudioTranscription"],Nx());const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&m(t,["setup","outputAudioTranscription"],Nx());const I=g(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&m(t,["setup","realtimeInputConfig"],NE(n,I));const J=g(e,["contextWindowCompression"]);t!==void 0&&J!=null&&m(t,["setup","contextWindowCompression"],LE(n,J));const H=g(e,["proactivity"]);return t!==void 0&&H!=null&&m(t,["setup","proactivity"],RE(n,H)),i}function OE(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["setup","model"],vi(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],DE(n,r,t)),t}function FE(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["setup","model"],vi(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],IE(n,r,t)),t}function BE(){return{}}function zE(){return{}}function jE(){return{}}function UE(){return{}}function VE(n,e){const t={},i=g(e,["media"]);i!=null&&m(t,["mediaChunks"],p_(n,i));const r=g(e,["audio"]);r!=null&&m(t,["audio"],c4(n,r));const s=g(e,["audioStreamEnd"]);s!=null&&m(t,["audioStreamEnd"],s);const o=g(e,["video"]);o!=null&&m(t,["video"],u4(n,o));const u=g(e,["text"]);return u!=null&&m(t,["text"],u),g(e,["activityStart"])!=null&&m(t,["activityStart"],BE()),g(e,["activityEnd"])!=null&&m(t,["activityEnd"],jE()),t}function qE(n,e){const t={},i=g(e,["media"]);if(i!=null&&m(t,["mediaChunks"],p_(n,i)),g(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=g(e,["audioStreamEnd"]);if(r!=null&&m(t,["audioStreamEnd"],r),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(g(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return g(e,["activityStart"])!=null&&m(t,["activityStart"],zE()),g(e,["activityEnd"])!=null&&m(t,["activityEnd"],UE()),t}function A_(n,e){const t={},i=g(e,["text"]);i!=null&&m(t,["text"],i);const r=g(e,["weight"]);return r!=null&&m(t,["weight"],r),t}function HE(n,e){const t={},i=g(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>A_(n,s))),m(t,["weightedPrompts"],r)}return t}function T_(n,e){const t={},i=g(e,["temperature"]);i!=null&&m(t,["temperature"],i);const r=g(e,["topK"]);r!=null&&m(t,["topK"],r);const s=g(e,["seed"]);s!=null&&m(t,["seed"],s);const o=g(e,["guidance"]);o!=null&&m(t,["guidance"],o);const u=g(e,["bpm"]);u!=null&&m(t,["bpm"],u);const c=g(e,["density"]);c!=null&&m(t,["density"],c);const f=g(e,["brightness"]);f!=null&&m(t,["brightness"],f);const h=g(e,["scale"]);h!=null&&m(t,["scale"],h);const y=g(e,["muteBass"]);y!=null&&m(t,["muteBass"],y);const b=g(e,["muteDrums"]);b!=null&&m(t,["muteDrums"],b);const x=g(e,["onlyBassAndDrums"]);return x!=null&&m(t,["onlyBassAndDrums"],x),t}function GE(n,e){const t={},i=g(e,["musicGenerationConfig"]);return i!=null&&m(t,["musicGenerationConfig"],T_(n,i)),t}function C_(n,e){const t={},i=g(e,["model"]);return i!=null&&m(t,["model"],i),t}function N_(n,e){const t={},i=g(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>A_(n,s))),m(t,["weightedPrompts"],r)}return t}function L1(n,e){const t={},i=g(e,["setup"]);i!=null&&m(t,["setup"],C_(n,i));const r=g(e,["clientContent"]);r!=null&&m(t,["clientContent"],N_(n,r));const s=g(e,["musicGenerationConfig"]);s!=null&&m(t,["musicGenerationConfig"],T_(n,s));const o=g(e,["playbackControl"]);return o!=null&&m(t,["playbackControl"],o),t}function WE(){return{}}function KE(){return{}}function YE(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function $E(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function JE(n,e){const t={},i=g(e,["data"]);i!=null&&m(t,["data"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function ZE(n,e){const t={},i=g(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=g(e,["data"]);r!=null&&m(t,["data"],r);const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function XE(n,e){const t={},i=g(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function QE(n,e){const t={},i=g(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=g(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function ek(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],YE(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],JE(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],XE(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function tk(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],$E(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],ZE(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],QE(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function nk(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>ek(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function ik(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>tk(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function Ex(n,e){const t={},i=g(e,["text"]);i!=null&&m(t,["text"],i);const r=g(e,["finished"]);return r!=null&&m(t,["finished"],r),t}function kx(n,e){const t={},i=g(e,["text"]);i!=null&&m(t,["text"],i);const r=g(e,["finished"]);return r!=null&&m(t,["finished"],r),t}function rk(n,e){const t={},i=g(e,["retrievedUrl"]);i!=null&&m(t,["retrievedUrl"],i);const r=g(e,["urlRetrievalStatus"]);return r!=null&&m(t,["urlRetrievalStatus"],r),t}function sk(n,e){const t={},i=g(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>rk(n,s))),m(t,["urlMetadata"],r)}return t}function ak(n,e){const t={},i=g(e,["modelTurn"]);i!=null&&m(t,["modelTurn"],nk(n,i));const r=g(e,["turnComplete"]);r!=null&&m(t,["turnComplete"],r);const s=g(e,["interrupted"]);s!=null&&m(t,["interrupted"],s);const o=g(e,["groundingMetadata"]);o!=null&&m(t,["groundingMetadata"],o);const u=g(e,["generationComplete"]);u!=null&&m(t,["generationComplete"],u);const c=g(e,["inputTranscription"]);c!=null&&m(t,["inputTranscription"],Ex(n,c));const f=g(e,["outputTranscription"]);f!=null&&m(t,["outputTranscription"],Ex(n,f));const h=g(e,["urlContextMetadata"]);return h!=null&&m(t,["urlContextMetadata"],sk(n,h)),t}function ok(n,e){const t={},i=g(e,["modelTurn"]);i!=null&&m(t,["modelTurn"],ik(n,i));const r=g(e,["turnComplete"]);r!=null&&m(t,["turnComplete"],r);const s=g(e,["interrupted"]);s!=null&&m(t,["interrupted"],s);const o=g(e,["groundingMetadata"]);o!=null&&m(t,["groundingMetadata"],o);const u=g(e,["generationComplete"]);u!=null&&m(t,["generationComplete"],u);const c=g(e,["inputTranscription"]);c!=null&&m(t,["inputTranscription"],kx(n,c));const f=g(e,["outputTranscription"]);return f!=null&&m(t,["outputTranscription"],kx(n,f)),t}function lk(n,e){const t={},i=g(e,["id"]);i!=null&&m(t,["id"],i);const r=g(e,["args"]);r!=null&&m(t,["args"],r);const s=g(e,["name"]);return s!=null&&m(t,["name"],s),t}function uk(n,e){const t={},i=g(e,["args"]);i!=null&&m(t,["args"],i);const r=g(e,["name"]);return r!=null&&m(t,["name"],r),t}function ck(n,e){const t={},i=g(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>lk(n,s))),m(t,["functionCalls"],r)}return t}function fk(n,e){const t={},i=g(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>uk(n,s))),m(t,["functionCalls"],r)}return t}function dk(n,e){const t={},i=g(e,["ids"]);return i!=null&&m(t,["ids"],i),t}function hk(n,e){const t={},i=g(e,["ids"]);return i!=null&&m(t,["ids"],i),t}function Zp(n,e){const t={},i=g(e,["modality"]);i!=null&&m(t,["modality"],i);const r=g(e,["tokenCount"]);return r!=null&&m(t,["tokenCount"],r),t}function Xp(n,e){const t={},i=g(e,["modality"]);i!=null&&m(t,["modality"],i);const r=g(e,["tokenCount"]);return r!=null&&m(t,["tokenCount"],r),t}function pk(n,e){const t={},i=g(e,["promptTokenCount"]);i!=null&&m(t,["promptTokenCount"],i);const r=g(e,["cachedContentTokenCount"]);r!=null&&m(t,["cachedContentTokenCount"],r);const s=g(e,["responseTokenCount"]);s!=null&&m(t,["responseTokenCount"],s);const o=g(e,["toolUsePromptTokenCount"]);o!=null&&m(t,["toolUsePromptTokenCount"],o);const u=g(e,["thoughtsTokenCount"]);u!=null&&m(t,["thoughtsTokenCount"],u);const c=g(e,["totalTokenCount"]);c!=null&&m(t,["totalTokenCount"],c);const f=g(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(N=>Zp(n,N))),m(t,["promptTokensDetails"],x)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(N=>Zp(n,N))),m(t,["cacheTokensDetails"],x)}const y=g(e,["responseTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(N=>Zp(n,N))),m(t,["responseTokensDetails"],x)}const b=g(e,["toolUsePromptTokensDetails"]);if(b!=null){let x=b;Array.isArray(x)&&(x=x.map(N=>Zp(n,N))),m(t,["toolUsePromptTokensDetails"],x)}return t}function gk(n,e){const t={},i=g(e,["promptTokenCount"]);i!=null&&m(t,["promptTokenCount"],i);const r=g(e,["cachedContentTokenCount"]);r!=null&&m(t,["cachedContentTokenCount"],r);const s=g(e,["candidatesTokenCount"]);s!=null&&m(t,["responseTokenCount"],s);const o=g(e,["toolUsePromptTokenCount"]);o!=null&&m(t,["toolUsePromptTokenCount"],o);const u=g(e,["thoughtsTokenCount"]);u!=null&&m(t,["thoughtsTokenCount"],u);const c=g(e,["totalTokenCount"]);c!=null&&m(t,["totalTokenCount"],c);const f=g(e,["promptTokensDetails"]);if(f!=null){let N=f;Array.isArray(N)&&(N=N.map(T=>Xp(n,T))),m(t,["promptTokensDetails"],N)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let N=h;Array.isArray(N)&&(N=N.map(T=>Xp(n,T))),m(t,["cacheTokensDetails"],N)}const y=g(e,["candidatesTokensDetails"]);if(y!=null){let N=y;Array.isArray(N)&&(N=N.map(T=>Xp(n,T))),m(t,["responseTokensDetails"],N)}const b=g(e,["toolUsePromptTokensDetails"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(T=>Xp(n,T))),m(t,["toolUsePromptTokensDetails"],N)}const x=g(e,["trafficType"]);return x!=null&&m(t,["trafficType"],x),t}function mk(n,e){const t={},i=g(e,["timeLeft"]);return i!=null&&m(t,["timeLeft"],i),t}function yk(n,e){const t={},i=g(e,["timeLeft"]);return i!=null&&m(t,["timeLeft"],i),t}function vk(n,e){const t={},i=g(e,["newHandle"]);i!=null&&m(t,["newHandle"],i);const r=g(e,["resumable"]);r!=null&&m(t,["resumable"],r);const s=g(e,["lastConsumedClientMessageIndex"]);return s!=null&&m(t,["lastConsumedClientMessageIndex"],s),t}function xk(n,e){const t={},i=g(e,["newHandle"]);i!=null&&m(t,["newHandle"],i);const r=g(e,["resumable"]);r!=null&&m(t,["resumable"],r);const s=g(e,["lastConsumedClientMessageIndex"]);return s!=null&&m(t,["lastConsumedClientMessageIndex"],s),t}function bk(n,e){const t={};g(e,["setupComplete"])!=null&&m(t,["setupComplete"],WE());const r=g(e,["serverContent"]);r!=null&&m(t,["serverContent"],ak(n,r));const s=g(e,["toolCall"]);s!=null&&m(t,["toolCall"],ck(n,s));const o=g(e,["toolCallCancellation"]);o!=null&&m(t,["toolCallCancellation"],dk(n,o));const u=g(e,["usageMetadata"]);u!=null&&m(t,["usageMetadata"],pk(n,u));const c=g(e,["goAway"]);c!=null&&m(t,["goAway"],mk(n,c));const f=g(e,["sessionResumptionUpdate"]);return f!=null&&m(t,["sessionResumptionUpdate"],vk(n,f)),t}function wk(n,e){const t={};g(e,["setupComplete"])!=null&&m(t,["setupComplete"],KE());const r=g(e,["serverContent"]);r!=null&&m(t,["serverContent"],ok(n,r));const s=g(e,["toolCall"]);s!=null&&m(t,["toolCall"],fk(n,s));const o=g(e,["toolCallCancellation"]);o!=null&&m(t,["toolCallCancellation"],hk(n,o));const u=g(e,["usageMetadata"]);u!=null&&m(t,["usageMetadata"],gk(n,u));const c=g(e,["goAway"]);c!=null&&m(t,["goAway"],yk(n,c));const f=g(e,["sessionResumptionUpdate"]);return f!=null&&m(t,["sessionResumptionUpdate"],xk(n,f)),t}function _k(){return{}}function Sk(n,e){const t={},i=g(e,["text"]);i!=null&&m(t,["text"],i);const r=g(e,["weight"]);return r!=null&&m(t,["weight"],r),t}function Ak(n,e){const t={},i=g(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Sk(n,s))),m(t,["weightedPrompts"],r)}return t}function Tk(n,e){const t={},i=g(e,["temperature"]);i!=null&&m(t,["temperature"],i);const r=g(e,["topK"]);r!=null&&m(t,["topK"],r);const s=g(e,["seed"]);s!=null&&m(t,["seed"],s);const o=g(e,["guidance"]);o!=null&&m(t,["guidance"],o);const u=g(e,["bpm"]);u!=null&&m(t,["bpm"],u);const c=g(e,["density"]);c!=null&&m(t,["density"],c);const f=g(e,["brightness"]);f!=null&&m(t,["brightness"],f);const h=g(e,["scale"]);h!=null&&m(t,["scale"],h);const y=g(e,["muteBass"]);y!=null&&m(t,["muteBass"],y);const b=g(e,["muteDrums"]);b!=null&&m(t,["muteDrums"],b);const x=g(e,["onlyBassAndDrums"]);return x!=null&&m(t,["onlyBassAndDrums"],x),t}function Ck(n,e){const t={},i=g(e,["clientContent"]);i!=null&&m(t,["clientContent"],Ak(n,i));const r=g(e,["musicGenerationConfig"]);return r!=null&&m(t,["musicGenerationConfig"],Tk(n,r)),t}function Nk(n,e){const t={},i=g(e,["data"]);i!=null&&m(t,["data"],i);const r=g(e,["mimeType"]);r!=null&&m(t,["mimeType"],r);const s=g(e,["sourceMetadata"]);return s!=null&&m(t,["sourceMetadata"],Ck(n,s)),t}function Ek(n,e){const t={},i=g(e,["audioChunks"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Nk(n,s))),m(t,["audioChunks"],r)}return t}function kk(n,e){const t={},i=g(e,["text"]);i!=null&&m(t,["text"],i);const r=g(e,["filteredReason"]);return r!=null&&m(t,["filteredReason"],r),t}function Mk(n,e){const t={};g(e,["setupComplete"])!=null&&m(t,["setupComplete"],_k());const r=g(e,["serverContent"]);r!=null&&m(t,["serverContent"],Ek(n,r));const s=g(e,["filteredPrompt"]);return s!=null&&m(t,["filteredPrompt"],kk(n,s)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lk(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function Pk(n,e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["data"]);i!=null&&m(t,["data"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function Rk(n,e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function Dk(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],Lk(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],Pk(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],Rk(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function pm(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Dk(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function Ik(n,e){const t={},i=g(e,["anyOf"]);i!=null&&m(t,["anyOf"],i);const r=g(e,["default"]);r!=null&&m(t,["default"],r);const s=g(e,["description"]);s!=null&&m(t,["description"],s);const o=g(e,["enum"]);o!=null&&m(t,["enum"],o);const u=g(e,["example"]);u!=null&&m(t,["example"],u);const c=g(e,["format"]);c!=null&&m(t,["format"],c);const f=g(e,["items"]);f!=null&&m(t,["items"],f);const h=g(e,["maxItems"]);h!=null&&m(t,["maxItems"],h);const y=g(e,["maxLength"]);y!=null&&m(t,["maxLength"],y);const b=g(e,["maxProperties"]);b!=null&&m(t,["maxProperties"],b);const x=g(e,["maximum"]);x!=null&&m(t,["maximum"],x);const N=g(e,["minItems"]);N!=null&&m(t,["minItems"],N);const T=g(e,["minLength"]);T!=null&&m(t,["minLength"],T);const M=g(e,["minProperties"]);M!=null&&m(t,["minProperties"],M);const k=g(e,["minimum"]);k!=null&&m(t,["minimum"],k);const P=g(e,["nullable"]);P!=null&&m(t,["nullable"],P);const I=g(e,["pattern"]);I!=null&&m(t,["pattern"],I);const J=g(e,["properties"]);J!=null&&m(t,["properties"],J);const H=g(e,["propertyOrdering"]);H!=null&&m(t,["propertyOrdering"],H);const K=g(e,["required"]);K!=null&&m(t,["required"],K);const X=g(e,["title"]);X!=null&&m(t,["title"],X);const U=g(e,["type"]);return U!=null&&m(t,["type"],U),t}function Ok(n,e){const t={};if(g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=g(e,["category"]);i!=null&&m(t,["category"],i);const r=g(e,["threshold"]);return r!=null&&m(t,["threshold"],r),t}function Fk(n,e){const t={},i=g(e,["behavior"]);i!=null&&m(t,["behavior"],i);const r=g(e,["description"]);r!=null&&m(t,["description"],r);const s=g(e,["name"]);s!=null&&m(t,["name"],s);const o=g(e,["parameters"]);o!=null&&m(t,["parameters"],o);const u=g(e,["response"]);return u!=null&&m(t,["response"],u),t}function Bk(n,e){const t={},i=g(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=g(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function zk(n,e){const t={},i=g(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],Bk(n,i)),t}function jk(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function Uk(n,e){const t={},i=g(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],jk(n,i)),t}function Vk(){return{}}function qk(n,e){const t={},i=g(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Fk(n,f))),m(t,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],zk(n,r));const s=g(e,["googleSearchRetrieval"]);if(s!=null&&m(t,["googleSearchRetrieval"],Uk(n,s)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&m(t,["urlContext"],Vk());const u=g(e,["codeExecution"]);return u!=null&&m(t,["codeExecution"],u),t}function Hk(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function Gk(n,e){const t={},i=g(e,["latitude"]);i!=null&&m(t,["latitude"],i);const r=g(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function Wk(n,e){const t={},i=g(e,["latLng"]);i!=null&&m(t,["latLng"],Gk(n,i));const r=g(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function Kk(n,e){const t={},i=g(e,["functionCallingConfig"]);i!=null&&m(t,["functionCallingConfig"],Hk(n,i));const r=g(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],Wk(n,r)),t}function Yk(n,e){const t={},i=g(e,["voiceName"]);return i!=null&&m(t,["voiceName"],i),t}function E_(n,e){const t={},i=g(e,["prebuiltVoiceConfig"]);return i!=null&&m(t,["prebuiltVoiceConfig"],Yk(n,i)),t}function $k(n,e){const t={},i=g(e,["speaker"]);i!=null&&m(t,["speaker"],i);const r=g(e,["voiceConfig"]);return r!=null&&m(t,["voiceConfig"],E_(n,r)),t}function Jk(n,e){const t={},i=g(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>$k(n,s))),m(t,["speakerVoiceConfigs"],r)}return t}function Zk(n,e){const t={},i=g(e,["voiceConfig"]);i!=null&&m(t,["voiceConfig"],E_(n,i));const r=g(e,["multiSpeakerVoiceConfig"]);r!=null&&m(t,["multiSpeakerVoiceConfig"],Jk(n,r));const s=g(e,["languageCode"]);return s!=null&&m(t,["languageCode"],s),t}function Xk(n,e){const t={},i=g(e,["includeThoughts"]);i!=null&&m(t,["includeThoughts"],i);const r=g(e,["thinkingBudget"]);return r!=null&&m(t,["thinkingBudget"],r),t}function Qk(n,e,t){const i={},r=g(e,["systemInstruction"]);t!==void 0&&r!=null&&m(t,["systemInstruction"],pm(n,gs(n,r)));const s=g(e,["temperature"]);s!=null&&m(i,["temperature"],s);const o=g(e,["topP"]);o!=null&&m(i,["topP"],o);const u=g(e,["topK"]);u!=null&&m(i,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&m(i,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&m(i,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&m(i,["stopSequences"],h);const y=g(e,["responseLogprobs"]);y!=null&&m(i,["responseLogprobs"],y);const b=g(e,["logprobs"]);b!=null&&m(i,["logprobs"],b);const x=g(e,["presencePenalty"]);x!=null&&m(i,["presencePenalty"],x);const N=g(e,["frequencyPenalty"]);N!=null&&m(i,["frequencyPenalty"],N);const T=g(e,["seed"]);T!=null&&m(i,["seed"],T);const M=g(e,["responseMimeType"]);M!=null&&m(i,["responseMimeType"],M);const k=g(e,["responseSchema"]);if(k!=null&&m(i,["responseSchema"],Ik(n,$g(n,k))),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=g(e,["safetySettings"]);if(t!==void 0&&P!=null){let de=P;Array.isArray(de)&&(de=de.map(B=>Ok(n,B))),m(t,["safetySettings"],de)}const I=g(e,["tools"]);if(t!==void 0&&I!=null){let de=Hh(n,I);Array.isArray(de)&&(de=de.map(B=>qk(n,qh(n,B)))),m(t,["tools"],de)}const J=g(e,["toolConfig"]);if(t!==void 0&&J!=null&&m(t,["toolConfig"],Kk(n,J)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const H=g(e,["cachedContent"]);t!==void 0&&H!=null&&m(t,["cachedContent"],Bu(n,H));const K=g(e,["responseModalities"]);K!=null&&m(i,["responseModalities"],K);const X=g(e,["mediaResolution"]);X!=null&&m(i,["mediaResolution"],X);const U=g(e,["speechConfig"]);if(U!=null&&m(i,["speechConfig"],Zk(n,y_(n,U))),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=g(e,["thinkingConfig"]);return ee!=null&&m(i,["thinkingConfig"],Xk(n,ee)),i}function Mx(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["contents"]);if(r!=null){let o=Za(n,r);Array.isArray(o)&&(o=o.map(u=>pm(n,u))),m(t,["contents"],o)}const s=g(e,["config"]);return s!=null&&m(t,["generationConfig"],Qk(n,s,t)),t}function eM(n,e,t){const i={},r=g(e,["taskType"]);t!==void 0&&r!=null&&m(t,["requests[]","taskType"],r);const s=g(e,["title"]);t!==void 0&&s!=null&&m(t,["requests[]","title"],s);const o=g(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&m(t,["requests[]","outputDimensionality"],o),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function tM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["contents"]);r!=null&&m(t,["requests[]","content"],m_(n,r));const s=g(e,["config"]);s!=null&&m(t,["config"],eM(n,s,t));const o=g(e,["model"]);return o!==void 0&&m(t,["requests[]","model"],vi(n,o)),t}function nM(n,e,t){const i={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r);const s=g(e,["aspectRatio"]);t!==void 0&&s!=null&&m(t,["parameters","aspectRatio"],s);const o=g(e,["guidanceScale"]);if(t!==void 0&&o!=null&&m(t,["parameters","guidanceScale"],o),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=g(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&m(t,["parameters","safetySetting"],u);const c=g(e,["personGeneration"]);t!==void 0&&c!=null&&m(t,["parameters","personGeneration"],c);const f=g(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&m(t,["parameters","includeSafetyAttributes"],f);const h=g(e,["includeRaiReason"]);t!==void 0&&h!=null&&m(t,["parameters","includeRaiReason"],h);const y=g(e,["language"]);t!==void 0&&y!=null&&m(t,["parameters","language"],y);const b=g(e,["outputMimeType"]);t!==void 0&&b!=null&&m(t,["parameters","outputOptions","mimeType"],b);const x=g(e,["outputCompressionQuality"]);if(t!==void 0&&x!=null&&m(t,["parameters","outputOptions","compressionQuality"],x),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function iM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["prompt"]);r!=null&&m(t,["instances[0]","prompt"],r);const s=g(e,["config"]);return s!=null&&m(t,["config"],nM(n,s,t)),t}function rM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","name"],vi(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function sM(n,e,t){const i={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const s=g(e,["pageToken"]);t!==void 0&&s!=null&&m(t,["_query","pageToken"],s);const o=g(e,["filter"]);t!==void 0&&o!=null&&m(t,["_query","filter"],o);const u=g(e,["queryBase"]);return t!==void 0&&u!=null&&m(t,["_url","models_url"],b_(n,u)),i}function aM(n,e){const t={},i=g(e,["config"]);return i!=null&&m(t,["config"],sM(n,i,t)),t}function oM(n,e,t){const i={},r=g(e,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const s=g(e,["description"]);t!==void 0&&s!=null&&m(t,["description"],s);const o=g(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&m(t,["defaultCheckpointId"],o),i}function lM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","name"],vi(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],oM(n,r,t)),t}function uM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","name"],vi(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function cM(n,e){const t={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function fM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["contents"]);if(r!=null){let o=Za(n,r);Array.isArray(o)&&(o=o.map(u=>pm(n,u))),m(t,["contents"],o)}const s=g(e,["config"]);return s!=null&&m(t,["config"],cM(n,s)),t}function dM(n,e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=g(e,["imageBytes"]);i!=null&&m(t,["bytesBase64Encoded"],zu(n,i));const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function hM(n,e,t){const i={},r=g(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=g(e,["durationSeconds"]);if(t!==void 0&&s!=null&&m(t,["parameters","durationSeconds"],s),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(e,["aspectRatio"]);if(t!==void 0&&o!=null&&m(t,["parameters","aspectRatio"],o),g(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=g(e,["personGeneration"]);if(t!==void 0&&u!=null&&m(t,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(e,["negativePrompt"]);t!==void 0&&c!=null&&m(t,["parameters","negativePrompt"],c);const f=g(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&m(t,["parameters","enhancePrompt"],f),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function pM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["prompt"]);r!=null&&m(t,["instances[0]","prompt"],r);const s=g(e,["image"]);s!=null&&m(t,["instances[0]","image"],dM(n,s));const o=g(e,["config"]);return o!=null&&m(t,["config"],hM(n,o,t)),t}function gM(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function mM(n,e){const t={},i=g(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=g(e,["data"]);r!=null&&m(t,["data"],r);const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function yM(n,e){const t={},i=g(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=g(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function vM(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],gM(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],mM(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],yM(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function sd(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>vM(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function xM(n,e){const t={},i=g(e,["anyOf"]);i!=null&&m(t,["anyOf"],i);const r=g(e,["default"]);r!=null&&m(t,["default"],r);const s=g(e,["description"]);s!=null&&m(t,["description"],s);const o=g(e,["enum"]);o!=null&&m(t,["enum"],o);const u=g(e,["example"]);u!=null&&m(t,["example"],u);const c=g(e,["format"]);c!=null&&m(t,["format"],c);const f=g(e,["items"]);f!=null&&m(t,["items"],f);const h=g(e,["maxItems"]);h!=null&&m(t,["maxItems"],h);const y=g(e,["maxLength"]);y!=null&&m(t,["maxLength"],y);const b=g(e,["maxProperties"]);b!=null&&m(t,["maxProperties"],b);const x=g(e,["maximum"]);x!=null&&m(t,["maximum"],x);const N=g(e,["minItems"]);N!=null&&m(t,["minItems"],N);const T=g(e,["minLength"]);T!=null&&m(t,["minLength"],T);const M=g(e,["minProperties"]);M!=null&&m(t,["minProperties"],M);const k=g(e,["minimum"]);k!=null&&m(t,["minimum"],k);const P=g(e,["nullable"]);P!=null&&m(t,["nullable"],P);const I=g(e,["pattern"]);I!=null&&m(t,["pattern"],I);const J=g(e,["properties"]);J!=null&&m(t,["properties"],J);const H=g(e,["propertyOrdering"]);H!=null&&m(t,["propertyOrdering"],H);const K=g(e,["required"]);K!=null&&m(t,["required"],K);const X=g(e,["title"]);X!=null&&m(t,["title"],X);const U=g(e,["type"]);return U!=null&&m(t,["type"],U),t}function bM(n,e){const t={},i=g(e,["featureSelectionPreference"]);return i!=null&&m(t,["featureSelectionPreference"],i),t}function wM(n,e){const t={},i=g(e,["method"]);i!=null&&m(t,["method"],i);const r=g(e,["category"]);r!=null&&m(t,["category"],r);const s=g(e,["threshold"]);return s!=null&&m(t,["threshold"],s),t}function _M(n,e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=g(e,["description"]);i!=null&&m(t,["description"],i);const r=g(e,["name"]);r!=null&&m(t,["name"],r);const s=g(e,["parameters"]);s!=null&&m(t,["parameters"],s);const o=g(e,["response"]);return o!=null&&m(t,["response"],o),t}function SM(n,e){const t={},i=g(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=g(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function AM(n,e){const t={},i=g(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],SM(n,i)),t}function TM(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function CM(n,e){const t={},i=g(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],TM(n,i)),t}function NM(){return{}}function EM(n,e){const t={},i=g(e,["apiKeyString"]);return i!=null&&m(t,["apiKeyString"],i),t}function kM(n,e){const t={},i=g(e,["apiKeyConfig"]);i!=null&&m(t,["apiKeyConfig"],EM(n,i));const r=g(e,["authType"]);r!=null&&m(t,["authType"],r);const s=g(e,["googleServiceAccountConfig"]);s!=null&&m(t,["googleServiceAccountConfig"],s);const o=g(e,["httpBasicAuthConfig"]);o!=null&&m(t,["httpBasicAuthConfig"],o);const u=g(e,["oauthConfig"]);u!=null&&m(t,["oauthConfig"],u);const c=g(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function MM(n,e){const t={},i=g(e,["authConfig"]);return i!=null&&m(t,["authConfig"],kM(n,i)),t}function LM(){return{}}function k_(n,e){const t={},i=g(e,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>_M(n,b))),m(t,["functionDeclarations"],y)}const r=g(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const s=g(e,["googleSearch"]);s!=null&&m(t,["googleSearch"],AM(n,s));const o=g(e,["googleSearchRetrieval"]);o!=null&&m(t,["googleSearchRetrieval"],CM(n,o)),g(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],NM());const c=g(e,["googleMaps"]);c!=null&&m(t,["googleMaps"],MM(n,c)),g(e,["urlContext"])!=null&&m(t,["urlContext"],LM());const h=g(e,["codeExecution"]);return h!=null&&m(t,["codeExecution"],h),t}function PM(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function RM(n,e){const t={},i=g(e,["latitude"]);i!=null&&m(t,["latitude"],i);const r=g(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function DM(n,e){const t={},i=g(e,["latLng"]);i!=null&&m(t,["latLng"],RM(n,i));const r=g(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function IM(n,e){const t={},i=g(e,["functionCallingConfig"]);i!=null&&m(t,["functionCallingConfig"],PM(n,i));const r=g(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],DM(n,r)),t}function OM(n,e){const t={},i=g(e,["voiceName"]);return i!=null&&m(t,["voiceName"],i),t}function FM(n,e){const t={},i=g(e,["prebuiltVoiceConfig"]);return i!=null&&m(t,["prebuiltVoiceConfig"],OM(n,i)),t}function BM(n,e){const t={},i=g(e,["voiceConfig"]);if(i!=null&&m(t,["voiceConfig"],FM(n,i)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=g(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function zM(n,e){const t={},i=g(e,["includeThoughts"]);i!=null&&m(t,["includeThoughts"],i);const r=g(e,["thinkingBudget"]);return r!=null&&m(t,["thinkingBudget"],r),t}function jM(n,e,t){const i={},r=g(e,["systemInstruction"]);t!==void 0&&r!=null&&m(t,["systemInstruction"],sd(n,gs(n,r)));const s=g(e,["temperature"]);s!=null&&m(i,["temperature"],s);const o=g(e,["topP"]);o!=null&&m(i,["topP"],o);const u=g(e,["topK"]);u!=null&&m(i,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&m(i,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&m(i,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&m(i,["stopSequences"],h);const y=g(e,["responseLogprobs"]);y!=null&&m(i,["responseLogprobs"],y);const b=g(e,["logprobs"]);b!=null&&m(i,["logprobs"],b);const x=g(e,["presencePenalty"]);x!=null&&m(i,["presencePenalty"],x);const N=g(e,["frequencyPenalty"]);N!=null&&m(i,["frequencyPenalty"],N);const T=g(e,["seed"]);T!=null&&m(i,["seed"],T);const M=g(e,["responseMimeType"]);M!=null&&m(i,["responseMimeType"],M);const k=g(e,["responseSchema"]);k!=null&&m(i,["responseSchema"],xM(n,$g(n,k)));const P=g(e,["routingConfig"]);P!=null&&m(i,["routingConfig"],P);const I=g(e,["modelSelectionConfig"]);I!=null&&m(i,["modelConfig"],bM(n,I));const J=g(e,["safetySettings"]);if(t!==void 0&&J!=null){let ne=J;Array.isArray(ne)&&(ne=ne.map(ie=>wM(n,ie))),m(t,["safetySettings"],ne)}const H=g(e,["tools"]);if(t!==void 0&&H!=null){let ne=Hh(n,H);Array.isArray(ne)&&(ne=ne.map(ie=>k_(n,qh(n,ie)))),m(t,["tools"],ne)}const K=g(e,["toolConfig"]);t!==void 0&&K!=null&&m(t,["toolConfig"],IM(n,K));const X=g(e,["labels"]);t!==void 0&&X!=null&&m(t,["labels"],X);const U=g(e,["cachedContent"]);t!==void 0&&U!=null&&m(t,["cachedContent"],Bu(n,U));const ee=g(e,["responseModalities"]);ee!=null&&m(i,["responseModalities"],ee);const de=g(e,["mediaResolution"]);de!=null&&m(i,["mediaResolution"],de);const B=g(e,["speechConfig"]);B!=null&&m(i,["speechConfig"],BM(n,y_(n,B)));const q=g(e,["audioTimestamp"]);q!=null&&m(i,["audioTimestamp"],q);const oe=g(e,["thinkingConfig"]);return oe!=null&&m(i,["thinkingConfig"],zM(n,oe)),i}function Lx(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["contents"]);if(r!=null){let o=Za(n,r);Array.isArray(o)&&(o=o.map(u=>sd(n,u))),m(t,["contents"],o)}const s=g(e,["config"]);return s!=null&&m(t,["generationConfig"],jM(n,s,t)),t}function UM(n,e,t){const i={},r=g(e,["taskType"]);t!==void 0&&r!=null&&m(t,["instances[]","task_type"],r);const s=g(e,["title"]);t!==void 0&&s!=null&&m(t,["instances[]","title"],s);const o=g(e,["outputDimensionality"]);t!==void 0&&o!=null&&m(t,["parameters","outputDimensionality"],o);const u=g(e,["mimeType"]);t!==void 0&&u!=null&&m(t,["instances[]","mimeType"],u);const c=g(e,["autoTruncate"]);return t!==void 0&&c!=null&&m(t,["parameters","autoTruncate"],c),i}function VM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["contents"]);r!=null&&m(t,["instances[]","content"],m_(n,r));const s=g(e,["config"]);return s!=null&&m(t,["config"],UM(n,s,t)),t}function qM(n,e,t){const i={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const s=g(e,["negativePrompt"]);t!==void 0&&s!=null&&m(t,["parameters","negativePrompt"],s);const o=g(e,["numberOfImages"]);t!==void 0&&o!=null&&m(t,["parameters","sampleCount"],o);const u=g(e,["aspectRatio"]);t!==void 0&&u!=null&&m(t,["parameters","aspectRatio"],u);const c=g(e,["guidanceScale"]);t!==void 0&&c!=null&&m(t,["parameters","guidanceScale"],c);const f=g(e,["seed"]);t!==void 0&&f!=null&&m(t,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&m(t,["parameters","safetySetting"],h);const y=g(e,["personGeneration"]);t!==void 0&&y!=null&&m(t,["parameters","personGeneration"],y);const b=g(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&m(t,["parameters","includeSafetyAttributes"],b);const x=g(e,["includeRaiReason"]);t!==void 0&&x!=null&&m(t,["parameters","includeRaiReason"],x);const N=g(e,["language"]);t!==void 0&&N!=null&&m(t,["parameters","language"],N);const T=g(e,["outputMimeType"]);t!==void 0&&T!=null&&m(t,["parameters","outputOptions","mimeType"],T);const M=g(e,["outputCompressionQuality"]);t!==void 0&&M!=null&&m(t,["parameters","outputOptions","compressionQuality"],M);const k=g(e,["addWatermark"]);t!==void 0&&k!=null&&m(t,["parameters","addWatermark"],k);const P=g(e,["enhancePrompt"]);return t!==void 0&&P!=null&&m(t,["parameters","enhancePrompt"],P),i}function HM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["prompt"]);r!=null&&m(t,["instances[0]","prompt"],r);const s=g(e,["config"]);return s!=null&&m(t,["config"],qM(n,s,t)),t}function N2(n,e){const t={},i=g(e,["gcsUri"]);i!=null&&m(t,["gcsUri"],i);const r=g(e,["imageBytes"]);r!=null&&m(t,["bytesBase64Encoded"],zu(n,r));const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function GM(n,e){const t={},i=g(e,["maskMode"]);i!=null&&m(t,["maskMode"],i);const r=g(e,["segmentationClasses"]);r!=null&&m(t,["maskClasses"],r);const s=g(e,["maskDilation"]);return s!=null&&m(t,["dilation"],s),t}function WM(n,e){const t={},i=g(e,["controlType"]);i!=null&&m(t,["controlType"],i);const r=g(e,["enableControlImageComputation"]);return r!=null&&m(t,["computeControl"],r),t}function KM(n,e){const t={},i=g(e,["styleDescription"]);return i!=null&&m(t,["styleDescription"],i),t}function YM(n,e){const t={},i=g(e,["subjectType"]);i!=null&&m(t,["subjectType"],i);const r=g(e,["subjectDescription"]);return r!=null&&m(t,["subjectDescription"],r),t}function $M(n,e){const t={},i=g(e,["referenceImage"]);i!=null&&m(t,["referenceImage"],N2(n,i));const r=g(e,["referenceId"]);r!=null&&m(t,["referenceId"],r);const s=g(e,["referenceType"]);s!=null&&m(t,["referenceType"],s);const o=g(e,["maskImageConfig"]);o!=null&&m(t,["maskImageConfig"],GM(n,o));const u=g(e,["controlImageConfig"]);u!=null&&m(t,["controlImageConfig"],WM(n,u));const c=g(e,["styleImageConfig"]);c!=null&&m(t,["styleImageConfig"],KM(n,c));const f=g(e,["subjectImageConfig"]);return f!=null&&m(t,["subjectImageConfig"],YM(n,f)),t}function JM(n,e,t){const i={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const s=g(e,["negativePrompt"]);t!==void 0&&s!=null&&m(t,["parameters","negativePrompt"],s);const o=g(e,["numberOfImages"]);t!==void 0&&o!=null&&m(t,["parameters","sampleCount"],o);const u=g(e,["aspectRatio"]);t!==void 0&&u!=null&&m(t,["parameters","aspectRatio"],u);const c=g(e,["guidanceScale"]);t!==void 0&&c!=null&&m(t,["parameters","guidanceScale"],c);const f=g(e,["seed"]);t!==void 0&&f!=null&&m(t,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&m(t,["parameters","safetySetting"],h);const y=g(e,["personGeneration"]);t!==void 0&&y!=null&&m(t,["parameters","personGeneration"],y);const b=g(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&m(t,["parameters","includeSafetyAttributes"],b);const x=g(e,["includeRaiReason"]);t!==void 0&&x!=null&&m(t,["parameters","includeRaiReason"],x);const N=g(e,["language"]);t!==void 0&&N!=null&&m(t,["parameters","language"],N);const T=g(e,["outputMimeType"]);t!==void 0&&T!=null&&m(t,["parameters","outputOptions","mimeType"],T);const M=g(e,["outputCompressionQuality"]);t!==void 0&&M!=null&&m(t,["parameters","outputOptions","compressionQuality"],M);const k=g(e,["editMode"]);t!==void 0&&k!=null&&m(t,["parameters","editMode"],k);const P=g(e,["baseSteps"]);return t!==void 0&&P!=null&&m(t,["parameters","editConfig","baseSteps"],P),i}function ZM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["prompt"]);r!=null&&m(t,["instances[0]","prompt"],r);const s=g(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>$M(n,c))),m(t,["instances[0]","referenceImages"],u)}const o=g(e,["config"]);return o!=null&&m(t,["config"],JM(n,o,t)),t}function XM(n,e,t){const i={},r=g(e,["includeRaiReason"]);t!==void 0&&r!=null&&m(t,["parameters","includeRaiReason"],r);const s=g(e,["outputMimeType"]);t!==void 0&&s!=null&&m(t,["parameters","outputOptions","mimeType"],s);const o=g(e,["outputCompressionQuality"]);t!==void 0&&o!=null&&m(t,["parameters","outputOptions","compressionQuality"],o);const u=g(e,["numberOfImages"]);t!==void 0&&u!=null&&m(t,["parameters","sampleCount"],u);const c=g(e,["mode"]);return t!==void 0&&c!=null&&m(t,["parameters","mode"],c),i}function QM(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["image"]);r!=null&&m(t,["instances[0]","image"],N2(n,r));const s=g(e,["upscaleFactor"]);s!=null&&m(t,["parameters","upscaleConfig","upscaleFactor"],s);const o=g(e,["config"]);return o!=null&&m(t,["config"],XM(n,o,t)),t}function e6(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","name"],vi(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function t6(n,e,t){const i={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const s=g(e,["pageToken"]);t!==void 0&&s!=null&&m(t,["_query","pageToken"],s);const o=g(e,["filter"]);t!==void 0&&o!=null&&m(t,["_query","filter"],o);const u=g(e,["queryBase"]);return t!==void 0&&u!=null&&m(t,["_url","models_url"],b_(n,u)),i}function n6(n,e){const t={},i=g(e,["config"]);return i!=null&&m(t,["config"],t6(n,i,t)),t}function i6(n,e,t){const i={},r=g(e,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const s=g(e,["description"]);t!==void 0&&s!=null&&m(t,["description"],s);const o=g(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&m(t,["defaultCheckpointId"],o),i}function r6(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],i6(n,r,t)),t}function s6(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","name"],vi(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function a6(n,e,t){const i={},r=g(e,["systemInstruction"]);t!==void 0&&r!=null&&m(t,["systemInstruction"],sd(n,gs(n,r)));const s=g(e,["tools"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>k_(n,c))),m(t,["tools"],u)}const o=g(e,["generationConfig"]);return t!==void 0&&o!=null&&m(t,["generationConfig"],o),i}function o6(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["contents"]);if(r!=null){let o=Za(n,r);Array.isArray(o)&&(o=o.map(u=>sd(n,u))),m(t,["contents"],o)}const s=g(e,["config"]);return s!=null&&m(t,["config"],a6(n,s,t)),t}function l6(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["contents"]);if(r!=null){let o=Za(n,r);Array.isArray(o)&&(o=o.map(u=>sd(n,u))),m(t,["contents"],o)}const s=g(e,["config"]);return s!=null&&m(t,["config"],s),t}function u6(n,e,t){const i={},r=g(e,["numberOfVideos"]);t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r);const s=g(e,["outputGcsUri"]);t!==void 0&&s!=null&&m(t,["parameters","storageUri"],s);const o=g(e,["fps"]);t!==void 0&&o!=null&&m(t,["parameters","fps"],o);const u=g(e,["durationSeconds"]);t!==void 0&&u!=null&&m(t,["parameters","durationSeconds"],u);const c=g(e,["seed"]);t!==void 0&&c!=null&&m(t,["parameters","seed"],c);const f=g(e,["aspectRatio"]);t!==void 0&&f!=null&&m(t,["parameters","aspectRatio"],f);const h=g(e,["resolution"]);t!==void 0&&h!=null&&m(t,["parameters","resolution"],h);const y=g(e,["personGeneration"]);t!==void 0&&y!=null&&m(t,["parameters","personGeneration"],y);const b=g(e,["pubsubTopic"]);t!==void 0&&b!=null&&m(t,["parameters","pubsubTopic"],b);const x=g(e,["negativePrompt"]);t!==void 0&&x!=null&&m(t,["parameters","negativePrompt"],x);const N=g(e,["enhancePrompt"]);t!==void 0&&N!=null&&m(t,["parameters","enhancePrompt"],N);const T=g(e,["generateAudio"]);return t!==void 0&&T!=null&&m(t,["parameters","generateAudio"],T),i}function c6(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["_url","model"],vi(n,i));const r=g(e,["prompt"]);r!=null&&m(t,["instances[0]","prompt"],r);const s=g(e,["image"]);s!=null&&m(t,["instances[0]","image"],N2(n,s));const o=g(e,["config"]);return o!=null&&m(t,["config"],u6(n,o,t)),t}function f6(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function d6(n,e){const t={},i=g(e,["data"]);i!=null&&m(t,["data"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function h6(n,e){const t={},i=g(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function p6(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],f6(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],d6(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],h6(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function g6(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>p6(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function m6(n,e){const t={},i=g(e,["citationSources"]);return i!=null&&m(t,["citations"],i),t}function y6(n,e){const t={},i=g(e,["retrievedUrl"]);i!=null&&m(t,["retrievedUrl"],i);const r=g(e,["urlRetrievalStatus"]);return r!=null&&m(t,["urlRetrievalStatus"],r),t}function v6(n,e){const t={},i=g(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>y6(n,s))),m(t,["urlMetadata"],r)}return t}function x6(n,e){const t={},i=g(e,["content"]);i!=null&&m(t,["content"],g6(n,i));const r=g(e,["citationMetadata"]);r!=null&&m(t,["citationMetadata"],m6(n,r));const s=g(e,["tokenCount"]);s!=null&&m(t,["tokenCount"],s);const o=g(e,["finishReason"]);o!=null&&m(t,["finishReason"],o);const u=g(e,["urlContextMetadata"]);u!=null&&m(t,["urlContextMetadata"],v6(n,u));const c=g(e,["avgLogprobs"]);c!=null&&m(t,["avgLogprobs"],c);const f=g(e,["groundingMetadata"]);f!=null&&m(t,["groundingMetadata"],f);const h=g(e,["index"]);h!=null&&m(t,["index"],h);const y=g(e,["logprobsResult"]);y!=null&&m(t,["logprobsResult"],y);const b=g(e,["safetyRatings"]);return b!=null&&m(t,["safetyRatings"],b),t}function Px(n,e){const t={},i=g(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>x6(n,c))),m(t,["candidates"],u)}const r=g(e,["modelVersion"]);r!=null&&m(t,["modelVersion"],r);const s=g(e,["promptFeedback"]);s!=null&&m(t,["promptFeedback"],s);const o=g(e,["usageMetadata"]);return o!=null&&m(t,["usageMetadata"],o),t}function b6(n,e){const t={},i=g(e,["values"]);return i!=null&&m(t,["values"],i),t}function w6(){return{}}function _6(n,e){const t={},i=g(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>b6(n,o))),m(t,["embeddings"],s)}return g(e,["metadata"])!=null&&m(t,["metadata"],w6()),t}function S6(n,e){const t={},i=g(e,["bytesBase64Encoded"]);i!=null&&m(t,["imageBytes"],zu(n,i));const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function M_(n,e){const t={},i=g(e,["safetyAttributes","categories"]);i!=null&&m(t,["categories"],i);const r=g(e,["safetyAttributes","scores"]);r!=null&&m(t,["scores"],r);const s=g(e,["contentType"]);return s!=null&&m(t,["contentType"],s),t}function A6(n,e){const t={},i=g(e,["_self"]);i!=null&&m(t,["image"],S6(n,i));const r=g(e,["raiFilteredReason"]);r!=null&&m(t,["raiFilteredReason"],r);const s=g(e,["_self"]);return s!=null&&m(t,["safetyAttributes"],M_(n,s)),t}function T6(n,e){const t={},i=g(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>A6(n,o))),m(t,["generatedImages"],s)}const r=g(e,["positivePromptSafetyAttributes"]);return r!=null&&m(t,["positivePromptSafetyAttributes"],M_(n,r)),t}function C6(n,e){const t={},i=g(e,["baseModel"]);i!=null&&m(t,["baseModel"],i);const r=g(e,["createTime"]);r!=null&&m(t,["createTime"],r);const s=g(e,["updateTime"]);return s!=null&&m(t,["updateTime"],s),t}function P1(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["displayName"]);r!=null&&m(t,["displayName"],r);const s=g(e,["description"]);s!=null&&m(t,["description"],s);const o=g(e,["version"]);o!=null&&m(t,["version"],o);const u=g(e,["_self"]);u!=null&&m(t,["tunedModelInfo"],C6(n,u));const c=g(e,["inputTokenLimit"]);c!=null&&m(t,["inputTokenLimit"],c);const f=g(e,["outputTokenLimit"]);f!=null&&m(t,["outputTokenLimit"],f);const h=g(e,["supportedGenerationMethods"]);return h!=null&&m(t,["supportedActions"],h),t}function N6(n,e){const t={},i=g(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=g(e,["_self"]);if(r!=null){let s=w_(n,r);Array.isArray(s)&&(s=s.map(o=>P1(n,o))),m(t,["models"],s)}return t}function E6(){return{}}function k6(n,e){const t={},i=g(e,["totalTokens"]);i!=null&&m(t,["totalTokens"],i);const r=g(e,["cachedContentTokenCount"]);return r!=null&&m(t,["cachedContentTokenCount"],r),t}function M6(n,e){const t={},i=g(e,["video","uri"]);i!=null&&m(t,["uri"],i);const r=g(e,["video","encodedVideo"]);r!=null&&m(t,["videoBytes"],zu(n,r));const s=g(e,["encoding"]);return s!=null&&m(t,["mimeType"],s),t}function L6(n,e){const t={},i=g(e,["_self"]);return i!=null&&m(t,["video"],M6(n,i)),t}function P6(n,e){const t={},i=g(e,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>L6(n,u))),m(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const s=g(e,["raiMediaFilteredReasons"]);return s!=null&&m(t,["raiMediaFilteredReasons"],s),t}function R6(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["metadata"]);r!=null&&m(t,["metadata"],r);const s=g(e,["done"]);s!=null&&m(t,["done"],s);const o=g(e,["error"]);o!=null&&m(t,["error"],o);const u=g(e,["response","generateVideoResponse"]);return u!=null&&m(t,["response"],P6(n,u)),t}function D6(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function I6(n,e){const t={},i=g(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=g(e,["data"]);r!=null&&m(t,["data"],r);const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function O6(n,e){const t={},i=g(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=g(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function F6(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],D6(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],I6(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],O6(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function B6(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>F6(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function z6(n,e){const t={},i=g(e,["citations"]);return i!=null&&m(t,["citations"],i),t}function j6(n,e){const t={},i=g(e,["retrievedUrl"]);i!=null&&m(t,["retrievedUrl"],i);const r=g(e,["urlRetrievalStatus"]);return r!=null&&m(t,["urlRetrievalStatus"],r),t}function U6(n,e){const t={},i=g(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>j6(n,s))),m(t,["urlMetadata"],r)}return t}function V6(n,e){const t={},i=g(e,["content"]);i!=null&&m(t,["content"],B6(n,i));const r=g(e,["citationMetadata"]);r!=null&&m(t,["citationMetadata"],z6(n,r));const s=g(e,["finishMessage"]);s!=null&&m(t,["finishMessage"],s);const o=g(e,["finishReason"]);o!=null&&m(t,["finishReason"],o);const u=g(e,["urlContextMetadata"]);u!=null&&m(t,["urlContextMetadata"],U6(n,u));const c=g(e,["avgLogprobs"]);c!=null&&m(t,["avgLogprobs"],c);const f=g(e,["groundingMetadata"]);f!=null&&m(t,["groundingMetadata"],f);const h=g(e,["index"]);h!=null&&m(t,["index"],h);const y=g(e,["logprobsResult"]);y!=null&&m(t,["logprobsResult"],y);const b=g(e,["safetyRatings"]);return b!=null&&m(t,["safetyRatings"],b),t}function Rx(n,e){const t={},i=g(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>V6(n,h))),m(t,["candidates"],f)}const r=g(e,["createTime"]);r!=null&&m(t,["createTime"],r);const s=g(e,["responseId"]);s!=null&&m(t,["responseId"],s);const o=g(e,["modelVersion"]);o!=null&&m(t,["modelVersion"],o);const u=g(e,["promptFeedback"]);u!=null&&m(t,["promptFeedback"],u);const c=g(e,["usageMetadata"]);return c!=null&&m(t,["usageMetadata"],c),t}function q6(n,e){const t={},i=g(e,["truncated"]);i!=null&&m(t,["truncated"],i);const r=g(e,["token_count"]);return r!=null&&m(t,["tokenCount"],r),t}function H6(n,e){const t={},i=g(e,["values"]);i!=null&&m(t,["values"],i);const r=g(e,["statistics"]);return r!=null&&m(t,["statistics"],q6(n,r)),t}function G6(n,e){const t={},i=g(e,["billableCharacterCount"]);return i!=null&&m(t,["billableCharacterCount"],i),t}function W6(n,e){const t={},i=g(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>H6(n,o))),m(t,["embeddings"],s)}const r=g(e,["metadata"]);return r!=null&&m(t,["metadata"],G6(n,r)),t}function K6(n,e){const t={},i=g(e,["gcsUri"]);i!=null&&m(t,["gcsUri"],i);const r=g(e,["bytesBase64Encoded"]);r!=null&&m(t,["imageBytes"],zu(n,r));const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function L_(n,e){const t={},i=g(e,["safetyAttributes","categories"]);i!=null&&m(t,["categories"],i);const r=g(e,["safetyAttributes","scores"]);r!=null&&m(t,["scores"],r);const s=g(e,["contentType"]);return s!=null&&m(t,["contentType"],s),t}function E2(n,e){const t={},i=g(e,["_self"]);i!=null&&m(t,["image"],K6(n,i));const r=g(e,["raiFilteredReason"]);r!=null&&m(t,["raiFilteredReason"],r);const s=g(e,["_self"]);s!=null&&m(t,["safetyAttributes"],L_(n,s));const o=g(e,["prompt"]);return o!=null&&m(t,["enhancedPrompt"],o),t}function Y6(n,e){const t={},i=g(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>E2(n,o))),m(t,["generatedImages"],s)}const r=g(e,["positivePromptSafetyAttributes"]);return r!=null&&m(t,["positivePromptSafetyAttributes"],L_(n,r)),t}function $6(n,e){const t={},i=g(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>E2(n,s))),m(t,["generatedImages"],r)}return t}function J6(n,e){const t={},i=g(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>E2(n,s))),m(t,["generatedImages"],r)}return t}function Z6(n,e){const t={},i=g(e,["endpoint"]);i!=null&&m(t,["name"],i);const r=g(e,["deployedModelId"]);return r!=null&&m(t,["deployedModelId"],r),t}function X6(n,e){const t={},i=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&m(t,["baseModel"],i);const r=g(e,["createTime"]);r!=null&&m(t,["createTime"],r);const s=g(e,["updateTime"]);return s!=null&&m(t,["updateTime"],s),t}function Q6(n,e){const t={},i=g(e,["checkpointId"]);i!=null&&m(t,["checkpointId"],i);const r=g(e,["epoch"]);r!=null&&m(t,["epoch"],r);const s=g(e,["step"]);return s!=null&&m(t,["step"],s),t}function R1(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["displayName"]);r!=null&&m(t,["displayName"],r);const s=g(e,["description"]);s!=null&&m(t,["description"],s);const o=g(e,["versionId"]);o!=null&&m(t,["version"],o);const u=g(e,["deployedModels"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(x=>Z6(n,x))),m(t,["endpoints"],b)}const c=g(e,["labels"]);c!=null&&m(t,["labels"],c);const f=g(e,["_self"]);f!=null&&m(t,["tunedModelInfo"],X6(n,f));const h=g(e,["defaultCheckpointId"]);h!=null&&m(t,["defaultCheckpointId"],h);const y=g(e,["checkpoints"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(x=>Q6(n,x))),m(t,["checkpoints"],b)}return t}function eL(n,e){const t={},i=g(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=g(e,["_self"]);if(r!=null){let s=w_(n,r);Array.isArray(s)&&(s=s.map(o=>R1(n,o))),m(t,["models"],s)}return t}function tL(){return{}}function nL(n,e){const t={},i=g(e,["totalTokens"]);return i!=null&&m(t,["totalTokens"],i),t}function iL(n,e){const t={},i=g(e,["tokensInfo"]);return i!=null&&m(t,["tokensInfo"],i),t}function rL(n,e){const t={},i=g(e,["gcsUri"]);i!=null&&m(t,["uri"],i);const r=g(e,["bytesBase64Encoded"]);r!=null&&m(t,["videoBytes"],zu(n,r));const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function sL(n,e){const t={},i=g(e,["_self"]);return i!=null&&m(t,["video"],rL(n,i)),t}function aL(n,e){const t={},i=g(e,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>sL(n,u))),m(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const s=g(e,["raiMediaFilteredReasons"]);return s!=null&&m(t,["raiMediaFilteredReasons"],s),t}function oL(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["metadata"]);r!=null&&m(t,["metadata"],r);const s=g(e,["done"]);s!=null&&m(t,["done"],s);const o=g(e,["error"]);o!=null&&m(t,["error"],o);const u=g(e,["response"]);return u!=null&&m(t,["response"],aL(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lL="Content-Type",uL="X-Server-Timeout",cL="User-Agent",D1="x-goog-api-client",fL="1.4.0",dL=`google-genai-sdk/${fL}`,hL="v1beta1",pL="v1beta",Dx=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class P_ extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class I1 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class gL{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:hL,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:pL,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[o,u]of Object.entries(e.queryParams))r.searchParams.append(o,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const r=new AbortController,s=r.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>r.abort(),t.timeout),i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=s}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await Ix(r),new E1(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await Ix(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return jf(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let o="";for(;;){const{done:u,value:c}=yield Si(r.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c);try{const y=JSON.parse(f);if("error"in y){const b=JSON.parse(JSON.stringify(y.error)),x=b.status,N=b.code,T=`got status: ${x}. ${JSON.stringify(y)}`;if(N>=400&&N<500)throw new P_(T);if(N>=500&&N<600)throw new I1(T)}}catch(y){const b=y;if(b.name==="ClientError"||b.name==="ServerError")throw y}o+=f;let h=o.match(Dx);for(;h;){const y=h[1];try{const b=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Si(new E1(b)),o=o.slice(h[0].length),h=o.match(Dx)}catch(b){throw new Error(`exception parsing stream chunk ${y}. ${b}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=dL+" "+this.clientOptions.userAgentExtra;return e[cL]=t,e[D1]=t,e[lL]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))t.append(i,r);e.timeout&&e.timeout>0&&t.append(uL,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);r.sizeBytes=String(o.size);const u=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c=await this.fetchUploadUrl(r,t);return s.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let r={};t!=null&&t.httpOptions?r=t.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},o=await this.request({path:Zt("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:r});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=o==null?void 0:o.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Ix(n){var e;if(n===void 0)throw new I1("response is undefined");if(!n.ok){const t=n.status,i=n.statusText;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=`got status: ${t} ${i}. ${JSON.stringify(r)}`;throw t>=400&&t<500?new P_(s):t>=500&&t<600?new I1(s):new Error(s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mL="mcp_used/unknown";function R_(n){for(const e of n)if(k2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function D_(n){var e;const t=(e=n[D1])!==null&&e!==void 0?e:"";n[D1]=(t+` ${mL}`).trimStart()}function yL(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>k2(r)))!==null&&i!==void 0?i:!1}function vL(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>!k2(r)))!==null&&i!==void 0?i:!1}function k2(n){return n!==null&&typeof n=="object"&&n instanceof M2}function xL(n,e=100){return jf(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield Si(n.listTools({cursor:i}));for(const o of s.tools)yield yield Si(o),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class M2{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new M2(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},o=[];for(const h of this.mcpClients)try{for(var u=!0,c=(t=void 0,bh(xL(h))),f;f=await c.next(),e=f.done,!e;u=!0){r=f.value,u=!1;const y=r;o.push(y);const b=y.name;if(s[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);s[b]=h}}catch(y){t={error:y}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(t)throw t.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),w4(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=await this.functionNameToMcpClient[i.name].callTool({name:i.name,arguments:i.args});t.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bL(n,e,t){const i=new l4;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data);const s=Mk(n,r);Object.assign(i,s),e(i)}class wL{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=AL(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(I=>{f=I}),y=e.callbacks,b=function(){f({})},x=this.apiClient,N={onopen:b,onmessage:I=>{bL(x,y.onmessage,I)},onerror:(t=y==null?void 0:y.onerror)!==null&&t!==void 0?t:function(I){},onclose:(i=y==null?void 0:y.onclose)!==null&&i!==void 0?i:function(I){}},T=this.webSocketFactory.create(c,SL(o),N);T.connect(),await h;const M=vi(this.apiClient,e.model),k=C_(this.apiClient,{model:M}),P=L1(this.apiClient,{setup:k});return T.send(JSON.stringify(P)),new _L(T,this.apiClient)}}class _L{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=HE(this.apiClient,e),i=N_(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=GE(this.apiClient,e),i=L1(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=L1(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Df.PLAY)}pause(){this.sendPlaybackControl(Df.PAUSE)}stop(){this.sendPlaybackControl(Df.STOP)}resetContext(){this.sendPlaybackControl(Df.RESET_CONTEXT)}close(){this.conn.close()}}function SL(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function AL(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TL="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function CL(n,e,t){const i=new o4;let r;if(t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),n.isVertexAI()){const s=wk(n,r);Object.assign(i,s)}else{const s=bk(n,r);Object.assign(i,s)}e(i)}class NL{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new wL(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,o,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const y=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&R_(e.config.tools)&&D_(y);const b=LL(y);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b);else{const ee=this.apiClient.getApiKey();let de="BidiGenerateContent",B="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),de="BidiGenerateContentConstrained",B="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${de}?${B}=${ee}`}let x=()=>{};const N=new Promise(ee=>{x=ee}),T=e.callbacks,M=function(){var ee;(ee=T==null?void 0:T.onopen)===null||ee===void 0||ee.call(T),x({})},k=this.apiClient,P={onopen:M,onmessage:ee=>{CL(k,T.onmessage,ee)},onerror:(t=T==null?void 0:T.onerror)!==null&&t!==void 0?t:function(ee){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(ee){}},I=this.webSocketFactory.create(h,ML(b),P);I.connect(),await N;let J=vi(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const ee=this.apiClient.getProject(),de=this.apiClient.getLocation();J=`projects/${ee}/locations/${de}/`+J}let H={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Kg.AUDIO]}:e.config.responseModalities=[Kg.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(u=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[],X=[];for(const ee of K)if(this.isCallableTool(ee)){const de=ee;X.push(await de.tool())}else X.push(ee);X.length>0&&(e.config.tools=X);const U={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=FE(this.apiClient,U):H=OE(this.apiClient,U),delete H.config,I.send(JSON.stringify(H)),new kL(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const EL={turnComplete:!0};class kL{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Za(e,t.turns),e.isVertexAI()?i=i.map(r=>sd(e,r)):i=i.map(r=>pm(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(TL)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},EL),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:qE(this.apiClient,e)}:t={realtimeInput:VE(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function ML(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function LL(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ox=10;function Fx(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const o of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Cg(o)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Cg(n){return"callTool"in n&&typeof n.callTool=="function"}function Bx(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PL extends rd{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,o,u;const c=await this.processParamsForMcpUsage(t);if(!yL(t)||Fx(t.config))return await this.generateContentInternal(c);if(vL(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const y=Za(this.apiClient,c.contents),b=(s=(r=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:Ox;let x=0;for(;x<b&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const N=f.candidates[0].content,T=[];for(const M of(u=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[])if(Cg(M)){const P=await M.callTool(f.functionCalls);T.push(...P)}x++,h={role:"user",parts:T},c.contents=Za(this.apiClient,c.contents),c.contents.push(N),c.contents.push(h),Bx(c.config)&&(y.push(N),y.push(h))}return Bx(c.config)&&(f.automaticFunctionCallingHistory=y),f},this.generateContentStream=async t=>{if(Fx(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const o=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:o.push(c);let u;return s?u={generatedImages:o,positivePromptSafetyAttributes:s}:u={generatedImages:o},u}),this.list=async t=>{var i;const o={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((i=o.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new hm(Xf.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(o),o)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const o=await Promise.all(s.map(async c=>Cg(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(u.config.tools=o,e.config&&e.config.tools&&R_(e.config.tools)){const c=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),D_(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const o of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Cg(o)){const u=o,c=await u.tool();for(const f of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Ox;let o=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,h,y){var b,x;return jf(this,arguments,function*(){for(var N,T,M,k;u<s;){o&&(u++,o=!1);const H=yield Si(f.processParamsForMcpUsage(y)),K=yield Si(f.generateContentStreamInternal(H)),X=[],U=[];try{for(var P=!0,I=(T=void 0,bh(K)),J;J=yield Si(I.next()),N=J.done,!N;P=!0){k=J.value,P=!1;const ee=k;if(yield yield Si(ee),ee.candidates&&(!((b=ee.candidates[0])===null||b===void 0)&&b.content)){U.push(ee.candidates[0].content);for(const de of(x=ee.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(u<s&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(de.functionCall.name)){const B=yield Si(h.get(de.functionCall.name).callTool([de.functionCall]));X.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(ee){T={error:ee}}finally{try{!P&&!N&&(M=I.return)&&(yield Si(M.call(I)))}finally{if(T)throw T.error}}if(X.length>0){o=!0;const ee=new Qd;ee.candidates=[{content:{role:"user",parts:X}}],yield yield Si(ee);const de=[];de.push(...U),de.push({role:"user",parts:X});const B=Za(f.apiClient,y.contents).concat(de);y.contents=B}else break}})}(this,c,e)}async generateContentInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=Lx(this.apiClient,e);return u=Zt("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=Rx(this.apiClient,h),b=new Qd;return Object.assign(b,y),b})}else{const f=Mx(this.apiClient,e);return u=Zt("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=Px(this.apiClient,h),b=new Qd;return Object.assign(b,y),b})}}async generateContentStreamInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=Lx(this.apiClient,e);u=Zt("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return o=h.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(y){return jf(this,arguments,function*(){var b,x,N,T;try{for(var M=!0,k=bh(y),P;P=yield Si(k.next()),b=P.done,!b;M=!0){T=P.value,M=!1;const J=Rx(h,yield Si(T.json())),H=new Qd;Object.assign(H,J),yield yield Si(H)}}catch(I){x={error:I}}finally{try{!M&&!b&&(N=k.return)&&(yield Si(N.call(k)))}finally{if(x)throw x.error}}})})}else{const f=Mx(this.apiClient,e);u=Zt("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return o=h.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(y){return jf(this,arguments,function*(){var b,x,N,T;try{for(var M=!0,k=bh(y),P;P=yield Si(k.next()),b=P.done,!b;M=!0){T=P.value,M=!1;const J=Px(h,yield Si(T.json())),H=new Qd;Object.assign(H,J),yield yield Si(H)}}catch(I){x={error:I}}finally{try{!M&&!b&&(N=k.return)&&(yield Si(N.call(k)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=VM(this.apiClient,e);return u=Zt("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=W6(this.apiClient,h),b=new cx;return Object.assign(b,y),b})}else{const f=tM(this.apiClient,e);return u=Zt("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=_6(this.apiClient,h),b=new cx;return Object.assign(b,y),b})}}async generateImagesInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=HM(this.apiClient,e);return u=Zt("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=Y6(this.apiClient,h),b=new fx;return Object.assign(b,y),b})}else{const f=iM(this.apiClient,e);return u=Zt("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=T6(this.apiClient,h),b=new fx;return Object.assign(b,y),b})}}async editImageInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=ZM(this.apiClient,e);return s=Zt("{model}:predict",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=$6(this.apiClient,c),h=new t4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=QM(this.apiClient,e);return s=Zt("{model}:predict",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=J6(this.apiClient,c),h=new n4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=e6(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>R1(this.apiClient,h))}else{const f=rM(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>P1(this.apiClient,h))}}async listInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=n6(this.apiClient,e);return u=Zt("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=eL(this.apiClient,h),b=new dx;return Object.assign(b,y),b})}else{const f=aM(this.apiClient,e);return u=Zt("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=N6(this.apiClient,h),b=new dx;return Object.assign(b,y),b})}}async update(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=r6(this.apiClient,e);return u=Zt("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>R1(this.apiClient,h))}else{const f=lM(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>P1(this.apiClient,h))}}async delete(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=s6(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=tL(),y=new hx;return Object.assign(y,h),y})}else{const f=uM(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(()=>{const h=E6(),y=new hx;return Object.assign(y,h),y})}}async countTokens(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=o6(this.apiClient,e);return u=Zt("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=nL(this.apiClient,h),b=new px;return Object.assign(b,y),b})}else{const f=fM(this.apiClient,e);return u=Zt("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=k6(this.apiClient,h),b=new px;return Object.assign(b,y),b})}}async computeTokens(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=l6(this.apiClient,e);return s=Zt("{model}:computeTokens",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=iL(this.apiClient,c),h=new i4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=c6(this.apiClient,e);return u=Zt("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>oL(this.apiClient,h))}else{const f=pM(this.apiClient,e);return u=Zt("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>R6(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RL(n,e){const t={},i=g(e,["operationName"]);i!=null&&m(t,["_url","operationName"],i);const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function DL(n,e){const t={},i=g(e,["operationName"]);i!=null&&m(t,["_url","operationName"],i);const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function IL(n,e){const t={},i=g(e,["operationName"]);i!=null&&m(t,["operationName"],i);const r=g(e,["resourceName"]);r!=null&&m(t,["_url","resourceName"],r);const s=g(e,["config"]);return s!=null&&m(t,["config"],s),t}function OL(n,e){const t={},i=g(e,["video","uri"]);i!=null&&m(t,["uri"],i);const r=g(e,["video","encodedVideo"]);r!=null&&m(t,["videoBytes"],zu(n,r));const s=g(e,["encoding"]);return s!=null&&m(t,["mimeType"],s),t}function FL(n,e){const t={},i=g(e,["_self"]);return i!=null&&m(t,["video"],OL(n,i)),t}function BL(n,e){const t={},i=g(e,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>FL(n,u))),m(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const s=g(e,["raiMediaFilteredReasons"]);return s!=null&&m(t,["raiMediaFilteredReasons"],s),t}function zL(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["metadata"]);r!=null&&m(t,["metadata"],r);const s=g(e,["done"]);s!=null&&m(t,["done"],s);const o=g(e,["error"]);o!=null&&m(t,["error"],o);const u=g(e,["response","generateVideoResponse"]);return u!=null&&m(t,["response"],BL(n,u)),t}function jL(n,e){const t={},i=g(e,["gcsUri"]);i!=null&&m(t,["uri"],i);const r=g(e,["bytesBase64Encoded"]);r!=null&&m(t,["videoBytes"],zu(n,r));const s=g(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}function UL(n,e){const t={},i=g(e,["_self"]);return i!=null&&m(t,["video"],jL(n,i)),t}function VL(n,e){const t={},i=g(e,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>UL(n,u))),m(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const s=g(e,["raiMediaFilteredReasons"]);return s!=null&&m(t,["raiMediaFilteredReasons"],s),t}function zx(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["metadata"]);r!=null&&m(t,["metadata"],r);const s=g(e,["done"]);s!=null&&m(t,["done"],s);const o=g(e,["error"]);o!=null&&m(t,["error"],o);const u=g(e,["response"]);return u!=null&&m(t,["response"],VL(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qL extends rd{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;return i&&"httpOptions"in i&&(s=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=DL(this.apiClient,e);return u=Zt("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>zx(this.apiClient,h))}else{const f=RL(this.apiClient,e);return u=Zt("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>zL(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=IL(this.apiClient,e);return s=Zt("{resourceName}:fetchPredictOperation",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>zx(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HL(n,e){const t={},i=g(e,["voiceName"]);return i!=null&&m(t,["voiceName"],i),t}function I_(n,e){const t={},i=g(e,["prebuiltVoiceConfig"]);return i!=null&&m(t,["prebuiltVoiceConfig"],HL(n,i)),t}function GL(n,e){const t={},i=g(e,["speaker"]);i!=null&&m(t,["speaker"],i);const r=g(e,["voiceConfig"]);return r!=null&&m(t,["voiceConfig"],I_(n,r)),t}function WL(n,e){const t={},i=g(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>GL(n,s))),m(t,["speakerVoiceConfigs"],r)}return t}function KL(n,e){const t={},i=g(e,["voiceConfig"]);i!=null&&m(t,["voiceConfig"],I_(n,i));const r=g(e,["multiSpeakerVoiceConfig"]);r!=null&&m(t,["multiSpeakerVoiceConfig"],WL(n,r));const s=g(e,["languageCode"]);return s!=null&&m(t,["languageCode"],s),t}function YL(n,e){const t={},i=g(e,["fps"]);i!=null&&m(t,["fps"],i);const r=g(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const s=g(e,["startOffset"]);return s!=null&&m(t,["startOffset"],s),t}function $L(n,e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["data"]);i!=null&&m(t,["data"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function JL(n,e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=g(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function ZL(n,e){const t={},i=g(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],YL(n,i));const r=g(e,["thought"]);r!=null&&m(t,["thought"],r);const s=g(e,["inlineData"]);s!=null&&m(t,["inlineData"],$L(n,s));const o=g(e,["fileData"]);o!=null&&m(t,["fileData"],JL(n,o));const u=g(e,["thoughtSignature"]);u!=null&&m(t,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&m(t,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&m(t,["functionCall"],h);const y=g(e,["functionResponse"]);y!=null&&m(t,["functionResponse"],y);const b=g(e,["text"]);return b!=null&&m(t,["text"],b),t}function XL(n,e){const t={},i=g(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>ZL(n,o))),m(t,["parts"],s)}const r=g(e,["role"]);return r!=null&&m(t,["role"],r),t}function QL(n,e){const t={},i=g(e,["behavior"]);i!=null&&m(t,["behavior"],i);const r=g(e,["description"]);r!=null&&m(t,["description"],r);const s=g(e,["name"]);s!=null&&m(t,["name"],s);const o=g(e,["parameters"]);o!=null&&m(t,["parameters"],o);const u=g(e,["response"]);return u!=null&&m(t,["response"],u),t}function eP(n,e){const t={},i=g(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=g(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function tP(n,e){const t={},i=g(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],eP(n,i)),t}function nP(n,e){const t={},i=g(e,["mode"]);i!=null&&m(t,["mode"],i);const r=g(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function iP(n,e){const t={},i=g(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],nP(n,i)),t}function rP(){return{}}function sP(n,e){const t={},i=g(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>QL(n,f))),m(t,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],tP(n,r));const s=g(e,["googleSearchRetrieval"]);if(s!=null&&m(t,["googleSearchRetrieval"],iP(n,s)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&m(t,["urlContext"],rP());const u=g(e,["codeExecution"]);return u!=null&&m(t,["codeExecution"],u),t}function aP(n,e){const t={},i=g(e,["handle"]);if(i!=null&&m(t,["handle"],i),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function jx(){return{}}function oP(n,e){const t={},i=g(e,["disabled"]);i!=null&&m(t,["disabled"],i);const r=g(e,["startOfSpeechSensitivity"]);r!=null&&m(t,["startOfSpeechSensitivity"],r);const s=g(e,["endOfSpeechSensitivity"]);s!=null&&m(t,["endOfSpeechSensitivity"],s);const o=g(e,["prefixPaddingMs"]);o!=null&&m(t,["prefixPaddingMs"],o);const u=g(e,["silenceDurationMs"]);return u!=null&&m(t,["silenceDurationMs"],u),t}function lP(n,e){const t={},i=g(e,["automaticActivityDetection"]);i!=null&&m(t,["automaticActivityDetection"],oP(n,i));const r=g(e,["activityHandling"]);r!=null&&m(t,["activityHandling"],r);const s=g(e,["turnCoverage"]);return s!=null&&m(t,["turnCoverage"],s),t}function uP(n,e){const t={},i=g(e,["targetTokens"]);return i!=null&&m(t,["targetTokens"],i),t}function cP(n,e){const t={},i=g(e,["triggerTokens"]);i!=null&&m(t,["triggerTokens"],i);const r=g(e,["slidingWindow"]);return r!=null&&m(t,["slidingWindow"],uP(n,r)),t}function fP(n,e){const t={},i=g(e,["proactiveAudio"]);return i!=null&&m(t,["proactiveAudio"],i),t}function dP(n,e,t){const i={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const s=g(e,["responseModalities"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","responseModalities"],s);const o=g(e,["temperature"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","temperature"],o);const u=g(e,["topP"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","topP"],u);const c=g(e,["topK"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&m(t,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","mediaResolution"],h);const y=g(e,["seed"]);t!==void 0&&y!=null&&m(t,["setup","generationConfig","seed"],y);const b=g(e,["speechConfig"]);t!==void 0&&b!=null&&m(t,["setup","generationConfig","speechConfig"],KL(n,C2(n,b)));const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],x);const N=g(e,["systemInstruction"]);t!==void 0&&N!=null&&m(t,["setup","systemInstruction"],XL(n,gs(n,N)));const T=g(e,["tools"]);if(t!==void 0&&T!=null){let K=Hh(n,T);Array.isArray(K)&&(K=K.map(X=>sP(n,qh(n,X)))),m(t,["setup","tools"],K)}const M=g(e,["sessionResumption"]);t!==void 0&&M!=null&&m(t,["setup","sessionResumption"],aP(n,M));const k=g(e,["inputAudioTranscription"]);t!==void 0&&k!=null&&m(t,["setup","inputAudioTranscription"],jx());const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&m(t,["setup","outputAudioTranscription"],jx());const I=g(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&m(t,["setup","realtimeInputConfig"],lP(n,I));const J=g(e,["contextWindowCompression"]);t!==void 0&&J!=null&&m(t,["setup","contextWindowCompression"],cP(n,J));const H=g(e,["proactivity"]);return t!==void 0&&H!=null&&m(t,["setup","proactivity"],fP(n,H)),i}function hP(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["setup","model"],vi(n,i));const r=g(e,["config"]);return r!=null&&m(t,["config"],dP(n,r,t)),t}function pP(n,e,t){const i={},r=g(e,["expireTime"]);t!==void 0&&r!=null&&m(t,["expireTime"],r);const s=g(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&m(t,["newSessionExpireTime"],s);const o=g(e,["uses"]);t!==void 0&&o!=null&&m(t,["uses"],o);const u=g(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&m(t,["bidiGenerateContentSetup"],hP(n,u));const c=g(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&m(t,["fieldMask"],c),i}function gP(n,e){const t={},i=g(e,["config"]);return i!=null&&m(t,["config"],pP(n,i,t)),t}function mP(n,e){const t={},i=g(e,["name"]);return i!=null&&m(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yP(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function vP(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=yP(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(f=>o.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class xP extends rd{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=gP(this.apiClient,e);s=Zt("auth_tokens",u._url),o=u._query,delete u.config,delete u._url,delete u._query;const c=vP(u,e.config);return r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>mP(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bP(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["_url","name"],i);const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function wP(n,e,t){const i={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const s=g(e,["pageToken"]);t!==void 0&&s!=null&&m(t,["_query","pageToken"],s);const o=g(e,["filter"]);return t!==void 0&&o!=null&&m(t,["_query","filter"],o),i}function _P(n,e){const t={},i=g(e,["config"]);return i!=null&&m(t,["config"],wP(n,i,t)),t}function SP(n,e){const t={},i=g(e,["textInput"]);i!=null&&m(t,["textInput"],i);const r=g(e,["output"]);return r!=null&&m(t,["output"],r),t}function AP(n,e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=g(e,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>SP(n,s))),m(t,["examples","examples"],r)}return t}function TP(n,e,t){const i={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=g(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&m(t,["displayName"],r),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=g(e,["epochCount"]);t!==void 0&&s!=null&&m(t,["tuningTask","hyperparameters","epochCount"],s);const o=g(e,["learningRateMultiplier"]);if(o!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],o),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);t!==void 0&&u!=null&&m(t,["tuningTask","hyperparameters","batchSize"],u);const c=g(e,["learningRate"]);return t!==void 0&&c!=null&&m(t,["tuningTask","hyperparameters","learningRate"],c),i}function CP(n,e){const t={},i=g(e,["baseModel"]);i!=null&&m(t,["baseModel"],i);const r=g(e,["trainingDataset"]);r!=null&&m(t,["tuningTask","trainingData"],AP(n,r));const s=g(e,["config"]);return s!=null&&m(t,["config"],TP(n,s,t)),t}function NP(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["_url","name"],i);const r=g(e,["config"]);return r!=null&&m(t,["config"],r),t}function EP(n,e,t){const i={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const s=g(e,["pageToken"]);t!==void 0&&s!=null&&m(t,["_query","pageToken"],s);const o=g(e,["filter"]);return t!==void 0&&o!=null&&m(t,["_query","filter"],o),i}function kP(n,e){const t={},i=g(e,["config"]);return i!=null&&m(t,["config"],EP(n,i,t)),t}function MP(n,e,t){const i={},r=g(e,["gcsUri"]);if(t!==void 0&&r!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],r),g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function LP(n,e){const t={},i=g(e,["gcsUri"]);return i!=null&&m(t,["validationDatasetUri"],i),t}function PP(n,e,t){const i={},r=g(e,["validationDataset"]);t!==void 0&&r!=null&&m(t,["supervisedTuningSpec"],LP(n,r));const s=g(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&m(t,["tunedModelDisplayName"],s);const o=g(e,["description"]);t!==void 0&&o!=null&&m(t,["description"],o);const u=g(e,["epochCount"]);t!==void 0&&u!=null&&m(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=g(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&m(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=g(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&m(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const h=g(e,["adapterSize"]);if(t!==void 0&&h!=null&&m(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h),g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function RP(n,e){const t={},i=g(e,["baseModel"]);i!=null&&m(t,["baseModel"],i);const r=g(e,["trainingDataset"]);r!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],MP(n,r,t));const s=g(e,["config"]);return s!=null&&m(t,["config"],PP(n,s,t)),t}function DP(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["model"],i);const r=g(e,["name"]);return r!=null&&m(t,["endpoint"],r),t}function O_(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["state"]);r!=null&&m(t,["state"],v_(n,r));const s=g(e,["createTime"]);s!=null&&m(t,["createTime"],s);const o=g(e,["tuningTask","startTime"]);o!=null&&m(t,["startTime"],o);const u=g(e,["tuningTask","completeTime"]);u!=null&&m(t,["endTime"],u);const c=g(e,["updateTime"]);c!=null&&m(t,["updateTime"],c);const f=g(e,["description"]);f!=null&&m(t,["description"],f);const h=g(e,["baseModel"]);h!=null&&m(t,["baseModel"],h);const y=g(e,["_self"]);y!=null&&m(t,["tunedModel"],DP(n,y));const b=g(e,["distillationSpec"]);b!=null&&m(t,["distillationSpec"],b);const x=g(e,["experiment"]);x!=null&&m(t,["experiment"],x);const N=g(e,["labels"]);N!=null&&m(t,["labels"],N);const T=g(e,["pipelineJob"]);T!=null&&m(t,["pipelineJob"],T);const M=g(e,["serviceAccount"]);M!=null&&m(t,["serviceAccount"],M);const k=g(e,["tunedModelDisplayName"]);return k!=null&&m(t,["tunedModelDisplayName"],k),t}function IP(n,e){const t={},i=g(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=g(e,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>O_(n,o))),m(t,["tuningJobs"],s)}return t}function OP(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["metadata"]);r!=null&&m(t,["metadata"],r);const s=g(e,["done"]);s!=null&&m(t,["done"],s);const o=g(e,["error"]);return o!=null&&m(t,["error"],o),t}function FP(n,e){const t={},i=g(e,["checkpointId"]);i!=null&&m(t,["checkpointId"],i);const r=g(e,["epoch"]);r!=null&&m(t,["epoch"],r);const s=g(e,["step"]);s!=null&&m(t,["step"],s);const o=g(e,["endpoint"]);return o!=null&&m(t,["endpoint"],o),t}function BP(n,e){const t={},i=g(e,["model"]);i!=null&&m(t,["model"],i);const r=g(e,["endpoint"]);r!=null&&m(t,["endpoint"],r);const s=g(e,["checkpoints"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>FP(n,u))),m(t,["checkpoints"],o)}return t}function O1(n,e){const t={},i=g(e,["name"]);i!=null&&m(t,["name"],i);const r=g(e,["state"]);r!=null&&m(t,["state"],v_(n,r));const s=g(e,["createTime"]);s!=null&&m(t,["createTime"],s);const o=g(e,["startTime"]);o!=null&&m(t,["startTime"],o);const u=g(e,["endTime"]);u!=null&&m(t,["endTime"],u);const c=g(e,["updateTime"]);c!=null&&m(t,["updateTime"],c);const f=g(e,["error"]);f!=null&&m(t,["error"],f);const h=g(e,["description"]);h!=null&&m(t,["description"],h);const y=g(e,["baseModel"]);y!=null&&m(t,["baseModel"],y);const b=g(e,["tunedModel"]);b!=null&&m(t,["tunedModel"],BP(n,b));const x=g(e,["supervisedTuningSpec"]);x!=null&&m(t,["supervisedTuningSpec"],x);const N=g(e,["tuningDataStats"]);N!=null&&m(t,["tuningDataStats"],N);const T=g(e,["encryptionSpec"]);T!=null&&m(t,["encryptionSpec"],T);const M=g(e,["partnerModelTuningSpec"]);M!=null&&m(t,["partnerModelTuningSpec"],M);const k=g(e,["distillationSpec"]);k!=null&&m(t,["distillationSpec"],k);const P=g(e,["experiment"]);P!=null&&m(t,["experiment"],P);const I=g(e,["labels"]);I!=null&&m(t,["labels"],I);const J=g(e,["pipelineJob"]);J!=null&&m(t,["pipelineJob"],J);const H=g(e,["serviceAccount"]);H!=null&&m(t,["serviceAccount"],H);const K=g(e,["tunedModelDisplayName"]);return K!=null&&m(t,["tunedModelDisplayName"],K),t}function zP(n,e){const t={},i=g(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=g(e,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>O1(n,o))),m(t,["tuningJobs"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jP extends rd{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new hm(Xf.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:N1.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=NP(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>O1(this.apiClient,h))}else{const f=bP(this.apiClient,e);return u=Zt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>O_(this.apiClient,h))}}async listInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=kP(this.apiClient,e);return u=Zt("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=zP(this.apiClient,h),b=new gx;return Object.assign(b,y),b})}else{const f=_P(this.apiClient,e);return u=Zt("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=IP(this.apiClient,h),b=new gx;return Object.assign(b,y),b})}}async tuneInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=RP(this.apiClient,e);return s=Zt("tuningJobs",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>O1(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CP(this.apiClient,e);return s=Zt("tunedModels",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>OP(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UP{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const VP=1024*1024*8,qP=3,HP=1e3,GP=2,z0="x-goog-upload-status";async function WP(n,e,t){var i,r,s;let o=0,u=0,c=new E1(new Response),f="upload";for(o=n.size;u<o;){const y=Math.min(VP,o-u),b=n.slice(u,u+y);u+y>=o&&(f+=", finalize");let x=0,N=HP;for(;x<qP&&(c=await t.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(y)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[z0]));)x++,await YP(N),N=N*GP;if(u+=y,((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[z0])!=="active")break;if(o<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(c==null?void 0:c.json());if(((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[z0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function KP(n){return{size:n.size,type:n.type}}function YP(n){return new Promise(e=>setTimeout(e,n))}class $P{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WP(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KP(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JP{create(e,t,i){return new ZP(e,t,i)}}class ZP{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ux="x-goog-api-key";class XP{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Ux)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ux,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QP="gl-node/";class F_{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=e4(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new XP(this.apiKey);this.apiClient=new gL({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:QP+"web",uploader:new $P,downloader:new UP}),this.models=new PL(this.apiClient),this.live=new NL(this.apiClient,r,new JP),this.chats=new NN(this.models,this.apiClient),this.caches=new AN(this.apiClient),this.files=new jN(this.apiClient),this.operations=new qL(this.apiClient),this.authTokens=new xP(this.apiClient),this.tunings=new jP(this.apiClient)}}let If=null,Cl=null;function j0(n){if(n&&n!==Cl)try{return If=new F_({apiKey:n}),Cl=n,console.log("Gemini Service Initialized with new API Key."),!0}catch(e){return console.error("Failed to initialize Gemini Service with API Key:",e),If=null,Cl=null,!1}else if(!n)return If=null,Cl=null,console.warn("Gemini Service API Key cleared or not provided. Service is inactive."),!1;return If!==null}function eh(){return If||(console.warn("Gemini Service accessed before API key was properly initialized. Using placeholder."),new F_({apiKey:"PLACEHOLDER_API_KEY_NOT_INITIALIZED"}))}function Qp(n){let e=n.trim();const t=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,i=e.match(t);i&&i[2]&&(e=i[2].trim());try{return JSON.parse(e)}catch(r){return console.error("Failed to parse JSON response from Gemini:",r,"Original text:",n),{error:"Ungültige JSON-Antwort von der KI."}}}const eR=`
### Herleitung der Vorgehensweise zur Bewertung von privat genutzten Wirtschaftsgütern von Selbstständigen

Die Bewertung privat entnommener Wirtschaftsgüter ist gemäß § 6 Abs. 1 Nr. 4 Satz 1 EStG vorzunehmen [3], wobei diese gewinnerhöhend mit dem Teilwert im Zeitpunkt der Entnahme zu erfassen sind, wie auch die aktuelle Verwaltungsauffassung am Beispiel digital agierender Steuerpflichtiger bestätigt [8]. Zwar kommt Entnahmen bei Selbständigen eine ähnliche Funktion zu wie Sachbezügen bei Arbeitnehmern, jedoch kann aufgrund der unterschiedlichen gesetzlichen Regelungen nicht die Bewertung des geldwerten Vorteils nach § 8 EStG für Arbeitnehmer herangezogen werden, vielmehr ist der Teilwert maßgeblich [7]. Der Teilwert selbst ist definiert als der Betrag, den ein fiktiver Erwerber des gesamten Unternehmens im Rahmen des Gesamtkaufpreises für das einzelne Wirtschaftsgut ansetzen würde, unter der Prämisse der Unternehmensfortführung (§ 10 Satz 2 BewG) [1]. Da die hier betrachteten Güter durch Gebrauch oder Öffnung in ihrer ursprünglichen Beschaffenheit verändert wurden und somit die Anschaffungs- oder Herstellungskosten nicht mehr als Bewertungsmaßstab dienen können – analog zur Orientierung an der aktuellen Beschaffenheit gemäß § 9 Abs. 2 BewG für den gemeinen Wert [4] – ist eine Schätzung des Teilwerts unumgänglich, die auf objektiven Maßstäben und nicht willkürlichem Ermessen beruht [5].

Die Bandbreite des Teilwerts wird durch die Wiederbeschaffungskosten als Obergrenze und den Einzelveräußerungspreis als Untergrenze bestimmt [2]. Für Wirtschaftsgüter, die – wie im vorliegenden Fall nach einem Produkttest – keinen direkten weiteren betrieblichen Nutzen mehr stiften und somit für einen potenziellen Unternehmenserwerber primär unter dem Aspekt der Weiterveräußerbarkeit relevant wären, rückt der Einzelveräußerungspreis in den Fokus. Ein solcher Erwerber würde für diese spezifischen Güter keine Wiederbeschaffungskosten ansetzen, da sie nicht mehr dem ursprünglichen Betriebszweck in gleicher Weise dienen. Diese Orientierung am Veräußerungserlös, gegebenenfalls unter Abzug noch anfallender Kosten oder Gewinnmargen, wie es analog auch bei der Bewertung von im Wert gemindertem Vorratsvermögen nach R 6.8 Abs. 2 Satz 3 EStR [6] zum Tragen kommt, spiegelt die wirtschaftliche Realität für solche Güter wider.

Zur Konkretisierung dieses am Einzelveräußerungspreis orientierten Teilwerts erfolgt eine systematische Recherche auf gängigen Online-Handelsplattformen für gebrauchte Waren. Dabei werden die Preise für identische oder zumindest artgleiche und zustandsähnliche Produkte ermittelt. Diese empirisch gewonnenen Marktdaten bilden die Basis für eine nachvollziehbare Schätzung [5], die den Grundsätzen einer ordnungsgemäßen Buchführung entspricht. Durch logische Argumentation und unter Berücksichtigung der spezifischen Umstände des entnommenen Gutes (z.B. genauer Zustand, Vollständigkeit, Alter) wird aus diesen Daten der anzusetzende Teilwert abgeleitet. Hierbei ist stets zu beachten, dass der so ermittelte Teilwert den gemeinen Wert des Wirtschaftsgutes nicht übersteigen darf, wie in § 6 Abs. 1 Nr. 4 Satz 1 Halbsatz 2 EStG explizit gefordert [3].

---
**Quellen:**
[1] § 10 Bewertungsgesetz (BewG) - Teilwert
[2] Wikipedia-Artikel "Teilwert", Abschnitt "Bewertung" (https://de.wikipedia.org/wiki/Teilwert)
[3] § 6 Einkommensteuergesetz (EStG) - Bewertung
[4] § 9 Bewertungsgesetz (BewG) - Gemeiner Wert
[5] Gabler Wirtschaftslexikon, Definition "Teilwert" (https://wirtschaftslexikon.gabler.de/definition/teilwert-49526)
[6] R 6.8 Abs. 2 Satz 3 Einkommensteuer-Richtlinien (EStR) - Bewertung des Vorratsvermögens
[7] BFH Urteil vom 21. April 2010, X R 43/08, Rz. 21 f.
[8] Finanzministerium des Landes Schleswig-Holstein v. 02.07.2024 - VI 3010 - S 2240 - 190 (Einkommensteuer-Kurzinformation Nr. 2024/9)
`,Vx={conductMarketResearch:async(n,e,t,i)=>{var o,u,c,f;const r=eh();if(!Cl)return{report:{summary:"",generatedAt:""},error:"Gemini API Key nicht konfiguriert."};const s=`System: Sie sind ein KI-Assistent, der bei der Marktforschung für E-Commerce-Produkte hilft. Verwenden Sie Google Search, um Informationen zu sammeln. Die Antwort muss auf Deutsch sein.
User: Führen Sie eine Marktrecherche für das folgende Produkt durch:
Titel: ${n}
ASIN: ${e}
Beschreibung: ${t||"N/A"}
Kategorie: ${i||"N/A"}

Erstellen Sie eine prägnante Zusammenfassung (max. 200 Wörter) der wichtigsten Produktmerkmale, der Zielgruppe, der typischen Preisspanne (neu und gebraucht, falls möglich) und bemerkenswerter Wettbewerber oder Alternativprodukte. 
Geben Sie bis zu 5 relevante URLs aus Ihrer Suche an, die Ihre Ergebnisse stützen.
Antworten Sie für die Zusammenfassung in einfachem Text. Die URLs werden aus den Grounding-Metadaten extrahiert. Alle textuellen Inhalte müssen auf Deutsch sein.`;try{const h=await r.models.generateContent({model:Xd,contents:[{role:"user",parts:[{text:s}]}],config:{tools:[{googleSearch:{}}],temperature:.5}}),y=h.text,b=(f=(c=(u=(o=h.candidates)==null?void 0:o[0])==null?void 0:u.groundingMetadata)==null?void 0:c.groundingChunks)==null?void 0:f.filter(x=>x.web).map(x=>{var N,T;return{uri:((N=x.web)==null?void 0:N.uri)||"",title:((T=x.web)==null?void 0:T.title)||""}}).filter(x=>x.uri);return{report:{summary:y,supportingUrls:b||[],generatedAt:new Date().toISOString()}}}catch(h){return console.error("Error in conductMarketResearch:",h),{report:{summary:"",generatedAt:""},error:h instanceof Error?h.message:"KI-Marktrecherche fehlgeschlagen."}}},generateEbaySearchTerms:async(n,e)=>{const t=eh();if(!Cl)return{terms:[],error:"Gemini API Key nicht konfiguriert."};const i=`System: Sie sind ein KI-Assistent, der auf die Generierung effektiver eBay-Suchbegriffe spezialisiert ist.
User: Basierend auf den folgenden Produktinformationen und der Marktforschungszusammenfassung (beide auf Deutsch), generieren Sie bis zu 10 verschiedene eBay-Suchbegriffe für die Suche nach diesem Produkt oder vergleichbaren gebrauchten Artikeln auf eBay Deutschland. Priorisieren Sie exakte Produktnamen für bekannte Marken/Modelle. Für generische Artikel verwenden Sie allgemeinere Begriffe.
Produktname: ${n}
Marktforschungszusammenfassung: ${e}
Antworten Sie NUR mit einem JSON-Objekt mit einem einzigen Schlüssel "search_terms", der ein Array von Strings ist. Beispiel: {"search_terms": ["Begriff1", "Begriff2", ...]}. Fügen Sie keinen anderen Text oder Markdown hinzu. Die Suchbegriffe müssen auf Deutsch sein.`;try{const r=await t.models.generateContent({model:Xd,contents:[{role:"user",parts:[{text:i}]}],config:{responseMimeType:"application/json",temperature:.7}}),s=Qp(r.text);return"error"in s?{terms:[],error:s.error}:{terms:s.search_terms||[]}}catch(r){return console.error("Error in generateEbaySearchTerms:",r),{terms:[],error:r instanceof Error?r.message:"Generierung von KI-eBay-Suchbegriffen fehlgeschlagen."}}},estimatePartialValue:async n=>{var r,s,o,u;const e=eh();if(!Cl)return{error:"Gemini API Key nicht konfiguriert."};let t="Keine eBay-Angebote bereitgestellt oder gefunden.";n.ebayData&&n.ebayData.listings&&n.ebayData.listings.length>0&&(t=`Aktuelle eBay-Angebote (gebraucht, ähnliche Artikel):
`+n.ebayData.listings.slice(0,10).map(c=>`- "${c.title}" (Preis: ${c.price} ${c.currency}, Zustand: ${c.condition||"N/A"}, Verkauft: ${c.sold?"Ja":"Nein"})`).join(`
`));const i=`System: Sie sind ein KI-Finanzanalyst, spezialisiert auf deutsches Steuerrecht für die Teilwertabschreibung von Wirtschaftsgütern basierend auf dem Liquidationswert. Dies ist KEINE Wiederbeschaffungskostenbewertung. Ihre Aufgabe ist es, den Teilwert (Liquidationserlös abzüglich Veräußerungskosten) für gebrauchte Gegenstände zu schätzen. Veräußerungskosten (Lagerung, Listing, Werbung, Gewährleistung, Versand, Unternehmerlohn) betragen typischerweise 20-40% des potenziellen eBay-Verkaufspreises. Der Teilwert darf nicht negativ sein; weisen Sie 0 EUR zu, wenn der Artikel unverkäuflich ist (z.B. Hygieneartikel, defekter geringwertiger Artikel). Geben Sie Ihre Schätzung in EUR und eine detaillierte Begründung an. Alle textuellen Inhalte müssen auf Deutsch sein.
User: Schätzen Sie den Teilwert für das folgende Produkt und geben Sie eine detaillierte Begründung an.
Produktinformationen:
Name: ${n.name}
ASIN: ${n.id}
Kategorie: ${n.category||"N/A"}
ETV (Ursprünglicher Neupreis): ${n.etv?n.etv+" EUR":"N/A"}
Beschreibung: ${n.description||"N/A"}

Keepa Daten Zusammenfassung (falls verfügbar, Rich-Objekt):
Aktueller Preis: ${(r=n.keepaData)!=null&&r.currentPrice?n.keepaData.currentPrice+" EUR":"N/A"}
Durchschnittlicher 90-Tage-Preis: ${(s=n.keepaData)!=null&&s.average90dayPrice?n.keepaData.average90dayPrice+" EUR":"N/A"}
Verkaufsrang: ${((o=n.keepaData)==null?void 0:o.salesRank)||"N/A"}

Marktforschungszusammenfassung:
${((u=n.marketResearch)==null?void 0:u.summary)||"Keine Marktforschungszusammenfassung verfügbar."}

${t}

Berücksichtigen Sie den wahrscheinlichen Verkaufspreis auf einer Plattform wie eBay für eine gebrauchte Version dieses Artikels. Ziehen Sie dann geschätzte Verkaufskosten ab.
Antworten Sie NUR mit einem JSON-Objekt mit zwei Schlüsseln: "estimation" (eine Zahl, die den Euro-Wert darstellt, gerundet auf 2 Dezimalstellen) und "reasoning" (ein String, der Ihre Schätzung erklärt und sich auf die bereitgestellten Daten und Kostenüberlegungen bezieht). Beispiel: {"estimation": 50.00, "reasoning": "Basierend auf ähnlichen eBay-Angeboten von durchschnittlich 70-80 €, und nach Abzug geschätzter Kosten von 30 % (21-24 €) für den Verkauf, beträgt ein konservativer Teilwert 50 €. Das Produkt ist weiterhin gefragt..."}. Die Begründung muss auf Deutsch sein.`;try{const c=await e.models.generateContent({model:Xd,contents:[{role:"user",parts:[{text:i}]}],config:{responseMimeType:"application/json",temperature:.3}}),f=Qp(c.text);return"error"in f?{error:f.error}:{estimationData:{estimation:Math.max(0,parseFloat(f.estimation.toFixed(2))),reasoning:f.reasoning,currency:"EUR",generatedAt:new Date().toISOString()}}}catch(c){return console.error("Error in estimatePartialValue:",c),{error:c instanceof Error?c.message:"KI-Teilwertschätzung fehlgeschlagen."}}},getMarketAnalysisAndEbaySearchTerms:async(n,e)=>{const t=eh();if(!Cl)return{error:"Gemini API Key nicht konfiguriert."};const i=["System: Sie sind ein Experte für Marktanalysen und E-Commerce-Strategien. Erstellen Sie eine detaillierte Analyse für das angegebene Produkt. Alle textuellen Inhalte in der JSON-Antwort, einschließlich Zusammenfassungen, Beschreibungen und Bewertungen, müssen auf Deutsch sein.","Produktinformationen:",`Name: ${n.name}`,`ASIN: ${n.id}`];n.description&&i.push(`Beschreibung: ${n.description}`),n.category&&i.push(`Kategorie: ${n.category}`),n.etv&&i.push(`Ursprünglicher ETV (Neupreis): ${n.etv} EUR`),e&&i.push(`Aktueller verarbeiteter Preis (z.B. von Keepa): ${e} EUR`),i.push(`
Ihre Aufgabe: Liefern Sie die folgenden Informationen in einem strukturierten JSON-Format. Stellen Sie sicher, dass das Array ebaySearchTerms genau 3 deutsche Suchbegriffe enthält.
      Für bekannte Produkte (z.B. iPhone 15) verwenden Sie den spezifischen Produktnamen als Suchbegriff.
      Für generische oder weniger bekannte Produkte (z.B. ein Milchaufschäumer einer generischen Marke) verwenden Sie breitere Kategoriebegriffe.
      Das Ziel dieser Suchbegriffe ist es, die Marktnachfrage und typische Verkaufspreise für ähnliche Artikel auf eBay Deutschland zu verstehen.

      JSON Struktur (alle textuellen Werte müssen auf Deutsch sein):
      {
        "marketAnalysis": {
          "summary": "Prägnante allgemeine Marktzusammenfassung (max. 150 Wörter, auf Deutsch).",
          "competitors": ["Listen Sie bis zu 3 Hauptkonkurrenzprodukte oder -marken auf, falls vorhanden. Leeres Array, wenn keine signifikanten vorhanden sind (auf Deutsch)."],
          "salesPerformance": "Beschreiben Sie die typische Verkaufsleistung (z.B. 'Hohes Volumen', 'Nische aber stabil', 'Saisonal', 'Rückläufig', auf Deutsch).",
          "marketSentiment": "Beschreiben Sie die Marktstimmung (z.B. 'Gehyptes Produkt', 'Stabile Nachfrage', 'Umstritten', 'Generell positiv', auf Deutsch')."
        },
        "pricingAndSourcing": {
          "typicalNewPrice": "Geschätzte typische Neupreisspanne am Markt in EUR (z.B. '€90-€110', oder 'N/A' wenn schwer zu bestimmen, auf Deutsch).",
          "farEastSourcingPotential": "Bewerten Sie das Potenzial für die Beschaffung aus Fernost (z.B. 'Hoch', 'Mittel', 'Niedrig', 'Unwahrscheinlich', 'Üblicherweise von dort bezogen', auf Deutsch)."
        },
        "durabilityAndRisk": {
          "durability": "Allgemeine Einschätzung der Produkthaltbarkeit (z.B. 'Robust und langlebig', 'Durchschnittliche Lebensdauer', 'Anfällig für spezifische Probleme nach X Zeit', auf Deutsch).",
          "commonIssues": ["Listen Sie bis zu 3 häufige Probleme, Defekte oder Beschwerdegründe auf, falls bekannt. Leeres Array, wenn keine signifikanten vorhanden sind (auf Deutsch)."]
        },
        "ebaySearchTerms": ["deutscherBegriff1", "deutscherBegriff2", "deutscherBegriff3"]
      }
      Antworten Sie NUR mit diesem JSON-Objekt. Fügen Sie keinen anderen Text, Begrüßungen oder Markdown-Formatierungen um das JSON herum ein.`);const r=i.join(`
`);try{const s=await t.models.generateContent({model:Xd,contents:[{role:"user",parts:[{text:r}]}],config:{responseMimeType:"application/json",temperature:.4}}),o=Qp(s.text);if("error"in o)return{error:o.error};if(!o.ebaySearchTerms||o.ebaySearchTerms.length!==3)for(console.warn("Gemini hat nicht genau 3 eBay-Suchbegriffe zurückgegeben. Erhalten:",o.ebaySearchTerms),o.ebaySearchTerms=(o.ebaySearchTerms||[]).slice(0,3);o.ebaySearchTerms.length<3;)o.ebaySearchTerms.push(n.name||"Produkt");return{analysis:o}}catch(s){return console.error("Error in getMarketAnalysisAndEbaySearchTerms:",s),{error:s instanceof Error?s.message:"KI-Marktanalyse und Suchbegrifferstellung fehlgeschlagen."}}},estimateTeilwertForReport:async(n,e,t,i)=>{var y,b;const r=eh();if(!Cl)return{error:"Gemini API Key nicht konfiguriert."};let s=[`Produktname: ${n.name}`,`ASIN: ${n.id}`];n.description&&s.push(`Beschreibung: ${n.description}`),n.category&&s.push(`Kategorie: ${n.category}`),n.etv&&s.push(`Ursprünglicher ETV (Neupreis): ${n.etv} EUR`);let o="Keine verarbeiteten Preisinformationen (z.B. von Keepa) für dieses Produkt übergeben.";if(i&&(o=`Relevanter verarbeiteter Preis (Quelle: ${i.priceSource}): ${i.price.toFixed(2)} EUR.`,i.allPrices)){let x=[];i.allPrices.amazonCurrent!==void 0&&x.push(`Amazon Aktuell: ${i.allPrices.amazonCurrent.toFixed(2)} EUR`),i.allPrices.newCurrent!==void 0&&x.push(`Marketplace Neu Aktuell: ${i.allPrices.newCurrent.toFixed(2)} EUR`),i.allPrices.usedCurrent!==void 0&&x.push(`Marketplace Gebraucht Aktuell: ${i.allPrices.usedCurrent.toFixed(2)} EUR`),x.length>0&&(o+=` Weitere verfügbare Preise: ${x.join("; ")}.`)}s.push(o);let u="Keine Marktanalyse verfügbar.";e&&(u=`Marktanalyse Zusammenfassung: ${e.marketAnalysis.summary}
Wettbewerber: ${((y=e.marketAnalysis.competitors)==null?void 0:y.join(", "))||"N/A"}
Verkaufsperformance: ${e.marketAnalysis.salesPerformance}
Marktstimmung: ${e.marketAnalysis.marketSentiment}
Typischer Neupreis: ${e.pricingAndSourcing.typicalNewPrice}
Haltbarkeit: ${e.durabilityAndRisk.durability}
Häufige Probleme: ${((b=e.durabilityAndRisk.commonIssues)==null?void 0:b.join(", "))||"N/A"}`);let c="Keine eBay Suchergebnisse verfügbar oder Suche nicht durchgeführt.";if(t&&Object.keys(t).length>0){c=`Ergebnisse der eBay-Recherche (pro Suchbegriff):
`;for(const x in t){const N=t[x];N.listings&&N.listings.length>0?(c+=`  Suchbegriff "${x}":
`,N.listings.slice(0,3).forEach(T=>{c+=`    - Name: ${T.name}, Verkauft am: ${T.sold_date}, Preis: ${T.price}€, Zustand: ${T.condition}
`}),N.listings.length>3&&(c+=`    ... und ${N.listings.length-3} weitere.
`)):N.rawValue&&N.rawValue.trim()!==""&&N.rawValue.trim()!=='""'?c+=`  Suchbegriff "${x}": Rohdaten vorhanden, aber nicht als strukturierte Liste geparst.
`:c+=`  Suchbegriff "${x}": Keine relevanten Verkäufe gefunden oder Daten ausstehend.
`}}const f=i?`Für das Produkt wurde ein relevanter Preis von ${i.price.toFixed(2)} EUR (Quelle: ${i.priceSource}) ermittelt.`:"Keine spezifischen Preisinformationen (z.B. von Keepa) für dieses Produkt verfügbar.",h=`
System: Sie sind ein KI-Experte für deutsches Steuerrecht, spezialisiert auf die Ermittlung des Teilwerts von gebrauchten Wirtschaftsgütern für die Entnahme aus einem Betriebsvermögen. Ihre Antworten müssen präzise, gut begründet und im angeforderten JSON-Format sein. Die Sprache aller textuellen Inhalte muss Deutsch sein.

Rechtliche Grundlagen zur Teilwertermittlung:
${eR}

Ihre Aufgabe ist die Erstellung eines Berichts zur Teilwertschätzung.
Folgende Informationen sind über das Produkt bereits bekannt:
${s.join(`
`)}

Marktanalyse (falls vorhanden):
${u}

eBay Suchergebnisse (falls vorhanden):
${c}

Erstellen Sie eine Begründung für eine Teilwertschätzung, die tatsächliche Teilwertschätzung (als Zahl) und ein Fazit für einen Bericht im JSON-Format.
Der Output MUSS exakt folgendes JSON-Format haben (kein Text davor oder danach, keine Markdown-Formatierung um das JSON-Objekt selbst):
{
  "Begruendung_Teilwert": "Ausführliche Begründung, ggf. mit Berechnungen, im Markdown-Format (ohne Überschriften). Gehen Sie auf die Verkaufbarkeit, vergleichbare Angebote, Zustand und mögliche Abschläge ein. Wenn sinnvoll, erklären Sie, dass im Teilwert kein Unternehmergewinn enthalten ist sowie etwaige Lagerkosten abgezogen werden müssten.",
  "Teilwert": 123.45,
  "mlFazit": "Kurzes Fazit der Schätzung im Markdown-Format (ohne Überschriften).",
  "keepa_Bericht": "Fassen Sie die verfügbaren Preisinformationen (die vermutlich von Diensten wie Keepa stammen und hier als '${f}' referenziert werden) im Freitext zusammen und bewerten Sie deren Relevanz für die Teilwertschätzung des gebrauchten Produkts."
}

Wichtige Hinweise:
- Der Teilwert kann 0.0 sein, wenn das Produkt nach einem Test typischerweise nicht mehr verkauft werden kann (z.B. Kosmetik, Lebensmittel).
- Wenn das Produkt oder die Marke in den eBay-Suchergebnissen nicht zu finden ist, deutet dies auf schlechte Verkaufsaussichten hin.
- Die "Begruendung_Teilwert" und das "mlFazit" sollen für einen PDF-Bericht geeignet sein und daher Markdown für Formatierungen wie Fettung oder Listen nutzen. Verwenden Sie KEINE Markdown-Überschriften (wie #, ##).
- Alle textuellen Inhalte müssen auf Deutsch sein.
`;try{const x=await r.models.generateContent({model:Xd,contents:[{role:"user",parts:[{text:h}]}],config:{responseMimeType:"application/json",temperature:.2}}),N=Qp(x.text);return"error"in N?{error:N.error}:(N.Teilwert=Math.max(0,Number(N.Teilwert)||0),{estimation:N})}catch(x){return console.error("Error in estimateTeilwertForReport:",x),{error:x instanceof Error?x.message:"KI-Teilwertschätzung für Bericht fehlgeschlagen."}}}},B_=re.createContext(void 0),tR=({children:n})=>{const[e,t]=re.useState(null),[i,r]=re.useState(null),[s,o]=re.useState(null),[u,c]=re.useState(null),[f,h]=re.useState(!1),[y,b]=re.useState(!0);re.useEffect(()=>{b(!0);const T=localStorage.getItem(Kp),M=localStorage.getItem(Yp),k=localStorage.getItem($p),P=localStorage.getItem(Jp);t(T),r(M),o(k),c(P),T&&M&&k&&P?(j0(k),h(!0)):h(!1),b(!1)},[]);const x=re.useCallback(T=>{T.v2ApiToken?localStorage.setItem(Kp,T.v2ApiToken):localStorage.removeItem(Kp),T.oracleWriteParUrl?localStorage.setItem(Yp,T.oracleWriteParUrl):localStorage.removeItem(Yp),T.geminiApiKey?localStorage.setItem($p,T.geminiApiKey):localStorage.removeItem($p),T.externalProductSourceUrl?localStorage.setItem(Jp,T.externalProductSourceUrl):localStorage.removeItem(Jp),t(T.v2ApiToken),r(T.oracleWriteParUrl),o(T.geminiApiKey),c(T.externalProductSourceUrl),T.v2ApiToken&&T.oracleWriteParUrl&&T.geminiApiKey&&T.externalProductSourceUrl?(j0(T.geminiApiKey),h(!0)):h(!1)},[]),N=re.useCallback(()=>{localStorage.removeItem(Kp),localStorage.removeItem(Yp),localStorage.removeItem($p),localStorage.removeItem(Jp),t(null),r(null),o(null),c(null),j0(""),h(!1)},[]);return S.jsx(B_.Provider,{value:{v2ApiToken:e,oracleWriteParUrl:i,geminiApiKey:s,externalProductSourceUrl:u,isConfigSet:f,isLoadingConfig:y,saveConfig:x,clearConfig:N},children:n})},ju=()=>{const n=re.useContext(B_);if(n===void 0)throw new Error("useConfig must be used within a ConfigProvider");return n},qx="appFilterOutETVZero",z_=re.createContext(void 0),nR=({children:n})=>{const{externalProductSourceUrl:e,isConfigSet:t}=ju(),[i,r]=re.useState([]),[s,o]=re.useState(!1),[u,c]=re.useState(null),[f,h]=re.useState(()=>{const T=localStorage.getItem(qx);return T?JSON.parse(T):!1}),y=re.useCallback(T=>{localStorage.setItem(qx,JSON.stringify(T)),h(T)},[]),b=re.useCallback(T=>Qi.LOADED_FROM_EXTERNAL,[]),x=re.useCallback(async()=>{if(!t||!e){r([]),c("Konfiguration für Produktdatenquelle nicht geladen."),o(!1);return}o(!0),c(null);try{const T=await fetch(e);if(!T.ok)throw new Error(`Failed to fetch from external source (${e}): ${T.status} ${T.statusText}`);const M=await T.json();if(!M.asins||!Array.isArray(M.asins)){r([]),o(!1),console.warn("External data source did not provide a valid 'asins' array."),c("Externe Datenquelle lieferte keine gültigen Produktdaten.");return}let k=M.asins;f&&(k=M.asins.filter(I=>I.ETV!==0));const P=k.map(I=>(I.ASIN||console.warn("External item missing ASIN, assigning placeholder ID:",I),{id:I.ASIN||`unknown_id_${Math.random().toString(36).substr(2,9)}`,name:I.name||"Unbekannter Name",etv:I.ETV,externalImageFilename:I.imageURL,imageUrl:I.imageURL?`${yC}${I.imageURL}`:void 0,externalKeepaPrice:I.keepa,externalTeilwert:I.Teilwert,externalPdfUrl:I.pdf,externalSourceStatus:I.status,status:b(I)})).sort((I,J)=>I.name.localeCompare(J.name));r(P)}catch(T){c(`Ein Fehler ist beim Laden der Produkte aufgetreten: ${T.message}`),r([])}finally{o(!1)}},[t,e,b,f]);re.useEffect(()=>{t&&e?x():(r([]),t&&(e||c("Produktdaten-URL fehlt in der Konfiguration.")))},[x,t,e]);const N=re.useCallback(T=>i.find(M=>M.id===T),[i]);return S.jsx(z_.Provider,{value:{products:i,isLoading:s,error:u,fetchProducts:x,getProductById:N,filterOutETVZero:f,setFilterOutETVZeroPreference:y},children:n})},zc=()=>{const n=re.useContext(z_);if(n===void 0)throw new Error("useProducts must be used within a ProductProvider");return n};async function Af(n,e){var t,i,r;if(!e.token)return console.error("V2 API call attempted without a token for endpoint:",n),{error:"V2 API-Token nicht gesetzt."};try{const s=await fetch(`${vC}${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)try{const o=await s.json();if(s.status===401&&((t=o.error)!=null&&t.toLowerCase().includes("invalid token")||(i=o.error)!=null&&i.toLowerCase().includes("token missing")))return{error:"Ungültiger oder fehlender V2 API-Token."};if(s.status===404&&((r=o.error)!=null&&r.toLowerCase().includes("key not found"))){if(n==="get")return{key:e.key,value:null};if(n==="delete_key")return{message:"Key not found, effectively deleted.",key:e.key}}return o}catch{return{error:`V2 API Fehler: ${s.status} ${s.statusText}`}}return s.json()}catch(s){return console.error(`Netzwerk- oder anderer Fehler in fetchV2Api für Endpoint ${n}:`,s),{error:s instanceof Error?s.message:"Ein unbekannter Netzwerkfehler ist aufgetreten"}}}const Sn={getAllStatuses:async(n,e)=>Af("get_all",{database:n,token:e}),setManyStatuses:async(n,e,t)=>Af("set_many",{token:t,database:n,data:e}),getKey:async(n,e,t)=>Af("get",{database:n,key:e,token:t}),setKey:async(n,e,t,i)=>Af("set",{database:n,key:e,value:t,token:i}),listKeys:async(n,e)=>Af("list_keys",{database:n,token:e}),deleteKey:async(n,e,t)=>Af("delete_key",{database:n,key:e,token:t})},iR="https://objectstorage.eu-frankfurt-1.oraclecloud.com/p/XBhdyIB8tZZK2IOWzPl4GKJ5_AoHTeFHIHoTbAk8k6ypbRugFOzMxLeUeCSYz96-/n/frlwfg9yseap/b/bucket-20240714-1645/o/",Hx={uploadPdfToOracle:async(n,e,t)=>{if(!t)throw new Error("Oracle Cloud Write PAR URL is not configured.");const i=`Teilwert_v2_${e}.pdf`,s=`${t.endsWith("/")?t:t+"/"}${i}`,o={"Content-Type":"application/pdf","Content-Disposition":`attachment; filename="${i}"`};try{const u=await fetch(s,{method:"PUT",headers:o,body:n});if(!u.ok){const f=await u.text();throw new Error(`Oracle Cloud upload failed: ${u.status} ${u.statusText}. Details: ${f}`)}return{publicUrl:`${iR}${i}`}}catch(u){throw console.error("Error uploading PDF to Oracle Cloud:",u),u}}},rR="modulepreload",sR=function(n){return"/"+n},Gx={},F1=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=o(t.map(f=>{if(f=sR(f),f in Gx)return;Gx[f]=!0;const h=f.endsWith(".css"),y=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":rR,h||(b.as="script"),b.crossOrigin="",b.href=f,c&&b.setAttribute("nonce",c),document.head.appendChild(b),h)return new Promise((x,N)=>{b.addEventListener("load",x),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return r.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function ei(n){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ei(n)}var rs=Uint8Array,Xs=Uint16Array,L2=Int32Array,gm=new rs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mm=new rs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),B1=new rs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j_=function(n,e){for(var t=new Xs(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new L2(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return{b:t,r}},U_=j_(gm,2),V_=U_.b,z1=U_.r;V_[28]=258,z1[258]=28;var q_=j_(mm,0),aR=q_.b,Wx=q_.r,j1=new Xs(32768);for(var Ti=0;Ti<32768;++Ti){var wu=(Ti&43690)>>1|(Ti&21845)<<1;wu=(wu&52428)>>2|(wu&13107)<<2,wu=(wu&61680)>>4|(wu&3855)<<4,j1[Ti]=((wu&65280)>>8|(wu&255)<<8)>>1}var Ho=function(n,e,t){for(var i=n.length,r=0,s=new Xs(e);r<i;++r)n[r]&&++s[n[r]-1];var o=new Xs(e);for(r=1;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var u;if(t){u=new Xs(1<<e);var c=15-e;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],h=e-n[r],y=o[n[r]-1]++<<h,b=y|(1<<h)-1;y<=b;++y)u[j1[y]>>c]=f}else for(u=new Xs(i),r=0;r<i;++r)n[r]&&(u[r]=j1[o[n[r]-1]++]>>15-n[r]);return u},Pu=new rs(288);for(var Ti=0;Ti<144;++Ti)Pu[Ti]=8;for(var Ti=144;Ti<256;++Ti)Pu[Ti]=9;for(var Ti=256;Ti<280;++Ti)Pu[Ti]=7;for(var Ti=280;Ti<288;++Ti)Pu[Ti]=8;var Ph=new rs(32);for(var Ti=0;Ti<32;++Ti)Ph[Ti]=5;var oR=Ho(Pu,9,0),lR=Ho(Pu,9,1),uR=Ho(Ph,5,0),cR=Ho(Ph,5,1),U0=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Wa=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},V0=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},P2=function(n){return(n+7)/8|0},H_=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new rs(n.subarray(e,t))},fR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$a=function(n,e,t){var i=new Error(e||fR[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,$a),!t)throw i;return i},dR=function(n,e,t,i){var r=n.length,s=0;if(!r||e.f&&!e.l)return t||new rs(0);var o=!t,u=o||e.i!=2,c=e.i;o&&(t=new rs(r*3));var f=function(Ye){var Qe=t.length;if(Ye>Qe){var Ke=new rs(Math.max(Qe*2,Ye));Ke.set(t),t=Ke}},h=e.f||0,y=e.p||0,b=e.b||0,x=e.l,N=e.d,T=e.m,M=e.n,k=r*8;do{if(!x){h=Wa(n,y,1);var P=Wa(n,y+1,3);if(y+=3,P)if(P==1)x=lR,N=cR,T=9,M=5;else if(P==2){var K=Wa(n,y,31)+257,X=Wa(n,y+10,15)+4,U=K+Wa(n,y+5,31)+1;y+=14;for(var ee=new rs(U),de=new rs(19),B=0;B<X;++B)de[B1[B]]=Wa(n,y+B*3,7);y+=X*3;for(var q=U0(de),oe=(1<<q)-1,ne=Ho(de,q,1),B=0;B<U;){var ie=ne[Wa(n,y,oe)];y+=ie&15;var I=ie>>4;if(I<16)ee[B++]=I;else{var G=0,te=0;for(I==16?(te=3+Wa(n,y,3),y+=2,G=ee[B-1]):I==17?(te=3+Wa(n,y,7),y+=3):I==18&&(te=11+Wa(n,y,127),y+=7);te--;)ee[B++]=G}}var ae=ee.subarray(0,K),pe=ee.subarray(K);T=U0(ae),M=U0(pe),x=Ho(ae,T,1),N=Ho(pe,M,1)}else $a(1);else{var I=P2(y)+4,J=n[I-4]|n[I-3]<<8,H=I+J;if(H>r){c&&$a(0);break}u&&f(b+J),t.set(n.subarray(I,H),b),e.b=b+=J,e.p=y=H*8,e.f=h;continue}if(y>k){c&&$a(0);break}}u&&f(b+131072);for(var j=(1<<T)-1,me=(1<<M)-1,D=y;;D=y){var G=x[V0(n,y)&j],Y=G>>4;if(y+=G&15,y>k){c&&$a(0);break}if(G||$a(2),Y<256)t[b++]=Y;else if(Y==256){D=y,x=null;break}else{var Q=Y-254;if(Y>264){var B=Y-257,ue=gm[B];Q=Wa(n,y,(1<<ue)-1)+V_[B],y+=ue}var ce=N[V0(n,y)&me],ye=ce>>4;ce||$a(3),y+=ce&15;var pe=aR[ye];if(ye>3){var ue=mm[ye];pe+=V0(n,y)&(1<<ue)-1,y+=ue}if(y>k){c&&$a(0);break}u&&f(b+131072);var Se=b+Q;if(b<pe){var Ee=s-pe,$e=Math.min(pe,Se);for(Ee+b<0&&$a(3);b<$e;++b)t[b]=i[Ee+b]}for(;b<Se;++b)t[b]=t[b-pe]}}e.l=x,e.p=D,e.b=b,e.f=h,x&&(h=1,e.m=T,e.d=N,e.n=M)}while(!h);return b!=t.length&&o?H_(t,0,b):t.subarray(0,b)},bl=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},th=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},q0=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,s=t.slice();if(!r)return{t:W_,l:0};if(r==1){var o=new rs(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(H,K){return H.f-K.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],f=0,h=1,y=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};h!=r-1;)u=t[t[f].f<t[y].f?f++:y++],c=t[f!=h&&t[f].f<t[y].f?f++:y++],t[h++]={s:-1,f:u.f+c.f,l:u,r:c};for(var b=s[0].s,i=1;i<r;++i)s[i].s>b&&(b=s[i].s);var x=new Xs(b+1),N=U1(t[h-1],x,0);if(N>e){var i=0,T=0,M=N-e,k=1<<M;for(s.sort(function(K,X){return x[X.s]-x[K.s]||K.f-X.f});i<r;++i){var P=s[i].s;if(x[P]>e)T+=k-(1<<N-x[P]),x[P]=e;else break}for(T>>=M;T>0;){var I=s[i].s;x[I]<e?T-=1<<e-x[I]++-1:++i}for(;i>=0&&T;--i){var J=s[i].s;x[J]==e&&(--x[J],++T)}N=e}return{t:new rs(x),l:N}},U1=function(n,e,t){return n.s==-1?Math.max(U1(n.l,e,t+1),U1(n.r,e,t+1)):e[n.s]=t},Kx=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Xs(++e),i=0,r=n[0],s=1,o=function(c){t[i++]=c},u=1;u<=e;++u)if(n[u]==r&&u!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[u]}return{c:t.subarray(0,i),n:e}},nh=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},G_=function(n,e,t){var i=t.length,r=P2(e+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=t[s];return(r+4+i)*8},Yx=function(n,e,t,i,r,s,o,u,c,f,h){bl(e,h++,t),++r[256];for(var y=q0(r,15),b=y.t,x=y.l,N=q0(s,15),T=N.t,M=N.l,k=Kx(b),P=k.c,I=k.n,J=Kx(T),H=J.c,K=J.n,X=new Xs(19),U=0;U<P.length;++U)++X[P[U]&31];for(var U=0;U<H.length;++U)++X[H[U]&31];for(var ee=q0(X,7),de=ee.t,B=ee.l,q=19;q>4&&!de[B1[q-1]];--q);var oe=f+5<<3,ne=nh(r,Pu)+nh(s,Ph)+o,ie=nh(r,b)+nh(s,T)+o+14+3*q+nh(X,de)+2*X[16]+3*X[17]+7*X[18];if(c>=0&&oe<=ne&&oe<=ie)return G_(e,h,n.subarray(c,c+f));var G,te,ae,pe;if(bl(e,h,1+(ie<ne)),h+=2,ie<ne){G=Ho(b,x,0),te=b,ae=Ho(T,M,0),pe=T;var j=Ho(de,B,0);bl(e,h,I-257),bl(e,h+5,K-1),bl(e,h+10,q-4),h+=14;for(var U=0;U<q;++U)bl(e,h+3*U,de[B1[U]]);h+=3*q;for(var me=[P,H],D=0;D<2;++D)for(var Y=me[D],U=0;U<Y.length;++U){var Q=Y[U]&31;bl(e,h,j[Q]),h+=de[Q],Q>15&&(bl(e,h,Y[U]>>5&127),h+=Y[U]>>12)}}else G=oR,te=Pu,ae=uR,pe=Ph;for(var U=0;U<u;++U){var ue=i[U];if(ue>255){var Q=ue>>18&31;th(e,h,G[Q+257]),h+=te[Q+257],Q>7&&(bl(e,h,ue>>23&31),h+=gm[Q]);var ce=ue&31;th(e,h,ae[ce]),h+=pe[ce],ce>3&&(th(e,h,ue>>5&8191),h+=mm[ce])}else th(e,h,G[ue]),h+=te[ue]}return th(e,h,G[256]),h+te[256]},hR=new L2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),W_=new rs(0),pR=function(n,e,t,i,r,s){var o=s.z||n.length,u=new rs(i+o+5*(1+Math.ceil(o/7e3))+r),c=u.subarray(i,u.length-r),f=s.l,h=(s.r||0)&7;if(e){h&&(c[0]=s.r>>3);for(var y=hR[e-1],b=y>>13,x=y&8191,N=(1<<t)-1,T=s.p||new Xs(32768),M=s.h||new Xs(N+1),k=Math.ceil(t/3),P=2*k,I=function(et){return(n[et]^n[et+1]<<k^n[et+2]<<P)&N},J=new L2(25e3),H=new Xs(288),K=new Xs(32),X=0,U=0,ee=s.i||0,de=0,B=s.w||0,q=0;ee+2<o;++ee){var oe=I(ee),ne=ee&32767,ie=M[oe];if(T[ne]=ie,M[oe]=ne,B<=ee){var G=o-ee;if((X>7e3||de>24576)&&(G>423||!f)){h=Yx(n,c,0,J,H,K,U,de,q,ee-q,h),de=X=U=0,q=ee;for(var te=0;te<286;++te)H[te]=0;for(var te=0;te<30;++te)K[te]=0}var ae=2,pe=0,j=x,me=ne-ie&32767;if(G>2&&oe==I(ee-me))for(var D=Math.min(b,G)-1,Y=Math.min(32767,ee),Q=Math.min(258,G);me<=Y&&--j&&ne!=ie;){if(n[ee+ae]==n[ee+ae-me]){for(var ue=0;ue<Q&&n[ee+ue]==n[ee+ue-me];++ue);if(ue>ae){if(ae=ue,pe=me,ue>D)break;for(var ce=Math.min(me,ue-2),ye=0,te=0;te<ce;++te){var Se=ee-me+te&32767,Ee=T[Se],$e=Se-Ee&32767;$e>ye&&(ye=$e,ie=Se)}}}ne=ie,ie=T[ne],me+=ne-ie&32767}if(pe){J[de++]=268435456|z1[ae]<<18|Wx[pe];var Ye=z1[ae]&31,Qe=Wx[pe]&31;U+=gm[Ye]+mm[Qe],++H[257+Ye],++K[Qe],B=ee+ae,++X}else J[de++]=n[ee],++H[n[ee]]}}for(ee=Math.max(ee,B);ee<o;++ee)J[de++]=n[ee],++H[n[ee]];h=Yx(n,c,f,J,H,K,U,de,q,ee-q,h),f||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=M,s.p=T,s.i=ee,s.w=B)}else{for(var ee=s.w||0;ee<o+f;ee+=65535){var Ke=ee+65535;Ke>=o&&(c[h/8|0]=f,Ke=o),h=G_(c,h+1,n.subarray(ee,Ke))}s.i=o}return H_(u,0,i+P2(h)+r)},K_=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,s=t.length|0,o=0;o!=s;){for(var u=Math.min(o+2655,s);o<u;++o)r+=i+=t[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},gR=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new rs(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return pR(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,r)},Y_=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},mR=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=K_();r.p(e.dictionary),Y_(n,2,r.d())}},yR=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&$a(6,"invalid zlib data"),(n[1]>>5&1)==1&&$a(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function V1(n,e){e||(e={});var t=K_();t.p(n);var i=gR(n,e,e.dictionary?6:2,4);return mR(i,e),Y_(i,i.length-4,t.d()),i}function vR(n,e){return dR(n.subarray(yR(n),-4),{i:2},e,e)}var xR=typeof TextDecoder<"u"&&new TextDecoder,bR=0;try{xR.decode(W_,{stream:!0}),bR=1}catch{}var Wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function H0(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var li={log:H0,warn:function(n){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):H0.call(null,arguments))},error:function(n){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):H0(n))}};function G0(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Ac(i.response,e,t)},i.onerror=function(){li.error("could not download file")},i.send()}function $x(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function eg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var wh,q1,Ac=Wt.saveAs||((typeof window>"u"?"undefined":ei(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=Wt.URL||Wt.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?$x(r.href)?G0(n,e,t):eg(r,r.target="_blank"):eg(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){eg(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if($x(n))G0(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){eg(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:ei(s)!=="object"&&(li.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return G0(n,e,t);var r=n.type==="application/octet-stream",s=/constructor/i.test(Wt.HTMLElement)||Wt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":ei(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var h=u.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location=h,i=null},u.readAsDataURL(n)}else{var c=Wt.URL||Wt.webkitURL,f=c.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $_(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,s=t[i].process,o=r.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+u+c+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function W0(n,e){var t=n[0],i=n[1],r=n[2],s=n[3];t=Qr(t,i,r,s,e[0],7,-680876936),s=Qr(s,t,i,r,e[1],12,-389564586),r=Qr(r,s,t,i,e[2],17,606105819),i=Qr(i,r,s,t,e[3],22,-1044525330),t=Qr(t,i,r,s,e[4],7,-176418897),s=Qr(s,t,i,r,e[5],12,1200080426),r=Qr(r,s,t,i,e[6],17,-1473231341),i=Qr(i,r,s,t,e[7],22,-45705983),t=Qr(t,i,r,s,e[8],7,1770035416),s=Qr(s,t,i,r,e[9],12,-1958414417),r=Qr(r,s,t,i,e[10],17,-42063),i=Qr(i,r,s,t,e[11],22,-1990404162),t=Qr(t,i,r,s,e[12],7,1804603682),s=Qr(s,t,i,r,e[13],12,-40341101),r=Qr(r,s,t,i,e[14],17,-1502002290),t=es(t,i=Qr(i,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=es(s,t,i,r,e[6],9,-1069501632),r=es(r,s,t,i,e[11],14,643717713),i=es(i,r,s,t,e[0],20,-373897302),t=es(t,i,r,s,e[5],5,-701558691),s=es(s,t,i,r,e[10],9,38016083),r=es(r,s,t,i,e[15],14,-660478335),i=es(i,r,s,t,e[4],20,-405537848),t=es(t,i,r,s,e[9],5,568446438),s=es(s,t,i,r,e[14],9,-1019803690),r=es(r,s,t,i,e[3],14,-187363961),i=es(i,r,s,t,e[8],20,1163531501),t=es(t,i,r,s,e[13],5,-1444681467),s=es(s,t,i,r,e[2],9,-51403784),r=es(r,s,t,i,e[7],14,1735328473),t=ts(t,i=es(i,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=ts(s,t,i,r,e[8],11,-2022574463),r=ts(r,s,t,i,e[11],16,1839030562),i=ts(i,r,s,t,e[14],23,-35309556),t=ts(t,i,r,s,e[1],4,-1530992060),s=ts(s,t,i,r,e[4],11,1272893353),r=ts(r,s,t,i,e[7],16,-155497632),i=ts(i,r,s,t,e[10],23,-1094730640),t=ts(t,i,r,s,e[13],4,681279174),s=ts(s,t,i,r,e[0],11,-358537222),r=ts(r,s,t,i,e[3],16,-722521979),i=ts(i,r,s,t,e[6],23,76029189),t=ts(t,i,r,s,e[9],4,-640364487),s=ts(s,t,i,r,e[12],11,-421815835),r=ts(r,s,t,i,e[15],16,530742520),t=ns(t,i=ts(i,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=ns(s,t,i,r,e[7],10,1126891415),r=ns(r,s,t,i,e[14],15,-1416354905),i=ns(i,r,s,t,e[5],21,-57434055),t=ns(t,i,r,s,e[12],6,1700485571),s=ns(s,t,i,r,e[3],10,-1894986606),r=ns(r,s,t,i,e[10],15,-1051523),i=ns(i,r,s,t,e[1],21,-2054922799),t=ns(t,i,r,s,e[8],6,1873313359),s=ns(s,t,i,r,e[15],10,-30611744),r=ns(r,s,t,i,e[6],15,-1560198380),i=ns(i,r,s,t,e[13],21,1309151649),t=ns(t,i,r,s,e[4],6,-145523070),s=ns(s,t,i,r,e[11],10,-1120210379),r=ns(r,s,t,i,e[2],15,718787259),i=ns(i,r,s,t,e[9],21,-343485551),n[0]=Au(t,n[0]),n[1]=Au(i,n[1]),n[2]=Au(r,n[2]),n[3]=Au(s,n[3])}function ym(n,e,t,i,r,s){return e=Au(Au(e,n),Au(i,s)),Au(e<<r|e>>>32-r,t)}function Qr(n,e,t,i,r,s,o){return ym(e&t|~e&i,n,e,r,s,o)}function es(n,e,t,i,r,s,o){return ym(e&i|t&~i,n,e,r,s,o)}function ts(n,e,t,i,r,s,o){return ym(e^t^i,n,e,r,s,o)}function ns(n,e,t,i,r,s,o){return ym(t^(e|~i),n,e,r,s,o)}function J_(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)W0(i,wR(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(W0(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,W0(i,r),i}function wR(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}wh=Wt.atob.bind(Wt),q1=Wt.btoa.bind(Wt);var Jx="0123456789abcdef".split("");function _R(n){for(var e="",t=0;t<4;t++)e+=Jx[n>>8*t+4&15]+Jx[n>>8*t&15];return e}function SR(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function H1(n){return J_(n).map(SR).join("")}var AR=function(n){for(var e=0;e<n.length;e++)n[e]=_R(n[e]);return n.join("")}(J_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Au(n,e){if(AR){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function G1(n,e){var t,i,r,s;if(n!==t){for(var o=(r=n,s=1+(256/n.length>>0),new Array(s+1).join(r)),u=[],c=0;c<256;c++)u[c]=c;var f=0;for(c=0;c<256;c++){var h=u[c];f=(f+h+o.charCodeAt(c))%256,u[c]=u[f],u[f]=h}t=n,i=u}else u=i;var y=e.length,b=0,x=0,N="";for(c=0;c<y;c++)x=(x+(h=u[b=(b+1)%256]))%256,u[b]=u[x],u[x]=h,o=u[(u[b]+u[x])%256],N+=String.fromCharCode(e.charCodeAt(c)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Zx={print:4,modify:8,copy:16,"annot-forms":32};function Lf(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(u){if(Zx.perm!==void 0)throw new Error("Invalid permission: "+u);r+=Zx[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=H1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=G1(this.encryptionKey,this.padding)}function Pf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=n[i]}return e}function Xx(n){if(ei(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!r],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,i)}catch(u){Wt.console&&li.error("jsPDF PubSub Error",u.message,u)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Jg(n){if(!(this instanceof Jg))return new Jg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Z_(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Nc(n,e,t,i,r){if(!(this instanceof Nc))return new Nc(n,e,t,i,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,Z_.call(this,i,r)}function Of(n,e,t,i,r){if(!(this instanceof Of))return new Of(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Z_.call(this,i,r)}function Ht(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],u=1,c=16,f="S",h=null;ei(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,b={},x={internal:{},__private__:{}};x.__private__.PubSub=Xx;var N="1.3",T=x.__private__.getPdfVersion=function(){return N};x.__private__.setPdfVersion=function(C){N=C};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return M};var k=x.__private__.getPageFormat=function(C){return M[C]};r=r||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},I=P.COMPAT;function J(){this.saveGraphicsState(),fe(new gt(lt,0,0,-lt,0,co()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),f="n",I=P.ADVANCED}function H(){this.restoreGraphicsState(),f="S",I=P.COMPAT}var K=x.__private__.combineFontStyleAndFontWeight=function(C,F){if(C=="bold"&&F=="normal"||C=="bold"&&F==400||C=="normal"&&F=="italic"||C=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(C=F==400||F==="normal"?C==="italic"?"italic":"normal":F!=700&&F!=="bold"||C!=="normal"?(F==700?"bold":F)+""+C:"bold"),C};x.advancedAPI=function(C){var F=I===P.COMPAT;return F&&J.call(this),typeof C!="function"||(C(this),F&&H.call(this)),this},x.compatAPI=function(C){var F=I===P.ADVANCED;return F&&H.call(this),typeof C!="function"||(C(this),F&&J.call(this)),this},x.isAdvancedAPI=function(){return I===P.ADVANCED};var X,U=function(C){if(I!==P.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=x.roundToPrecision=x.__private__.roundToPrecision=function(C,F){var le=e||F;if(isNaN(C)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(le).replace(/0+$/,"")};X=x.hpf=x.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(C,16)};var de=x.f2=x.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return ee(C,2)},B=x.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return ee(C,3)},q=x.scale=x.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return I===P.COMPAT?C*lt:I===P.ADVANCED?C:void 0},oe=function(C){return I===P.COMPAT?co()-C:I===P.ADVANCED?C:void 0},ne=function(C){return q(oe(C))};x.__private__.setPrecision=x.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var ie,G="00000000000000000000000000000000",te=x.__private__.getFileId=function(){return G},ae=x.__private__.setFileId=function(C){return G=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ji=new Lf(h.userPermissions,h.userPassword,h.ownerPassword,G)),G};x.setFileId=function(C){return ae(C),this},x.getFileId=function(){return te()};var pe=x.__private__.convertDateToPDFDate=function(C){var F=C.getTimezoneOffset(),le=F<0?"+":"-",ge=Math.floor(Math.abs(F/60)),Ne=Math.abs(F%60),Fe=[le,Q(ge),"'",Q(Ne),"'"].join("");return["D:",C.getFullYear(),Q(C.getMonth()+1),Q(C.getDate()),Q(C.getHours()),Q(C.getMinutes()),Q(C.getSeconds()),Fe].join("")},j=x.__private__.convertPDFDateToDate=function(C){var F=parseInt(C.substr(2,4),10),le=parseInt(C.substr(6,2),10)-1,ge=parseInt(C.substr(8,2),10),Ne=parseInt(C.substr(10,2),10),Fe=parseInt(C.substr(12,2),10),Je=parseInt(C.substr(14,2),10);return new Date(F,le,ge,Ne,Fe,Je,0)},me=x.__private__.setCreationDate=function(C){var F;if(C===void 0&&(C=new Date),C instanceof Date)F=pe(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=C}return ie=F},D=x.__private__.getCreationDate=function(C){var F=ie;return C==="jsDate"&&(F=j(ie)),F};x.setCreationDate=function(C){return me(C),this},x.getCreationDate=function(C){return D(C)};var Y,Q=x.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},ue=x.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},ce=0,ye=[],Se=[],Ee=0,$e=[],Ye=[],Qe=!1,Ke=Se,et=function(){ce=0,Ee=0,Se=[],ye=[],$e=[],pr=Nn(),Mn=Nn()};x.__private__.setCustomOutputDestination=function(C){Qe=!0,Ke=C};var De=function(C){Qe||(Ke=C)};x.__private__.resetCustomOutputDestination=function(){Qe=!1,Ke=Se};var fe=x.__private__.out=function(C){return C=C.toString(),Ee+=C.length+1,Ke.push(C),Ke},Et=x.__private__.write=function(C){return fe(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},yt=x.__private__.getArrayBuffer=function(C){for(var F=C.length,le=new ArrayBuffer(F),ge=new Uint8Array(le);F--;)ge[F]=C.charCodeAt(F);return le},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Ze};var nt=n.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(C){return nt=I===P.ADVANCED?C/lt:C,this};var st,it=x.__private__.getFontSize=x.getFontSize=function(){return I===P.COMPAT?nt:nt*lt},mt=n.R2L||!1;x.__private__.setR2L=x.setR2L=function(C){return mt=C,this},x.__private__.getR2L=x.getR2L=function(){return mt};var Pt,Kt=x.__private__.setZoomMode=function(C){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))st=C;else if(isNaN(C)){if(F.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');st=C}else st=parseInt(C,10)};x.__private__.getZoomMode=function(){return st};var jt,xt=x.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Pt=C};x.__private__.getPageMode=function(){return Pt};var Yt=x.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');jt=C};x.__private__.getLayoutMode=function(){return jt},x.__private__.setDisplayMode=x.setDisplayMode=function(C,F,le){return Kt(C),Yt(F),xt(le),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(C){if(Object.keys(bt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[C]},x.__private__.getDocumentProperties=function(){return bt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(C){for(var F in bt)bt.hasOwnProperty(F)&&C[F]&&(bt[F]=C[F]);return this},x.__private__.setDocumentProperty=function(C,F){if(Object.keys(bt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[C]=F};var Vt,lt,ui,zt,Ei,hn={},pn={},ci=[],yn={},os={},Rn={},ki={},Yi=null,Dn=0,Ot=[],Dt=new Xx(x),xi=n.hotfixes||[],ti={},nr={},kr=[],gt=function C(F,le,ge,Ne,Fe,Je){if(!(this instanceof C))return new C(F,le,ge,Ne,Fe,Je);isNaN(F)&&(F=1),isNaN(le)&&(le=0),isNaN(ge)&&(ge=0),isNaN(Ne)&&(Ne=1),isNaN(Fe)&&(Fe=0),isNaN(Je)&&(Je=0),this._matrix=[F,le,ge,Ne,Fe,Je]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(C)},gt.prototype.multiply=function(C){var F=C.sx*this.sx+C.shy*this.shx,le=C.sx*this.shy+C.shy*this.sy,ge=C.shx*this.sx+C.sy*this.shx,Ne=C.shx*this.shy+C.sy*this.sy,Fe=C.tx*this.sx+C.ty*this.shx+this.tx,Je=C.tx*this.shy+C.ty*this.sy+this.ty;return new gt(F,le,ge,Ne,Fe,Je)},gt.prototype.decompose=function(){var C=this.sx,F=this.shy,le=this.shx,ge=this.sy,Ne=this.tx,Fe=this.ty,Je=Math.sqrt(C*C+F*F),ct=(C/=Je)*le+(F/=Je)*ge;le-=C*ct,ge-=F*ct;var Nt=Math.sqrt(le*le+ge*ge);return ct/=Nt,C*(ge/=Nt)<F*(le/=Nt)&&(C=-C,F=-F,ct=-ct,Je=-Je),{scale:new gt(Je,0,0,Nt,0,0),translate:new gt(1,0,0,1,Ne,Fe),rotate:new gt(C,F,-F,C,0,0),skew:new gt(1,0,ct,1,0,0)}},gt.prototype.toString=function(C){return this.join(" ")},gt.prototype.inversed=function(){var C=this.sx,F=this.shy,le=this.shx,ge=this.sy,Ne=this.tx,Fe=this.ty,Je=1/(C*ge-F*le),ct=ge*Je,Nt=-F*Je,rn=-le*Je,Qt=C*Je;return new gt(ct,Nt,rn,Qt,-ct*Ne-rn*Fe,-Nt*Ne-Qt*Fe)},gt.prototype.applyToPoint=function(C){var F=C.x*this.sx+C.y*this.shx+this.tx,le=C.x*this.shy+C.y*this.sy+this.ty;return new Ul(F,le)},gt.prototype.applyToRectangle=function(C){var F=this.applyToPoint(C),le=this.applyToPoint(new Ul(C.x+C.w,C.y+C.h));return new Gu(F.x,F.y,le.x-F.x,le.y-F.y)},gt.prototype.clone=function(){var C=this.sx,F=this.shy,le=this.shx,ge=this.sy,Ne=this.tx,Fe=this.ty;return new gt(C,F,le,ge,Ne,Fe)},x.Matrix=gt;var In=x.matrixMult=function(C,F){return F.multiply(C)},Cn=new gt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Cn;var ni=function(C,F){if(!os[C]){var le=(F instanceof Nc?"Sh":"P")+(Object.keys(yn).length+1).toString(10);F.id=le,os[C]=le,yn[le]=F,Dt.publish("addPattern",F)}};x.ShadingPattern=Nc,x.TilingPattern=Of,x.addShadingPattern=function(C,F){return U("addShadingPattern()"),ni(C,F),this},x.beginTilingPattern=function(C){U("beginTilingPattern()"),Vl(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},x.endTilingPattern=function(C,F){U("endTilingPattern()"),F.stream=Ye[Y].join(`
`),ni(C,F),Dt.publish("endTilingPattern",F),kr.pop().restore()};var kn=x.__private__.newObject=function(){var C=Nn();return Sr(C,!0),C},Nn=x.__private__.newObjectDeferred=function(){return ce++,ye[ce]=function(){return Ee},ce},Sr=function(C,F){return F=typeof F=="boolean"&&F,ye[C]=Ee,F&&fe(C+" 0 obj"),C},Yn=x.__private__.newAdditionalObject=function(){var C={objId:Nn(),content:""};return $e.push(C),C},pr=Nn(),Mn=Nn(),fi=x.__private__.decodeColorString=function(C){var F=C.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var le=parseFloat(F[0]);F=[le,le,le,"r"]}for(var ge="#",Ne=0;Ne<3;Ne++)ge+=("0"+Math.floor(255*parseFloat(F[Ne])).toString(16)).slice(-2);return ge},di=x.__private__.encodeColorString=function(C){var F;typeof C=="string"&&(C={ch1:C});var le=C.ch1,ge=C.ch2,Ne=C.ch3,Fe=C.ch4,Je=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var ct=new $_(le);if(ct.ok)le=ct.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var Nt=parseInt(le.substr(1),16);le=Nt>>16&255,ge=Nt>>8&255,Ne=255&Nt}if(ge===void 0||Fe===void 0&&le===ge&&ge===Ne)if(typeof le=="string")F=le+" "+Je[0];else switch(C.precision){case 2:F=de(le/255)+" "+Je[0];break;case 3:default:F=B(le/255)+" "+Je[0]}else if(Fe===void 0||ei(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return F=["1.","1.","1.",Je[1]].join(" ");if(typeof le=="string")F=[le,ge,Ne,Je[1]].join(" ");else switch(C.precision){case 2:F=[de(le/255),de(ge/255),de(Ne/255),Je[1]].join(" ");break;default:case 3:F=[B(le/255),B(ge/255),B(Ne/255),Je[1]].join(" ")}}else if(typeof le=="string")F=[le,ge,Ne,Fe,Je[2]].join(" ");else switch(C.precision){case 2:F=[de(le),de(ge),de(Ne),de(Fe),Je[2]].join(" ");break;case 3:default:F=[B(le),B(ge),B(Ne),B(Fe),Je[2]].join(" ")}return F},gr=x.__private__.getFilters=function(){return o},ai=x.__private__.putStream=function(C){var F=(C=C||{}).data||"",le=C.filters||gr(),ge=C.alreadyAppliedFilters||[],Ne=C.addLength1||!1,Fe=F.length,Je=C.objectId,ct=function(Vi){return Vi};if(h!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(ct=ji.encryptor(Je,0));var Nt={};le===!0&&(le=["FlateEncode"]);var rn=C.additionalKeyValues||[],Qt=(Nt=Ht.API.processDataByFilters!==void 0?Ht.API.processDataByFilters(F,le):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Nt.data.length!==0&&(rn.push({key:"Length",value:Nt.data.length}),Ne===!0&&rn.push({key:"Length1",value:Fe})),Qt.length!=0)if(Qt.split("/").length-1==1)rn.push({key:"Filter",value:Qt});else{rn.push({key:"Filter",value:"["+Qt+"]"});for(var bn=0;bn<rn.length;bn+=1)if(rn[bn].key==="DecodeParms"){for(var pi=[],wi=0;wi<Nt.reverseChain.split("/").length-1;wi+=1)pi.push("null");pi.push(rn[bn].value),rn[bn].value="["+pi.join(" ")+"]"}}fe("<<");for(var Ui=0;Ui<rn.length;Ui++)fe("/"+rn[Ui].key+" "+rn[Ui].value);fe(">>"),Nt.data.length!==0&&(fe("stream"),fe(ct(Nt.data)),fe("endstream"))},Xt=x.__private__.putPage=function(C){var F=C.number,le=C.data,ge=C.objId,Ne=C.contentsObjId;Sr(ge,!0),fe("<</Type /Page"),fe("/Parent "+C.rootDictionaryObjId+" 0 R"),fe("/Resources "+C.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(X(C.mediaBox.bottomLeftX))+" "+parseFloat(X(C.mediaBox.bottomLeftY))+" "+X(C.mediaBox.topRightX)+" "+X(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&fe("/CropBox ["+X(C.cropBox.bottomLeftX)+" "+X(C.cropBox.bottomLeftY)+" "+X(C.cropBox.topRightX)+" "+X(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&fe("/BleedBox ["+X(C.bleedBox.bottomLeftX)+" "+X(C.bleedBox.bottomLeftY)+" "+X(C.bleedBox.topRightX)+" "+X(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&fe("/TrimBox ["+X(C.trimBox.bottomLeftX)+" "+X(C.trimBox.bottomLeftY)+" "+X(C.trimBox.topRightX)+" "+X(C.trimBox.topRightY)+"]"),C.artBox!==null&&fe("/ArtBox ["+X(C.artBox.bottomLeftX)+" "+X(C.artBox.bottomLeftY)+" "+X(C.artBox.topRightX)+" "+X(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&fe("/UserUnit "+C.userUnit),Dt.publish("putPage",{objId:ge,pageContext:Ot[F],pageNumber:F,page:le}),fe("/Contents "+Ne+" 0 R"),fe(">>"),fe("endobj");var Fe=le.join(`
`);return I===P.ADVANCED&&(Fe+=`
Q`),Sr(Ne,!0),ai({data:Fe,filters:gr(),objectId:Ne}),fe("endobj"),ge},ls=x.__private__.putPages=function(){var C,F,le=[];for(C=1;C<=Dn;C++)Ot[C].objId=Nn(),Ot[C].contentsObjId=Nn();for(C=1;C<=Dn;C++)le.push(Xt({number:C,data:Ye[C],objId:Ot[C].objId,contentsObjId:Ot[C].contentsObjId,mediaBox:Ot[C].mediaBox,cropBox:Ot[C].cropBox,bleedBox:Ot[C].bleedBox,trimBox:Ot[C].trimBox,artBox:Ot[C].artBox,userUnit:Ot[C].userUnit,rootDictionaryObjId:pr,resourceDictionaryObjId:Mn}));Sr(pr,!0),fe("<</Type /Pages");var ge="/Kids [";for(F=0;F<Dn;F++)ge+=le[F]+" 0 R ";fe(ge+"]"),fe("/Count "+Dn),fe(">>"),fe("endobj"),Dt.publish("postPutPages")},Ar=function(C){Dt.publish("putFont",{font:C,out:fe,newObject:kn,putStream:ai}),C.isAlreadyPutted!==!0&&(C.objectNumber=kn(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Pf(C.postScriptName)),fe("/Subtype /Type1"),typeof C.encoding=="string"&&fe("/Encoding /"+C.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},bi=function(){for(var C in hn)hn.hasOwnProperty(C)&&(y===!1||y===!0&&b.hasOwnProperty(C))&&Ar(hn[C])},Bi=function(C){C.objectNumber=kn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[X(C.x),X(C.y),X(C.x+C.width),X(C.y+C.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var le=C.pages[1].join(`
`);ai({data:le,additionalKeyValues:F,objectId:C.objectNumber}),fe("endobj")},Rs=function(){for(var C in ti)ti.hasOwnProperty(C)&&Bi(ti[C])},Qs=function(C,F){var le,ge=[],Ne=1/(F-1);for(le=0;le<1;le+=Ne)ge.push(le);if(ge.push(1),C[0].offset!=0){var Fe={offset:0,color:C[0].color};C.unshift(Fe)}if(C[C.length-1].offset!=1){var Je={offset:1,color:C[C.length-1].color};C.push(Je)}for(var ct="",Nt=0,rn=0;rn<ge.length;rn++){for(le=ge[rn];le>C[Nt+1].offset;)Nt++;var Qt=C[Nt].offset,bn=(le-Qt)/(C[Nt+1].offset-Qt),pi=C[Nt].color,wi=C[Nt+1].color;ct+=ue(Math.round((1-bn)*pi[0]+bn*wi[0]).toString(16))+ue(Math.round((1-bn)*pi[1]+bn*wi[1]).toString(16))+ue(Math.round((1-bn)*pi[2]+bn*wi[2]).toString(16))}return ct.trim()},ea=function(C,F){F||(F=21);var le=kn(),ge=Qs(C.colors,F),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+F+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ai({data:ge,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),fe("endobj"),C.objectNumber=kn(),fe("<< /ShadingType "+C.type),fe("/ColorSpace /DeviceRGB");var Fe="/Coords ["+X(parseFloat(C.coords[0]))+" "+X(parseFloat(C.coords[1]))+" ";C.type===2?Fe+=X(parseFloat(C.coords[2]))+" "+X(parseFloat(C.coords[3])):Fe+=X(parseFloat(C.coords[2]))+" "+X(parseFloat(C.coords[3]))+" "+X(parseFloat(C.coords[4]))+" "+X(parseFloat(C.coords[5])),fe(Fe+="]"),C.matrix&&fe("/Matrix ["+C.matrix.toString()+"]"),fe("/Function "+le+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},ro=function(C,F){var le=Nn(),ge=kn();F.push({resourcesOid:le,objectOid:ge}),C.objectNumber=ge;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+C.boundingBox.map(X).join(" ")+"]"}),Ne.push({key:"XStep",value:X(C.xStep)}),Ne.push({key:"YStep",value:X(C.yStep)}),Ne.push({key:"Resources",value:le+" 0 R"}),C.matrix&&Ne.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),ai({data:C.stream,additionalKeyValues:Ne,objectId:C.objectNumber}),fe("endobj")},Hr=function(C){var F;for(F in yn)yn.hasOwnProperty(F)&&(yn[F]instanceof Nc?ea(yn[F]):yn[F]instanceof Of&&ro(yn[F],C))},wt=function(C){for(var F in C.objectNumber=kn(),fe("<<"),C)switch(F){case"opacity":fe("/ca "+de(C[F]));break;case"stroke-opacity":fe("/CA "+de(C[F]))}fe(">>"),fe("endobj")},vt=function(){var C;for(C in Rn)Rn.hasOwnProperty(C)&&wt(Rn[C])},we=function(){for(var C in fe("/XObject <<"),ti)ti.hasOwnProperty(C)&&ti[C].objectNumber>=0&&fe("/"+C+" "+ti[C].objectNumber+" 0 R");Dt.publish("putXobjectDict"),fe(">>")},Ce=function(){ji.oid=kn(),fe("<<"),fe("/Filter /Standard"),fe("/V "+ji.v),fe("/R "+ji.r),fe("/U <"+ji.toHexString(ji.U)+">"),fe("/O <"+ji.toHexString(ji.O)+">"),fe("/P "+ji.P),fe(">>"),fe("endobj")},qe=function(){for(var C in fe("/Font <<"),hn)hn.hasOwnProperty(C)&&(y===!1||y===!0&&b.hasOwnProperty(C))&&fe("/"+C+" "+hn[C].objectNumber+" 0 R");fe(">>")},Xe=function(){if(Object.keys(yn).length>0){for(var C in fe("/Shading <<"),yn)yn.hasOwnProperty(C)&&yn[C]instanceof Nc&&yn[C].objectNumber>=0&&fe("/"+C+" "+yn[C].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),fe(">>")}},je=function(C){if(Object.keys(yn).length>0){for(var F in fe("/Pattern <<"),yn)yn.hasOwnProperty(F)&&yn[F]instanceof x.TilingPattern&&yn[F].objectNumber>=0&&yn[F].objectNumber<C&&fe("/"+F+" "+yn[F].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),fe(">>")}},dt=function(){if(Object.keys(Rn).length>0){var C;for(C in fe("/ExtGState <<"),Rn)Rn.hasOwnProperty(C)&&Rn[C].objectNumber>=0&&fe("/"+C+" "+Rn[C].objectNumber+" 0 R");Dt.publish("putGStateDict"),fe(">>")}},ut=function(C){Sr(C.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),qe(),Xe(),je(C.objectOid),dt(),we(),fe(">>"),fe("endobj")},_t=function(){var C=[];bi(),vt(),Rs(),Hr(C),Dt.publish("putResources"),C.forEach(ut),ut({resourcesOid:Mn,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources")},Ft=function(){Dt.publish("putAdditionalObjects");for(var C=0;C<$e.length;C++){var F=$e[C];Sr(F.objId,!0),fe(F.content),fe("endobj")}Dt.publish("postPutAdditionalObjects")},cn=function(C){pn[C.fontName]=pn[C.fontName]||{},pn[C.fontName][C.fontStyle]=C.id},ht=function(C,F,le,ge,Ne){var Fe={id:"F"+(Object.keys(hn).length+1).toString(10),postScriptName:C,fontName:F,fontStyle:le,encoding:ge,isStandardFont:Ne||!1,metadata:{}};return Dt.publish("addFont",{font:Fe,instance:this}),hn[Fe.id]=Fe,cn(Fe),Fe.id},Ct=function(C){for(var F=0,le=Ze.length;F<le;F++){var ge=ht.call(this,C[F][0],C[F][1],C[F][2],Ze[F][3],!0);y===!1&&(b[ge]=!0);var Ne=C[F][0].split("-");cn({id:ge,fontName:Ne[0],fontStyle:Ne[1]||""})}Dt.publish("addFonts",{fonts:hn,dictionary:pn})},It=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(ge){var F=ge.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var le="Error in function "+F.split(`
`)[0].split("<")[0]+": "+ge.message;if(!Wt.console)throw new Error(le);Wt.console.error(le,ge),Wt.alert&&alert(le)}},C.foo.bar=C,C.foo},en=function(C,F){var le,ge,Ne,Fe,Je,ct,Nt,rn,Qt;if(Ne=(F=F||{}).sourceEncoding||"Unicode",Je=F.outputEncoding,(F.autoencode||Je)&&hn[Vt].metadata&&hn[Vt].metadata[Ne]&&hn[Vt].metadata[Ne].encoding&&(Fe=hn[Vt].metadata[Ne].encoding,!Je&&hn[Vt].encoding&&(Je=hn[Vt].encoding),!Je&&Fe.codePages&&(Je=Fe.codePages[0]),typeof Je=="string"&&(Je=Fe[Je]),Je)){for(Nt=!1,ct=[],le=0,ge=C.length;le<ge;le++)(rn=Je[C.charCodeAt(le)])?ct.push(String.fromCharCode(rn)):ct.push(C[le]),ct[le].charCodeAt(0)>>8&&(Nt=!0);C=ct.join("")}for(le=C.length;Nt===void 0&&le!==0;)C.charCodeAt(le-1)>>8&&(Nt=!0),le--;if(!Nt)return C;for(ct=F.noBOM?[]:[254,255],le=0,ge=C.length;le<ge;le++){if((Qt=(rn=C.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(Qt),ct.push(rn-(Qt<<8))}return String.fromCharCode.apply(void 0,ct)},kt=x.__private__.pdfEscape=x.pdfEscape=function(C,F){return en(C,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},On=x.__private__.beginPage=function(C){Ye[++Dn]=[],Ot[Dn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},zi(Dn),De(Ye[Y])},hi=function(C,F){var le,ge,Ne;switch(t=F||t,typeof C=="string"&&(le=k(C.toLowerCase()),Array.isArray(le)&&(ge=le[0],Ne=le[1])),Array.isArray(C)&&(ge=C[0]*lt,Ne=C[1]*lt),isNaN(ge)&&(ge=r[0],Ne=r[1]),(ge>14400||Ne>14400)&&(li.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ne=Math.min(14400,Ne)),r=[ge,Ne],t.substr(0,1)){case"l":Ne>ge&&(r=[Ne,ge]);break;case"p":ge>Ne&&(r=[Ne,ge])}On(r),Gc(oo),fe(Ds),Hu!==0&&fe(Hu+" J"),jl!==0&&fe(jl+" j"),Dt.publish("addPage",{pageNumber:Dn})},$n=function(C){C>0&&C<=Dn&&(Ye.splice(C,1),Ot.splice(C,1),Dn--,Y>Dn&&(Y=Dn),this.setPage(Y))},zi=function(C){C>0&&C<=Dn&&(Y=C)},Tr=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Ye.length-1},vn=function(C,F,le){var ge,Ne=void 0;return le=le||{},C=C!==void 0?C:hn[Vt].fontName,F=F!==void 0?F:hn[Vt].fontStyle,ge=C.toLowerCase(),pn[ge]!==void 0&&pn[ge][F]!==void 0?Ne=pn[ge][F]:pn[C]!==void 0&&pn[C][F]!==void 0?Ne=pn[C][F]:le.disableWarning===!1&&li.warn("Unable to look up font label for font '"+C+"', '"+F+"'. Refer to getFontList() for available fonts."),Ne||le.noFallback||(Ne=pn.times[F])==null&&(Ne=pn.times.normal),Ne},ir=x.__private__.putInfo=function(){var C=kn(),F=function(ge){return ge};for(var le in h!==null&&(F=ji.encryptor(C,0)),fe("<<"),fe("/Producer ("+kt(F("jsPDF "+Ht.version))+")"),bt)bt.hasOwnProperty(le)&&bt[le]&&fe("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+kt(F(bt[le]))+")");fe("/CreationDate ("+kt(F(ie))+")"),fe(">>"),fe("endobj")},Wn=x.__private__.putCatalog=function(C){var F=(C=C||{}).rootDictionaryObjId||pr;switch(kn(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+F+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+st;le.substr(le.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+de(st)+"]")}switch(jt||(jt="continuous"),jt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}Pt&&fe("/PageMode /"+Pt),Dt.publish("putCatalog"),fe(">>"),fe("endobj")},Mi=x.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(ce+1)),fe("/Root "+ce+" 0 R"),fe("/Info "+(ce-1)+" 0 R"),h!==null&&fe("/Encrypt "+ji.oid+" 0 R"),fe("/ID [ <"+G+"> <"+G+"> ]"),fe(">>")},Sa=x.__private__.putHeader=function(){fe("%PDF-"+N),fe("%ºß¬à")},Gr=x.__private__.putXRef=function(){var C="0000000000";fe("xref"),fe("0 "+(ce+1)),fe("0000000000 65535 f ");for(var F=1;F<=ce;F++)typeof ye[F]=="function"?fe((C+ye[F]()).slice(-10)+" 00000 n "):ye[F]!==void 0?fe((C+ye[F]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},ys=x.__private__.buildDocument=function(){et(),De(Se),Dt.publish("buildDocument"),Sa(),ls(),Ft(),_t(),h!==null&&Ce(),ir(),Wn();var C=Ee;return Gr(),Mi(),fe("startxref"),fe(""+C),fe("%%EOF"),De(Ye[Y]),Se.join(`
`)},Aa=x.__private__.getBlob=function(C){return new Blob([yt(C)],{type:"application/pdf"})},vs=x.output=x.__private__.output=It(function(C,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",C){case void 0:return ys();case"save":x.save(F.filename);break;case"arraybuffer":return yt(ys());case"blob":return Aa(ys());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(Aa(ys()))||void 0;li.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ge=ys();try{le=q1(ge)}catch{le=q1(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+F.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(Ne=F.pdfObjectUrl,Fe="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",ct=Wt.open();return ct!==null&&ct.document.write(Je),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',rn=Wt.open();if(rn!==null){rn.document.write(Nt);var Qt=this;rn.document.documentElement.querySelector("#pdfViewer").onload=function(){rn.document.title=F.filename,rn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Qt.output("bloburl"))}}return rn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',pi=Wt.open();if(pi!==null&&(pi.document.write(bn),pi.document.title=F.filename),pi||typeof safari>"u")return pi;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",F);default:return null}}),Ta=function(C){return Array.isArray(xi)===!0&&xi.indexOf(C)>-1};switch(i){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=Ta("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);lt=i}var ji=null;me(),ae();var so=function(C){return h!==null?ji.encryptor(C,0):function(F){return F}},Ca=x.__private__.getPageInfo=x.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[C].objId,pageNumber:C,pageContext:Ot[C]}},$t=x.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in Ot)if(Ot[F].objId===C)break;return Ca(F)},Vu=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Ot[Y].objId,pageNumber:Y,pageContext:Ot[Y]}};x.addPage=function(){return hi.apply(this,arguments),this},x.setPage=function(){return zi.apply(this,arguments),De.call(this,Ye[Y]),this},x.insertPage=function(C){return this.addPage(),this.movePage(Y,C),this},x.movePage=function(C,F){var le,ge;if(C>F){le=Ye[C],ge=Ot[C];for(var Ne=C;Ne>F;Ne--)Ye[Ne]=Ye[Ne-1],Ot[Ne]=Ot[Ne-1];Ye[F]=le,Ot[F]=ge,this.setPage(F)}else if(C<F){le=Ye[C],ge=Ot[C];for(var Fe=C;Fe<F;Fe++)Ye[Fe]=Ye[Fe+1],Ot[Fe]=Ot[Fe+1];Ye[F]=le,Ot[F]=ge,this.setPage(F)}return this},x.deletePage=function(){return $n.apply(this,arguments),this},x.__private__.text=x.text=function(C,F,le,ge,Ne){var Fe,Je,ct,Nt,rn,Qt,bn,pi,wi,Ui=(ge=ge||{}).scope||this;if(typeof C=="number"&&typeof F=="number"&&(typeof le=="string"||Array.isArray(le))){var Vi=le;le=F,F=C,C=Vi}if(arguments[3]instanceof gt?(U("The transform parameter of text() with a Matrix value"),wi=Ne):(ct=arguments[4],Nt=arguments[5],ei(bn=arguments[3])==="object"&&bn!==null||(typeof ct=="string"&&(Nt=ct,ct=null),typeof bn=="string"&&(Nt=bn,bn=null),typeof bn=="number"&&(ct=bn,bn=null),ge={flags:bn,angle:ct,align:Nt})),isNaN(F)||isNaN(le)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Ui;var mr="",Is=!1,fs=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:us,Os=Ui.internal.scaleFactor;function Yu(gn){return gn=gn.split("	").join(Array(ge.TabLen||9).join(" ")),kt(gn,bn)}function Ea(gn){for(var mn,ii=gn.concat(),qi=[],_s=ii.length;_s--;)typeof(mn=ii.shift())=="string"?qi.push(mn):Array.isArray(gn)&&(mn.length===1||mn[1]===void 0&&mn[2]===void 0)?qi.push(mn[0]):qi.push([mn[0],mn[1],mn[2]]);return qi}function ka(gn,mn){var ii;if(typeof gn=="string")ii=mn(gn)[0];else if(Array.isArray(gn)){for(var qi,_s,wo=gn.concat(),_o=[],Pa=wo.length;Pa--;)typeof(qi=wo.shift())=="string"?_o.push(mn(qi)[0]):Array.isArray(qi)&&typeof qi[0]=="string"&&(_s=mn(qi[0],qi[1],qi[2]),_o.push([_s[0],_s[1],_s[2]]));ii=_o}return ii}var Gl=!1,fo=!0;if(typeof C=="string")Gl=!0;else if(Array.isArray(C)){var Wl=C.concat();Je=[];for(var Zo,rr=Wl.length;rr--;)(typeof(Zo=Wl.shift())!="string"||Array.isArray(Zo)&&typeof Zo[0]!="string")&&(fo=!1);Gl=fo}if(Gl===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var ho=nt/Ui.internal.scaleFactor,Xo=ho*(fs-1);switch(ge.baseline){case"bottom":le-=Xo;break;case"top":le+=ho-Xo;break;case"hanging":le+=ho-2*Xo;break;case"middle":le+=ho/2-Xo}if((Qt=ge.maxWidth||0)>0&&(typeof C=="string"?C=Ui.splitTextToSize(C,Qt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(gn,mn){return gn.concat(Ui.splitTextToSize(mn,Qt))},[]))),Fe={text:C,x:F,y:le,options:ge,mutex:{pdfEscape:kt,activeFontKey:Vt,fonts:hn,activeFontSize:nt}},Dt.publish("preProcessText",Fe),C=Fe.text,ct=(ge=Fe.options).angle,!(wi instanceof gt)&&ct&&typeof ct=="number"){ct*=Math.PI/180,ge.rotationDirection===0&&(ct=-ct),I===P.ADVANCED&&(ct=-ct);var Qo=Math.cos(ct),Kl=Math.sin(ct);wi=new gt(Qo,Kl,-Kl,Qo,0,0)}else ct&&ct instanceof gt&&(wi=ct);I!==P.ADVANCED||wi||(wi=Cn),(rn=ge.charSpace||zl)!==void 0&&(mr+=X(q(rn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pi=ge.horizontalScale)!==void 0&&(mr+=X(100*pi)+` Tz
`),ge.lang;var Kr=-1,cd=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,$u=Ui.internal.getCurrentPageInfo().pageContext;switch(cd){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var Kc=$u.usedRenderingMode!==void 0?$u.usedRenderingMode:-1;Kr!==-1?mr+=Kr+` Tr
`:Kc!==-1&&(mr+=`0 Tr
`),Kr!==-1&&($u.usedRenderingMode=Kr),Nt=ge.align||"left";var ws,yr=nt*fs,po=Ui.internal.pageSize.getWidth(),Ju=hn[Vt];rn=ge.charSpace||zl,Qt=ge.maxWidth||0,bn=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Ma=[],go=function(gn){return Ui.getStringUnitWidth(gn,{font:Ju,charSpace:rn,fontSize:nt,doKerning:!1})*nt/Os};if(Object.prototype.toString.call(C)==="[object Array]"){var Br;Je=Ea(C),Nt!=="left"&&(ws=Je.map(go));var Cr,mo=0;if(Nt==="right"){F-=ws[0],C=[],rr=Je.length;for(var Yr=0;Yr<rr;Yr++)Yr===0?(Cr=cs(F),Br=ra(le)):(Cr=q(mo-ws[Yr]),Br=-yr),C.push([Je[Yr],Cr,Br]),mo=ws[Yr]}else if(Nt==="center"){F-=ws[0]/2,C=[],rr=Je.length;for(var Fs=0;Fs<rr;Fs++)Fs===0?(Cr=cs(F),Br=ra(le)):(Cr=q((mo-ws[Fs])/2),Br=-yr),C.push([Je[Fs],Cr,Br]),mo=ws[Fs]}else if(Nt==="left"){C=[],rr=Je.length;for(var sa=0;sa<rr;sa++)C.push(Je[sa])}else if(Nt==="justify"&&Ju.encoding==="Identity-H"){C=[],rr=Je.length,Qt=Qt!==0?Qt:po;for(var Bs=0,Li=0;Li<rr;Li++)if(Br=Li===0?ra(le):-yr,Cr=Li===0?cs(F):Bs,Li<rr-1){var zs=q((Qt-ws[Li])/(Je[Li].split(" ").length-1)),$i=Je[Li].split(" ");C.push([$i[0]+" ",Cr,Br]),Bs=0;for(var $r=1;$r<$i.length;$r++){var el=(go($i[$r-1]+" "+$i[$r])-go($i[$r]))*Os+zs;$r==$i.length-1?C.push([$i[$r],el,0]):C.push([$i[$r]+" ",el,0]),Bs-=el}}else C.push([Je[Li],Cr,Br]);C.push(["",Bs,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],rr=Je.length,Qt=Qt!==0?Qt:po,Li=0;Li<rr;Li++)Br=Li===0?ra(le):-yr,Cr=Li===0?cs(F):0,Li<rr-1?Ma.push(X(q((Qt-ws[Li])/(Je[Li].split(" ").length-1)))):Ma.push(0),C.push([Je[Li],Cr,Br])}}var aa=typeof ge.R2L=="boolean"?ge.R2L:mt;aa===!0&&(C=ka(C,function(gn,mn,ii){return[gn.split("").reverse().join(""),mn,ii]})),Fe={text:C,x:F,y:le,options:ge,mutex:{pdfEscape:kt,activeFontKey:Vt,fonts:hn,activeFontSize:nt}},Dt.publish("postProcessText",Fe),C=Fe.text,Is=Fe.mutex.isHex||!1;var Yl=hn[Vt].encoding;Yl!=="WinAnsiEncoding"&&Yl!=="StandardEncoding"||(C=ka(C,function(gn,mn,ii){return[Yu(gn),mn,ii]})),Je=Ea(C),C=[];for(var yo,vo,xo,tl=0,$l=1,bo=Array.isArray(Je[0])?$l:tl,La="",nl=function(gn,mn,ii){var qi="";return ii instanceof gt?(ii=typeof ge.angle=="number"?In(ii,new gt(1,0,0,1,gn,mn)):In(new gt(1,0,0,1,gn,mn),ii),I===P.ADVANCED&&(ii=In(new gt(1,0,0,-1,0,0),ii)),qi=ii.join(" ")+` Tm
`):qi=X(gn)+" "+X(mn)+` Td
`,qi},Pi=0;Pi<Je.length;Pi++){switch(La="",bo){case $l:xo=(Is?"<":"(")+Je[Pi][0]+(Is?">":")"),yo=parseFloat(Je[Pi][1]),vo=parseFloat(Je[Pi][2]);break;case tl:xo=(Is?"<":"(")+Je[Pi]+(Is?">":")"),yo=cs(F),vo=ra(le)}Ma!==void 0&&Ma[Pi]!==void 0&&(La=Ma[Pi]+` Tw
`),Pi===0?C.push(La+nl(yo,vo,wi)+xo):bo===tl?C.push(La+xo):bo===$l&&C.push(La+nl(yo,vo,wi)+xo)}C=bo===tl?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var ds=`BT
/`;return ds+=Vt+" "+nt+` Tf
`,ds+=X(nt*fs)+` TL
`,ds+=$o+`
`,ds+=mr,ds+=C,fe(ds+="ET"),b[Vt]=!0,Ui};var qc=x.__private__.clip=x.clip=function(C){return fe(C==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return qc("evenodd")},x.__private__.discardPath=x.discardPath=function(){return fe("n"),this};var Wr=x.__private__.isValidStyle=function(C){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(F=!0),F};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(C){return Wr(C)&&(f=C),this};var xs=x.__private__.getStyle=x.getStyle=function(C){var F=f;switch(C){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=C}return F},Il=x.close=function(){return fe("h"),this};x.stroke=function(){return fe("S"),this},x.fill=function(C){return ta("f",C),this},x.fillEvenOdd=function(C){return ta("f*",C),this},x.fillStroke=function(C){return ta("B",C),this},x.fillStrokeEvenOdd=function(C){return ta("B*",C),this};var ta=function(C,F){ei(F)==="object"?Ol(F,C):fe(C)},bs=function(C){C===null||I===P.ADVANCED&&C===void 0||(C=xs(C),fe(C))};function qu(C,F,le,ge,Ne){var Fe=new Of(F||this.boundingBox,le||this.xStep,ge||this.yStep,this.gState,Ne||this.matrix);Fe.stream=this.stream;var Je=C+"$$"+this.cloneIndex+++"$$";return ni(Je,Fe),Fe}var Ol=function(C,F){var le=os[C.key],ge=yn[le];if(ge instanceof Nc)fe("q"),fe(Hc(F)),ge.gState&&x.setGState(ge.gState),fe(C.matrix.toString()+" cm"),fe("/"+le+" sh"),fe("Q");else if(ge instanceof Of){var Ne=new gt(1,0,0,-1,0,co());C.matrix&&(Ne=Ne.multiply(C.matrix||Cn),le=qu.call(ge,C.key,C.boundingBox,C.xStep,C.yStep,Ne).id),fe("q"),fe("/Pattern cs"),fe("/"+le+" scn"),ge.gState&&x.setGState(ge.gState),fe(F),fe("Q")}},Hc=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ao=x.moveTo=function(C,F){return fe(X(q(C))+" "+X(ne(F))+" m"),this},na=x.lineTo=function(C,F){return fe(X(q(C))+" "+X(ne(F))+" l"),this},Na=x.curveTo=function(C,F,le,ge,Ne,Fe){return fe([X(q(C)),X(ne(F)),X(q(le)),X(ne(ge)),X(q(Ne)),X(ne(Fe)),"c"].join(" ")),this};x.__private__.line=x.line=function(C,F,le,ge,Ne){if(isNaN(C)||isNaN(F)||isNaN(le)||isNaN(ge)||!Wr(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return I===P.COMPAT?this.lines([[le-C,ge-F]],C,F,[1,1],Ne||"S"):this.lines([[le-C,ge-F]],C,F,[1,1]).stroke()},x.__private__.lines=x.lines=function(C,F,le,ge,Ne,Fe){var Je,ct,Nt,rn,Qt,bn,pi,wi,Ui,Vi,mr,Is;if(typeof C=="number"&&(Is=le,le=F,F=C,C=Is),ge=ge||[1,1],Fe=Fe||!1,isNaN(F)||isNaN(le)||!Array.isArray(C)||!Array.isArray(ge)||!Wr(Ne)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ao(F,le),Je=ge[0],ct=ge[1],rn=C.length,Vi=F,mr=le,Nt=0;Nt<rn;Nt++)(Qt=C[Nt]).length===2?(Vi=Qt[0]*Je+Vi,mr=Qt[1]*ct+mr,na(Vi,mr)):(bn=Qt[0]*Je+Vi,pi=Qt[1]*ct+mr,wi=Qt[2]*Je+Vi,Ui=Qt[3]*ct+mr,Vi=Qt[4]*Je+Vi,mr=Qt[5]*ct+mr,Na(bn,pi,wi,Ui,Vi,mr));return Fe&&Il(),bs(Ne),this},x.path=function(C){for(var F=0;F<C.length;F++){var le=C[F],ge=le.c;switch(le.op){case"m":ao(ge[0],ge[1]);break;case"l":na(ge[0],ge[1]);break;case"c":Na.apply(this,ge);break;case"h":Il()}}return this},x.__private__.rect=x.rect=function(C,F,le,ge,Ne){if(isNaN(C)||isNaN(F)||isNaN(le)||isNaN(ge)||!Wr(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return I===P.COMPAT&&(ge=-ge),fe([X(q(C)),X(ne(F)),X(q(le)),X(q(ge)),"re"].join(" ")),bs(Ne),this},x.__private__.triangle=x.triangle=function(C,F,le,ge,Ne,Fe,Je){if(isNaN(C)||isNaN(F)||isNaN(le)||isNaN(ge)||isNaN(Ne)||isNaN(Fe)||!Wr(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-C,ge-F],[Ne-le,Fe-ge],[C-Ne,F-Fe]],C,F,[1,1],Je,!0),this},x.__private__.roundedRect=x.roundedRect=function(C,F,le,ge,Ne,Fe,Je){if(isNaN(C)||isNaN(F)||isNaN(le)||isNaN(ge)||isNaN(Ne)||isNaN(Fe)||!Wr(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*le),Fe=Math.min(Fe,.5*ge),this.lines([[le-2*Ne,0],[Ne*ct,0,Ne,Fe-Fe*ct,Ne,Fe],[0,ge-2*Fe],[0,Fe*ct,-Ne*ct,Fe,-Ne,Fe],[2*Ne-le,0],[-Ne*ct,0,-Ne,-Fe*ct,-Ne,-Fe],[0,2*Fe-ge],[0,-Fe*ct,Ne*ct,-Fe,Ne,-Fe]],C+Ne,F,[1,1],Je,!0),this},x.__private__.ellipse=x.ellipse=function(C,F,le,ge,Ne){if(isNaN(C)||isNaN(F)||isNaN(le)||isNaN(ge)||!Wr(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*le,Je=4/3*(Math.SQRT2-1)*ge;return ao(C+le,F),Na(C+le,F-Je,C+Fe,F-ge,C,F-ge),Na(C-Fe,F-ge,C-le,F-Je,C-le,F),Na(C-le,F+Je,C-Fe,F+ge,C,F+ge),Na(C+Fe,F+ge,C+le,F+Je,C+le,F),bs(Ne),this},x.__private__.circle=x.circle=function(C,F,le,ge){if(isNaN(C)||isNaN(F)||isNaN(le)||!Wr(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,F,le,le,ge)},x.setFont=function(C,F,le){return le&&(F=K(F,le)),Vt=vn(C,F,{disableWarning:!1}),this};var Mr=x.__private__.getFont=x.getFont=function(){return hn[vn.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var C,F,le={};for(C in pn)if(pn.hasOwnProperty(C))for(F in le[C]=[],pn[C])pn[C].hasOwnProperty(F)&&le[C].push(F);return le},x.addFont=function(C,F,le,ge,Ne){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(le=K(le,ge)),Ne=Ne||"Identity-H",ht.call(this,C,F,le,Ne)};var us,oo=n.lineWidth||.200025,ia=x.__private__.getLineWidth=x.getLineWidth=function(){return oo},Gc=x.__private__.setLineWidth=x.setLineWidth=function(C){return oo=C,fe(X(q(C))+" w"),this};x.__private__.setLineDash=Ht.API.setLineDash=Ht.API.setLineDashPattern=function(C,F){if(C=C||[],F=F||0,isNaN(F)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(le){return X(q(le))}).join(" "),F=X(q(F)),fe("["+C+"] "+F+" d"),this};var Fl=x.__private__.getLineHeight=x.getLineHeight=function(){return nt*us};x.__private__.getLineHeight=x.getLineHeight=function(){return nt*us};var Bl=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(us=C),this},lo=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return us};Bl(n.lineHeight);var cs=x.__private__.getHorizontalCoordinate=function(C){return q(C)},ra=x.__private__.getVerticalCoordinate=function(C){return I===P.ADVANCED?C:Ot[Y].mediaBox.topRightY-Ot[Y].mediaBox.bottomLeftY-q(C)},ad=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(C){return X(cs(C))},uo=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(C){return X(ra(C))},Ds=n.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return fi(Ds)},x.__private__.setStrokeColor=x.setDrawColor=function(C,F,le,ge){return Ds=di({ch1:C,ch2:F,ch3:le,ch4:ge,pdfColorType:"draw",precision:2}),fe(Ds),this};var Yo=n.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return fi(Yo)},x.__private__.setFillColor=x.setFillColor=function(C,F,le,ge){return Yo=di({ch1:C,ch2:F,ch3:le,ch4:ge,pdfColorType:"fill",precision:2}),fe(Yo),this};var $o=n.textColor||"0 g",od=x.__private__.getTextColor=x.getTextColor=function(){return fi($o)};x.__private__.setTextColor=x.setTextColor=function(C,F,le,ge){return $o=di({ch1:C,ch2:F,ch3:le,ch4:ge,pdfColorType:"text",precision:3}),this};var zl=n.charSpace,ld=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(zl||0)};x.__private__.setCharSpace=x.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zl=C,this};var Hu=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(C){var F=x.CapJoinStyles[C];if(F===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hu=F,fe(F+" J"),this};var jl=0;x.__private__.setLineJoin=x.setLineJoin=function(C){var F=x.CapJoinStyles[C];if(F===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jl=F,fe(F+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(X(q(C))+" M"),this},x.GState=Jg,x.setGState=function(C){(C=typeof C=="string"?Rn[ki[C]]:Wc(null,C)).equals(Yi)||(fe("/"+C.id+" gs"),Yi=C)};var Wc=function(C,F){if(!C||!ki[C]){var le=!1;for(var ge in Rn)if(Rn.hasOwnProperty(ge)&&Rn[ge].equals(F)){le=!0;break}if(le)F=Rn[ge];else{var Ne="GS"+(Object.keys(Rn).length+1).toString(10);Rn[Ne]=F,F.id=Ne}return C&&(ki[C]=F.id),Dt.publish("addGState",F),F}};x.addGState=function(C,F){return Wc(C,F),this},x.saveGraphicsState=function(){return fe("q"),ci.push({key:Vt,size:nt,color:$o}),this},x.restoreGraphicsState=function(){fe("Q");var C=ci.pop();return Vt=C.key,nt=C.size,$o=C.color,Yi=null,this},x.setCurrentTransformationMatrix=function(C){return fe(C.toString()+" cm"),this},x.comment=function(C){return fe("#"+C),this};var Ul=function(C,F){var le=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Fe){isNaN(Fe)||(le=parseFloat(Fe))}});var ge=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Fe){isNaN(Fe)||(ge=parseFloat(Fe))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Fe){Ne=Fe.toString()}}),this},Gu=function(C,F,le,ge){Ul.call(this,C,F),this.type="rect";var Ne=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(Je){isNaN(Je)||(Ne=parseFloat(Je))}});var Fe=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Je){isNaN(Je)||(Fe=parseFloat(Je))}}),this},Wu=function(){this.page=Dn,this.currentPage=Y,this.pages=Ye.slice(0),this.pagesContext=Ot.slice(0),this.x=ui,this.y=zt,this.matrix=Ei,this.width=Jo(Y),this.height=co(Y),this.outputDestination=Ke,this.id="",this.objectNumber=-1};Wu.prototype.restore=function(){Dn=this.page,Y=this.currentPage,Ot=this.pagesContext,Ye=this.pages,ui=this.x,zt=this.y,Ei=this.matrix,Hl(Y,this.width),Ku(Y,this.height),Ke=this.outputDestination};var Vl=function(C,F,le,ge,Ne){kr.push(new Wu),Dn=Y=0,Ye=[],ui=C,zt=F,Ei=Ne,On([le,ge])},ud=function(C){if(nr[C])kr.pop().restore();else{var F=new Wu,le="Xo"+(Object.keys(ti).length+1).toString(10);F.id=le,nr[C]=le,ti[le]=F,Dt.publish("addFormObject",F),kr.pop().restore()}};for(var ql in x.beginFormObject=function(C,F,le,ge,Ne){return Vl(C,F,le,ge,Ne),this},x.endFormObject=function(C){return ud(C),this},x.doFormObject=function(C,F){var le=ti[nr[C]];return fe("q"),fe(F.toString()+" cm"),fe("/"+le.id+" Do"),fe("Q"),this},x.getFormObject=function(C){var F=ti[nr[C]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},x.save=function(C,F){return C=C||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Ac(Aa(ys()),C),typeof Ac.unload=="function"&&Wt.setTimeout&&setTimeout(Ac.unload,911),this):new Promise(function(le,ge){try{var Ne=Ac(Aa(ys()),C);typeof Ac.unload=="function"&&Wt.setTimeout&&setTimeout(Ac.unload,911),le(Ne)}catch(Fe){ge(Fe.message)}})},Ht.API)Ht.API.hasOwnProperty(ql)&&(ql==="events"&&Ht.API.events.length?function(C,F){var le,ge,Ne;for(Ne=F.length-1;Ne!==-1;Ne--)le=F[Ne][0],ge=F[Ne][1],C.subscribe.apply(C,[le].concat(typeof ge=="function"?[ge]:ge))}(Dt,Ht.API.events):x[ql]=Ht.API[ql]);var Jo=x.getPageWidth=function(C){return(Ot[C=C||Y].mediaBox.topRightX-Ot[C].mediaBox.bottomLeftX)/lt},Hl=x.setPageWidth=function(C,F){Ot[C].mediaBox.topRightX=F*lt+Ot[C].mediaBox.bottomLeftX},co=x.getPageHeight=function(C){return(Ot[C=C||Y].mediaBox.topRightY-Ot[C].mediaBox.bottomLeftY)/lt},Ku=x.setPageHeight=function(C,F){Ot[C].mediaBox.topRightY=F*lt+Ot[C].mediaBox.bottomLeftY};return x.internal={pdfEscape:kt,getStyle:xs,getFont:Mr,getFontSize:it,getCharSpace:ld,getTextColor:od,getLineHeight:Fl,getLineHeightFactor:lo,getLineWidth:ia,write:Et,getHorizontalCoordinate:cs,getVerticalCoordinate:ra,getCoordinateString:ad,getVerticalCoordinateString:uo,collections:{},newObject:kn,newAdditionalObject:Yn,newObjectDeferred:Nn,newObjectDeferredBegin:Sr,getFilters:gr,putStream:ai,events:Dt,scaleFactor:lt,pageSize:{getWidth:function(){return Jo(Y)},setWidth:function(C){Hl(Y,C)},getHeight:function(){return co(Y)},setHeight:function(C){Ku(Y,C)}},encryptionOptions:h,encryption:ji,getEncryptor:so,output:vs,getNumberOfPages:Tr,pages:Ye,out:fe,f2:de,f3:B,getPageInfo:Ca,getPageInfoByObjId:$t,getCurrentPageInfo:Vu,getPDFVersion:T,Point:Ul,Rectangle:Gu,Matrix:gt,hasHotfix:Ta},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Jo(Y)},set:function(C){Hl(Y,C)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return co(Y)},set:function(C){Ku(Y,C)},enumerable:!0,configurable:!0}),Ct.call(x,Ze),Vt="F1",hi(r,t),Dt.publish("initialized"),x}Lf.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Lf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Lf.prototype.processOwnerPassword=function(n,e){return G1(H1(e).substr(0,5),n)},Lf.prototype.encryptor=function(n,e){var t=H1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return G1(t,i)}},Jg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||ei(n)!==ei(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Ht.API={events:[]},Ht.version="3.0.1";var er=Ht.API,R2=1,jc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},an=function(n){return n.toFixed(2)},_u=function(n){return n.toFixed(5)};er.__acroform__={};var Ps=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Qx=function(n){return n*R2},Io=function(n){var e=new Q_,t=At.internal.getHeight(n)||0,i=At.internal.getWidth(n)||0;return e.BBox=[0,0,Number(an(i)),Number(an(t))],e},TR=er.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},CR=er.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},NR=er.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},cr=er.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return NR(n,e-1)},fr=er.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return TR(n,e-1)},dr=er.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return CR(n,e-1)},ER=er.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],u=n[3],c={};return c.lowerLeft_X=t(r)||0,c.lowerLeft_Y=i(s+u)||0,c.upperRight_X=t(r+o)||0,c.upperRight_Y=i(s)||0,[Number(an(c.lowerLeft_X)),Number(an(c.lowerLeft_Y)),Number(an(c.upperRight_X)),Number(an(c.upperRight_Y))]},kR=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=W1(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+an(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Io(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},W1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(B){return B.split(`
`)}):r.map(function(B){return[B]});var s=t,o=At.internal.getHeight(n)||0;o=o<0?-o:o;var u=At.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(B,q,oe){if(B+1<r.length){var ne=q+" "+r[B+1][0];return tg(ne,n,oe).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var f,h,y=tg("3",n,s).height,b=n.multiline?o-s:(o-y)/2,x=b+=2,N=0,T=0,M=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+tg(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var k="",P=0,I=0;I<r.length;I++)if(r.hasOwnProperty(I)){var J=!1;if(r[I].length!==1&&M!==r[I].length-1){if((y+2)*(P+2)+2>o)continue e;k+=r[I][M],J=!0,T=I,I--}else{k=(k+=r[I][M]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var H=parseInt(I),K=c(H,k,s),X=I>=r.length-1;if(K&&!X){k+=" ",M=0;continue}if(K||X){if(X)T=H;else if(n.multiline&&(y+2)*(P+2)+2>o)continue e}else{if(!n.multiline||(y+2)*(P+2)+2>o)continue e;T=H}}for(var U="",ee=N;ee<=T;ee++){var de=r[ee];if(n.multiline){if(ee===T){U+=de[M]+" ",M=(M+1)%de.length;continue}if(ee===N){U+=de[de.length-1]+" ";continue}}U+=de[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,h=tg(U,n,s).width,n.textAlign){case"right":f=u-h-2;break;case"center":f=(u-h)/2;break;case"left":default:f=2}e+=an(f)+" "+an(x)+` Td
`,e+="("+jc(U)+`) Tj
`,e+=-an(f)+` 0 Td
`,x=-(s+2),h=0,N=J?T:T+1,P++,k=""}break}return i.text=e,i.fontSize=s,i},tg=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},MR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LR=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},PR=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var i=t,r=n[t];e.internal.newObjectDeferredBegin(r.objId,!0),ei(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},RR=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(no.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(MR)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");R2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new eS,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&LR(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var u=i[o],c=[],f=u.Rect;if(u.Rect&&(u.Rect=ER(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=At.createDefaultAppearanceStream(u),ei(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var h=kR(u);c.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(u.appearanceStreamContent){var y="";for(var b in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(b)){var x=u.appearanceStreamContent[b];if(y+="/"+b+" ",y+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var o in x)if(x.hasOwnProperty(o)){var N=x[o];typeof N=="function"&&(N=N.call(r,u)),y+="/"+o+" "+N+" ",r.internal.acroformPlugin.xForms.indexOf(N)>=0||r.internal.acroformPlugin.xForms.push(N)}}else typeof(N=x)=="function"&&(N=N.call(r,u)),y+="/"+o+" "+N,r.internal.acroformPlugin.xForms.indexOf(N)>=0||r.internal.acroformPlugin.xForms.push(N);y+=">>"}c.push({key:"AP",value:`<<
`+y+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:u.objId}),r.internal.out("endobj")}s&&PR(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},X_=er.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),ei(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),r+="("+jc(i(n[s].toString()))+")"):r+=n[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},K0=function(n,e,t){var i=function(r){return r};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+jc(i(n))+")"},Vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vo.prototype.toString=function(){return this.objId+" 0 R"},Vo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Vo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:X_(r,this.objId,this.scope)}):r instanceof Vo?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var Q_=function(){Vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ps(Q_,Vo);var eS=function(){Vo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+jc(t(n))+")"}},set:function(t){n=t}})};Ps(eS,Vo);var no=function n(){Vo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!cr(e,3)},set:function(k){k?this.F=fr(e,3):this.F=dr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(k){i=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(k){i[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(k){i[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(k){i[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(k){i[3]=k}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Zg)return;s="FieldObject"+n.FieldNum++}var k=function(P){return P};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+jc(k(s))+")"},set:function(k){s=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(k){s=k}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(k){o=k}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/R2:f},set:function(k){f=k}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Zg||this instanceof kc))return K0(y,this.objId,this.scope)},set:function(k){k=k.toString(),y=k}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Or?b:K0(b,this.objId,this.scope)},set:function(k){k=k.toString(),b=this instanceof Or?k:k.substr(0,1)==="("?Tf(k.substr(1,k.length-2)):Tf(k)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Or?Tf(b.substr(1,b.length-1)):b},set:function(k){k=k.toString(),b=this instanceof Or?"/"+k:k}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Or?x:K0(x,this.objId,this.scope)},set:function(k){k=k.toString(),x=this instanceof Or?k:k.substr(0,1)==="("?Tf(k.substr(1,k.length-2)):Tf(k)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Or?Tf(x.substr(1,x.length-1)):x},set:function(k){k=k.toString(),x=this instanceof Or?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(k){k=!!k,T=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(k){N=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,1)},set:function(k){k?this.Ff=fr(this.Ff,1):this.Ff=dr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,2)},set:function(k){k?this.Ff=fr(this.Ff,2):this.Ff=dr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,3)},set:function(k){k?this.Ff=fr(this.Ff,3):this.Ff=dr(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');M=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(M){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};Ps(no,Vo);var Uf=function(){no.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return X_(e,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=function(s,o,u){u||(u=1);for(var c,f=[];c=o.exec(s);)f.push(c[u]);return f}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,18)},set:function(t){t?this.Ff=fr(this.Ff,18):this.Ff=dr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=fr(this.Ff,19):this.Ff=dr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,20)},set:function(t){t?(this.Ff=fr(this.Ff,20),e.sort()):this.Ff=dr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,22)},set:function(t){t?this.Ff=fr(this.Ff,22):this.Ff=dr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,23)},set:function(t){t?this.Ff=fr(this.Ff,23):this.Ff=dr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,27)},set:function(t){t?this.Ff=fr(this.Ff,27):this.Ff=dr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ps(Uf,no);var Vf=function(){Uf.call(this),this.fontName="helvetica",this.combo=!1};Ps(Vf,Uf);var qf=function(){Vf.call(this),this.combo=!0};Ps(qf,Vf);var Ng=function(){qf.call(this),this.edit=!0};Ps(Ng,qf);var Or=function(){no.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,15)},set:function(t){t?this.Ff=fr(this.Ff,15):this.Ff=dr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,16)},set:function(t){t?this.Ff=fr(this.Ff,16):this.Ff=dr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,17)},set:function(t){t?this.Ff=fr(this.Ff,17):this.Ff=dr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,26)},set:function(t){t?this.Ff=fr(this.Ff,26):this.Ff=dr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+jc(t(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){ei(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ps(Or,no);var Eg=function(){Or.call(this),this.pushButton=!0};Ps(Eg,Or);var Hf=function(){Or.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ps(Hf,Or);var Zg=function(){var n,e;no.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+jc(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){ei(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ps(Zg,no),Hf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Hf.prototype.createOption=function(n){var e=new Zg;return e.Parent=this,e.optionName=n,this.Kids.push(e),DR.call(this.scope,e),e};var kg=function(){Or.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};Ps(kg,Or);var kc=function(){no.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,13)},set:function(e){e?this.Ff=fr(this.Ff,13):this.Ff=dr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,21)},set:function(e){e?this.Ff=fr(this.Ff,21):this.Ff=dr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,23)},set:function(e){e?this.Ff=fr(this.Ff,23):this.Ff=dr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,24)},set:function(e){e?this.Ff=fr(this.Ff,24):this.Ff=dr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,25)},set:function(e){e?this.Ff=fr(this.Ff,25):this.Ff=dr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,26)},set:function(e){e?this.Ff=fr(this.Ff,26):this.Ff=dr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ps(kc,no);var Mg=function(){kc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,14)},set:function(n){n?this.Ff=fr(this.Ff,14):this.Ff=dr(this.Ff,14)}}),this.password=!0};Ps(Mg,kc);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=W1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+an(At.internal.getWidth(n))+" "+an(At.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+an(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Io(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=At.internal.getHeight(n),o=At.internal.getWidth(n),u=W1(n,n.caption);return r.push("1 g"),r.push("0 0 "+an(o)+" "+an(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+an(o-1)+" "+an(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+an(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(At.internal.getWidth(n))+" "+an(At.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=At.RadioButton.Circle.YesNormal,e.D[n]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Io(n);e.scope=n.scope;var t=[],i=At.internal.getWidth(n)<=At.internal.getHeight(n)?At.internal.getWidth(n)/4:At.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=At.internal.Bezier_C,s=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+_u(At.internal.getWidth(n)/2)+" "+_u(At.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[],i=At.internal.getWidth(n)<=At.internal.getHeight(n)?At.internal.getWidth(n)/4:At.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*At.internal.Bezier_C).toFixed(5)),o=Number((i*At.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+_u(At.internal.getWidth(n)/2)+" "+_u(At.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+_u(At.internal.getWidth(n)/2)+" "+_u(At.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[],i=At.internal.getWidth(n)<=At.internal.getHeight(n)?At.internal.getWidth(n)/4:At.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*At.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+_u(At.internal.getWidth(n)/2)+" "+_u(At.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=At.RadioButton.Cross.YesNormal,e.D[n]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Io(n);e.scope=n.scope;var t=[],i=At.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+an(At.internal.getWidth(n)-2)+" "+an(At.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(an(i.x1.x)+" "+an(i.x1.y)+" m"),t.push(an(i.x2.x)+" "+an(i.x2.y)+" l"),t.push(an(i.x4.x)+" "+an(i.x4.y)+" m"),t.push(an(i.x3.x)+" "+an(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=At.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+an(At.internal.getWidth(n))+" "+an(At.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+an(At.internal.getWidth(n)-2)+" "+an(At.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(an(t.x1.x)+" "+an(t.x1.y)+" m"),i.push(an(t.x2.x)+" "+an(t.x2.y)+" l"),i.push(an(t.x4.x)+" "+an(t.x4.y)+" m"),i.push(an(t.x3.x)+" "+an(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(At.internal.getWidth(n))+" "+an(At.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};At.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=At.internal.getWidth(n),t=At.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},At.internal.getWidth=function(n){var e=0;return ei(n)==="object"&&(e=Qx(n.Rect[2])),e},At.internal.getHeight=function(n){var e=0;return ei(n)==="object"&&(e=Qx(n.Rect[3])),e};var DR=er.addField=function(n){if(RR(this,n),!(n instanceof no))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};er.AcroFormChoiceField=Uf,er.AcroFormListBox=Vf,er.AcroFormComboBox=qf,er.AcroFormEditBox=Ng,er.AcroFormButton=Or,er.AcroFormPushButton=Eg,er.AcroFormRadioButton=Hf,er.AcroFormCheckBox=kg,er.AcroFormTextField=kc,er.AcroFormPasswordField=Mg,er.AcroFormAppearance=At,er.AcroForm={ChoiceField:Uf,ListBox:Vf,ComboBox:qf,EditBox:Ng,Button:Or,PushButton:Eg,RadioButton:Hf,CheckBox:kg,TextField:kc,PasswordField:Mg,Appearance:At},Ht.AcroForm={ChoiceField:Uf,ListBox:Vf,ComboBox:qf,EditBox:Ng,Button:Or,PushButton:Eg,RadioButton:Hf,CheckBox:kg,TextField:kc,PasswordField:Mg,Appearance:At};Ht.AcroForm;function tS(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(B,q){var oe,ne,ie,G,te,ae=e;if((q=q||e)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(K(B))for(te in t)for(ie=t[te],oe=0;oe<ie.length;oe+=1){for(G=!0,ne=0;ne<ie[oe].length;ne+=1)if(ie[oe][ne]!==void 0&&ie[oe][ne]!==B[ne]){G=!1;break}if(G===!0){ae=te;break}}else for(te in t)for(ie=t[te],oe=0;oe<ie.length;oe+=1){for(G=!0,ne=0;ne<ie[oe].length;ne+=1)if(ie[oe][ne]!==void 0&&ie[oe][ne]!==B.charCodeAt(ne)){G=!1;break}if(G===!0){ae=te;break}}return ae===e&&q!==e&&(ae=q),ae},r=function B(q){for(var oe=this.internal.write,ne=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:q.width}),G.push({key:"Height",value:q.height}),q.colorSpace===M.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===M.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)){for(var te="",ae=0,pe=q.transparency.length;ae<pe;ae++)te+=q.transparency[ae]+" "+q.transparency[ae]+" ";G.push({key:"Mask",value:"["+te+"]"})}q.sMask!==void 0&&G.push({key:"SMask",value:q.objectId+1+" 0 R"});var j=q.filter!==void 0?["/"+q.filter]:void 0;if(ne({data:q.data,additionalKeyValues:G,alreadyAppliedFilters:j,objectId:q.objectId}),oe("endobj"),"sMask"in q&&q.sMask!==void 0){var me="/Predictor "+q.predictor+" /Colors 1 /BitsPerComponent "+q.bitsPerComponent+" /Columns "+q.width,D={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:q.bitsPerComponent,decodeParameters:me,data:q.sMask};"filter"in q&&(D.filter=q.filter),B.call(this,D)}if(q.colorSpace===M.INDEXED){var Y=this.internal.newObject();ne({data:U(new Uint8Array(q.palette)),objectId:Y}),oe("endobj")}},s=function(){var B=this.internal.collections.addImage_images;for(var q in B)r.call(this,B[q])},o=function(){var B,q=this.internal.collections.addImage_images,oe=this.internal.write;for(var ne in q)oe("/I"+(B=q[ne]).index,B.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var B=this.internal.collections.addImage_images;return u.call(this),B},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(B){return typeof n["process"+B.toUpperCase()]=="function"},y=function(B){return ei(B)==="object"&&B.nodeType===1},b=function(B,q){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var oe=""+B.getAttribute("src");if(oe.indexOf("data:image/")===0)return wh(unescape(oe).split("base64,").pop());var ne=n.loadFile(oe,!0);if(ne!==void 0)return ne}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var ie;switch(q){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;case"JPEG":case"JPG":default:ie="image/jpeg"}return wh(B.toDataURL(ie,1).split("base64,").pop())}},x=function(B){var q=this.internal.collections.addImage_images;if(q){for(var oe in q)if(B===q[oe].alias)return q[oe]}},N=function(B,q,oe){return B||q||(B=-96,q=-96),B<0&&(B=-1*oe.width*72/B/this.internal.scaleFactor),q<0&&(q=-1*oe.height*72/q/this.internal.scaleFactor),B===0&&(B=q*oe.width/oe.height),q===0&&(q=B*oe.height/oe.width),[B,q]},T=function(B,q,oe,ne,ie,G){var te=N.call(this,oe,ne,ie),ae=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,j=c.call(this);if(oe=te[0],ne=te[1],j[ie.index]=ie,G){G*=Math.PI/180;var me=Math.cos(G),D=Math.sin(G),Y=function(ue){return ue.toFixed(4)},Q=[Y(me),Y(D),Y(-1*D),Y(me),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,ae(B),pe(q+ne),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([ae(oe),"0","0",ae(ne),"0","0","cm"].join(" "))):this.internal.write([ae(oe),"0","0",ae(ne),ae(B),pe(q+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},M=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=n.__addimage__.sHashCode=function(B){var q,oe,ne=0;if(typeof B=="string")for(oe=B.length,q=0;q<oe;q++)ne=(ne<<5)-ne+B.charCodeAt(q),ne|=0;else if(K(B))for(oe=B.byteLength/2,q=0;q<oe;q++)ne=(ne<<5)-ne+B[q],ne|=0;return ne},I=n.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var q=!0;return B.length===0&&(q=!1),B.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(q=!1),q},J=n.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var q=B.indexOf(",");return q<0?null:B.substring(0,q).trim().endsWith("base64")?B.substring(q+1):null},H=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(B){return H()&&B instanceof ArrayBuffer};var K=n.__addimage__.isArrayBufferView=function(B){return H()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},X=n.__addimage__.binaryStringToUint8Array=function(B){for(var q=B.length,oe=new Uint8Array(q),ne=0;ne<q;ne++)oe[ne]=B.charCodeAt(ne);return oe},U=n.__addimage__.arrayBufferToBinaryString=function(B){for(var q="",oe=K(B)?B:new Uint8Array(B),ne=0;ne<oe.length;ne+=8192)q+=String.fromCharCode.apply(null,oe.subarray(ne,ne+8192));return q};n.addImage=function(){var B,q,oe,ne,ie,G,te,ae,pe;if(typeof arguments[1]=="number"?(q=e,oe=arguments[1],ne=arguments[2],ie=arguments[3],G=arguments[4],te=arguments[5],ae=arguments[6],pe=arguments[7]):(q=arguments[1],oe=arguments[2],ne=arguments[3],ie=arguments[4],G=arguments[5],te=arguments[6],ae=arguments[7],pe=arguments[8]),ei(B=arguments[0])==="object"&&!y(B)&&"imageData"in B){var j=B;B=j.imageData,q=j.format||q||e,oe=j.x||oe||0,ne=j.y||ne||0,ie=j.w||j.width||ie,G=j.h||j.height||G,te=j.alias||te,ae=j.compression||ae,pe=j.rotation||j.angle||pe}var me=this.internal.getFilters();if(ae===void 0&&me.indexOf("FlateEncode")!==-1&&(ae="SLOW"),isNaN(oe)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var D=ee.call(this,B,q,te,ae);return T.call(this,oe,ne,ie,G,D,pe),this};var ee=function(B,q,oe,ne){var ie,G,te;if(typeof B=="string"&&i(B)===e){B=unescape(B);var ae=de(B,!1);(ae!==""||(ae=n.loadFile(B,!0))!==void 0)&&(B=ae)}if(y(B)&&(B=b(B,q)),q=i(B,q),!h(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((te=oe)==null||te.length===0)&&(oe=function(pe){return typeof pe=="string"||K(pe)?P(pe):K(pe.data)?P(pe.data):null}(B)),(ie=x.call(this,oe))||(H()&&(B instanceof Uint8Array||q==="RGBA"||(G=B,B=X(B))),ie=this["process"+q.toUpperCase()](B,f.call(this),oe,function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in n.image_compression?pe:k.NONE}(ne),G)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},de=n.__addimage__.convertBase64ToBinaryString=function(B,q){q=typeof q!="boolean"||q;var oe,ne="";if(typeof B=="string"){var ie;oe=(ie=J(B))!==null&&ie!==void 0?ie:B;try{ne=wh(oe)}catch(G){if(q)throw I(oe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};n.getImageProperties=function(B){var q,oe,ne="";if(y(B)&&(B=b(B)),typeof B=="string"&&i(B)===e&&((ne=de(B,!1))===""&&(ne=n.loadFile(B)||""),B=ne),oe=i(B),!h(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if(!H()||B instanceof Uint8Array||(B=X(B)),!(q=this["process"+oe.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=oe,q}})(Ht.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ht.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,s,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,h=!1,y=0;y<f.length&&!h;y++)switch((i=f[y]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){i=f[b];var x=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(T.objId),P=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+x(k(i.contents))+")",s+=" /Popup "+M.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+x(k(P))+") >>",T.content=s;var I=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+I,i.open&&(s+=" /Open true"),s+=" >>",M.content=s,this.internal.write(T.objId,"0 R",M.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var J=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+x(N(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+J+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var H=this.annotations._nameMap[i.options.name];i.options.pageNumber=H.page,i.options.top=H.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+x(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var K=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+K+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,s,o){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(t),y:f(i),w:c(t+r),h:f(i+s)},options:o,type:"link"})},n.textWithLink=function(t,i,r,s){var o,u,c=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var h=this.splitTextToSize(t,u).length;o=Math.ceil(f*h)}else u=c,o=f;return this.text(t,i,r,s),r+=.2*f,s.align==="center"&&(i-=c/2),s.align==="right"&&(i-=c),this.link(i,r-f,u,o,s),c},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(Ht.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},u=n.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&r.indexOf(T.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(T){var M=0,k=t,P="",I=0;for(M=0;M<T.length;M+=1)k[T.charCodeAt(M)]!==void 0?(I++,typeof(k=k[T.charCodeAt(M)])=="number"&&(P+=String.fromCharCode(k),k=t,I=0),M===T.length-1&&(k=t,P+=T.charAt(M-(I-1)),M-=I-1,I=0)):(k=t,P+=T.charAt(M-I),M-=I,I=0);return P};n.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&i[T.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(T,M,k){return o(T)?s(T)===!1?-1:!f(T)||!o(M)&&!o(k)||!o(k)&&u(M)||u(T)&&!o(M)||u(T)&&c(M)||u(T)&&u(M)?0:h(T)&&o(M)&&!u(M)&&o(k)&&f(k)?3:u(T)||!o(k)?1:2:-1},x=function(T){var M=0,k=0,P=0,I="",J="",H="",K=(T=T||"").split("\\s+"),X=[];for(M=0;M<K.length;M+=1){for(X.push(""),k=0;k<K[M].length;k+=1)I=K[M][k],J=K[M][k-1],H=K[M][k+1],o(I)?(P=b(I,J,H),X[M]+=P!==-1?String.fromCharCode(e[I.charCodeAt(0)][P]):I):X[M]+=I;X[M]=y(X[M])}return X.join(" ")},N=n.__arabicParser__.processArabic=n.processArabic=function(){var T,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(M)){var P=0;for(k=[],P=0;P<M.length;P+=1)Array.isArray(M[P])?k.push([x(M[P][0]),M[P][1],M[P][2]]):k.push([x(M[P])]);T=k}else T=x(M);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};n.events.push(["preProcessText",N])}(Ht.API),Ht.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ht.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(T){c=T}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(T){f=T}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(T){y=T}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(T){b=T}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(T){x=T}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(T){N=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,f){i.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),y=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,x=0,N=0,T=0,M=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var k=f.maxWidth;k>0?typeof c=="string"?c=this.splitTextToSize(c,k):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(I,J){return I.concat(M.splitTextToSize(J,k))},[])):c=Array.isArray(c)?c:[c];for(var P=0;P<c.length;P++)x<(T=this.getStringUnitWidth(c[P],{font:y})*h)&&(x=T);return x!==0&&(N=c.length),{w:x/=b,h:Math.max((N*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=y.top,x&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};n.table=function(c,f,h,y,b){if(i.call(this),!h)throw new Error("No data for PDF table.");var x,N,T,M,k=[],P=[],I=[],J={},H={},K=[],X=[],U=(b=b||{}).autoSize||!1,ee=b.printHeaders!==!1,de=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,B=b.margins||Object.assign({width:this.getPageWidth()},e),q=typeof b.padding=="number"?b.padding:3,oe=b.headerBackgroundColor||"#c8c8c8",ne=b.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=ee,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=de,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=oe,this.internal.__cell__.headerTextColor=ne,this.setFontSize(de),y==null)P=k=Object.keys(h[0]),I=k.map(function(){return"left"});else if(Array.isArray(y)&&ei(y[0])==="object")for(k=y.map(function(j){return j.name}),P=y.map(function(j){return j.prompt||j.name||""}),I=y.map(function(j){return j.align||"left"}),x=0;x<y.length;x+=1)H[y[x].name]=y[x].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(P=k=y,I=k.map(function(){return"left"}));if(U||Array.isArray(y)&&typeof y[0]=="string")for(x=0;x<k.length;x+=1){for(J[M=k[x]]=h.map(function(j){return j[M]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(P[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=J[M],this.setFont(void 0,"normal"),T=0;T<N.length;T+=1)K.push(this.getTextDimensions(N[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[M]=Math.max.apply(null,K)+q+q,K=[]}if(ee){var ie={};for(x=0;x<k.length;x+=1)ie[k[x]]={},ie[k[x]].text=P[x],ie[k[x]].align=I[x];var G=u.call(this,ie,H);X=k.map(function(j){return new s(c,f,H[j],G,ie[j].text,void 0,ie[j].align)}),this.setTableHeaderRow(X),this.printHeaderRow(1,!1)}var te=y.reduce(function(j,me){return j[me.name]=me.align,j},{});for(x=0;x<h.length;x+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:x,data:h[x]},this);var ae=u.call(this,h[x],H);for(T=0;T<k.length;T+=1){var pe=h[x][k[T]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:x,col:T,data:pe},this),o.call(this,new s(c,f,H[k[T]],ae,pe,x+2,te[k[T]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var u=function(c,f){var h=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(x){var N=c[x];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*y/b+h+h},this).reduce(function(x,N){return Math.max(x,N)},0)};n.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,b.push(h)),h.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(N)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(Ht.API);var nS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},iS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],K1=tS(iS),rS=[100,200,300,400,500,600,700,800,900],IR=tS(rS);function Y1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return nS[s=s||"normal"]?s:"normal"}(n.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(s){return typeof K1[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function eb(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var OR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function FR(n,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",r=Object.assign({},OR,t.genericFontFamilies||{}),s=null,o=null,u=0;u<e.length;++u)if(r[(s=Y1(e[u])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+nb(s)+"' and default family '"+i+"'.");if(o=function(c,f){if(f[c])return f[c];var h=K1[c],y=h<=K1.normal?-1:1,b=eb(f,iS,h,y);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(s.stretch,o),o=function(c,f){if(f[c])return f[c];for(var h=nS[c],y=0;y<h.length;++y)if(f[h[y]])return f[h[y]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,f){if(f[c])return f[c];if(c===400&&f[500])return f[500];if(c===500&&f[400])return f[400];var h=IR[c],y=eb(f,rS,h,c<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+c);return y}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+nb(s)+"'.");return o}function ib(n){return n.trimLeft()}function BR(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function zR(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var ng,rb,sb,Y0=["times"];(function(n){var e,t,i,r,s,o,u,c,f,h=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,f=new h}]);var y=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=D;Object.defineProperty(this,"pdf",{get:function(){return Y}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(De){Q=!!De}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(De){ue=!!De}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(De){isNaN(De)||(ce=De)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(De){isNaN(De)||(ye=De)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(De){var fe;typeof De=="number"?fe=[De,De,De,De]:((fe=new Array(4))[0]=De[0],fe[1]=De.length>=2?De[1]:fe[0],fe[2]=De.length>=3?De[2]:fe[0],fe[3]=De.length>=4?De[3]:fe[1]),f.margin=fe}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(De){Se=De}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(De){Ee=De}});var $e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return $e},set:function(De){$e=De}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(De){De instanceof h&&(f=De)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(De){f.path=De}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(De){Ye=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var fe;fe=b(De),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var fe=b(De);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var Qe=null;function Ke(De,fe){if(Qe===null){var Et=function(yt){var Ze=[];return Object.keys(yt).forEach(function(nt){yt[nt].forEach(function(st){var it=null;switch(st){case"bold":it={family:nt,weight:"bold"};break;case"italic":it={family:nt,style:"italic"};break;case"bolditalic":it={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":it={family:nt}}it!==null&&(it.ref={name:nt,style:st},Ze.push(it))})}),Ze}(De.getFontList());Qe=function(yt){for(var Ze={},nt=0;nt<yt.length;++nt){var st=Y1(yt[nt]),it=st.family,mt=st.stretch,Pt=st.style,Kt=st.weight;Ze[it]=Ze[it]||{},Ze[it][mt]=Ze[it][mt]||{},Ze[it][mt][Pt]=Ze[it][mt][Pt]||{},Ze[it][mt][Pt][Kt]=st}return Ze}(Et.concat(fe))}return Qe}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(De){Qe=null,et=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var fe;if(this.ctx.font=De,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var Et=fe[1];fe[2];var yt=fe[3],Ze=fe[4];fe[5];var nt=fe[6],st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(st==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var it=function(bt){var Vt,lt,ui=[],zt=bt.trim();if(zt==="")return Y0;if(zt in tb)return[tb[zt]];for(;zt!=="";){switch(lt=null,Vt=(zt=ib(zt)).charAt(0)){case'"':case"'":lt=BR(zt.substring(1),Vt);break;default:lt=zR(zt)}if(lt===null||(ui.push(lt[0]),(zt=ib(lt[1]))!==""&&zt.charAt(0)!==","))return Y0;zt=zt.replace(/^,/,"")}return ui}(nt);if(this.fontFaces){var mt=FR(Ke(this.pdf,this.fontFaces),it.map(function(bt){return{family:bt,stretch:"normal",weight:yt,style:Et}}));this.pdf.setFont(mt.ref.name,mt.ref.style)}else{var Pt="";(yt==="bold"||parseInt(yt,10)>=700||Et==="bold")&&(Pt="bold"),Et==="italic"&&(Pt+="italic"),Pt.length===0&&(Pt="normal");for(var Kt="",jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<it.length;xt++){if(this.pdf.internal.getFont(it[xt],Pt,{noFallback:!0,disableWarning:!0})!==void 0){Kt=it[xt];break}if(Pt==="bolditalic"&&this.pdf.internal.getFont(it[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Kt=it[xt],Pt="bold";else if(this.pdf.internal.getFont(it[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Kt=it[xt],Pt="normal";break}}if(Kt===""){for(var Yt=0;Yt<it.length;Yt++)if(jt[it[Yt]]){Kt=jt[it[Yt]];break}}Kt=Kt===""?"Times":Kt,this.pdf.setFont(Kt,Pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};y.prototype.setLineDash=function(D){this.lineDash=D},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){J.call(this,"fill",!1)},y.prototype.stroke=function(){J.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(D,Y){if(isNaN(D)||isNaN(Y))throw li.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(D,Y));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(D,Y)},y.prototype.closePath=function(){var D=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&ei(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){D=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},y.prototype.lineTo=function(D,Y){if(isNaN(D)||isNaN(Y))throw li.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(D,Y));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),J.call(this,null,!0)},y.prototype.quadraticCurveTo=function(D,Y,Q,ue){if(isNaN(Q)||isNaN(ue)||isNaN(D)||isNaN(Y))throw li.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(Q,ue)),ye=this.ctx.transform.applyToPoint(new o(D,Y));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},y.prototype.bezierCurveTo=function(D,Y,Q,ue,ce,ye){if(isNaN(ce)||isNaN(ye)||isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ue))throw li.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new o(ce,ye)),Ee=this.ctx.transform.applyToPoint(new o(D,Y)),$e=this.ctx.transform.applyToPoint(new o(Q,ue));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:$e.x,y2:$e.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new o(Se.x,Se.y)},y.prototype.arc=function(D,Y,Q,ue,ce,ye){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ue)||isNaN(ce))throw li.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new o(D,Y));D=Se.x,Y=Se.y;var Ee=this.ctx.transform.applyToPoint(new o(0,Q)),$e=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(Ee.x-$e.x,2)+Math.pow(Ee.y-$e.y,2))}Math.abs(ce-ue)>=2*Math.PI&&(ue=0,ce=2*Math.PI),this.path.push({type:"arc",x:D,y:Y,radius:Q,startAngle:ue,endAngle:ce,counterclockwise:ye})},y.prototype.arcTo=function(D,Y,Q,ue,ce){throw new Error("arcTo not implemented.")},y.prototype.rect=function(D,Y,Q,ue){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ue))throw li.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,Y),this.lineTo(D+Q,Y),this.lineTo(D+Q,Y+ue),this.lineTo(D,Y+ue),this.lineTo(D,Y),this.lineTo(D+Q,Y),this.lineTo(D,Y)},y.prototype.fillRect=function(D,Y,Q,ue){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ue))throw li.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,Y,Q,ue),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},y.prototype.strokeRect=function(D,Y,Q,ue){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ue))throw li.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(D,Y,Q,ue),this.stroke())},y.prototype.clearRect=function(D,Y,Q,ue){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ue))throw li.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,Y,Q,ue))},y.prototype.save=function(D){D=typeof D!="boolean"||D;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},y.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(D){var Y,Q,ue,ce;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))Y=0,Q=0,ue=0,ce=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ye!==null)Y=parseInt(ye[1]),Q=parseInt(ye[2]),ue=parseInt(ye[3]),ce=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)Y=parseInt(ye[1]),Q=parseInt(ye[2]),ue=parseInt(ye[3]),ce=parseFloat(ye[4]);else{if(ce=1,typeof D=="string"&&D.charAt(0)!=="#"){var Se=new $_(D);D=Se.ok?Se.toHex():"#000000"}D.length===4?(Y=D.substring(1,2),Y+=Y,Q=D.substring(2,3),Q+=Q,ue=D.substring(3,4),ue+=ue):(Y=D.substring(1,3),Q=D.substring(3,5),ue=D.substring(5,7)),Y=parseInt(Y,16),Q=parseInt(Q,16),ue=parseInt(ue,16)}}return{r:Y,g:Q,b:ue,a:ce,style:D}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(D,Y,Q,ue){if(isNaN(Y)||isNaN(Q)||typeof D!="string")throw li.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!x.call(this)){var ce=ae(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;q.call(this,{text:D,x:Y,y:Q,scale:ye,angle:ce,align:this.textAlign,maxWidth:ue})}},y.prototype.strokeText=function(D,Y,Q,ue){if(isNaN(Y)||isNaN(Q)||typeof D!="string")throw li.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){ue=isNaN(ue)?void 0:ue;var ce=ae(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;q.call(this,{text:D,x:Y,y:Q,scale:ye,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ue})}},y.prototype.measureText=function(D){if(typeof D!="string")throw li.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,Q=this.pdf.internal.scaleFactor,ue=Y.internal.getFontSize(),ce=Y.getStringUnitWidth(D)*ue/Y.internal.scaleFactor,ye=function(Se){var Ee=(Se=Se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this};return new ye({width:ce*=Math.round(96*Q/72*1e4)/1e4})},y.prototype.scale=function(D,Y){if(isNaN(D)||isNaN(Y))throw li.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(D,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},y.prototype.rotate=function(D){if(isNaN(D))throw li.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},y.prototype.translate=function(D,Y){if(isNaN(D)||isNaN(Y))throw li.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,D,Y);this.ctx.transform=this.ctx.transform.multiply(Q)},y.prototype.transform=function(D,Y,Q,ue,ce,ye){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ue)||isNaN(ce)||isNaN(ye))throw li.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new c(D,Y,Q,ue,ce,ye);this.ctx.transform=this.ctx.transform.multiply(Se)},y.prototype.setTransform=function(D,Y,Q,ue,ce,ye){D=isNaN(D)?1:D,Y=isNaN(Y)?0:Y,Q=isNaN(Q)?0:Q,ue=isNaN(ue)?1:ue,ce=isNaN(ce)?0:ce,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(D,Y,Q,ue,ce,ye)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(D,Y,Q,ue,ce,ye,Se,Ee,$e){var Ye=this.pdf.getImageProperties(D),Qe=1,Ke=1,et=1,De=1;ue!==void 0&&Ee!==void 0&&(et=Ee/ue,De=$e/ce,Qe=Ye.width/ue*Ee/ue,Ke=Ye.height/ce*$e/ce),ye===void 0&&(ye=Y,Se=Q,Y=0,Q=0),ue!==void 0&&Ee===void 0&&(Ee=ue,$e=ce),ue===void 0&&Ee===void 0&&(Ee=Ye.width,$e=Ye.height);for(var fe,Et=this.ctx.transform.decompose(),yt=ae(Et.rotate.shx),Ze=new c,nt=(Ze=(Ze=(Ze=Ze.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale)).applyToRectangle(new u(ye-Y*et,Se-Q*De,ue*Qe,ce*Ke)),st=M.call(this,nt),it=[],mt=0;mt<st.length;mt+=1)it.indexOf(st[mt])===-1&&it.push(st[mt]);if(I(it),this.autoPaging)for(var Pt=it[0],Kt=it[it.length-1],jt=Pt;jt<Kt+1;jt++){this.pdf.setPage(jt);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yt=jt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=jt===1?0:bt+(jt-2)*Vt;if(this.ctx.clip_path.length!==0){var ui=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(fe,this.posX+this.margin[3],-lt+Yt+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=ui}var zt=JSON.parse(JSON.stringify(nt));zt=P([zt],this.posX+this.margin[3],-lt+Yt+this.ctx.prevPageLastElemOffset)[0];var Ei=(jt>Pt||jt<Kt)&&T.call(this);Ei&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Vt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,yt),Ei&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,yt)};var M=function(D,Y,Q){var ue=[];Y=Y||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":ue.push(Math.floor((D.y+ce)/Q)+1);break;case"arc":ue.push(Math.floor((D.y+ce-D.radius)/Q)+1),ue.push(Math.floor((D.y+ce+D.radius)/Q)+1);break;case"qct":var ye=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);ue.push(Math.floor((ye.y+ce)/Q)+1),ue.push(Math.floor((ye.y+ye.h+ce)/Q)+1);break;case"bct":var Se=j(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);ue.push(Math.floor((Se.y+ce)/Q)+1),ue.push(Math.floor((Se.y+Se.h+ce)/Q)+1);break;case"rect":ue.push(Math.floor((D.y+ce)/Q)+1),ue.push(Math.floor((D.y+D.h+ce)/Q)+1)}for(var Ee=0;Ee<ue.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Ee];)k.call(this);return ue},k=function(){var D=this.fillStyle,Y=this.strokeStyle,Q=this.font,ue=this.lineCap,ce=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=Y,this.font=Q,this.lineCap=ue,this.lineWidth=ce,this.lineJoin=ye},P=function(D,Y,Q){for(var ue=0;ue<D.length;ue++)switch(D[ue].type){case"bct":D[ue].x2+=Y,D[ue].y2+=Q;case"qct":D[ue].x1+=Y,D[ue].y1+=Q;case"mt":case"lt":case"arc":default:D[ue].x+=Y,D[ue].y+=Q}return D},I=function(D){return D.sort(function(Y,Q){return Y-Q})},J=function(D,Y){for(var Q,ue,ce=this.fillStyle,ye=this.strokeStyle,Se=this.lineCap,Ee=this.lineWidth,$e=Math.abs(Ee*this.ctx.transform.scaleX),Ye=this.lineJoin,Qe=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),et=[],De=0;De<Ke.length;De++)if(Ke[De].x!==void 0)for(var fe=M.call(this,Ke[De]),Et=0;Et<fe.length;Et+=1)et.indexOf(fe[Et])===-1&&et.push(fe[Et]);for(var yt=0;yt<et.length;yt++)for(;this.pdf.internal.getNumberOfPages()<et[yt];)k.call(this);if(I(et),this.autoPaging)for(var Ze=et[0],nt=et[et.length-1],st=Ze;st<nt+1;st++){this.pdf.setPage(st),this.fillStyle=ce,this.strokeStyle=ye,this.lineCap=Se,this.lineWidth=$e,this.lineJoin=Ye;var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=st===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=st===1?0:Pt+(st-2)*Kt;if(this.ctx.clip_path.length!==0){var xt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Q,this.posX+this.margin[3],-jt+mt+this.ctx.prevPageLastElemOffset),H.call(this,D,!0),this.path=xt}if(ue=JSON.parse(JSON.stringify(Qe)),this.path=P(ue,this.posX+this.margin[3],-jt+mt+this.ctx.prevPageLastElemOffset),Y===!1||st===0){var Yt=(st>Ze||st<nt)&&T.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Kt,null).clip().discardPath()),H.call(this,D,Y),Yt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=$e,H.call(this,D,Y),this.lineWidth=Ee;this.path=Qe},H=function(D,Y){if((D!=="stroke"||Y||!N.call(this))&&(D==="stroke"||Y||!x.call(this))){for(var Q,ue,ce=[],ye=this.path,Se=0;Se<ye.length;Se++){var Ee=ye[Se];switch(Ee.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ee,deltas:[],abs:[]});break;case"lt":var $e=ce.length;if(ye[Se-1]&&!isNaN(ye[Se-1].x)&&(Q=[Ee.x-ye[Se-1].x,Ee.y-ye[Se-1].y],$e>0)){for(;$e>=0;$e--)if(ce[$e-1].close!==!0&&ce[$e-1].begin!==!0){ce[$e-1].deltas.push(Q),ce[$e-1].abs.push(Ee);break}}break;case"bct":Q=[Ee.x1-ye[Se-1].x,Ee.y1-ye[Se-1].y,Ee.x2-ye[Se-1].x,Ee.y2-ye[Se-1].y,Ee.x-ye[Se-1].x,Ee.y-ye[Se-1].y],ce[ce.length-1].deltas.push(Q);break;case"qct":var Ye=ye[Se-1].x+2/3*(Ee.x1-ye[Se-1].x),Qe=ye[Se-1].y+2/3*(Ee.y1-ye[Se-1].y),Ke=Ee.x+2/3*(Ee.x1-Ee.x),et=Ee.y+2/3*(Ee.y1-Ee.y),De=Ee.x,fe=Ee.y;Q=[Ye-ye[Se-1].x,Qe-ye[Se-1].y,Ke-ye[Se-1].x,et-ye[Se-1].y,De-ye[Se-1].x,fe-ye[Se-1].y],ce[ce.length-1].deltas.push(Q);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ee)}}ue=Y?null:D==="stroke"?"stroke":"fill";for(var Et=!1,yt=0;yt<ce.length;yt++)if(ce[yt].arc)for(var Ze=ce[yt].abs,nt=0;nt<Ze.length;nt++){var st=Ze[nt];st.type==="arc"?U.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,Y,!Et):oe.call(this,st.x,st.y),Et=!0}else if(ce[yt].close===!0)this.pdf.internal.out("h"),Et=!1;else if(ce[yt].begin!==!0){var it=ce[yt].start.x,mt=ce[yt].start.y;ne.call(this,ce[yt].deltas,it,mt),Et=!0}ue&&ee.call(this,ue),Y&&de.call(this)}},K=function(D){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Q;case"top":return D+Y-Q;case"hanging":return D+Y-2*Q;case"middle":return D+Y/2-Q;case"ideographic":return D;case"alphabetic":default:return D}},X=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(Y,Q){this.colorStops.push([Y,Q])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(D,Y,Q,ue,ce,ye,Se,Ee,$e){for(var Ye=G.call(this,Q,ue,ce,ye),Qe=0;Qe<Ye.length;Qe++){var Ke=Ye[Qe];Qe===0&&($e?B.call(this,Ke.x1+D,Ke.y1+Y):oe.call(this,Ke.x1+D,Ke.y1+Y)),ie.call(this,D,Y,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}Ee?de.call(this):ee.call(this,Se)},ee=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},de=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(D,Y){this.pdf.internal.out(t(D)+" "+i(Y)+" m")},q=function(D){var Y;switch(D.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var Q=this.pdf.getTextDimensions(D.text),ue=K.call(this,D.y),ce=X.call(this,ue)-Q.h,ye=this.ctx.transform.applyToPoint(new o(D.x,ue)),Se=this.ctx.transform.decompose(),Ee=new c;Ee=(Ee=(Ee=Ee.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var $e,Ye,Qe,Ke=this.ctx.transform.applyToRectangle(new u(D.x,ue,Q.w,Q.h)),et=Ee.applyToRectangle(new u(D.x,ce,Q.w,Q.h)),De=M.call(this,et),fe=[],Et=0;Et<De.length;Et+=1)fe.indexOf(De[Et])===-1&&fe.push(De[Et]);if(I(fe),this.autoPaging)for(var yt=fe[0],Ze=fe[fe.length-1],nt=yt;nt<Ze+1;nt++){this.pdf.setPage(nt);var st=nt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[2],Pt=mt-this.margin[0],Kt=this.pdf.internal.pageSize.width-this.margin[1],jt=Kt-this.margin[3],xt=nt===1?0:it+(nt-2)*Pt;if(this.ctx.clip_path.length!==0){var Yt=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P($e,this.posX+this.margin[3],-1*xt+st),H.call(this,"fill",!0),this.path=Yt}var bt=P([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-xt+st+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*D.scale),Qe=this.lineWidth,this.lineWidth=Qe*D.scale);var Vt=this.autoPaging!=="text";if(Vt||bt.y+bt.h<=mt){if(Vt||bt.y>=st&&bt.x<=Kt){var lt=Vt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Kt-bt.x)[0],ui=P([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-xt+st+this.ctx.prevPageLastElemOffset)[0],zt=Vt&&(nt>yt||nt<Ze)&&T.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,Pt,null).clip().discardPath()),this.pdf.text(lt,ui.x,ui.y,{angle:D.angle,align:Y,renderingMode:D.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else bt.y<mt&&(this.ctx.prevPageLastElemOffset+=mt-bt.y);D.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=Qe)}else D.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*D.scale),Qe=this.lineWidth,this.lineWidth=Qe*D.scale),this.pdf.text(D.text,ye.x+this.posX,ye.y+this.posY,{angle:D.angle,align:Y,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=Qe)},oe=function(D,Y,Q,ue){Q=Q||0,ue=ue||0,this.pdf.internal.out(t(D+Q)+" "+i(Y+ue)+" l")},ne=function(D,Y,Q){return this.pdf.lines(D,Y,Q,null,null)},ie=function(D,Y,Q,ue,ce,ye,Se,Ee){this.pdf.internal.out([e(r(Q+D)),e(s(ue+Y)),e(r(ce+D)),e(s(ye+Y)),e(r(Se+D)),e(s(Ee+Y)),"c"].join(" "))},G=function(D,Y,Q,ue){for(var ce=2*Math.PI,ye=Math.PI/2;Y>Q;)Y-=ce;var Se=Math.abs(Q-Y);Se<ce&&ue&&(Se=ce-Se);for(var Ee=[],$e=ue?-1:1,Ye=Y;Se>1e-5;){var Qe=Ye+$e*Math.min(Se,ye);Ee.push(te.call(this,D,Ye,Qe)),Se-=Math.abs(Qe-Ye),Ye=Qe}return Ee},te=function(D,Y,Q){var ue=(Q-Y)/2,ce=D*Math.cos(ue),ye=D*Math.sin(ue),Se=ce,Ee=-ye,$e=Se*Se+Ee*Ee,Ye=$e+Se*ce+Ee*ye,Qe=4/3*(Math.sqrt(2*$e*Ye)-Ye)/(Se*ye-Ee*ce),Ke=Se-Qe*Ee,et=Ee+Qe*Se,De=Ke,fe=-et,Et=ue+Y,yt=Math.cos(Et),Ze=Math.sin(Et);return{x1:D*Math.cos(Y),y1:D*Math.sin(Y),x2:Ke*yt-et*Ze,y2:Ke*Ze+et*yt,x3:De*yt-fe*Ze,y3:De*Ze+fe*yt,x4:D*Math.cos(Q),y4:D*Math.sin(Q)}},ae=function(D){return 180*D/Math.PI},pe=function(D,Y,Q,ue,ce,ye){var Se=D+.5*(Q-D),Ee=Y+.5*(ue-Y),$e=ce+.5*(Q-ce),Ye=ye+.5*(ue-ye),Qe=Math.min(D,ce,Se,$e),Ke=Math.max(D,ce,Se,$e),et=Math.min(Y,ye,Ee,Ye),De=Math.max(Y,ye,Ee,Ye);return new u(Qe,et,Ke-Qe,De-et)},j=function(D,Y,Q,ue,ce,ye,Se,Ee){var $e,Ye,Qe,Ke,et,De,fe,Et,yt,Ze,nt,st,it,mt,Pt=Q-D,Kt=ue-Y,jt=ce-Q,xt=ye-ue,Yt=Se-ce,bt=Ee-ye;for(Ye=0;Ye<41;Ye++)yt=(fe=(Qe=D+($e=Ye/40)*Pt)+$e*((et=Q+$e*jt)-Qe))+$e*(et+$e*(ce+$e*Yt-et)-fe),Ze=(Et=(Ke=Y+$e*Kt)+$e*((De=ue+$e*xt)-Ke))+$e*(De+$e*(ye+$e*bt-De)-Et),Ye==0?(nt=yt,st=Ze,it=yt,mt=Ze):(nt=Math.min(nt,yt),st=Math.min(st,Ze),it=Math.max(it,yt),mt=Math.max(mt,Ze));return new u(Math.round(nt),Math.round(st),Math.round(it-nt),Math.round(mt-st))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,Y,Q=(D=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:Y}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Ht.API),function(n){var e=function(s){var o,u,c,f,h,y,b,x,N,T;for(u=[],c=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>c;c+=4)(h=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(y=(h=((h=((h=((h=(h-(T=h%85))/85)-(N=h%85))/85)-(x=h%85))/85)-(b=h%85))/85)%85,u.push(y+33,b+33,x+33,N+33,T+33)):u.push(122);return function(M,k){for(var P=k;P>0;P--)M.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},t=function(s){var o,u,c,f,h,y=String,b="length",x=255,N="charCodeAt",T="slice",M="replace";for(s[T](-2),s=s[T](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),c=[],f=0,h=(s+=o="uuuuu"[T](s[b]%5||5))[b];h>f;f+=5)u=52200625*(s[N](f)-33)+614125*(s[N](f+1)-33)+7225*(s[N](f+2)-33)+85*(s[N](f+3)-33)+(s[N](f+4)-33),c.push(x&u>>24,x&u>>16,x&u>>8,x&u);return function(k,P){for(var I=P;I>0;I--)k.pop()}(c,o[b]),y.fromCharCode.apply(y,c)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var u="",c=0;c<s.length;c+=2)u+=String.fromCharCode("0x"+(s[c]+s[c+1]));return u},r=function(s){for(var o=new Uint8Array(s.length),u=s.length;u--;)o[u]=s.charCodeAt(u);return s=(o=V1(o)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};n.processDataByFilters=function(s,o){var u=0,c=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=r(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(Ht.API),function(n){n.loadFile=function(e,t,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(c,f,h){var y=new XMLHttpRequest,b=0,x=function(N){var T=N.length,M=[],k=String.fromCharCode;for(b=0;b<T;b+=1)M.push(k(255&N.charCodeAt(b)));return M.join("")};if(y.open("GET",c,!f),y.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(y.onload=function(){y.status===200?h(x(this.responseText)):h(void 0)}),y.send(null),f&&y.status===200)return x(y.responseText)}(r,s,o)}catch{}return u}(e,t,i)},n.loadImageFile=n.loadFile}(Ht.API),function(n){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):F1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):F1(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var u=ei(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},r=function(o,u){var c=document.createElement(o);for(var f in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[f]=u.style[f];return c},s=function o(u){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),c);return f=(f=f.setProgress(1,o,1,[o])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,u){return o.__proto__=u||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(f,h){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)h!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||y.appendChild(c(b,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var c=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var b=0;b<f.length;++b){var x=f[b],N=x.src.find(function(T){return T.format==="truetype"});N&&c.addFont(N.url,x.ref.name,x.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,c.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},s.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var u=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(o,u){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return u?u(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function u(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(o=o||Ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,u,c,f){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,u,c,f){return this.setProgress(o?this.progress.val+o:null,u||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,u){var c=this;return this.thenCore(o,u,function(f,h){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(y){return c.updateProgress(null,f),y}).then(f,h).then(function(y){return c.updateProgress(1),y})})},s.prototype.thenCore=function(o,u,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=c.call(f,o,u);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},s.prototype.thenList=function(o){var u=this;return o.forEach(function(c){u=u.thenCore(c)}),u},s.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return s.convert(u,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ht.getPageSize=function(o,u,c){if(ei(o)==="object"){var f=o;o=f.orientation,u=f.unit||u,c=f.format||c}u=u||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,y=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+u}var x,N=0,T=0;if(b.hasOwnProperty(y))N=b[y][1]/h,T=b[y][0]/h;else try{N=c[1],T=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",T>N&&(x=T,T=N,N=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>T&&(x=T,T=N,N=x)}return{width:T,height:N,unit:u,k:h,orientation:o}},n.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Y1):null;var c=new s(u);return u.worker?c:c.from(o).doCallback()}}(Ht.API),Ht.API.addJS=function(n){return sb=n,this.internal.events.subscribe("postPutResources",function(){ng=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ng+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),rb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ng!==void 0&&rb!==void 0&&this.internal.out("/Names <</JavaScript "+ng+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],u=i.exec(o);if(u!=null){var c=u[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(s=0;s<f;s++){var y=t.internal.newObject();h.push(y);var b=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var x=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+x+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(Ht.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,s,o,u){var c,f=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(y){for(var b,x=256*y.charCodeAt(4)+y.charCodeAt(5),N=y.length,T={width:0,height:0,numcomponents:1},M=4;M<N;M+=2){if(M+=x,e.indexOf(y.charCodeAt(M+1))!==-1){b=256*y.charCodeAt(M+5)+y.charCodeAt(M+6),T={width:256*y.charCodeAt(M+7)+y.charCodeAt(M+8),height:b,numcomponents:y.charCodeAt(M+9)};break}x=256*y.charCodeAt(M+2)+y.charCodeAt(M+3)}return T}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return h}}(Ht.API);var Cf,ig,ab,ob,lb,jR=function(){var n,e,t;function i(s){var o,u,c,f,h,y,b,x,N,T,M,k,P,I;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),N=(function(){var J,H;for(H=[],J=0;J<4;++J)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,y.delay=1e3*h/f,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),s=(y!=null?y.data:void 0)||this.imgData,k=0;0<=o?k<o:k>o;0<=o?++k:--k)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((T=c-this.transparency.indexed.length)>0)for(P=0;0<=T?P<T:P>T;0<=T?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":b=(M=this.read(o)).indexOf(0),x=String.fromCharCode.apply(String,M.slice(0,b)),this.text[x]=String.fromCharCode.apply(String,M.slice(b+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(I=this.colorType)===4||I===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,u;for(u=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),c=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(y,b,x,N){var T,M,k,P,I,J,H,K,X,U,ee,de,B,q,oe,ne,ie,G,te,ae,pe,j=Math.ceil((f.width-y)/x),me=Math.ceil((f.height-b)/N),D=f.width==j&&f.height==me;for(q=o*j,de=D?u:new Uint8Array(q*me),J=s.length,B=0,M=0;B<me&&c<J;){switch(s[c++]){case 0:for(P=ie=0;ie<q;P=ie+=1)de[M++]=s[c++];break;case 1:for(P=G=0;G<q;P=G+=1)T=s[c++],I=P<o?0:de[M-o],de[M++]=(T+I)%256;break;case 2:for(P=te=0;te<q;P=te+=1)T=s[c++],k=(P-P%o)/o,oe=B&&de[(B-1)*q+k*o+P%o],de[M++]=(oe+T)%256;break;case 3:for(P=ae=0;ae<q;P=ae+=1)T=s[c++],k=(P-P%o)/o,I=P<o?0:de[M-o],oe=B&&de[(B-1)*q+k*o+P%o],de[M++]=(T+Math.floor((I+oe)/2))%256;break;case 4:for(P=pe=0;pe<q;P=pe+=1)T=s[c++],k=(P-P%o)/o,I=P<o?0:de[M-o],B===0?oe=ne=0:(oe=de[(B-1)*q+k*o+P%o],ne=k&&de[(B-1)*q+(k-1)*o+P%o]),H=I+oe-ne,K=Math.abs(H-I),U=Math.abs(H-oe),ee=Math.abs(H-ne),X=K<=U&&K<=ee?I:U<=ee?oe:ne,de[M++]=(T+X)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!D){var Y=((b+B*N)*f.width+y)*o,Q=B*q;for(P=0;P<j;P+=1){for(var ue=0;ue<o;ue+=1)u[Y++]=de[Q++];Y+=(x-1)*o}}B++}}return s=vR(s),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),u},i.prototype.decodePalette=function(){var s,o,u,c,f,h,y,b,x;for(u=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+u.length),c=0,s=0,o=y=0,b=u.length;y<b;o=y+=3)f[c++]=u[o],f[c++]=u[o+1],f[c++]=u[o+2],f[c++]=(x=h[s++])!=null?x:255;return f},i.prototype.copyToImageData=function(s,o){var u,c,f,h,y,b,x,N,T,M,k;if(c=this.colors,T=null,u=this.hasAlphaChannel,this.palette.length&&(T=(k=this._decodedPalette)!=null?k:this._decodedPalette=this.decodePalette(),c=4,u=!0),N=(f=s.data||s).length,y=T||o,h=b=0,c===1)for(;h<N;)x=T?4*o[h/4]:b,M=y[x++],f[h++]=M,f[h++]=M,f[h++]=M,f[h++]=u?y[x++]:255,b=x;else for(;h<N;)x=T?4*o[h/4]:b,f[h++]=y[x++],f[h++]=y[x++],f[h++]=y[x++],f[h++]=u?y[x++]:255,b=x},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Wt)==="[object Window]"){try{e=Wt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(r()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,u,c,f,h,y,b,x;if(this.animation){for(x=[],u=h=0,y=(b=this.animation.frames).length;h<y;u=++h)o=b[u],c=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,f),o.imageData=c,x.push(o.image=n(c));return x}},i.prototype.renderFrame=function(s,o){var u,c,f;return u=(c=this.animation.frames)[o],f=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(s){var o,u,c,f,h,y,b=this;return u=0,y=this.animation,f=y.numFrames,c=y.frames,h=y.numPlays,(o=function(){var x,N;if(x=u++%f,N=c[x],b.renderFrame(s,x),f>1&&u/f<h)return b.animation._timeout=setTimeout(o,N.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function UR(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],s=r>>7,o=1<<(7&r)+1;n[e++],n[e++];var u=null,c=null;s&&(u=e,c=o,e+=3*o);var f=!0,h=[],y=0,b=null,x=0,N=null;for(this.width=t,this.height=i;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,N=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=n[e++];y=n[e++]|n[e++]<<8,b=n[e++],(1&T)==0&&(b=null),x=T>>2&7,e++;break;case 254:for(;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var M=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,J=n[e++],H=J>>6&1,K=1<<(7&J)+1,X=u,U=c,ee=!1;J>>7&&(ee=!0,X=e,U=K,e+=3*K);var de=e;for(e++;;){var B;if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}h.push({x:M,y:k,width:P,height:I,has_local_palette:ee,palette_offset:X,palette_size:U,data_offset:de,data_length:e-de,transparent_index:b,interlaced:!!H,delay:y,disposal:x});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return N},this.frameInfo=function(q){if(q<0||q>=h.length)throw new Error("Frame index out of range.");return h[q]},this.decodeAndBlitFrameBGRA=function(q,oe){var ne=this.frameInfo(q),ie=ne.width*ne.height,G=new Uint8Array(ie);ub(n,ne.data_offset,G,ie);var te=ne.palette_offset,ae=ne.transparent_index;ae===null&&(ae=256);var pe=ne.width,j=t-pe,me=pe,D=4*(ne.y*t+ne.x),Y=4*((ne.y+ne.height)*t+ne.x),Q=D,ue=4*j;ne.interlaced===!0&&(ue+=4*t*7);for(var ce=8,ye=0,Se=G.length;ye<Se;++ye){var Ee=G[ye];if(me===0&&(me=pe,(Q+=ue)>=Y&&(ue=4*j+4*t*(ce-1),Q=D+(pe+j)*(ce<<1),ce>>=1)),Ee===ae)Q+=4;else{var $e=n[te+3*Ee],Ye=n[te+3*Ee+1],Qe=n[te+3*Ee+2];oe[Q++]=Qe,oe[Q++]=Ye,oe[Q++]=$e,oe[Q++]=255}--me}},this.decodeAndBlitFrameRGBA=function(q,oe){var ne=this.frameInfo(q),ie=ne.width*ne.height,G=new Uint8Array(ie);ub(n,ne.data_offset,G,ie);var te=ne.palette_offset,ae=ne.transparent_index;ae===null&&(ae=256);var pe=ne.width,j=t-pe,me=pe,D=4*(ne.y*t+ne.x),Y=4*((ne.y+ne.height)*t+ne.x),Q=D,ue=4*j;ne.interlaced===!0&&(ue+=4*t*7);for(var ce=8,ye=0,Se=G.length;ye<Se;++ye){var Ee=G[ye];if(me===0&&(me=pe,(Q+=ue)>=Y&&(ue=4*j+4*t*(ce-1),Q=D+(pe+j)*(ce<<1),ce>>=1)),Ee===ae)Q+=4;else{var $e=n[te+3*Ee],Ye=n[te+3*Ee+1],Qe=n[te+3*Ee+2];oe[Q++]=$e,oe[Q++]=Ye,oe[Q++]=Qe,oe[Q++]=255}--me}}}function ub(n,e,t,i){for(var r=n[e++],s=1<<r,o=s+1,u=o+1,c=r+1,f=(1<<c)-1,h=0,y=0,b=0,x=n[e++],N=new Int32Array(4096),T=null;;){for(;h<16&&x!==0;)y|=n[e++]<<h,h+=8,x===1?x=n[e++]:--x;if(h<c)break;var M=y&f;if(y>>=c,h-=c,M!==s){if(M===o)break;for(var k=M<u?M:T,P=0,I=k;I>s;)I=N[I]>>8,++P;var J=I;if(b+P+(k!==M?1:0)>i)return void li.log("Warning, gif stream longer than expected.");t[b++]=J;var H=b+=P;for(k!==M&&(t[b++]=J),I=k;P--;)I=N[I],t[--H]=255&I,I>>=8;T!==null&&u<4096&&(N[u++]=T<<8|J,u>=f+1&&c<12&&(++c,f=f<<1|1)),T=M}else u=o+1,f=(1<<(c=r+1))-1,T=null}return b!==i&&li.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $0(n){var e,t,i,r,s,o=Math.floor,u=new Array(64),c=new Array(64),f=new Array(64),h=new Array(64),y=new Array(65535),b=new Array(65535),x=new Array(64),N=new Array(64),T=[],M=0,k=7,P=new Array(64),I=new Array(64),J=new Array(64),H=new Array(256),K=new Array(2048),X=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(D,Y){for(var Q=0,ue=0,ce=new Array,ye=1;ye<=16;ye++){for(var Se=1;Se<=D[ye];Se++)ce[Y[ue]]=[],ce[Y[ue]][0]=Q,ce[Y[ue]][1]=ye,ue++,Q++;Q*=2}return ce}function te(D){for(var Y=D[0],Q=D[1]-1;Q>=0;)Y&1<<Q&&(M|=1<<k),Q--,--k<0&&(M==255?(ae(255),ae(0)):ae(M),k=7,M=0)}function ae(D){T.push(D)}function pe(D){ae(D>>8&255),ae(255&D)}function j(D,Y,Q,ue,ce){for(var ye,Se=ce[0],Ee=ce[240],$e=function(Ze,nt){var st,it,mt,Pt,Kt,jt,xt,Yt,bt,Vt,lt=0;for(bt=0;bt<8;++bt){st=Ze[lt],it=Ze[lt+1],mt=Ze[lt+2],Pt=Ze[lt+3],Kt=Ze[lt+4],jt=Ze[lt+5],xt=Ze[lt+6];var ui=st+(Yt=Ze[lt+7]),zt=st-Yt,Ei=it+xt,hn=it-xt,pn=mt+jt,ci=mt-jt,yn=Pt+Kt,os=Pt-Kt,Rn=ui+yn,ki=ui-yn,Yi=Ei+pn,Dn=Ei-pn;Ze[lt]=Rn+Yi,Ze[lt+4]=Rn-Yi;var Ot=.707106781*(Dn+ki);Ze[lt+2]=ki+Ot,Ze[lt+6]=ki-Ot;var Dt=.382683433*((Rn=os+ci)-(Dn=hn+zt)),xi=.5411961*Rn+Dt,ti=1.306562965*Dn+Dt,nr=.707106781*(Yi=ci+hn),kr=zt+nr,gt=zt-nr;Ze[lt+5]=gt+xi,Ze[lt+3]=gt-xi,Ze[lt+1]=kr+ti,Ze[lt+7]=kr-ti,lt+=8}for(lt=0,bt=0;bt<8;++bt){st=Ze[lt],it=Ze[lt+8],mt=Ze[lt+16],Pt=Ze[lt+24],Kt=Ze[lt+32],jt=Ze[lt+40],xt=Ze[lt+48];var In=st+(Yt=Ze[lt+56]),Cn=st-Yt,ni=it+xt,kn=it-xt,Nn=mt+jt,Sr=mt-jt,Yn=Pt+Kt,pr=Pt-Kt,Mn=In+Yn,fi=In-Yn,di=ni+Nn,gr=ni-Nn;Ze[lt]=Mn+di,Ze[lt+32]=Mn-di;var ai=.707106781*(gr+fi);Ze[lt+16]=fi+ai,Ze[lt+48]=fi-ai;var Xt=.382683433*((Mn=pr+Sr)-(gr=kn+Cn)),ls=.5411961*Mn+Xt,Ar=1.306562965*gr+Xt,bi=.707106781*(di=Sr+kn),Bi=Cn+bi,Rs=Cn-bi;Ze[lt+40]=Rs+ls,Ze[lt+24]=Rs-ls,Ze[lt+8]=Bi+Ar,Ze[lt+56]=Bi-Ar,lt++}for(bt=0;bt<64;++bt)Vt=Ze[bt]*nt[bt],x[bt]=Vt>0?Vt+.5|0:Vt-.5|0;return x}(D,Y),Ye=0;Ye<64;++Ye)N[X[Ye]]=$e[Ye];var Qe=N[0]-Q;Q=N[0],Qe==0?te(ue[0]):(te(ue[b[ye=32767+Qe]]),te(y[ye]));for(var Ke=63;Ke>0&&N[Ke]==0;)Ke--;if(Ke==0)return te(Se),Q;for(var et,De=1;De<=Ke;){for(var fe=De;N[De]==0&&De<=Ke;)++De;var Et=De-fe;if(Et>=16){et=Et>>4;for(var yt=1;yt<=et;++yt)te(Ee);Et&=15}ye=32767+N[De],te(ce[(Et<<4)+b[ye]]),te(y[ye]),De++}return Ke!=63&&te(Se),Q}function me(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(Y){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var ce=o((Q[ue]*Y+50)/100);ce=Math.min(Math.max(ce,1),255),u[X[ue]]=ce}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Ee=o((ye[Se]*Y+50)/100);Ee=Math.min(Math.max(Ee,1),255),c[X[Se]]=Ee}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,Qe=0;Qe<8;Qe++)for(var Ke=0;Ke<8;Ke++)f[Ye]=1/(u[X[Ye]]*$e[Qe]*$e[Ke]*8),h[Ye]=1/(c[X[Ye]]*$e[Qe]*$e[Ke]*8),Ye++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,Y){Y&&me(Y),T=new Array,M=0,k=7,pe(65496),pe(65504),pe(16),ae(74),ae(70),ae(73),ae(70),ae(0),ae(1),ae(1),ae(0),pe(1),pe(1),ae(0),ae(0),function(){pe(65499),pe(132),ae(0);for(var it=0;it<64;it++)ae(u[it]);ae(1);for(var mt=0;mt<64;mt++)ae(c[mt])}(),function(it,mt){pe(65472),pe(17),ae(8),pe(mt),pe(it),ae(3),ae(1),ae(17),ae(0),ae(2),ae(17),ae(1),ae(3),ae(17),ae(1)}(D.width,D.height),function(){pe(65476),pe(418),ae(0);for(var it=0;it<16;it++)ae(U[it+1]);for(var mt=0;mt<=11;mt++)ae(ee[mt]);ae(16);for(var Pt=0;Pt<16;Pt++)ae(de[Pt+1]);for(var Kt=0;Kt<=161;Kt++)ae(B[Kt]);ae(1);for(var jt=0;jt<16;jt++)ae(q[jt+1]);for(var xt=0;xt<=11;xt++)ae(oe[xt]);ae(17);for(var Yt=0;Yt<16;Yt++)ae(ne[Yt+1]);for(var bt=0;bt<=161;bt++)ae(ie[bt])}(),pe(65498),pe(12),ae(3),ae(1),ae(0),ae(2),ae(17),ae(3),ae(17),ae(0),ae(63),ae(0);var Q=0,ue=0,ce=0;M=0,k=7,this.encode.displayName="_encode_";for(var ye,Se,Ee,$e,Ye,Qe,Ke,et,De,fe=D.data,Et=D.width,yt=D.height,Ze=4*Et,nt=0;nt<yt;){for(ye=0;ye<Ze;){for(Ye=Ze*nt+ye,Ke=-1,et=0,De=0;De<64;De++)Qe=Ye+(et=De>>3)*Ze+(Ke=4*(7&De)),nt+et>=yt&&(Qe-=Ze*(nt+1+et-yt)),ye+Ke>=Ze&&(Qe-=ye+Ke-Ze+4),Se=fe[Qe++],Ee=fe[Qe++],$e=fe[Qe++],P[De]=(K[Se]+K[Ee+256>>0]+K[$e+512>>0]>>16)-128,I[De]=(K[Se+768>>0]+K[Ee+1024>>0]+K[$e+1280>>0]>>16)-128,J[De]=(K[Se+1280>>0]+K[Ee+1536>>0]+K[$e+1792>>0]>>16)-128;Q=j(P,f,Q,e,i),ue=j(I,h,ue,t,r),ce=j(J,h,ce,t,r),ye+=32}nt+=8}if(k>=0){var st=[];st[1]=k+1,st[0]=(1<<k+1)-1,te(st)}return pe(65497),new Uint8Array(T)},n=n||50,function(){for(var D=String.fromCharCode,Y=0;Y<256;Y++)H[Y]=D(Y)}(),e=G(U,ee),t=G(q,oe),i=G(de,B),r=G(ne,ie),function(){for(var D=1,Y=2,Q=1;Q<=15;Q++){for(var ue=D;ue<Y;ue++)b[32767+ue]=Q,y[32767+ue]=[],y[32767+ue][1]=Q,y[32767+ue][0]=ue;for(var ce=-(Y-1);ce<=-D;ce++)b[32767+ce]=Q,y[32767+ce]=[],y[32767+ce][1]=Q,y[32767+ce][0]=Y-1+ce;D<<=1,Y<<=1}}(),function(){for(var D=0;D<256;D++)K[D]=19595*D,K[D+256>>0]=38470*D,K[D+512>>0]=7471*D+32768,K[D+768>>0]=-11059*D,K[D+1024>>0]=-21709*D,K[D+1280>>0]=32768*D+8421375,K[D+1536>>0]=-27439*D,K[D+1792>>0]=-5329*D}(),me(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ka(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function cb(n){function e(U){if(!U)throw Error("assert :P")}function t(U,ee,de){for(var B=0;4>B;B++)if(U[ee+B]!=de.charCodeAt(B))return!0;return!1}function i(U,ee,de,B,q){for(var oe=0;oe<q;oe++)U[ee+oe]=de[B+oe]}function r(U,ee,de,B){for(var q=0;q<B;q++)U[ee+q]=de}function s(U){return new Int32Array(U)}function o(U,ee){for(var de=[],B=0;B<U;B++)de.push(new ee);return de}function u(U,ee){var de=[];return function B(q,oe,ne){for(var ie=ne[oe],G=0;G<ie&&(q.push(ne.length>oe+1?[]:new ee),!(ne.length<oe+1));G++)B(q[G],oe+1,ne)}(de,0,U),de}var c=function(){var U=this;function ee(v,_){for(var E=1<<_-1>>>0;v&E;)E>>>=1;return E?(v&E-1)+E:v}function de(v,_,E,L,O){e(!(L%E));do v[_+(L-=E)]=O;while(0<L)}function B(v,_,E,L,O){if(e(2328>=O),512>=O)var z=s(512);else if((z=s(O))==null)return 0;return function(V,W,Z,se,ve,Le){var ke,Ae,He=W,Oe=1<<Z,xe=s(16),_e=s(16);for(e(ve!=0),e(se!=null),e(V!=null),e(0<Z),Ae=0;Ae<ve;++Ae){if(15<se[Ae])return 0;++xe[se[Ae]]}if(xe[0]==ve)return 0;for(_e[1]=0,ke=1;15>ke;++ke){if(xe[ke]>1<<ke)return 0;_e[ke+1]=_e[ke]+xe[ke]}for(Ae=0;Ae<ve;++Ae)ke=se[Ae],0<se[Ae]&&(Le[_e[ke]++]=Ae);if(_e[15]==1)return(se=new q).g=0,se.value=Le[0],de(V,He,1,Oe,se),Oe;var Be,Ge=-1,Ue=Oe-1,ft=0,rt=1,Lt=1,at=1<<Z;for(Ae=0,ke=1,ve=2;ke<=Z;++ke,ve<<=1){if(rt+=Lt<<=1,0>(Lt-=xe[ke]))return 0;for(;0<xe[ke];--xe[ke])(se=new q).g=ke,se.value=Le[Ae++],de(V,He+ft,ve,at,se),ft=ee(ft,ke)}for(ke=Z+1,ve=2;15>=ke;++ke,ve<<=1){if(rt+=Lt<<=1,0>(Lt-=xe[ke]))return 0;for(;0<xe[ke];--xe[ke]){if(se=new q,(ft&Ue)!=Ge){for(He+=at,Be=1<<(Ge=ke)-Z;15>Ge&&!(0>=(Be-=xe[Ge]));)++Ge,Be<<=1;Oe+=at=1<<(Be=Ge-Z),V[W+(Ge=ft&Ue)].g=Be+Z,V[W+Ge].value=He-W-Ge}se.g=ke-Z,se.value=Le[Ae++],de(V,He+(ft>>Z),ve,at,se),ft=ee(ft,ke)}}return rt!=2*_e[15]-1?0:Oe}(v,_,E,L,O,z)}function q(){this.value=this.g=0}function oe(){this.value=this.g=0}function ne(){this.G=o(5,q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(rr,oe)}function ie(v,_,E,L){e(v!=null),e(_!=null),e(2147483648>L),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=_,v.pa=E,v.Jd=_,v.Yc=E+L,v.Zc=4<=L?E+L-4+1:E,ye(v)}function G(v,_){for(var E=0;0<_--;)E|=Ee(v,128)<<_;return E}function te(v,_){var E=G(v,_);return Se(v)?-E:E}function ae(v,_,E,L){var O,z=0;for(e(v!=null),e(_!=null),e(4294967288>L),v.Sb=L,v.Ra=0,v.u=0,v.h=0,4<L&&(L=4),O=0;O<L;++O)z+=_[E+O]<<8*O;v.Ra=z,v.bb=L,v.oa=_,v.pa=E}function pe(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Qo-8>>>0,++v.bb,v.u-=8;Q(v)&&(v.h=1,v.u=0)}function j(v,_){if(e(0<=_),!v.h&&_<=Xo){var E=Y(v)&ho[_];return v.u+=_,pe(v),E}return v.h=1,v.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(v){return v.Ra>>>(v.u&Qo-1)>>>0}function Q(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Qo}function ue(v,_){v.u=_,v.h=Q(v)}function ce(v){v.u>=Kl&&(e(v.u>=Kl),pe(v))}function ye(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function Se(v){return G(v,1)}function Ee(v,_){var E=v.Ca;0>v.b&&ye(v);var L=v.b,O=E*_>>>8,z=(v.I>>>L>O)+0;for(z?(E-=O,v.I-=O+1<<L>>>0):E=O+1,L=E,O=0;256<=L;)O+=8,L>>=8;return L=7^O+Kr[L],v.b-=L,v.Ca=(E<<L)-1,z}function $e(v,_,E){v[_+0]=E>>24&255,v[_+1]=E>>16&255,v[_+2]=E>>8&255,v[_+3]=E>>0&255}function Ye(v,_){return v[_+0]<<0|v[_+1]<<8}function Qe(v,_){return Ye(v,_)|v[_+2]<<16}function Ke(v,_){return Ye(v,_)|Ye(v,_+2)<<16}function et(v,_){var E=1<<_;return e(v!=null),e(0<_),v.X=s(E),v.X==null?0:(v.Mb=32-_,v.Xa=_,1)}function De(v,_){e(v!=null),e(_!=null),e(v.Xa==_.Xa),i(_.X,0,v.X,0,1<<_.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function Et(v,_,E,L){e(E!=null),e(L!=null);var O=E[0],z=L[0];return O==0&&(O=(v*z+_/2)/_),z==0&&(z=(_*O+v/2)/v),0>=O||0>=z?0:(E[0]=O,L[0]=z,1)}function yt(v,_){return v+(1<<_)-1>>>_}function Ze(v,_){return((4278255360&v)+(4278255360&_)>>>0&4278255360)+((16711935&v)+(16711935&_)>>>0&16711935)>>>0}function nt(v,_){U[_]=function(E,L,O,z,V,W,Z){var se;for(se=0;se<V;++se){var ve=U[v](W[Z+se-1],O,z+se);W[Z+se]=Ze(E[L+se],ve)}}}function st(){this.ud=this.hd=this.jd=0}function it(v,_){return((4278124286&(v^_))>>>1)+(v&_)>>>0}function mt(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Pt(v,_){return mt(v+(v-_+.5>>1))}function Kt(v,_,E){return Math.abs(_-E)-Math.abs(v-E)}function jt(v,_,E,L,O,z,V){for(L=z[V-1],E=0;E<O;++E)z[V+E]=L=Ze(v[_+E],L)}function xt(v,_,E,L,O){var z;for(z=0;z<E;++z){var V=v[_+z],W=V>>8&255,Z=16711935&(Z=(Z=16711935&V)+((W<<16)+W));L[O+z]=(4278255360&V)+Z>>>0}}function Yt(v,_){_.jd=v>>0&255,_.hd=v>>8&255,_.ud=v>>16&255}function bt(v,_,E,L,O,z){var V;for(V=0;V<L;++V){var W=_[E+V],Z=W>>>8,se=W,ve=255&(ve=(ve=W>>>16)+((v.jd<<24>>24)*(Z<<24>>24)>>>5));se=255&(se=(se=se+((v.hd<<24>>24)*(Z<<24>>24)>>>5))+((v.ud<<24>>24)*(ve<<24>>24)>>>5)),O[z+V]=(4278255360&W)+(ve<<16)+se}}function Vt(v,_,E,L,O){U[_]=function(z,V,W,Z,se,ve,Le,ke,Ae){for(Z=Le;Z<ke;++Z)for(Le=0;Le<Ae;++Le)se[ve++]=O(W[L(z[V++])])},U[v]=function(z,V,W,Z,se,ve,Le){var ke=8>>z.b,Ae=z.Ea,He=z.K[0],Oe=z.w;if(8>ke)for(z=(1<<z.b)-1,Oe=(1<<ke)-1;V<W;++V){var xe,_e=0;for(xe=0;xe<Ae;++xe)xe&z||(_e=L(Z[se++])),ve[Le++]=O(He[_e&Oe]),_e>>=ke}else U["VP8LMapColor"+E](Z,se,He,Oe,ve,Le,V,W,Ae)}}function lt(v,_,E,L,O){for(E=_+E;_<E;){var z=v[_++];L[O++]=z>>16&255,L[O++]=z>>8&255,L[O++]=z>>0&255}}function ui(v,_,E,L,O){for(E=_+E;_<E;){var z=v[_++];L[O++]=z>>16&255,L[O++]=z>>8&255,L[O++]=z>>0&255,L[O++]=z>>24&255}}function zt(v,_,E,L,O){for(E=_+E;_<E;){var z=(V=v[_++])>>16&240|V>>12&15,V=V>>0&240|V>>28&15;L[O++]=z,L[O++]=V}}function Ei(v,_,E,L,O){for(E=_+E;_<E;){var z=(V=v[_++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;L[O++]=z,L[O++]=V}}function hn(v,_,E,L,O){for(E=_+E;_<E;){var z=v[_++];L[O++]=z>>0&255,L[O++]=z>>8&255,L[O++]=z>>16&255}}function pn(v,_,E,L,O,z){if(z==0)for(E=_+E;_<E;)$e(L,((z=v[_++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),O+=32;else i(L,O,v,_,E)}function ci(v,_){U[_][0]=U[v+"0"],U[_][1]=U[v+"1"],U[_][2]=U[v+"2"],U[_][3]=U[v+"3"],U[_][4]=U[v+"4"],U[_][5]=U[v+"5"],U[_][6]=U[v+"6"],U[_][7]=U[v+"7"],U[_][8]=U[v+"8"],U[_][9]=U[v+"9"],U[_][10]=U[v+"10"],U[_][11]=U[v+"11"],U[_][12]=U[v+"12"],U[_][13]=U[v+"13"],U[_][14]=U[v+"0"],U[_][15]=U[v+"0"]}function yn(v){return v==Xu||v==So||v==Da||v==Zl}function os(){this.eb=[],this.size=this.A=this.fb=0}function Rn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ki(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new os,this.f.kb=new Rn,this.sd=null}function Yi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ot(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Dt(v,_){var E=v.T,L=_.ba.f.RGBA,O=L.eb,z=L.fb+v.ka*L.A,V=xr[_.ba.S],W=v.y,Z=v.O,se=v.f,ve=v.N,Le=v.ea,ke=v.W,Ae=_.cc,He=_.dc,Oe=_.Mc,xe=_.Nc,_e=v.ka,Be=v.ka+v.T,Ge=v.U,Ue=Ge+1>>1;for(_e==0?V(W,Z,null,null,se,ve,Le,ke,se,ve,Le,ke,O,z,null,null,Ge):(V(_.ec,_.fc,W,Z,Ae,He,Oe,xe,se,ve,Le,ke,O,z-L.A,O,z,Ge),++E);_e+2<Be;_e+=2)Ae=se,He=ve,Oe=Le,xe=ke,ve+=v.Rc,ke+=v.Rc,z+=2*L.A,V(W,(Z+=2*v.fa)-v.fa,W,Z,Ae,He,Oe,xe,se,ve,Le,ke,O,z-L.A,O,z,Ge);return Z+=v.fa,v.j+Be<v.o?(i(_.ec,_.fc,W,Z,Ge),i(_.cc,_.dc,se,ve,Ue),i(_.Mc,_.Nc,Le,ke,Ue),E--):1&Be||V(W,Z,null,null,se,ve,Le,ke,se,ve,Le,ke,O,z+L.A,null,null,Ge),E}function xi(v,_,E){var L=v.F,O=[v.J];if(L!=null){var z=v.U,V=_.ba.S,W=V==rl||V==Da;_=_.ba.f.RGBA;var Z=[0],se=v.ka;Z[0]=v.T,v.Kb&&(se==0?--Z[0]:(--se,O[0]-=v.width),v.j+v.ka+v.T==v.o&&(Z[0]=v.o-v.j-se));var ve=_.eb;se=_.fb+se*_.A,v=mn(L,O[0],v.width,z,Z,ve,se+(W?0:3),_.A),e(E==Z),v&&yn(V)&&ds(ve,se,W,z,Z,_.A)}return 0}function ti(v){var _=v.ma,E=_.ba.S,L=11>E,O=E==Jl||E==Zu||E==rl||E==Ra||E==12||yn(E);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!fo(_.Oa,v,O?11:12))return 0;if(O&&yn(E)&&Je(),v.da)alert("todo:use_scaling");else{if(L){if(_.Ib=Ot,v.Kb){if(E=v.U+1>>1,_.memory=s(v.U+2*E),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+v.U,_.Mc=_.cc,_.Nc=_.dc+E,_.Ib=Dt,Je()}}else alert("todo:EmitYUV");O&&(_.Jb=xi,L&&Ne())}if(L&&!Zh){for(v=0;256>v;++v)Cm[v]=89858*(v-128)+ar>>fa,tc[v]=-22014*(v-128)+ar,dd[v]=-45773*(v-128),or[v]=113618*(v-128)+ar>>fa;for(v=Co;v<ef;++v)_=76283*(v-16)+ar>>fa,nc[v-Co]=fs(_,255),hd[v-Co]=fs(_+8>>4,15);Zh=1}return 1}function nr(v){var _=v.ma,E=v.U,L=v.T;return e(!(1&v.ka)),0>=E||0>=L?0:(E=_.Ib(v,_),_.Jb!=null&&_.Jb(v,_,E),_.Dc+=E,1)}function kr(v){v.ma.memory=null}function gt(v,_,E,L){return j(v,8)!=47?0:(_[0]=j(v,14)+1,E[0]=j(v,14)+1,L[0]=j(v,1),j(v,3)!=0?0:!v.h)}function In(v,_){if(4>v)return v+1;var E=v-2>>1;return(2+(1&v)<<E)+j(_,E)+1}function Cn(v,_){return 120<_?_-120:1<=(E=((E=Oa[_-1])>>4)*v+(8-(15&E)))?E:1;var E}function ni(v,_,E){var L=Y(E),O=v[_+=255&L].g-8;return 0<O&&(ue(E,E.u+8),L=Y(E),_+=v[_].value,_+=L&(1<<O)-1),ue(E,E.u+v[_].g),v[_].value}function kn(v,_,E){return E.g+=v.g,E.value+=v.value<<_>>>0,e(8>=E.g),v.g}function Nn(v,_,E){var L=v.xc;return e((_=L==0?0:v.vc[v.md*(E>>L)+(_>>L)])<v.Wb),v.Ya[_]}function Sr(v,_,E,L){var O=v.ab,z=v.c*_,V=v.C;_=V+_;var W=E,Z=L;for(L=v.Ta,E=v.Ua;0<O--;){var se=v.gc[O],ve=V,Le=_,ke=W,Ae=Z,He=(Z=L,W=E,se.Ea);switch(e(ve<Le),e(Le<=se.nc),se.hc){case 2:Kc(ke,Ae,(Le-ve)*He,Z,W);break;case 0:var Oe=ve,xe=Le,_e=Z,Be=W,Ge=(at=se).Ea;Oe==0&&(cd(ke,Ae,null,null,1,_e,Be),jt(ke,Ae+1,0,0,Ge-1,_e,Be+1),Ae+=Ge,Be+=Ge,++Oe);for(var Ue=1<<at.b,ft=Ue-1,rt=yt(Ge,at.b),Lt=at.K,at=at.w+(Oe>>at.b)*rt;Oe<xe;){var Fn=Lt,Un=at,fn=1;for($u(ke,Ae,_e,Be-Ge,1,_e,Be);fn<Ge;){var ln=(fn&~ft)+Ue;ln>Ge&&(ln=Ge),(0,Ma[Fn[Un++]>>8&15])(ke,Ae+ +fn,_e,Be+fn-Ge,ln-fn,_e,Be+fn),fn=ln}Ae+=Ge,Be+=Ge,++Oe&ft||(at+=rt)}Le!=se.nc&&i(Z,W-He,Z,W+(Le-ve-1)*He,He);break;case 1:for(He=ke,xe=Ae,Ge=(ke=se.Ea)-(Be=ke&~(_e=(Ae=1<<se.b)-1)),Oe=yt(ke,se.b),Ue=se.K,se=se.w+(ve>>se.b)*Oe;ve<Le;){for(ft=Ue,rt=se,Lt=new st,at=xe+Be,Fn=xe+ke;xe<at;)Yt(ft[rt++],Lt),go(Lt,He,xe,Ae,Z,W),xe+=Ae,W+=Ae;xe<Fn&&(Yt(ft[rt++],Lt),go(Lt,He,xe,Ge,Z,W),xe+=Ge,W+=Ge),++ve&_e||(se+=Oe)}break;case 3:if(ke==Z&&Ae==W&&0<se.b){for(xe=Z,ke=He=W+(Le-ve)*He-(Be=(Le-ve)*yt(se.Ea,se.b)),Ae=Z,_e=W,Oe=[],Be=(Ge=Be)-1;0<=Be;--Be)Oe[Be]=Ae[_e+Be];for(Be=Ge-1;0<=Be;--Be)xe[ke+Be]=Oe[Be];ws(se,ve,Le,Z,He,Z,W)}else ws(se,ve,Le,ke,Ae,Z,W)}W=L,Z=E}Z!=E&&i(L,E,W,Z,z)}function Yn(v,_){var E=v.V,L=v.Ba+v.c*v.C,O=_-v.C;if(e(_<=v.l.o),e(16>=O),0<O){var z=v.l,V=v.Ta,W=v.Ua,Z=z.width;if(Sr(v,O,E,L),O=W=[W],e((E=v.C)<(L=_)),e(z.v<z.va),L>z.o&&(L=z.o),E<z.j){var se=z.j-E;E=z.j,O[0]+=se*Z}if(E>=L?E=0:(O[0]+=4*z.v,z.ka=E-z.j,z.U=z.va-z.v,z.T=L-E,E=1),E){if(W=W[0],11>(E=v.ca).S){var ve=E.f.RGBA,Le=(L=E.S,O=z.U,z=z.T,se=ve.eb,ve.A),ke=z;for(ve=ve.fb+v.Ma*ve.A;0<ke--;){var Ae=V,He=W,Oe=O,xe=se,_e=ve;switch(L){case Lr:Br(Ae,He,Oe,xe,_e);break;case Jl:Cr(Ae,He,Oe,xe,_e);break;case Xu:Cr(Ae,He,Oe,xe,_e),ds(xe,_e,0,Oe,1,0);break;case oa:Fs(Ae,He,Oe,xe,_e);break;case Zu:pn(Ae,He,Oe,xe,_e,1);break;case So:pn(Ae,He,Oe,xe,_e,1),ds(xe,_e,0,Oe,1,0);break;case rl:pn(Ae,He,Oe,xe,_e,0);break;case Da:pn(Ae,He,Oe,xe,_e,0),ds(xe,_e,1,Oe,1,0);break;case Ra:mo(Ae,He,Oe,xe,_e);break;case Zl:mo(Ae,He,Oe,xe,_e),gn(xe,_e,Oe,1,0);break;case $c:Yr(Ae,He,Oe,xe,_e);break;default:e(0)}W+=Z,ve+=Le}v.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=E.height)}}v.C=_,e(v.C<=v.i)}function pr(v){var _;if(0<v.ua)return 0;for(_=0;_<v.Wb;++_){var E=v.Ya[_].G,L=v.Ya[_].H;if(0<E[1][L[1]+0].g||0<E[2][L[2]+0].g||0<E[3][L[3]+0].g)return 0}return 1}function Mn(v,_,E,L,O,z){if(v.Z!=0){var V=v.qd,W=v.rd;for(e(ua[v.Z]!=null);_<E;++_)ua[v.Z](V,W,L,O,L,O,z),V=L,W=O,O+=z;v.qd=V,v.rd=W}}function fi(v,_){var E=v.l.ma,L=E.Z==0||E.Z==1?v.l.j:v.C;if(L=v.C<L?L:v.C,e(_<=v.l.o),_>L){var O=v.l.width,z=E.ca,V=E.tb+O*L,W=v.V,Z=v.Ba+v.c*L,se=v.gc;e(v.ab==1),e(se[0].hc==3),po(se[0],L,_,W,Z,z,V),Mn(E,L,_,z,V,O)}v.C=v.Ma=_}function di(v,_,E,L,O,z,V){var W=v.$/L,Z=v.$%L,se=v.m,ve=v.s,Le=E+v.$,ke=Le;O=E+L*O;var Ae=E+L*z,He=280+ve.ua,Oe=v.Pb?W:16777216,xe=0<ve.ua?ve.Wa:null,_e=ve.wc,Be=Le<Ae?Nn(ve,Z,W):null;e(v.C<z),e(Ae<=O);var Ge=!1;e:for(;;){for(;Ge||Le<Ae;){var Ue=0;if(W>=Oe){var ft=Le-E;e((Oe=v).Pb),Oe.wd=Oe.m,Oe.xd=ft,0<Oe.s.ua&&De(Oe.s.Wa,Oe.s.vb),Oe=W+Yh}if(Z&_e||(Be=Nn(ve,Z,W)),e(Be!=null),Be.Qb&&(_[Le]=Be.qb,Ge=!0),!Ge)if(ce(se),Be.jc){Ue=se,ft=_;var rt=Le,Lt=Be.pd[Y(Ue)&rr-1];e(Be.jc),256>Lt.g?(ue(Ue,Ue.u+Lt.g),ft[rt]=Lt.value,Ue=0):(ue(Ue,Ue.u+Lt.g-256),e(256<=Lt.value),Ue=Lt.value),Ue==0&&(Ge=!0)}else Ue=ni(Be.G[0],Be.H[0],se);if(se.h)break;if(Ge||256>Ue){if(!Ge)if(Be.nd)_[Le]=(Be.qb|Ue<<8)>>>0;else{if(ce(se),Ge=ni(Be.G[1],Be.H[1],se),ce(se),ft=ni(Be.G[2],Be.H[2],se),rt=ni(Be.G[3],Be.H[3],se),se.h)break;_[Le]=(rt<<24|Ge<<16|Ue<<8|ft)>>>0}if(Ge=!1,++Le,++Z>=L&&(Z=0,++W,V!=null&&W<=z&&!(W%16)&&V(v,W),xe!=null))for(;ke<Le;)Ue=_[ke++],xe.X[(506832829*Ue&4294967295)>>>xe.Mb]=Ue}else if(280>Ue){if(Ue=In(Ue-256,se),ft=ni(Be.G[4],Be.H[4],se),ce(se),ft=Cn(L,ft=In(ft,se)),se.h)break;if(Le-E<ft||O-Le<Ue)break e;for(rt=0;rt<Ue;++rt)_[Le+rt]=_[Le+rt-ft];for(Le+=Ue,Z+=Ue;Z>=L;)Z-=L,++W,V!=null&&W<=z&&!(W%16)&&V(v,W);if(e(Le<=O),Z&_e&&(Be=Nn(ve,Z,W)),xe!=null)for(;ke<Le;)Ue=_[ke++],xe.X[(506832829*Ue&4294967295)>>>xe.Mb]=Ue}else{if(!(Ue<He))break e;for(Ge=Ue-280,e(xe!=null);ke<Le;)Ue=_[ke++],xe.X[(506832829*Ue&4294967295)>>>xe.Mb]=Ue;Ue=Le,e(!(Ge>>>(ft=xe).Xa)),_[Ue]=ft.X[Ge],Ge=!0}Ge||e(se.h==Q(se))}if(v.Pb&&se.h&&Le<O)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&De(v.s.vb,v.s.Wa);else{if(se.h)break e;V!=null&&V(v,W>z?z:W),v.a=0,v.$=Le-E}return 1}return v.a=3,0}function gr(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var _=v.Wa;_!=null&&(_.X=null),v.vb=null,e(v!=null)}function ai(){var v=new ud;return v==null?null:(v.a=0,v.xb=Xl,ci("Predictor","VP8LPredictors"),ci("Predictor","VP8LPredictors_C"),ci("PredictorAdd","VP8LPredictorsAdd"),ci("PredictorAdd","VP8LPredictorsAdd_C"),Kc=xt,go=bt,Br=lt,Cr=ui,mo=zt,Yr=Ei,Fs=hn,U.VP8LMapColor32b=yr,U.VP8LMapColor8b=Ju,v)}function Xt(v,_,E,L,O){var z=1,V=[v],W=[_],Z=L.m,se=L.s,ve=null,Le=0;e:for(;;){if(E)for(;z&&j(Z,1);){var ke=V,Ae=W,He=L,Oe=1,xe=He.m,_e=He.gc[He.ab],Be=j(xe,2);if(He.Oc&1<<Be)z=0;else{switch(He.Oc|=1<<Be,_e.hc=Be,_e.Ea=ke[0],_e.nc=Ae[0],_e.K=[null],++He.ab,e(4>=He.ab),Be){case 0:case 1:_e.b=j(xe,3)+2,Oe=Xt(yt(_e.Ea,_e.b),yt(_e.nc,_e.b),0,He,_e.K),_e.K=_e.K[0];break;case 3:var Ge,Ue=j(xe,8)+1,ft=16<Ue?0:4<Ue?1:2<Ue?2:3;if(ke[0]=yt(_e.Ea,ft),_e.b=ft,Ge=Oe=Xt(Ue,1,0,He,_e.K)){var rt,Lt=Ue,at=_e,Fn=1<<(8>>at.b),Un=s(Fn);if(Un==null)Ge=0;else{var fn=at.K[0],ln=at.w;for(Un[0]=at.K[0][0],rt=1;rt<1*Lt;++rt)Un[rt]=Ze(fn[ln+rt],Un[rt-1]);for(;rt<4*Fn;++rt)Un[rt]=0;at.K[0]=null,at.K[0]=Un,Ge=1}}Oe=Ge;break;case 2:break;default:e(0)}z=Oe}}if(V=V[0],W=W[0],z&&j(Z,1)&&!(z=1<=(Le=j(Z,4))&&11>=Le)){L.a=3;break e}var Kn;if(Kn=z)t:{var Vn,tn,Jn,Bt=L,Gt=V,Ln=W,Bn=Le,br=E,lr=Bt.m,Hi=Bt.s,Gi=[null],Ji=1,Ts=0,qn=al[Bn];n:for(;;){if(br&&j(lr,1)){var Zi=j(lr,3)+2,js=yt(Gt,Zi),No=yt(Ln,Zi),ul=js*No;if(!Xt(js,No,0,Bt,Gi))break n;for(Gi=Gi[0],Hi.xc=Zi,Vn=0;Vn<ul;++Vn){var Eo=Gi[Vn]>>8&65535;Gi[Vn]=Eo,Eo>=Ji&&(Ji=Eo+1)}}if(lr.h)break n;for(tn=0;5>tn;++tn){var gi=hs[tn];!tn&&0<Bn&&(gi+=1<<Bn),Ts<gi&&(Ts=gi)}var ic=o(Ji*qn,q),tf=Ji,jr=o(tf,ne);if(jr==null)var _i=null;else e(65536>=tf),_i=jr;var cl=s(Ts);if(_i==null||cl==null||ic==null){Bt.a=1;break n}var ko=ic;for(Vn=Jn=0;Vn<Ji;++Vn){var Jr=_i[Vn],Mo=Jr.G,Zr=Jr.H,rc=0,eu=1,nf=0;for(tn=0;5>tn;++tn){gi=hs[tn],Mo[tn]=ko,Zr[tn]=Jn,!tn&&0<Bn&&(gi+=1<<Bn);r:{var sc,rf=gi,ac=Bt,tu=cl,ep=ko,tp=Jn,oc=0,ja=ac.m,Em=j(ja,1);if(r(tu,0,0,rf),Em){var np=j(ja,1)+1,ip=j(ja,1),pd=j(ja,ip==0?1:8);tu[pd]=1,np==2&&(tu[pd=j(ja,8)]=1);var nu=1}else{var gd=s(19),md=j(ja,4)+4;if(19<md){ac.a=3;var lc=0;break r}for(sc=0;sc<md;++sc)gd[Ia[sc]]=j(ja,3);var sf=void 0,iu=void 0,rp=ac,sp=gd,Ua=rf,uc=tu,af=0,Us=rp.m,ru=8,yd=o(128,q);i:for(;B(yd,0,7,sp,19);){if(j(Us,1)){var ap=2+2*j(Us,3);if((sf=2+j(Us,ap))>Ua)break i}else sf=Ua;for(iu=0;iu<Ua&&sf--;){ce(Us);var vd=yd[0+(127&Y(Us))];ue(Us,Us.u+vd.g);var fl=vd.value;if(16>fl)uc[iu++]=fl,fl!=0&&(ru=fl);else{var op=fl==16,xd=fl-16,bd=As[xd],wd=j(Us,Jc[xd])+bd;if(iu+wd>Ua)break i;for(var lp=op?ru:0;0<wd--;)uc[iu++]=lp}}af=1;break i}af||(rp.a=3),nu=af}(nu=nu&&!ja.h)&&(oc=B(ep,tp,8,tu,rf)),nu&&oc!=0?lc=oc:(ac.a=3,lc=0)}if(lc==0)break n;if(eu&&sl[tn]==1&&(eu=ko[Jn].g==0),rc+=ko[Jn].g,Jn+=lc,3>=tn){var dl,of=cl[0];for(dl=1;dl<gi;++dl)cl[dl]>of&&(of=cl[dl]);nf+=of}}if(Jr.nd=eu,Jr.Qb=0,eu&&(Jr.qb=(Mo[3][Zr[3]+0].value<<24|Mo[1][Zr[1]+0].value<<16|Mo[2][Zr[2]+0].value)>>>0,rc==0&&256>Mo[0][Zr[0]+0].value&&(Jr.Qb=1,Jr.qb+=Mo[0][Zr[0]+0].value<<8)),Jr.jc=!Jr.Qb&&6>nf,Jr.jc){var cc,Va=Jr;for(cc=0;cc<rr;++cc){var da=cc,qa=Va.pd[da],fc=Va.G[0][Va.H[0]+da];256<=fc.value?(qa.g=fc.g+256,qa.value=fc.value):(qa.g=0,qa.value=0,da>>=kn(fc,8,qa),da>>=kn(Va.G[1][Va.H[1]+da],16,qa),da>>=kn(Va.G[2][Va.H[2]+da],0,qa),kn(Va.G[3][Va.H[3]+da],24,qa))}}}Hi.vc=Gi,Hi.Wb=Ji,Hi.Ya=_i,Hi.yc=ic,Kn=1;break t}Kn=0}if(!(z=Kn)){L.a=3;break e}if(0<Le){if(se.ua=1<<Le,!et(se.Wa,Le)){L.a=1,z=0;break e}}else se.ua=0;var dc=L,_d=V,up=W,Sd=dc.s,Ad=Sd.xc;if(dc.c=_d,dc.i=up,Sd.md=yt(_d,Ad),Sd.wc=Ad==0?-1:(1<<Ad)-1,E){L.xb=Jh;break e}if((ve=s(V*W))==null){L.a=1,z=0;break e}z=(z=di(L,ve,0,V,W,W,null))&&!Z.h;break e}return z?(O!=null?O[0]=ve:(e(ve==null),e(E)),L.$=0,E||gr(se)):gr(se),z}function ls(v,_){var E=v.c*v.i,L=E+_+16*_;return e(v.c<=_),v.V=s(L),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+E+_,1)}function Ar(v,_){var E=v.C,L=_-E,O=v.V,z=v.Ba+v.c*E;for(e(_<=v.l.o);0<L;){var V=16<L?16:L,W=v.l.ma,Z=v.l.width,se=Z*V,ve=W.ca,Le=W.tb+Z*E,ke=v.Ta,Ae=v.Ua;Sr(v,V,O,z),ii(ke,Ae,ve,Le,se),Mn(W,E,E+V,ve,Le,Z),L-=V,O+=V*v.c,E+=V}e(E==_),v.C=v.Ma=_}function bi(){this.ub=this.yd=this.td=this.Rb=0}function Bi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Rs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Qs(){this.Yb=function(){var v=[];return function _(E,L,O){for(var z=O[L],V=0;V<z&&(E.push(O.length>L+1?[]:0),!(O.length<L+1));V++)_(E[V],L+1,O)}(v,0,[3,11]),v}()}function ea(){this.jb=s(3),this.Wc=u([4,8],Qs),this.Xc=u([4,17],Qs)}function ro(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Hr(){this.ld=this.La=this.dd=this.tc=0}function wt(){this.Na=this.la=0}function vt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function we(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ce(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hr),this.Y=0,this.ya=Array(new we),this.aa=0,this.l=new je}function qe(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Xe(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new bi,this.Kc=new Bi,this.ed=new ro,this.Qa=new Rs,this.Ic=this.$c=this.Aa=0,this.D=new Ce,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,vt),this.Pa=new ea,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qe),this.Hd=0,this.rb=Array(new wt),this.sb=0,this.wa=Array(new Hr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new we),this.L=this.aa=0,this.gd=u([4,2],Hr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function je(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function dt(){var v=new Xe;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,sr||(sr=cn)),v}function ut(v,_,E){return v.a==0&&(v.a=_,v.sc=E,v.cb=0),0}function _t(v,_,E){return 3<=E&&v[_+0]==157&&v[_+1]==1&&v[_+2]==42}function Ft(v,_){if(v==null)return 0;if(v.a=0,v.sc="OK",_==null)return ut(v,2,"null VP8Io passed to VP8GetHeaders()");var E=_.data,L=_.w,O=_.ha;if(4>O)return ut(v,7,"Truncated header.");var z=E[L+0]|E[L+1]<<8|E[L+2]<<16,V=v.Od;if(V.Rb=!(1&z),V.td=z>>1&7,V.yd=z>>4&1,V.ub=z>>5,3<V.td)return ut(v,3,"Incorrect keyframe parameters.");if(!V.yd)return ut(v,4,"Frame not displayable.");L+=3,O-=3;var W=v.Kc;if(V.Rb){if(7>O)return ut(v,7,"cannot parse picture header");if(!_t(E,L,O))return ut(v,3,"Bad code word");W.c=16383&(E[L+4]<<8|E[L+3]),W.Td=E[L+4]>>6,W.i=16383&(E[L+6]<<8|E[L+5]),W.Ud=E[L+6]>>6,L+=7,O-=7,v.za=W.c+15>>4,v.Ub=W.i+15>>4,_.width=W.c,_.height=W.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r((z=v.Pa).jb,0,255,z.jb.length),e((z=v.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,r(z.Zb,0,0,z.Zb.length),r(z.Lb,0,0,z.Lb)}if(V.ub>O)return ut(v,7,"bad partition length");ie(z=v.m,E,L,V.ub),L+=V.ub,O-=V.ub,V.Rb&&(W.Ld=Se(z),W.Kd=Se(z)),W=v.Qa;var Z,se=v.Pa;if(e(z!=null),e(W!=null),W.Cb=Se(z),W.Cb){if(W.Bb=Se(z),Se(z)){for(W.Fb=Se(z),Z=0;4>Z;++Z)W.Zb[Z]=Se(z)?te(z,7):0;for(Z=0;4>Z;++Z)W.Lb[Z]=Se(z)?te(z,6):0}if(W.Bb)for(Z=0;3>Z;++Z)se.jb[Z]=Se(z)?G(z,8):255}else W.Bb=0;if(z.Ka)return ut(v,3,"cannot parse segment header");if((W=v.ed).zd=Se(z),W.Tb=G(z,6),W.wb=G(z,3),W.Pc=Se(z),W.Pc&&Se(z)){for(se=0;4>se;++se)Se(z)&&(W.vd[se]=te(z,6));for(se=0;4>se;++se)Se(z)&&(W.od[se]=te(z,6))}if(v.L=W.Tb==0?0:W.zd?1:2,z.Ka)return ut(v,3,"cannot parse filter header");var ve=O;if(O=Z=L,L=Z+ve,W=ve,v.Xb=(1<<G(v.m,2))-1,ve<3*(se=v.Xb))E=7;else{for(Z+=3*se,W-=3*se,ve=0;ve<se;++ve){var Le=E[O+0]|E[O+1]<<8|E[O+2]<<16;Le>W&&(Le=W),ie(v.Jc[+ve],E,Z,Le),Z+=Le,W-=Le,O+=3}ie(v.Jc[+se],E,Z,W),E=Z<L?0:5}if(E!=0)return ut(v,E,"cannot parse partitions");for(E=G(Z=v.m,7),O=Se(Z)?te(Z,4):0,L=Se(Z)?te(Z,4):0,W=Se(Z)?te(Z,4):0,se=Se(Z)?te(Z,4):0,Z=Se(Z)?te(Z,4):0,ve=v.Qa,Le=0;4>Le;++Le){if(ve.Cb){var ke=ve.Zb[Le];ve.Fb||(ke+=E)}else{if(0<Le){v.pb[Le]=v.pb[0];continue}ke=E}var Ae=v.pb[Le];Ae.Sc[0]=Qu[fs(ke+O,127)],Ae.Sc[1]=ec[fs(ke+0,127)],Ae.Eb[0]=2*Qu[fs(ke+L,127)],Ae.Eb[1]=101581*ec[fs(ke+W,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=Qu[fs(ke+se,117)],Ae.Qc[1]=ec[fs(ke+Z,127)],Ae.lc=ke+Z}if(!V.Rb)return ut(v,4,"Not a key frame.");for(Se(z),V=v.Pa,E=0;4>E;++E){for(O=0;8>O;++O)for(L=0;3>L;++L)for(W=0;11>W;++W)se=Ee(z,ol[E][O][L][W])?G(z,8):la[E][O][L][W],V.Wc[E][O].Yb[L][W]=se;for(O=0;17>O;++O)V.Xc[E][O]=V.Wc[E][$h[O]]}return v.kc=Se(z),v.kc&&(v.Bd=G(z,8)),v.cb=1}function cn(v,_,E,L,O,z,V){var W=_[O].Yb[E];for(E=0;16>O;++O){if(!Ee(v,W[E+0]))return O;for(;!Ee(v,W[E+1]);)if(W=_[++O].Yb[0],E=0,O==16)return 16;var Z=_[O+1].Yb;if(Ee(v,W[E+2])){var se=v,ve=0;if(Ee(se,(ke=W)[(Le=E)+3]))if(Ee(se,ke[Le+6])){for(W=0,Le=2*(ve=Ee(se,ke[Le+8]))+(ke=Ee(se,ke[Le+9+ve])),ve=0,ke=Ri[Le];ke[W];++W)ve+=ve+Ee(se,ke[W]);ve+=3+(8<<Le)}else Ee(se,ke[Le+7])?(ve=7+2*Ee(se,165),ve+=Ee(se,145)):ve=5+Ee(se,159);else ve=Ee(se,ke[Le+4])?3+Ee(se,ke[Le+5]):2;W=Z[2]}else ve=1,W=Z[1];Z=V+jn[O],0>(se=v).b&&ye(se);var Le,ke=se.b,Ae=(Le=se.Ca>>1)-(se.I>>ke)>>31;--se.b,se.Ca+=Ae,se.Ca|=1,se.I-=(Le+1&Ae)<<ke,z[Z]=((ve^Ae)-Ae)*L[(0<O)+0]}return 16}function ht(v){var _=v.rb[v.sb-1];_.la=0,_.Na=0,r(v.zc,0,0,v.zc.length),v.ja=0}function Ct(v,_){if(v==null)return 0;if(_==null)return ut(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Ft(v,_))return 0;if(e(v.cb),_.ac==null||_.ac(_)){_.ob&&(v.L=0);var E=za[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=_.v-E>>4,v.zb=_.j-E>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=_.o+15+E>>4,v.Hb=_.va+15+E>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var L=v.ed;for(E=0;4>E;++E){var O;if(v.Qa.Cb){var z=v.Qa.Lb[E];v.Qa.Fb||(z+=L.Tb)}else z=L.Tb;for(O=0;1>=O;++O){var V=v.gd[E][O],W=z;if(L.Pc&&(W+=L.vd[0],O&&(W+=L.od[0])),0<(W=0>W?0:63<W?63:W)){var Z=W;0<L.wb&&(Z=4<L.wb?Z>>2:Z>>1)>9-L.wb&&(Z=9-L.wb),1>Z&&(Z=1),V.dd=Z,V.tc=2*W+Z,V.ld=40<=W?2:15<=W?1:0}else V.tc=0;V.La=O}}}E=0}else ut(v,6,"Frame setup failed"),E=v.a;if(E=E==0){if(E){v.$c=0,0<v.Aa||(v.Ic=Xh);e:{E=v.Ic,L=4*(Z=v.za);var se=32*Z,ve=Z+1,Le=0<v.L?Z*(0<v.Aa?2:1):0,ke=(v.Aa==2?2:1)*Z;if((V=L+832+(O=3*(16*E+za[v.L])/2*se)+(z=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=V)E=0;else{if(V>v.Vb){if(v.Vb=0,v.Ec=s(V),v.Fc=0,v.Ec==null){E=ut(v,1,"no memory during frame initialization.");break e}v.Vb=V}V=v.Ec,W=v.Fc,v.Ac=V,v.Bc=W,W+=L,v.Gd=o(se,qe),v.Hd=0,v.rb=o(ve+1,wt),v.sb=1,v.wa=Le?o(Le,Hr):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=Z),e(!0),v.oc=V,v.pc=W,W+=832,v.ya=o(ke,we),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=Z),v.R=16*Z,v.B=8*Z,Z=(se=za[v.L])*v.R,se=se/2*v.B,v.sa=V,v.ta=W+Z,v.qa=v.sa,v.ra=v.ta+16*E*v.R+se,v.Ha=v.qa,v.Ia=v.ra+8*E*v.B+se,v.$c=0,W+=O,v.mb=z?V:null,v.nb=z?W:null,e(W+z<=v.Fc+v.Vb),ht(v),r(v.Ac,v.Bc,0,L),E=1}}if(E){if(_.ka=0,_.y=v.sa,_.O=v.ta,_.f=v.qa,_.N=v.ra,_.ea=v.Ha,_.Vd=v.Ia,_.fa=v.R,_.Rc=v.B,_.F=null,_.J=0,!Pa){for(E=-255;255>=E;++E)qi[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)_s[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)wo[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)_o[255+E]=0>E?0:255<E?255:E;Pa=1}sa=ir,Bs=$n,zs=zi,$i=Tr,$r=vn,Li=hi,el=Yo,aa=$o,Yl=ld,yo=Hu,vo=od,xo=zl,tl=jl,$l=Wc,bo=lo,La=cs,nl=ra,Pi=ad,zr[0]=Wr,zr[1]=Mi,zr[2]=Vu,zr[3]=qc,zr[4]=xs,zr[5]=ta,zr[6]=Il,zr[7]=bs,zr[8]=Ol,zr[9]=qu,Fa[0]=Ta,Fa[1]=Gr,Fa[2]=ys,Fa[3]=Aa,Fa[4]=ji,Fa[5]=so,Fa[6]=Ca,ps[0]=Na,ps[1]=Sa,ps[2]=Hc,ps[3]=ao,ps[4]=us,ps[5]=Mr,ps[6]=oo,E=1}else E=0}E&&(E=function(Ae,He){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Oe,xe=Ae.Jc[Ae.M&Ae.Xb],_e=Ae.m,Be=Ae;for(Oe=0;Oe<Be.za;++Oe){var Ge=_e,Ue=Be,ft=Ue.Ac,rt=Ue.Bc+4*Oe,Lt=Ue.zc,at=Ue.ya[Ue.aa+Oe];if(Ue.Qa.Bb?at.$b=Ee(Ge,Ue.Pa.jb[0])?2+Ee(Ge,Ue.Pa.jb[2]):Ee(Ge,Ue.Pa.jb[1]):at.$b=0,Ue.kc&&(at.Ad=Ee(Ge,Ue.Bd)),at.Za=!Ee(Ge,145)+0,at.Za){var Fn=at.Ob,Un=0;for(Ue=0;4>Ue;++Ue){var fn,ln=Lt[0+Ue];for(fn=0;4>fn;++fn){ln=fd[ft[rt+fn]][ln];for(var Kn=Ao[Ee(Ge,ln[0])];0<Kn;)Kn=Ao[2*Kn+Ee(Ge,ln[Kn])];ln=-Kn,ft[rt+fn]=ln}i(Fn,Un,ft,rt,4),Un+=4,Lt[0+Ue]=ln}}else ln=Ee(Ge,156)?Ee(Ge,128)?1:3:Ee(Ge,163)?2:0,at.Ob[0]=ln,r(ft,rt,ln,4),r(Lt,0,ln,4);at.Dd=Ee(Ge,142)?Ee(Ge,114)?Ee(Ge,183)?1:3:2:0}if(Be.m.Ka)return ut(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(Be=xe,Ge=(_e=Ae).rb[_e.sb-1],ft=_e.rb[_e.sb+_e.ja],Oe=_e.ya[_e.aa+_e.ja],rt=_e.kc?Oe.Ad:0)Ge.la=ft.la=0,Oe.Za||(Ge.Na=ft.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var Vn,tn;if(Ge=ft,ft=Be,rt=_e.Pa.Xc,Lt=_e.ya[_e.aa+_e.ja],at=_e.pb[Lt.$b],Ue=Lt.ad,Fn=0,Un=_e.rb[_e.sb-1],ln=fn=0,r(Ue,Fn,0,384),Lt.Za)var Jn=0,Bt=rt[3];else{Kn=s(16);var Gt=Ge.Na+Un.Na;if(Gt=sr(ft,rt[1],Gt,at.Eb,0,Kn,0),Ge.Na=Un.Na=(0<Gt)+0,1<Gt)sa(Kn,0,Ue,Fn);else{var Ln=Kn[0]+3>>3;for(Kn=0;256>Kn;Kn+=16)Ue[Fn+Kn]=Ln}Jn=1,Bt=rt[0]}var Bn=15&Ge.la,br=15&Un.la;for(Kn=0;4>Kn;++Kn){var lr=1&br;for(Ln=tn=0;4>Ln;++Ln)Bn=Bn>>1|(lr=(Gt=sr(ft,Bt,Gt=lr+(1&Bn),at.Sc,Jn,Ue,Fn))>Jn)<<7,tn=tn<<2|(3<Gt?3:1<Gt?2:Ue[Fn+0]!=0),Fn+=16;Bn>>=4,br=br>>1|lr<<7,fn=(fn<<8|tn)>>>0}for(Bt=Bn,Jn=br>>4,Vn=0;4>Vn;Vn+=2){for(tn=0,Bn=Ge.la>>4+Vn,br=Un.la>>4+Vn,Kn=0;2>Kn;++Kn){for(lr=1&br,Ln=0;2>Ln;++Ln)Gt=lr+(1&Bn),Bn=Bn>>1|(lr=0<(Gt=sr(ft,rt[2],Gt,at.Qc,0,Ue,Fn)))<<3,tn=tn<<2|(3<Gt?3:1<Gt?2:Ue[Fn+0]!=0),Fn+=16;Bn>>=2,br=br>>1|lr<<5}ln|=tn<<4*Vn,Bt|=Bn<<4<<Vn,Jn|=(240&br)<<Vn}Ge.la=Bt,Un.la=Jn,Lt.Hc=fn,Lt.Gc=ln,Lt.ia=43690&ln?0:at.ia,rt=!(fn|ln)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[Oe.$b][Oe.Za],_e.wa[_e.Y+_e.ja].La|=!rt),Be.Ka)return ut(Ae,7,"Premature end-of-file encountered.")}if(ht(Ae),_e=He,Be=1,Oe=(xe=Ae).D,Ge=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(Oe.M=xe.M,Oe.uc=Ge,ka(xe,Oe),Be=1,Oe=(tn=xe.D).Nb,Ge=(ln=za[xe.L])*xe.R,ft=ln/2*xe.B,Kn=16*Oe*xe.R,Ln=8*Oe*xe.B,rt=xe.sa,Lt=xe.ta-Ge+Kn,at=xe.qa,Ue=xe.ra-ft+Ln,Fn=xe.Ha,Un=xe.Ia-ft+Ln,br=(Bn=tn.M)==0,fn=Bn>=xe.Va-1,xe.Aa==2&&ka(xe,tn),tn.uc)for(lr=(Gt=xe).D.M,e(Gt.D.uc),tn=Gt.yb;tn<Gt.Hb;++tn){Jn=tn,Bt=lr;var Hi=(Gi=(gi=Gt).D).Nb;Vn=gi.R;var Gi=Gi.wa[Gi.Y+Jn],Ji=gi.sa,Ts=gi.ta+16*Hi*Vn+16*Jn,qn=Gi.dd,Zi=Gi.tc;if(Zi!=0)if(e(3<=Zi),gi.L==1)0<Jn&&La(Ji,Ts,Vn,Zi+4),Gi.La&&Pi(Ji,Ts,Vn,Zi),0<Bt&&bo(Ji,Ts,Vn,Zi+4),Gi.La&&nl(Ji,Ts,Vn,Zi);else{var js=gi.B,No=gi.qa,ul=gi.ra+8*Hi*js+8*Jn,Eo=gi.Ha,gi=gi.Ia+8*Hi*js+8*Jn;Hi=Gi.ld,0<Jn&&(aa(Ji,Ts,Vn,Zi+4,qn,Hi),yo(No,ul,Eo,gi,js,Zi+4,qn,Hi)),Gi.La&&(xo(Ji,Ts,Vn,Zi,qn,Hi),$l(No,ul,Eo,gi,js,Zi,qn,Hi)),0<Bt&&(el(Ji,Ts,Vn,Zi+4,qn,Hi),Yl(No,ul,Eo,gi,js,Zi+4,qn,Hi)),Gi.La&&(vo(Ji,Ts,Vn,Zi,qn,Hi),tl(No,ul,Eo,gi,js,Zi,qn,Hi))}}if(xe.ia&&alert("todo:DitherRow"),_e.put!=null){if(tn=16*Bn,Bn=16*(Bn+1),br?(_e.y=xe.sa,_e.O=xe.ta+Kn,_e.f=xe.qa,_e.N=xe.ra+Ln,_e.ea=xe.Ha,_e.W=xe.Ia+Ln):(tn-=ln,_e.y=rt,_e.O=Lt,_e.f=at,_e.N=Ue,_e.ea=Fn,_e.W=Un),fn||(Bn-=ln),Bn>_e.o&&(Bn=_e.o),_e.F=null,_e.J=null,xe.Fa!=null&&0<xe.Fa.length&&tn<Bn&&(_e.J=Ku(xe,_e,tn,Bn-tn),_e.F=xe.mb,_e.F==null&&_e.F.length==0)){Be=ut(xe,3,"Could not decode alpha data.");break e}tn<_e.j&&(ln=_e.j-tn,tn=_e.j,e(!(1&ln)),_e.O+=xe.R*ln,_e.N+=xe.B*(ln>>1),_e.W+=xe.B*(ln>>1),_e.F!=null&&(_e.J+=_e.width*ln)),tn<Bn&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=tn-_e.j,_e.U=_e.va-_e.v,_e.T=Bn-tn,Be=_e.put(_e))}Oe+1!=xe.Ic||fn||(i(xe.sa,xe.ta-Ge,rt,Lt+16*xe.R,Ge),i(xe.qa,xe.ra-ft,at,Ue+8*xe.B,ft),i(xe.Ha,xe.Ia-ft,Fn,Un+8*xe.B,ft))}if(!Be)return ut(Ae,6,"Output aborted.")}return 1}(v,_)),_.bc!=null&&_.bc(_),E&=1}return E?(v.cb=0,E):0}function It(v,_,E,L,O){O=v[_+E+32*L]+(O>>3),v[_+E+32*L]=-256&O?0>O?0:255:O}function en(v,_,E,L,O,z){It(v,_,0,E,L+O),It(v,_,1,E,L+z),It(v,_,2,E,L-z),It(v,_,3,E,L-O)}function kt(v){return(20091*v>>16)+v}function On(v,_,E,L){var O,z=0,V=s(16);for(O=0;4>O;++O){var W=v[_+0]+v[_+8],Z=v[_+0]-v[_+8],se=(35468*v[_+4]>>16)-kt(v[_+12]),ve=kt(v[_+4])+(35468*v[_+12]>>16);V[z+0]=W+ve,V[z+1]=Z+se,V[z+2]=Z-se,V[z+3]=W-ve,z+=4,_++}for(O=z=0;4>O;++O)W=(v=V[z+0]+4)+V[z+8],Z=v-V[z+8],se=(35468*V[z+4]>>16)-kt(V[z+12]),It(E,L,0,0,W+(ve=kt(V[z+4])+(35468*V[z+12]>>16))),It(E,L,1,0,Z+se),It(E,L,2,0,Z-se),It(E,L,3,0,W-ve),z++,L+=32}function hi(v,_,E,L){var O=v[_+0]+4,z=35468*v[_+4]>>16,V=kt(v[_+4]),W=35468*v[_+1]>>16;en(E,L,0,O+V,v=kt(v[_+1]),W),en(E,L,1,O+z,v,W),en(E,L,2,O-z,v,W),en(E,L,3,O-V,v,W)}function $n(v,_,E,L,O){On(v,_,E,L),O&&On(v,_+16,E,L+4)}function zi(v,_,E,L){Bs(v,_+0,E,L,1),Bs(v,_+32,E,L+128,1)}function Tr(v,_,E,L){var O;for(v=v[_+0]+4,O=0;4>O;++O)for(_=0;4>_;++_)It(E,L,_,O,v)}function vn(v,_,E,L){v[_+0]&&$i(v,_+0,E,L),v[_+16]&&$i(v,_+16,E,L+4),v[_+32]&&$i(v,_+32,E,L+128),v[_+48]&&$i(v,_+48,E,L+128+4)}function ir(v,_,E,L){var O,z=s(16);for(O=0;4>O;++O){var V=v[_+0+O]+v[_+12+O],W=v[_+4+O]+v[_+8+O],Z=v[_+4+O]-v[_+8+O],se=v[_+0+O]-v[_+12+O];z[0+O]=V+W,z[8+O]=V-W,z[4+O]=se+Z,z[12+O]=se-Z}for(O=0;4>O;++O)V=(v=z[0+4*O]+3)+z[3+4*O],W=z[1+4*O]+z[2+4*O],Z=z[1+4*O]-z[2+4*O],se=v-z[3+4*O],E[L+0]=V+W>>3,E[L+16]=se+Z>>3,E[L+32]=V-W>>3,E[L+48]=se-Z>>3,L+=64}function Wn(v,_,E){var L,O=_-32,z=vr,V=255-v[O-1];for(L=0;L<E;++L){var W,Z=z,se=V+v[_-1];for(W=0;W<E;++W)v[_+W]=Z[se+v[O+W]];_+=32}}function Mi(v,_){Wn(v,_,4)}function Sa(v,_){Wn(v,_,8)}function Gr(v,_){Wn(v,_,16)}function ys(v,_){var E;for(E=0;16>E;++E)i(v,_+32*E,v,_-32,16)}function Aa(v,_){var E;for(E=16;0<E;--E)r(v,_,v[_-1],16),_+=32}function vs(v,_,E){var L;for(L=0;16>L;++L)r(_,E+32*L,v,16)}function Ta(v,_){var E,L=16;for(E=0;16>E;++E)L+=v[_-1+32*E]+v[_+E-32];vs(L>>5,v,_)}function ji(v,_){var E,L=8;for(E=0;16>E;++E)L+=v[_-1+32*E];vs(L>>4,v,_)}function so(v,_){var E,L=8;for(E=0;16>E;++E)L+=v[_+E-32];vs(L>>4,v,_)}function Ca(v,_){vs(128,v,_)}function $t(v,_,E){return v+2*_+E+2>>2}function Vu(v,_){var E,L=_-32;for(L=new Uint8Array([$t(v[L-1],v[L+0],v[L+1]),$t(v[L+0],v[L+1],v[L+2]),$t(v[L+1],v[L+2],v[L+3]),$t(v[L+2],v[L+3],v[L+4])]),E=0;4>E;++E)i(v,_+32*E,L,0,L.length)}function qc(v,_){var E=v[_-1],L=v[_-1+32],O=v[_-1+64],z=v[_-1+96];$e(v,_+0,16843009*$t(v[_-1-32],E,L)),$e(v,_+32,16843009*$t(E,L,O)),$e(v,_+64,16843009*$t(L,O,z)),$e(v,_+96,16843009*$t(O,z,z))}function Wr(v,_){var E,L=4;for(E=0;4>E;++E)L+=v[_+E-32]+v[_-1+32*E];for(L>>=3,E=0;4>E;++E)r(v,_+32*E,L,4)}function xs(v,_){var E=v[_-1+0],L=v[_-1+32],O=v[_-1+64],z=v[_-1-32],V=v[_+0-32],W=v[_+1-32],Z=v[_+2-32],se=v[_+3-32];v[_+0+96]=$t(L,O,v[_-1+96]),v[_+1+96]=v[_+0+64]=$t(E,L,O),v[_+2+96]=v[_+1+64]=v[_+0+32]=$t(z,E,L),v[_+3+96]=v[_+2+64]=v[_+1+32]=v[_+0+0]=$t(V,z,E),v[_+3+64]=v[_+2+32]=v[_+1+0]=$t(W,V,z),v[_+3+32]=v[_+2+0]=$t(Z,W,V),v[_+3+0]=$t(se,Z,W)}function Il(v,_){var E=v[_+1-32],L=v[_+2-32],O=v[_+3-32],z=v[_+4-32],V=v[_+5-32],W=v[_+6-32],Z=v[_+7-32];v[_+0+0]=$t(v[_+0-32],E,L),v[_+1+0]=v[_+0+32]=$t(E,L,O),v[_+2+0]=v[_+1+32]=v[_+0+64]=$t(L,O,z),v[_+3+0]=v[_+2+32]=v[_+1+64]=v[_+0+96]=$t(O,z,V),v[_+3+32]=v[_+2+64]=v[_+1+96]=$t(z,V,W),v[_+3+64]=v[_+2+96]=$t(V,W,Z),v[_+3+96]=$t(W,Z,Z)}function ta(v,_){var E=v[_-1+0],L=v[_-1+32],O=v[_-1+64],z=v[_-1-32],V=v[_+0-32],W=v[_+1-32],Z=v[_+2-32],se=v[_+3-32];v[_+0+0]=v[_+1+64]=z+V+1>>1,v[_+1+0]=v[_+2+64]=V+W+1>>1,v[_+2+0]=v[_+3+64]=W+Z+1>>1,v[_+3+0]=Z+se+1>>1,v[_+0+96]=$t(O,L,E),v[_+0+64]=$t(L,E,z),v[_+0+32]=v[_+1+96]=$t(E,z,V),v[_+1+32]=v[_+2+96]=$t(z,V,W),v[_+2+32]=v[_+3+96]=$t(V,W,Z),v[_+3+32]=$t(W,Z,se)}function bs(v,_){var E=v[_+0-32],L=v[_+1-32],O=v[_+2-32],z=v[_+3-32],V=v[_+4-32],W=v[_+5-32],Z=v[_+6-32],se=v[_+7-32];v[_+0+0]=E+L+1>>1,v[_+1+0]=v[_+0+64]=L+O+1>>1,v[_+2+0]=v[_+1+64]=O+z+1>>1,v[_+3+0]=v[_+2+64]=z+V+1>>1,v[_+0+32]=$t(E,L,O),v[_+1+32]=v[_+0+96]=$t(L,O,z),v[_+2+32]=v[_+1+96]=$t(O,z,V),v[_+3+32]=v[_+2+96]=$t(z,V,W),v[_+3+64]=$t(V,W,Z),v[_+3+96]=$t(W,Z,se)}function qu(v,_){var E=v[_-1+0],L=v[_-1+32],O=v[_-1+64],z=v[_-1+96];v[_+0+0]=E+L+1>>1,v[_+2+0]=v[_+0+32]=L+O+1>>1,v[_+2+32]=v[_+0+64]=O+z+1>>1,v[_+1+0]=$t(E,L,O),v[_+3+0]=v[_+1+32]=$t(L,O,z),v[_+3+32]=v[_+1+64]=$t(O,z,z),v[_+3+64]=v[_+2+64]=v[_+0+96]=v[_+1+96]=v[_+2+96]=v[_+3+96]=z}function Ol(v,_){var E=v[_-1+0],L=v[_-1+32],O=v[_-1+64],z=v[_-1+96],V=v[_-1-32],W=v[_+0-32],Z=v[_+1-32],se=v[_+2-32];v[_+0+0]=v[_+2+32]=E+V+1>>1,v[_+0+32]=v[_+2+64]=L+E+1>>1,v[_+0+64]=v[_+2+96]=O+L+1>>1,v[_+0+96]=z+O+1>>1,v[_+3+0]=$t(W,Z,se),v[_+2+0]=$t(V,W,Z),v[_+1+0]=v[_+3+32]=$t(E,V,W),v[_+1+32]=v[_+3+64]=$t(L,E,V),v[_+1+64]=v[_+3+96]=$t(O,L,E),v[_+1+96]=$t(z,O,L)}function Hc(v,_){var E;for(E=0;8>E;++E)i(v,_+32*E,v,_-32,8)}function ao(v,_){var E;for(E=0;8>E;++E)r(v,_,v[_-1],8),_+=32}function na(v,_,E){var L;for(L=0;8>L;++L)r(_,E+32*L,v,8)}function Na(v,_){var E,L=8;for(E=0;8>E;++E)L+=v[_+E-32]+v[_-1+32*E];na(L>>4,v,_)}function Mr(v,_){var E,L=4;for(E=0;8>E;++E)L+=v[_+E-32];na(L>>3,v,_)}function us(v,_){var E,L=4;for(E=0;8>E;++E)L+=v[_-1+32*E];na(L>>3,v,_)}function oo(v,_){na(128,v,_)}function ia(v,_,E){var L=v[_-E],O=v[_+0],z=3*(O-L)+Yc[1020+v[_-2*E]-v[_+E]],V=il[112+(z+4>>3)];v[_-E]=vr[255+L+il[112+(z+3>>3)]],v[_+0]=vr[255+O-V]}function Gc(v,_,E,L){var O=v[_+0],z=v[_+E];return Ss[255+v[_-2*E]-v[_-E]]>L||Ss[255+z-O]>L}function Fl(v,_,E,L){return 4*Ss[255+v[_-E]-v[_+0]]+Ss[255+v[_-2*E]-v[_+E]]<=L}function Bl(v,_,E,L,O){var z=v[_-3*E],V=v[_-2*E],W=v[_-E],Z=v[_+0],se=v[_+E],ve=v[_+2*E],Le=v[_+3*E];return 4*Ss[255+W-Z]+Ss[255+V-se]>L?0:Ss[255+v[_-4*E]-z]<=O&&Ss[255+z-V]<=O&&Ss[255+V-W]<=O&&Ss[255+Le-ve]<=O&&Ss[255+ve-se]<=O&&Ss[255+se-Z]<=O}function lo(v,_,E,L){var O=2*L+1;for(L=0;16>L;++L)Fl(v,_+L,E,O)&&ia(v,_+L,E)}function cs(v,_,E,L){var O=2*L+1;for(L=0;16>L;++L)Fl(v,_+L*E,1,O)&&ia(v,_+L*E,1)}function ra(v,_,E,L){var O;for(O=3;0<O;--O)lo(v,_+=4*E,E,L)}function ad(v,_,E,L){var O;for(O=3;0<O;--O)cs(v,_+=4,E,L)}function uo(v,_,E,L,O,z,V,W){for(z=2*z+1;0<O--;){if(Bl(v,_,E,z,V))if(Gc(v,_,E,W))ia(v,_,E);else{var Z=v,se=_,ve=E,Le=Z[se-2*ve],ke=Z[se-ve],Ae=Z[se+0],He=Z[se+ve],Oe=Z[se+2*ve],xe=27*(Be=Yc[1020+3*(Ae-ke)+Yc[1020+Le-He]])+63>>7,_e=18*Be+63>>7,Be=9*Be+63>>7;Z[se-3*ve]=vr[255+Z[se-3*ve]+Be],Z[se-2*ve]=vr[255+Le+_e],Z[se-ve]=vr[255+ke+xe],Z[se+0]=vr[255+Ae-xe],Z[se+ve]=vr[255+He-_e],Z[se+2*ve]=vr[255+Oe-Be]}_+=L}}function Ds(v,_,E,L,O,z,V,W){for(z=2*z+1;0<O--;){if(Bl(v,_,E,z,V))if(Gc(v,_,E,W))ia(v,_,E);else{var Z=v,se=_,ve=E,Le=Z[se-ve],ke=Z[se+0],Ae=Z[se+ve],He=il[112+((Oe=3*(ke-Le))+4>>3)],Oe=il[112+(Oe+3>>3)],xe=He+1>>1;Z[se-2*ve]=vr[255+Z[se-2*ve]+xe],Z[se-ve]=vr[255+Le+Oe],Z[se+0]=vr[255+ke-He],Z[se+ve]=vr[255+Ae-xe]}_+=L}}function Yo(v,_,E,L,O,z){uo(v,_,E,1,16,L,O,z)}function $o(v,_,E,L,O,z){uo(v,_,1,E,16,L,O,z)}function od(v,_,E,L,O,z){var V;for(V=3;0<V;--V)Ds(v,_+=4*E,E,1,16,L,O,z)}function zl(v,_,E,L,O,z){var V;for(V=3;0<V;--V)Ds(v,_+=4,1,E,16,L,O,z)}function ld(v,_,E,L,O,z,V,W){uo(v,_,O,1,8,z,V,W),uo(E,L,O,1,8,z,V,W)}function Hu(v,_,E,L,O,z,V,W){uo(v,_,1,O,8,z,V,W),uo(E,L,1,O,8,z,V,W)}function jl(v,_,E,L,O,z,V,W){Ds(v,_+4*O,O,1,8,z,V,W),Ds(E,L+4*O,O,1,8,z,V,W)}function Wc(v,_,E,L,O,z,V,W){Ds(v,_+4,1,O,8,z,V,W),Ds(E,L+4,1,O,8,z,V,W)}function Ul(){this.ba=new ki,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Gu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Wu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Vl(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new q}function ud(){this.xb=this.a=0,this.l=new je,this.ca=new ki,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Vl,this.ab=0,this.gc=o(4,Wu),this.Oc=0}function ql(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new je,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Jo(v,_,E,L,O,z,V){for(v=v==null?0:v[_+0],_=0;_<V;++_)O[z+_]=v+E[L+_]&255,v=O[z+_]}function Hl(v,_,E,L,O,z,V){var W;if(v==null)Jo(null,null,E,L,O,z,V);else for(W=0;W<V;++W)O[z+W]=v[_+W]+E[L+W]&255}function co(v,_,E,L,O,z,V){if(v==null)Jo(null,null,E,L,O,z,V);else{var W,Z=v[_+0],se=Z,ve=Z;for(W=0;W<V;++W)se=ve+(Z=v[_+W])-se,ve=E[L+W]+(-256&se?0>se?0:255:se)&255,se=Z,O[z+W]=ve}}function Ku(v,_,E,L){var O=_.width,z=_.o;if(e(v!=null&&_!=null),0>E||0>=L||E+L>z)return null;if(!v.Cc){if(v.ga==null){var V;if(v.ga=new ql,(V=v.ga==null)||(V=_.width*_.o,e(v.Gb.length==0),v.Gb=s(V),v.Uc=0,v.Gb==null?V=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,V=1),V=!V),!V){V=v.ga;var W=v.Fa,Z=v.P,se=v.qc,ve=v.mb,Le=v.nb,ke=Z+1,Ae=se-1,He=V.l;if(e(W!=null&&ve!=null&&_!=null),ua[0]=null,ua[1]=Jo,ua[2]=Hl,ua[3]=co,V.ca=ve,V.tb=Le,V.c=_.width,V.i=_.height,e(0<V.c&&0<V.i),1>=se)_=0;else if(V.$a=W[Z+0]>>0&3,V.Z=W[Z+0]>>2&3,V.Lc=W[Z+0]>>4&3,Z=W[Z+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||Z)_=0;else if(He.put=nr,He.ac=ti,He.bc=kr,He.ma=V,He.width=_.width,He.height=_.height,He.Da=_.Da,He.v=_.v,He.va=_.va,He.j=_.j,He.o=_.o,V.$a)e:{e(V.$a==1),_=ai();t:for(;;){if(_==null){_=0;break e}if(e(V!=null),V.mc=_,_.c=V.c,_.i=V.i,_.l=V.l,_.l.ma=V,_.l.width=V.c,_.l.height=V.i,_.a=0,ae(_.m,W,ke,Ae),!Xt(V.c,V.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&pr(_.s)?(V.ic=1,W=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(W),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(V.ic=0,_=ls(_,V.c)),!_))break t;_=1;break e}V.mc=null,_=0}else _=Ae>=V.c*V.i;V=!_}if(V)return null;v.ga.Lc!=1?v.Ga=0:L=z-E}e(v.ga!=null),e(E+L<=z);e:{if(_=(W=v.ga).c,z=W.l.o,W.$a==0){if(ke=v.rc,Ae=v.Vc,He=v.Fa,Z=v.P+1+E*_,se=v.mb,ve=v.nb+E*_,e(Z<=v.P+v.qc),W.Z!=0)for(e(ua[W.Z]!=null),V=0;V<L;++V)ua[W.Z](ke,Ae,He,Z,se,ve,_),ke=se,Ae=ve,ve+=_,Z+=_;else for(V=0;V<L;++V)i(se,ve,He,Z,_),ke=se,Ae=ve,ve+=_,Z+=_;v.rc=ke,v.Vc=Ae}else{if(e(W.mc!=null),_=E+L,e((V=W.mc)!=null),e(_<=V.i),V.C>=_)_=1;else if(W.ic||Ne(),W.ic){W=V.V,ke=V.Ba,Ae=V.c;var Oe=V.i,xe=(He=1,Z=V.$/Ae,se=V.$%Ae,ve=V.m,Le=V.s,V.$),_e=Ae*Oe,Be=Ae*_,Ge=Le.wc,Ue=xe<Be?Nn(Le,se,Z):null;e(xe<=_e),e(_<=Oe),e(pr(Le));t:for(;;){for(;!ve.h&&xe<Be;){if(se&Ge||(Ue=Nn(Le,se,Z)),e(Ue!=null),ce(ve),256>(Oe=ni(Ue.G[0],Ue.H[0],ve)))W[ke+xe]=Oe,++xe,++se>=Ae&&(se=0,++Z<=_&&!(Z%16)&&fi(V,Z));else{if(!(280>Oe)){He=0;break t}Oe=In(Oe-256,ve);var ft,rt=ni(Ue.G[4],Ue.H[4],ve);if(ce(ve),!(xe>=(rt=Cn(Ae,rt=In(rt,ve)))&&_e-xe>=Oe)){He=0;break t}for(ft=0;ft<Oe;++ft)W[ke+xe+ft]=W[ke+xe+ft-rt];for(xe+=Oe,se+=Oe;se>=Ae;)se-=Ae,++Z<=_&&!(Z%16)&&fi(V,Z);xe<Be&&se&Ge&&(Ue=Nn(Le,se,Z))}e(ve.h==Q(ve))}fi(V,Z>_?_:Z);break t}!He||ve.h&&xe<_e?(He=0,V.a=ve.h?5:3):V.$=xe,_=He}else _=di(V,V.V,V.Ba,V.c,V.i,_,Ar);if(!_){L=0;break e}}E+L>=z&&(v.Cc=1),L=1}if(!L)return null;if(v.Cc&&((L=v.ga)!=null&&(L.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+E*O}function C(v,_,E,L,O,z){for(;0<O--;){var V,W=v,Z=_+(E?1:0),se=v,ve=_+(E?0:3);for(V=0;V<L;++V){var Le=se[ve+4*V];Le!=255&&(Le*=32897,W[Z+4*V+0]=W[Z+4*V+0]*Le>>23,W[Z+4*V+1]=W[Z+4*V+1]*Le>>23,W[Z+4*V+2]=W[Z+4*V+2]*Le>>23)}_+=z}}function F(v,_,E,L,O){for(;0<L--;){var z;for(z=0;z<E;++z){var V=v[_+2*z+0],W=15&(se=v[_+2*z+1]),Z=4369*W,se=(240&se|se>>4)*Z>>16;v[_+2*z+0]=(240&V|V>>4)*Z>>16&240|(15&V|V<<4)*Z>>16>>4&15,v[_+2*z+1]=240&se|W}_+=O}}function le(v,_,E,L,O,z,V,W){var Z,se,ve=255;for(se=0;se<O;++se){for(Z=0;Z<L;++Z){var Le=v[_+Z];z[V+4*Z]=Le,ve&=Le}_+=E,V+=W}return ve!=255}function ge(v,_,E,L,O){var z;for(z=0;z<O;++z)E[L+z]=v[_+z]>>8}function Ne(){ds=C,gn=F,mn=le,ii=ge}function Fe(v,_,E){U[v]=function(L,O,z,V,W,Z,se,ve,Le,ke,Ae,He,Oe,xe,_e,Be,Ge){var Ue,ft=Ge-1>>1,rt=W[Z+0]|se[ve+0]<<16,Lt=Le[ke+0]|Ae[He+0]<<16;e(L!=null);var at=3*rt+Lt+131074>>2;for(_(L[O+0],255&at,at>>16,Oe,xe),z!=null&&(at=3*Lt+rt+131074>>2,_(z[V+0],255&at,at>>16,_e,Be)),Ue=1;Ue<=ft;++Ue){var Fn=W[Z+Ue]|se[ve+Ue]<<16,Un=Le[ke+Ue]|Ae[He+Ue]<<16,fn=rt+Fn+Lt+Un+524296,ln=fn+2*(Fn+Lt)>>3;at=ln+rt>>1,rt=(fn=fn+2*(rt+Un)>>3)+Fn>>1,_(L[O+2*Ue-1],255&at,at>>16,Oe,xe+(2*Ue-1)*E),_(L[O+2*Ue-0],255&rt,rt>>16,Oe,xe+(2*Ue-0)*E),z!=null&&(at=fn+Lt>>1,rt=ln+Un>>1,_(z[V+2*Ue-1],255&at,at>>16,_e,Be+(2*Ue-1)*E),_(z[V+2*Ue+0],255&rt,rt>>16,_e,Be+(2*Ue+0)*E)),rt=Fn,Lt=Un}1&Ge||(at=3*rt+Lt+131074>>2,_(L[O+Ge-1],255&at,at>>16,Oe,xe+(Ge-1)*E),z!=null&&(at=3*Lt+rt+131074>>2,_(z[V+Ge-1],255&at,at>>16,_e,Be+(Ge-1)*E)))}}function Je(){xr[Lr]=Ba,xr[Jl]=ca,xr[oa]=To,xr[Zu]=Zc,xr[rl]=Xc,xr[Ra]=Ql,xr[$c]=Qc,xr[Xu]=ca,xr[So]=Zc,xr[Da]=Xc,xr[Zl]=Ql}function ct(v){return v&-16384?0>v?0:255:v>>Tm}function Nt(v,_){return ct((19077*v>>8)+(26149*_>>8)-14234)}function rn(v,_,E){return ct((19077*v>>8)-(6419*_>>8)-(13320*E>>8)+8708)}function Qt(v,_){return ct((19077*v>>8)+(33050*_>>8)-17685)}function bn(v,_,E,L,O){L[O+0]=Nt(v,E),L[O+1]=rn(v,_,E),L[O+2]=Qt(v,_)}function pi(v,_,E,L,O){L[O+0]=Qt(v,_),L[O+1]=rn(v,_,E),L[O+2]=Nt(v,E)}function wi(v,_,E,L,O){var z=rn(v,_,E);_=z<<3&224|Qt(v,_)>>3,L[O+0]=248&Nt(v,E)|z>>5,L[O+1]=_}function Ui(v,_,E,L,O){var z=240&Qt(v,_)|15;L[O+0]=240&Nt(v,E)|rn(v,_,E)>>4,L[O+1]=z}function Vi(v,_,E,L,O){L[O+0]=255,bn(v,_,E,L,O+1)}function mr(v,_,E,L,O){pi(v,_,E,L,O),L[O+3]=255}function Is(v,_,E,L,O){bn(v,_,E,L,O),L[O+3]=255}function fs(v,_){return 0>v?0:v>_?_:v}function Os(v,_,E){U[v]=function(L,O,z,V,W,Z,se,ve,Le){for(var ke=ve+(-2&Le)*E;ve!=ke;)_(L[O+0],z[V+0],W[Z+0],se,ve),_(L[O+1],z[V+0],W[Z+0],se,ve+E),O+=2,++V,++Z,ve+=2*E;1&Le&&_(L[O+0],z[V+0],W[Z+0],se,ve)}}function Yu(v,_,E){return E==0?v==0?_==0?6:5:_==0?4:0:E}function Ea(v,_,E,L,O){switch(v>>>30){case 3:Bs(_,E,L,O,0);break;case 2:Li(_,E,L,O);break;case 1:$i(_,E,L,O)}}function ka(v,_){var E,L,O=_.M,z=_.Nb,V=v.oc,W=v.pc+40,Z=v.oc,se=v.pc+584,ve=v.oc,Le=v.pc+600;for(E=0;16>E;++E)V[W+32*E-1]=129;for(E=0;8>E;++E)Z[se+32*E-1]=129,ve[Le+32*E-1]=129;for(0<O?V[W-1-32]=Z[se-1-32]=ve[Le-1-32]=129:(r(V,W-32-1,127,21),r(Z,se-32-1,127,9),r(ve,Le-32-1,127,9)),L=0;L<v.za;++L){var ke=_.ya[_.aa+L];if(0<L){for(E=-1;16>E;++E)i(V,W+32*E-4,V,W+32*E+12,4);for(E=-1;8>E;++E)i(Z,se+32*E-4,Z,se+32*E+4,4),i(ve,Le+32*E-4,ve,Le+32*E+4,4)}var Ae=v.Gd,He=v.Hd+L,Oe=ke.ad,xe=ke.Hc;if(0<O&&(i(V,W-32,Ae[He].y,0,16),i(Z,se-32,Ae[He].f,0,8),i(ve,Le-32,Ae[He].ea,0,8)),ke.Za){var _e=V,Be=W-32+16;for(0<O&&(L>=v.za-1?r(_e,Be,Ae[He].y[15],4):i(_e,Be,Ae[He+1].y,0,4)),E=0;4>E;E++)_e[Be+128+E]=_e[Be+256+E]=_e[Be+384+E]=_e[Be+0+E];for(E=0;16>E;++E,xe<<=2)_e=V,Be=W+ll[E],zr[ke.Ob[E]](_e,Be),Ea(xe,Oe,16*+E,_e,Be)}else if(_e=Yu(L,O,ke.Ob[0]),Fa[_e](V,W),xe!=0)for(E=0;16>E;++E,xe<<=2)Ea(xe,Oe,16*+E,V,W+ll[E]);for(E=ke.Gc,_e=Yu(L,O,ke.Dd),ps[_e](Z,se),ps[_e](ve,Le),xe=Oe,_e=Z,Be=se,255&(ke=E>>0)&&(170&ke?zs(xe,256,_e,Be):$r(xe,256,_e,Be)),ke=ve,xe=Le,255&(E>>=8)&&(170&E?zs(Oe,320,ke,xe):$r(Oe,320,ke,xe)),O<v.Ub-1&&(i(Ae[He].y,0,V,W+480,16),i(Ae[He].f,0,Z,se+224,8),i(Ae[He].ea,0,ve,Le+224,8)),E=8*z*v.B,Ae=v.sa,He=v.ta+16*L+16*z*v.R,Oe=v.qa,ke=v.ra+8*L+E,xe=v.Ha,_e=v.Ia+8*L+E,E=0;16>E;++E)i(Ae,He+E*v.R,V,W+32*E,16);for(E=0;8>E;++E)i(Oe,ke+E*v.B,Z,se+32*E,8),i(xe,_e+E*v.B,ve,Le+32*E,8)}}function Gl(v,_,E,L,O,z,V,W,Z){var se=[0],ve=[0],Le=0,ke=Z!=null?Z.kd:0,Ae=Z??new Gu;if(v==null||12>E)return 7;Ae.data=v,Ae.w=_,Ae.ha=E,_=[_],E=[E],Ae.gb=[Ae.gb];e:{var He=_,Oe=E,xe=Ae.gb;if(e(v!=null),e(Oe!=null),e(xe!=null),xe[0]=0,12<=Oe[0]&&!t(v,He[0],"RIFF")){if(t(v,He[0]+8,"WEBP")){xe=3;break e}var _e=Ke(v,He[0]+4);if(12>_e||4294967286<_e){xe=3;break e}if(ke&&_e>Oe[0]-8){xe=7;break e}xe[0]=_e,He[0]+=12,Oe[0]-=12}xe=0}if(xe!=0)return xe;for(_e=0<Ae.gb[0],E=E[0];;){e:{var Be=v;Oe=_,xe=E;var Ge=se,Ue=ve,ft=He=[0];if((at=Le=[Le])[0]=0,8>xe[0])xe=7;else{if(!t(Be,Oe[0],"VP8X")){if(Ke(Be,Oe[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var rt=Ke(Be,Oe[0]+8),Lt=1+Qe(Be,Oe[0]+12);if(2147483648<=Lt*(Be=1+Qe(Be,Oe[0]+15))){xe=3;break e}ft!=null&&(ft[0]=rt),Ge!=null&&(Ge[0]=Lt),Ue!=null&&(Ue[0]=Be),Oe[0]+=18,xe[0]-=18,at[0]=1}xe=0}}if(Le=Le[0],He=He[0],xe!=0)return xe;if(Oe=!!(2&He),!_e&&Le)return 3;if(z!=null&&(z[0]=!!(16&He)),V!=null&&(V[0]=Oe),W!=null&&(W[0]=0),V=se[0],He=ve[0],Le&&Oe&&Z==null){xe=0;break}if(4>E){xe=7;break}if(_e&&Le||!_e&&!Le&&!t(v,_[0],"ALPH")){E=[E],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{rt=v,xe=_,_e=E;var at=Ae.gb;Ge=Ae.na,Ue=Ae.P,ft=Ae.Sa,Lt=22,e(rt!=null),e(_e!=null),Be=xe[0];var Fn=_e[0];for(e(Ge!=null),e(ft!=null),Ge[0]=null,Ue[0]=null,ft[0]=0;;){if(xe[0]=Be,_e[0]=Fn,8>Fn){xe=7;break e}var Un=Ke(rt,Be+4);if(4294967286<Un){xe=3;break e}var fn=8+Un+1&-2;if(Lt+=fn,0<at&&Lt>at){xe=3;break e}if(!t(rt,Be,"VP8 ")||!t(rt,Be,"VP8L")){xe=0;break e}if(Fn[0]<fn){xe=7;break e}t(rt,Be,"ALPH")||(Ge[0]=rt,Ue[0]=Be+8,ft[0]=Un),Be+=fn,Fn-=fn}}if(E=E[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],xe!=0)break}E=[E],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(at=v,xe=_,_e=E,Ge=Ae.gb[0],Ue=Ae.Ja,ft=Ae.xa,rt=xe[0],Be=!t(at,rt,"VP8 "),Lt=!t(at,rt,"VP8L"),e(at!=null),e(_e!=null),e(Ue!=null),e(ft!=null),8>_e[0])xe=7;else{if(Be||Lt){if(at=Ke(at,rt+4),12<=Ge&&at>Ge-12){xe=3;break e}if(ke&&at>_e[0]-8){xe=7;break e}Ue[0]=at,xe[0]+=8,_e[0]-=8,ft[0]=Lt}else ft[0]=5<=_e[0]&&at[rt+0]==47&&!(at[rt+4]>>5),Ue[0]=_e[0];xe=0}if(E=E[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],_=_[0],xe!=0)break;if(4294967286<Ae.Ja)return 3;if(W==null||Oe||(W[0]=Ae.xa?2:1),V=[V],He=[He],Ae.xa){if(5>E){xe=7;break}W=V,ke=He,Oe=z,v==null||5>E?v=0:5<=E&&v[_+0]==47&&!(v[_+4]>>5)?(_e=[0],at=[0],Ge=[0],ae(Ue=new D,v,_,E),gt(Ue,_e,at,Ge)?(W!=null&&(W[0]=_e[0]),ke!=null&&(ke[0]=at[0]),Oe!=null&&(Oe[0]=Ge[0]),v=1):v=0):v=0}else{if(10>E){xe=7;break}W=He,v==null||10>E||!_t(v,_+3,E-3)?v=0:(ke=v[_+0]|v[_+1]<<8|v[_+2]<<16,Oe=16383&(v[_+7]<<8|v[_+6]),v=16383&(v[_+9]<<8|v[_+8]),1&ke||3<(ke>>1&7)||!(ke>>4&1)||ke>>5>=Ae.Ja||!Oe||!v?v=0:(V&&(V[0]=Oe),W&&(W[0]=v),v=1))}if(!v||(V=V[0],He=He[0],Le&&(se[0]!=V||ve[0]!=He)))return 3;Z!=null&&(Z[0]=Ae,Z.offset=_-Z.w,e(4294967286>_-Z.w),e(Z.offset==Z.ha-E));break}return xe==0||xe==7&&Le&&Z==null?(z!=null&&(z[0]|=Ae.na!=null&&0<Ae.na.length),L!=null&&(L[0]=V),O!=null&&(O[0]=He),0):xe}function fo(v,_,E){var L=_.width,O=_.height,z=0,V=0,W=L,Z=O;if(_.Da=v!=null&&0<v.Da,_.Da&&(W=v.cd,Z=v.bd,z=v.v,V=v.j,11>E||(z&=-2,V&=-2),0>z||0>V||0>=W||0>=Z||z+W>L||V+Z>O))return 0;if(_.v=z,_.j=V,_.va=z+W,_.o=V+Z,_.U=W,_.T=Z,_.da=v!=null&&0<v.da,_.da){if(!Et(W,Z,E=[v.ib],z=[v.hb]))return 0;_.ib=E[0],_.hb=z[0]}return _.ob=v!=null&&v.ob,_.Kb=v==null||!v.Sd,_.da&&(_.ob=_.ib<3*L/4&&_.hb<3*O/4,_.Kb=0),1}function Wl(v){if(v==null)return 2;if(11>v.S){var _=v.f.RGBA;_.fb+=(v.height-1)*_.A,_.A=-_.A}else _=v.f.kb,v=v.height,_.O+=(v-1)*_.fa,_.fa=-_.fa,_.N+=(v-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(v-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(v-1)*_.lb,_.lb=-_.lb);return 0}function Zo(v,_,E,L){if(L==null||0>=v||0>=_)return 2;if(E!=null){if(E.Da){var O=E.cd,z=E.bd,V=-2&E.v,W=-2&E.j;if(0>V||0>W||0>=O||0>=z||V+O>v||W+z>_)return 2;v=O,_=z}if(E.da){if(!Et(v,_,O=[E.ib],z=[E.hb]))return 2;v=O[0],_=z[0]}}L.width=v,L.height=_;e:{var Z=L.width,se=L.height;if(v=L.S,0>=Z||0>=se||!(v>=Lr&&13>v))v=2;else{if(0>=L.Rd&&L.sd==null){V=z=O=_=0;var ve=(W=Z*Qh[v])*se;if(11>v||(z=(se+1)/2*(_=(Z+1)/2),v==12&&(V=(O=Z)*se)),(se=s(ve+2*z+V))==null){v=1;break e}L.sd=se,11>v?((Z=L.f.RGBA).eb=se,Z.fb=0,Z.A=W,Z.size=ve):((Z=L.f.kb).y=se,Z.O=0,Z.fa=W,Z.Fd=ve,Z.f=se,Z.N=0+ve,Z.Ab=_,Z.Cd=z,Z.ea=se,Z.W=0+ve+z,Z.Db=_,Z.Ed=z,v==12&&(Z.F=se,Z.J=0+ve+2*z),Z.Tc=V,Z.lb=O)}if(_=1,O=L.S,z=L.width,V=L.height,O>=Lr&&13>O)if(11>O)v=L.f.RGBA,_&=(W=Math.abs(v.A))*(V-1)+z<=v.size,_&=W>=z*Qh[O],_&=v.eb!=null;else{v=L.f.kb,W=(z+1)/2,ve=(V+1)/2,Z=Math.abs(v.fa),se=Math.abs(v.Ab);var Le=Math.abs(v.Db),ke=Math.abs(v.lb),Ae=ke*(V-1)+z;_&=Z*(V-1)+z<=v.Fd,_&=se*(ve-1)+W<=v.Cd,_=(_&=Le*(ve-1)+W<=v.Ed)&Z>=z&se>=W&Le>=W,_&=v.y!=null,_&=v.f!=null,_&=v.ea!=null,O==12&&(_&=ke>=z,_&=Ae<=v.Tc,_&=v.F!=null)}else _=0;v=_?0:2}}return v!=0||E!=null&&E.fd&&(v=Wl(L)),v}var rr=64,ho=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xo=24,Qo=32,Kl=8,Kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(v){return v},U.Predictor2=function(v,_,E){return _[E+0]},U.Predictor3=function(v,_,E){return _[E+1]},U.Predictor4=function(v,_,E){return _[E-1]},U.Predictor5=function(v,_,E){return it(it(v,_[E+1]),_[E+0])},U.Predictor6=function(v,_,E){return it(v,_[E-1])},U.Predictor7=function(v,_,E){return it(v,_[E+0])},U.Predictor8=function(v,_,E){return it(_[E-1],_[E+0])},U.Predictor9=function(v,_,E){return it(_[E+0],_[E+1])},U.Predictor10=function(v,_,E){return it(it(v,_[E-1]),it(_[E+0],_[E+1]))},U.Predictor11=function(v,_,E){var L=_[E+0];return 0>=Kt(L>>24&255,v>>24&255,(_=_[E-1])>>24&255)+Kt(L>>16&255,v>>16&255,_>>16&255)+Kt(L>>8&255,v>>8&255,_>>8&255)+Kt(255&L,255&v,255&_)?L:v},U.Predictor12=function(v,_,E){var L=_[E+0];return(mt((v>>24&255)+(L>>24&255)-((_=_[E-1])>>24&255))<<24|mt((v>>16&255)+(L>>16&255)-(_>>16&255))<<16|mt((v>>8&255)+(L>>8&255)-(_>>8&255))<<8|mt((255&v)+(255&L)-(255&_)))>>>0},U.Predictor13=function(v,_,E){var L=_[E-1];return(Pt((v=it(v,_[E+0]))>>24&255,L>>24&255)<<24|Pt(v>>16&255,L>>16&255)<<16|Pt(v>>8&255,L>>8&255)<<8|Pt(v>>0&255,L>>0&255))>>>0};var cd=U.PredictorAdd0;U.PredictorAdd1=jt,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var $u=U.PredictorAdd2;Vt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Kc,ws=U.ColorIndexInverseTransform,yr=U.MapARGB,po=U.VP8LColorIndexInverseTransformAlpha,Ju=U.MapAlpha,Ma=U.VP8LPredictorsAdd=[];Ma.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var go,Br,Cr,mo,Yr,Fs,sa,Bs,Li,zs,$i,$r,el,aa,Yl,yo,vo,xo,tl,$l,bo,La,nl,Pi,ds,gn,mn,ii,qi=s(511),_s=s(2041),wo=s(225),_o=s(767),Pa=0,Yc=_s,il=wo,vr=_o,Ss=qi,Lr=0,Jl=1,oa=2,Zu=3,rl=4,Ra=5,$c=6,Xu=7,So=8,Da=9,Zl=10,Jc=[2,3,7],As=[3,3,11],hs=[280,256,256,256,40],sl=[0,1,1,1,0],Ia=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Oa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],al=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Yh=8,Qu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ec=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sr=null,Ri=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ao=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],la=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ol=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$h=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fa=[],zr=[],ps=[],Jh=1,Xl=2,ua=[],xr=[];Fe("UpsampleRgbLinePair",bn,3),Fe("UpsampleBgrLinePair",pi,3),Fe("UpsampleRgbaLinePair",Is,4),Fe("UpsampleBgraLinePair",mr,4),Fe("UpsampleArgbLinePair",Vi,4),Fe("UpsampleRgba4444LinePair",Ui,2),Fe("UpsampleRgb565LinePair",wi,2);var Ba=U.UpsampleRgbLinePair,To=U.UpsampleBgrLinePair,ca=U.UpsampleRgbaLinePair,Zc=U.UpsampleBgraLinePair,Xc=U.UpsampleArgbLinePair,Ql=U.UpsampleRgba4444LinePair,Qc=U.UpsampleRgb565LinePair,fa=16,ar=1<<fa-1,Co=-227,ef=482,Tm=6,Zh=0,Cm=s(256),or=s(256),dd=s(256),tc=s(256),nc=s(ef-Co),hd=s(ef-Co);Os("YuvToRgbRow",bn,3),Os("YuvToBgrRow",pi,3),Os("YuvToRgbaRow",Is,4),Os("YuvToBgraRow",mr,4),Os("YuvToArgbRow",Vi,4),Os("YuvToRgba4444Row",Ui,2),Os("YuvToRgb565Row",wi,2);var ll=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],za=[0,2,8],Nm=[8,7,6,4,4,2,2,2,1,1,1,1],Xh=1;this.WebPDecodeRGBA=function(v,_,E,L,O){var z=Jl,V=new Ul,W=new ki;V.ba=W,W.S=z,W.width=[W.width],W.height=[W.height];var Z=W.width,se=W.height,ve=new Yi;if(ve==null||v==null)var Le=2;else e(ve!=null),Le=Gl(v,_,E,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Le!=0?Z=0:(Z!=null&&(Z[0]=ve.width[0]),se!=null&&(se[0]=ve.height[0]),Z=1),Z){W.width=W.width[0],W.height=W.height[0],L!=null&&(L[0]=W.width),O!=null&&(O[0]=W.height);e:{if(L=new je,(O=new Gu).data=v,O.w=_,O.ha=E,O.kd=1,_=[0],e(O!=null),((v=Gl(O.data,O.w,O.ha,null,null,null,_,null,O))==0||v==7)&&_[0]&&(v=4),(_=v)==0){if(e(V!=null),L.data=O.data,L.w=O.w+O.offset,L.ha=O.ha-O.offset,L.put=nr,L.ac=ti,L.bc=kr,L.ma=V,O.xa){if((v=ai())==null){V=1;break e}if(function(ke,Ae){var He=[0],Oe=[0],xe=[0];t:for(;;){if(ke==null)return 0;if(Ae==null)return ke.a=2,0;if(ke.l=Ae,ke.a=0,ae(ke.m,Ae.data,Ae.w,Ae.ha),!gt(ke.m,He,Oe,xe)){ke.a=3;break t}if(ke.xb=Xl,Ae.width=He[0],Ae.height=Oe[0],!Xt(He[0],Oe[0],1,ke,null))break t;return 1}return e(ke.a!=0),0}(v,L)){if(L=(_=Zo(L.width,L.height,V.Oa,V.ba))==0){t:{L=v;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((E=L.l)!=null),e((O=E.ma)!=null),L.xb!=0){if(L.ca=O.ba,L.tb=O.tb,e(L.ca!=null),!fo(O.Oa,E,Zu)){L.a=2;break n}if(!ls(L,E.width)||E.da)break n;if((E.da||yn(L.ca.S))&&Ne(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Ne()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!et(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!di(L,L.V,L.Ba,L.c,L.i,E.o,Yn))break n;O.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(_=v.a)}else _=v.a}else{if((v=new dt)==null){V=1;break e}if(v.Fa=O.na,v.P=O.P,v.qc=O.Sa,Ft(v,L)){if((_=Zo(L.width,L.height,V.Oa,V.ba))==0){if(v.Aa=0,E=V.Oa,e((O=v)!=null),E!=null){if(0<(Z=0>(Z=E.Md)?0:100<Z?255:255*Z/100)){for(se=ve=0;4>se;++se)12>(Le=O.pb[se]).lc&&(Le.ia=Z*Nm[0>Le.lc?0:Le.lc]>>3),ve|=Le.ia;ve&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=E.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}Ct(v,L)||(_=v.a)}}else _=v.a}_==0&&V.Oa!=null&&V.Oa.fd&&(_=Wl(V.ba))}V=_}z=V!=0?null:11>z?W.f.RGBA.eb:W.f.kb.y}else z=null;return z};var Qh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(U,ee){for(var de="",B=0;B<4;B++)de+=String.fromCharCode(U[ee++]);return de}function h(U,ee){return(U[ee+0]<<0|U[ee+1]<<8|U[ee+2]<<16)>>>0}function y(U,ee){return(U[ee+0]<<0|U[ee+1]<<8|U[ee+2]<<16|U[ee+3]<<24)>>>0}new c;var b=[0],x=[0],N=[],T=new c,M=n,k=function(U,ee){var de={},B=0,q=!1,oe=0,ne=0;if(de.frames=[],!function(Y,Q,ue,ce){for(var ye=0;ye<ce;ye++)if(Y[Q+ye]!=ue.charCodeAt(ye))return!0;return!1}(U,ee,"RIFF",4)){for(y(U,ee+=4),ee+=8;ee<U.length;){var ie=f(U,ee),G=y(U,ee+=4);ee+=4;var te=G+(1&G);switch(ie){case"VP8 ":case"VP8L":de.frames[B]===void 0&&(de.frames[B]={}),(j=de.frames[B]).src_off=q?ne:ee-8,j.src_size=oe+G+8,B++,q&&(q=!1,oe=0,ne=0);break;case"VP8X":(j=de.header={}).feature_flags=U[ee];var ae=ee+4;j.canvas_width=1+h(U,ae),ae+=3,j.canvas_height=1+h(U,ae),ae+=3;break;case"ALPH":q=!0,oe=te+8,ne=ee-8;break;case"ANIM":(j=de.header).bgcolor=y(U,ee),ae=ee+4,j.loop_count=(me=U)[(D=ae)+0]<<0|me[D+1]<<8,ae+=2;break;case"ANMF":var pe,j;(j=de.frames[B]={}).offset_x=2*h(U,ee),ee+=3,j.offset_y=2*h(U,ee),ee+=3,j.width=1+h(U,ee),ee+=3,j.height=1+h(U,ee),ee+=3,j.duration=h(U,ee),ee+=3,pe=U[ee++],j.dispose=1&pe,j.blend=pe>>1&1}ie!="ANMF"&&(ee+=te)}var me,D;return de}}(M,0);k.response=M,k.rgbaoutput=!0,k.dataurl=!1;var P=k.header?k.header:null,I=k.frames?k.frames:null;if(P){P.loop_counter=P.loop_count,b=[P.canvas_height],x=[P.canvas_width];for(var J=0;J<I.length&&I[J].blend!=0;J++);}var H=I[0],K=T.WebPDecodeRGBA(M,H.src_off,H.src_size,x,b);H.rgba=K,H.imgwidth=x[0],H.imgheight=b[0];for(var X=0;X<x[0]*b[0]*4;X++)N[X]=K[X];return this.width=x,this.height=b,this.data=N,this}(function(n){var e=function(){return typeof V1=="function"},t=function(b,x,N,T){var M=4,k=o;switch(T){case n.image_compression.FAST:M=1,k=s;break;case n.image_compression.MEDIUM:M=6,k=u;break;case n.image_compression.SLOW:M=9,k=c}b=i(b,x,N,k);var P=V1(b,{level:M});return n.__addimage__.arrayBufferToBinaryString(P)},i=function(b,x,N,T){for(var M,k,P,I=b.length/x,J=new Uint8Array(b.length+I),H=h(),K=0;K<I;K+=1){if(P=K*x,M=b.subarray(P,P+x),T)J.set(T(M,N,k),P+K);else{for(var X,U=H.length,ee=[];X<U;X+=1)ee[X]=H[X](M,N,k);var de=y(ee.concat());J.set(ee[de],P+K)}k=M}return J},r=function(b){var x=Array.apply([],b);return x.unshift(0),x},s=function(b,x){var N,T=[],M=b.length;T[0]=1;for(var k=0;k<M;k+=1)N=b[k-x]||0,T[k+1]=b[k]-N+256&255;return T},o=function(b,x,N){var T,M=[],k=b.length;M[0]=2;for(var P=0;P<k;P+=1)T=N&&N[P]||0,M[P+1]=b[P]-T+256&255;return M},u=function(b,x,N){var T,M,k=[],P=b.length;k[0]=3;for(var I=0;I<P;I+=1)T=b[I-x]||0,M=N&&N[I]||0,k[I+1]=b[I]+256-(T+M>>>1)&255;return k},c=function(b,x,N){var T,M,k,P,I=[],J=b.length;I[0]=4;for(var H=0;H<J;H+=1)T=b[H-x]||0,M=N&&N[H]||0,k=N&&N[H-x]||0,P=f(T,M,k),I[H+1]=b[H]-P+256&255;return I},f=function(b,x,N){if(b===x&&x===N)return b;var T=Math.abs(x-N),M=Math.abs(b-N),k=Math.abs(b+x-N-N);return T<=M&&T<=k?b:M<=k?x:N},h=function(){return[r,s,o,u,c]},y=function(b){var x=b.map(function(N){return N.reduce(function(T,M){return T+Math.abs(M)},0)});return x.indexOf(Math.min.apply(null,x))};n.processPNG=function(b,x,N,T){var M,k,P,I,J,H,K,X,U,ee,de,B,q,oe,ne,ie=this.decode.FLATE_DECODE,G="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(P=new jR(b)).imgData,k=P.bits,M=P.colorSpace,J=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){U=(X=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,de=new Uint8Array(U*P.colors),ee=new Uint8Array(U);var te,ae=P.pixelBitlength-P.bits;for(oe=0,ne=0;oe<U;oe++){for(q=X[oe],te=0;te<ae;)de[ne++]=q>>>te&255,te+=P.bits;ee[oe]=q>>>te&255}}if(P.bits===16){U=(X=new Uint32Array(P.decodePixels().buffer)).length,de=new Uint8Array(U*(32/P.pixelBitlength)*P.colors),ee=new Uint8Array(U*(32/P.pixelBitlength)),B=P.colors>1,oe=0,ne=0;for(var pe=0;oe<U;)q=X[oe++],de[ne++]=q>>>0&255,B&&(de[ne++]=q>>>16&255,q=X[oe++],de[ne++]=q>>>0&255),ee[pe++]=q>>>16&255;k=8}T!==n.image_compression.NONE&&e()?(b=t(de,P.width*P.colors,P.colors,T),K=t(ee,P.width,1,T)):(b=de,K=ee,ie=void 0)}if(P.colorType===3&&(M=this.color_spaces.INDEXED,H=P.palette,P.transparency.indexed)){var j=P.transparency.indexed,me=0;for(oe=0,U=j.length;oe<U;++oe)me+=j[oe];if((me/=255)===U-1&&j.indexOf(0)!==-1)I=[j.indexOf(0)];else if(me!==U){for(X=P.decodePixels(),ee=new Uint8Array(X.length),oe=0,U=X.length;oe<U;oe++)ee[oe]=j[X[oe]];K=t(ee,P.width,1)}}var D=function(Y){var Q;switch(Y){case n.image_compression.FAST:Q=11;break;case n.image_compression.MEDIUM:Q=13;break;case n.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(T);return ie===this.decode.FLATE_DECODE&&(G="/Predictor "+D+" "),G+="/Colors "+J+" /BitsPerComponent "+k+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(K&&this.__addimage__.isArrayBuffer(K)||this.__addimage__.isArrayBufferView(K))&&(K=this.__addimage__.arrayBufferToBinaryString(K)),{alias:N,data:b,index:x,filter:ie,decodeParameters:G,transparency:I,palette:H,sMask:K,predictor:D,width:P.width,height:P.height,bitsPerComponent:k,colorSpace:M}}}})(Ht.API),function(n){n.processGIF89A=function(e,t,i,r){var s=new UR(e),o=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:o,height:u},h=new $0(100).encode(f,100);return n.processJPEG.call(this,h,t,i,r)},n.processGIF87A=n.processGIF89A}(Ht.API),Ka.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ka.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){li.log("bit decode error:"+t)}},Ka.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[o+4*u]=c.blue,this.data[o+4*u+1]=c.green,this.data[o+4*u+2]=c.red,this.data[o+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Ka.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,u=s>>4,c=15&s,f=this.palette[u];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*r+1>=this.width)break;f=this.palette[c],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ka.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Ka.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,h=i*this.width*4+4*r;this.data[h]=c,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=f}this.pos+=n}},Ka.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,f=(o>>11)/e*255|0,h=r*this.width*4+4*s;this.data[h]=f,this.data[h+1]=c,this.data[h+2]=u,this.data[h+3]=255}this.pos+=n}},Ka.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Ka.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=o}},Ka.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,i,r){var s=new Ka(e,!1),o=s.width,u=s.height,c={data:s.getData(),width:o,height:u},f=new $0(100).encode(c,100);return n.processJPEG.call(this,f,t,i,r)}}(Ht.API),cb.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,i,r){var s=new cb(e),o=s.width,u=s.height,c={data:s.getData(),width:o,height:u},f=new $0(100).encode(c,100);return n.processJPEG.call(this,f,t,i,r)}}(Ht.API),Ht.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),u=0,c=0,f=0;f<r;f+=4){var h=i[f],y=i[f+1],b=i[f+2],x=i[f+3];s[u++]=h,s[u++]=y,s[u++]=b,o[c++]=x}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ht.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Cf=Ht.API,ig=Cf.getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:r.metadata.Unicode.widths,c=u.fof?u.fof:1,f=e.kerning?e.kerning:r.metadata.Unicode.kerning,h=f.fof?f.fof:1,y=e.doKerning!==!1,b=0,x=n.length,N=0,T=u[0]||c,M=[];for(t=0;t<x;t++)i=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?M.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(b=y&&ei(f[i])==="object"&&!isNaN(parseInt(f[i][N],10))?f[i][N]/h:0,M.push((u[i]||T)/c+b)),N=i;return M},ab=Cf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Cf.processArabic&&(n=Cf.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,r)/t:ig.apply(this,arguments).reduce(function(s,o){return s+o},0)},ob=function(n,e,t,i){for(var r=[],s=0,o=n.length,u=0;s!==o&&u+e[s]<t;)u+=e[s],s++;r.push(n.slice(0,s));var c=s;for(u=0;s!==o;)u+e[s]>i&&(r.push(n.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&r.push(n.slice(c,s)),r},lb=function(n,e,t){t||(t={});var i,r,s,o,u,c,f,h=[],y=[h],b=t.textIndent||0,x=0,N=0,T=n.split(" "),M=ig.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?T[0].length+2:t.lineIndent||0){var k=Array(c).join(" "),P=[];T.map(function(J){(J=J.split(/\s*\n/)).length>1?P=P.concat(J.map(function(H,K){return(K&&H.length?`
`:"")+H})):P.push(J[0])}),T=P,c=ab.apply(this,[k,t])}for(s=0,o=T.length;s<o;s++){var I=0;if(i=T[s],c&&i[0]==`
`&&(i=i.substr(1),I=1),b+x+(N=(r=ig.apply(this,[i,t])).reduce(function(J,H){return J+H},0))>e||I){if(N>e){for(u=ob.apply(this,[i,r,e-(b+x),e]),h.push(u.shift()),h=[u.pop()];u.length;)y.push([u.shift()]);N=r.slice(i.length-(h[0]?h[0].length:0)).reduce(function(J,H){return J+H},0)}else h=[i];y.push(h),b=N+c,x=M}else h.push(i),b+=x+N,x=M}return f=c?function(J,H){return(H?k:"")+J.join(" ")}:function(J){return J.join(" ")},y.map(f)},Cf.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var y=this.internal.getFont(h.fontName,h.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var u,c,f=[];for(u=0,c=i.length;u<c;u++)f=f.concat(lb.apply(this,[i[u],o,s]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},r=0;r<e.length;r++)t[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=n.__fontmetrics__.compress=function(y){var b,x,N,T,M=["{"];for(var k in y){if(b=y[k],isNaN(parseInt(k,10))?x="'"+k+"'":(k=parseInt(k,10),x=(x=s(k).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof b=="number")b<0?(N=s(b).slice(3),T="-"):(N=s(b).slice(2),T=""),N=T+N.slice(0,-1)+i[N.slice(-1)];else{if(ei(b)!=="object")throw new Error("Don't know what to do with value type "+ei(b)+".");N=o(b)}M.push(x+N)}return M.push("}"),M.join("")},u=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,x,N,T,M={},k=1,P=M,I=[],J="",H="",K=y.length-1,X=1;X<K;X+=1)(T=y[X])=="'"?b?(N=b.join(""),b=void 0):b=[]:b?b.push(T):T=="{"?(I.push([P,N]),P={},N=void 0):T=="}"?((x=I.pop())[0][x[1]]=P,N=void 0,P=x[0]):T=="-"?k=-1:N===void 0?t.hasOwnProperty(T)?(J+=t[T],N=parseInt(J,16)*k,k=1,J=""):J+=T:t.hasOwnProperty(T)?(H+=t[T],P[N]=parseInt(H,16)*k,k=1,N=void 0,H=""):H+=T;return M},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var b=y.font,x=h.Unicode[b.postScriptName];x&&(b.metadata.Unicode={},b.metadata.Unicode.widths=x.widths,b.metadata.Unicode.kerning=x.kerning);var N=f.Unicode[b.postScriptName];N&&(b.metadata.Unicode.encoding=N,b.encoding=N.codePages[0])}])}(Ht.API),function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=t.charCodeAt(s);return r};n.API.events.push(["addFont",function(t){var i=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(wh(u)),o.metadata=n.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(Ht),function(n){function e(){return(Wt.canvg?Promise.resolve(Wt.canvg):F1(()=>import("./index.es-eRVTzZaU.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Ht.API.addSvgAsImage=function(t,i,r,s,o,u,c,f){if(isNaN(i)||isNaN(r))throw li.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw li.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var y=h.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,h.width,h.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return e().then(function(N){return N.fromString(y,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(b)}).then(function(){x.addImage(h.toDataURL("image/jpeg",1),i,r,s,o,c,f)})}}(),Ht.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},Ht.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),c=[],f=0,h=0,y=0;function b(N,T){var M,k=!1;for(M=0;M<N.length;M+=1)N[M]===T&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var x=u.length;for(y=0;y<x;y+=1)t[u[y]].value=t[u[y]].defaultValue,t[u[y]].explicitSet=!1}if(ei(n)==="object"){for(r in n)if(s=n[r],b(u,r)&&s!==void 0){if(t[r].type==="boolean"&&typeof s=="boolean")t[r].value=s;else if(t[r].type==="name"&&b(t[r].valueSet,s))t[r].value=s;else if(t[r].type==="integer"&&Number.isInteger(s))t[r].value=s;else if(t[r].type==="array"){for(f=0;f<s.length;f+=1)if(i=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(h=0;h<s[f].length;h+=1)typeof s[f][h]!="number"&&(i=!1);i===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}t[r].value="["+c.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,T=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?T.push("/"+N+" /"+t[N].value):T.push("/"+N+" "+t[N].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+u.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+u+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ht.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var u,c=o.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],y=0,b=s.length;y<b;++y){if(u=o.metadata.characterToGlyph(s.charCodeAt(y)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=s.charCodeAt(y),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return h.join("");u=u.toString(16),h.push(f[4-u.length],u)}return h.join("")},i=function(s){var o,u,c,f,h,y,b;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],y=0,b=(u=Object.keys(s).sort(function(x,N){return x-N})).length;y<b;y++)o=u[y],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+f+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var u=o.font,c=o.out,f=o.newObject,h=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var y=u.metadata.Unicode.widths,b=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),x="",N=0;N<b.length;N++)x+=String.fromCharCode(b[N]);var T=f();h({data:x,addLength1:!0,objectId:T}),c("endobj");var M=f();h({data:i(u.metadata.toUnicode),addLength1:!0,objectId:M}),c("endobj");var k=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Pf(u.fontName)),c("/FontFile2 "+T+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var P=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+Pf(u.fontName)),c("/FontDescriptor "+k+" 0 R"),c("/W "+n.API.PDFObject.convert(y)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+M+" 0 R"),c("/BaseFont /"+Pf(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+P+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var u=o.font,c=o.out,f=o.newObject,h=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var y=u.metadata.rawData,b="",x=0;x<y.length;x++)b+=String.fromCharCode(y[x]);var N=f();h({data:b,addLength1:!0,objectId:N}),c("endobj");var T=f();h({data:i(u.metadata.toUnicode),addLength1:!0,objectId:T}),c("endobj");var M=f();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+Pf(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=f();for(var k=0;k<u.metadata.hmtx.widths.length;k++)u.metadata.hmtx.widths[k]=parseInt(u.metadata.hmtx.widths[k]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+Pf(u.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,u=s.text||"",c=s.x,f=s.y,h=s.options||{},y=s.mutex||{},b=y.pdfEscape,x=y.activeFontKey,N=y.fonts,T=x,M="",k=0,P="",I=N[T].encoding;if(N[T].encoding!=="Identity-H")return{text:u,x:c,y:f,options:h,mutex:y};for(P=u,T=x,Array.isArray(u)&&(P=u[0]),k=0;k<P.length;k+=1)N[T].metadata.hasOwnProperty("cmap")&&(o=N[T].metadata.cmap.unicode.codeMap[P[k].charCodeAt(0)]),o||P[k].charCodeAt(0)<256&&N[T].metadata.hasOwnProperty("Unicode")?M+=P[k]:M+="";var J="";return parseInt(T.slice(1))<14||I==="WinAnsiEncoding"?J=b(M,T).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(J=t(M,N[T])),y.isHex=!0,{text:J,x:c,y:f,options:h,mutex:y}};e.events.push(["postProcessText",function(s){var o=s.text||"",u=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?u.push([r(Object.assign({},c,{text:o[f][0]})).text,o[f][1],o[f][2]]):u.push(r(Object.assign({},c,{text:o[f]})).text);s.text=u}else s.text=r(Object.assign({},c,{text:o})).text}])}(Ht),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ht.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,u,c,f,h,y=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,I=0;this.__bidiEngine__={};var J=function(B){var q=B.charCodeAt(),oe=q>>8,ne=T[oe];return ne!==void 0?y[256*ne+(255&q)]:oe===252||oe===253?"AL":k.test(oe)?"L":oe===8?"R":"N"},H=function(B){for(var q,oe=0;oe<B.length;oe++){if((q=J(B.charAt(oe)))==="L")return!1;if(q==="R")return!0}return!1},K=function(B,q,oe,ne){var ie,G,te,ae,pe=q[ne];switch(pe){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(pe="AN");break;case"AL":P=!0,pe="R";break;case"WS":pe="N";break;case"CS":ne<1||ne+1>=q.length||(ie=oe[ne-1])!=="EN"&&ie!=="AN"||(G=q[ne+1])!=="EN"&&G!=="AN"?pe="N":P&&(G="AN"),pe=G===ie?G:"N";break;case"ES":pe=(ie=ne>0?oe[ne-1]:"B")==="EN"&&ne+1<q.length&&q[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&oe[ne-1]==="EN"){pe="EN";break}if(P){pe="N";break}for(te=ne+1,ae=q.length;te<ae&&q[te]==="ET";)te++;pe=te<ae&&q[te]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(ae=q.length,te=ne+1;te<ae&&q[te]==="NSM";)te++;if(te<ae){var j=B[ne],me=j>=1425&&j<=2303||j===64286;if(ie=q[te],me&&(ie==="R"||ie==="AL")){pe="R";break}}}pe=ne<1||(ie=q[ne-1])==="B"?"N":oe[ne-1];break;case"B":P=!1,r=!0,pe=I;break;case"S":s=!0,pe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":pe="N"}return pe},X=function(B,q,oe){var ne=B.split("");return oe&&U(ne,oe,{hiLevel:I}),ne.reverse(),q&&q.reverse(),ne.join("")},U=function(B,q,oe){var ne,ie,G,te,ae,pe=-1,j=B.length,me=0,D=[],Y=I?x:b,Q=[];for(P=!1,r=!1,s=!1,ie=0;ie<j;ie++)Q[ie]=J(B[ie]);for(G=0;G<j;G++){if(ae=me,D[G]=K(B,Q,D,G),ne=240&(me=Y[ae][N[D[G]]]),me&=15,q[G]=te=Y[me][5],ne>0)if(ne===16){for(ie=pe;ie<G;ie++)q[ie]=1;pe=-1}else pe=-1;if(Y[me][6])pe===-1&&(pe=G);else if(pe>-1){for(ie=pe;ie<G;ie++)q[ie]=te;pe=-1}Q[G]==="B"&&(q[G]=0),oe.hiLevel|=te}s&&function(ue,ce,ye){for(var Se=0;Se<ye;Se++)if(ue[Se]==="S"){ce[Se]=I;for(var Ee=Se-1;Ee>=0&&ue[Ee]==="WS";Ee--)ce[Ee]=I}}(Q,q,j)},ee=function(B,q,oe,ne,ie){if(!(ie.hiLevel<B)){if(B===1&&I===1&&!r)return q.reverse(),void(oe&&oe.reverse());for(var G,te,ae,pe,j=q.length,me=0;me<j;){if(ne[me]>=B){for(ae=me+1;ae<j&&ne[ae]>=B;)ae++;for(pe=me,te=ae-1;pe<te;pe++,te--)G=q[pe],q[pe]=q[te],q[te]=G,oe&&(G=oe[pe],oe[pe]=oe[te],oe[te]=G);me=ae}me++}}},de=function(B,q,oe){var ne=B.split(""),ie={hiLevel:I};return oe||(oe=[]),U(ne,oe,ie),function(G,te,ae){if(ae.hiLevel!==0&&h)for(var pe,j=0;j<G.length;j++)te[j]===1&&(pe=M.indexOf(G[j]))>=0&&(G[j]=M[pe+1])}(ne,oe,ie),ee(2,ne,q,oe,ie),ee(1,ne,q,oe,ie),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(B,q,oe){if(function(ie,G){if(G)for(var te=0;te<ie.length;te++)G[te]=te;u===void 0&&(u=H(ie)),f===void 0&&(f=H(ie))}(B,q),o||!c||f)if(o&&c&&u^f)I=u?1:0,B=X(B,q,oe);else if(!o&&c&&f)I=u?1:0,B=de(B,q,oe),B=X(B,q);else if(!o||u||c||f){if(o&&!c&&u^f)B=X(B,q),u?(I=0,B=de(B,q,oe)):(I=1,B=de(B,q,oe),B=X(B,q));else if(o&&u&&!c&&f)I=1,B=de(B,q,oe),B=X(B,q);else if(!o&&!c&&u^f){var ne=h;u?(I=1,B=de(B,q,oe),I=0,h=!1,B=de(B,q,oe),h=ne):(I=0,B=de(B,q,oe),B=X(B,q),I=1,h=!1,B=de(B,q,oe),h=ne,B=X(B,q))}}else I=0,B=de(B,q,oe);else I=u?1:0,B=de(B,q,oe);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,c=B.isOutputVisual,u=B.isInputRtl,f=B.isOutputRtl,h=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var u=0;for(o=[],u=0;u<r.length;u+=1)Object.prototype.toString.call(r[u])==="[object Array]"?o.push([t.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):o.push([t.doBidiReorder(r[u])]);i.text=o}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(Ht),Ht.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Ru(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new nD(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new VR(this.contents),this.head=new HR(this),this.name=new $R(this),this.cmap=new sS(this),this.toUnicode={},this.hhea=new GR(this),this.maxp=new JR(this),this.hmtx=new ZR(this),this.post=new KR(this),this.os2=new WR(this),this.loca=new tD(this),this.glyf=new XR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,c,f;for(f=[],o=0,u=(c=this.bbox).length;o<u;o++)e=c[o],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(t=r>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,s,o,u;for(o=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)r=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n}();var io,Ru=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,s,o,u,c;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*s+65536*o+256*u+c},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)t=e[i],s.push(this.writeByte(t));return s},n}(),VR=function(){var n;function e(t){var i,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,s,o,u,c,f,h,y,b,x,N,T;for(T in x=Object.keys(t).length,c=Math.log(2),y=16*Math.floor(Math.log(x)/c),o=Math.floor(y/c),h=16*x-y,(r=new Ru).writeInt(this.scalarType),r.writeShort(x),r.writeShort(y),r.writeShort(o),r.writeShort(h),s=16*x,f=r.pos+s,u=null,N=[],t)for(b=t[T],r.writeString(T),r.writeInt(n(b)),r.writeInt(f),r.writeInt(b.length),N=N.concat(b),T==="head"&&(u=f),f+=b.length;f%4;)N.push(0),f++;return r.write(N),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(t){var i,r,s,o;for(t=aS.call(t);t.length%4;)t.push(0);for(s=new Ru(t),r=0,i=0,o=t.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),qR={}.hasOwnProperty,Ko=function(n,e){for(var t in e)qR.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};io=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var HR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new Ru).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),fb=function(){function n(e,t){var i,r,s,o,u,c,f,h,y,b,x,N,T,M,k,P,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(x=e.readUInt16(),b=x/2,e.pos+=6,s=function(){var J,H;for(H=[],c=J=0;0<=b?J<b:J>b;c=0<=b?++J:--J)H.push(e.readUInt16());return H}(),e.pos+=2,T=function(){var J,H;for(H=[],c=J=0;0<=b?J<b:J>b;c=0<=b?++J:--J)H.push(e.readUInt16());return H}(),f=function(){var J,H;for(H=[],c=J=0;0<=b?J<b:J>b;c=0<=b?++J:--J)H.push(e.readUInt16());return H}(),h=function(){var J,H;for(H=[],c=J=0;0<=b?J<b:J>b;c=0<=b?++J:--J)H.push(e.readUInt16());return H}(),r=(this.length-e.pos+this.offset)/2,u=function(){var J,H;for(H=[],c=J=0;0<=r?J<r:J>r;c=0<=r?++J:--J)H.push(e.readUInt16());return H}(),c=k=0,I=s.length;k<I;c=++k)for(M=s[c],i=P=N=T[c];N<=M?P<=M:P>=M;i=N<=M?++P:--P)h[c]===0?o=i+f[c]:(o=u[h[c]/2+(i-N)-(b-c)]||0)!==0&&(o+=f[c]),this.codeMap[i]=65535&o}e.pos=y}return n.encode=function(e,t){var i,r,s,o,u,c,f,h,y,b,x,N,T,M,k,P,I,J,H,K,X,U,ee,de,B,q,oe,ne,ie,G,te,ae,pe,j,me,D,Y,Q,ue,ce,ye,Se,Ee,$e,Ye,Qe;switch(ne=new Ru,o=Object.keys(e).sort(function(Ke,et){return Ke-et}),t){case"macroman":for(T=0,M=function(){var Ke=[];for(N=0;N<256;++N)Ke.push(0);return Ke}(),P={0:0},s={},ie=0,pe=o.length;ie<pe;ie++)P[Ee=e[r=o[ie]]]==null&&(P[Ee]=++T),s[r]={old:e[r],new:P[e[r]]},M[r]=P[e[r]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(M),{charMap:s,subtable:ne.data,maxGlyphID:T+1};case"unicode":for(q=[],y=[],I=0,P={},i={},k=f=null,G=0,j=o.length;G<j;G++)P[H=e[r=o[G]]]==null&&(P[H]=++I),i[r]={old:H,new:P[H]},u=P[H]-r,k!=null&&u===f||(k&&y.push(k),q.push(r),f=u),k=r;for(k&&y.push(k),y.push(65535),q.push(65535),de=2*(ee=q.length),U=2*Math.pow(Math.log(ee)/Math.LN2,2),b=Math.log(U/2)/Math.LN2,X=2*ee-U,c=[],K=[],x=[],N=te=0,me=q.length;te<me;N=++te){if(B=q[N],h=y[N],B===65535){c.push(0),K.push(0);break}if(B-(oe=i[B].new)>=32768)for(c.push(0),K.push(2*(x.length+ee-N)),r=ae=B;B<=h?ae<=h:ae>=h;r=B<=h?++ae:--ae)x.push(i[r].new);else c.push(oe-B),K.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*ee+2*x.length),ne.writeUInt16(0),ne.writeUInt16(de),ne.writeUInt16(U),ne.writeUInt16(b),ne.writeUInt16(X),ye=0,D=y.length;ye<D;ye++)r=y[ye],ne.writeUInt16(r);for(ne.writeUInt16(0),Se=0,Y=q.length;Se<Y;Se++)r=q[Se],ne.writeUInt16(r);for($e=0,Q=c.length;$e<Q;$e++)u=c[$e],ne.writeUInt16(u);for(Ye=0,ue=K.length;Ye<ue;Ye++)J=K[Ye],ne.writeUInt16(J);for(Qe=0,ce=x.length;Qe<ce;Qe++)T=x[Qe],ne.writeUInt16(T);return{charMap:i,subtable:ne.data,maxGlyphID:I+1}}},n}(),sS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new fb(t,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(t,i){var r,s;return i==null&&(i="macroman"),r=fb.encode(t,i),(s=new Ru).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),GR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),WR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(t.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),KR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="post",e.prototype.parse=function(t){var i,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)i=t.readByte(),s.push(this.names.push(t.readString(i)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 196608:break;case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(t.readUInt32());return f}).call(this)}},e}(),YR=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$R=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="name",e.prototype.parse=function(t){var i,r,s,o,u,c,f,h,y,b,x;for(t.pos=this.offset,t.readShort(),i=t.readShort(),c=t.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(f={},o=y=0,b=r.length;y<b;o=++y)s=r[o],t.pos=s.offset,h=t.readString(s.length),u=new YR(h,s),f[x=s.nameID]==null&&(f[x]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),JR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),ZR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,r,s,o,u,c,f;for(t.pos=this.offset,this.metrics=[],i=0,c=this.file.hhea.numberOfMetrics;0<=c?i<c:i>c;i=0<=c?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,y;for(y=[],i=h=0;0<=s?h<s:h>s;i=0<=s?++h:--h)y.push(t.readInt16());return y}(),this.widths=(function(){var h,y,b,x;for(x=[],h=0,y=(b=this.metrics).length;h<y;h++)o=b[h],x.push(o.advance);return x}).call(this),r=this.widths[this.widths.length-1],f=[],i=u=0;0<=s?u<s:u>s;i=0<=s?++u:--u)f.push(this.widths.push(r));return f},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),aS=[].slice,XR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,r,s,o,u,c,f,h,y,b;return t in this.cache?this.cache[t]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(i.pos=this.offset+r,u=(c=new Ru(i.read(s))).readShort(),h=c.readShort(),b=c.readShort(),f=c.readShort(),y=c.readShort(),this.cache[t]=u===-1?new eD(c,h,b,f,y):new QR(c,u,h,b,f,y),this.cache[t]))},e.prototype.encode=function(t,i,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=i.length;c<f;c++)s=t[i[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},e}(),QR=function(){function n(e,t,i,r,s,o){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),eD=function(){function n(e,t,i,r,s){var o,u;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new Ru(aS.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),tD=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="loca",e.prototype.parse=function(t){var i,r;return t.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<i.length&&i[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var h=new Array(4*r.length),y=0;y<r.length;++y)h[4*y+3]=255&r[y],h[4*y+2]=(65280&r[y])>>8,h[4*y+1]=(16711680&r[y])>>16,h[4*y]=(4278190080&r[y])>>24;return h},e}(),nD=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[t],e[t]=r[i];return e},n.prototype.glyphsFor=function(e){var t,i,r,s,o,u,c;for(r={},o=0,u=e.length;o<u;o++)r[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(i=r[s])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))i=c[s],r[s]=i;return r},n.prototype.encode=function(e,t){var i,r,s,o,u,c,f,h,y,b,x,N,T,M,k;for(r in i=sS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),x={0:0},k=i.charMap)x[(c=k[r]).old]=c.new;for(N in b=i.maxGlyphID,o)N in x||(x[N]=b++);return h=function(P){var I,J;for(I in J={},P)J[P[I]]=I;return J}(x),y=Object.keys(h).sort(function(P,I){return P-I}),T=function(){var P,I,J;for(J=[],P=0,I=y.length;P<I;P++)u=y[P],J.push(h[u]);return J}(),s=this.font.glyf.encode(o,T,x),f=this.font.loca.encode(s.offsets,T),M={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},n}();Ht.API.PDFObject=function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,r,s,o;if(Array.isArray(t))return"["+function(){var u,c,f;for(f=[],u=0,c=t.length;u<c;u++)i=t[u],f.push(e.convert(i));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in s=["<<"],t)o=t[r],s.push("/"+r+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();function oS(n,e,t,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,u=r.internal.getFontSize()/o,c=r.getLineHeightFactor?r.getLineHeightFactor():s,f=u*c,h=/\r\n|\r|\n/g,y="",b=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(y=typeof n=="string"?n.split(h):n,b=y.length||1),t+=u*(2-s),i.valign==="middle"?t-=b/2*f:i.valign==="bottom"&&(t-=b*f),i.halign==="center"||i.halign==="right"){var x=u;if(i.halign==="center"&&(x*=.5),y&&b>=1){for(var N=0;N<y.length;N++)r.text(y[N],e-r.getStringUnitWidth(y[N])*x,t),t+=f;return r}e-=r.getStringUnitWidth(n)*x}return i.halign==="justify"?r.text(n,e,t,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,e,t),r}var db={},Gf=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:db=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var i,r,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),u=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){u=e.fontStyle;var f=this.getFontList()[c];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(c,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var h=n.unifyColor(e.fillColor);h&&(i=this.jsPDFDocument).setFillColor.apply(i,h),h=n.unifyColor(e.textColor),h&&(r=this.jsPDFDocument).setTextColor.apply(r,h),h=n.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,i){return this.jsPDFDocument.splitTextToSize(e,t,i)},n.prototype.rect=function(e,t,i,r,s){return this.jsPDFDocument.rect(e,t,i,r,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return db||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),$1=function(n,e){return $1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},$1(n,e)};function lS(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var uS=function(n){lS(e,n);function e(t){var i=n.call(this)||this;return i._element=t,i}return e}(Array);function iD(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function rD(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Xg(n,e,t){t.applyStyles(e,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(s){return t.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function cS(n,e,t,i){var r=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:s});var o=fS(r,!1);o&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),i.y-t.y,o)}function fS(n,e){var t=n>0,i=e||e===0;return t&&i?"DF":t?"S":i?"F":null}function vm(n,e){var t,i,r,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(i=n.top)!==null&&i!==void 0?i:e,right:(r=n.right)!==null&&r!==void 0?r:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function dS(n,e){var t=vm(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function sD(n,e,t,i,r){var s={},o=1.3333333333333333,u=J0(e,function(I){return r.getComputedStyle(I).backgroundColor});u!=null&&(s.fillColor=u);var c=J0(e,function(I){return r.getComputedStyle(I).color});c!=null&&(s.textColor=c);var f=oD(i,t);f&&(s.cellPadding=f);var h="borderTopColor",y=o*t,b=i.borderTopWidth;if(i.borderBottomWidth===b&&i.borderRightWidth===b&&i.borderLeftWidth===b){var x=(parseFloat(b)||0)/y;x&&(s.lineWidth=x)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/y,right:(parseFloat(i.borderRightWidth)||0)/y,bottom:(parseFloat(i.borderBottomWidth)||0)/y,left:(parseFloat(i.borderLeftWidth)||0)/y},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var N=J0(e,function(I){return r.getComputedStyle(I)[h]});N!=null&&(s.lineColor=N);var T=["left","right","center","justify"];T.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),T=["middle","bottom","top"],T.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var M=parseInt(i.fontSize||"");isNaN(M)||(s.fontSize=M/o);var k=aD(i);k&&(s.fontStyle=k);var P=(i.fontFamily||"").toLowerCase();return n.indexOf(P)!==-1&&(s.font=P),s}function aD(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function J0(n,e){var t=hS(n,e);if(!t)return null;var i=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function hS(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:hS(n.parentElement,e):t}function oD(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/e),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(u){return parseInt(u||"0")/i}),o=vm(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function pS(n,e,t,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var c=Object.keys(n.getFontList()),f=n.scaleFactor(),h=[],y=[],b=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:h,body:y,foot:b};for(var x=0;x<u.rows.length;x++){var N=u.rows[x],T=(o=(s=N==null?void 0:N.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),M=lD(c,f,t,N,i,r);M&&(T==="thead"?h.push(M):T==="tfoot"?b.push(M):y.push(M))}return{head:h,body:y,foot:b}}function lD(n,e,t,i,r,s){for(var o=new uS(i),u=0;u<i.cells.length;u++){var c=i.cells[u],f=t.getComputedStyle(c);if(r||f.display!=="none"){var h=void 0;s&&(h=sD(n,c,e,f,t)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:uD(c)})}}var y=t.getComputedStyle(i);if(o.length>0&&(r||y.display!=="none"))return o}function uD(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function cD(n,e,t){for(var i=0,r=[n,e,t];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Nl(n,e,t,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var u=arguments[o];if(u!=null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(s[c]=u[c])}return s}function gS(n,e){var t=new Gf(n),i=t.getDocumentOptions(),r=t.getGlobalOptions();cD(r,i,e);var s=Nl({},r,i,e),o;typeof window<"u"&&(o=window);var u=fD(r,i,e),c=dD(r,i,e),f=hD(t,s),h=gD(t,s,o);return{id:e.tableId,content:h,hooks:c,styles:u,settings:f}}function fD(n,e,t){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(c){if(c==="columnStyles"){var f=n[c],h=e[c],y=t[c];i.columnStyles=Nl({},f,h,y)}else{var b=[n,e,t],x=b.map(function(N){return N[c]||{}});i[c]=Nl({},x[0],x[1],x[2])}},s=0,o=Object.keys(i);s<o.length;s++){var u=o[s];r(u)}return i}function dD(n,e,t){for(var i=[n,e,t],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var u=o[s];u.didParseCell&&r.didParseCell.push(u.didParseCell),u.willDrawCell&&r.willDrawCell.push(u.willDrawCell),u.didDrawCell&&r.didDrawCell.push(u.didDrawCell),u.willDrawPage&&r.willDrawPage.push(u.willDrawPage),u.didDrawPage&&r.didDrawPage.push(u.didDrawPage)}return r}function hD(n,e){var t,i,r,s,o,u,c,f,h,y,b,x,N=vm(e.margin,40/n.scaleFactor()),T=(t=pD(n,e.startY))!==null&&t!==void 0?t:N.top,M;e.showFoot===!0?M="everyPage":e.showFoot===!1?M="never":M=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var k;e.showHead===!0?k="everyPage":e.showHead===!1?k="never":k=(r=e.showHead)!==null&&r!==void 0?r:"everyPage";var P=(s=e.useCss)!==null&&s!==void 0?s:!1,I=e.theme||(P?"plain":"striped"),J=!!e.horizontalPageBreak,H=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:P,theme:I,startY:T,margin:N,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:k,showFoot:M,tableLineWidth:(y=e.tableLineWidth)!==null&&y!==void 0?y:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:J,horizontalPageBreakRepeat:H,horizontalPageBreakBehaviour:(x=e.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function pD(n,e){var t=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var o=t.startPageNumber+t.pageNumber-1;s=o===r}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/i:null}function gD(n,e,t){var i=e.head||[],r=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(t){var u=pS(n,e.html,t,o,e.useCss)||{};i=u.head||i,r=u.body||i,s=u.foot||i}else console.error("Cannot parse html in non browser environment")}var c=e.columns||mD(i,r,s);return{columns:c,head:i,body:r,foot:s}}function mD(n,e,t){var i=n[0]||e[0]||t[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,u;Array.isArray(i)?u=i[parseInt(s)]:u=i[s],typeof u=="object"&&!Array.isArray(u)&&(o=(u==null?void 0:u.colSpan)||1);for(var c=0;c<o;c++){var f=void 0;Array.isArray(i)?f=r.length:f=s+(c>0?"_".concat(c):"");var h={dataKey:f};r.push(h)}}),r}var J1=function(){function n(e,t,i){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=i,this.doc=e.getDocument()}return n}(),yD=function(n){lS(e,n);function e(t,i,r,s,o,u){var c=n.call(this,t,i,u)||this;return c.cell=r,c.row=s,c.column=o,c.section=s.section,c}return e}(J1),vD=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,i,r,s,o){for(var u=0,c=t;u<c.length;u++){var f=c[u],h=new yD(e,this,i,r,s,o),y=f(h)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],y)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new J1(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new J1(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return t}else{var i=this.settings.margin;return e-i.left-i.right}},n}(),mS=function(){function n(e,t,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof uS&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=i,this.cells=r,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(i,r){var s;return Math.max(i,((s=t.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(i){var r=t.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var i=this;return e.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var u=t.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),f=c+u;return f>r?f:r},0)},n}(),yS=function(){function n(e,t,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=i,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(r=e.content)!==null&&r!==void 0?r:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",u=/\r\n|\r|\n/g;this.text=o.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/e*t,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=vm(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),xD=function(){function n(e,t,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=i}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,i=0,r=e.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(t=Math.max(t,o.styles.cellWidth))}return t},n}();function bD(n,e){wD(n,e);var t=[],i=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,t.push(s)),i+=s.width});var r=e.getWidth(n.pageSize().width)-i;r&&(r=Z1(t,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=Z1(t,r,function(s){return s.minWidth})),r=Math.abs(r),!e.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),SD(e),AD(e,n),_D(e)}function wD(n,e){var t=n.scaleFactor(),i=e.settings.horizontalPageBreak,r=dS(n,e);e.allRows().forEach(function(s){for(var o=0,u=e.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f){var h=e.hooks.didParseCell;e.callCellHooks(n,h,f,s,c,null);var y=f.padding("horizontal");f.contentWidth=Xg(f.text,f.styles,n)+y;var b=Xg(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=b+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>r?(f.minWidth=r,f.wrappedWidth=r):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var x=10/t;f.minWidth=f.styles.minCellWidth||x,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,u=e.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f&&f.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,f.wrappedWidth),c.minWidth=Math.max(c.minWidth,f.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,f.minReadableWidth);else{var h=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},y=h.cellWidth||h.minCellWidth;y&&typeof y=="number"&&(c.minWidth=y,c.wrappedWidth=y)}f&&(f.colSpan>1&&!c.minWidth&&(c.minWidth=f.minWidth),f.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=f.minWidth))}})}function Z1(n,e,t){for(var i=e,r=n.reduce(function(x,N){return x+N.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],u=o.wrappedWidth/r,c=i*u,f=o.width+c,h=t(o),y=f<h?h:f;e-=y-o.width,o.width=y}if(e=Math.round(e*1e10)/1e10,e){var b=n.filter(function(x){return e<0?x.width>t(x):!0});b.length&&(e=Z1(b,e,t))}return e}function _D(n){for(var e={},t=1,i=n.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,u=n.columns;o<u.length;o++){var c=u[o],f=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(f)f.cell.height+=s.height,t=f.cell.colSpan,delete s.cells[c.index],f.left--,f.left<=1&&delete e[c.index];else{var h=s.cells[c.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var y=i.length-r,b=h.rowSpan>y?y:h.rowSpan;e[c.index]={cell:h,left:b,row:s}}}}}function SD(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var i=e[t],r=null,s=0,o=0,u=0;u<n.columns.length;u++){var c=n.columns[u];if(o-=1,o>1&&n.columns[u+1])s+=c.width,delete i.cells[c.index];else if(r){var f=r;delete i.cells[c.index],r=null,f.width=c.width+s}else{var f=i.cells[c.index];if(!f)continue;if(o=f.colSpan,s=0,f.colSpan>1){r=f,s+=c.width;continue}f.width=c.width+s}}}function AD(n,e){for(var t={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var s=r[i],o=0,u=n.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f){e.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,h+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=hb(f.text,h,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=hb(f.text,h,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var y=f.styles.overflow(f.text,h);typeof y=="string"?f.text=[y]:f.text=y}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<b*f.rowSpan?t={height:b,count:f.rowSpan}:t&&t.count>0&&t.height>b&&(b=t.height),b>s.height&&(s.height=b)}}t.count--}}function hb(n,e,t,i,r){return n.map(function(s){return TD(s,e,t,i,r)})}function TD(n,e,t,i,r){var s=1e4*i.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Xg(n,t,i))return n;for(;e<Xg(n+r,t,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function vS(n,e){var t=new Gf(n),i=CD(e,t.scaleFactor()),r=new vD(e,i);return bD(t,r),t.applyStyles(t.userStyles),r}function CD(n,e){var t=n.content,i=ED(t.columns);if(t.head.length===0){var r=pb(i,"head");r&&t.head.push(r)}if(t.foot.length===0){var r=pb(i,"foot");r&&t.foot.push(r)}var s=n.settings.theme,o=n.styles;return{columns:i,head:Z0("head",t.head,i,o,s,e),body:Z0("body",t.body,i,o,s,e),foot:Z0("foot",t.foot,i,o,s,e)}}function Z0(n,e,t,i,r,s){var o={},u=e.map(function(c,f){for(var h=0,y={},b=0,x=0,N=0,T=t;N<T.length;N++){var M=T[N];if(o[M.index]==null||o[M.index].left===0)if(x===0){var k=void 0;Array.isArray(c)?k=c[M.index-b-h]:k=c[M.dataKey];var P={};typeof k=="object"&&!Array.isArray(k)&&(P=(k==null?void 0:k.styles)||{});var I=kD(n,M,f,r,i,s,P),J=new yS(k,I,n);y[M.dataKey]=J,y[M.index]=J,x=J.colSpan-1,o[M.index]={left:J.rowSpan-1,times:x}}else x--,b++;else o[M.index].left--,x=o[M.index].times,h++}return new mS(c,f,n,y)});return u}function pb(n,e){var t={};return n.forEach(function(i){if(i.raw!=null){var r=ND(e,i.raw);r!=null&&(t[i.dataKey]=r)}}),Object.keys(t).length>0?t:null}function ND(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function ED(n){return n.map(function(e,t){var i,r;return typeof e=="object"?r=(i=e.dataKey)!==null&&i!==void 0?i:t:r=t,new xD(r,e,t)})}function kD(n,e,t,i,r,s,o){var u=rD(i),c;n==="head"?c=r.headStyles:n==="body"?c=r.bodyStyles:n==="foot"&&(c=r.footStyles);var f=Nl({},u.table,u[n],r.styles,c),h=r.columnStyles[e.dataKey]||r.columnStyles[e.index]||{},y=n==="body"?h:{},b=n==="body"&&t%2===0?Nl({},u.alternateRow,r.alternateRowStyles):{},x=iD(s),N=Nl({},x,f,b,y);return Nl(N,o)}function MD(n,e,t){var i;t===void 0&&(t={});var r=dS(n,e),s=new Map,o=[],u=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(b){var x=e.columns.find(function(N){return N.dataKey===b||N.index===b});x&&!s.has(x.index)&&(s.set(x.index,!0),o.push(x.index),u.push(e.columns[x.index]),r-=x.wrappedWidth)});for(var f=!0,h=(i=t==null?void 0:t.start)!==null&&i!==void 0?i:0;h<e.columns.length;){if(s.has(h)){h++;continue}var y=e.columns[h].wrappedWidth;if(f||r>=y)f=!1,o.push(h),u.push(e.columns[h]),r-=y;else break;h++}return{colIndexes:o,columns:u,lastIndex:h-1}}function LD(n,e){for(var t=[],i=0;i<e.columns.length;i++){var r=MD(n,e,{start:i});r.columns.length&&(t.push(r),i=r.lastIndex)}return t}function xS(n,e){var t=e.settings,i=t.startY,r=t.margin,s={x:r.left,y:i},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=i+r.bottom+o;if(t.pageBreak==="avoid"){var c=e.body,f=c.reduce(function(b,x){return b+x.height},0);u+=f}var h=new Gf(n);(t.pageBreak==="always"||t.startY!=null&&u>h.pageSize().height)&&(wS(h),s.y=r.top),e.callWillDrawPageHooks(h,s);var y=Nl({},s);e.startPageNumber=h.pageNumber(),t.horizontalPageBreak?PD(h,e,y,s):(h.applyStyles(h.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(b){return Dl(h,e,b,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(b,x){var N=x===e.body.length-1;Qg(h,e,b,N,y,s,e.columns)}),h.applyStyles(h.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(b){return Dl(h,e,b,s,e.columns)})),cS(h,e,y,s),e.callEndPageHooks(h,s),e.finalY=s.y,n.lastAutoTable=e,h.applyStyles(h.userStyles)}function PD(n,e,t,i){var r=LD(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(f,h){n.applyStyles(n.userStyles),h>0?_h(n,e,t,i,f.columns,!0):gb(n,e,i,f.columns),RD(n,e,t,i,f.columns),X0(n,e,i,f.columns)});else for(var o=-1,u=r[0],c=function(){var f=o;if(u){n.applyStyles(n.userStyles);var h=u.columns;o>=0?_h(n,e,t,i,h,!0):gb(n,e,i,h),f=mb(n,e,o+1,i,h),X0(n,e,i,h)}var y=f-o;r.slice(1).forEach(function(b){n.applyStyles(n.userStyles),_h(n,e,t,i,b.columns,!0),mb(n,e,o+1,i,b.columns,y),X0(n,e,i,b.columns)}),o=f};o<e.body.length-1;)c()}function gb(n,e,t,i){var r=e.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(s){return Dl(n,e,s,t,i)})}function RD(n,e,t,i,r){n.applyStyles(n.userStyles),e.body.forEach(function(s,o){var u=o===e.body.length-1;Qg(n,e,s,u,t,i,r)})}function mb(n,e,t,i,r,s){n.applyStyles(n.userStyles),s=s??e.body.length;var o=Math.min(t+s,e.body.length),u=-1;return e.body.slice(t,o).forEach(function(c,f){var h=t+f===e.body.length-1,y=bS(n,e,h,i);c.canEntireRowFit(y,r)&&(Dl(n,e,c,i,r),u=t+f)}),u}function X0(n,e,t,i){var r=e.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(s){return Dl(n,e,s,t,i)})}function DD(n,e,t){var i=t.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),s=Math.floor((e-r)/i);return Math.max(0,s)}function ID(n,e,t,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,u=t.columns;o<u.length;o++){var c=u[o],f=n.cells[c.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new yS(f.raw,f.styles,f.section);h=Nl(h,f),h.text=[];var y=DD(f,e,i);f.text.length>y&&(h.text=f.text.splice(y,f.text.length));var b=i.scaleFactor(),x=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(b,x),f.contentHeight>=e&&(f.contentHeight=e,h.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),h.contentHeight=h.getContentHeight(b,x),h.contentHeight>s&&(s=h.contentHeight),r[c.index]=h}}var N=new mS(n.raw,-1,n.section,r,!0);N.height=s;for(var T=0,M=t.columns;T<M.length;T++){var c=M[T],h=N.cells[c.index];h&&(h.height=N.height);var f=n.cells[c.index];f&&(f.height=n.height)}return N}function OD(n,e,t,i){var r=n.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,u=r-o;e.section==="body"&&(u-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var c=e.getMinimumRowHeight(i.columns,n),f=c<t;if(c>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=e.hasRowSpan(i.columns),y=e.getMaxCellHeight(i.columns)>u;return y?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||i.settings.rowPageBreak==="avoid")}function Qg(n,e,t,i,r,s,o){var u=bS(n,e,i,s);if(t.canEntireRowFit(u,o))Dl(n,e,t,s,o);else if(OD(n,t,u,e)){var c=ID(t,u,e,n);Dl(n,e,t,s,o),_h(n,e,r,s,o),Qg(n,e,c,i,r,s,o)}else _h(n,e,r,s,o),Qg(n,e,t,i,r,s,o)}function Dl(n,e,t,i,r){i.x=e.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var u=o[s],c=t.cells[u.index];if(!c){i.x+=u.width;continue}n.applyStyles(c.styles),c.x=i.x,c.y=i.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,c,t,u,i);if(f===!1){i.x+=u.width;continue}FD(n,c,i);var h=c.getTextPos();oS(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,u,i),i.x+=u.width}i.y+=t.height}function FD(n,e,t){var i=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=fS(i.lineWidth,i.fillColor);r&&n.rect(e.x,t.y,e.width,e.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),BD(n,e,t,i.lineWidth))}function BD(n,e,t,i){var r,s,o,u;i.top&&(r=t.x,s=t.y,o=t.x+e.width,u=t.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),c(i.top,r,s,o,u)),i.bottom&&(r=t.x,s=t.y+e.height,o=t.x+e.width,u=t.y+e.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),c(i.bottom,r,s,o,u)),i.left&&(r=t.x,s=t.y,o=t.x,u=t.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(u+=.5*i.bottom),c(i.left,r,s,o,u)),i.right&&(r=t.x+e.width,s=t.y,o=t.x+e.width,u=t.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(u+=.5*i.bottom),c(i.right,r,s,o,u));function c(f,h,y,b,x){n.getDocument().setLineWidth(f),n.getDocument().line(h,y,b,x,"S")}}function bS(n,e,t,i){var r=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(r+=e.getFootHeight(e.columns)),n.pageSize().height-i.y-r}function _h(n,e,t,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(u){return Dl(n,e,u,i,r)}),e.callEndPageHooks(n,i);var o=e.settings.margin;cS(n,e,t,i),wS(n),e.pageNumber++,i.x=o.left,i.y=o.top,t.y=o.top,e.callWillDrawPageHooks(n,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return Dl(n,e,u,i,r)}),n.applyStyles(n.userStyles))}function wS(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function zD(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],r=gS(this,i),s=vS(this,r);return xS(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,i,r){oS(e,t,i,r,this)},n.API.autoTableSetDefaults=function(e){return Gf.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Gf.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var i;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Gf(this),s=pS(r,e,window,t,!1),o=s.head,u=s.body,c=((i=o[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:c,rows:u,data:u}}}var Q0;function jD(n,e){var t=gS(n,e),i=vS(n,t);xS(n,i)}try{if(typeof window<"u"&&window){var yb=window,vb=yb.jsPDF||((Q0=yb.jspdf)===null||Q0===void 0?void 0:Q0.jsPDF);vb&&zD(vb)}}catch(n){console.error("Could not apply autoTable plugin",n)}const $s=15,xb=16,e1=14,ya=10,rg=8,Ms=1.5,vc=10,Ya=6,_S=4;let An,Ai,Sh;async function UD(n){try{const e=await fetch(n);if(!e.ok)throw new Error(`Network response was not ok for image: ${e.status} ${e.statusText}`);const t=await e.blob();return new Promise((i,r)=>{const s=new FileReader;s.onloadend=()=>i(s.result),s.onerror=r,s.readAsDataURL(t)})}catch(e){return console.error("Error fetching or converting image:",e),null}}function Ir(n=20){An+n>Ai.internal.pageSize.height-$s&&(Ai.addPage(),An=$s)}function sg(n){Ir(e1*Ms+Ya),Ai.setFontSize(e1),Ai.setFont(void 0,"bold"),Ai.text(n,$s,An),An+=e1*Ms/Ai.internal.scaleFactor,An+=Ya/2,Ai.setFontSize(ya),Ai.setFont(void 0,"normal")}function Ks(n,e=0,t={}){const{fontStyle:i="normal",fontSize:r=ya}=t;Ai.setFont(void 0,i),Ai.setFontSize(r),(Array.isArray(n)?n:Ai.splitTextToSize(n,Sh-e)).forEach(o=>{Ir(r*Ms/Ai.internal.scaleFactor),Ai.text(o,$s+e,An),An+=r*Ms/Ai.internal.scaleFactor})}function VD(n,e=0){Ai.setFontSize(ya),Ai.setFont(void 0,"normal");let t=n.replace(/\r\n/g,`
`);const i="%%PARAGRAPH_BREAK%%";t=t.replace(/\n{2,}/g,i),t=t.replace(new RegExp("(?<![%\\n])\\n(?![%\\n])","g")," "),t.split(i).forEach(s=>{let o=s.trim();if(o===""){An+=ya*Ms/Ai.internal.scaleFactor*.5,Ir(5);return}let u="",c=e;o.match(/^[-*+]\s+/)&&(u="•  ",o=o.replace(/^[-*+]\s+/,""),c=e+Ai.getTextWidth(u)),o=o.replace(/(\*\*|__)(.*?)(\*\*|__)/g,"$2"),o=o.replace(/(\*|_)(.*?)(\*|_)/g,"$2"),Ai.splitTextToSize(o,Sh-c).forEach((h,y)=>{Ir(ya*Ms/Ai.internal.scaleFactor),y===0&&u&&Ai.text(u,$s+e,An),Ai.text(h,$s+c,An),An+=ya*Ms/Ai.internal.scaleFactor}),An+=_S/2})}function qD(n){if(!n)return"N/A";let e=n;return e=e.replace("Marketplace New Current","Marketplace Neu"),e=e.replace("Marketplace Used Current","Marketplace Gebraucht"),e=e.replace("Amazon Current","Amazon"),e=e.replace(" Current",""),e}async function X1(n,e,t,i,r,s){const o=new Ht;if(Ai=o,An=$s,Sh=o.internal.pageSize.width-2*$s,o.setFontSize(xb),o.setFont(void 0,"bold"),o.text("Teilwertschätzungsprotokoll",o.internal.pageSize.width/2,An,{align:"center"}),An+=xb*Ms/o.internal.scaleFactor+vc/2,o.setFontSize(ya),o.setFont(void 0,"normal"),o.splitTextToSize(`Produkt: ${n.name}`,Sh).forEach(U=>{Ir(ya*Ms/o.internal.scaleFactor),o.text(U,$s,An),An+=ya*Ms/o.internal.scaleFactor}),Ks([`ASIN: ${n.id}`,`Teilwertschätzung erstellt am: ${new Date().toLocaleDateString("de-DE")}`]),An+=vc,Ir(),n.imageUrl)try{const U=await UD(n.imageUrl);if(U){const ee=o.getImageProperties(U);let de=ee.width,B=ee.height;de>80&&(B=B*80/de,de=80),B>60&&(de=de*60/B,B=60);const q=(o.internal.pageSize.width-de)/2;Ir(B+vc),o.addImage(U,ee.fileType,q,An,de,B),An+=B+vc,Ir()}}catch{}sg("1. Basisdaten");const c=[];if(c.push(`ETV (Einkaufswert/Neupreis): ${n.etv!==void 0&&n.etv!==null?`€${n.etv.toFixed(2)}`:"N/A"}`),e){const U=qD(e.priceSource);c.push(`Referenzpreis (Keepa): €${e.price.toFixed(2)} (Quelle: ${U})`)}else c.push("Referenzpreis (Keepa): Nicht verfügbar");Ks(c,5),An+=Ya,Ir(30);const f="Geschätzter Teilwert:",h=`€${s.Teilwert.toFixed(2)}`,y=ya+4;o.setFontSize(y),o.setFont(void 0,"bold");const b=o.getTextWidth(f),x=o.getTextWidth(h),N=b+x+5,T=5,M=N+2*T,k=y*Ms/o.internal.scaleFactor+2*T,P=(o.internal.pageSize.width-M)/2,I=An;o.setDrawColor(100,100,100),o.setFillColor(240,240,240),o.rect(P,I,M,k,"FD");const J=P+T,H=I+T+y*(Ms-.5)/o.internal.scaleFactor;if(o.setTextColor(0,0,0),o.text(f,J,H),o.setTextColor(0,100,0),o.text(h,J+b+5,H),o.setTextColor(0,0,0),An+=k+vc,o.setFontSize(ya),o.setFont(void 0,"normal"),Ir(),t){sg("2. Marktanalyse");const U=(ee,de)=>{if(!de||Array.isArray(de)&&de.length===0&&typeof de!="string")return;Ir(15),o.setFont(void 0,"bold"),Ks(ee+":",5),o.setFont(void 0,"normal");const B=Array.isArray(de)?de.join(", "):typeof de=="string"?de:"N/A";Ks(Ai.splitTextToSize(B,Sh-15),10),An+=Ya/2};U("Zusammenfassung",t.marketAnalysis.summary),U("Wettbewerber",t.marketAnalysis.competitors),U("Verkaufsperformance",t.marketAnalysis.salesPerformance),U("Marktstimmung",t.marketAnalysis.marketSentiment),U("Typischer Neupreis",t.pricingAndSourcing.typicalNewPrice),U("Fernost-Beschaffungspotenzial",t.pricingAndSourcing.farEastSourcingPotential),U("Haltbarkeit",t.durabilityAndRisk.durability),U("Bekannte Probleme",t.durabilityAndRisk.commonIssues),An+=vc,Ir()}sg("3. eBay Strategie & Ergebnisse"),i&&i.length>0?(o.setFont(void 0,"bold"),Ks("Verwendete eBay Suchbegriffe:",5),o.setFont(void 0,"normal"),i.forEach(U=>Ks(`•  ${U}`,10)),An+=Ya,Ir(),i.forEach(U=>{Ir(15),o.setFont(void 0,"bold"),Ks(`Ergebnisse für Suchbegriff: '${U}'`,5),o.setFont(void 0,"normal"),An+=_S/2;const ee=r[U];if(ee&&ee.value)try{const de=JSON.parse(ee.value);if(Array.isArray(de)&&de.length>0){Ir(40);const B={0:{cellWidth:"auto",overflow:"linebreak"},1:{cellWidth:30},2:{halign:"right",cellWidth:30}},q=[["Artikelname","Verkaufsdatum","Preis (€)"]],oe=de.slice(0,5),ne=oe.map(ie=>[ie.name||"N/A",ie.sold_date||"N/A",typeof ie.price=="number"?ie.price.toFixed(2):"N/A"]);jD(o,{head:q,body:ne,startY:An,theme:"grid",styles:{fontSize:rg,cellPadding:1.5,halign:"left"},headStyles:{fillColor:[230,230,230],textColor:[0,0,0],fontStyle:"bold"},columnStyles:B,didDrawPage:ie=>{ie.cursor&&(An=ie.cursor.y)}}),o.lastAutoTable&&o.lastAutoTable.finalY?An=o.lastAutoTable.finalY+Ya:An+=(oe.length+1)*(rg*Ms*1.5)+Ya,de.length>5&&(Ks(`... und ${de.length-5} weitere für diesen Begriff.`,10,{fontSize:rg}),An+=Ya/2)}else Ks("Keine strukturierten Verkaufsdaten für diesen Begriff gefunden.",10)}catch{Ks("Fehler beim Verarbeiten der Ergebnisse für diesen Begriff.",10)}else Ks("Keine Daten für diesen Begriff abgerufen oder vorhanden.",10);An+=Ya,Ir()})):Ks("Keine spezifischen eBay Suchbegriffe definiert.",5),An+=vc,Ir(),sg("4. Teilwertschätzung"),An+=Ya;const K=(U,ee)=>{Ir(20),o.setFont(void 0,"bold"),Ks(U+":",5),An+=ya*Ms/o.internal.scaleFactor*.2,o.setFont(void 0,"normal"),VD(ee,5),An+=Ya/2};K("Begründung des Teilwerts",s.Begruendung_Teilwert),K("Keepa Daten",s.keepa_Bericht),K("Fazit",s.mlFazit);const X=o.internal.getNumberOfPages();for(let U=1;U<=X;U++){o.setPage(U),o.setFontSize(rg),o.setTextColor(100);const ee=`Protokoll erstellt am ${new Date().toLocaleString("de-DE")}`,de=`Seite ${U} von ${X}`;o.text(ee,$s,o.internal.pageSize.height-$s+7),o.text(de,o.internal.pageSize.width-$s-o.getTextWidth(de),o.internal.pageSize.height-$s+7)}return o.output("blob")}const SS=re.createContext(void 0),HD=[{key:"preCheckKeepa",label:"Prüfe Keepa Daten (v2keepa)",status:"pending"},{key:"preCheckMarketAnalysis",label:"Prüfe Marktanalyse (v2marketAnalysisData)",status:"pending"},{key:"preCheckEbayTerms",label:"Prüfe eBay Suchbegriffe",status:"pending"},{key:"preCheckEbayResults",label:"Prüfe eBay Ergebnisse (Detail DB)",status:"pending"}],GD=[{key:"dataProvidedKeepa",label:"Keepa Daten (v2keepa)",status:"pending"},{key:"dataProvidedMarketAnalysis",label:"Marktanalyse (v2marketAnalysisData)",status:"pending"},{key:"dataProvidedEbay",label:"eBay Suchbegriffe & Ergebnisse",status:"pending"},{key:"callGeminiTeilwert",label:"Frage Gemini für Teilwertschätzung",status:"pending"},{key:"storeTeilwertResult",label:"Speichere Teilwert Ergebnis",status:"pending"},{key:"generatePdfReport",label:"Generiere PDF Bericht",status:"pending"},{key:"uploadPdfToCloud",label:"Lade PDF in Cloud hoch",status:"pending"},{key:"storePdfLinkInDb",label:"Speichere PDF Link",status:"pending"}],ih=(n,e)=>{const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const r of t){const s=n[r],o=e[r];if(Array.isArray(s)&&Array.isArray(o)){if(s.length!==o.length||!s.every((u,c)=>u===o[c]))return!1}else if(typeof s=="object"&&s!==null&&typeof o=="object"&&o!==null){const u=Object.keys(s),c=Object.keys(o);if(u.length!==c.length)return!1;for(const f of u)if(s[f]!==o[f])return!1}else if(s!==o||!Object.prototype.hasOwnProperty.call(e,r))return!1}return!0};function bb(n){if(!n)return null;const e={},t=[],i=[{rawKey:"amazon",detail:n.amazon,name:"Amazon"},{rawKey:"mnew",detail:n.mnew,name:"Marketplace New"},{rawKey:"mused",detail:n.mused,name:"Marketplace Used"}];for(const r of i)if(r.detail&&typeof r.detail=="object"){const s=r.detail,o=s.current;if(o&&typeof o.val=="number"&&o.val>0){const c=o.val/100;r.rawKey==="amazon"?e.amazonCurrent=c:r.rawKey==="mnew"?e.newCurrent=c:r.rawKey==="mused"&&(e.usedCurrent=c),t.push({price:c,sourceName:`${r.name} Current`})}const u=s.avg30;if(u&&typeof u.val=="number"&&u.val>0){const c=u.val/100;r.rawKey==="amazon"?e.amazonAvg30=c:r.rawKey==="mnew"?e.newAvg30=c:r.rawKey==="mused"&&(e.usedAvg30=c)}}if(t.length>0){const r=t.sort((s,o)=>{const u=c=>c.startsWith("Amazon")?1:c.startsWith("Marketplace New")?2:3;return u(s.sourceName)-u(o.sourceName)});return{price:r[0].price,priceSource:r[0].sourceName,allPrices:Object.keys(e).length>0?e:void 0}}return null}const WD=({children:n})=>{const{products:e,getProductById:t}=zc(),{v2ApiToken:i,oracleWriteParUrl:r,geminiApiKey:s,isConfigSet:o}=ju(),[u,c]=re.useState({}),[f,h]=re.useState({}),[y,b]=re.useState({}),[x,N]=re.useState({}),[T,M]=re.useState({}),[k,P]=re.useState(!1),[I,J]=re.useState(null),[H,K]=re.useState(!1),[X,U]=re.useState(null),[ee,de]=re.useState(0),[B,q]=re.useState(0),[oe,ne]=re.useState(0),[ie,G]=re.useState(0),[te,ae]=re.useState(0),[pe,j]=re.useState(0),[me,D]=re.useState(0),[Y,Q]=re.useState({}),[ue,ce]=re.useState({}),[ye,Se]=re.useState({}),[Ee,$e]=re.useState({}),[Ye,Qe]=re.useState(!1),[Ke,et]=re.useState(null),[De,fe]=re.useState(null),[Et,yt]=re.useState(0),[Ze,nt]=re.useState(null),[st,it]=re.useState({}),[mt,Pt]=re.useState({}),[Kt,jt]=re.useState(!1),[xt,Yt]=re.useState(null),[bt,Vt]=re.useState(null),[lt,ui]=re.useState(0),[zt,Ei]=re.useState(null),[hn,pn]=re.useState([]),[ci,yn]=re.useState(!1),[os,Rn]=re.useState(null),[ki,Yi]=re.useState({}),[Dn,Ot]=re.useState({}),[Dt,xi]=re.useState({}),[ti,nr]=re.useState({}),kr=re.useCallback(we=>{c(Ce=>ih(Ce,we)?Ce:we)},[]),gt=re.useCallback(we=>{h(Ce=>ih(Ce,we)?Ce:we)},[]),In=re.useCallback(we=>{b(Ce=>ih(Ce,we)?Ce:we)},[]),Cn=re.useCallback(we=>{N(Ce=>ih(Ce,we)?Ce:we)},[]),ni=re.useCallback(we=>{M(Ce=>ih(Ce,we)?Ce:we)},[]),kn=re.useCallback(async(we,Ce,qe)=>{if(!i)return;const Xe={type:Ce,message:qe,timestamp:new Date().toISOString()},je=await Sn.getKey(kf,we,i);let dt={};if(!("error"in je)&&je.value)try{dt=JSON.parse(je.value)}catch{}dt[Ce]=Xe,await Sn.setKey(kf,we,JSON.stringify(dt),i)},[i]),Nn=re.useCallback(async we=>i?!("error"in await Sn.deleteKey(kf,we,i)):!1,[i]),Sr=re.useCallback(async we=>{if(!i)return null;const Ce=await Sn.getKey(kf,we,i);if("error"in Ce||!Ce.value)return null;try{return JSON.parse(Ce.value)}catch{return null}},[i]),Yn=re.useCallback(async()=>{if(!i||!o){Rn("V2 API Token oder Konfiguration nicht gesetzt."),pn([]);return}yn(!0),Rn(null);const we=await Sn.getAllStatuses(kf,i);if("error"in we)Rn(we.error),pn([]);else if(we.data){const Ce=[];for(const qe in we.data){const Xe=t(qe);try{const je=JSON.parse(we.data[qe]);Object.keys(je).length>0&&Ce.push({asin:qe,productName:(Xe==null?void 0:Xe.name)||`ASIN: ${qe}`,errors:je})}catch{}}pn(Ce.sort((qe,Xe)=>qe.productName.localeCompare(Xe.productName)))}else pn([]);yn(!1)},[i,o,t]),pr=we=>{if(typeof we.ebay=="string")try{const Ce=JSON.parse(we.ebay);if(Array.isArray(Ce)&&(Ce.length===0||Ce.length>0&&typeof Ce[0]=="object"))return{...we,ebay:Ce}}catch{}return we},Mn=re.useCallback((we,Ce,qe,Xe,je)=>{let dt=0,ut=0,_t=0,Ft=0,cn=0,ht=0,Ct=0;const It={};for(const en in we){Ct++;let kt=we[en];if(kt){kt=pr(kt),It[en]=kt;const On=kt.ebay;(On===!0||Array.isArray(On)&&On.length>0)&&_t++}else It[en]=null}dt=Object.values(qe).filter(Boolean).length,cn=Object.values(Xe).filter(Boolean).length,ut=Object.values(Ce).filter(en=>en&&en.length>0).length,Ft=0;for(const en in we){const kt=we[en],On=Ce[en]&&Ce[en].length>0,hi=!!qe[en],$n=!!Xe[en];(kt&&Object.keys(kt).length===0&&!On&&!hi&&!$n||kt&&!hi&&!$n&&!kt.ebay&&!On)&&Ft++}for(const en in je)je[en]&&ht++;kr(It),gt(Ce),Cn(qe),ni(Xe),In(je),q(dt),ne(ut),G(_t),ae(Ft),j(cn),D(ht),de(Ct)},[kr,gt,In,Cn,ni]),fi=re.useCallback((we,Ce,qe,Xe,je)=>{const dt={};for(const Ft in we)try{let cn=JSON.parse(we[Ft]);if(Object.prototype.hasOwnProperty.call(cn,"marketAnalysisData")&&i){console.warn(`Migrating marketAnalysisData for ASIN ${Ft}`);const{marketAnalysisData:ht,...Ct}=cn;cn=Ct,Sn.setKey(ks,Ft,JSON.stringify(Ct),i).catch(It=>console.error(`Error migrating marketAnalysisData for ${Ft}:`,It))}dt[Ft]=cn}catch{dt[Ft]=null}const ut={};for(const Ft in Ce)try{ut[Ft]=bb(JSON.parse(Ce[Ft]))}catch{ut[Ft]=null}const _t={};for(const Ft in qe)try{_t[Ft]=JSON.parse(qe[Ft])}catch{_t[Ft]=null}Mn(dt,Xe,ut,_t,je)},[i,Mn]),di=re.useCallback(async(we=!0)=>{if(!o||!i||!s){J("Konfiguration unvollständig (Token, Gemini Key, etc.)."),fi({},{},{},f,y),we&&Yn();return}P(!0),J(null);const[Ce,qe,Xe,je,dt]=await Promise.all([Sn.getAllStatuses(ks,i),Sn.getAllStatuses(xh,i),Sn.getAllStatuses(Mh,i),Sn.getAllStatuses(Bf,i),we?Sn.getAllStatuses(Wp,i):Promise.resolve(null)]);let ut={};if(!("error"in qe)&&qe.data)for(const ht in qe.data)try{ut[ht]=JSON.parse(qe.data[ht])}catch{ut[ht]=[]}else ut=f;const _t="error"in Xe||!Xe.data?{}:Xe.data,Ft="error"in je||!je.data?{}:je.data;let cn;if(we&&dt){const ht=dt;!("error"in ht)&&ht.data?cn=ht.data:cn=y}else cn=y;"error"in Ce?(J(Ce.error),fi({},_t,Ft,ut,cn)):Ce.data?fi(Ce.data,_t,Ft,ut,cn):fi({},_t,Ft,ut,cn),P(!1),we&&await Yn()},[i,o,s,fi,Yn,f,y]);re.useEffect(()=>{o?di(!0):(c({}),h({}),b({}),N({}),M({}),Mn({},{},{},{},{}),pn([]),J(null),Rn(null),de(0),q(0),ne(0),G(0),ae(0),j(0),D(0))},[o,di,Mn]);const gr=re.useCallback(async()=>{if(!o||!i){U("Konfiguration (z.B. Token) nicht gesetzt.");return}if(e.length===0){U("Keine Produkte zum Initialisieren.");return}K(!0),U(null);const we=e.map(qe=>({key:qe.id,value:JSON.stringify({})})),Ce=await Sn.setManyStatuses(ks,we,i);"error"in Ce?U(Ce.error):Ce.success?await di():U("Fehler bei der Initialisierung."),K(!1)},[i,o,e,di]),ai=re.useCallback(async we=>{var Ce;if(!o||!i||!s)return ce(qe=>({...qe,[we.id]:"Konfiguration (Token/Gemini Key) nicht gesetzt."})),!1;Q(qe=>({...qe,[we.id]:!0})),ce(qe=>({...qe,[we.id]:null}));try{const qe=(Ce=x[we.id])==null?void 0:Ce.price,Xe=await Vx.getMarketAnalysisAndEbaySearchTerms(we,qe);if(Xe.error||!Xe.analysis)throw new Error(Xe.error||"Keine Analyse von Gemini.");const{analysis:je}=Xe;if(await Sn.setKey(Sg,we.id,JSON.stringify(je),i),await Sn.setKey(xh,we.id,JSON.stringify(je.ebaySearchTerms),i),je.ebaySearchTerms.length>0){const ut=je.ebaySearchTerms.map(_t=>({key:_t,value:JSON.stringify("")}));await Sn.setManyStatuses(Ff,ut,i)}const dt={...u[we.id]||{}};return delete dt.marketAnalysisData,delete dt.ebay,await Sn.setKey(ks,we.id,JSON.stringify(dt),i),Mn({...u,[we.id]:dt},{...f,[we.id]:je.ebaySearchTerms},x,T,y),Q(ut=>({...ut,[we.id]:!1})),!0}catch(qe){return ce(Xe=>({...Xe,[we.id]:qe.message||"Unbek. Fehler."})),Q(Xe=>({...Xe,[we.id]:!1})),!1}},[i,o,s,u,f,y,x,T,Mn]),Xt=re.useCallback(async we=>{if(!o||!i)return $e(Ce=>({...Ce,[we]:"Token nicht gesetzt."})),!1;Se(Ce=>({...Ce,[we]:!0})),$e(Ce=>({...Ce,[we]:null}));try{await Sn.deleteKey(Sg,we,i);let Ce=f[we]||[];await Sn.deleteKey(xh,we,i);for(const je of Ce)await Sn.deleteKey(Ff,je,i);let qe={...u[we]||{}};delete qe.marketAnalysisData,delete qe.ebay,await Sn.setKey(ks,we,JSON.stringify(qe),i);const Xe={...f};return delete Xe[we],Mn({...u,[we]:qe},Xe,x,T,y),await Nn(we),Se(je=>({...je,[we]:!1})),!0}catch(Ce){return $e(qe=>({...qe,[we]:Ce.message||"Unbek. Fehler."})),Se(qe=>({...qe,[we]:!1})),!1}},[i,o,u,f,y,x,T,Mn,Nn]),ls=re.useCallback(async we=>{if(!o||!i||!s){fe("Konfiguration unvollständig.");return}if(we<=0){fe("Anzahl > 0.");return}Qe(!0),fe(null),et(null),yt(0),nt(null);const Ce=e.filter(ut=>!f[ut.id]||f[ut.id].length===0);if(Ce.length===0){nt("Keine Produkte für Analyse."),Qe(!1);return}const qe=[...Ce].sort(()=>.5-Math.random()).slice(0,we);let Xe=0,je=!1;for(let ut=0;ut<qe.length;ut++){const _t=qe[ut];et({current:ut+1,total:qe.length,asin:_t.id,productName:_t.name}),await ai(_t)?Xe++:je=!0}yt(Xe);const dt=`Batch fertig. ${Xe} von ${qe.length} analysiert.`;je?fe(dt+" Einige Analysen fehlgeschlagen."):nt(dt),Qe(!1),et(null),await Yn()},[i,o,s,e,f,ai,Yn]),Ar=re.useCallback(async we=>{if(!o||!i)return null;T[we];const Ce=await Sn.getKey(Sg,we,i);if("error"in Ce||!Ce.value)return null;try{return JSON.parse(Ce.value)}catch{return null}},[o,i,T]),bi=re.useCallback(async we=>{if(!o||!i)return null;if(x[we])return x[we];const Ce=await Sn.getKey(Mh,we,i);if("error"in Ce||!Ce.value)return null;try{const qe=JSON.parse(Ce.value);return bb(qe)}catch{return null}},[o,i,x]),Bi=re.useCallback(async(we,Ce)=>{if(!o||!i||Ce.length===0)return{};const qe={};for(const Xe of Ce){const je=await Sn.getKey(Ff,Xe,i);let dt=null;if("error"in je||(dt=je.value),"error"in je||!dt)qe[Xe]={listings:[],rawValue:dt};else try{const ut=JSON.parse(dt);Array.isArray(ut)&&ut.every(_t=>typeof _t=="object"&&Object.prototype.hasOwnProperty.call(_t,"name"))?qe[Xe]={listings:ut,rawValue:dt}:qe[Xe]={listings:[],rawValue:dt}}catch{qe[Xe]={listings:[],rawValue:dt}}}return qe},[o,i]),Rs=re.useCallback(async(we,Ce,qe,Xe)=>{if(!o||!i||!s)return Pt(je=>({...je,[we.id]:"Konfiguration unvollständig."})),null;Pt(je=>({...je,[we.id]:null}));try{const je=await Vx.estimateTeilwertForReport(we,Ce,qe,Xe);if(je.error||!je.estimation)throw new Error(je.error||"Keine Teilwertschätzung von Gemini.");return je.estimation}catch(je){const dt=je instanceof Error?je.message:"Unbek. Fehler.";return Pt(ut=>({...ut,[we.id]:dt})),await kn(we.id,"TeilwertGeminiFailed",dt),null}},[o,i,s,kn]),Qs=we=>{const Ce={};for(const qe in we)Object.prototype.hasOwnProperty.call(we,qe)&&(Ce[qe]={value:we[qe].rawValue,loading:!1,error:null});return Ce},ea=re.useCallback(async(we,Ce,qe,Xe,je)=>{if(!i||!r||!s)return{success:!1,error:"Konfiguration unvollständig (Token, Oracle URL, Gemini Key)."};it(ut=>({...ut,[we.id]:!0}));let dt=null;try{if(je("callGeminiTeilwert","inProgress"),dt=await Rs(we,Ce,qe,Xe),!dt){const Ct=mt[we.id]||"Gemini Teilwertschätzung fehlgeschlagen.";throw je("callGeminiTeilwert","failure",Ct),new Error(Ct)}je("callGeminiTeilwert","success"),je("storeTeilwertResult","inProgress"),await Sn.setKey(Bf,we.id,JSON.stringify(dt),i);const _t={...u[we.id]||{},Teilwert:dt.Teilwert};await Sn.setKey(ks,we.id,JSON.stringify(_t),i),je("storeTeilwertResult","success"),Mn({...u,[we.id]:_t},f,x,{...T,[we.id]:dt},y),await Nn(we.id),je("generatePdfReport","inProgress");const Ft=Qs(qe),cn=await X1(we,Xe,Ce,(Ce==null?void 0:Ce.ebaySearchTerms)||[],Ft,dt);je("generatePdfReport","success"),je("uploadPdfToCloud","inProgress");const{publicUrl:ht}=await Hx.uploadPdfToOracle(cn,we.id,r);if(!ht)throw new Error("PDF Upload zur Cloud fehlgeschlagen, keine URL erhalten.");return je("uploadPdfToCloud","success"),je("storePdfLinkInDb","inProgress"),await Sn.setKey(Wp,we.id,ht,i),je("storePdfLinkInDb","success"),Mn({...u,[we.id]:_t},f,x,{...T,[we.id]:dt},{...y,[we.id]:ht}),await Yn(),it(Ct=>({...Ct,[we.id]:!1})),{success:!0,pdfBlob:cn,publicPdfUrl:ht}}catch(ut){const _t=ut instanceof Error?ut.message:"Unbekannter Fehler.";return await kn(we.id,"CreateTeilwertPdfUploadFailed",_t),it(Ft=>({...Ft,[we.id]:!1})),await Yn(),{success:!1,error:_t}}},[i,r,s,Rs,u,f,y,x,T,Mn,mt,Nn,kn,Yn]),ro=re.useCallback(async we=>{if(!o||!i)return Pt(Ce=>({...Ce,[we]:"Token nicht gesetzt."})),!1;Pt(Ce=>({...Ce,[we]:null}));try{await Sn.deleteKey(Bf,we,i);let Ce=u[we],qe=!1;if(Ce&&Object.prototype.hasOwnProperty.call(Ce,"Teilwert")){const{Teilwert:ut,..._t}=Ce;Ce=_t,qe=!0}qe&&Ce&&await Sn.setKey(ks,we,JSON.stringify(Ce),i);const Xe=await Sn.deleteKey(Wp,we,i);let je=y;"error"in Xe||(je={...y},delete je[we]);const dt={...T};return delete dt[we],Mn(qe?{...u,[we]:Ce}:u,f,x,dt,je),await Nn(we),await Yn(),!0}catch(Ce){const qe=Ce instanceof Error?Ce.message:"Unbek. Fehler.";return Pt(Xe=>({...Xe,[we]:qe})),await Yn(),!1}},[o,i,u,f,y,x,T,Mn,Nn,Yn]),Hr=re.useCallback(async we=>{var cn;if(!o||!i||!r||!s){Vt("Konfiguration unvollständig.");return}jt(!0),Vt(null),Yt(null),ui(0),Ei(null);const Ce=e.filter(ht=>{const Ct=u[ht.id],It=f[ht.id]&&f[ht.id].length>0,en=!T[ht.id],kt=!!x[ht.id],On=Ct==null?void 0:Ct.ebay,hi=On===!0||Array.isArray(On)&&On.length>0;return It&&en&&kt&&hi});if(Ce.length===0){Ei("Keine Produkte für Teilwertschätzung streng qualifiziert (MA, Keepa & eBay Status vorhanden, Teilwert fehlt)."),jt(!1);return}const qe=[...Ce].sort(()=>.5-Math.random()).slice(0,we);let Xe=[],je=0;for(let ht=0;ht<qe.length;ht++){const Ct=qe[ht];let It=JSON.parse(JSON.stringify(HD));const en=(Ct==null?void 0:Ct.name)||`ASIN: ${Ct.id}`,kt=(Wn,Mi,Sa)=>{It=It.map(Gr=>Gr.key===Wn?{...Gr,status:Mi,error:Sa}:Gr),Yt(Gr=>({...Gr,current:ht+1,total:qe.length,asin:Ct.id,productName:en,phase:"pre-checking",currentStepDetails:It}))};Yt({current:ht+1,total:qe.length,asin:Ct.id,productName:en,phase:"pre-checking",currentStepDetails:It}),await Nn(Ct.id);let On=!0,hi=[];kt("preCheckKeepa","inProgress");const $n=x[Ct.id]||await bi(Ct.id);if($n)kt("preCheckKeepa","success");else{const Wn="Keepa Details fehlen (Detail DB v2keepa / Context)";kt("preCheckKeepa","failure",Wn),hi.push(Wn),On=!1}kt("preCheckMarketAnalysis","inProgress");const zi=await Ar(Ct.id);if(zi)kt("preCheckMarketAnalysis","success");else{const Wn="MA Details fehlen (Detail DB v2marketAnalysisData)";kt("preCheckMarketAnalysis","failure",Wn),hi.push(Wn),On=!1}const Tr=f[Ct.id]||[];if(Tr.length>0)kt("preCheckEbayTerms","success");else{const Wn="eBay Begriffe fehlen (Context/DB v2searchterms)";kt("preCheckEbayTerms","failure",Wn),hi.push(Wn),On=!1}let vn={};if(Tr.length>0)if(kt("preCheckEbayResults","inProgress"),vn=await Bi(Ct.id,Tr),Tr.every(Mi=>{var Sa,Gr,ys,Aa,vs,Ta,ji;return((Gr=(Sa=vn[Mi])==null?void 0:Sa.listings)==null?void 0:Gr.length)>0||((ys=vn[Mi])==null?void 0:ys.rawValue)&&((vs=(Aa=vn[Mi])==null?void 0:Aa.rawValue)==null?void 0:vs.trim())!==""&&((ji=(Ta=vn[Mi])==null?void 0:Ta.rawValue)==null?void 0:ji.trim())!=='""'}))kt("preCheckEbayResults","success");else{const Mi="eBay Ergebnisse unvollständig/leer (Detail DB v2ebayresults)";kt("preCheckEbayResults","failure",Mi),hi.push(Mi),On=!1}else On&&(kt("preCheckEbayResults","failure","Keine Suchbegriffe für Ergebnisprüfung"),hi.push("eBay Begriffe für Ergebnisprüfung fehlen"),On=!1);const ir={product:Ct,readinessScore:0,keepaData:$n,marketAnalysis:zi,ebaySearchTerms:Tr,ebayResults:vn,canProcess:On,skipReason:hi.join("; ")};ir.canProcess?Xe.push(ir):(je++,await kn(Ct.id,"TWBatchSkip_DetailedDataMissing",`Übersprungen (Detailprüfung): ${ir.skipReason||"Unbekannter Grund"}`))}const dt=Xe;if(dt.length===0){Ei(`Keine der ${qe.length} ausgewählten Produkte bestand die Detailprüfung. ${je} Produkt(e) insgesamt übersprungen.`),jt(!1),await Yn();return}let ut=0,_t=!1;for(let ht=0;ht<dt.length;ht++){const{product:Ct,keepaData:It,marketAnalysis:en,ebaySearchTerms:kt,ebayResults:On}=dt[ht],hi=(Ct==null?void 0:Ct.name)||`ASIN: ${Ct.id}`;let $n=JSON.parse(JSON.stringify(GD));const zi=(vn,ir,Wn)=>{$n=$n.map(Mi=>Mi.key===vn?{...Mi,status:ir,error:Wn}:Mi),Yt(Mi=>({...Mi,current:ht+1,total:dt.length,asin:Ct.id,productName:hi,phase:"processing-teilwert",currentStepDetails:$n}))};Yt({current:ht+1,total:dt.length,asin:Ct.id,productName:hi,phase:"processing-teilwert",currentStepDetails:$n}),zi("dataProvidedKeepa",It?"success":"failure",It?void 0:"Fehlten bei Detail-Prüfung"),zi("dataProvidedMarketAnalysis",en?"success":"failure",en?void 0:"Fehlten bei Detail-Prüfung");const Tr=kt.length>0&&Object.values(On).some(vn=>vn.listings.length>0||vn.rawValue&&vn.rawValue.trim()!==""&&vn.rawValue.trim()!=='""');if(zi("dataProvidedEbay",Tr?"success":"failure",Tr?void 0:"eBay Daten unvollständig bei Detail-Prüfung"),!It||!en||!Tr){_t=!0,await kn(Ct.id,"TWBatch_InternalPreCheckFailed","Interner Fehler: Produkt für Verarbeitung markiert, aber Daten doch nicht komplett."),$n=$n.map(vn=>vn.status==="pending"?{...vn,status:"warning",error:"Übersprungen wegen internem Vorprüfungsfehler"}:vn),Yt(vn=>vn?{...vn,currentStepDetails:$n}:null);continue}try{const vn=await ea(Ct,en,On,It,zi);if(vn.success)ut++;else throw new Error(vn.error||"Teilwert/PDF-Erstellung fehlgeschlagen.")}catch(vn){_t=!0;const ir=((cn=$n.find(Wn=>Wn.status==="inProgress"))==null?void 0:cn.key)||"callGeminiTeilwert";zi(ir,"failure",vn instanceof Error?vn.message:String(vn)),$n=$n.map(Wn=>Wn.status==="pending"&&$n.some(Mi=>Mi.status==="failure")?{...Wn,status:"warning",error:"Nicht ausgeführt wegen vorherigem Fehler"}:Wn),Yt(Wn=>Wn?{...Wn,currentStepDetails:$n}:null)}}ui(ut);let Ft=`Batch fertig. ${ut} von ${dt.length} Produkten erfolgreich Teilwert geschätzt (ursprünglich ${qe.length} ausgewählt, ${je} bei Detailprüfung übersprungen).`;_t?Vt(Ft+" Einige Schätzungen fehlgeschlagen."):Ei(Ft),jt(!1),await Yn()},[o,i,r,s,e,f,u,x,T,Ar,bi,Bi,ea,kn,Nn,Yn,t]),wt=re.useCallback(async we=>{if(!o||!i)return Ot(Ce=>({...Ce,[we]:"Token nicht gesetzt."})),!1;Yi(Ce=>({...Ce,[we]:!0})),Ot(Ce=>({...Ce,[we]:null}));try{let Ce=!1,qe=u[we]||{};const Xe=await Sn.getKey(ks,we,i);if(!("error"in Xe)&&Xe.value)try{qe=JSON.parse(Xe.value)}catch{}let je={...qe};const dt=x[we]||await bi(we);dt&&dt.price!==void 0?je.keepa!==dt.price&&(je.keepa=dt.price,Ce=!0):Object.prototype.hasOwnProperty.call(je,"keepa")&&(delete je.keepa,Ce=!0);const ut=f[we]||[],_t=ut.length>0;let Ft=!1;if(ut.length>0){const It=await Bi(we,ut);ut.some(kt=>{var On,hi,$n,zi,Tr,vn,ir;return((hi=(On=It[kt])==null?void 0:On.listings)==null?void 0:hi.length)>0||(($n=It[kt])==null?void 0:$n.rawValue)&&((Tr=(zi=It[kt])==null?void 0:zi.rawValue)==null?void 0:Tr.trim())!==""&&((ir=(vn=It[kt])==null?void 0:vn.rawValue)==null?void 0:ir.trim())!=='""'})&&(Ft=!0)}Ft?je.ebay!==!0&&(je.ebay=!0,Ce=!0):Object.prototype.hasOwnProperty.call(je,"ebay")&&(delete je.ebay,Ce=!0);const cn=T[we];let ht=!1;cn&&typeof cn.Teilwert=="number"?(je.Teilwert!==cn.Teilwert&&(je.Teilwert=cn.Teilwert,Ce=!0),ht=!0):Object.prototype.hasOwnProperty.call(je,"Teilwert")&&(delete je.Teilwert,Ce=!0),ht&&await Nn(we)&&await Yn();const Ct=y[we];if(Ce){const It=await Sn.setKey(ks,we,JSON.stringify(je),i);if("error"in It)throw new Error(`Fehler Speichern Status: ${It.error}`)}return Mn(Ce?{...u,[we]:je}:u,f,x,T,y),Yi(It=>({...It,[we]:!1})),!0}catch(Ce){const qe=Ce instanceof Error?Ce.message:"Unbek. Fehler.";return Ot(Xe=>({...Xe,[we]:qe})),Yi(Xe=>({...Xe,[we]:!1})),!1}},[o,i,u,f,y,x,T,bi,Bi,Nn,Mn,Yn]),vt=re.useCallback(async we=>{if(!i||!r)return{error:"Konfiguration unvollständig (Token, Oracle URL)."};xi(Ce=>({...Ce,[we]:!0})),nr(Ce=>({...Ce,[we]:null}));try{const Ce=t(we);if(!Ce)throw new Error("Produkt nicht gefunden.");const qe=x[we]||await bi(we),Xe=await Ar(we),je=T[we];if(!je)throw new Error("Teilwertdaten nicht gefunden oder Fehler beim Abrufen.");let dt={};Xe!=null&&Xe.ebaySearchTerms&&Xe.ebaySearchTerms.length>0&&(dt=await Bi(we,Xe.ebaySearchTerms));const ut=Qs(dt),_t=await X1(Ce,qe,Xe,(Xe==null?void 0:Xe.ebaySearchTerms)||[],ut,je),{publicUrl:Ft}=await Hx.uploadPdfToOracle(_t,we,r);if(!Ft)throw new Error("PDF Upload fehlgeschlagen: Keine URL erhalten.");return await Sn.setKey(Wp,we,Ft,i),Mn(u,f,x,T,{...y,[we]:Ft}),xi(cn=>({...cn,[we]:!1})),{publicUrl:Ft}}catch(Ce){const qe=Ce instanceof Error?Ce.message:"Fehler beim manuellen PDF Upload.";return nr(Xe=>({...Xe,[we]:qe})),xi(Xe=>({...Xe,[we]:!1})),{error:qe}}},[i,r,t,bi,Ar,Bi,u,f,y,x,T,Mn]);return S.jsx(SS.Provider,{value:{v2Statuses:u,v2AllSearchTerms:f,v2PdfLinks:y,v2ProcessedKeepaData:x,v2GeminiTeilwerte:T,isLoading:k,error:I,isInitializing:H,initializationError:X,totalProductsInV2DB:ee,countKeepaPresent:B,countMarketAnalysisPresent:oe,countEbayProductDataPresent:ie,countInitializedOnly:te,countTeilwertEstimated:pe,countPdfLinksPresent:me,isGeneratingAnalysis:Y,analysisGenerationError:ue,isDeletingAnalysis:ye,deleteAnalysisError:Ee,isBatchProcessing:Ye,batchProcessProgress:Ke,batchProcessError:De,batchProcessedCount:Et,batchProcessSuccessMessage:Ze,isEstimatingTeilwert:st,setIsEstimatingTeilwert:it,teilwertEstimationError:mt,setTeilwertEstimationError:Pt,isBatchEstimatingTeilwert:Kt,batchTeilwertEstimationProgress:xt,batchTeilwertEstimationError:bt,batchTeilwertEstimatedCount:lt,batchTeilwertSuccessMessage:zt,v2ProductErrors:hn,isLoadingErrors:ci,errorsFetchError:os,fetchV2ProcessErrors:Yn,isReconcilingStatus:ki,reconcileStatusError:Dn,reconcileProductV2Status:wt,isUploadingPdfManual:Dt,pdfManualUploadError:ti,uploadGeneratedPdfToCloud:vt,createAndStoreTeilwertWithPdf:ea,fetchV2Statuses:di,initializeV2Database:gr,generateMarketAnalysisForProduct:ai,deleteMarketAnalysisForProduct:Xt,batchGenerateMarketAnalysis:ls,fetchMarketAnalysisForProduct:Ar,fetchEbayResultsForProduct:Bi,fetchKeepaDataForProduct:bi,deleteTeilwertEstimation:ro,batchGenerateTeilwertEstimations:Hr,setProcessError:kn,clearProcessErrors:Nn,getProcessErrors:Sr},children:n})},Uc=()=>{const n=re.useContext(SS);if(n===void 0)throw new Error("useV2Process must be used within a V2ProcessProvider");return n},KD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})]}),AS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5M12 9.75v4.5m-4.5-4.5H7.5m9 4.5h-1.5m-4.5 0a.75.75 0 01.75-.75h3a.75.75 0 01.75.75M7.5 12a4.5 4.5 0 014.5-4.5m4.5 4.5a4.5 4.5 0 01-4.5 4.5M12 6.75V3m0 18v-3.75"})]}),YD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})]}),D2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 6.75h17.25M3.375 12h17.25m-17.25 5.25h17.25M4.125 6.375l.375-.75m0 0l.375-.75M4.5 5.625l-.375-.75m.375.75L4.125 5m0 12.75l.375-.75m0 0l.375-.75m-.75.75L4.125 17m0-5.625l.375-.75m0 0l.375-.75m-.75.75L4.125 10.5"})]}),I2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})]}),Gh=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})]}),Mc=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})]}),Zs=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Rf=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Fo=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})]}),em=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L14.25 12l1.5-1.75L17 8.5l1.25 1.75L19.75 12l-1.5 1.75z"})]}),$D=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),va=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 100 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Du=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),JD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zM7 10h10M7 13h5"})]}),wb=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{fillRule:"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 01.628.74v2.288a2.25 2.25 0 01-.659 1.59l-4.682 4.683a2.25 2.25 0 00-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 018 18.25v-5.757a2.25 2.25 0 00-.659-1.59L2.659 6.22A2.25 2.25 0 012 4.629V2.34a.75.75 0 01.628-.74z",clipRule:"evenodd"})]}),TS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})]}),CS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12V9A2.25 2.25 0 006 6.75H5.25A2.25 2.25 0 003 9v10.5A2.25 2.25 0 005.25 21.75h13.5A2.25 2.25 0 0021 19.5V12a2.25 2.25 0 00-2.25-2.25H9.75Z"})]}),_b=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 10.5c0 1.679-.698 3.213-1.836 4.316-.763.746-1.715 1.255-2.774 1.495L12 21l-4.39-4.689c-1.06-.24-2.011-.75-2.774-1.495C3.698 13.713 3 12.179 3 10.5c0-4.142 4.03-7.5 9-7.5s9 3.358 9 7.5z"})]}),NS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375 3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228m19.5 0a3 3 0 01-3 3H5.25a3 3 0 01-3-3m19.5 0a3 3 0 00-3-3H5.25a3 3 0 00-3 3m16.5 0h.008v.008h-.008v-.008zm-3 0h.008v.008h-.008v-.008z"})]}),ZD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})]}),XD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})]}),QD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.692-3.692c-.092-.092-.19-.176-.294-.252l-2.148-.93M7.5 15.25l-1.07-1.07a4.502 4.502 0 010-6.364l1.07-1.07m5.657 7.433l1.07-1.07a4.502 4.502 0 000-6.364l-1.07-1.07m-4.587 9.433c.092.092.19.176.294.252l2.148.93M10.923 2.25l-3.692 3.692c.092.092.19.176.294.252l2.148.93V2.25zM15.75 11.25c0 .621-.504 1.125-1.125 1.125S13.5 11.871 13.5 11.25s.504-1.125 1.125-1.125S15.75 10.629 15.75 11.25zM7.5 7.5c0 .621-.504 1.125-1.125 1.125S5.25 8.121 5.25 7.5s.504-1.125 1.125-1.125S7.5 6.879 7.5 7.5z"})]}),tm=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.243.096 3.298.26m-3.298-.26l1.012-3.135A1.125 1.125 0 017.926 2.25h8.148a1.125 1.125 0 011.128.879l1.012 3.135m0 0M6.33 5.79m11.34 0"})]}),O2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h12A2.25 2.25 0 0120.25 6v1.5A2.25 2.25 0 0118 9.75H6A2.25 2.25 0 013.75 7.5V6z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12A2.25 2.25 0 016 9.75h12A2.25 2.25 0 0120.25 12v1.5A2.25 2.25 0 0118 15.75H6A2.25 2.25 0 013.75 13.5V12z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 18A2.25 2.25 0 016 15.75h12A2.25 2.25 0 0120.25 18v1.5A2.25 2.25 0 0118 21.75H6A2.25 2.25 0 013.75 19.5V18z"})]}),ES=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.975A18.723 18.723 0 0012 3c-3.536 0-6.84-1.071-9.75-2.925m19.5 0A18.723 18.723 0 0112 21c-3.536 0-6.84-1.071-9.75-2.925M9 9.75H3.75l2.25 4.5 3-4.5zM15 9.75h5.25l-2.25 4.5-3-4.5z"})]}),e7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a2.25 2.25 0 014.56 0m-4.56 0A2.25 2.25 0 005.85 15H2.25m8.64-1.171a2.25 2.25 0 014.56 0m-4.56 0A2.25 2.25 0 0010.5 15h3.75m-3.75 0h-.375M17.25 15h.625c.621 0 1.125-.504 1.125-1.125V6.75c0-.621-.504-1.125-1.125-1.125H4.875c-.621 0-1.125.504-1.125 1.125v7.125c0 .621.504 1.125 1.125 1.125h.625m12.375 0H12.75M17.25 15V6.75M12 19.5h.008v.008H12V19.5zm0 0H6.75"})]}),kS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),F2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})]}),t7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75m9-1.5H6.75A2.25 2.25 0 004.5 7.875v11.25A2.25 2.25 0 006.75 21h9.75A2.25 2.25 0 0018.75 18.75V9.375M15 3.75H6.75"})]}),Sb=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})]}),MS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25A2.25 2.25 0 0113.5 8.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})]}),n7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})]}),i7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}),r7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),s7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]}),a7=n=>n===Qi.LOADED_FROM_EXTERNAL?S.jsx(Zs,{className:"w-5 h-5 text-green-500"}):S.jsx(em,{className:"w-5 h-5 text-gray-500"}),o7=({product:n})=>{const{id:e,name:t,imageUrl:i,status:r,etv:s,externalKeepaPrice:o,externalTeilwert:u,externalPdfUrl:c}=n,f=u_[r]||{bg:"bg-gray-200",text:"text-gray-700",border:"border-gray-400"},h=`https://via.placeholder.com/100x100.png?text=${e||"No+Image"}`;return S.jsxs("div",{className:`bg-white shadow-lg rounded-xl overflow-hidden transition-all hover:shadow-xl flex flex-col border-l-4 ${f.border}`,children:[S.jsxs("div",{className:"p-5 flex-grow",children:[S.jsxs("div",{className:"flex items-start space-x-4 mb-3",children:[S.jsx("img",{src:i||h,alt:t,className:"w-24 h-24 object-contain rounded-md border border-gray-200 bg-gray-50",onError:y=>{const b=y.target;b.src!==h&&(b.src=h)}}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx(xa,{to:`/product/${e}`,className:"hover:underline",children:S.jsx("h3",{className:"text-lg font-semibold text-sky-700 mb-1 leading-tight truncate",title:t,children:t})}),S.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["ASIN: ",e]}),S.jsxs("span",{className:`inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium ${f.bg} ${f.text}`,children:[a7(r),S.jsx("span",{className:"ml-1.5",children:n.externalSourceStatus||r})]})]})]}),S.jsxs("div",{className:"space-y-1 text-xs text-gray-600 mb-3",children:[s!=null&&S.jsxs("p",{children:[S.jsx("strong",{children:"ETV (Neu):"})," €",Number(s).toFixed(2)]}),o!=null&&o!==-1&&S.jsxs("p",{children:[S.jsx("strong",{children:"Ext. Keepa Preis:"})," €",Number(o).toFixed(2)]}),u!=null&&S.jsxs("p",{children:[S.jsx("strong",{children:"Ext. Teilwert:"})," €",Number(u).toFixed(2)]}),c&&S.jsxs("p",{children:[S.jsx("strong",{children:"Ext. PDF: "}),S.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 hover:underline inline-flex items-center",children:[S.jsx(CS,{className:"w-4 h-4 mr-1"})," Link ansehen"]})]})]})]}),S.jsx("div",{className:"bg-gray-50 px-5 py-3 border-t border-gray-200",children:S.jsx("div",{className:"flex items-center justify-between",children:S.jsxs(xa,{to:`/product/${e}`,className:"text-sm font-medium text-sky-600 hover:text-sky-800 inline-flex items-center",children:["Details anzeigen ",S.jsx(Gh,{className:"w-4 h-4 ml-1"})]})})})]})},Ki=({size:n="md",text:e,className:t=""})=>{const i={sm:"w-5 h-5 border-2",md:"w-8 h-8 border-4",lg:"w-12 h-12 border-4"};return S.jsxs("div",{className:`flex flex-col items-center justify-center ${t}`,children:[S.jsx("div",{className:`${i[n]} border-sky-600 border-t-transparent rounded-full animate-spin`}),e&&S.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e})]})},t1=["any","required","excluded"],l7={any:{icon:S.jsx(s7,{className:"w-4 h-4"}),text:"Beliebig",colorClass:"bg-slate-200 text-slate-700 hover:bg-slate-300",title:"Filter ignoriert"},required:{icon:S.jsx(i7,{className:"w-4 h-4"}),text:"Ja",colorClass:"bg-green-200 text-green-800 hover:bg-green-300",title:"Muss vorhanden sein"},excluded:{icon:S.jsx(r7,{className:"w-4 h-4"}),text:"Nein",colorClass:"bg-red-200 text-red-800 hover:bg-red-300",title:"Darf nicht vorhanden sein"}},rh=({label:n,currentState:e,onChange:t,className:i=""})=>{const r=()=>{const u=(t1.indexOf(e)+1)%t1.length;t(t1[u])},s=l7[e];return S.jsxs("div",{className:`flex flex-col items-start ${i}`,children:[S.jsx("span",{className:"text-xs font-medium text-slate-600 mb-1",children:n}),S.jsxs("button",{type:"button",onClick:r,title:`${n}: ${s.title}`,className:`w-full sm:w-auto min-w-[90px] px-3 py-1.5 text-xs font-medium rounded-md flex items-center justify-center transition-colors shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1 ${s.colorClass}`,children:[s.icon,S.jsx("span",{className:"ml-1.5",children:s.text})]})]})},Ab={etvZero:"any",keepa:"any",ebay:"any",ma:"any",pdf:"any"},u7=()=>{const{products:n,isLoading:e,error:t,fetchProducts:i}=zc(),{v2Statuses:r,v2AllSearchTerms:s,v2PdfLinks:o,isLoading:u}=Uc(),[c,f]=re.useState(Ab),[h,y]=re.useState(""),[b,x]=re.useState(1),N=e||u,T=()=>{x(1),i()},M=(K,X)=>{f(U=>({...U,[K]:X})),x(1)},k=()=>{f(Ab),y(""),x(1)},P=re.useMemo(()=>n.filter(K=>{var q,oe,ne,ie;if(h!==""&&!(K.name.toLowerCase().includes(h.toLowerCase())||K.id.toLowerCase().includes(h.toLowerCase()))||c.etvZero==="required"&&K.etv!==0||c.etvZero==="excluded"&&K.etv===0)return!1;const X=((q=r[K.id])==null?void 0:q.hasOwnProperty("keepa"))&&((oe=r[K.id])==null?void 0:oe.keepa)!==null&&((ne=r[K.id])==null?void 0:ne.keepa)!==void 0;if(c.keepa==="required"&&!X||c.keepa==="excluded"&&X)return!1;const U=(ie=r[K.id])==null?void 0:ie.ebay,ee=U===!0||Array.isArray(U)&&U.length>0;if(c.ebay==="required"&&!ee||c.ebay==="excluded"&&ee)return!1;const de=!!s[K.id]&&s[K.id].length>0;if(c.ma==="required"&&!de||c.ma==="excluded"&&de)return!1;const B=!!o[K.id];return!(c.pdf==="required"&&!B||c.pdf==="excluded"&&B)}),[n,c,h,r,s,o]),I=Math.ceil(P.length/ba),J=re.useMemo(()=>{const K=(b-1)*ba,X=K+ba;return P.slice(K,X)},[P,b]);re.useEffect(()=>{b>I&&I>0?x(I):(b<1&&I>0||I===0&&n.length>0||I===0&&n.length===0)&&x(1)},[P.length,I,b,n.length]);const H=()=>N&&n.length===0?S.jsx("div",{className:"flex flex-col justify-center items-center h-64 bg-white p-6 rounded-lg shadow-md",children:S.jsx(Ki,{text:"Lade Produkte & Statusdaten..."})}):t?S.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg shadow-md",role:"alert",children:[S.jsx("p",{className:"font-bold",children:"Fehler beim Laden der Produkte"}),S.jsx("p",{children:t})]}):n.length>0&&P.length===0?S.jsxs("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:[S.jsx(wb,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),S.jsx("p",{className:"text-xl text-gray-600",children:"Keine Produkte gefunden."}),S.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Versuchen Sie, Ihre Filter anzupassen oder alle Filter zurückzusetzen."}),S.jsxs("button",{onClick:k,className:"mt-4 px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 flex items-center mx-auto",children:[S.jsx(tm,{className:"w-4 h-4 mr-2"}),"Alle Filter zurücksetzen"]})]}):n.length===0&&!N?S.jsxs("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:[S.jsx("img",{src:"https://picsum.photos/seed/emptybox/200/150",alt:"Keine Produkte",className:"mx-auto mb-4 rounded opacity-70"}),S.jsx("p",{className:"text-xl text-gray-600",children:"Keine Produkte verfügbar."}),S.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Möglicherweise sind noch keine Produkte in der externen Quelle vorhanden oder es gab ein Problem beim Laden."})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:J.map(K=>S.jsx(o7,{product:K},K.id))}),I>1&&S.jsxs("div",{className:"mt-8 flex justify-between items-center bg-white p-4 rounded-lg shadow-md",children:[S.jsxs("button",{onClick:()=>x(K=>Math.max(K-1,1)),disabled:b===1,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[S.jsx(Mc,{className:"w-4 h-4 mr-2"}),"Vorherige"]}),S.jsxs("span",{className:"text-sm text-gray-700",children:["Seite ",b," von ",I," (",P.length," Produkte gesamt)"]}),S.jsxs("button",{onClick:()=>x(K=>Math.min(K+1,I)),disabled:b===I,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Nächste",S.jsx(Gh,{className:"w-4 h-4 ml-2"})]})]})]});return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[S.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Produkt-Dashboard"}),S.jsx("div",{className:"flex items-center space-x-3",children:S.jsxs("button",{onClick:T,disabled:N,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-70 flex items-center",children:[S.jsx(Du,{className:`w-4 h-4 mr-2 ${N?"animate-spin":""}`}),"Aktualisieren"]})})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{htmlFor:"searchTerm",className:"block text-sm font-medium text-gray-700 mb-1",children:"Suche (Titel/ASIN)"}),S.jsx("input",{type:"text",id:"searchTerm",value:h,onChange:K=>{y(K.target.value),x(1)},placeholder:"Produkt suchen...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500"})]}),S.jsxs("div",{className:"mb-4 p-4 border border-slate-200 rounded-lg bg-slate-50",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-3",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center",children:[S.jsx(wb,{className:"w-5 h-5 mr-2 text-sky-600"})," Erweiterte Filter"]}),S.jsxs("button",{onClick:k,className:"mt-2 sm:mt-0 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-100 rounded-md hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 flex items-center",children:[S.jsx(tm,{className:"w-3.5 h-3.5 mr-1.5"}),"Alle Filter zurücksetzen"]})]}),S.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-3",children:[S.jsx(rh,{label:"ETV = 0",currentState:c.etvZero,onChange:K=>M("etvZero",K)}),S.jsx(rh,{label:"Keepa-Daten",currentState:c.keepa,onChange:K=>M("keepa",K)}),S.jsx(rh,{label:"eBay-Daten",currentState:c.ebay,onChange:K=>M("ebay",K)}),S.jsx(rh,{label:"MA-Daten",currentState:c.ma,onChange:K=>M("ma",K)}),S.jsx(rh,{label:"PDF Link",currentState:c.pdf,onChange:K=>M("pdf",K)})]})]})]}),H()]})},c7=(n,e)=>{switch(n){case"pending":return S.jsx(D2,{className:"w-5 h-5 text-slate-400"});case"inProgress":return S.jsx(Ki,{size:"sm",className:"border-sky-500"});case"success":return S.jsx(Zs,{className:"w-5 h-5 text-green-500"});case"failure":return S.jsx(Rf,{className:"w-5 h-5 text-red-500"});case"warning":return S.jsx(Fo,{className:"w-5 h-5 text-yellow-500"});default:return null}},Q1=({steps:n,title:e})=>!n||n.length===0?null:S.jsxs("div",{className:"my-4 p-4 border border-slate-200 rounded-lg bg-slate-50 shadow-sm",children:[e&&S.jsx("h4",{className:"text-md font-semibold text-slate-700 mb-3",children:e}),S.jsx("ul",{className:"space-y-2",children:n.map(t=>S.jsxs("li",{className:"flex items-start p-2 rounded-md hover:bg-slate-100 transition-colors",children:[S.jsx("div",{className:"flex-shrink-0 w-6 h-6 mr-3 mt-0.5",children:c7(t.status,t.status==="inProgress")}),S.jsxs("div",{className:"flex-grow",children:[S.jsx("span",{className:`text-sm font-medium ${t.status==="failure"?"text-red-600":t.status==="warning"?"text-yellow-700":t.status==="success"?"text-green-700":"text-slate-600"}`,children:t.label}),t.error&&(t.status==="failure"||t.status==="warning")&&S.jsx("p",{className:"text-xs text-red-500 mt-0.5",children:t.error})]})]},t.key))})]}),sh=({title:n,children:e,defaultOpen:t=!0,icon:i})=>{const[r,s]=re.useState(t);return S.jsxs("div",{className:"mb-6 bg-white shadow rounded-lg",children:[S.jsxs("button",{className:"w-full flex justify-between items-center p-4 bg-slate-100 hover:bg-slate-200 focus:outline-none rounded-t-lg transition-colors",onClick:()=>s(!r),"aria-expanded":r,children:[S.jsxs("div",{className:"flex items-center",children:[i&&S.jsx("span",{className:"mr-2 text-sky-600",children:i}),S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:n})]}),r?S.jsx(XD,{className:"w-6 h-6 text-slate-500"}):S.jsx(ZD,{className:"w-6 h-6 text-slate-500"})]}),r&&S.jsx("div",{className:"p-4 border-t border-slate-200 prose max-w-none text-slate-700",children:e})]})},n1=({content:n})=>{const e=t=>{let i=[];const r=[];return t.split(`
`).forEach((s,o)=>{const u=s.match(/^[ \t]*[-*+]\s+(.*)/);u?i.push(u[1]):(i.length>0&&(r.push(S.jsx("ul",{className:"list-disc pl-5 my-2",children:i.map((c,f)=>S.jsx("li",{dangerouslySetInnerHTML:{__html:c.replace(/\*\*(.*?)\*\*|__(.*?)__/g,"<strong>$1$2</strong>").replace(/\*(.*?)\*|_(.*?)_/g,"<em>$1$2</em>")}},`li-${o}-${f}`))},`ul-${o}`)),i=[]),s.trim()===""?r.push(S.jsx("br",{},`br-${o}`)):r.push(S.jsx("p",{dangerouslySetInnerHTML:{__html:s.replace(/\*\*(.*?)\*\*|__(.*?)__/g,"<strong>$1$2</strong>").replace(/\*(.*?)\*|_(.*?)_/g,"<em>$1$2</em>")}},`p-${o}`)))}),i.length>0&&r.push(S.jsx("ul",{className:"list-disc pl-5 my-2",children:i.map((s,o)=>S.jsx("li",{dangerouslySetInnerHTML:{__html:s.replace(/\*\*(.*?)\*\*|__(.*?)__/g,"<strong>$1$2</strong>").replace(/\*(.*?)\*|_(.*?)_/g,"<em>$1$2</em>")}},`li-last-${o}`))},"ul-last")),r};return S.jsx("div",{className:"prose-sm sm:prose lg:prose-lg xl:prose-xl max-w-none",children:e(n)})},i1=[{key:"dataProvidedKeepa",label:"Keepa Daten (v2keepa)",status:"pending"},{key:"dataProvidedMarketAnalysis",label:"Marktanalyse (v2marketAnalysisData)",status:"pending"},{key:"dataProvidedEbay",label:"eBay Suchbegriffe & Ergebnisse",status:"pending"},{key:"callGeminiTeilwert",label:"Frage Gemini für Teilwertschätzung",status:"pending"},{key:"storeTeilwertResult",label:"Speichere Teilwert Ergebnis",status:"pending"},{key:"generatePdfReport",label:"Generiere PDF Bericht",status:"pending"},{key:"uploadPdfToCloud",label:"Lade PDF in Cloud hoch",status:"pending"},{key:"storePdfLinkInDb",label:"Speichere PDF Link",status:"pending"}],Tb=[{key:"reconFetchCurrent",label:"Lade aktuellen v2processstatus",status:"pending"},{key:"reconKeepa",label:"Prüfe/Aktualisiere Keepa Daten (aus v2keepa)",status:"pending"},{key:"reconMAeBayTerms",label:"Prüfe/Aktualisiere Marktanalyse/eBay-Begriffe (aus v2marketAnalysis/v2searchterms)",status:"pending"},{key:"reconEbayData",label:"Prüfe/Aktualisiere eBay-Daten Flag (aus v2ebayresults)",status:"pending"},{key:"reconTeilwert",label:"Prüfe/Aktualisiere Teilwert Daten (aus v2TeilwertData)",status:"pending"},{key:"reconPdfLink",label:"Prüfe/Aktualisiere PDF Link (aus v2pdf)",status:"pending"},{key:"reconSaveStatus",label:"Speichere aktualisierten v2processstatus falls geändert",status:"pending"},{key:"reconClearErrors",label:"Bereinige ggf. v2processErrors falls Teilwert erfolgreich",status:"pending"}],f7=n=>{const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]={value:n[t].rawValue,loading:!1,error:null});return e},d7=()=>{var ro,Hr;const{productId:n}=_3(),{getProductById:e,isLoading:t}=zc(),{v2Statuses:i,v2AllSearchTerms:r,v2PdfLinks:s,generateMarketAnalysisForProduct:o,isGeneratingAnalysis:u,analysisGenerationError:c,deleteMarketAnalysisForProduct:f,isDeletingAnalysis:h,deleteAnalysisError:y,fetchMarketAnalysisForProduct:b,fetchKeepaDataForProduct:x,fetchEbayResultsForProduct:N,createAndStoreTeilwertWithPdf:T,deleteTeilwertEstimation:M,isEstimatingTeilwert:k,teilwertEstimationError:P,setProcessError:I,getProcessErrors:J,clearProcessErrors:H,reconcileProductV2Status:K,isReconcilingStatus:X,reconcileStatusError:U,fetchV2ProcessErrors:ee,uploadGeneratedPdfToCloud:de,isUploadingPdfManual:B,pdfManualUploadError:q}=Uc(),{v2ApiToken:oe,isConfigSet:ne}=ju(),[ie,G]=re.useState(void 0),[te,ae]=re.useState(null),[pe,j]=re.useState(!1),[me,D]=re.useState(null),[Y,Q]=re.useState({}),[ue,ce]=re.useState(null),[ye,Se]=re.useState(null),[Ee,$e]=re.useState(!1),[Ye,Qe]=re.useState(null),[Ke,et]=re.useState(null),[De,fe]=re.useState(!1),[Et,yt]=re.useState(null),[Ze,nt]=re.useState(null),[st,it]=re.useState(!1),[mt,Pt]=re.useState(!1),[Kt,jt]=re.useState(null),[xt,Yt]=re.useState(!1),[bt,Vt]=re.useState(JSON.parse(JSON.stringify(i1))),[lt,ui]=re.useState(null),[zt,Ei]=re.useState(!1),[hn,pn]=re.useState(JSON.parse(JSON.stringify(Tb))),[ci,yn]=re.useState(!1),[os,Rn]=re.useState(null),ki=n?u[n]:!1,Yi=n?c[n]:null,Dn=n?h[n]:!1,Ot=n?y[n]:null,Dt=n?!!(r[n]&&r[n].length>0):!1,xi=n?!!(i[n]&&i[n].hasOwnProperty("Teilwert")):!1,ti=n?s[n]:null,nr=n?X[n]:!1,kr=n?U[n]:null,gt=n?B[n]:!1,In=n?q[n]:null;re.useEffect(()=>{n&&G(e(n))},[n,e]);const Cn=re.useCallback(async()=>{n&&ne&&nt(await J(n))},[n,ne,J]);re.useEffect(()=>{Cn()},[Cn]);const ni=re.useCallback(async()=>{if(n&&ne&&(!Ke||Ke===null)){fe(!0),yt(null);try{et(await x(n))}catch(wt){yt(wt.message||"Fehler Laden Keepa V2 Details.")}finally{fe(!1)}}},[n,ne,x,Ke]);re.useEffect(()=>{ni()},[ni]),re.useEffect(()=>{n&&ne&&oe&&Dt&&!te?(j(!0),D(null),b(n).then(ae).catch(wt=>D(wt.message||"Fehler Laden Marktanalyse.")).finally(()=>j(!1))):Dt||ae(null)},[n,ne,oe,Dt,b,te]),re.useEffect(()=>{n&&ne&&oe&&xi&&!ye?($e(!0),Qe(null),Sn.getKey(Bf,n,oe).then(wt=>{if("error"in wt)Qe(wt.error);else if(wt.value)try{Se(JSON.parse(wt.value))}catch{Qe("Fehler Parsen Teilwert-Daten.")}else Se(null)}).catch(wt=>Qe(wt.message||"Netzwerkfehler.")).finally(()=>$e(!1))):xi||Se(null)},[n,ne,oe,xi,ye]);const kn=re.useCallback(async()=>{if(!n||!ne||!oe||!Dt)return;const wt=r[n]||[];if(wt.length===0){Q({});return}it(!0);const vt={};wt.forEach(we=>{vt[we]={value:null,loading:!0,error:null}}),Q(vt);for(const we of wt){const Ce=await Sn.getKey(Ff,we,oe);if("error"in Ce)Q(qe=>({...qe,[we]:{value:null,loading:!1,error:Ce.error}}));else{let qe=Ce.value;qe==='""'&&(qe=""),Q(Xe=>({...Xe,[we]:{value:qe,loading:!1,error:null}}))}}it(!1)},[n,ne,oe,Dt,r]);re.useEffect(()=>{Dt?kn():Q({})},[Dt,kn]),re.useEffect(()=>{if(n&&i[n]){const wt=i[n];(wt.ebay===!0||Array.isArray(wt.ebay)&&wt.ebay.length>0)&&Array.isArray(wt.ebay)?ce(wt.ebay):ce(null)}else ce(null)},[n,i]);const Nn=async()=>{ie&&!ki&&ne&&(await o(ie),await Cn(),await ee())},Sr=async()=>{ie!=null&&ie.id&&!Dn&&ne&&await f(ie.id)&&(ae(null),Q({}),await Cn(),await ee())},Yn=async()=>{ie!=null&&ie.id&&!mt&&!ki&&!Dn&&ne&&(Pt(!0),jt(null),await f(ie.id)?(ae(null),Q({}),await o(ie)):jt(y[ie.id]||"Fehler Löschen alte Analyse."),await Cn(),await ee(),Pt(!1))},pr=async wt=>{var dt,ut;if(!ie||!oe||!ne||xt)return;Yt(!0),ui(null);let vt=JSON.parse(JSON.stringify(i1.map(_t=>({..._t,status:"pending",error:void 0}))));Vt(vt),await H(ie.id);let we=null,Ce=null,qe={},Xe=[];const je=(_t,Ft,cn)=>{vt=vt.map(ht=>ht.key===_t?{...ht,status:Ft,error:cn}:ht),Vt(vt)};try{je("dataProvidedKeepa","inProgress"),we=await x(ie.id),we?je("dataProvidedKeepa","success"):(Xe.push("Keepa-Daten (aus v2keepa)"),je("dataProvidedKeepa",zt?"warning":"failure","Keepa-Daten (v2keepa) fehlen.")),je("dataProvidedMarketAnalysis","inProgress"),Ce=te,!Ce&&Dt&&(Ce=await b(ie.id)),Ce?je("dataProvidedMarketAnalysis","success"):(Xe.push("Marktanalyse-Objekt"),je("dataProvidedMarketAnalysis",zt?"warning":"failure","Marktanalyse-Objekt fehlt.")),je("dataProvidedEbay","inProgress");const _t=r[ie.id]||[];if(_t.length>0?(qe=await N(ie.id,_t),_t.some(It=>{const en=qe[It];return!en||!en.listings.length&&(en.rawValue===null||en.rawValue.trim()===""||en.rawValue.trim()==='""')})?(Xe.push("Unvollständige eBay Suchergebnisse"),je("dataProvidedEbay",zt?"warning":"failure","Unvollständige eBay Suchergebnisse.")):je("dataProvidedEbay","success")):Dt?(Xe.push("eBay Suchbegriffe nicht definiert"),je("dataProvidedEbay",zt?"warning":"failure","eBay Suchbegriffe nicht definiert.")):(je("dataProvidedEbay",zt?"warning":"success",zt?"Keine MA, eBay Daten übergangen.":""),zt&&Xe.push("eBay Daten (da keine MA)")),Xe.length>0&&!zt){const Ct=`Folgende Daten fehlen oder sind unvollständig: ${Xe.join(", ")}. Möchten Sie die Teilwertschätzung trotzdem durchführen? Dies kann die Qualität der Schätzung stark beeinträchtigen.`;if(!window.confirm(Ct)){await I(ie.id,"TeilwertInput_UserCancelled","Nutzer hat Teilwertschätzung wegen fehlender Daten abgebrochen.");const It=((dt=vt.find(en=>en.status==="inProgress"||en.status==="pending"||en.status==="failure"))==null?void 0:dt.key)||"dataProvidedKeepa";throw je(It,"failure","Nutzer hat Teilwertschätzung wegen fehlender Daten abgebrochen."),new Error("Nutzer hat Teilwertschätzung wegen fehlender Daten abgebrochen.")}await I(ie.id,"TeilwertInput_UserConfirmedMissing",`Nutzer hat Teilwertschätzung trotz fehlender Daten bestätigt: ${Xe.join(", ")}.`),vt=vt.map(It=>It.status==="failure"?{...It,status:"warning",error:(It.error||"")+" (Nutzer-Bestätigung)"}:It),Vt(vt)}else Xe.length>0&&zt&&(await I(ie.id,"TeilwertInput_UserOverrideForced",`Nutzer hat Teilwertschätzung trotz fehlender Daten erzwungen: ${Xe.join(", ")}.`),vt=vt.map(Ct=>Ct.status==="failure"?{...Ct,status:"warning",error:(Ct.error||"")+" (Override Checkbox)"}:Ct),Vt(vt));if(!vt.slice(0,3).every(Ct=>Ct.status==="success"||Ct.status==="warning"))throw new Error("Kritische Daten für Teilwertschätzung fehlen und wurden nicht übergangen.");if(wt){if(!await M(ie.id))throw new Error((P==null?void 0:P[ie.id])||"Fehler beim Löschen der alten Teilwertschätzung.");Se(null)}const cn=await T(ie,Ce,qe,we,je);if(!cn.success){const Ct=cn.error||(P==null?void 0:P[ie.id])||"Unbekannter Fehler von Gemini oder beim Speichern/PDF.",It=((ut=vt.find(en=>en.status==="inProgress"))==null?void 0:ut.key)||"callGeminiTeilwert";throw je(It,"failure",Ct),new Error(Ct)}await Cn(),await ee();const ht=await Sn.getKey(Bf,ie.id,oe);!("error"in ht)&&ht.value&&Se(JSON.parse(ht.value))}catch(_t){ui(_t.message||"Unbekannter Fehler bei der Teilwertschätzung.");let Ft=!1;if(vt=vt.map(ht=>(ht.status==="failure"&&(Ft=!0),Ft&&ht.status==="pending"?{...ht,status:"warning",error:"Nicht ausgeführt wegen vorherigem Fehler."}:ht)),!Ft&&vt.find(ht=>ht.status==="inProgress")){const ht=vt.find(Ct=>Ct.status==="inProgress").key;je(ht,"failure",_t.message)}vt.some(ht=>ht.status==="failure")&&(vt=vt.map(ht=>ht.status==="pending"?{...ht,status:"warning",error:"Nicht ausgeführt wegen vorherigem Fehler"}:ht)),Vt(vt)}finally{Yt(!1)}},Mn=async()=>{ie!=null&&ie.id&&!xt&&ne&&(await M(ie.id)?(Se(null),Vt(JSON.parse(JSON.stringify(i1))),ui(null),await Cn(),await ee()):ui((P==null?void 0:P[ie.id])||"Fehler beim Löschen der Teilwertschätzung."))},fi=async()=>{if(!ie||!ye||!oe||!ne){Rn("Benötigte Daten für PDF nicht vorhanden (Produkt, Teilwertschätzung, Konfiguration).");return}yn(!0),Rn(null);try{const[wt,vt]=await Promise.all([x(ie.id),b(ie.id)]);let we={};const Ce=r[ie.id]||[];Ce.length>0&&(we=await N(ie.id,Ce));const qe=f7(we),Xe=await X1(ie,wt,vt,Ce,qe,ye),je=URL.createObjectURL(Xe),dt=document.createElement("a");dt.href=je,dt.download=`Teilwert_v2_${ie.id}.pdf`,document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),URL.revokeObjectURL(je)}catch(wt){Rn(wt.message||"Fehler bei lokaler PDF-Generierung.")}finally{yn(!1)}},di=async()=>{!ie||!oe||!ne||(await de(ie.id),await ee())},gr=async()=>{if(!ie||!oe||!ne||nr)return;let wt=JSON.parse(JSON.stringify(Tb.map(Ce=>({...Ce,status:"pending",error:void 0}))));pn(wt);const vt=(Ce,qe,Xe)=>{wt=wt.map(je=>je.key===Ce?{...je,status:qe,error:Xe}:je),pn(wt)};if(vt("reconFetchCurrent","inProgress"),await K(ie.id)){if(wt=wt.map(Ce=>({...Ce,status:"success"})),pn(wt),ni(),Dt?b(ie.id):ae(null),xi){const Ce=await Sn.getKey(Bf,ie.id,oe);!("error"in Ce)&&Ce.value?Se(JSON.parse(Ce.value)):Se(null)}else Se(null);await ee()}else vt("reconSaveStatus","failure",U[ie.id]||"Fehler beim Abgleich")};if(t&&!ie)return S.jsx("div",{className:"flex justify-center items-center h-64",children:S.jsx(Ki,{text:"Lade Produktdetails..."})});if(!ne)return S.jsxs("div",{className:"text-center py-10",children:[S.jsx("h1",{className:"text-2xl text-orange-600",children:"Konfiguration fehlt"}),S.jsx("p",{className:"text-gray-600 mt-2",children:"Bitte melden Sie sich an, um Produktdetails anzuzeigen."}),S.jsxs(xa,{to:"/",className:"mt-4 inline-flex items-center px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700",children:[S.jsx(Mc,{className:"w-4 h-4 mr-2"})," Zum Login / Dashboard"]})]});if(!ie)return S.jsxs("div",{className:"text-center py-10",children:[S.jsx("h1",{className:"text-2xl text-red-600",children:"Produkt nicht gefunden"}),S.jsxs("p",{className:"text-gray-600 mt-2",children:['Das Produkt mit der ID "',n,'" konnte nicht geladen werden.']}),S.jsxs(xa,{to:"/",className:"mt-4 inline-flex items-center px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700",children:[S.jsx(Mc,{className:"w-4 h-4 mr-2"})," Zurück zum Dashboard"]})]});const ai=u_[ie.status]||{bg:"bg-gray-200",text:"text-gray-700",border:"border-gray-400"},Xt=n?i[n]:null,ls=!!(Xt&&Xt.hasOwnProperty("keepa")&&Xt.keepa!==null&&Xt.keepa!==void 0),Ar=Xt==null?void 0:Xt.ebay,bi=Ar===!0||Array.isArray(Ar)&&Ar.length>0,Bi=ne&&!Dt&&!ki&&!mt&&!Dn,Rs=ne&&Dt&&!ki&&!Dn&&!mt&&!pe,Qs=ne&&!xi&&!xt,ea=ne&&xi&&!xt&&!Ee;return S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsxs(xa,{to:"/",className:"inline-flex items-center text-sky-600 hover:text-sky-800 group",children:[S.jsx(Mc,{className:"w-5 h-5 mr-2 transition-transform group-hover:-translate-x-1"}),"Zurück zum Dashboard"]}),S.jsxs("button",{onClick:gr,disabled:!ne||nr,className:"px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 rounded-md hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-slate-500 disabled:opacity-50 flex items-center",title:"Daten aus verschiedenen DBs (v2keepa, v2marketAnalysisData, v2searchterms, v2TeilwertData, v2pdf) mit dem Haupt-Statuseintrag (v2processstatus) synchronisieren und Fehler ggf. bereinigen.",children:[nr?S.jsx(Ki,{size:"sm",className:"mr-1.5"}):S.jsx(ES,{className:"w-4 h-4 mr-1.5"}),"Status Abgleichen"]})]}),nr&&S.jsx(Q1,{steps:hn,title:"Abgleich Fortschritt:"}),kr&&S.jsxs("div",{className:"my-2 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md text-sm",children:[S.jsx("p",{className:"font-semibold",children:"Fehler beim Abgleich:"}),S.jsx("p",{children:kr})]}),S.jsxs("header",{className:`mb-8 p-6 bg-white shadow-lg rounded-xl border-l-4 ${ai.border}`,children:[S.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:ie.name}),S.jsxs("p",{className:"text-sm text-gray-500",children:["ASIN: ",ie.id]})]}),ie.imageUrl&&S.jsx("img",{src:ie.imageUrl,alt:ie.name,className:"w-24 h-24 sm:w-32 sm:h-32 object-contain rounded-md border p-1 bg-white mt-4 sm:mt-0"})]}),S.jsxs("div",{className:"mt-4 space-y-2",children:[S.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${ai.bg} ${ai.text} mr-2 mb-2 sm:mb-0`,children:["Status (Extern): ",ie.externalSourceStatus||ie.status]}),S.jsxs("div",{className:"inline-flex flex-wrap items-center gap-2 text-sm font-medium text-slate-700",children:[S.jsx("span",{className:"font-semibold",children:"V2 Daten:"}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${ls?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-600"}`,children:[ls?S.jsx(Zs,{className:"w-4 h-4 mr-1"}):S.jsx(Rf,{className:"w-4 h-4 mr-1"})," Keepa (Status)"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${Dt?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[Dt?S.jsx(Zs,{className:"w-4 h-4 mr-1"}):S.jsx(Rf,{className:"w-4 h-4 mr-1"})," MA"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${bi?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:[bi?S.jsx(Zs,{className:"w-4 h-4 mr-1"}):S.jsx(Rf,{className:"w-4 h-4 mr-1"})," eBay (Status)"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${xi?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:[xi?S.jsx(Zs,{className:"w-4 h-4 mr-1"}):S.jsx(Rf,{className:"w-4 h-4 mr-1"})," Teilwert"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${ti?"bg-cyan-100 text-cyan-700":"bg-gray-100 text-gray-600"}`,children:[ti?S.jsx(Zs,{className:"w-4 h-4 mr-1"}):S.jsx(Rf,{className:"w-4 h-4 mr-1"})," PDF Cloud"]})]})]}),Ze&&Object.keys(Ze).length>0&&S.jsxs("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-300 text-orange-700 rounded-md text-xs",children:[S.jsx("p",{className:"font-semibold mb-1",children:"Hinweise/Fehler für dieses Produkt:"}),S.jsx("ul",{className:"list-disc pl-5",children:Object.entries(Ze).map(([wt,vt])=>S.jsxs("li",{children:[S.jsxs("strong",{children:[vt.type,":"]})," ",vt.message," (",new Date(vt.timestamp).toLocaleString(),")"]},wt))})]})]}),S.jsxs(sh,{title:"Produktdaten (Basis & Extern)",defaultOpen:!0,children:[S.jsxs("p",{children:[S.jsx("strong",{children:"ASIN:"})," ",ie.id]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Name:"})," ",ie.name]}),S.jsxs("p",{children:[S.jsx("strong",{children:"ETV (Neupreis):"})," ",ie.etv!==void 0&&ie.etv!==null?`€${Number(ie.etv).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsxs("strong",{children:["V2 Keepa Preis (aus ",ks,"):"]})," ",(Xt==null?void 0:Xt.keepa)!==void 0?`€${Number(Xt.keepa).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsxs("strong",{children:["V2 Geschätzter Teilwert (aus ",ks,"):"]})," ",(Xt==null?void 0:Xt.Teilwert)!==void 0?`€${Number(Xt.Teilwert).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Bild-Dateiname:"})," ",ie.externalImageFilename||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Keepa Preis:"})," ",ie.externalKeepaPrice!==void 0&&ie.externalKeepaPrice!==null&&ie.externalKeepaPrice!==-1?`€${Number(ie.externalKeepaPrice).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Teilwert:"})," ",ie.externalTeilwert!==void 0&&ie.externalTeilwert!==null?`€${Number(ie.externalTeilwert).toFixed(2)}`:"N/A"]}),ie.externalPdfUrl&&S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle PDF: "}),S.jsxs("a",{href:ie.externalPdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 hover:underline inline-flex items-center",children:[S.jsx(CS,{className:"w-4 h-4 mr-1"})," Link ansehen"]})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Status:"})," ",ie.externalSourceStatus||"N/A"]})]}),S.jsxs(sh,{title:`Keepa V2 Preisdetails (aus ${Mh})`,defaultOpen:!0,icon:S.jsx(O2,{className:"w-6 h-6"}),children:[De&&S.jsx(Ki,{text:"Lade Keepa V2 Details..."}),Et&&S.jsx("p",{className:"text-red-600",children:Et}),!De&&!Et&&!Ke&&S.jsx("p",{className:"text-slate-500",children:"Keine detaillierten Keepa V2 Daten für dieses Produkt gefunden."}),Ke&&S.jsxs("div",{className:"space-y-2 text-sm",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Primär genutzter Preis:"})," ",S.jsxs("span",{className:"font-semibold text-emerald-600",children:["€",Ke.price.toFixed(2)]})," (Quelle: ",Ke.priceSource,")"]}),Ke.allPrices&&S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-slate-600 mt-2 mb-1",children:"Weitere aktuelle Preise:"}),S.jsxs("ul",{className:"list-disc pl-5 text-slate-700",children:[S.jsxs("li",{children:["Amazon Aktuell: ",Ke.allPrices.amazonCurrent!==void 0?`€${Ke.allPrices.amazonCurrent.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Neu Aktuell: ",Ke.allPrices.newCurrent!==void 0?`€${Ke.allPrices.newCurrent.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Gebraucht Aktuell: ",Ke.allPrices.usedCurrent!==void 0?`€${Ke.allPrices.usedCurrent.toFixed(2)}`:"N/A"]})]}),S.jsx("h4",{className:"font-medium text-slate-600 mt-2 mb-1",children:"Weitere 30-Tage Durchschnittspreise:"}),S.jsxs("ul",{className:"list-disc pl-5 text-slate-700",children:[S.jsxs("li",{children:["Amazon 30d Ø: ",Ke.allPrices.amazonAvg30!==void 0?`€${Ke.allPrices.amazonAvg30.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Neu 30d Ø: ",Ke.allPrices.newAvg30!==void 0?`€${Ke.allPrices.newAvg30.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Gebraucht 30d Ø: ",Ke.allPrices.usedAvg30!==void 0?`€${Ke.allPrices.usedAvg30.toFixed(2)}`:"N/A"]})]})]})]})]}),ue&&ue.length>0&&S.jsx(sh,{title:"eBay Verkaufsdaten (Produktbezogen)",defaultOpen:!0,icon:S.jsx(D2,{className:"w-6 h-6"}),children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full text-xs text-slate-700",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Name"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Verkaufsdatum"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Verkäufer"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Typ"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Zustand"}),S.jsx("th",{className:"px-2 py-2 text-right font-medium text-slate-600",children:"Preis (€)"}),S.jsx("th",{className:"px-2 py-2 text-right font-medium text-slate-600",children:"Versand (€)"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-200",children:ue.map((wt,vt)=>{var we,Ce;return S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-2 py-1.5 whitespace-normal break-words max-w-xs text-slate-700",children:wt.name}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-slate-700",children:wt.sold_date}),S.jsx("td",{className:"px-2 py-1.5 whitespace-normal break-words max-w-[100px] text-slate-700",children:wt.seller}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-slate-700",children:wt.type}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-slate-700",children:wt.condition}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-right text-slate-700",children:(we=wt.price)==null?void 0:we.toFixed(2)}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-right text-slate-700",children:(Ce=wt.shipment)==null?void 0:Ce.toFixed(2)})]},vt)})})]})})}),S.jsxs(sh,{title:"Gemini Marktanalyse & eBay Strategie",defaultOpen:!ue||ue.length===0,icon:S.jsx(QD,{className:"w-6 h-6"}),children:[!ne&&S.jsx("p",{className:"text-red-600",children:"Konfiguration (z.B. API Tokens) nicht geladen. Analyse nicht möglich."}),ne&&S.jsxs(S.Fragment,{children:[(ki||Dn||mt||pe)&&S.jsxs("div",{className:"my-4 p-4 bg-sky-50 rounded-md",children:[S.jsx(Ki,{text:pe?"Lade Marktanalyse...":mt?"Analyse wird neu erstellt...":Dn?"Marktanalyse wird gelöscht...":"Generiere Marktanalyse..."})," "]}),Yi&&!ki&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:Yi})]}),Ot&&!Dn&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:Ot})]}),Kt&&!mt&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:Kt})]}),me&&!pe&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:me})]}),Bi&&S.jsxs("div",{className:"my-4 p-4 bg-yellow-50 border border-yellow-300 rounded-md text-center",children:[S.jsx("p",{className:"mb-3 text-yellow-800",children:"Keine Gemini Marktanalyse vorhanden."}),S.jsxs("button",{onClick:Nn,className:"px-4 py-2 bg-sky-600 text-white font-semibold rounded-md hover:bg-sky-700 disabled:opacity-50 flex items-center justify-center mx-auto",children:[" ",S.jsx(em,{className:"w-5 h-5 mr-2"})," Analyse jetzt erstellen "]})]}),Rs&&S.jsxs("div",{className:"my-4 flex flex-col sm:flex-row gap-3 justify-center",children:[S.jsxs("button",{onClick:Yn,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(Du,{className:"w-5 h-5 mr-2"})," Analyse Neu Erstellen "]}),S.jsxs("button",{onClick:Sr,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(tm,{className:"w-5 h-5 mr-2"})," Analyse Löschen "]})]}),Dt&&te&&!pe&&S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold mt-2 mb-1",children:"Marktanalyse von Gemini"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Zusammenfassung:"})," ",te.marketAnalysis.summary||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Wettbewerber:"})," ",((ro=te.marketAnalysis.competitors)==null?void 0:ro.join(", "))||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Verkaufsperformance:"})," ",te.marketAnalysis.salesPerformance||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Marktstimmung:"})," ",te.marketAnalysis.marketSentiment||"N/A"]}),S.jsx("h3",{className:"text-lg font-semibold mt-4 mb-1",children:"Preisgestaltung & Beschaffung"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Typischer Neupreis:"})," ",te.pricingAndSourcing.typicalNewPrice||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Fernost-Beschaffungspotenzial:"})," ",te.pricingAndSourcing.farEastSourcingPotential||"N/A"]}),S.jsx("h3",{className:"text-lg font-semibold mt-4 mb-1",children:"Haltbarkeit & Risiken"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Haltbarkeitseinschätzung:"})," ",te.durabilityAndRisk.durability||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Bekannte Probleme:"})," ",((Hr=te.durabilityAndRisk.commonIssues)==null?void 0:Hr.join(", "))||"N/A"]}),S.jsxs("h3",{className:"text-lg font-semibold mt-4 mb-1",children:["eBay Suchbegriffe & Ergebnisse (",Ff,")"]}),st&&S.jsx(Ki,{size:"sm",text:"Lade Suchbegriff-Ergebnisse..."}),(!r[(ie==null?void 0:ie.id)||""]||r[(ie==null?void 0:ie.id)||""].length===0)&&!st&&Dt&&S.jsx("p",{children:"Keine eBay Suchbegriffe definiert."}),r[(ie==null?void 0:ie.id)||""]&&r[(ie==null?void 0:ie.id)||""].length>0&&S.jsx("ul",{className:"list-disc pl-5 space-y-3",children:(r[(ie==null?void 0:ie.id)||""]||[]).map(wt=>{const vt=Y[wt];let we;if(vt!=null&&vt.loading)we=S.jsx(Ki,{size:"sm",text:"Lade...",className:"inline-block ml-2"});else if(vt!=null&&vt.error)we=S.jsxs("span",{className:"text-red-500 ml-2",children:["Fehler: ",vt.error]});else if((vt==null?void 0:vt.value)===""||(vt==null?void 0:vt.value)===null)we=S.jsx("span",{className:"text-gray-500 ml-2 italic",children:"(Keine Ergebnisse oder ausstehend)"});else try{const Ce=JSON.parse(vt.value);Array.isArray(Ce)&&Ce.length>0&&Ce[0].hasOwnProperty("name")?we=S.jsxs("div",{className:"overflow-x-auto mt-1",children:[S.jsxs("table",{className:"min-w-full text-xs text-slate-700",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-2 py-1 text-left font-medium text-slate-700",children:"Name"}),S.jsx("th",{className:"px-2 py-1 text-left font-medium text-slate-700",children:"Verkaufsdatum"}),S.jsx("th",{className:"px-2 py-1 text-right font-medium text-slate-700",children:"Preis (€)"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-100",children:Ce.slice(0,5).map((qe,Xe)=>{var je;return S.jsxs("tr",{children:[S.jsx("td",{className:"px-2 py-0.5 whitespace-normal break-words max-w-xs text-slate-700",children:qe.name}),S.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-slate-700",children:qe.sold_date}),S.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right text-slate-700",children:(je=qe.price)==null?void 0:je.toFixed(2)})]},Xe)})})]}),Ce.length>5&&S.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["... ",Ce.length-5," weitere."]})]}):we=S.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 whitespace-pre-wrap break-all",children:vt.value})}catch{we=S.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 whitespace-pre-wrap break-all",children:vt.value})}return S.jsxs("li",{children:[S.jsx("strong",{className:"font-mono bg-slate-100 px-1 py-0.5 rounded text-slate-700",children:wt}),":",we]},wt)})})]}),Dt&&!te&&!pe&&!me&&S.jsx("p",{className:"text-orange-600 mt-4",children:"Marktanalyse-Daten nicht geladen."})]})]}),S.jsxs(sh,{title:"Teilwertschätzung (Gemini) & PDF",defaultOpen:!0,icon:S.jsx(va,{className:"w-6 h-6"}),children:[!ne&&S.jsx("p",{className:"text-red-600",children:"Konfiguration (z.B. API Tokens) nicht geladen."}),ne&&S.jsxs(S.Fragment,{children:[(xt||Ee||gt||ci)&&!ye&&S.jsx("div",{className:"my-4 p-4 bg-sky-50 rounded-md",children:S.jsx(Ki,{text:Ee?"Lade gespeicherte Teilwertschätzung...":gt?"PDF wird in Cloud hochgeladen...":ci?"PDF wird lokal generiert...":"Verarbeite Teilwertschätzung & PDF..."})}),xt&&S.jsx(Q1,{steps:bt,title:"Fortschritt der Teilwertschätzung & PDF Erstellung:"}),lt&&!xt&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler bei der Schätzung/PDF:"]}),S.jsx("p",{className:"text-sm",children:lt})]}),os&&!ci&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler bei lokaler PDF Generierung:"]}),S.jsx("p",{className:"text-sm",children:os})]}),In&&!gt&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler beim PDF Cloud Upload:"]}),S.jsx("p",{className:"text-sm",children:In})]}),Ye&&!Ee&&!ye&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:Ye})]}),Qs&&!xt&&S.jsxs("div",{className:"my-4 p-4 bg-yellow-50 border border-yellow-300 rounded-md text-center",children:[S.jsx("p",{className:"mb-1 text-yellow-800",children:"Keine Teilwertschätzung vorhanden."}),!Dt&&S.jsx("p",{className:"text-xs text-yellow-700 mb-2",children:"(Hinweis: Marktanalyse zuerst durchführen.)"}),S.jsx("div",{className:"mb-3",children:S.jsxs("label",{className:"flex items-center justify-center text-sm text-slate-700 cursor-pointer p-2 hover:bg-yellow-100 rounded-md",children:[S.jsx("input",{type:"checkbox",checked:zt,onChange:wt=>Ei(wt.target.checked),className:"mr-2 h-4 w-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500","aria-label":"Schätzung trotz fehlender Daten erzwingen"}),"Schätzung trotz fehlender Daten erzwingen (Qualität kann leiden)"]})}),S.jsxs("button",{onClick:()=>pr(!1),disabled:!ie||xt||!ne||!Dt&&!zt,className:"px-4 py-2 bg-emerald-600 text-white font-semibold rounded-md hover:bg-emerald-700 disabled:opacity-50 flex items-center justify-center mx-auto",children:[S.jsx(em,{className:"w-5 h-5 mr-2"})," Teilwert jetzt schätzen & PDF erstellen/hochladen"]})]}),ea&&!xt&&S.jsxs("div",{className:"my-4 flex flex-col sm:flex-row flex-wrap gap-3 justify-center items-center",children:[S.jsxs("div",{className:"w-full sm:w-auto",children:[S.jsxs("label",{className:"flex items-center justify-center text-sm text-slate-700 mb-2 cursor-pointer p-2 hover:bg-slate-100 rounded-md",children:[S.jsx("input",{type:"checkbox",checked:zt,onChange:wt=>Ei(wt.target.checked),className:"mr-2 h-4 w-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500","aria-label":"Schätzung trotz fehlender Daten erzwingen für 'Neu erstellen'"}),'Schätzung trotz fehlender Daten erzwingen (für "Neu erstellen")']}),S.jsxs("button",{onClick:()=>pr(!0),disabled:!ie||xt||!ne||gt||ci||!Dt&&!zt,className:"w-full px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:[S.jsx(Du,{className:"w-5 h-5 mr-2"})," Neu Erstellen (inkl. PDF)"]})]}),S.jsxs("button",{onClick:Mn,disabled:!ie||xt||!ne||gt||ci,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(tm,{className:"w-5 h-5 mr-2"})," Löschen"]}),S.jsxs("button",{onClick:fi,disabled:!ie||xt||!ne||!ye||gt||ci,className:"px-4 py-2 bg-teal-600 text-white font-semibold rounded-md hover:bg-teal-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(e7,{className:"w-5 h-5 mr-2"})," PDF Lokal Generieren & Downloaden"]}),S.jsxs("button",{onClick:di,disabled:!ie||xt||!ne||!ye||gt||ci,className:"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(kS,{className:"w-5 h-5 mr-2"})," PDF Erneut zur Cloud Hochladen"]}),ti&&S.jsxs("a",{href:ti,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-cyan-600 text-white font-semibold rounded-md hover:bg-cyan-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(F2,{className:"w-5 h-5 mr-2"})," PDF aus Cloud Öffnen"]})]}),ye&&!xt&&S.jsxs("div",{className:"mt-4",children:[S.jsxs("h3",{className:"text-2xl font-bold text-emerald-700 my-3",children:["Geschätzter Teilwert: €",ye.Teilwert.toFixed(2)]}),S.jsx("h4",{className:"text-md font-semibold mt-4 mb-1 text-slate-700",children:"Begründung des Teilwerts:"}),S.jsx(n1,{content:ye.Begruendung_Teilwert}),S.jsx("h4",{className:"text-md font-semibold mt-4 mb-1 text-slate-700",children:"Keepa Bericht:"}),S.jsx(n1,{content:ye.keepa_Bericht}),S.jsx("h4",{className:"text-md font-semibold mt-4 mb-1 text-slate-700",children:"Fazit:"}),S.jsx(n1,{content:ye.mlFazit})]}),xi&&!ye&&!Ee&&!Ye&&!xt&&S.jsx("p",{className:"text-orange-600 mt-4",children:"Gespeicherte Teilwert-Daten nicht geladen oder nicht vorhanden."})]})]})]})},wl=({title:n,value:e,icon:t,description:i,className:r=""})=>S.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 ${r}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:n}),t&&S.jsx("div",{className:"text-sky-500",children:t})]}),S.jsx("p",{className:"text-3xl font-bold text-sky-600 mb-1",children:e}),i&&S.jsx("p",{className:"text-sm text-slate-500",children:i})]}),h7=()=>{const{products:n,isLoading:e,error:t}=zc(),i=re.useMemo(()=>{if(n.length===0)return null;const r=n.length,s=n.map(K=>K.etv).filter(K=>K!=null),o=s.reduce((K,X)=>K+X,0),u=n.filter(K=>K.etv===0).length,c=n.filter(K=>K.etv!==void 0&&K.etv!==null&&K.etv>0).length,f=c>0?s.filter(K=>K>0).reduce((K,X)=>K+X,0)/c:0,h=n.map(K=>K.externalTeilwert).filter(K=>K!=null),y=h.length,b=h.filter(K=>K===0).length,x=h.reduce((K,X)=>K+X,0),N=y>0?x/y:0,T=n.map(K=>K.externalKeepaPrice).filter(K=>K!=null&&K!==-1),M=T.length,k=n.filter(K=>K.externalKeepaPrice===void 0||K.externalKeepaPrice===null||K.externalKeepaPrice===-1).length,P=T.reduce((K,X)=>K+X,0),I=M>0?P/M:0,J=n.filter(K=>!!K.externalPdfUrl).length,H={};return n.forEach(K=>{const X=K.externalSourceStatus||"N/A (Extern)";H[X]=(H[X]||0)+1}),{totalProducts:r,sumEtv:o,countEtvZero:u,countEtvPositive:c,avgEtvPositive:f,countWithExternalTeilwert:y,countExternalTeilwertZero:b,sumExternalTeilwert:x,avgExternalTeilwert:N,countWithExternalKeepa:M,countExternalKeepaMissingOrInvalid:k,avgExternalKeepa:I,countWithPdfLink:J,externalStatusCounts:H}},[n]);return e?S.jsx("div",{className:"flex justify-center items-center h-64",children:S.jsx(Ki,{text:"Lade Statistiken..."})}):t?S.jsxs("div",{className:"text-center py-10 text-red-600",children:["Fehler beim Laden der Produktdaten für Statistiken: ",t]}):i?S.jsxs("div",{className:"space-y-8",children:[S.jsxs("header",{className:"bg-white p-6 rounded-lg shadow-md",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[S.jsx(I2,{className:"w-8 h-8 mr-3 text-sky-600"}),"Datenstatistiken (aus externer Quelle)"]}),S.jsx("p",{className:"text-slate-600 mt-1",children:"Übersicht der geladenen Produktdaten."})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[S.jsx(wl,{title:"Produkte Gesamt",value:i.totalProducts,icon:S.jsx(t7,{className:"w-8 h-8"})}),S.jsx(wl,{title:"Summe ETV",value:`€${i.sumEtv.toFixed(2)}`,icon:S.jsx(va,{className:"w-8 h-8"}),description:`${i.countEtvPositive} Produkte mit ETV > 0`}),S.jsx(wl,{title:"Ø ETV (für ETV > 0)",value:`€${i.avgEtvPositive.toFixed(2)}`,icon:S.jsx(va,{className:"w-8 h-8"}),description:`${i.countEtvZero} Produkte mit ETV = 0`}),S.jsx(wl,{title:"Mit ext. Teilwert",value:i.countWithExternalTeilwert,icon:S.jsx(_b,{className:"w-8 h-8"}),description:`davon ${i.countExternalTeilwertZero} mit Wert 0`}),S.jsx(wl,{title:"Summe ext. Teilwert",value:`€${i.sumExternalTeilwert.toFixed(2)}`,icon:S.jsx(va,{className:"w-8 h-8"})}),S.jsx(wl,{title:"Ø ext. Teilwert",value:`€${i.avgExternalTeilwert.toFixed(2)}`,icon:S.jsx(va,{className:"w-8 h-8"})}),S.jsx(wl,{title:"Mit ext. Keepa Preis",value:i.countWithExternalKeepa,icon:S.jsx(_b,{className:"w-8 h-8"}),description:`${i.countExternalKeepaMissingOrInvalid} ohne/ungültig`}),S.jsx(wl,{title:"Ø ext. Keepa Preis",value:`€${i.avgExternalKeepa.toFixed(2)}`,icon:S.jsx(va,{className:"w-8 h-8"})}),S.jsx(wl,{title:"Mit PDF Link",value:i.countWithPdfLink,icon:S.jsx(F2,{className:"w-8 h-8"})})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[S.jsx("h2",{className:"text-2xl font-semibold text-slate-700 mb-4",children:"Externe Statusverteilung"}),Object.keys(i.externalStatusCounts).length>0?S.jsx("ul",{className:"space-y-2",children:Object.entries(i.externalStatusCounts).sort(([,r],[,s])=>s-r).map(([r,s])=>S.jsxs("li",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-md hover:bg-slate-100 transition-colors",children:[S.jsx("span",{className:"text-slate-600",children:r}),S.jsx("span",{className:"font-semibold text-sky-600 bg-sky-100 px-2 py-0.5 rounded-full text-sm",children:s})]},r))}):S.jsx("p",{className:"text-slate-500",children:"Keine externen Statusdaten verfügbar."})]})]}):S.jsx("div",{className:"text-center py-10 text-gray-600",children:"Keine Produktdaten für Statistiken verfügbar."})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Wh(n){return n+.5|0}const Tu=(n,e,t)=>Math.max(Math.min(n,t),e);function hh(n){return Tu(Wh(n*2.55),0,255)}function Mu(n){return Tu(Wh(n*255),0,255)}function Tl(n){return Tu(Wh(n/2.55)/100,0,1)}function Cb(n){return Tu(Wh(n*100),0,100)}const ma={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},e2=[..."0123456789ABCDEF"],p7=n=>e2[n&15],g7=n=>e2[(n&240)>>4]+e2[n&15],ag=n=>(n&240)>>4===(n&15),m7=n=>ag(n.r)&&ag(n.g)&&ag(n.b)&&ag(n.a);function y7(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ma[n[1]]*17,g:255&ma[n[2]]*17,b:255&ma[n[3]]*17,a:e===5?ma[n[4]]*17:255}:(e===7||e===9)&&(t={r:ma[n[1]]<<4|ma[n[2]],g:ma[n[3]]<<4|ma[n[4]],b:ma[n[5]]<<4|ma[n[6]],a:e===9?ma[n[7]]<<4|ma[n[8]]:255})),t}const v7=(n,e)=>n<255?e(n):"";function x7(n){var e=m7(n)?p7:g7;return n?"#"+e(n.r)+e(n.g)+e(n.b)+v7(n.a,e):void 0}const b7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function LS(n,e,t){const i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function w7(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function _7(n,e,t){const i=LS(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function S7(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function B2(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),u=(s+o)/2;let c,f,h;return s!==o&&(h=s-o,f=u>.5?h/(2-s-o):h/(s+o),c=S7(t,i,r,h,s),c=c*60+.5),[c|0,f||0,u]}function z2(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Mu)}function j2(n,e,t){return z2(LS,n,e,t)}function A7(n,e,t){return z2(_7,n,e,t)}function T7(n,e,t){return z2(w7,n,e,t)}function PS(n){return(n%360+360)%360}function C7(n){const e=b7.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?hh(+e[5]):Mu(+e[5]));const r=PS(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=A7(r,s,o):e[1]==="hsv"?i=T7(r,s,o):i=j2(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function N7(n,e){var t=B2(n);t[0]=PS(t[0]+e),t=j2(t),n.r=t[0],n.g=t[1],n.b=t[2]}function E7(n){if(!n)return;const e=B2(n),t=e[0],i=Cb(e[1]),r=Cb(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Tl(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Nb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Eb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function k7(){const n={},e=Object.keys(Eb),t=Object.keys(Nb);let i,r,s,o,u;for(i=0;i<e.length;i++){for(o=u=e[i],r=0;r<t.length;r++)s=t[r],u=u.replace(s,Nb[s]);s=parseInt(Eb[o],16),n[u]=[s>>16&255,s>>8&255,s&255]}return n}let og;function M7(n){og||(og=k7(),og.transparent=[0,0,0,0]);const e=og[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const L7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function P7(n){const e=L7.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?hh(o):Tu(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?hh(i):Tu(i,0,255)),r=255&(e[4]?hh(r):Tu(r,0,255)),s=255&(e[6]?hh(s):Tu(s,0,255)),{r:i,g:r,b:s,a:t}}}function R7(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Tl(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const r1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Nf=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function D7(n,e,t){const i=Nf(Tl(n.r)),r=Nf(Tl(n.g)),s=Nf(Tl(n.b));return{r:Mu(r1(i+t*(Nf(Tl(e.r))-i))),g:Mu(r1(r+t*(Nf(Tl(e.g))-r))),b:Mu(r1(s+t*(Nf(Tl(e.b))-s))),a:n.a+t*(e.a-n.a)}}function lg(n,e,t){if(n){let i=B2(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=j2(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function RS(n,e){return n&&Object.assign(e||{},n)}function kb(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Mu(n[3]))):(e=RS(n,{r:0,g:0,b:0,a:1}),e.a=Mu(e.a)),e}function I7(n){return n.charAt(0)==="r"?P7(n):C7(n)}class Rh{constructor(e){if(e instanceof Rh)return e;const t=typeof e;let i;t==="object"?i=kb(e):t==="string"&&(i=y7(e)||M7(e)||I7(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=RS(this._rgb);return e&&(e.a=Tl(e.a)),e}set rgb(e){this._rgb=kb(e)}rgbString(){return this._valid?R7(this._rgb):void 0}hexString(){return this._valid?x7(this._rgb):void 0}hslString(){return this._valid?E7(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,u=2*o-1,c=i.a-r.a,f=((u*c===-1?u:(u+c)/(1+u*c))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=D7(this._rgb,e._rgb,t)),this}clone(){return new Rh(this.rgb)}alpha(e){return this._rgb.a=Mu(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Wh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return lg(this._rgb,2,e),this}darken(e){return lg(this._rgb,2,-e),this}saturate(e){return lg(this._rgb,1,e),this}desaturate(e){return lg(this._rgb,1,-e),this}rotate(e){return N7(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function _l(){}const O7=(()=>{let n=0;return()=>n++})();function Tn(n){return n==null}function Ii(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function En(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function tr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ys(n,e){return tr(n)?n:e}function on(n,e){return typeof n>"u"?e:n}const F7=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,DS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function yi(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Qn(n,e,t,i){let r,s,o;if(Ii(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(En(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function nm(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function im(n){if(Ii(n))return n.map(im);if(En(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=im(n[t[r]]);return e}return n}function IS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function B7(n,e,t,i){if(!IS(n))return;const r=e[n],s=t[n];En(r)&&En(s)?Dh(r,s,i):e[n]=im(s)}function Dh(n,e,t){const i=Ii(e)?e:[e],r=i.length;if(!En(n))return n;t=t||{};const s=t.merger||B7;let o;for(let u=0;u<r;++u){if(o=i[u],!En(o))continue;const c=Object.keys(o);for(let f=0,h=c.length;f<h;++f)s(c[f],n,o,t)}return n}function Ah(n,e){return Dh(n,e,{merger:z7})}function z7(n,e,t){if(!IS(n))return;const i=e[n],r=t[n];En(i)&&En(r)?Ah(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=im(r))}const Mb={"":n=>n,x:n=>n.x,y:n=>n.y};function j7(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function U7(n){const e=j7(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Iu(n,e){return(Mb[e]||(Mb[e]=U7(e)))(n)}function U2(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ih=n=>typeof n<"u",Ou=n=>typeof n=="function",Lb=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function V7(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ni=Math.PI,Ci=2*Ni,q7=Ci+Ni,rm=Number.POSITIVE_INFINITY,H7=Ni/180,hr=Ni/2,xc=Ni/4,Pb=Ni*2/3,Cu=Math.log10,Go=Math.sign;function Th(n,e,t){return Math.abs(n-e)<t}function Rb(n){const e=Math.round(n);n=Th(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Cu(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function G7(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function W7(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Qf(n){return!W7(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function K7(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function OS(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ja(n){return n*(Ni/180)}function V2(n){return n*(180/Ni)}function Db(n){if(!tr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function FS(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*Ni&&(s+=Ci),{angle:s,distance:r}}function t2(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Y7(n,e){return(n-e+q7)%Ci-Ni}function Js(n){return(n%Ci+Ci)%Ci}function Oh(n,e,t,i){const r=Js(n),s=Js(e),o=Js(t),u=Js(s-r),c=Js(o-r),f=Js(r-s),h=Js(r-o);return r===s||r===o||i&&s===o||u>c&&f<h}function Fr(n,e,t){return Math.max(e,Math.min(t,n))}function $7(n){return Fr(n,-32768,32767)}function El(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function q2(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const kl=(n,e,t,i)=>q2(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),J7=(n,e,t)=>q2(n,t,i=>n[i][e]>=t);function Z7(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const BS=["push","pop","shift","splice","unshift"];function X7(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),BS.forEach(t=>{const i="_onData"+U2(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...s)}),o}})})}function Ib(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(BS.forEach(s=>{delete n[s]}),delete n._chartjs)}function zS(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const jS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function US(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,jS.call(window,()=>{i=!1,n.apply(e,t)}))}}function Q7(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const H2=n=>n==="start"?"left":n==="end"?"right":"center",is=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,e8=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function VS(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:u,_parsed:c}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=o.axis,{min:y,max:b,minDefined:x,maxDefined:N}=o.getUserBounds();if(x){if(r=Math.min(kl(c,h,y).lo,t?i:kl(e,h,o.getPixelForValue(y)).lo),f){const T=c.slice(0,r+1).reverse().findIndex(M=>!Tn(M[u.axis]));r-=Math.max(0,T)}r=Fr(r,0,i-1)}if(N){let T=Math.max(kl(c,o.axis,b,!0).hi+1,t?0:kl(e,h,o.getPixelForValue(b),!0).hi+1);if(f){const M=c.slice(T-1).findIndex(k=>!Tn(k[u.axis]));T+=Math.max(0,M)}s=Fr(T,r,i)-r}else s=i-r}return{start:r,count:s}}function qS(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const ug=n=>n===0||n===1,Ob=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ci/t)),Fb=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ci/t)+1,Ch={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*hr)+1,easeOutSine:n=>Math.sin(n*hr),easeInOutSine:n=>-.5*(Math.cos(Ni*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ug(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ug(n)?n:Ob(n,.075,.3),easeOutElastic:n=>ug(n)?n:Fb(n,.075,.3),easeInOutElastic(n){return ug(n)?n:n<.5?.5*Ob(n*2,.1125,.45):.5+.5*Fb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ch.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ch.easeInBounce(n*2)*.5:Ch.easeOutBounce(n*2-1)*.5+.5};function G2(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Bb(n){return G2(n)?n:new Rh(n)}function s1(n){return G2(n)?n:new Rh(n).saturate(.5).darken(.1).hexString()}const t8=["x","y","borderWidth","radius","tension"],n8=["color","borderColor","backgroundColor"];function i8(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:n8},numbers:{type:"number",properties:t8}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function r8(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zb=new Map;function s8(n,e){e=e||{};const t=n+JSON.stringify(e);let i=zb.get(t);return i||(i=new Intl.NumberFormat(n,e),zb.set(t,i)),i}function Kh(n,e,t){return s8(e,t).format(n)}const HS={values(n){return Ii(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=a8(n,t)}const o=Cu(Math.abs(s)),u=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),Kh(n,i,c)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Cu(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?HS.numeric.call(this,n,e,t):""}};function a8(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var xm={formatters:HS};function o8(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Oc=Object.create(null),n2=Object.create(null);function Nh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function a1(n,e,t){return typeof e=="string"?Dh(Nh(n,e),t):Dh(Nh(n,""),e)}class l8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>s1(r.backgroundColor),this.hoverBorderColor=(i,r)=>s1(r.borderColor),this.hoverColor=(i,r)=>s1(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return a1(this,e,t)}get(e){return Nh(this,e)}describe(e,t){return a1(n2,e,t)}override(e,t){return a1(Oc,e,t)}route(e,t,i,r){const s=Nh(this,e),o=Nh(this,i),u="_"+t;Object.defineProperties(s,{[u]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[u],f=o[r];return En(c)?Object.assign({},f,c):on(c,f)},set(c){this[u]=c}}})}apply(e){e.forEach(t=>t(this))}}var Oi=new l8({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[i8,r8,o8]);function u8(n){return!n||Tn(n.size)||Tn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function sm(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function c8(n,e,t,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const u=t.length;let c,f,h,y,b;for(c=0;c<u;c++)if(y=t[c],y!=null&&!Ii(y))o=sm(n,r,s,o,y);else if(Ii(y))for(f=0,h=y.length;f<h;f++)b=y[f],b!=null&&!Ii(b)&&(o=sm(n,r,s,o,b));n.restore();const x=s.length/2;if(x>t.length){for(c=0;c<x;c++)delete r[s[c]];s.splice(0,x)}return o}function bc(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function jb(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function i2(n,e,t,i){GS(n,e,t,i,null)}function GS(n,e,t,i,r){let s,o,u,c,f,h,y,b;const x=e.pointStyle,N=e.rotation,T=e.radius;let M=(N||0)*H7;if(x&&typeof x=="object"&&(s=x.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(M),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(T)||T<=0)){switch(n.beginPath(),x){default:r?n.ellipse(t,i,r/2,T,0,0,Ci):n.arc(t,i,T,0,Ci),n.closePath();break;case"triangle":h=r?r/2:T,n.moveTo(t+Math.sin(M)*h,i-Math.cos(M)*T),M+=Pb,n.lineTo(t+Math.sin(M)*h,i-Math.cos(M)*T),M+=Pb,n.lineTo(t+Math.sin(M)*h,i-Math.cos(M)*T),n.closePath();break;case"rectRounded":f=T*.516,c=T-f,o=Math.cos(M+xc)*c,y=Math.cos(M+xc)*(r?r/2-f:c),u=Math.sin(M+xc)*c,b=Math.sin(M+xc)*(r?r/2-f:c),n.arc(t-y,i-u,f,M-Ni,M-hr),n.arc(t+b,i-o,f,M-hr,M),n.arc(t+y,i+u,f,M,M+hr),n.arc(t-b,i+o,f,M+hr,M+Ni),n.closePath();break;case"rect":if(!N){c=Math.SQRT1_2*T,h=r?r/2:c,n.rect(t-h,i-c,2*h,2*c);break}M+=xc;case"rectRot":y=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-y,i-u),n.lineTo(t+b,i-o),n.lineTo(t+y,i+u),n.lineTo(t-b,i+o),n.closePath();break;case"crossRot":M+=xc;case"cross":y=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o);break;case"star":y=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o),M+=xc,y=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o);break;case"line":o=r?r/2:Math.cos(M)*T,u=Math.sin(M)*T,n.moveTo(t-o,i-u),n.lineTo(t+o,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(M)*(r?r/2:T),i+Math.sin(M)*T);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Ml(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function bm(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function wm(n){n.restore()}function f8(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function d8(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function h8(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Tn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function p8(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,u=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,f=t+s.actualBoundingBoxDescent,h=r.strikethrough?(c+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,h),n.lineTo(u,h),n.stroke()}}function g8(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Fc(n,e,t,i,r,s={}){const o=Ii(e)?e:[e],u=s.strokeWidth>0&&s.strokeColor!=="";let c,f;for(n.save(),n.font=r.string,h8(n,s),c=0;c<o.length;++c)f=o[c],s.backdrop&&g8(n,s.backdrop),u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Tn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,t,i,s.maxWidth)),n.fillText(f,t,i,s.maxWidth),p8(n,t,i,f,s),i+=Number(r.lineHeight);n.restore()}function Fh(n,e){const{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ni,Ni,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Ni,hr,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,hr,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-hr,!0),n.lineTo(t+o.topLeft,i)}const m8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,y8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function v8(n,e){const t=(""+n).match(m8);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const x8=n=>+n||0;function W2(n,e){const t={},i=En(e),r=i?Object.keys(e):e,s=En(n)?i?o=>on(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=x8(s(o));return t}function WS(n){return W2(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Lc(n){return W2(n,["topLeft","topRight","bottomLeft","bottomRight"])}function as(n){const e=WS(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Er(n,e){n=n||{},e=e||Oi.font;let t=on(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=on(n.style,e.style);i&&!(""+i).match(y8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:on(n.family,e.family),lineHeight:v8(on(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:on(n.weight,e.weight),string:""};return r.string=u8(r),r}function ph(n,e,t,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function b8(n,e,t){const{min:i,max:r}=n,s=DS(e,(r-i)/2),o=(u,c)=>t&&u===0?0:u+c;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Uu(n,e){return Object.assign(Object.create(n),e)}function K2(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=JS("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:u=>K2([u,...n],e,s,i)};return new Proxy(o,{deleteProperty(u,c){return delete u[c],delete u._keys,delete n[0][c],!0},get(u,c){return YS(u,c,()=>E8(c,e,n,u))},getOwnPropertyDescriptor(u,c){return Reflect.getOwnPropertyDescriptor(u._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,c){return Vb(u).includes(c)},ownKeys(u){return Vb(u)},set(u,c,f){const h=u._storage||(u._storage=r());return u[c]=h[c]=f,delete u._keys,!0}})}function ed(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:KS(n,i),setContext:s=>ed(n,s,t,i),override:s=>ed(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,u){return YS(s,o,()=>_8(s,o,u))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,u){return n[o]=u,delete s[o],!0}})}function KS(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Ou(t)?t:()=>t,isIndexable:Ou(i)?i:()=>i}}const w8=(n,e)=>n?n+U2(e):e,Y2=(n,e)=>En(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function YS(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function _8(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let u=i[e];return Ou(u)&&o.isScriptable(e)&&(u=S8(e,u,n,t)),Ii(u)&&u.length&&(u=A8(e,u,n,o.isIndexable)),Y2(e,u)&&(u=ed(u,r,s&&s[e],o)),u}function S8(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let c=e(s,o||i);return u.delete(n),Y2(n,c)&&(c=$2(r._scopes,r,n,c)),c}function A8(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:u}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(En(e[0])){const c=e,f=r._scopes.filter(h=>h!==c);e=[];for(const h of c){const y=$2(f,r,n,h);e.push(ed(y,s,o&&o[n],u))}}return e}function $S(n,e,t){return Ou(n)?n(e,t):n}const T8=(n,e)=>n===!0?e:typeof n=="string"?Iu(e,n):void 0;function C8(n,e,t,i,r){for(const s of e){const o=T8(t,s);if(o){n.add(o);const u=$S(o._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function $2(n,e,t,i){const r=e._rootScopes,s=$S(e._fallback,t,i),o=[...n,...r],u=new Set;u.add(i);let c=Ub(u,o,t,s||t,i);return c===null||typeof s<"u"&&s!==t&&(c=Ub(u,o,s,c,i),c===null)?!1:K2(Array.from(u),[""],r,s,()=>N8(e,t,i))}function Ub(n,e,t,i,r){for(;t;)t=C8(n,e,t,i,r);return t}function N8(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Ii(r)&&En(t)?t:r||{}}function E8(n,e,t,i){let r;for(const s of e)if(r=JS(w8(s,n),t),typeof r<"u")return Y2(n,r)?$2(t,i,n,r):r}function JS(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Vb(n){let e=n._keys;return e||(e=n._keys=k8(n._scopes)),e}function k8(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function ZS(n,e,t,i){const{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i);let u,c,f,h;for(u=0,c=i;u<c;++u)f=u+t,h=e[f],o[u]={r:r.parse(Iu(h,s),f)};return o}const M8=Number.EPSILON||1e-14,td=(n,e)=>e<n.length&&!n[e].skip&&n[e],XS=n=>n==="x"?"y":"x";function L8(n,e,t,i){const r=n.skip?e:n,s=e,o=t.skip?e:t,u=t2(s,r),c=t2(o,s);let f=u/(u+c),h=c/(u+c);f=isNaN(f)?0:f,h=isNaN(h)?0:h;const y=i*f,b=i*h;return{previous:{x:s.x-y*(o.x-r.x),y:s.y-y*(o.y-r.y)},next:{x:s.x+b*(o.x-r.x),y:s.y+b*(o.y-r.y)}}}function P8(n,e,t){const i=n.length;let r,s,o,u,c,f=td(n,0);for(let h=0;h<i-1;++h)if(c=f,f=td(n,h+1),!(!c||!f)){if(Th(e[h],0,M8)){t[h]=t[h+1]=0;continue}r=t[h]/e[h],s=t[h+1]/e[h],u=Math.pow(r,2)+Math.pow(s,2),!(u<=9)&&(o=3/Math.sqrt(u),t[h]=r*o*e[h],t[h+1]=s*o*e[h])}}function R8(n,e,t="x"){const i=XS(t),r=n.length;let s,o,u,c=td(n,0);for(let f=0;f<r;++f){if(o=u,u=c,c=td(n,f+1),!u)continue;const h=u[t],y=u[i];o&&(s=(h-o[t])/3,u[`cp1${t}`]=h-s,u[`cp1${i}`]=y-s*e[f]),c&&(s=(c[t]-h)/3,u[`cp2${t}`]=h+s,u[`cp2${i}`]=y+s*e[f])}}function D8(n,e="x"){const t=XS(e),i=n.length,r=Array(i).fill(0),s=Array(i);let o,u,c,f=td(n,0);for(o=0;o<i;++o)if(u=c,c=f,f=td(n,o+1),!!c){if(f){const h=f[e]-c[e];r[o]=h!==0?(f[t]-c[t])/h:0}s[o]=u?f?Go(r[o-1])!==Go(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}P8(n,r,s),R8(n,s,e)}function cg(n,e,t){return Math.max(Math.min(n,t),e)}function I8(n,e){let t,i,r,s,o,u=Ml(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=u,u=t<i-1&&Ml(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=cg(r.cp1x,e.left,e.right),r.cp1y=cg(r.cp1y,e.top,e.bottom)),u&&(r.cp2x=cg(r.cp2x,e.left,e.right),r.cp2y=cg(r.cp2y,e.top,e.bottom)))}function O8(n,e,t,i,r){let s,o,u,c;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")D8(n,r);else{let f=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)u=n[s],c=L8(f,u,n[Math.min(s+1,o-(i?0:1))%o],e.tension),u.cp1x=c.previous.x,u.cp1y=c.previous.y,u.cp2x=c.next.x,u.cp2y=c.next.y,f=u}e.capBezierPoints&&I8(n,t)}function J2(){return typeof window<"u"&&typeof document<"u"}function Z2(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function am(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const _m=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function F8(n,e){return _m(n).getPropertyValue(e)}const B8=["top","right","bottom","left"];function Pc(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=B8[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const z8=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function j8(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,u,c;if(z8(r,s,n.target))u=r,c=s;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,c=i.clientY-f.top,o=!0}return{x:u,y:c,box:o}}function Tc(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=_m(t),s=r.boxSizing==="border-box",o=Pc(r,"padding"),u=Pc(r,"border","width"),{x:c,y:f,box:h}=j8(n,t),y=o.left+(h&&u.left),b=o.top+(h&&u.top);let{width:x,height:N}=e;return s&&(x-=o.width+u.width,N-=o.height+u.height),{x:Math.round((c-y)/x*t.width/i),y:Math.round((f-b)/N*t.height/i)}}function U8(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&Z2(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),u=_m(s),c=Pc(u,"border","width"),f=Pc(u,"padding");e=o.width-f.width-c.width,t=o.height-f.height-c.height,i=am(u.maxWidth,s,"clientWidth"),r=am(u.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||rm,maxHeight:r||rm}}const fg=n=>Math.round(n*10)/10;function V8(n,e,t,i){const r=_m(n),s=Pc(r,"margin"),o=am(r.maxWidth,n,"clientWidth")||rm,u=am(r.maxHeight,n,"clientHeight")||rm,c=U8(n,e,t);let{width:f,height:h}=c;if(r.boxSizing==="content-box"){const b=Pc(r,"border","width"),x=Pc(r,"padding");f-=x.width+b.width,h-=x.height+b.height}return f=Math.max(0,f-s.width),h=Math.max(0,i?f/i:h-s.height),f=fg(Math.min(f,o,c.maxWidth)),h=fg(Math.min(h,u,c.maxHeight)),f&&!h&&(h=fg(f/2)),(e!==void 0||t!==void 0)&&i&&c.height&&h>c.height&&(h=c.height,f=fg(Math.floor(h*i))),{width:f,height:h}}function qb(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const q8=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};J2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Hb(n,e){const t=F8(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Cc(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function H8(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function G8(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Cc(n,r,t),u=Cc(r,s,t),c=Cc(s,e,t),f=Cc(o,u,t),h=Cc(u,c,t);return Cc(f,h,t)}const W8=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},K8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Wf(n,e,t){return n?W8(e,t):K8()}function QS(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function eA(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function tA(n){return n==="angle"?{between:Oh,compare:Y7,normalize:Js}:{between:El,compare:(e,t)=>e-t,normalize:e=>e}}function Gb({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function Y8(n,e,t){const{property:i,start:r,end:s}=t,{between:o,normalize:u}=tA(i),c=e.length;let{start:f,end:h,loop:y}=n,b,x;if(y){for(f+=c,h+=c,b=0,x=c;b<x&&o(u(e[f%c][i]),r,s);++b)f--,h--;f%=c,h%=c}return h<f&&(h+=c),{start:f,end:h,loop:y,style:n.style}}function nA(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,o=e.length,{compare:u,between:c,normalize:f}=tA(i),{start:h,end:y,loop:b,style:x}=Y8(n,e,t),N=[];let T=!1,M=null,k,P,I;const J=()=>c(r,I,k)&&u(r,I)!==0,H=()=>u(s,k)===0||c(s,I,k),K=()=>T||J(),X=()=>!T||H();for(let U=h,ee=h;U<=y;++U)P=e[U%o],!P.skip&&(k=f(P[i]),k!==I&&(T=c(k,r,s),M===null&&K()&&(M=u(k,r)===0?U:ee),M!==null&&X()&&(N.push(Gb({start:M,end:U,loop:b,count:o,style:x})),M=null),ee=U,I=k));return M!==null&&N.push(Gb({start:M,end:y,loop:b,count:o,style:x})),N}function iA(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=nA(i[r],n.points,e);s.length&&t.push(...s)}return t}function $8(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function J8(n,e,t,i){const r=n.length,s=[];let o=e,u=n[e],c;for(c=e+1;c<=t;++c){const f=n[c%r];f.skip||f.stop?u.skip||(i=!1,s.push({start:e%r,end:(c-1)%r,loop:i}),e=o=f.stop?c:null):(o=c,u.skip&&(e=c)),u=f}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function Z8(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:o,end:u}=$8(t,r,s,i);if(i===!0)return Wb(n,[{start:o,end:u,loop:s}],t,e);const c=u<o?u+r:u,f=!!n._fullLoop&&o===0&&u===r-1;return Wb(n,J8(t,o,c,f),t,e)}function Wb(n,e,t,i){return!i||!i.setContext||!t?e:X8(n,e,t,i)}function X8(n,e,t,i){const r=n._chart.getContext(),s=Kb(n.options),{_datasetIndex:o,options:{spanGaps:u}}=n,c=t.length,f=[];let h=s,y=e[0].start,b=y;function x(N,T,M,k){const P=u?-1:1;if(N!==T){for(N+=c;t[N%c].skip;)N-=P;for(;t[T%c].skip;)T+=P;N%c!==T%c&&(f.push({start:N%c,end:T%c,loop:M,style:k}),h=k,y=T%c)}}for(const N of e){y=u?y:N.start;let T=t[y%c],M;for(b=y+1;b<=N.end;b++){const k=t[b%c];M=Kb(i.setContext(Uu(r,{type:"segment",p0:T,p1:k,p0DataIndex:(b-1)%c,p1DataIndex:b%c,datasetIndex:o}))),Q8(M,h)&&x(y,b-1,N.loop,h),T=k,h=M}y<b-1&&x(y,b-1,N.loop,h)}return f}function Kb(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Q8(n,e){if(!e)return!1;const t=[],i=function(r,s){return G2(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function dg(n,e,t){return n.options.clip?n[t]:e[t]}function eI(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:dg(t,e,"left"),right:dg(t,e,"right"),top:dg(i,e,"top"),bottom:dg(i,e,"bottom")}:e}function rA(n,e){const t=e._clip;if(t.disabled)return!1;const i=eI(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class tI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],o=t.duration;s.forEach(u=>u({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=jS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,u=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),u=!0):(s[o]=s[s.length-1],s.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Sl=new tI;const Yb="transparent",nI={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Bb(n||Yb),r=i.valid&&Bb(e||Yb);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class iI{constructor(e,t,i,r){const s=t[i];r=ph([e.to,r,s,e.from]);const o=ph([e.from,s,r]);this._active=!0,this._fn=e.fn||nI[e.type||typeof o],this._easing=Ch[e.easing]||Ch.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ph([e.to,t,r,e.from]),this._from=ph([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,u=this._to;let c;if(this._active=s!==u&&(o||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=s;return}c=t/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,u,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class sA{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!En(e))return;const t=Object.keys(Oi.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!En(s))return;const o={};for(const u of t)o[u]=s[u];(Ii(s.properties)&&s.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,o)})})}_animateOptions(e,t){const i=t.options,r=sI(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&rI(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),u=Date.now();let c;for(c=o.length-1;c>=0;--c){const f=o[c];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const h=t[f];let y=s[f];const b=i.get(f);if(y)if(b&&y.active()){y.update(b,h,u);continue}else y.cancel();if(!b||!b.duration){e[f]=h;continue}s[f]=y=new iI(b,e,f,h),r.push(y)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Sl.add(this._chart,i),!0}}function rI(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function sI(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function $b(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function aI(n,e,t){if(t===!1)return!1;const i=$b(n,t),r=$b(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function oI(n){let e,t,i,r;return En(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function aA(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function Jb(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let o,u,c,f;if(e===null)return;let h=!1;for(o=0,u=r.length;o<u;++o){if(c=+r[o],c===t){if(h=!0,i.all)continue;break}f=n.values[c],tr(f)&&(s||e===0||Go(e)===Go(f))&&(e+=f)}return!h&&!i.all?0:e}function lI(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),u=new Array(o.length);let c,f,h;for(c=0,f=o.length;c<f;++c)h=o[c],u[c]={[r]:h,[s]:n[h]};return u}function o1(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function uI(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function cI(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function fI(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Zb(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function Xb(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:u}=i,c=s.axis,f=o.axis,h=uI(s,o,i),y=e.length;let b;for(let x=0;x<y;++x){const N=e[x],{[c]:T,[f]:M}=N,k=N._stacks||(N._stacks={});b=k[f]=fI(r,h,T),b[u]=M,b._top=Zb(b,o,!0,i.type),b._bottom=Zb(b,o,!1,i.type);const P=b._visualValues||(b._visualValues={});P[u]=M}}function l1(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function dI(n,e){return Uu(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hI(n,e,t){return Uu(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ah(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const u1=n=>n==="reset"||n==="none",Qb=(n,e)=>e?n:Object.assign({},n),pI=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:aA(t,!0),values:null};class Xa{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=o1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ah(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(y,b,x,N)=>y==="x"?b:y==="r"?N:x,s=t.xAxisID=on(i.xAxisID,l1(e,"x")),o=t.yAxisID=on(i.yAxisID,l1(e,"y")),u=t.rAxisID=on(i.rAxisID,l1(e,"r")),c=t.indexAxis,f=t.iAxisID=r(c,s,o,u),h=t.vAxisID=r(c,o,s,u);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ib(this._data,this),e._stacked&&ah(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(En(t)){const r=this._cachedMeta;this._data=lI(t,r)}else if(i!==t){if(i){Ib(i,this);const r=this._cachedMeta;ah(r),r._parsed=[]}t&&Object.isExtensible(t)&&X7(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=o1(t.vScale,t),t.stack!==i.stack&&(r=!0,ah(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(Xb(this,t._parsed),t._stacked=o1(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,u=s.axis;let c=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],h,y,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Ii(r[e])?b=this.parseArrayData(i,r,e,t):En(r[e])?b=this.parseObjectData(i,r,e,t):b=this.parsePrimitiveData(i,r,e,t);const x=()=>y[u]===null||f&&y[u]<f[u];for(h=0;h<t;++h)i._parsed[h+e]=y=b[h],c&&(x()&&(c=!1),f=y);i._sorted=c}o&&Xb(this,b)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:o}=e,u=s.axis,c=o.axis,f=s.getLabels(),h=s===o,y=new Array(r);let b,x,N;for(b=0,x=r;b<x;++b)N=b+i,y[b]={[u]:h||s.parse(f[N],N),[c]:o.parse(t[N],N)};return y}parseArrayData(e,t,i,r){const{xScale:s,yScale:o}=e,u=new Array(r);let c,f,h,y;for(c=0,f=r;c<f;++c)h=c+i,y=t[h],u[c]={x:s.parse(y[0],h),y:o.parse(y[1],h)};return u}parseObjectData(e,t,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=new Array(r);let h,y,b,x;for(h=0,y=r;h<y;++h)b=h+i,x=t[b],f[h]={x:s.parse(Iu(x,u),b),y:o.parse(Iu(x,c),b)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,o=t[e.axis],u={keys:aA(r,!0),values:t._stacks[e.axis]._visualValues};return Jb(u,o,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let o=s===null?NaN:s;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,o=Jb(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,u=this._getOtherScale(e),c=pI(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:y}=cI(u);let b,x;function N(){x=r[b];const T=x[u.axis];return!tr(x[e.axis])||h>T||y<T}for(b=0;b<o&&!(!N()&&(this.updateRangeFromParsed(f,e,x,c),s));++b);if(s){for(b=o-1;b>=0;--b)if(!N()){this.updateRangeFromParsed(f,e,x,c);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=t.length;r<s;++r)o=t[r][e.axis],tr(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=oI(on(this.options.clip,aI(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,o=[],u=this._drawStart||0,c=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,u,c),h=u;h<u+c;++h){const y=r[h];y.hidden||(y.active&&f?o.push(y):y.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=hI(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=dI(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,o=e+"-"+t,u=s[o],c=this.enableOptionSharing&&Ih(i);if(u)return Qb(u,c);const f=this.chart.config,h=f.datasetElementScopeKeys(this._type,e),y=r?[`${e}Hover`,"hover",e,""]:[e,""],b=f.getOptionScopes(this.getDataset(),h),x=Object.keys(Oi.elements[e]),N=()=>this.getContext(i,r,t),T=f.resolveNamedOptions(b,x,N,y);return T.$shared&&(T.$shared=c,s[o]=Object.freeze(Qb(T,c))),T}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,u=s[o];if(u)return u;let c;if(r.options.animation!==!1){const h=this.chart.config,y=h.datasetAnimationScopeKeys(this._type,t),b=h.getOptionScopes(this.getDataset(),y);c=h.createResolver(b,this.getContext(e,i,t))}const f=new sA(r,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||u1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:o}}updateElement(e,t,i,r){u1(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!u1(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,c,f]of this._syncList)this[u](c,f);this._syncList=[];const r=i.length,s=t.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,o=e+t;let u;const c=f=>{for(f.length+=t,u=f.length-1;u>=o;u--)f[u]=f[u-t]};for(c(s),u=e;u<o;++u)s[u]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&ah(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ot(Xa,"defaults",{}),ot(Xa,"datasetElementType",null),ot(Xa,"dataElementType",null);function gI(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=zS(i.sort((r,s)=>r-s))}return n._cache.$bar}function mI(n){const e=n.iScale,t=gI(e,n.type);let i=e._length,r,s,o,u;const c=()=>{o===32767||o===-32768||(Ih(u)&&(i=Math.min(i,Math.abs(o-u)||i)),u=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),c();for(u=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),c();return i}function yI(n,e,t,i){const r=t.barThickness;let s,o;return Tn(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}function vI(n,e,t,i){const r=e.pixels,s=r[n];let o=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const c=t.categoryPercentage;o===null&&(o=s-(u===null?e.end-e.start:u-s)),u===null&&(u=s+s-o);const f=s-(s-Math.min(o,u))/2*c;return{chunk:Math.abs(u-o)/2*c/i,ratio:t.barPercentage,start:f}}function xI(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),u=Math.max(r,s);let c=o,f=u;Math.abs(o)>Math.abs(u)&&(c=u,f=o),e[t.axis]=f,e._custom={barStart:c,barEnd:f,start:r,end:s,min:o,max:u}}function oA(n,e,t,i){return Ii(n)?xI(n,e,t,i):e[t.axis]=t.parse(n,i),e}function ew(n,e,t,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),u=r===s,c=[];let f,h,y,b;for(f=t,h=t+i;f<h;++f)b=e[f],y={},y[r.axis]=u||r.parse(o[f],f),c.push(oA(b,y,s,f));return c}function c1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function bI(n,e,t){return n!==0?Go(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function wI(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function _I(n,e,t,i){let r=e.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:u,reverse:c,top:f,bottom:h}=wI(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=f:(t._bottom||0)===i?r=h:(s[tw(h,o,u,c)]=!0,r=f)),s[tw(r,o,u,c)]=!0,n.borderSkipped=s}function tw(n,e,t,i){return i?(n=SI(n,e,t),n=nw(n,t,e)):n=nw(n,e,t),n}function SI(n,e,t){return n===e?t:n===t?e:n}function nw(n,e,t){return n==="start"?e:n==="end"?t:n}function AI(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Lg extends Xa{parsePrimitiveData(e,t,i,r){return ew(e,t,i,r)}parseArrayData(e,t,i,r){return ew(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=s.axis==="x"?u:c,h=o.axis==="x"?u:c,y=[];let b,x,N,T;for(b=i,x=i+r;b<x;++b)T=t[b],N={},N[s.axis]=s.parse(Iu(T,f),b),y.push(oA(Iu(T,h),N,o,b));return y}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,s=this.getParsed(e),o=s._custom,u=c1(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:u}}=this,c=u.getBasePixel(),f=u.isHorizontal(),h=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(t,r);for(let x=t;x<t+i;x++){const N=this.getParsed(x),T=s||Tn(N[u.axis])?{base:c,head:c}:this._calculateBarValuePixels(x),M=this._calculateBarIndexPixels(x,h),k=(N._stacks||{})[u.axis],P={horizontal:f,base:T.base,enableBorderRadius:!k||c1(N._custom)||o===k._top||o===k._bottom,x:f?T.head:M.center,y:f?M.center:T.head,height:f?M.size:Math.abs(T.size),width:f?Math.abs(T.size):M.size};b&&(P.options=y||this.resolveDataElementOptions(x,e[x].active?"active":r));const I=P.options||e[x].options;_I(P,I,k,o),AI(P,I,h.ratio),this.updateElement(e[x],x,P,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,o=[],u=this._cachedMeta.controller.getParsed(t),c=u&&u[i.axis],f=h=>{const y=h._parsed.find(x=>x[i.axis]===c),b=y&&y[h.vScale.axis];if(Tn(b)||isNaN(b))return!0};for(const h of r)if(!(t!==void 0&&f(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const r=this._getStacks(e,i),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let s,o;for(s=0,o=t.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const u=e.barThickness;return{min:u||mI(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,u=s||0,c=this.getParsed(e),f=c._custom,h=c1(f);let y=c[t.axis],b=0,x=i?this.applyStack(t,c,i):y,N,T;x!==y&&(b=x-y,x=y),h&&(y=f.barStart,x=f.barEnd-f.barStart,y!==0&&Go(y)!==Go(f.barEnd)&&(b=0),b+=y);const M=!Tn(s)&&!h?s:b;let k=t.getPixelForValue(M);if(this.chart.getDataVisibility(e)?N=t.getPixelForValue(b+x):N=k,T=N-k,Math.abs(T)<o){T=bI(T,t,u)*o,y===u&&(k-=T/2);const P=t.getPixelForDecimal(0),I=t.getPixelForDecimal(1),J=Math.min(P,I),H=Math.max(P,I);k=Math.max(Math.min(k,H),J),N=k+T,i&&!h&&(c._stacks[t.axis]._visualValues[r]=t.getValueForPixel(N)-t.getValueForPixel(k))}if(k===t.getPixelForValue(u)){const P=Go(T)*t.getLineWidthForValue(u)/2;k+=P,T-=P}return{size:T,base:k,head:N,center:N+T/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,s=r.skipNull,o=on(r.maxBarThickness,1/0);let u,c;if(t.grouped){const f=s?this._getStackCount(e):t.stackCount,h=r.barThickness==="flex"?vI(e,t,r,f):yI(e,t,r,f),y=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);u=h.start+h.chunk*y+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(o,t.min*t.ratio);return{base:u-c/2,head:u+c/2,center:u,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}ot(Lg,"id","bar"),ot(Lg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ot(Lg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Pg extends Xa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,r){const s=super.parsePrimitiveData(e,t,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,t,i,r){const s=super.parseArrayData(e,t,i,r);for(let o=0;o<s.length;o++){const u=t[i+o];s[o]._custom=on(u[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,t,i,r){const s=super.parseObjectData(e,t,i,r);for(let o=0;o<s.length;o++){const u=t[i+o];s[o]._custom=on(u&&u.r&&+u.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=t,o=this.getParsed(e),u=r.getLabelForValue(o.x),c=s.getLabelForValue(o.y),f=o._custom;return{label:i[e]||"",value:"("+u+", "+c+(f?", "+f:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:u}=this._cachedMeta,{sharedOptions:c,includeOptions:f}=this._getSharedOptions(t,r),h=o.axis,y=u.axis;for(let b=t;b<t+i;b++){const x=e[b],N=!s&&this.getParsed(b),T={},M=T[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(N[h]),k=T[y]=s?u.getBasePixel():u.getPixelForValue(N[y]);T.skip=isNaN(M)||isNaN(k),f&&(T.options=c||this.resolveDataElementOptions(b,x.active?"active":r),s&&(T.options.radius=0)),this.updateElement(x,b,T,r)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return t!=="active"&&(r.radius=0),r.radius+=on(i&&i._custom,s),r}}ot(Pg,"id","bubble"),ot(Pg,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ot(Pg,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function TI(n,e,t){let i=1,r=1,s=0,o=0;if(e<Ci){const u=n,c=u+e,f=Math.cos(u),h=Math.sin(u),y=Math.cos(c),b=Math.sin(c),x=(I,J,H)=>Oh(I,u,c,!0)?1:Math.max(J,J*t,H,H*t),N=(I,J,H)=>Oh(I,u,c,!0)?-1:Math.min(J,J*t,H,H*t),T=x(0,f,y),M=x(hr,h,b),k=N(Ni,f,y),P=N(Ni+hr,h,b);i=(T-k)/2,r=(M-P)/2,s=-(T+k)/2,o=-(M+P)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Ec extends Xa{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=c=>+i[c];if(En(i[e])){const{key:c="value"}=this._parsing;s=f=>+Iu(i[f],c)}let o,u;for(o=e,u=e+t;o<u;++o)r._parsed[o]=s(o)}}_getRotation(){return Ja(this.options.rotation-90)}_getCircumference(){return Ja(this.options.circumference)}_getRotationExtents(){let e=Ci,t=-Ci;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(F7(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:h,rotation:y}=this._getRotationExtents(),{ratioX:b,ratioY:x,offsetX:N,offsetY:T}=TI(y,h,c),M=(i.width-o)/b,k=(i.height-o)/x,P=Math.max(Math.min(M,k)/2,0),I=DS(this.options.radius,P),J=Math.max(I*c,0),H=(I-J)/this._getVisibleDatasetWeightTotal();this.offsetX=N*I,this.offsetY=T*I,r.total=this.calculateTotal(),this.outerRadius=I-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*f,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Ci)}updateElements(e,t,i,r){const s=r==="reset",o=this.chart,u=o.chartArea,f=o.options.animation,h=(u.left+u.right)/2,y=(u.top+u.bottom)/2,b=s&&f.animateScale,x=b?0:this.innerRadius,N=b?0:this.outerRadius,{sharedOptions:T,includeOptions:M}=this._getSharedOptions(t,r);let k=this._getRotation(),P;for(P=0;P<t;++P)k+=this._circumference(P,s);for(P=t;P<t+i;++P){const I=this._circumference(P,s),J=e[P],H={x:h+this.offsetX,y:y+this.offsetY,startAngle:k,endAngle:k+I,circumference:I,outerRadius:N,innerRadius:x};M&&(H.options=T||this.resolveDataElementOptions(P,J.active?"active":r)),k+=I,this.updateElement(J,P,H,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ci*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Kh(t._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,s,o,u,c;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,u=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)c=u.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(on(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ot(Ec,"id","doughnut"),ot(Ec,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ot(Ec,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ot(Ec,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Rg extends Xa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:u,count:c}=VS(t,r,o);this._drawStart=u,this._drawCount=c,qS(t)&&(u=0,c=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:f},e),this.updateElements(r,u,c,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:u,_stacked:c,_dataset:f}=this._cachedMeta,{sharedOptions:h,includeOptions:y}=this._getSharedOptions(t,r),b=o.axis,x=u.axis,{spanGaps:N,segment:T}=this.options,M=Qf(N)?N:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||s||r==="none",P=t+i,I=e.length;let J=t>0&&this.getParsed(t-1);for(let H=0;H<I;++H){const K=e[H],X=k?K:{};if(H<t||H>=P){X.skip=!0;continue}const U=this.getParsed(H),ee=Tn(U[x]),de=X[b]=o.getPixelForValue(U[b],H),B=X[x]=s||ee?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,U,c):U[x],H);X.skip=isNaN(de)||isNaN(B)||ee,X.stop=H>0&&Math.abs(U[b]-J[b])>M,T&&(X.parsed=U,X.raw=f.data[H]),y&&(X.options=h||this.resolveDataElementOptions(H,K.active?"active":r)),k||this.updateElement(K,H,X,r),J=U}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ot(Rg,"id","line"),ot(Rg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ot(Rg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Eh extends Xa{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Kh(t._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,i,r){return ZS.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),u=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,t,i,r){const s=r==="reset",o=this.chart,c=o.options.animation,f=this._cachedMeta.rScale,h=f.xCenter,y=f.yCenter,b=f.getIndexAngle(0)-.5*Ni;let x=b,N;const T=360/this.countVisibleElements();for(N=0;N<t;++N)x+=this._computeAngle(N,r,T);for(N=t;N<t+i;N++){const M=e[N];let k=x,P=x+this._computeAngle(N,r,T),I=o.getDataVisibility(N)?f.getDistanceFromCenterForValue(this.getParsed(N).r):0;x=P,s&&(c.animateScale&&(I=0),c.animateRotate&&(k=P=b));const J={x:h,y,innerRadius:0,outerRadius:I,startAngle:k,endAngle:P,options:this.resolveDataElementOptions(N,M.active?"active":r)};this.updateElement(M,N,J,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?Ja(this.resolveDataElementOptions(e,t).angle||i):0}}ot(Eh,"id","polarArea"),ot(Eh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ot(Eh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class r2 extends Ec{}ot(r2,"id","pie"),ot(r2,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Dg extends Xa{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,r){return ZS.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta,i=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const u={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,u,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let u=t;u<t+i;u++){const c=e[u],f=this.resolveDataElementOptions(u,c.active?"active":r),h=s.getPointPositionForValue(u,this.getParsed(u).r),y=o?s.xCenter:h.x,b=o?s.yCenter:h.y,x={x:y,y:b,angle:h.angle,skip:isNaN(y)||isNaN(b),options:f};this.updateElement(c,u,x,r)}}}ot(Dg,"id","radar"),ot(Dg,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ot(Dg,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ig extends Xa{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=t,o=this.getParsed(e),u=r.getLabelForValue(o.x),c=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+u+", "+c+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:o}=VS(t,i,r);if(this._drawStart=s,this._drawCount=o,qS(t)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:c}=t;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!c._decimated,u.points=i;const f=this.resolveDatasetElementOptions(e);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:f},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:u,_stacked:c,_dataset:f}=this._cachedMeta,h=this.resolveDataElementOptions(t,r),y=this.getSharedOptions(h),b=this.includeOptions(r,y),x=o.axis,N=u.axis,{spanGaps:T,segment:M}=this.options,k=Qf(T)?T:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||r==="none";let I=t>0&&this.getParsed(t-1);for(let J=t;J<t+i;++J){const H=e[J],K=this.getParsed(J),X=P?H:{},U=Tn(K[N]),ee=X[x]=o.getPixelForValue(K[x],J),de=X[N]=s||U?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,K,c):K[N],J);X.skip=isNaN(ee)||isNaN(de)||U,X.stop=J>0&&Math.abs(K[x]-I[x])>k,M&&(X.parsed=K,X.raw=f.data[J]),b&&(X.options=y||this.resolveDataElementOptions(J,H.active?"active":r)),P||this.updateElement(H,J,X,r),I=K}this.updateSharedOptions(y,r,h)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let u=0;for(let c=t.length-1;c>=0;--c)u=Math.max(u,t[c].size(this.resolveDataElementOptions(c))/2);return u>0&&u}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,o)/2}}ot(Ig,"id","scatter"),ot(Ig,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ot(Ig,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var CI=Object.freeze({__proto__:null,BarController:Lg,BubbleController:Pg,DoughnutController:Ec,LineController:Rg,PieController:r2,PolarAreaController:Eh,RadarController:Dg,ScatterController:Ig});function wc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class X2{constructor(e){ot(this,"options");this.options=e||{}}static override(e){Object.assign(X2.prototype,e)}init(){}formats(){return wc()}parse(){return wc()}format(){return wc()}add(){return wc()}diff(){return wc()}startOf(){return wc()}endOf(){return wc()}}var NI={_date:X2};function EI(n,e,t,i){const{controller:r,data:s,_sorted:o}=n,u=r._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&o&&s.length){const f=u._reversePixels?J7:kl;if(i){if(r._sharedOptions){const h=s[0],y=typeof h.getRange=="function"&&h.getRange(e);if(y){const b=f(s,e,t-y),x=f(s,e,t+y);return{lo:b.lo,hi:x.hi}}}}else{const h=f(s,e,t);if(c){const{vScale:y}=r._cachedMeta,{_parsed:b}=n,x=b.slice(0,h.lo+1).reverse().findIndex(T=>!Tn(T[y.axis]));h.lo-=Math.max(0,x);const N=b.slice(h.hi).findIndex(T=>!Tn(T[y.axis]));h.hi+=Math.max(0,N)}return h}}return{lo:0,hi:s.length-1}}function Sm(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let u=0,c=s.length;u<c;++u){const{index:f,data:h}=s[u],{lo:y,hi:b}=EI(s[u],e,o,r);for(let x=y;x<=b;++x){const N=h[x];N.skip||i(N,f,x)}}}function kI(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function f1(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||Sm(n,t,e,function(u,c,f){!r&&!Ml(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&s.push({element:u,datasetIndex:c,index:f})},!0),s}function MI(n,e,t,i){let r=[];function s(o,u,c){const{startAngle:f,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:y}=FS(o,{x:e.x,y:e.y});Oh(y,f,h)&&r.push({element:o,datasetIndex:u,index:c})}return Sm(n,t,e,s),r}function LI(n,e,t,i,r,s){let o=[];const u=kI(t);let c=Number.POSITIVE_INFINITY;function f(h,y,b){const x=h.inRange(e.x,e.y,r);if(i&&!x)return;const N=h.getCenterPoint(r);if(!(!!s||n.isPointInArea(N))&&!x)return;const M=u(e,N);M<c?(o=[{element:h,datasetIndex:y,index:b}],c=M):M===c&&o.push({element:h,datasetIndex:y,index:b})}return Sm(n,t,e,f),o}function d1(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?MI(n,e,t,r):LI(n,e,t,i,r,s)}function iw(n,e,t,i,r){const s=[],o=t==="x"?"inXRange":"inYRange";let u=!1;return Sm(n,t,e,(c,f,h)=>{c[o]&&c[o](e[t],r)&&(s.push({element:c,datasetIndex:f,index:h}),u=u||c.inRange(e.x,e.y,r))}),i&&!u?[]:s}var PI={modes:{index(n,e,t,i){const r=Tc(e,n),s=t.axis||"x",o=t.includeInvisible||!1,u=t.intersect?f1(n,r,s,i,o):d1(n,r,s,!1,i,o),c=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const h=u[0].index,y=f.data[h];y&&!y.skip&&c.push({element:y,datasetIndex:f.index,index:h})}),c):[]},dataset(n,e,t,i){const r=Tc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let u=t.intersect?f1(n,r,s,i,o):d1(n,r,s,!1,i,o);if(u.length>0){const c=u[0].datasetIndex,f=n.getDatasetMeta(c).data;u=[];for(let h=0;h<f.length;++h)u.push({element:f[h],datasetIndex:c,index:h})}return u},point(n,e,t,i){const r=Tc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return f1(n,r,s,i,o)},nearest(n,e,t,i){const r=Tc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return d1(n,r,s,t.intersect,i,o)},x(n,e,t,i){const r=Tc(e,n);return iw(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=Tc(e,n);return iw(n,r,"y",t.intersect,i)}}};const lA=["left","top","right","bottom"];function oh(n,e){return n.filter(t=>t.pos===e)}function rw(n,e){return n.filter(t=>lA.indexOf(t.pos)===-1&&t.box.axis===e)}function lh(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function RI(n){const e=[];let t,i,r,s,o,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:o,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:u});return e}function DI(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!lA.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function II(n,e){const t=DI(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,u;for(s=0,o=n.length;s<o;++s){u=n[s];const{fullSize:c}=u.box,f=t[u.stack],h=f&&u.stackWeight/f.weight;u.horizontal?(u.width=h?h*i:c&&e.availableWidth,u.height=r):(u.width=i,u.height=h?h*r:c&&e.availableHeight)}return t}function OI(n){const e=RI(n),t=lh(e.filter(f=>f.box.fullSize),!0),i=lh(oh(e,"left"),!0),r=lh(oh(e,"right")),s=lh(oh(e,"top"),!0),o=lh(oh(e,"bottom")),u=rw(e,"x"),c=rw(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(o).concat(u),chartArea:oh(e,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(o).concat(u)}}function sw(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function uA(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function FI(n,e,t,i){const{pos:r,box:s}=t,o=n.maxPadding;if(!En(r)){t.size&&(n[r]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?s.height:s.width),t.size=y.size/y.count,n[r]+=t.size}s.getPadding&&uA(o,s.getPadding());const u=Math.max(0,e.outerWidth-sw(o,n,"left","right")),c=Math.max(0,e.outerHeight-sw(o,n,"top","bottom")),f=u!==n.w,h=c!==n.h;return n.w=u,n.h=c,t.horizontal?{same:f,other:h}:{same:h,other:f}}function BI(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function zI(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(n?["left","right"]:["top","bottom"])}function gh(n,e,t,i){const r=[];let s,o,u,c,f,h;for(s=0,o=n.length,f=0;s<o;++s){u=n[s],c=u.box,c.update(u.width||e.w,u.height||e.h,zI(u.horizontal,e));const{same:y,other:b}=FI(e,t,u,i);f|=y&&r.length,h=h||b,c.fullSize||r.push(u)}return f&&gh(r,e,t,i)||h}function hg(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function aw(n,e,t,i){const r=t.padding;let{x:s,y:o}=e;for(const u of n){const c=u.box,f=i[u.stack]||{placed:0,weight:1},h=u.stackWeight/f.weight||1;if(u.horizontal){const y=e.w*h,b=f.size||c.height;Ih(f.start)&&(o=f.start),c.fullSize?hg(c,r.left,o,t.outerWidth-r.right-r.left,b):hg(c,e.left+f.placed,o,y,b),f.start=o,f.placed+=y,o=c.bottom}else{const y=e.h*h,b=f.size||c.width;Ih(f.start)&&(s=f.start),c.fullSize?hg(c,s,r.top,b,t.outerHeight-r.bottom-r.top):hg(c,s,e.top+f.placed,b,y),f.start=s,f.placed+=y,s=c.right}}e.x=s,e.y=o}var ss={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=as(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),u=OI(n.boxes),c=u.vertical,f=u.horizontal;Qn(n.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const h=c.reduce((T,M)=>M.box.options&&M.box.options.display===!1?T:T+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),b=Object.assign({},r);uA(b,as(i));const x=Object.assign({maxPadding:b,w:s,h:o,x:r.left,y:r.top},r),N=II(c.concat(f),y);gh(u.fullSize,x,y,N),gh(c,x,y,N),gh(f,x,y,N)&&gh(c,x,y,N),BI(x),aw(u.leftAndTop,x,y,N),x.x+=x.w,x.y+=x.h,aw(u.rightAndBottom,x,y,N),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Qn(u.chartArea,T=>{const M=T.box;Object.assign(M,n.chartArea),M.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class cA{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class jI extends cA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Og="$chartjs",UI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ow=n=>n===null||n==="";function VI(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Og]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ow(r)){const s=Hb(n,"width");s!==void 0&&(n.width=s)}if(ow(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=Hb(n,"height");s!==void 0&&(n.height=s)}return n}const fA=q8?{passive:!0}:!1;function qI(n,e,t){n&&n.addEventListener(e,t,fA)}function HI(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,fA)}function GI(n,e){const t=UI[n.type]||n.type,{x:i,y:r}=Tc(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function om(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function WI(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||om(u.addedNodes,i),o=o&&!om(u.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function KI(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||om(u.removedNodes,i),o=o&&!om(u.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Bh=new Map;let lw=0;function dA(){const n=window.devicePixelRatio;n!==lw&&(lw=n,Bh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function YI(n,e){Bh.size||window.addEventListener("resize",dA),Bh.set(n,e)}function $I(n){Bh.delete(n),Bh.size||window.removeEventListener("resize",dA)}function JI(n,e,t){const i=n.canvas,r=i&&Z2(i);if(!r)return;const s=US((u,c)=>{const f=r.clientWidth;t(u,c),f<r.clientWidth&&t()},window),o=new ResizeObserver(u=>{const c=u[0],f=c.contentRect.width,h=c.contentRect.height;f===0&&h===0||s(f,h)});return o.observe(r),YI(n,s),o}function h1(n,e,t){t&&t.disconnect(),e==="resize"&&$I(n)}function ZI(n,e,t){const i=n.canvas,r=US(s=>{n.ctx!==null&&t(GI(s,n))},n);return qI(i,e,r),r}class XI extends cA{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(VI(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Og])return!1;const i=t[Og].initial;["height","width"].forEach(s=>{const o=i[s];Tn(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Og],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:WI,detach:KI,resize:JI}[t]||ZI;r[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:h1,detach:h1,resize:h1}[t]||HI)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return V8(e,t,i,r)}isAttached(e){const t=e&&Z2(e);return!!(t&&t.isConnected)}}function QI(n){return!J2()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?jI:XI}class Qa{constructor(){ot(this,"x");ot(this,"y");ot(this,"active",!1);ot(this,"options");ot(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Qf(this.x)&&Qf(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}ot(Qa,"defaults",{}),ot(Qa,"defaultRoutes");function eO(n,e){const t=n.options.ticks,i=tO(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?iO(e):[],o=s.length,u=s[0],c=s[o-1],f=[];if(o>r)return rO(e,f,s,o/r),f;const h=nO(s,e,r);if(o>0){let y,b;const x=o>1?Math.round((c-u)/(o-1)):null;for(pg(e,f,h,Tn(x)?0:u-x,u),y=0,b=o-1;y<b;y++)pg(e,f,h,s[y],s[y+1]);return pg(e,f,h,c,Tn(x)?e.length:c+x),f}return pg(e,f,h),f}function tO(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function nO(n,e,t){const i=sO(n),r=e.length/t;if(!i)return Math.max(r,1);const s=G7(i);for(let o=0,u=s.length-1;o<u;o++){const c=s[o];if(c>r)return c}return Math.max(r,1)}function iO(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function rO(n,e,t,i){let r=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}function pg(n,e,t,i,r){const s=on(i,0),o=Math.min(on(r,n.length),n.length);let u=0,c,f,h;for(t=Math.ceil(t),r&&(c=r-i,t=c/Math.floor(c/t)),h=s;h<0;)u++,h=Math.round(s+u*t);for(f=Math.max(s,0);f<o;f++)f===h&&(e.push(n[f]),u++,h=Math.round(s+u*t))}function sO(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const aO=n=>n==="left"?"right":n==="right"?"left":n,uw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,cw=(n,e)=>Math.min(e||n,n);function fw(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function oO(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,u=1e-6;let c=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(c-s,o-c):e===0?f=(n.getPixelForTick(1)-c)/2:f=(c-n.getPixelForTick(r-1))/2,c+=r<e?f:-f,c<s-u||c>o+u)))return c}function lO(n,e){Qn(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function uh(n){return n.drawTicks?n.tickLength:0}function dw(n,e){if(!n.display)return 0;const t=Er(n.font,e),i=as(n.padding);return(Ii(n.text)?n.text.length:1)*t.lineHeight+i.height}function uO(n,e){return Uu(n,{scale:e,type:"scale"})}function cO(n,e,t){return Uu(n,{tick:t,index:e,type:"tick"})}function fO(n,e,t){let i=H2(n);return(t&&e!=="right"||!t&&e==="right")&&(i=aO(i)),i}function dO(n,e,t,i){const{top:r,left:s,bottom:o,right:u,chart:c}=n,{chartArea:f,scales:h}=c;let y=0,b,x,N;const T=o-r,M=u-s;if(n.isHorizontal()){if(x=is(i,s,u),En(t)){const k=Object.keys(t)[0],P=t[k];N=h[k].getPixelForValue(P)+T-e}else t==="center"?N=(f.bottom+f.top)/2+T-e:N=uw(n,t,e);b=u-s}else{if(En(t)){const k=Object.keys(t)[0],P=t[k];x=h[k].getPixelForValue(P)-M+e}else t==="center"?x=(f.left+f.right)/2-M+e:x=uw(n,t,e);N=is(i,o,r),y=t==="left"?-hr:hr}return{titleX:x,titleY:N,maxWidth:b,rotation:y}}class Vc extends Qa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Ys(e,Number.POSITIVE_INFINITY),t=Ys(t,Number.NEGATIVE_INFINITY),i=Ys(i,Number.POSITIVE_INFINITY),r=Ys(r,Number.NEGATIVE_INFINITY),{min:Ys(e,i),max:Ys(t,r),minDefined:tr(e),maxDefined:tr(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let c=0,f=u.length;c<f;++c)o=u[c].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:Ys(t,Ys(i,t)),max:Ys(i,Ys(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yi(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,u=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=b8(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?fw(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=eO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yi(this.options.afterUpdate,[this])}beforeSetDimensions(){yi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yi(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yi(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=yi(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){yi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=cw(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let o=r,u,c,f;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),y=h.widest.width,b=h.highest.height,x=Fr(this.chart.width-y,0,this.maxWidth);u=e.offset?this.maxWidth/i:x/(i-1),y+6>u&&(u=x/(i-(e.offset?.5:1)),c=this.maxHeight-uh(e.grid)-t.padding-dw(e.title,this.chart.options.font),f=Math.sqrt(y*y+b*b),o=V2(Math.min(Math.asin(Fr((h.highest.height+6)/u,-1,1)),Math.asin(Fr(c/f,-1,1))-Math.asin(Fr(b/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){yi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yi(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),u=this.isHorizontal();if(o){const c=dw(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=uh(s)+c):(e.height=this.maxHeight,e.width=uh(s)+c),i.display&&this.ticks.length){const{first:f,last:h,widest:y,highest:b}=this._getLabelSizes(),x=i.padding*2,N=Ja(this.labelRotation),T=Math.cos(N),M=Math.sin(N);if(u){const k=i.mirror?0:M*y.width+T*b.height;e.height=Math.min(this.maxHeight,e.height+k+x)}else{const k=i.mirror?0:T*y.width+M*b.height;e.width=Math.min(this.maxWidth,e.width+k+x)}this._calculatePadding(f,h,M,T)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:o},position:u}=this.options,c=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,x=0;c?f?(b=r*e.width,x=i*t.height):(b=i*e.height,x=r*t.width):s==="start"?x=t.width:s==="end"?b=e.width:s!=="inner"&&(b=e.width/2,x=t.width/2),this.paddingLeft=Math.max((b-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((x-y+o)*this.width/(this.width-y),0)}else{let h=t.height/2,y=e.height/2;s==="start"?(h=0,y=e.height):s==="end"&&(h=t.height,y=0),this.paddingTop=h+o,this.paddingBottom=y+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yi(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Tn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=fw(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,o=[],u=[],c=Math.floor(t/cw(t,i));let f=0,h=0,y,b,x,N,T,M,k,P,I,J,H;for(y=0;y<t;y+=c){if(N=e[y].label,T=this._resolveTickFontOptions(y),r.font=M=T.string,k=s[M]=s[M]||{data:{},gc:[]},P=T.lineHeight,I=J=0,!Tn(N)&&!Ii(N))I=sm(r,k.data,k.gc,I,N),J=P;else if(Ii(N))for(b=0,x=N.length;b<x;++b)H=N[b],!Tn(H)&&!Ii(H)&&(I=sm(r,k.data,k.gc,I,H),J+=P);o.push(I),u.push(J),f=Math.max(I,f),h=Math.max(J,h)}lO(s,t);const K=o.indexOf(f),X=u.indexOf(h),U=ee=>({width:o[ee]||0,height:u[ee]||0});return{first:U(0),last:U(t-1),widest:U(K),highest:U(X),widths:o,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return $7(this._alignToPixels?bc(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=cO(this.getContext(),e,i))}return this.$context||(this.$context=uO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ja(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,u=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*i>u*r?u/i:c/r:c*r<u*i?c/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:u}=r,c=s.offset,f=this.isHorizontal(),y=this.ticks.length+(c?1:0),b=uh(s),x=[],N=u.setContext(this.getContext()),T=N.display?N.width:0,M=T/2,k=function(G){return bc(i,G,T)};let P,I,J,H,K,X,U,ee,de,B,q,oe;if(o==="top")P=k(this.bottom),X=this.bottom-b,ee=P-M,B=k(e.top)+M,oe=e.bottom;else if(o==="bottom")P=k(this.top),B=e.top,oe=k(e.bottom)-M,X=P+M,ee=this.top+b;else if(o==="left")P=k(this.right),K=this.right-b,U=P-M,de=k(e.left)+M,q=e.right;else if(o==="right")P=k(this.left),de=e.left,q=k(e.right)-M,K=P+M,U=this.left+b;else if(t==="x"){if(o==="center")P=k((e.top+e.bottom)/2+.5);else if(En(o)){const G=Object.keys(o)[0],te=o[G];P=k(this.chart.scales[G].getPixelForValue(te))}B=e.top,oe=e.bottom,X=P+M,ee=X+b}else if(t==="y"){if(o==="center")P=k((e.left+e.right)/2);else if(En(o)){const G=Object.keys(o)[0],te=o[G];P=k(this.chart.scales[G].getPixelForValue(te))}K=P-M,U=K-b,de=e.left,q=e.right}const ne=on(r.ticks.maxTicksLimit,y),ie=Math.max(1,Math.ceil(y/ne));for(I=0;I<y;I+=ie){const G=this.getContext(I),te=s.setContext(G),ae=u.setContext(G),pe=te.lineWidth,j=te.color,me=ae.dash||[],D=ae.dashOffset,Y=te.tickWidth,Q=te.tickColor,ue=te.tickBorderDash||[],ce=te.tickBorderDashOffset;J=oO(this,I,c),J!==void 0&&(H=bc(i,J,pe),f?K=U=de=q=H:X=ee=B=oe=H,x.push({tx1:K,ty1:X,tx2:U,ty2:ee,x1:de,y1:B,x2:q,y2:oe,width:pe,color:j,borderDash:me,borderDashOffset:D,tickWidth:Y,tickColor:Q,tickBorderDash:ue,tickBorderDashOffset:ce}))}return this._ticksLength=y,this._borderValue=P,x}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:f,padding:h,mirror:y}=s,b=uh(i.grid),x=b+h,N=y?-h:x,T=-Ja(this.labelRotation),M=[];let k,P,I,J,H,K,X,U,ee,de,B,q,oe="middle";if(r==="top")K=this.bottom-N,X=this._getXAxisLabelAlignment();else if(r==="bottom")K=this.top+N,X=this._getXAxisLabelAlignment();else if(r==="left"){const ie=this._getYAxisLabelAlignment(b);X=ie.textAlign,H=ie.x}else if(r==="right"){const ie=this._getYAxisLabelAlignment(b);X=ie.textAlign,H=ie.x}else if(t==="x"){if(r==="center")K=(e.top+e.bottom)/2+x;else if(En(r)){const ie=Object.keys(r)[0],G=r[ie];K=this.chart.scales[ie].getPixelForValue(G)+x}X=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")H=(e.left+e.right)/2-x;else if(En(r)){const ie=Object.keys(r)[0],G=r[ie];H=this.chart.scales[ie].getPixelForValue(G)}X=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(c==="start"?oe="top":c==="end"&&(oe="bottom"));const ne=this._getLabelSizes();for(k=0,P=u.length;k<P;++k){I=u[k],J=I.label;const ie=s.setContext(this.getContext(k));U=this.getPixelForTick(k)+s.labelOffset,ee=this._resolveTickFontOptions(k),de=ee.lineHeight,B=Ii(J)?J.length:1;const G=B/2,te=ie.color,ae=ie.textStrokeColor,pe=ie.textStrokeWidth;let j=X;o?(H=U,X==="inner"&&(k===P-1?j=this.options.reverse?"left":"right":k===0?j=this.options.reverse?"right":"left":j="center"),r==="top"?f==="near"||T!==0?q=-B*de+de/2:f==="center"?q=-ne.highest.height/2-G*de+de:q=-ne.highest.height+de/2:f==="near"||T!==0?q=de/2:f==="center"?q=ne.highest.height/2-G*de:q=ne.highest.height-B*de,y&&(q*=-1),T!==0&&!ie.showLabelBackdrop&&(H+=de/2*Math.sin(T))):(K=U,q=(1-B)*de/2);let me;if(ie.showLabelBackdrop){const D=as(ie.backdropPadding),Y=ne.heights[k],Q=ne.widths[k];let ue=q-D.top,ce=0-D.left;switch(oe){case"middle":ue-=Y/2;break;case"bottom":ue-=Y;break}switch(X){case"center":ce-=Q/2;break;case"right":ce-=Q;break;case"inner":k===P-1?ce-=Q:k>0&&(ce-=Q/2);break}me={left:ce,top:ue,width:Q+D.width,height:Y+D.height,color:ie.backdropColor}}M.push({label:J,font:ee,textOffset:q,options:{rotation:T,color:te,strokeColor:ae,strokeWidth:pe,textAlign:j,textBaseline:oe,translation:[H,K],backdrop:me}})}return M}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ja(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),u=e+s,c=o.widest.width;let f,h;return t==="left"?r?(h=this.right+s,i==="near"?f="left":i==="center"?(f="center",h+=c/2):(f="right",h+=c)):(h=this.right-u,i==="near"?f="right":i==="center"?(f="center",h-=c/2):(f="left",h=this.left)):t==="right"?r?(h=this.left+s,i==="near"?f="right":i==="center"?(f="center",h-=c/2):(f="left",h-=c)):(h=this.left+u,i==="near"?f="left":i==="center"?(f="center",h+=c/2):(f="right",h=this.right)):f="right",{textAlign:f,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const u=(c,f,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const c=r[s];t.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const u=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let f,h,y,b;this.isHorizontal()?(f=bc(e,this.left,o)-o/2,h=bc(e,this.right,u)+u/2,y=b=c):(y=bc(e,this.top,o)-o/2,b=bc(e,this.bottom,u)+u/2,f=h=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(f,y),t.lineTo(h,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&bm(i,r);const s=this.getLabelItems(e);for(const o of s){const u=o.options,c=o.font,f=o.label,h=o.textOffset;Fc(i,f,0,h,c,u)}r&&wm(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=Er(i.font),o=as(i.padding),u=i.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||En(t)?(c+=o.bottom,Ii(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:f,titleY:h,maxWidth:y,rotation:b}=dO(this,c,t,u);Fc(e,i.text,0,0,s,{color:i.color,maxWidth:y,rotation:b,textAlign:fO(u,t,r),textBaseline:"middle",translation:[f,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=on(e.grid&&e.grid.z,-1),r=on(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Vc.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const u=t[s];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Er(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class gg{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;gO(t)&&(i=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,hO(e,o,i),this.override&&Oi.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Oi[r]&&(delete Oi[r][i],this.override&&delete Oc[i])}}function hO(n,e,t){const i=Dh(Object.create(null),[t?Oi.get(t):{},Oi.get(e),n.defaults]);Oi.set(e,i),n.defaultRoutes&&pO(e,n.defaultRoutes),n.descriptors&&Oi.describe(e,n.descriptors)}function pO(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),u=o.pop(),c=o.join(".");Oi.route(s,r,c,u)})}function gO(n){return"id"in n&&"defaults"in n}class mO{constructor(){this.controllers=new gg(Xa,"datasets",!0),this.elements=new gg(Qa,"elements"),this.plugins=new gg(Object,"plugins"),this.scales=new gg(Vc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Qn(r,o=>{const u=i||this._getRegistryForType(o);this._exec(e,u,o)})})}_exec(e,t,i){const r=U2(e);yi(i["before"+r],[],i),t[e](i),yi(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Bo=new mO;class yO{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(const s of e){const o=s.plugin,u=o[i],c=[t,r,s.options];if(yi(u,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Tn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=on(i.options&&i.options.plugins,{}),s=vO(i);return r===!1&&!t?[]:bO(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(u=>!o.some(c=>u.plugin.id===c.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function vO(n){const e={},t=[],i=Object.keys(Bo.plugins.items);for(let s=0;s<i.length;s++)t.push(Bo.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function xO(n,e){return!e&&n===!1?null:n===!0?{}:n}function bO(n,{plugins:e,localIds:t},i,r){const s=[],o=n.getContext();for(const u of e){const c=u.id,f=xO(i[c],r);f!==null&&s.push({plugin:u,options:wO(n.config,{plugin:u,local:t[c]},f,o)})}return s}function wO(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function s2(n,e){const t=Oi.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function _O(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function SO(n,e){return n===e?"_index_":"_value_"}function hw(n){if(n==="x"||n==="y"||n==="r")return n}function AO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function a2(n,...e){if(hw(n))return n;for(const t of e){const i=t.axis||AO(t.position)||n.length>1&&hw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function pw(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function TO(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return pw(n,"x",t[0])||pw(n,"y",t[0])}return{}}function CO(n,e){const t=Oc[n.type]||{scales:{}},i=e.scales||{},r=s2(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const u=i[o];if(!En(u))return console.error(`Invalid scale configuration for scale: ${o}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=a2(o,u,TO(o,n),Oi.scales[u.type]),f=SO(c,r),h=t.scales||{};s[o]=Ah(Object.create(null),[{axis:c},u,h[c],h[f]])}),n.data.datasets.forEach(o=>{const u=o.type||n.type,c=o.indexAxis||s2(u,e),h=(Oc[u]||{}).scales||{};Object.keys(h).forEach(y=>{const b=_O(y,c),x=o[b+"AxisID"]||b;s[x]=s[x]||Object.create(null),Ah(s[x],[{axis:b},i[x],h[y]])})}),Object.keys(s).forEach(o=>{const u=s[o];Ah(u,[Oi.scales[u.type],Oi.scale])}),s}function hA(n){const e=n.options||(n.options={});e.plugins=on(e.plugins,{}),e.scales=CO(n,e)}function pA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function NO(n){return n=n||{},n.data=pA(n.data),hA(n),n}const gw=new Map,gA=new Set;function mg(n,e){let t=gw.get(n);return t||(t=e(),gw.set(n,t),gA.add(t)),t}const ch=(n,e,t)=>{const i=Iu(e,t);i!==void 0&&n.add(i)};class EO{constructor(e){this._config=NO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return mg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return mg(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return mg(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return mg(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),u=o.get(t);if(u)return u;const c=new Set;t.forEach(h=>{e&&(c.add(e),h.forEach(y=>ch(c,e,y))),h.forEach(y=>ch(c,r,y)),h.forEach(y=>ch(c,Oc[s]||{},y)),h.forEach(y=>ch(c,Oi,y)),h.forEach(y=>ch(c,n2,y))});const f=Array.from(c);return f.length===0&&f.push(Object.create(null)),gA.has(t)&&o.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Oc[t]||{},Oi.datasets[t]||{},{type:t},Oi,n2]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:u}=mw(this._resolverCache,e,r);let c=o;if(MO(o,t)){s.$shared=!1,i=Ou(i)?i():i;const f=this.createResolver(e,i,u);c=ed(o,i,f)}for(const f of t)s[f]=c[f];return s}createResolver(e,t,i=[""],r){const{resolver:s}=mw(this._resolverCache,e,i);return En(t)?ed(s,t,void 0,r):s}}function mw(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:K2(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,s)),s}const kO=n=>En(n)&&Object.getOwnPropertyNames(n).some(e=>Ou(n[e]));function MO(n,e){const{isScriptable:t,isIndexable:i}=KS(n);for(const r of e){const s=t(r),o=i(r),u=(o||s)&&n[r];if(s&&(Ou(u)||kO(u))||o&&Ii(u))return!0}return!1}var LO="4.4.9";const PO=["top","bottom","left","right","chartArea"];function yw(n,e){return n==="top"||n==="bottom"||PO.indexOf(n)===-1&&e==="x"}function vw(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function xw(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),yi(t&&t.onComplete,[n],e)}function RO(n){const e=n.chart,t=e.options.animation;yi(t&&t.onProgress,[n],e)}function mA(n){return J2()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Fg={},bw=n=>{const e=mA(n);return Object.values(Fg).filter(t=>t.canvas===e).pop()};function DO(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}function IO(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class zo{static register(...e){Bo.add(...e),ww()}static unregister(...e){Bo.remove(...e),ww()}constructor(e,t){const i=this.config=new EO(t),r=mA(e),s=bw(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||QI(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,o.aspectRatio),c=u&&u.canvas,f=c&&c.height,h=c&&c.width;if(this.id=O7(),this.ctx=u,this.canvas=c,this.width=h,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Q7(y=>this.update(y),o.resizeDelay||0),this._dataChanges=[],Fg[this.id]=this,!u||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Sl.listen(this,"complete",xw),Sl.listen(this,"progress",RO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return Tn(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jb(this.canvas,this.ctx),this}stop(){return Sl.stop(this),this}resize(e,t){Sl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,s),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,qb(this,u,!0)&&(this.notifyPlugins("resize",{size:o}),yi(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Qn(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((o,u)=>(o[u]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const u=t[o],c=a2(o,u),f=c==="r",h=c==="x";return{options:u,dposition:f?"chartArea":h?"bottom":"left",dtype:f?"radialLinear":h?"category":"linear"}}))),Qn(s,o=>{const u=o.options,c=u.id,f=a2(c,u),h=on(u.type,o.dtype);(u.position===void 0||yw(u.position,f)!==yw(o.dposition))&&(u.position=o.dposition),r[c]=!0;let y=null;if(c in i&&i[c].type===h)y=i[c];else{const b=Bo.getScale(h);y=new b({id:c,type:h,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,e)}),Qn(r,(o,u)=>{o||delete i[u]}),Qn(i,o=>{ss.configure(this,o,o.options),ss.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(vw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let o=this.getDatasetMeta(i);const u=s.type||this.config.type;if(o.type&&o.type!==u&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=u,o.indexAxis=s.indexAxis||s2(u,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=Bo.getController(u),{datasetElementType:f,dataElementType:h}=Oi.datasets[u];Object.assign(c,{dataElementType:Bo.getElement(h),datasetElementType:f&&Bo.getElement(f)}),o.controller=new c(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Qn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,h=this.data.datasets.length;f<h;f++){const{controller:y}=this.getDatasetMeta(f),b=!r&&s.indexOf(y)===-1;y.buildOrUpdateElements(b),o=Math.max(+y.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Qn(s,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vw("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Qn(this.scales,e=>{ss.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Lb(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const o=i==="_removeElements"?-s:s;DO(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,u)=>u+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!Lb(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ss.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Qn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Ou(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Sl.has(this)?this.attached&&!Sl.running(this)&&Sl.start(this):(this.draw(),xw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const o=t[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=rA(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&bm(t,r),e.controller.draw(),r&&wm(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ml(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=PI.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Uu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Ih(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Sl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Fg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},r=(s,o,u)=>{s.offsetX=o,s.offsetY=u,this._eventHandler(s)};Qn(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,f)=>{t.addEventListener(this,c,f),e[c]=f},r=(c,f)=>{e[c]&&(t.removeEventListener(this,c,f),delete e[c])},s=(c,f)=>{this.canvas&&this.resize(c,f)};let o;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():o()}unbindEvents(){Qn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Qn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,o,u,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),u=0,c=e.length;u<c;++u){o=e[u];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[o],index:o}});!nm(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(c,f)=>c.filter(h=>!f.some(y=>h.datasetIndex===y.datasetIndex&&h.index===y.index)),o=s(t,e),u=i?e:s(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,o=t,u=this._getActiveElements(e,r,i,o),c=V7(e),f=IO(e,this._lastEvent,i,c);i&&(this._lastEvent=null,yi(s.onHover,[e,u,this],this),c&&yi(s.onClick,[e,u,this],this));const h=!nm(u,r);return(h||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=f,h}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}ot(zo,"defaults",Oi),ot(zo,"instances",Fg),ot(zo,"overrides",Oc),ot(zo,"registry",Bo),ot(zo,"version",LO),ot(zo,"getChart",bw);function ww(){return Qn(zo.instances,n=>n._plugins.invalidate())}function OO(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:u,innerRadius:c}=e;let f=r/u;n.beginPath(),n.arc(s,o,u,i-f,t+f),c>r?(f=r/c,n.arc(s,o,c,t+f,i-f,!0)):n.arc(s,o,r,t+hr,i-hr),n.closePath(),n.clip()}function FO(n){return W2(n,["outerStart","outerEnd","innerStart","innerEnd"])}function BO(n,e,t,i){const r=FO(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),u=c=>{const f=(t-Math.min(s,c))*i/2;return Fr(c,0,Math.min(s,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:Fr(r.innerStart,0,o),innerEnd:Fr(r.innerEnd,0,o)}}function Ef(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function lm(n,e,t,i,r,s){const{x:o,y:u,startAngle:c,pixelMargin:f,innerRadius:h}=e,y=Math.max(e.outerRadius+i+t-f,0),b=h>0?h+i+t+f:0;let x=0;const N=r-c;if(i){const ie=h>0?h-i:0,G=y>0?y-i:0,te=(ie+G)/2,ae=te!==0?N*te/(te+i):N;x=(N-ae)/2}const T=Math.max(.001,N*y-t/Ni)/y,M=(N-T)/2,k=c+M+x,P=r-M-x,{outerStart:I,outerEnd:J,innerStart:H,innerEnd:K}=BO(e,b,y,P-k),X=y-I,U=y-J,ee=k+I/X,de=P-J/U,B=b+H,q=b+K,oe=k+H/B,ne=P-K/q;if(n.beginPath(),s){const ie=(ee+de)/2;if(n.arc(o,u,y,ee,ie),n.arc(o,u,y,ie,de),J>0){const pe=Ef(U,de,o,u);n.arc(pe.x,pe.y,J,de,P+hr)}const G=Ef(q,P,o,u);if(n.lineTo(G.x,G.y),K>0){const pe=Ef(q,ne,o,u);n.arc(pe.x,pe.y,K,P+hr,ne+Math.PI)}const te=(P-K/b+(k+H/b))/2;if(n.arc(o,u,b,P-K/b,te,!0),n.arc(o,u,b,te,k+H/b,!0),H>0){const pe=Ef(B,oe,o,u);n.arc(pe.x,pe.y,H,oe+Math.PI,k-hr)}const ae=Ef(X,k,o,u);if(n.lineTo(ae.x,ae.y),I>0){const pe=Ef(X,ee,o,u);n.arc(pe.x,pe.y,I,k-hr,ee)}}else{n.moveTo(o,u);const ie=Math.cos(ee)*y+o,G=Math.sin(ee)*y+u;n.lineTo(ie,G);const te=Math.cos(de)*y+o,ae=Math.sin(de)*y+u;n.lineTo(te,ae)}n.closePath()}function zO(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:u}=e;let c=e.endAngle;if(s){lm(n,e,t,i,c,r);for(let f=0;f<s;++f)n.fill();isNaN(u)||(c=o+(u%Ci||Ci))}return lm(n,e,t,i,c,r),n.fill(),c}function jO(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:u,options:c}=e,{borderWidth:f,borderJoinStyle:h,borderDash:y,borderDashOffset:b}=c,x=c.borderAlign==="inner";if(!f)return;n.setLineDash(y||[]),n.lineDashOffset=b,x?(n.lineWidth=f*2,n.lineJoin=h||"round"):(n.lineWidth=f,n.lineJoin=h||"bevel");let N=e.endAngle;if(s){lm(n,e,t,i,N,r);for(let T=0;T<s;++T)n.stroke();isNaN(u)||(N=o+(u%Ci||Ci))}x&&OO(n,e,N),s||(lm(n,e,t,i,N,r),n.stroke())}class mh extends Qa{constructor(t){super();ot(this,"circumference");ot(this,"endAngle");ot(this,"fullCircles");ot(this,"innerRadius");ot(this,"outerRadius");ot(this,"pixelMargin");ot(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:u}=FS(s,{x:t,y:i}),{startAngle:c,endAngle:f,innerRadius:h,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),x=(this.options.spacing+this.options.borderWidth)/2,N=on(b,f-c),T=Oh(o,c,f)&&c!==f,M=N>=Ci||T,k=El(u,h+x,y+x);return M&&k}getCenterPoint(t){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:u,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:h}=this.options,y=(s+o)/2,b=(u+c+h+f)/2;return{x:i+Math.cos(y)*b,y:r+Math.sin(y)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Ci?Math.floor(r/Ci):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const f=1-Math.sin(Math.min(Ni,r||0)),h=s*f;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,zO(t,this,h,o,u),jO(t,this,h,o,u),t.restore()}}ot(mh,"id","arc"),ot(mh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ot(mh,"defaultRoutes",{backgroundColor:"backgroundColor"}),ot(mh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function yA(n,e,t=e){n.lineCap=on(t.borderCapStyle,e.borderCapStyle),n.setLineDash(on(t.borderDash,e.borderDash)),n.lineDashOffset=on(t.borderDashOffset,e.borderDashOffset),n.lineJoin=on(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=on(t.borderWidth,e.borderWidth),n.strokeStyle=on(t.borderColor,e.borderColor)}function UO(n,e,t){n.lineTo(t.x,t.y)}function VO(n){return n.stepped?f8:n.tension||n.cubicInterpolationMode==="monotone"?d8:UO}function vA(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:u}=e,c=Math.max(r,o),f=Math.min(s,u),h=r<o&&s<o||r>u&&s>u;return{count:i,start:c,loop:e.loop,ilen:f<c&&!h?i+f-c:f-c}}function qO(n,e,t,i){const{points:r,options:s}=e,{count:o,start:u,loop:c,ilen:f}=vA(r,t,i),h=VO(s);let{move:y=!0,reverse:b}=i||{},x,N,T;for(x=0;x<=f;++x)N=r[(u+(b?f-x:x))%o],!N.skip&&(y?(n.moveTo(N.x,N.y),y=!1):h(n,T,N,b,s.stepped),T=N);return c&&(N=r[(u+(b?f:0))%o],h(n,T,N,b,s.stepped)),!!c}function HO(n,e,t,i){const r=e.points,{count:s,start:o,ilen:u}=vA(r,t,i),{move:c=!0,reverse:f}=i||{};let h=0,y=0,b,x,N,T,M,k;const P=J=>(o+(f?u-J:J))%s,I=()=>{T!==M&&(n.lineTo(h,M),n.lineTo(h,T),n.lineTo(h,k))};for(c&&(x=r[P(0)],n.moveTo(x.x,x.y)),b=0;b<=u;++b){if(x=r[P(b)],x.skip)continue;const J=x.x,H=x.y,K=J|0;K===N?(H<T?T=H:H>M&&(M=H),h=(y*h+J)/++y):(I(),n.lineTo(J,H),N=K,y=0,T=M=H),k=H}I()}function o2(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?HO:qO}function GO(n){return n.stepped?H8:n.tension||n.cubicInterpolationMode==="monotone"?G8:Cc}function WO(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),yA(n,e.options),n.stroke(r)}function KO(n,e,t,i){const{segments:r,options:s}=e,o=o2(e);for(const u of r)yA(n,s,u.style),n.beginPath(),o(n,e,u,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const YO=typeof Path2D=="function";function $O(n,e,t,i){YO&&!e.options.segment?WO(n,e,t,i):KO(n,e,t,i)}class Nu extends Qa{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;O8(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Z8(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],s=this.points,o=iA(this,{property:t,start:r,end:r});if(!o.length)return;const u=[],c=GO(i);let f,h;for(f=0,h=o.length;f<h;++f){const{start:y,end:b}=o[f],x=s[y],N=s[b];if(x===N){u.push(x);continue}const T=Math.abs((r-x[t])/(N[t]-x[t])),M=c(x,N,T,i.stepped);M[t]=e[t],u.push(M)}return u.length===1?u[0]:u}pathSegment(e,t,i){return o2(this)(e,this,t,i)}path(e,t,i){const r=this.segments,s=o2(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const u of r)o&=s(e,this,u,{start:t,end:t+i-1});return!!o}draw(e,t,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),$O(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ot(Nu,"id","line"),ot(Nu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ot(Nu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ot(Nu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function _w(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Bg extends Qa{constructor(t){super();ot(this,"parsed");ot(this,"skip");ot(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:o,y:u}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-u,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return _w(this,t,"x",i)}inYRange(t,i){return _w(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){const r=this.options;this.skip||r.radius<.1||!Ml(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,i2(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ot(Bg,"id","point"),ot(Bg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ot(Bg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function xA(n,e){const{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let u,c,f,h,y;return n.horizontal?(y=o/2,u=Math.min(t,r),c=Math.max(t,r),f=i-y,h=i+y):(y=s/2,u=t-y,c=t+y,f=Math.min(i,r),h=Math.max(i,r)),{left:u,top:f,right:c,bottom:h}}function Eu(n,e,t,i){return n?0:Fr(e,t,i)}function JO(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,s=WS(i);return{t:Eu(r.top,s.top,0,t),r:Eu(r.right,s.right,0,e),b:Eu(r.bottom,s.bottom,0,t),l:Eu(r.left,s.left,0,e)}}function ZO(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Lc(r),o=Math.min(e,t),u=n.borderSkipped,c=i||En(r);return{topLeft:Eu(!c||u.top||u.left,s.topLeft,0,o),topRight:Eu(!c||u.top||u.right,s.topRight,0,o),bottomLeft:Eu(!c||u.bottom||u.left,s.bottomLeft,0,o),bottomRight:Eu(!c||u.bottom||u.right,s.bottomRight,0,o)}}function XO(n){const e=xA(n),t=e.right-e.left,i=e.bottom-e.top,r=JO(n,t/2,i/2),s=ZO(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function p1(n,e,t,i){const r=e===null,s=t===null,u=n&&!(r&&s)&&xA(n,i);return u&&(r||El(e,u.left,u.right))&&(s||El(t,u.top,u.bottom))}function QO(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function eF(n,e){n.rect(e.x,e.y,e.w,e.h)}function g1(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class zg extends Qa{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=XO(this),u=QO(o.radius)?Fh:eF;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),u(e,g1(o,t,s)),e.clip(),u(e,g1(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,g1(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return p1(this,e,t,i)}inXRange(e,t){return p1(this,e,null,t)}inYRange(e,t){return p1(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ot(zg,"id","bar"),ot(zg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ot(zg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var tF=Object.freeze({__proto__:null,ArcElement:mh,BarElement:zg,LineElement:Nu,PointElement:Bg});const l2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Sw=l2.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function bA(n){return l2[n%l2.length]}function wA(n){return Sw[n%Sw.length]}function nF(n,e){return n.borderColor=bA(e),n.backgroundColor=wA(e),++e}function iF(n,e){return n.backgroundColor=n.data.map(()=>bA(e++)),e}function rF(n,e){return n.backgroundColor=n.data.map(()=>wA(e++)),e}function sF(n){let e=0;return(t,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof Ec?e=iF(t,e):r instanceof Eh?e=rF(t,e):r&&(e=nF(t,e))}}function Aw(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function aF(n){return n&&(n.borderColor||n.backgroundColor)}function oF(){return Oi.borderColor!=="rgba(0,0,0,0.1)"||Oi.backgroundColor!=="rgba(0,0,0,0.1)"}var lF={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r,o=Aw(i)||aF(r)||s&&Aw(s)||oF();if(!t.forceOverride&&o)return;const u=sF(n);i.forEach(u)}};function uF(n,e,t,i,r){const s=r.samples||i;if(s>=t)return n.slice(e,e+t);const o=[],u=(t-2)/(s-2);let c=0;const f=e+t-1;let h=e,y,b,x,N,T;for(o[c++]=n[h],y=0;y<s-2;y++){let M=0,k=0,P;const I=Math.floor((y+1)*u)+1+e,J=Math.min(Math.floor((y+2)*u)+1,t)+e,H=J-I;for(P=I;P<J;P++)M+=n[P].x,k+=n[P].y;M/=H,k/=H;const K=Math.floor(y*u)+1+e,X=Math.min(Math.floor((y+1)*u)+1,t)+e,{x:U,y:ee}=n[h];for(x=N=-1,P=K;P<X;P++)N=.5*Math.abs((U-M)*(n[P].y-ee)-(U-n[P].x)*(k-ee)),N>x&&(x=N,b=n[P],T=P);o[c++]=b,h=T}return o[c++]=n[f],o}function cF(n,e,t,i){let r=0,s=0,o,u,c,f,h,y,b,x,N,T;const M=[],k=e+t-1,P=n[e].x,J=n[k].x-P;for(o=e;o<e+t;++o){u=n[o],c=(u.x-P)/J*i,f=u.y;const H=c|0;if(H===h)f<N?(N=f,y=o):f>T&&(T=f,b=o),r=(s*r+u.x)/++s;else{const K=o-1;if(!Tn(y)&&!Tn(b)){const X=Math.min(y,b),U=Math.max(y,b);X!==x&&X!==K&&M.push({...n[X],x:r}),U!==x&&U!==K&&M.push({...n[U],x:r})}o>0&&K!==x&&M.push(n[K]),M.push(u),h=H,s=0,N=T=f,y=b=x=o}}return M}function _A(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Tw(n){n.data.datasets.forEach(e=>{_A(e)})}function fF(n,e){const t=e.length;let i=0,r;const{iScale:s}=n,{min:o,max:u,minDefined:c,maxDefined:f}=s.getUserBounds();return c&&(i=Fr(kl(e,s.axis,o).lo,0,t-1)),f?r=Fr(kl(e,s.axis,u).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var dF={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){Tw(n);return}const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:u}=r,c=n.getDatasetMeta(s),f=o||r.data;if(ph([u,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const h=n.scales[c.xAxisID];if(h.type!=="linear"&&h.type!=="time"||n.options.parsing)return;let{start:y,count:b}=fF(c,f);const x=t.threshold||4*i;if(b<=x){_A(r);return}Tn(o)&&(r._data=f,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(T){this._data=T}}));let N;switch(t.algorithm){case"lttb":N=uF(f,y,b,i,t);break;case"min-max":N=cF(f,y,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=N})},destroy(n){Tw(n)}};function hF(n,e,t){const i=n.segments,r=n.points,s=e.points,o=[];for(const u of i){let{start:c,end:f}=u;f=Q2(c,f,r);const h=u2(t,r[c],r[f],u.loop);if(!e.segments){o.push({source:u,target:h,start:r[c],end:r[f]});continue}const y=iA(e,h);for(const b of y){const x=u2(t,s[b.start],s[b.end],b.loop),N=nA(u,r,x);for(const T of N)o.push({source:T,target:b,start:{[t]:Cw(h,x,"start",Math.max)},end:{[t]:Cw(h,x,"end",Math.min)}})}}return o}function u2(n,e,t,i){if(i)return;let r=e[n],s=t[n];return n==="angle"&&(r=Js(r),s=Js(s)),{property:n,start:r,end:s}}function pF(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:u})=>{u=Q2(o,u,r);const c=r[o],f=r[u];i!==null?(s.push({x:c.x,y:i}),s.push({x:f.x,y:i})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:f.y}))}),s}function Q2(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Cw(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function SA(n,e){let t=[],i=!1;return Ii(n)?(i=!0,t=n):t=pF(n,e),t.length?new Nu({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Nw(n){return n&&n.fill!==!1}function gF(n,e,t){let r=n[e].fill;const s=[e];let o;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!tr(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function mF(n,e,t){const i=bF(n);if(En(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return tr(r)&&Math.floor(r)===r?yF(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function yF(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function vF(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:En(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function xF(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:En(n)?i=n.value:i=e.getBaseValue(),i}function bF(n){const e=n.options,t=e.fill;let i=on(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function wF(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,o=i.points,u=_F(e,t);u.push(SA({x:null,y:e.bottom},i));for(let c=0;c<s.length;c++){const f=s[c];for(let h=f.start;h<=f.end;h++)SF(r,o[h],u)}return new Nu({points:r,options:{}})}function _F(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function SF(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:u,point:c}=AF(s,e,"x");if(!(!c||o&&u)){if(o)i.unshift(c);else if(n.push(c),!u)break}}n.push(...i)}function AF(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,o=n.points;let u=!1,c=!1;for(let f=0;f<s.length;f++){const h=s[f],y=o[h.start][t],b=o[h.end][t];if(El(r,y,b)){u=r===y,c=r===b;break}}return{first:u,last:c,point:i}}class AA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:o}=this;return t=t||{start:0,end:Ci},e.arc(r,s,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function TF(n){const{chart:e,fill:t,line:i}=n;if(tr(t))return CF(e,t);if(t==="stack")return wF(n);if(t==="shape")return!0;const r=NF(n);return r instanceof AA?r:SA(r,i)}function CF(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function NF(n){return(n.scale||{}).getPointPositionForValue?kF(n):EF(n)}function EF(n){const{scale:e={},fill:t}=n,i=vF(t,e);if(tr(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function kF(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=xF(t,e,s),u=[];if(i.grid.circular){const c=e.getPointPositionForValue(0,s);return new AA({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)u.push(e.getPointPositionForValue(c,o));return u}function m1(n,e,t){const i=TF(e),{chart:r,index:s,line:o,scale:u,axis:c}=e,f=o.options,h=f.fill,y=f.backgroundColor,{above:b=y,below:x=y}=h||{},N=r.getDatasetMeta(s),T=rA(r,N);i&&o.points.length&&(bm(n,t),MF(n,{line:o,target:i,above:b,below:x,area:t,scale:u,axis:c,clip:T}),wm(n))}function MF(n,e){const{line:t,target:i,above:r,below:s,area:o,scale:u,clip:c}=e,f=t._loop?"angle":e.axis;n.save(),f==="x"&&s!==r&&(Ew(n,i,o.top),kw(n,{line:t,target:i,color:r,scale:u,property:f,clip:c}),n.restore(),n.save(),Ew(n,i,o.bottom)),kw(n,{line:t,target:i,color:s,scale:u,property:f,clip:c}),n.restore()}function Ew(n,e,t){const{segments:i,points:r}=e;let s=!0,o=!1;n.beginPath();for(const u of i){const{start:c,end:f}=u,h=r[c],y=r[Q2(c,f,r)];s?(n.moveTo(h.x,h.y),s=!1):(n.lineTo(h.x,t),n.lineTo(h.x,h.y)),o=!!e.pathSegment(n,u,{move:o}),o?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function kw(n,e){const{line:t,target:i,property:r,color:s,scale:o,clip:u}=e,c=hF(t,i,r);for(const{source:f,target:h,start:y,end:b}of c){const{style:{backgroundColor:x=s}={}}=f,N=i!==!0;n.save(),n.fillStyle=x,LF(n,o,u,N&&u2(r,y,b)),n.beginPath();const T=!!t.pathSegment(n,f);let M;if(N){T?n.closePath():Mw(n,i,b,r);const k=!!i.pathSegment(n,h,{move:T,reverse:!0});M=T&&k,M||Mw(n,i,y,r)}n.closePath(),n.fill(M?"evenodd":"nonzero"),n.restore()}}function LF(n,e,t,i){const r=e.chart.chartArea,{property:s,start:o,end:u}=i||{};if(s==="x"||s==="y"){let c,f,h,y;s==="x"?(c=o,f=r.top,h=u,y=r.bottom):(c=r.left,f=o,h=r.right,y=u),n.beginPath(),t&&(c=Math.max(c,t.left),h=Math.min(h,t.right),f=Math.max(f,t.top),y=Math.min(y,t.bottom)),n.rect(c,f,h-c,y-f),n.clip()}}function Mw(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var PF={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,o,u,c;for(o=0;o<i;++o)s=n.getDatasetMeta(o),u=s.dataset,c=null,u&&u.options&&u instanceof Nu&&(c={visible:n.isDatasetVisible(o),index:o,fill:mF(u,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:u}),s.$filler=c,r.push(c);for(o=0;o<i;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=gF(r,o,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const u=r[o].$filler;u&&(u.line.updateControlPoints(s,u.axis),i&&u.fill&&m1(n.ctx,u,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;Nw(s)&&m1(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!Nw(i)||t.drawTime!=="beforeDatasetDraw"||m1(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Lw=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},RF=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Pw extends Qa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=yi(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Er(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=Lw(i,s);let f,h;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,h=this._fitRows(o,s,u,c)+10):(h=this.maxHeight,f=this._fitCols(o,r,u,c)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.lineWidths=[0],h=r+u;let y=e;s.textAlign="left",s.textBaseline="middle";let b=-1,x=-h;return this.legendItems.forEach((N,T)=>{const M=i+t/2+s.measureText(N.text).width;(T===0||f[f.length-1]+M+2*u>o)&&(y+=h,f[f.length-(T>0?0:1)]=0,x+=h,b++),c[T]={left:0,top:x,row:b,width:M,height:r},f[f.length-1]+=M+u}),y}_fitCols(e,t,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.columnSizes=[],h=o-e;let y=u,b=0,x=0,N=0,T=0;return this.legendItems.forEach((M,k)=>{const{itemWidth:P,itemHeight:I}=DF(i,t,s,M,r);k>0&&x+I+2*u>h&&(y+=b+u,f.push({width:b,height:x}),N+=b+u,T++,b=x=0),c[k]={left:N,top:x,col:T,width:P,height:I},b=Math.max(b,P),x+=I+u}),y+=b,f.push({width:b,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Wf(s,this.left,this.width);if(this.isHorizontal()){let u=0,c=is(i,this.left+r,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,c=is(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+e+r,f.left=o.leftForLtr(o.x(c),f.width),c+=f.width+r}else{let u=0,c=is(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,c=is(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),f.top=c,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),c+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;bm(e,this),this._draw(),wm(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,u=Oi.color,c=Wf(e.rtl,this.left,this.width),f=Er(o.font),{padding:h}=o,y=f.size,b=y/2;let x;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:N,boxHeight:T,itemHeight:M}=Lw(o,y),k=function(K,X,U){if(isNaN(N)||N<=0||isNaN(T)||T<0)return;r.save();const ee=on(U.lineWidth,1);if(r.fillStyle=on(U.fillStyle,u),r.lineCap=on(U.lineCap,"butt"),r.lineDashOffset=on(U.lineDashOffset,0),r.lineJoin=on(U.lineJoin,"miter"),r.lineWidth=ee,r.strokeStyle=on(U.strokeStyle,u),r.setLineDash(on(U.lineDash,[])),o.usePointStyle){const de={radius:T*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:ee},B=c.xPlus(K,N/2),q=X+b;GS(r,de,B,q,o.pointStyleWidth&&N)}else{const de=X+Math.max((y-T)/2,0),B=c.leftForLtr(K,N),q=Lc(U.borderRadius);r.beginPath(),Object.values(q).some(oe=>oe!==0)?Fh(r,{x:B,y:de,w:N,h:T,radius:q}):r.rect(B,de,N,T),r.fill(),ee!==0&&r.stroke()}r.restore()},P=function(K,X,U){Fc(r,U.text,K,X+M/2,f,{strikethrough:U.hidden,textAlign:c.textAlign(U.textAlign)})},I=this.isHorizontal(),J=this._computeTitleHeight();I?x={x:is(s,this.left+h,this.right-i[0]),y:this.top+h+J,line:0}:x={x:this.left+h,y:is(s,this.top+J+h,this.bottom-t[0].height),line:0},QS(this.ctx,e.textDirection);const H=M+h;this.legendItems.forEach((K,X)=>{r.strokeStyle=K.fontColor,r.fillStyle=K.fontColor;const U=r.measureText(K.text).width,ee=c.textAlign(K.textAlign||(K.textAlign=o.textAlign)),de=N+b+U;let B=x.x,q=x.y;c.setWidth(this.width),I?X>0&&B+de+h>this.right&&(q=x.y+=H,x.line++,B=x.x=is(s,this.left+h,this.right-i[x.line])):X>0&&q+H>this.bottom&&(B=x.x=B+t[x.line].width+h,x.line++,q=x.y=is(s,this.top+J+h,this.bottom-t[x.line].height));const oe=c.x(B);if(k(oe,q,K),B=e8(ee,B+N+b,I?B+de:this.right,e.rtl),P(c.x(B),q,K),I)x.x+=de+h;else if(typeof K.text!="string"){const ne=f.lineHeight;x.y+=TA(K,ne)+h}else x.y+=H}),eA(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Er(t.font),r=as(t.padding);if(!t.display)return;const s=Wf(e.rtl,this.left,this.width),o=this.ctx,u=t.position,c=i.size/2,f=r.top+c;let h,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),h=this.top+f,y=is(e.align,y,this.right-b);else{const N=this.columnSizes.reduce((T,M)=>Math.max(T,M.height),0);h=f+is(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const x=is(u,y,y+b);o.textAlign=s.textAlign(H2(u)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Fc(o,t.text,x,h,i)}_computeTitleHeight(){const e=this.options.title,t=Er(e.font),i=as(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(El(e,this.left,this.right)&&El(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],El(e,r.left,r.left+r.width)&&El(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!FF(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=RF(r,i);r&&!s&&yi(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&yi(t.onHover,[e,i,this],this)}else i&&yi(t.onClick,[e,i,this],this)}}function DF(n,e,t,i,r){const s=IF(i,n,e,t),o=OF(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function IF(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}function OF(n,e,t){let i=n;return typeof e.text!="string"&&(i=TA(e,t)),i}function TA(n,e){const t=n.text?n.text.length:0;return e*t}function FF(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var BF={id:"legend",_element:Pw,start(n,e,t){const i=n.legend=new Pw({ctx:n.ctx,options:t,chart:n});ss.configure(n,i,t),ss.addBox(n,i)},stop(n){ss.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;ss.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const f=c.controller.getStyle(t?0:void 0),h=as(f.borderWidth);return{text:e[c.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(u||f.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class ey extends Qa{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=Ii(i.text)?i.text.length:1;this._padding=as(i.padding);const s=r*Er(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:o}=this,u=o.align;let c=0,f,h,y;return this.isHorizontal()?(h=is(u,i,s),y=t+e,f=s-i):(o.position==="left"?(h=i+e,y=is(u,r,t),c=Ni*-.5):(h=s-e,y=is(u,t,r),c=Ni*.5),f=r-t),{titleX:h,titleY:y,maxWidth:f,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Er(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:u,maxWidth:c,rotation:f}=this._drawArgs(s);Fc(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:f,textAlign:H2(t.align),textBaseline:"middle",translation:[o,u]})}}function zF(n,e){const t=new ey({ctx:n.ctx,options:e,chart:n});ss.configure(n,t,e),ss.addBox(n,t),n.titleBlock=t}var jF={id:"title",_element:ey,start(n,e,t){zF(n,t)},stop(n){const e=n.titleBlock;ss.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;ss.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yg=new WeakMap;var UF={id:"subtitle",start(n,e,t){const i=new ey({ctx:n.ctx,options:t,chart:n});ss.configure(n,i,t),ss.addBox(n,i),yg.set(n,i)},stop(n){ss.removeBox(n,yg.get(n)),yg.delete(n)},beforeUpdate(n,e,t){const i=yg.get(n);ss.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yh={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const c=u.tooltipPosition();i.add(c.x),r+=c.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((u,c)=>u+c)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,u;for(s=0,o=n.length;s<o;++s){const c=n[s].element;if(c&&c.hasValue()){const f=c.getCenterPoint(),h=t2(e,f);h<r&&(r=h,u=c)}}if(u){const c=u.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Oo(n,e){return e&&(Ii(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Al(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function VF(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:u}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Rw(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:u}=e,c=Er(e.bodyFont),f=Er(e.titleFont),h=Er(e.footerFont),y=s.length,b=r.length,x=i.length,N=as(e.padding);let T=N.height,M=0,k=i.reduce((J,H)=>J+H.before.length+H.lines.length+H.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,y&&(T+=y*f.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),k){const J=e.displayColors?Math.max(u,c.lineHeight):c.lineHeight;T+=x*J+(k-x)*c.lineHeight+(k-1)*e.bodySpacing}b&&(T+=e.footerMarginTop+b*h.lineHeight+(b-1)*e.footerSpacing);let P=0;const I=function(J){M=Math.max(M,t.measureText(J).width+P)};return t.save(),t.font=f.string,Qn(n.title,I),t.font=c.string,Qn(n.beforeBody.concat(n.afterBody),I),P=e.displayColors?o+2+e.boxPadding:0,Qn(i,J=>{Qn(J.before,I),Qn(J.lines,I),Qn(J.after,I)}),P=0,t.font=h.string,Qn(n.footer,I),t.restore(),M+=N.width,{width:M,height:T}}function qF(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function HF(n,e,t,i){const{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+s+o>e.width||n==="right"&&r-s-o<0)return!0}function GF(n,e,t,i){const{x:r,width:s}=t,{width:o,chartArea:{left:u,right:c}}=n;let f="center";return i==="center"?f=r<=(u+c)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),HF(f,n,e,t)&&(f="center"),f}function Dw(n,e,t){const i=t.yAlign||e.yAlign||qF(n,t);return{xAlign:t.xAlign||e.xAlign||GF(n,e,t,i),yAlign:i}}function WF(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function KF(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Iw(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:u,yAlign:c}=t,f=r+s,{topLeft:h,topRight:y,bottomLeft:b,bottomRight:x}=Lc(o);let N=WF(e,u);const T=KF(e,c,f);return c==="center"?u==="left"?N+=f:u==="right"&&(N-=f):u==="left"?N-=Math.max(h,b)+r:u==="right"&&(N+=Math.max(y,x)+r),{x:Fr(N,0,i.width-e.width),y:Fr(T,0,i.height-e.height)}}function vg(n,e,t){const i=as(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Ow(n){return Oo([],Al(n))}function YF(n,e,t){return Uu(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Fw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const CA={beforeTitle:_l,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:_l,beforeBody:_l,beforeLabel:_l,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Tn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:_l,afterBody:_l,beforeFooter:_l,footer:_l,afterFooter:_l};function Es(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?CA[e].call(t,i):r}class c2 extends Qa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new sA(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=YF(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Es(i,"beforeTitle",this,e),s=Es(i,"title",this,e),o=Es(i,"afterTitle",this,e);let u=[];return u=Oo(u,Al(r)),u=Oo(u,Al(s)),u=Oo(u,Al(o)),u}getBeforeBody(e,t){return Ow(Es(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Qn(e,s=>{const o={before:[],lines:[],after:[]},u=Fw(i,s);Oo(o.before,Al(Es(u,"beforeLabel",this,s))),Oo(o.lines,Es(u,"label",this,s)),Oo(o.after,Al(Es(u,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,t){return Ow(Es(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Es(i,"beforeFooter",this,e),s=Es(i,"footer",this,e),o=Es(i,"afterFooter",this,e);let u=[];return u=Oo(u,Al(r)),u=Oo(u,Al(s)),u=Oo(u,Al(o)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],o=[];let u=[],c,f;for(c=0,f=t.length;c<f;++c)u.push(VF(this.chart,t[c]));return e.filter&&(u=u.filter((h,y,b)=>e.filter(h,y,b,i))),e.itemSort&&(u=u.sort((h,y)=>e.itemSort(h,y,i))),Qn(u,h=>{const y=Fw(e.callbacks,h);r.push(Es(y,"labelColor",this,h)),s.push(Es(y,"labelPointStyle",this,h)),o.push(Es(y,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const u=yh[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=Rw(this,i),f=Object.assign({},u,c),h=Dw(this.chart,i,f),y=Iw(i,f,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:y.x,y:y.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:u}=i,{topLeft:c,topRight:f,bottomLeft:h,bottomRight:y}=Lc(u),{x:b,y:x}=e,{width:N,height:T}=t;let M,k,P,I,J,H;return s==="center"?(J=x+T/2,r==="left"?(M=b,k=M-o,I=J+o,H=J-o):(M=b+N,k=M+o,I=J-o,H=J+o),P=M):(r==="left"?k=b+Math.max(c,h)+o:r==="right"?k=b+N-Math.max(f,y)-o:k=this.caretX,s==="top"?(I=x,J=I-o,M=k-o,P=k+o):(I=x+T,J=I+o,M=k+o,P=k-o),H=I),{x1:M,x2:k,x3:P,y1:I,y2:J,y3:H}}drawTitle(e,t,i){const r=this.title,s=r.length;let o,u,c;if(s){const f=Wf(i.rtl,this.x,this.width);for(e.x=vg(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",o=Er(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,c=0;c<s;++c)t.fillText(r[c],f.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+u,c+1===s&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,s){const o=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:c,boxWidth:f}=s,h=Er(s.bodyFont),y=vg(this,"left",s),b=r.x(y),x=c<h.lineHeight?(h.lineHeight-c)/2:0,N=t.y+x;if(s.usePointStyle){const T={radius:Math.min(f,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},M=r.leftForLtr(b,f)+f/2,k=N+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,i2(e,T,M,k),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,i2(e,T,M,k)}else{e.lineWidth=En(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const T=r.leftForLtr(b,f),M=r.leftForLtr(r.xPlus(b,1),f-2),k=Lc(o.borderRadius);Object.values(k).some(P=>P!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Fh(e,{x:T,y:N,w:f,h:c,radius:k}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Fh(e,{x:M,y:N+1,w:f-2,h:c-2,radius:k}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(T,N,f,c),e.strokeRect(T,N,f,c),e.fillStyle=o.backgroundColor,e.fillRect(M,N+1,f-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:u,boxHeight:c,boxWidth:f,boxPadding:h}=i,y=Er(i.bodyFont);let b=y.lineHeight,x=0;const N=Wf(i.rtl,this.x,this.width),T=function(U){t.fillText(U,N.x(e.x+x),e.y+b/2),e.y+=b+s},M=N.textAlign(o);let k,P,I,J,H,K,X;for(t.textAlign=o,t.textBaseline="middle",t.font=y.string,e.x=vg(this,M,i),t.fillStyle=i.bodyColor,Qn(this.beforeBody,T),x=u&&M!=="right"?o==="center"?f/2+h:f+2+h:0,J=0,K=r.length;J<K;++J){for(k=r[J],P=this.labelTextColors[J],t.fillStyle=P,Qn(k.before,T),I=k.lines,u&&I.length&&(this._drawColorBox(t,e,J,N,i),b=Math.max(y.lineHeight,c)),H=0,X=I.length;H<X;++H)T(I[H]),b=y.lineHeight;Qn(k.after,T)}x=0,b=y.lineHeight,Qn(this.afterBody,T),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let o,u;if(s){const c=Wf(i.rtl,this.x,this.width);for(e.x=vg(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",o=Er(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,u=0;u<s;++u)t.fillText(r[u],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:o}=this,{x:u,y:c}=e,{width:f,height:h}=i,{topLeft:y,topRight:b,bottomLeft:x,bottomRight:N}=Lc(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+y,c),o==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+f-b,c),t.quadraticCurveTo(u+f,c,u+f,c+b),o==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+f,c+h-N),t.quadraticCurveTo(u+f,c+h,u+f-N,c+h),o==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+x,c+h),t.quadraticCurveTo(u,c+h,u,c+h-x),o==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,c+y),t.quadraticCurveTo(u,c,u+y,c),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=yh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const u=this._size=Rw(this,e),c=Object.assign({},o,this._size),f=Dw(t,e,c),h=Iw(e,c,f,t);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=as(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),QS(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),eA(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:c})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[c],index:c}}),s=!nm(i,r),o=this._positionChanged(r,t);(s||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,i),u=this._positionChanged(o,e),c=t||!nm(o,s)||u;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,o=yh[s.position].call(this,e,t);return o!==!1&&(i!==o.x||r!==o.y)}}ot(c2,"positioners",yh);var $F={id:"tooltip",_element:c2,positioners:yh,afterInit(n,e,t){t&&(n.tooltip=new c2({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:CA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},JF=Object.freeze({__proto__:null,Colors:lF,Decimation:dF,Filler:PF,Legend:BF,SubTitle:UF,Title:jF,Tooltip:$F});const ZF=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function XF(n,e,t,i){const r=n.indexOf(e);if(r===-1)return ZF(n,e,t,i);const s=n.lastIndexOf(e);return r!==s?t:r}const QF=(n,e)=>n===null?null:Fr(Math.round(n),0,e);function Bw(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class f2 extends Vc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Tn(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:XF(i,e,on(t,e),this._addedLabels),QF(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return Bw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ot(f2,"id","category"),ot(f2,"defaults",{ticks:{callback:Bw}});function e9(n,e){const t=[],{bounds:r,step:s,min:o,max:u,precision:c,count:f,maxTicks:h,maxDigits:y,includeBounds:b}=n,x=s||1,N=h-1,{min:T,max:M}=e,k=!Tn(o),P=!Tn(u),I=!Tn(f),J=(M-T)/(y+1);let H=Rb((M-T)/N/x)*x,K,X,U,ee;if(H<1e-14&&!k&&!P)return[{value:T},{value:M}];ee=Math.ceil(M/H)-Math.floor(T/H),ee>N&&(H=Rb(ee*H/N/x)*x),Tn(c)||(K=Math.pow(10,c),H=Math.ceil(H*K)/K),r==="ticks"?(X=Math.floor(T/H)*H,U=Math.ceil(M/H)*H):(X=T,U=M),k&&P&&s&&K7((u-o)/s,H/1e3)?(ee=Math.round(Math.min((u-o)/H,h)),H=(u-o)/ee,X=o,U=u):I?(X=k?o:X,U=P?u:U,ee=f-1,H=(U-X)/ee):(ee=(U-X)/H,Th(ee,Math.round(ee),H/1e3)?ee=Math.round(ee):ee=Math.ceil(ee));const de=Math.max(Db(H),Db(X));K=Math.pow(10,Tn(c)?de:c),X=Math.round(X*K)/K,U=Math.round(U*K)/K;let B=0;for(k&&(b&&X!==o?(t.push({value:o}),X<o&&B++,Th(Math.round((X+B*H)*K)/K,o,zw(o,J,n))&&B++):X<o&&B++);B<ee;++B){const q=Math.round((X+B*H)*K)/K;if(P&&q>u)break;t.push({value:q})}return P&&b&&U!==u?t.length&&Th(t[t.length-1].value,u,zw(u,J,n))?t[t.length-1].value=u:t.push({value:u}):(!P||U===u)&&t.push({value:U}),t}function zw(n,e,{horizontal:t,minRotation:i}){const r=Ja(i),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class um extends Vc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Tn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=c=>r=t?r:c,u=c=>s=i?s:c;if(e){const c=Go(r),f=Go(s);c<0&&f<0?u(0):c>0&&f>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);u(s+c),e||o(r-c)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=e9(r,s);return e.bounds==="ticks"&&OS(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Kh(e,this.chart.options.locale,this.options.ticks.format)}}class d2 extends um{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=tr(e)?e:0,this.max=tr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Ja(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ot(d2,"id","linear"),ot(d2,"defaults",{ticks:{callback:xm.formatters.numeric}});const zh=n=>Math.floor(Cu(n)),_c=(n,e)=>Math.pow(10,zh(n)+e);function jw(n){return n/Math.pow(10,zh(n))===1}function Uw(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function t9(n,e){const t=e-n;let i=zh(t);for(;Uw(n,e,i)>10;)i++;for(;Uw(n,e,i)<10;)i--;return Math.min(i,zh(n))}function n9(n,{min:e,max:t}){e=Ys(n.min,e);const i=[],r=zh(e);let s=t9(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const u=Math.pow(10,s),c=r>s?Math.pow(10,r):0,f=Math.round((e-c)*o)/o,h=Math.floor((e-c)/u/10)*u*10;let y=Math.floor((f-h)/Math.pow(10,s)),b=Ys(n.min,Math.round((c+h+y*Math.pow(10,s))*o)/o);for(;b<t;)i.push({value:b,major:jw(b),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(s++,y=2,o=s>=0?1:o),b=Math.round((c+h+y*Math.pow(10,s))*o)/o;const x=Ys(n.max,b);return i.push({value:x,major:jw(x),significand:y}),i}class h2 extends Vc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=um.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return tr(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=tr(e)?Math.max(0,e):null,this.max=tr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!tr(this._userMin)&&(this.min=e===_c(this.min,0)?_c(this.min,-1):_c(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const s=u=>i=e?i:u,o=u=>r=t?r:u;i===r&&(i<=0?(s(1),o(10)):(s(_c(i,-1)),o(_c(r,1)))),i<=0&&s(_c(r,-1)),r<=0&&o(_c(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=n9(t,this);return e.bounds==="ticks"&&OS(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Kh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Cu(e),this._valueRange=Cu(this.max)-Cu(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Cu(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}ot(h2,"id","logarithmic"),ot(h2,"defaults",{ticks:{callback:xm.formatters.logarithmic,major:{enabled:!0}}});function p2(n){const e=n.ticks;if(e.display&&n.display){const t=as(e.backdropPadding);return on(e.font&&e.font.size,Oi.font.size)+t.height}return 0}function i9(n,e,t){return t=Ii(t)?t:[t],{w:c8(n,e.string,t),h:t.length*e.lineHeight}}function Vw(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function r9(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,u=o.centerPointLabels?Ni/s:0;for(let c=0;c<s;c++){const f=o.setContext(n.getPointLabelContext(c));r[c]=f.padding;const h=n.getPointPosition(c,n.drawingArea+r[c],u),y=Er(f.font),b=i9(n.ctx,y,n._pointLabels[c]);i[c]=b;const x=Js(n.getIndexAngle(c)+u),N=Math.round(V2(x)),T=Vw(N,h.x,b.w,0,180),M=Vw(N,h.y,b.h,90,270);s9(t,e,x,T,M)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=l9(n,i,r)}function s9(n,e,t,i,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let u=0,c=0;i.start<e.l?(u=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-u)):i.end>e.r&&(u=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+u)),r.start<e.t?(c=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+c))}function a9(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:u}=t,c=n.getPointPosition(e,i+r+o,s),f=Math.round(V2(Js(c.angle+hr))),h=f9(c.y,u.h,f),y=u9(f),b=c9(c.x,u.w,y);return{visible:!0,x:c.x,y:h,textAlign:y,left:b,top:h,right:b+u.w,bottom:h+u.h}}function o9(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:s}=n;return!(Ml({x:t,y:i},e)||Ml({x:t,y:s},e)||Ml({x:r,y:i},e)||Ml({x:r,y:s},e))}function l9(n,e,t){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:u}=s.pointLabels,c={extra:p2(s)/2,additionalAngle:o?Ni/r:0};let f;for(let h=0;h<r;h++){c.padding=t[h],c.size=e[h];const y=a9(n,h,c);i.push(y),u==="auto"&&(y.visible=o9(y,f),y.visible&&(f=y))}return i}function u9(n){return n===0||n===180?"center":n<180?"left":"right"}function c9(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function f9(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function d9(n,e,t){const{left:i,top:r,right:s,bottom:o}=t,{backdropColor:u}=e;if(!Tn(u)){const c=Lc(e.borderRadius),f=as(e.backdropPadding);n.fillStyle=u;const h=i-f.left,y=r-f.top,b=s-i+f.width,x=o-r+f.height;Object.values(c).some(N=>N!==0)?(n.beginPath(),Fh(n,{x:h,y,w:b,h:x,radius:c}),n.fill()):n.fillRect(h,y,b,x)}}function h9(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(n.getPointLabelContext(r));d9(t,o,s);const u=Er(o.font),{x:c,y:f,textAlign:h}=s;Fc(t,n._pointLabels[r],c,f+u.lineHeight/2,u,{color:o.color,textAlign:h,textBaseline:"middle"})}}function NA(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,Ci);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function p9(n,e,t,i,r){const s=n.ctx,o=e.circular,{color:u,lineWidth:c}=e;!o&&!i||!u||!c||t<0||(s.save(),s.strokeStyle=u,s.lineWidth=c,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),NA(n,t,o,i),s.closePath(),s.stroke(),s.restore())}function g9(n,e,t){return Uu(n,{label:t,index:e,type:"pointLabel"})}class vh extends um{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=as(p2(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=tr(e)&&!isNaN(e)?e:0,this.max=tr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/p2(this.options))}generateTickLabels(e){um.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=yi(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?r9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){const t=Ci/(this._pointLabels.length||1),i=this.options.startAngle||0;return Js(e*t+Ja(i))}getDistanceFromCenterForValue(e){if(Tn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Tn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return g9(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-hr+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),NA(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,o=this._pointLabels.length;let u,c,f;if(t.pointLabels.display&&h9(this,o),r.display&&this.ticks.forEach((h,y)=>{if(y!==0||y===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const b=this.getContext(y),x=r.setContext(b),N=s.setContext(b);p9(this,x,c,o,N)}}),i.display){for(e.save(),u=o-1;u>=0;u--){const h=i.setContext(this.getPointLabelContext(u)),{color:y,lineWidth:b}=h;!b||!y||(e.lineWidth=b,e.strokeStyle=y,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),f=this.getPointPosition(u,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(f.x,f.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const f=i.setContext(this.getContext(c)),h=Er(f.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),f.showLabelBackdrop){e.font=h.string,o=e.measureText(u.label).width,e.fillStyle=f.backdropColor;const y=as(f.backdropPadding);e.fillRect(-o/2-y.left,-s-h.size/2-y.top,o+y.width,h.size+y.height)}Fc(e,u.label,0,-s,h,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),e.restore()}drawTitle(){}}ot(vh,"id","radialLinear"),ot(vh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:xm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ot(vh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ot(vh,"descriptors",{angleLines:{_fallback:"grid"}});const Am={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ls=Object.keys(Am);function qw(n,e){return n-e}function Hw(n,e){if(Tn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),tr(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(Qf(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function Gw(n,e,t,i){const r=Ls.length;for(let s=Ls.indexOf(n);s<r-1;++s){const o=Am[Ls[s]],u=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(u*o.size))<=i)return Ls[s]}return Ls[r-1]}function m9(n,e,t,i,r){for(let s=Ls.length-1;s>=Ls.indexOf(t);s--){const o=Ls[s];if(Am[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Ls[t?Ls.indexOf(t):0]}function y9(n){for(let e=Ls.indexOf(n)+1,t=Ls.length;e<t;++e)if(Am[Ls[e]].common)return Ls[e]}function Ww(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=q2(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function v9(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let u,c;for(u=s;u<=o;u=+r.add(u,1,i))c=t[u],c>=0&&(e[c].major=!0);return e}function Kw(n,e,t){const i=[],r={},s=e.length;let o,u;for(o=0;o<s;++o)u=e[o],r[u]=o,i.push({value:u,major:!1});return s===0||!t?i:v9(n,i,r,t)}class jh extends Vc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new NI._date(e.adapters.date);r.init(t),Ah(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Hw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:u}=this.getUserBounds();function c(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!o||!u)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=tr(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=tr(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,u=Z7(r,s,o);return this._unit=t.unit||(i.autoSkip?Gw(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):m9(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:y9(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),Kw(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Fr(t,0,o),i=Fr(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Gw(s.minUnit,t,i,this._getLabelCapacity(t)),u=on(r.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,f=Qf(c)||c===!0,h={};let y=t,b,x;if(f&&(y=+e.startOf(y,"isoWeek",c)),y=+e.startOf(y,f?"day":o),e.diff(i,t,o)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+o);const N=r.ticks.source==="data"&&this.getDataTimestamps();for(b=y,x=0;b<i;b=+e.add(b,u,o),x++)Ww(h,b,N);return(b===i||r.bounds==="ticks"||x===1)&&Ww(h,b,N),Object.keys(h).sort(qw).map(T=>+T)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,o=t||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,r){const s=this.options,o=s.ticks.callback;if(o)return yi(o,[e,t,i],this);const u=s.time.displayFormats,c=this._unit,f=this._majorUnit,h=c&&u[c],y=f&&u[f],b=i[t],x=f&&y&&b&&b.major;return this._adapter.format(e,r||(x?y:h))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=Ja(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),o=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*s+u*o,h:i*o+u*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Kw(this,[e],this._majorUnit),r),o=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(Hw(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return zS(e.sort(qw))}}ot(jh,"id","time"),ot(jh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function xg(n,e,t){let i=0,r=n.length-1,s,o,u,c;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=kl(n,"pos",e)),{pos:s,time:u}=n[i],{pos:o,time:c}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=kl(n,"time",e)),{time:s,pos:u}=n[i],{time:o,pos:c}=n[r]);const f=o-s;return f?u+(c-u)*(e-s)/f:u}class g2 extends jh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=xg(t,this.min),this._tableRange=xg(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let o,u,c,f,h;for(o=0,u=e.length;o<u;++o)f=e[o],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,u=r.length;o<u;++o)h=r[o+1],c=r[o-1],f=r[o],Math.round((h+c)/2)!==f&&s.push({time:f,pos:o/(u-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(xg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return xg(this._table,i*this._tableRange+this._minPos,!0)}}ot(g2,"id","timeseries"),ot(g2,"defaults",jh.defaults);var x9=Object.freeze({__proto__:null,CategoryScale:f2,LinearScale:d2,LogarithmicScale:h2,RadialLinearScale:vh,TimeScale:jh,TimeSeriesScale:g2});const EA=[CI,tF,JF,x9];zo.register(...EA);zo.register(...EA);const wr=({title:n,value:e,icon:t,description:i,bgColor:r="bg-sky-500",textColor:s="text-white",smallValue:o=!1,className:u=""})=>S.jsxs("div",{className:`shadow-lg rounded-xl p-5 ${r} ${s} flex flex-col justify-between h-full ${u}`,children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:n}),t&&S.jsx("div",{className:"opacity-75",children:t})]}),S.jsx("p",{className:`${o?"text-xl sm:text-2xl":"text-2xl sm:text-3xl"} font-bold mb-1`,children:e})]}),i&&S.jsx("p",{className:"text-xs sm:text-sm opacity-90 mt-auto",children:i})]}),bg=({isActive:n,onClick:e,icon:t,label:i})=>S.jsxs("button",{onClick:e,className:`flex items-center px-4 py-3 font-medium text-sm rounded-t-lg transition-colors focus:outline-none
                    ${n?"bg-white text-sky-600 border-sky-600 border-t border-x":"text-slate-500 hover:text-sky-600 hover:bg-slate-50 border-transparent border-t border-x"}`,role:"tab","aria-selected":n,children:[t,S.jsx("span",{className:"ml-2",children:i})]}),b9=()=>{const{isLoading:n,error:e,isInitializing:t,initializationError:i,totalProductsInV2DB:r,countKeepaPresent:s,countMarketAnalysisPresent:o,countEbayProductDataPresent:u,countInitializedOnly:c,countTeilwertEstimated:f,countPdfLinksPresent:h,v2Statuses:y,v2AllSearchTerms:b,fetchV2Statuses:x,initializeV2Database:N,isBatchProcessing:T,batchProcessProgress:M,batchProcessError:k,batchProcessedCount:P,batchProcessSuccessMessage:I,batchGenerateMarketAnalysis:J,isBatchEstimatingTeilwert:H,batchTeilwertEstimationProgress:K,batchTeilwertEstimationError:X,batchTeilwertEstimatedCount:U,batchTeilwertSuccessMessage:ee,batchGenerateTeilwertEstimations:de,v2ProcessedKeepaData:B,v2GeminiTeilwerte:q}=Uc(),{products:oe,isLoading:ne,fetchProducts:ie,filterOutETVZero:G,setFilterOutETVZeroPreference:te}=zc(),[ae,pe]=re.useState("10"),[j,me]=re.useState("5"),D=()=>{const ye=parseInt(ae,10);!isNaN(ye)&&ye>0?J(ye):alert("Bitte gültige Anzahl (>0) für Marktanalyse eingeben.")},Y=()=>{const ye=parseInt(j,10);!isNaN(ye)&&ye>0?de(ye):alert("Bitte gültige Anzahl (>0) für Teilwertschätzung eingeben.")},Q=async ye=>{te(ye.target.checked),await ie(),await x(!0)},ue=re.useMemo(()=>oe?oe.filter(ye=>!b[ye.id]||b[ye.id].length===0).length:0,[oe,b]),ce=re.useMemo(()=>oe?oe.filter(ye=>{const Se=y[ye.id],Ee=b[ye.id]&&b[ye.id].length>0,$e=!q[ye.id],Ye=!!B[ye.id],Qe=Se==null?void 0:Se.ebay,Ke=Qe===!0||Array.isArray(Qe)&&Qe.length>0;return Ee&&$e&&Ye&&Ke}).length:0,[oe,b,y,B,q]);return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-white p-6 rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-1",children:"Globale Produktfilter"}),S.jsx("p",{className:"text-sm text-slate-600",children:"Beeinflusst Laden und Anzeigen von Produkten."})]}),S.jsxs("label",{className:"flex items-center text-sm text-slate-700 mt-2 sm:mt-0 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer",children:[S.jsx("input",{type:"checkbox",checked:G,onChange:Q,className:"mr-2 h-4 w-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500",disabled:n||ne||t||T||H}),S.jsx(JD,{className:"w-4 h-4 mr-1 text-sky-600"}),"Produkte mit ETV=0 ausschließen"]})]}),S.jsx("hr",{className:"my-6 border-slate-200"}),S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Datenbank Initialisierung"}),S.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Sicherstellen, dass für alle ",oe.length," Produkte ein Eintrag in `",ks,"` existiert."]}),S.jsxs("button",{onClick:N,disabled:t||n||ne||oe.length===0||T||H,className:"px-6 py-3 btn-primary-base flex items-center bg-green-600 hover:bg-green-700 focus:ring-green-500 disabled:bg-green-300 disabled:text-green-100 disabled:cursor-not-allowed",children:[t?S.jsx(Ki,{size:"sm",className:"mr-2 border-white"}):S.jsx(kS,{className:"w-5 h-5 mr-2"}),t?"Initialisiere...":`V2 Status für ${oe.length} Produkte Initialisieren`]}),ne&&!t&&S.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Lade Produktliste..."}),i&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler Initialisierung:"}),S.jsx("p",{children:i})]}),!t&&!i&&c>0&&oe.length>0&&S.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center",children:[S.jsx(Zs,{className:"w-5 h-5 mr-1"}),"Initialisierung scheint erfolgt."]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Batch-Marktanalyse Steuerung"}),S.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Starte Gemini Marktanalyse & eBay Suchbegriff-Erstellung."}),S.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Produkte für Analyse: ",S.jsx("strong",{className:"text-slate-700",children:ue})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[S.jsx("input",{type:"number",value:ae,onChange:ye=>pe(ye.target.value),placeholder:"Anzahl",min:"1",className:"form-input-base sm:w-40",disabled:T||t||H}),S.jsxs("button",{onClick:D,disabled:T||t||H||parseInt(ae,10)<=0||ne||oe.length===0||ue===0,className:"px-6 py-3 btn-primary-base flex items-center justify-center w-full sm:w-auto",children:[T?S.jsx(Ki,{size:"sm",className:"mr-2 border-white"}):S.jsx(em,{className:"w-5 h-5 mr-2"}),T?"Verarbeite MA-Batch...":"MA-Batch Starten"]})]}),T&&M&&S.jsxs("div",{className:"mt-4 p-3 bg-sky-50 rounded-md text-sm text-sky-700",children:[S.jsx(Ki,{size:"sm",className:"inline-block mr-2"}),"MA: Produkt ",M.current," von ",M.total,": ",S.jsx("strong",{className:"ml-1",children:M.productName})," (ASIN: ",M.asin,")"]}),k&&!T&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler MA-Batch:"}),S.jsx("p",{children:k})]}),I&&!T&&S.jsxs("div",{className:"mt-3 p-3 bg-green-100 border-l-4 border-green-500 text-green-700",children:[S.jsx("p",{className:"font-bold",children:"MA-Batch Abgeschlossen:"}),S.jsx("p",{children:I})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Batch Teilwertschätzung Steuerung"}),S.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Starte Gemini Teilwertschätzung für Produkte mit abgeschlossener Marktanalyse und vorhandenen Detaildaten."}),S.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Hinweis: Batch prüft MA-Daten (`",Sg,"`), Keepa (`",Mh,"`), eBay-Begriffe (`",xh,"`) und eBay Ergebnisse (`",Ff,"`). Bei fehlenden Detail-Daten wird Produkt übersprungen (Eintrag in `",kf,"`)."]}),S.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Produkte initial qualifiziert für Teilwert (MA, Keepa & eBay vorhanden, Teilwert fehlt): ",S.jsx("strong",{className:"text-slate-700",children:ce})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 mt-4",children:[S.jsx("input",{type:"number",value:j,onChange:ye=>me(ye.target.value),placeholder:"Anzahl",min:"1",className:"form-input-base sm:w-40",disabled:H||t||T}),S.jsxs("button",{onClick:Y,disabled:H||t||T||parseInt(j,10)<=0||ne||oe.length===0||ce===0,className:"px-6 py-3 btn-primary-base flex items-center justify-center w-full sm:w-auto bg-emerald-600 hover:bg-emerald-700 focus:ring-emerald-500 disabled:bg-emerald-300 disabled:text-emerald-100 disabled:cursor-not-allowed",children:[H?S.jsx(Ki,{size:"sm",className:"mr-2 border-white"}):S.jsx(va,{className:"w-5 h-5 mr-2"}),H?"Verarbeite Teilwert-Batch...":"Teilwert-Batch Starten"]})]}),H&&K&&S.jsxs("div",{className:"mt-4 p-3 bg-emerald-50 rounded-md text-sm text-emerald-700",children:[S.jsxs("p",{className:"mb-2",children:[S.jsx(Ki,{size:"sm",className:"inline-block mr-2"}),K.phase==="pre-checking"?"Prüfe Vorbedingungen für Produkt ":K.phase==="processing-pdf"?"PDF Verarbeitung für Produkt ":"Teilwertschätzung für Produkt ",K.current," von ",K.total,":",S.jsx("strong",{className:"ml-1",children:K.productName||`ASIN: ${K.asin}`}),K.productName&&` (ASIN: ${K.asin})`]}),K.currentStepDetails&&S.jsx(Q1,{steps:K.currentStepDetails})]}),X&&!H&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler Teilwert-Batch:"}),S.jsx("p",{children:X})]}),ee&&!H&&S.jsxs("div",{className:"mt-3 p-3 bg-green-100 border-l-4 border-green-500 text-green-700",children:[S.jsx("p",{className:"font-bold",children:"Teilwert-Batch Abgeschlossen:"}),S.jsx("p",{children:ee})]})]}),(n||ne)&&!e&&S.jsx("div",{className:"flex justify-center items-center h-40 bg-white p-6 rounded-lg shadow-md",children:S.jsx(Ki,{text:"Lade V2 Prozess-Status & Produkte..."})}),!n&&!ne&&!e&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[S.jsx(wr,{title:"Produkte im System",value:oe.length,icon:S.jsx(MS,{className:"w-8 h-8"}),description:`${G?"(ETV=0 gefiltert)":""}.`,bgColor:"bg-slate-500",className:"md:col-span-1"}),S.jsx(wr,{title:"Produkte in V2 DB",value:r,icon:S.jsx(O2,{className:"w-8 h-8"}),description:`Einträge in '${ks}'.`,bgColor:"bg-indigo-500",className:"md:col-span-1"}),S.jsx(wr,{title:"Mit Teilwertschätzung",value:f||0,icon:S.jsx(va,{className:"w-8 h-8"}),description:"Abgeschlossene Teilwertschätzungen.",bgColor:"bg-emerald-500",className:"md:col-span-1"}),S.jsx(wr,{title:"PDF Links Vorhanden",value:h||0,icon:S.jsx(F2,{className:"w-8 h-8"}),description:"Gespeicherte PDF Cloud Links.",bgColor:"bg-cyan-500",className:"md:col-span-1"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[S.jsx(wr,{title:"Mit Marktanalyse",value:o||0,icon:S.jsx(Zs,{className:"w-8 h-8"}),description:"Mit Gemini MA & Suchbegriffen.",bgColor:"bg-green-500",className:"md:col-span-1"}),S.jsx(wr,{title:"Mit eBay Verkaufsdaten",value:u||0,icon:S.jsx(D2,{className:"w-8 h-8"}),description:"Mit produktbez. eBay-Verkaufsdaten.",bgColor:"bg-purple-500",className:"md:col-span-1"}),S.jsx(wr,{title:"Mit Keepa-Daten (v2)",value:s||0,icon:S.jsx(Zs,{className:"w-8 h-8"}),description:`Verarbeitete Keepa-Daten in ${Mh}.`,bgColor:"bg-teal-500",className:"md:col-span-1"}),S.jsx(wr,{title:"Initialisiert (Wartet)",value:c||0,icon:S.jsx(Sb,{className:"w-8 h-8"}),description:"Nur initialer V2 Status.",bgColor:"bg-sky-600",className:"md:col-span-1"})]})]}),!n&&!ne&&!e&&r===0&&oe.length>0&&S.jsx("div",{className:"p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700",children:S.jsxs("div",{className:"flex",children:[S.jsx("div",{className:"py-1",children:S.jsx(Sb,{className:"h-6 w-6 text-yellow-400 mr-3"})}),S.jsxs("div",{children:[S.jsx("p",{className:"font-bold",children:"Keine Daten in V2 Prozess-DB"}),S.jsxs("p",{className:"text-sm",children:["Keine Statusdaten in `",ks,"`. Bitte initialisieren."]})]})]})})]})},w9=()=>{const{v2ApiToken:n,isConfigSet:e}=ju(),{getProductById:t}=zc(),{v2AllSearchTerms:i,v2Statuses:r,isLoading:s,fetchV2Statuses:o}=Uc(),[u,c]=re.useState([]),[f,h]=re.useState(!1),[y,b]=re.useState(null),[x,N]=re.useState(""),[T,M]=re.useState(!1),[k,P]=re.useState(null),[I,J]=re.useState(1),[H,K]=re.useState(""),[X,U]=re.useState(null);re.useEffect(()=>{if(h(!0),Object.keys(i).length>0||!s){const te=Object.entries(i).map(([ae,pe])=>{const j=t(ae),me=r[ae],D=me==null?void 0:me.ebay,Y=D===!0||Array.isArray(D)&&D.length>0?"Vorhanden":"Ausstehend";return{asin:ae,productName:j==null?void 0:j.name,terms:pe||[],ebayDataStatus:Y}});c(te.sort((ae,pe)=>(ae.productName||ae.asin).localeCompare(pe.productName||pe.asin))),h(!1)}else s&&c([])},[i,r,t,s]);const ee=te=>{b(te.asin),N(te.terms.join(", ")),P(null)},de=async()=>{if(!(!y||!n)){M(!0),P(null);try{const te=x.split(",").map(pe=>pe.trim()).filter(pe=>pe.length>0),ae=await Sn.setKey(xh,y,JSON.stringify(te),n);if("error"in ae)throw new Error(ae.error);await o(!0),b(null),N("")}catch(te){P(te.message||"Fehler beim Speichern.")}finally{M(!1)}}},B=re.useMemo(()=>u.filter(te=>te.asin.toLowerCase().includes(H.toLowerCase())||te.productName&&te.productName.toLowerCase().includes(H.toLowerCase())||te.terms.some(ae=>ae.toLowerCase().includes(H.toLowerCase()))),[u,H]),q=re.useMemo(()=>{let te=[...B];return X!==null&&te.sort((ae,pe)=>{let j,me;return X.key==="terms"?(j=ae.terms.join(", "),me=pe.terms.join(", ")):(j=ae[X.key]??(X.direction==="asc"?1/0:-1/0),me=pe[X.key]??(X.direction==="asc"?1/0:-1/0)),typeof j=="string"&&typeof me=="string"?X.direction==="asc"?j.localeCompare(me):me.localeCompare(j):j<me?X.direction==="asc"?-1:1:j>me?X.direction==="asc"?1:-1:0}),te},[B,X]),oe=te=>{let ae="asc";X&&X.key===te&&X.direction==="asc"&&(ae="desc"),U({key:te,direction:ae}),J(1)},ne=te=>!X||X.key!==te?S.jsx("span",{className:"text-slate-400",children:"⇅"}):X.direction==="asc"?S.jsx("span",{className:"text-sky-600",children:"↑"}):S.jsx("span",{className:"text-sky-600",children:"↓"}),ie=Math.ceil(q.length/ba),G=re.useMemo(()=>{const te=(I-1)*ba;return q.slice(te,te+ba)},[q,I]);return re.useEffect(()=>{J(1)},[H]),f||s&&u.length===0?S.jsx("div",{className:"p-6",children:S.jsx(Ki,{text:"Lade Suchbegriffsdaten..."})}):S.jsxs("div",{className:"p-6 bg-white rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200 space-y-4",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"eBay Suchbegriffe & Status"}),S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[S.jsx("input",{type:"text",placeholder:"ASIN, Name oder Begriff filtern...",value:H,onChange:te=>K(te.target.value),className:"form-input-base w-full sm:max-w-md"}),S.jsxs("button",{onClick:()=>o(!0),className:"px-3 py-2 text-sm btn-secondary-base w-full sm:w-auto flex items-center justify-center",disabled:s||f||T,children:[S.jsx(Du,{className:`w-4 h-4 mr-2 ${s||f?"animate-spin":""}`})," Daten Aktualisieren"]})]}),y&&S.jsxs("div",{className:"my-4 p-4 border border-sky-300 bg-sky-50 rounded-lg",children:[S.jsxs("h3",{className:"text-lg font-semibold text-sky-700 mb-2",children:["Bearbeite Begriffe für ASIN: ",y]}),S.jsx("textarea",{value:x,onChange:te=>N(te.target.value),placeholder:"Begriffe, Komma-getrennt eingeben",rows:3,className:"form-input-base w-full mb-2"}),k&&S.jsx("p",{className:"text-xs text-red-600 mb-2",children:k}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:de,disabled:T,className:"px-4 py-2 text-sm btn-primary-base w-auto",children:[T?S.jsx(Ki,{size:"sm"}):S.jsx(Zs,{className:"w-4 h-4 mr-1"})," Speichern"]}),S.jsx("button",{onClick:()=>{b(null),P(null)},className:"px-4 py-2 text-sm btn-secondary-base w-auto",children:"Abbrechen"})]})]}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>oe("asin"),children:["ASIN ",ne("asin")]}),S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>oe("productName"),children:["Produktname ",ne("productName")]}),S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>oe("terms"),children:["Suchbegriffe ",ne("terms")]}),S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>oe("ebayDataStatus"),children:["eBay Daten Status ",ne("ebayDataStatus")]}),S.jsx("th",{className:"px-4 py-2 text-left font-medium text-slate-600",children:"Aktion"})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.map(te=>S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700",children:S.jsx(xa,{to:`/product/${te.asin}`,className:"text-sky-600 hover:underline",children:te.asin})}),S.jsx("td",{className:"px-4 py-2 text-slate-600 max-w-xs truncate",title:te.productName,children:te.productName||"N/A"}),S.jsx("td",{className:"px-4 py-2 text-slate-500 max-w-md truncate",title:te.terms.join(", "),children:te.terms.join(", ")||"-"}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:S.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${te.ebayDataStatus==="Vorhanden"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:te.ebayDataStatus})}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:S.jsxs("button",{onClick:()=>ee(te),className:"text-sky-600 hover:text-sky-800 flex items-center text-xs",disabled:T,children:[S.jsx(AS,{className:"w-4 h-4 mr-1"})," Bearbeiten"]})})]},te.asin))})]})}),q.length===0&&!(f||s)&&S.jsx("p",{className:"text-center text-slate-500 py-4",children:"Keine Suchbegriffe gefunden oder Filter ergab kein Ergebnis."}),ie>1&&S.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[S.jsxs("button",{onClick:()=>J(te=>Math.max(1,te-1)),disabled:I===1,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:[S.jsx(Mc,{className:"w-3 h-3 mr-1"})," Vorherige"]}),S.jsxs("span",{className:"text-xs text-slate-600",children:["Seite ",I," von ",ie," (",q.length," gesamt)"]}),S.jsxs("button",{onClick:()=>J(te=>Math.min(ie,te+1)),disabled:I===ie,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:["Nächste ",S.jsx(Gh,{className:"w-3 h-3 ml-1"})]})]})]})},_9=()=>{const{products:n,isLoading:e}=zc(),{v2ProcessedKeepaData:t,v2GeminiTeilwerte:i,isLoading:r,fetchV2Statuses:s}=Uc(),o=b2(),[u,c]=re.useState(null),[f,h]=re.useState(1),[y,b]=re.useState(null),[x,N]=re.useState(null),[T,M]=re.useState(null),[k,P]=re.useState(null),[I,J]=re.useState(null),H=re.useRef(null),K=re.useRef(null),X=e||r,U=re.useMemo(()=>{if(X||n.length===0)return[];c(null);try{return n.filter(G=>G.etv!==void 0&&G.etv!==null&&G.etv>0).map(G=>{const te=t[G.id],ae=i[G.id];return{asin:G.id,productName:G.name,etv:G.etv,keepaValue:te==null?void 0:te.price,teilwertV1:G.externalTeilwert,teilwertV2:ae==null?void 0:ae.Teilwert}})}catch(G){return c(G.message||"Fehler beim Aufbereiten der Vergleichsdaten."),[]}},[n,t,i,X]),ee=re.useMemo(()=>{if(U.length===0)return null;const G=U,te=G.filter(et=>et.teilwertV1!==void 0&&et.etv!==void 0&&et.etv>0),ae=te.reduce((et,De)=>et+De.teilwertV1,0),pe=te.reduce((et,De)=>et+De.etv,0),j=pe>0?ae/pe*100:0,me=G.filter(et=>et.teilwertV2!==void 0&&et.etv!==void 0&&et.etv>0),D=me.reduce((et,De)=>et+De.teilwertV2,0),Y=me.reduce((et,De)=>et+De.etv,0),Q=Y>0?D/Y*100:0,ue=G.filter(et=>et.keepaValue!==void 0&&et.etv!==void 0&&et.etv>0),ce=ue.reduce((et,De)=>et+De.keepaValue,0),ye=ue.reduce((et,De)=>et+De.etv,0),Se=ye>0?ce/ye*100:0;let Ee=0,$e=0,Ye=0,Qe=0,Ke=0;return G.forEach(et=>{if(et.teilwertV1!==void 0&&et.teilwertV2!==void 0){const De=et.teilwertV2-et.teilwertV1;Qe+=De,Ke++,et.teilwertV2>et.teilwertV1?Ee++:et.teilwertV2<et.teilwertV1?$e++:Ye++}}),{totalProducts:G.length,sumETV:G.reduce((et,De)=>et+(De.etv??0),0),sumDefinedTWv1:ae,sumDefinedTWv2:D,sumDefinedKeepa:ce,countProductsWithTWv1:te.length,countProductsWithTWv2:me.length,countProductsWithKeepa:ue.length,ratioTWv1toETV:j,ratioTWv2toETV:Q,ratioKeepatoETV:Se,avgDiffV2V1:Ke>0?Qe/Ke:0,countV2GtV1:Ee,countV2LtV1:$e,countV2EqV1:Ye}},[U]),de=()=>{N(null),M(null),P(null),J(null)};re.useEffect(()=>{if(H.current&&U.length>0){K.current&&K.current.destroy();const G=H.current.getContext("2d");if(G){const te=U.filter(ae=>ae.teilwertV1!==void 0&&ae.teilwertV2!==void 0&&(x===null||ae.teilwertV1>=x)&&(T===null||ae.teilwertV1<=T)&&(k===null||ae.teilwertV2>=k)&&(I===null||ae.teilwertV2<=I)).map(ae=>({x:ae.teilwertV1,y:ae.teilwertV2,asin:ae.asin,name:ae.productName||ae.asin}));K.current=new zo(G,{type:"scatter",data:{datasets:[{label:"Teilwert v1 vs Teilwert v2",data:te,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",pointRadius:5,pointHoverRadius:7}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Teilwert v1 (€)"}},y:{title:{display:!0,text:"Teilwert v2 (€)"}}},plugins:{tooltip:{callbacks:{label:function(ae){const pe=ae.raw;return`${pe.name} (ASIN: ${pe.asin})`}}}},onClick:(ae,pe)=>{if(pe.length>0){const j=pe[0],me=te[j.index];me&&me.asin&&o(`/product/${me.asin}`)}}}})}}return()=>{K.current&&(K.current.destroy(),K.current=null)}},[U,o,x,T,k,I]);const B=re.useMemo(()=>{let G=[...U];return y!==null&&G.sort((te,ae)=>{let pe,j;if(y.key==="diffV2V1"?(pe=(te.teilwertV2??0)-(te.teilwertV1??0),j=(ae.teilwertV2??0)-(ae.teilwertV1??0)):(pe=te[y.key],j=ae[y.key]),pe===void 0&&(pe=y.direction==="asc"?typeof j=="string"?"":1/0:typeof j=="string"?"zzzzzz":-1/0),j===void 0&&(j=y.direction==="asc"?typeof pe=="string"?"":1/0:typeof pe=="string"?"zzzzzz":-1/0),typeof pe=="string"&&typeof j=="string")return y.direction==="asc"?pe.localeCompare(j):j.localeCompare(pe);if(typeof pe=="number"&&typeof j=="number"){if(pe<j)return y.direction==="asc"?-1:1;if(pe>j)return y.direction==="asc"?1:-1}return 0}),G},[U,y]),q=G=>{let te="asc";y&&y.key===G&&y.direction==="asc"&&(te="desc"),b({key:G,direction:te})},oe=G=>!y||y.key!==G?S.jsx("span",{className:"text-slate-400",children:"⇅"}):y.direction==="asc"?S.jsx("span",{className:"text-sky-600",children:"↑"}):S.jsx("span",{className:"text-sky-600",children:"↓"}),ne=Math.ceil(B.length/ba),ie=re.useMemo(()=>{const G=(f-1)*ba;return B.slice(G,G+ba)},[B,f]);return re.useEffect(()=>{h(1)},[y]),X?S.jsx("div",{className:"p-6",children:S.jsx(Ki,{text:"Lade Vergleichsdaten..."})}):u?S.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-md",children:u}):S.jsxs("div",{className:"p-6 bg-white rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200 space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Teilwertvergleich (Produkte mit ETV gr. 0)"}),S.jsxs("button",{onClick:()=>s(!0),className:"px-3 py-2 text-sm btn-secondary-base w-auto flex items-center",disabled:X,children:[S.jsx(Du,{className:`w-4 h-4 mr-2 ${X?"animate-spin":""}`})," Aktualisieren"]})]}),ee&&S.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[S.jsxs("h3",{className:"text-lg font-semibold text-slate-700 mb-3 flex items-center",children:[S.jsx(I2,{className:"w-5 h-5 mr-2 text-sky-600"})," Zusammenfassende Statistiken"]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-sm",children:[S.jsx(wr,{title:"Produkte (ETV>0)",value:ee.totalProducts,smallValue:!0,className:"bg-sky-100 text-sky-800",icon:S.jsx(MS,{className:"w-6 h-6"}),description:`TWv1: ${ee.countProductsWithTWv1}, TWv2: ${ee.countProductsWithTWv2}, Keepa: ${ee.countProductsWithKeepa}`}),S.jsx(wr,{title:"Summe ETV",value:`€${ee.sumETV.toFixed(0)}`,smallValue:!0,className:"bg-slate-100 text-slate-800",icon:S.jsx(va,{className:"w-6 h-6"})}),S.jsx(wr,{title:"Summe TW v1 (def.)",value:`€${ee.sumDefinedTWv1.toFixed(0)}`,smallValue:!0,className:"bg-slate-100 text-slate-800",icon:S.jsx(va,{className:"w-6 h-6"}),description:`${ee.countProductsWithTWv1} Produkte`}),S.jsx(wr,{title:"Summe TW v2 (def.)",value:`€${ee.sumDefinedTWv2.toFixed(0)}`,smallValue:!0,className:"bg-emerald-100 text-emerald-800",icon:S.jsx(va,{className:"w-6 h-6"}),description:`${ee.countProductsWithTWv2} Produkte`}),S.jsx(wr,{title:"Summe Keepa (def.)",value:`€${ee.sumDefinedKeepa.toFixed(0)}`,smallValue:!0,className:"bg-teal-100 text-teal-800",icon:S.jsx(va,{className:"w-6 h-6"}),description:`${ee.countProductsWithKeepa} Produkte`}),S.jsx(wr,{title:"TW v1 / ETV",value:`${ee.ratioTWv1toETV.toFixed(1)}%`,smallValue:!0,className:"bg-slate-200 text-slate-800",description:"Für Produkte mit TWv1"}),S.jsx(wr,{title:"TW v2 / ETV",value:`${ee.ratioTWv2toETV.toFixed(1)}%`,smallValue:!0,className:"bg-emerald-200 text-emerald-800",description:"Für Produkte mit TWv2"}),S.jsx(wr,{title:"Keepa / ETV",value:`${ee.ratioKeepatoETV.toFixed(1)}%`,smallValue:!0,className:"bg-teal-200 text-teal-800",description:"Für Produkte mit Keepa"}),S.jsx(wr,{title:"Ø Diff. (v2-v1)",value:`€${ee.avgDiffV2V1.toFixed(2)}`,smallValue:!0,className:"bg-indigo-100 text-indigo-800",description:"Für Produkte mit TWv1 & TWv2"}),S.jsx(wr,{title:"v2 > v1",value:ee.countV2GtV1,smallValue:!0,className:"bg-green-100 text-green-800"}),S.jsx(wr,{title:"v2 < v1",value:ee.countV2LtV1,smallValue:!0,className:"bg-red-100 text-red-800"}),S.jsx(wr,{title:"v2 = v1",value:ee.countV2EqV1,smallValue:!0,className:"bg-gray-100 text-gray-800"})]})]}),S.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[S.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Streudiagramm: Teilwert v1 vs. Teilwert v2"}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 items-end mb-3 text-xs",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v1Min",className:"block font-medium text-slate-600",children:"V1 Min (€)"}),S.jsx("input",{type:"number",id:"v1Min",value:x??"",onChange:G=>N(G.target.value===""?null:Number(G.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v1Max",className:"block font-medium text-slate-600",children:"V1 Max (€)"}),S.jsx("input",{type:"number",id:"v1Max",value:T??"",onChange:G=>M(G.target.value===""?null:Number(G.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v2Min",className:"block font-medium text-slate-600",children:"V2 Min (€)"}),S.jsx("input",{type:"number",id:"v2Min",value:k??"",onChange:G=>P(G.target.value===""?null:Number(G.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v2Max",className:"block font-medium text-slate-600",children:"V2 Max (€)"}),S.jsx("input",{type:"number",id:"v2Max",value:I??"",onChange:G=>J(G.target.value===""?null:Number(G.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("button",{onClick:de,className:"px-3 py-1.5 btn-secondary-base text-xs flex items-center justify-center h-[30px] w-full",children:[" ",S.jsx(Du,{className:"w-3.5 h-3.5 mr-1"})," Zoom Zurücksetzen"]})]}),S.jsx("div",{style:{height:"400px",position:"relative"},children:S.jsx("canvas",{ref:H})})]}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsxs("th",{className:"px-3 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>q("asin"),children:["ASIN",oe("asin")]}),S.jsxs("th",{className:"px-3 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>q("productName"),children:["Produktname",oe("productName")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>q("etv"),children:["ETV (€)",oe("etv")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>q("keepaValue"),children:["Keepa (€)",oe("keepaValue")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>q("teilwertV1"),children:["Teilwert v1 (€)",oe("teilwertV1")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>q("teilwertV2"),children:["Teilwert v2 (€)",oe("teilwertV2")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>q("diffV2V1"),children:["Differenz (v2-v1) (€)",oe("diffV2V1")]})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ie.map(G=>{var pe,j,me,D;const te=G.teilwertV2!==void 0&&G.teilwertV1!==void 0?G.teilwertV2-G.teilwertV1:void 0;let ae="text-slate-500";return te!==void 0&&(te>.005?ae="text-green-600 font-semibold":te<-.005?ae="text-red-600 font-semibold":ae="text-slate-700"),S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap",children:S.jsx(xa,{to:`/product/${G.asin}`,className:"text-sky-600 hover:underline",children:G.asin})}),S.jsx("td",{className:"px-3 py-1.5 text-slate-600 max-w-xs truncate",title:G.productName,children:G.productName||"N/A"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-slate-500",children:((pe=G.etv)==null?void 0:pe.toFixed(2))??"-"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-teal-600",children:((j=G.keepaValue)==null?void 0:j.toFixed(2))??"-"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-slate-700 font-medium",children:((me=G.teilwertV1)==null?void 0:me.toFixed(2))??"-"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-emerald-600 font-medium",children:((D=G.teilwertV2)==null?void 0:D.toFixed(2))??"-"}),S.jsx("td",{className:`px-3 py-1.5 text-right ${ae}`,children:(te==null?void 0:te.toFixed(2))??"-"})]},G.asin)})})]})}),U.length===0&&!X&&S.jsx("p",{className:"text-center text-slate-500 py-4",children:"Keine Daten für Vergleich (ggf. keine Produkte mit ETV gr. 0)."}),ne>1&&S.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[S.jsxs("button",{onClick:()=>h(G=>Math.max(1,G-1)),disabled:f===1,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:[S.jsx(Mc,{className:"w-3 h-3 mr-1"})," Vorherige"]}),S.jsxs("span",{className:"text-xs text-slate-600",children:["Seite ",f," von ",ne]}),S.jsxs("button",{onClick:()=>h(G=>Math.min(ne,G+1)),disabled:f===ne,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:["Nächste ",S.jsx(Gh,{className:"w-3 h-3 ml-1"})]})]})]})},S9=()=>{const{v2ProductErrors:n,isLoadingErrors:e,errorsFetchError:t,fetchV2ProcessErrors:i}=Uc(),[r,s]=re.useState(1);re.useEffect(()=>{i()},[i]);const o=Math.ceil(n.length/ba),u=re.useMemo(()=>{const c=(r-1)*ba;return n.slice(c,c+ba)},[n,r]);return e?S.jsx("div",{className:"p-6",children:S.jsx(Ki,{text:"Lade Prozessfehler..."})}):t?S.jsxs("div",{className:"p-6 bg-red-100 text-red-700 rounded-md",children:["Fehler beim Laden der Prozessfehler: ",t]}):S.jsxs("div",{className:"p-6 bg-white rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200 space-y-4",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"V2 Prozessfehler"}),S.jsxs("button",{onClick:i,className:"px-3 py-2 text-sm btn-secondary-base w-auto flex items-center",disabled:e,children:[S.jsx(Du,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`})," Aktualisieren"]})]}),n.length===0?S.jsx("p",{className:"text-center text-slate-500 py-4",children:"Keine Prozessfehler gefunden. Alles scheint in Ordnung!"}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Produkt (ASIN)"}),S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Fehlertyp"}),S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Nachricht"}),S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Zeitstempel"})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(c=>Object.entries(c.errors).map(([f,h])=>S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap",children:S.jsxs(xa,{to:`/product/${c.asin}`,className:"text-sky-600 hover:underline",children:[c.productName," (",c.asin,")"]})}),S.jsx("td",{className:"px-3 py-1.5 text-orange-600 font-medium",children:h.type}),S.jsx("td",{className:"px-3 py-1.5 text-slate-600 max-w-md",title:h.message,children:h.message}),S.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap text-slate-500",children:new Date(h.timestamp).toLocaleString()})]},`${c.asin}-${f}`)))})]})}),o>1&&S.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[S.jsxs("button",{onClick:()=>s(c=>Math.max(1,c-1)),disabled:r===1,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:[S.jsx(Mc,{className:"w-3 h-3 mr-1"})," Vorherige"]}),S.jsxs("span",{className:"text-xs text-slate-600",children:["Seite ",r," von ",o]}),S.jsxs("button",{onClick:()=>s(c=>Math.min(o,c+1)),disabled:r===o,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:["Nächste ",S.jsx(Gh,{className:"w-3 h-3 ml-1"})]})]})]})]})},A9=()=>{const{isConfigSet:n,v2ApiToken:e}=ju(),{fetchV2Statuses:t,isLoading:i,isInitializing:r,isBatchProcessing:s,isBatchEstimatingTeilwert:o}=Uc(),[u,c]=re.useState("overview"),f=s||o;return S.jsxs("div",{className:"space-y-6",children:[S.jsx("header",{className:"bg-white p-6 rounded-xl shadow-lg",children:S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[S.jsx(NS,{className:"w-8 h-8 mr-3 text-sky-600"}),"V2 Prozess Dashboard"]}),S.jsx("div",{className:"flex items-center space-x-3",children:S.jsxs("button",{onClick:()=>t(!0),disabled:i||r||f,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 disabled:opacity-70 flex items-center",children:[S.jsx(Du,{className:`w-4 h-4 mr-2 ${i||r||f?"animate-spin":""}`}),"V2 Daten Aktualisieren"]})})]})}),S.jsx("div",{className:"border-b border-gray-200",children:S.jsxs("nav",{className:"-mb-px flex space-x-1 sm:space-x-2 md:space-x-4 overflow-x-auto","aria-label":"Tabs",children:[S.jsx(bg,{isActive:u==="overview",onClick:()=>c("overview"),icon:S.jsx(O2,{className:"w-5 h-5"}),label:"Übersicht & Batch"}),S.jsx(bg,{isActive:u==="ebaySearchTerms",onClick:()=>c("ebaySearchTerms"),icon:S.jsx($D,{className:"w-5 h-5"}),label:"eBay Suchbegriffe"}),S.jsx(bg,{isActive:u==="teilwertComparison",onClick:()=>c("teilwertComparison"),icon:S.jsx(ES,{className:"w-5 h-5"}),label:"Teilwertvergleich"}),S.jsx(bg,{isActive:u==="processErrors",onClick:()=>c("processErrors"),icon:S.jsx(n7,{className:"w-5 h-5"}),label:"V2 Prozessfehler"})]})}),u==="overview"&&S.jsx(b9,{}),u==="ebaySearchTerms"&&S.jsx(w9,{}),u==="teilwertComparison"&&S.jsx(_9,{}),u==="processErrors"&&S.jsx(S9,{})]})},T9=()=>{const{saveConfig:n,isLoadingConfig:e,isConfigSet:t,...i}=ju(),[r,s]=re.useState(""),[o,u]=re.useState(""),[c,f]=re.useState(""),[h,y]=re.useState(""),[b,x]=re.useState(""),[N,T]=re.useState(null),[M,k]=re.useState(!1);re.useEffect(()=>{i.v2ApiToken&&s(i.v2ApiToken),i.oracleWriteParUrl&&u(i.oracleWriteParUrl),i.geminiApiKey&&f(i.geminiApiKey),i.externalProductSourceUrl&&y(i.externalProductSourceUrl)},[i.v2ApiToken,i.oracleWriteParUrl,i.geminiApiKey,i.externalProductSourceUrl]);const P=async H=>{if(H.preventDefault(),T(null),!r||!o||!c||!h){T("Alle vier Felder müssen ausgefüllt werden.");return}k(!0);try{await new Promise(K=>setTimeout(K,200)),n({v2ApiToken:r.trim(),oracleWriteParUrl:o.trim(),geminiApiKey:c.trim(),externalProductSourceUrl:h.trim()})}catch(K){T(K.message||"Fehler beim Speichern der Konfiguration.")}finally{k(!1)}},I=async H=>{if(H.preventDefault(),T(null),!b.trim()){T("Express Login Feld darf nicht leer sein.");return}const K=b.trim().split("|");if(K.length!==4){T("Ungültiges Express Login Format. Erwartet 4 Teile, getrennt durch '|'. Reihenfolge: V2 Token | Oracle PUT URL | Gemini API Key | Produktdatenbank URL");return}k(!0);try{await new Promise(X=>setTimeout(X,200)),n({v2ApiToken:K[0].trim(),oracleWriteParUrl:K[1].trim(),geminiApiKey:K[2].trim(),externalProductSourceUrl:K[3].trim()})}catch(X){T(X.message||"Fehler beim Speichern der Konfiguration via Express Login.")}finally{k(!1)}},J=H=>K=>{H(K.target.value),N&&T(null)};return e?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100",children:S.jsx(Ki,{text:"Lade Konfiguration..."})}):S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-100 to-sky-100 p-4 pt-10 sm:pt-12",children:[S.jsxs("div",{className:"w-full max-w-lg bg-white shadow-2xl rounded-xl p-6 sm:p-8 space-y-6 border border-slate-200",children:[S.jsxs("div",{className:"text-center",children:[S.jsx(AS,{className:"w-16 h-16 text-sky-600 mx-auto mb-4"}),S.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Anwendungskonfiguration"}),S.jsx("p",{className:"text-slate-600 mt-2 text-sm sm:text-base",children:"Bitte geben Sie die erforderlichen Konfigurationswerte ein. Diese werden lokal in Ihrem Browser gespeichert."})]}),N&&S.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 p-4 rounded-md text-sm flex items-start",role:"alert",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2.5 flex-shrink-0 mt-0.5"}),S.jsxs("div",{children:[S.jsx("p",{className:"font-semibold",children:"Konfigurationsfehler"}),S.jsx("p",{children:N})]})]}),S.jsxs("form",{onSubmit:I,className:"space-y-4 border-b border-slate-300 pb-6 mb-6",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center mb-1",children:[S.jsx(YD,{className:"w-5 h-5 mr-2 text-sky-500"})," Express Login"]}),S.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Fügen Sie hier den kombinierten Konfigurationsstring ein (getrennt durch '|'). Reihenfolge: V2 Token | Oracle PUT URL | Gemini Key | Produktdatenbank URL."}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"expressLogin",className:"sr-only",children:"Express Login String"}),S.jsx("input",{id:"expressLogin",type:"password",value:b,onChange:J(x),placeholder:"V2Token|OracleURL|GeminiKey|ProductDBURL",className:"form-input-base text-slate-900"})]}),S.jsxs("button",{type:"submit",disabled:M,className:"btn-primary-base bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",children:[M?S.jsx(Ki,{size:"sm",className:"mr-2"}):S.jsx(Zs,{className:"w-5 h-5 mr-2"}),"Express Konfiguration Übernehmen"]})]}),S.jsxs("form",{onSubmit:P,className:"space-y-4",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center mb-1",children:[S.jsx(TS,{className:"w-5 h-5 mr-2 text-sky-500"})," Individuelle Eingabe"]}),S.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Oder geben Sie jeden Wert einzeln ein."}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v2Token",className:"form-label-base",children:"V2 Backend API Token"}),S.jsx("input",{id:"v2Token",type:"password",value:r,onChange:J(s),placeholder:"Ihr V2 API-Token",className:"form-input-base text-slate-900"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"oracleUrl",className:"form-label-base",children:"Oracle Cloud PUT PAR URL (für PDF Upload)"}),S.jsx("input",{id:"oracleUrl",type:"password",value:o,onChange:J(u),placeholder:"Oracle PUT PAR URL",className:"form-input-base text-slate-900"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"geminiKey",className:"form-label-base",children:"Google Gemini API Key"}),S.jsx("input",{id:"geminiKey",type:"password",value:c,onChange:J(f),placeholder:"Ihr Gemini API Key",className:"form-input-base text-slate-900"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"productSourceUrl",className:"form-label-base",children:"Produktdatenbank URL"}),S.jsx("input",{id:"productSourceUrl",type:"password",value:h,onChange:J(y),placeholder:"URL zur Produktdatenbank",className:"form-input-base text-slate-900"})]}),S.jsxs("button",{type:"submit",disabled:M,className:"btn-primary-base",children:[M?S.jsx(Ki,{size:"sm",className:"mr-2"}):S.jsx(Zs,{className:"w-5 h-5 mr-2"}),"Konfiguration Speichern"]})]})]}),S.jsxs("footer",{className:"text-center text-sm text-slate-600 mt-6 pb-6",children:["© ",new Date().getFullYear()," Teilwertschätzung Pro."]})]})},C9=()=>{const{isConfigSet:n,clearConfig:e}=ju();return S.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50",children:[S.jsx("header",{className:"bg-gradient-to-r from-sky-700 to-sky-900 text-white shadow-lg sticky top-0 z-50",children:S.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"flex items-center justify-between h-16",children:[S.jsx(xa,{to:"/",className:"text-2xl font-bold tracking-tight hover:opacity-80 transition-opacity",children:"Teilwert-Analyse"}),S.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:n&&S.jsxs(S.Fragment,{children:[S.jsxs("nav",{className:"flex space-x-1 sm:space-x-2",children:[S.jsx(y1,{to:"/",icon:S.jsx(KD,{className:"w-5 h-5 mr-0 sm:mr-1"}),label:"Dashboard"}),S.jsx(y1,{to:"/statistics",icon:S.jsx(I2,{className:"w-5 h-5 mr-0 sm:mr-1"}),label:"Statistiken"}),S.jsx(y1,{to:"/v2-dashboard",icon:S.jsx(NS,{className:"w-5 h-5 mr-0 sm:mr-1"}),label:"V2 Dashboard"})]}),S.jsxs("button",{onClick:e,className:"flex items-center px-2 py-1.5 sm:px-3 sm:py-2 rounded-md text-xs sm:text-sm font-medium text-sky-100 bg-sky-800 hover:bg-red-600 hover:text-white transition-colors",title:"Konfiguration zurücksetzen und neu anmelden","aria-label":"Ausloggen und Konfiguration zurücksetzen",children:[S.jsx(TS,{className:"w-4 h-4 mr-0 sm:mr-1"}),S.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})})]})})}),S.jsx("main",{className:"flex-grow container mx-auto p-4 sm:p-6 lg:p-8",children:S.jsxs(F3,{children:[S.jsx(Sc,{path:"/",element:S.jsx(u7,{})}),S.jsx(Sc,{path:"/product/:productId",element:S.jsx(d7,{})}),S.jsx(Sc,{path:"/statistics",element:S.jsx(h7,{})}),S.jsx(Sc,{path:"/v2-dashboard",element:S.jsx(A9,{})}),S.jsx(Sc,{path:"/status-overview",element:S.jsx(d5,{to:"/v2-dashboard",replace:!0})}),S.jsx(Sc,{path:"*",element:S.jsx(d5,{to:"/",replace:!0})})]})}),S.jsxs("footer",{className:"bg-slate-800 text-slate-300 text-center p-4 text-sm",children:["© ",new Date().getFullYear()," Teilwert-Analyse. Alle Rechte vorbehalten."]})]})},N9=()=>{const{isConfigSet:n,isLoadingConfig:e}=ju();return e?S.jsx("div",{className:"flex justify-center items-center min-h-screen"}):n?S.jsx(C9,{}):S.jsx(T9,{})},E9=()=>S.jsx(tR,{children:S.jsx(nR,{children:S.jsx(WD,{children:S.jsx(oC,{children:S.jsx(N9,{})})})})}),y1=({to:n,icon:e,label:t})=>S.jsxs(xa,{to:n,className:"flex items-center px-2 py-2 sm:px-3 rounded-md text-sm font-medium text-sky-100 hover:bg-sky-700 hover:text-white transition-colors","aria-label":t,children:[e,S.jsx("span",{className:"hidden sm:inline",children:t})]}),kA=document.getElementById("root");if(!kA)throw new Error("Could not find root element to mount to");const k9=GT.createRoot(kA);k9.render(S.jsx(FT.StrictMode,{children:S.jsx(E9,{})}));export{ei as _,L9 as c,Yw as g};
