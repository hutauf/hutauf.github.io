var PT=Object.defineProperty;var RT=(n,e,t)=>e in n?PT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ct=(n,e,t)=>RT(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var L9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var E0={exports:{}},Jd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function DT(){if(Yv)return Jd;Yv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Jd.Fragment=e,Jd.jsx=t,Jd.jsxs=t,Jd}var $v;function IT(){return $v||($v=1,E0.exports=DT()),E0.exports}var S=IT(),k0={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function OT(){if(Jv)return pn;Jv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,T={};function M(D,ye,R){this.props=D,this.context=ye,this.refs=T,this.updater=R||x}M.prototype.isReactComponent={},M.prototype.setState=function(D,ye){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ye,"setState")},M.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=M.prototype;function P(D,ye,R){this.props=D,this.context=ye,this.refs=T,this.updater=R||x}var O=P.prototype=new k;O.constructor=P,N(O,M.prototype),O.isPureReactComponent=!0;var $=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function Q(D,ye,R,W,j,re){return R=re.ref,{$$typeof:n,type:D,key:ye,ref:R!==void 0?R:null,props:re}}function V(D,ye){return Q(D.type,ye,void 0,void 0,void 0,D.props)}function X(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function le(D){var ye={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(R){return ye[R]})}var z=/\/+/g;function G(D,ye){return typeof D=="object"&&D!==null&&D.key!=null?le(""+D.key):ye.toString(36)}function fe(){}function ae(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(fe,fe):(D.status="pending",D.then(function(ye){D.status==="pending"&&(D.status="fulfilled",D.value=ye)},function(ye){D.status==="pending"&&(D.status="rejected",D.reason=ye)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function me(D,ye,R,W,j){var re=typeof D;(re==="undefined"||re==="boolean")&&(D=null);var se=!1;if(D===null)se=!0;else switch(re){case"bigint":case"string":case"number":se=!0;break;case"object":switch(D.$$typeof){case n:case e:se=!0;break;case h:return se=D._init,me(se(D._payload),ye,R,W,j)}}if(se)return j=j(D),se=W===""?"."+G(D,0):W,$(j)?(R="",se!=null&&(R=se.replace(z,"$&/")+"/"),me(j,ye,R,"",function(Te){return Te})):j!=null&&(X(j)&&(j=V(j,R+(j.key==null||D&&D.key===j.key?"":(""+j.key).replace(z,"$&/")+"/")+se)),ye.push(j)),1;se=0;var xe=W===""?".":W+":";if($(D))for(var pe=0;pe<D.length;pe++)W=D[pe],re=xe+G(W,pe),se+=me(W,ye,R,re,j);else if(pe=b(D),typeof pe=="function")for(D=pe.call(D),pe=0;!(W=D.next()).done;)W=W.value,re=xe+G(W,pe++),se+=me(W,ye,R,re,j);else if(re==="object"){if(typeof D.then=="function")return me(ae(D),ye,R,W,j);throw ye=String(D),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return se}function te(D,ye,R){if(D==null)return D;var W=[],j=0;return me(D,W,"","",function(re){return ye.call(R,re,j++)}),W}function ce(D){if(D._status===-1){var ye=D._result;ye=ye(),ye.then(function(R){(D._status===0||D._status===-1)&&(D._status=1,D._result=R)},function(R){(D._status===0||D._status===-1)&&(D._status=2,D._result=R)}),D._status===-1&&(D._status=0,D._result=ye)}if(D._status===1)return D._result.default;throw D._result}var ne=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function de(){}return pn.Children={map:te,forEach:function(D,ye,R){te(D,function(){ye.apply(this,arguments)},R)},count:function(D){var ye=0;return te(D,function(){ye++}),ye},toArray:function(D){return te(D,function(ye){return ye})||[]},only:function(D){if(!X(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},pn.Component=M,pn.Fragment=t,pn.Profiler=r,pn.PureComponent=P,pn.StrictMode=i,pn.Suspense=c,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,pn.__COMPILER_RUNTIME={__proto__:null,c:function(D){return q.H.useMemoCache(D)}},pn.cache=function(D){return function(){return D.apply(null,arguments)}},pn.cloneElement=function(D,ye,R){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=N({},D.props),j=D.key,re=void 0;if(ye!=null)for(se in ye.ref!==void 0&&(re=void 0),ye.key!==void 0&&(j=""+ye.key),ye)!Z.call(ye,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&ye.ref===void 0||(W[se]=ye[se]);var se=arguments.length-2;if(se===1)W.children=R;else if(1<se){for(var xe=Array(se),pe=0;pe<se;pe++)xe[pe]=arguments[pe+2];W.children=xe}return Q(D.type,j,void 0,void 0,re,W)},pn.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:s,_context:D},D},pn.createElement=function(D,ye,R){var W,j={},re=null;if(ye!=null)for(W in ye.key!==void 0&&(re=""+ye.key),ye)Z.call(ye,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(j[W]=ye[W]);var se=arguments.length-2;if(se===1)j.children=R;else if(1<se){for(var xe=Array(se),pe=0;pe<se;pe++)xe[pe]=arguments[pe+2];j.children=xe}if(D&&D.defaultProps)for(W in se=D.defaultProps,se)j[W]===void 0&&(j[W]=se[W]);return Q(D,re,void 0,void 0,null,j)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(D){return{$$typeof:u,render:D}},pn.isValidElement=X,pn.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:ce}},pn.memo=function(D,ye){return{$$typeof:f,type:D,compare:ye===void 0?null:ye}},pn.startTransition=function(D){var ye=q.T,R={};q.T=R;try{var W=D(),j=q.S;j!==null&&j(R,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(de,ne)}catch(re){ne(re)}finally{q.T=ye}},pn.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},pn.use=function(D){return q.H.use(D)},pn.useActionState=function(D,ye,R){return q.H.useActionState(D,ye,R)},pn.useCallback=function(D,ye){return q.H.useCallback(D,ye)},pn.useContext=function(D){return q.H.useContext(D)},pn.useDebugValue=function(){},pn.useDeferredValue=function(D,ye){return q.H.useDeferredValue(D,ye)},pn.useEffect=function(D,ye,R){var W=q.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(D,ye)},pn.useId=function(){return q.H.useId()},pn.useImperativeHandle=function(D,ye,R){return q.H.useImperativeHandle(D,ye,R)},pn.useInsertionEffect=function(D,ye){return q.H.useInsertionEffect(D,ye)},pn.useLayoutEffect=function(D,ye){return q.H.useLayoutEffect(D,ye)},pn.useMemo=function(D,ye){return q.H.useMemo(D,ye)},pn.useOptimistic=function(D,ye){return q.H.useOptimistic(D,ye)},pn.useReducer=function(D,ye,R){return q.H.useReducer(D,ye,R)},pn.useRef=function(D){return q.H.useRef(D)},pn.useState=function(D){return q.H.useState(D)},pn.useSyncExternalStore=function(D,ye,R){return q.H.useSyncExternalStore(D,ye,R)},pn.useTransition=function(){return q.H.useTransition()},pn.version="19.1.0",pn}var Zv;function p2(){return Zv||(Zv=1,k0.exports=OT()),k0.exports}var ee=p2();const FT=Yw(ee);var M0={exports:{}},Zd={},L0={exports:{}},P0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function BT(){return Xv||(Xv=1,function(n){function e(te,ce){var ne=te.length;te.push(ce);e:for(;0<ne;){var de=ne-1>>>1,D=te[de];if(0<r(D,ce))te[de]=ce,te[ne]=D,ne=de;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ce=te[0],ne=te.pop();if(ne!==ce){te[0]=ne;e:for(var de=0,D=te.length,ye=D>>>1;de<ye;){var R=2*(de+1)-1,W=te[R],j=R+1,re=te[j];if(0>r(W,ne))j<D&&0>r(re,W)?(te[de]=re,te[j]=ne,de=j):(te[de]=W,te[R]=ne,de=R);else if(j<D&&0>r(re,ne))te[de]=re,te[j]=ne,de=j;else break e}}return ce}function r(te,ce){var ne=te.sortIndex-ce.sortIndex;return ne!==0?ne:te.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var c=[],f=[],h=1,y=null,b=3,x=!1,N=!1,T=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function $(te){for(var ce=t(f);ce!==null;){if(ce.callback===null)i(f);else if(ce.startTime<=te)i(f),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=t(f)}}function q(te){if(T=!1,$(te),!N)if(t(c)!==null)N=!0,Z||(Z=!0,G());else{var ce=t(f);ce!==null&&me(q,ce.startTime-te)}}var Z=!1,Q=-1,V=5,X=-1;function le(){return M?!0:!(n.unstable_now()-X<V)}function z(){if(M=!1,Z){var te=n.unstable_now();X=te;var ce=!0;try{e:{N=!1,T&&(T=!1,P(Q),Q=-1),x=!0;var ne=b;try{t:{for($(te),y=t(c);y!==null&&!(y.expirationTime>te&&le());){var de=y.callback;if(typeof de=="function"){y.callback=null,b=y.priorityLevel;var D=de(y.expirationTime<=te);if(te=n.unstable_now(),typeof D=="function"){y.callback=D,$(te),ce=!0;break t}y===t(c)&&i(c),$(te)}else i(c);y=t(c)}if(y!==null)ce=!0;else{var ye=t(f);ye!==null&&me(q,ye.startTime-te),ce=!1}}break e}finally{y=null,b=ne,x=!1}ce=void 0}}finally{ce?G():Z=!1}}}var G;if(typeof O=="function")G=function(){O(z)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ae=fe.port2;fe.port1.onmessage=z,G=function(){ae.postMessage(null)}}else G=function(){k(z,0)};function me(te,ce){Q=k(function(){te(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(te){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var ne=b;b=ce;try{return te()}finally{b=ne}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ne=b;b=te;try{return ce()}finally{b=ne}},n.unstable_scheduleCallback=function(te,ce,ne){var de=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?de+ne:de):ne=de,te){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ne+D,te={id:h++,callback:ce,priorityLevel:te,startTime:ne,expirationTime:D,sortIndex:-1},ne>de?(te.sortIndex=ne,e(f,te),t(c)===null&&te===t(f)&&(T?(P(Q),Q=-1):T=!0,me(q,ne-de))):(te.sortIndex=D,e(c,te),N||x||(N=!0,Z||(Z=!0,G()))),te},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(te){var ce=b;return function(){var ne=b;b=ce;try{return te.apply(this,arguments)}finally{b=ne}}}}(P0)),P0}var Qv;function zT(){return Qv||(Qv=1,L0.exports=BT()),L0.exports}var R0={exports:{}},ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e5;function jT(){if(e5)return ms;e5=1;var n=p2();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,f,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:c,containerInfo:f,implementation:h}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ms.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,h)},ms.flushSync=function(c){var f=o.T,h=i.p;try{if(o.T=null,i.p=2,c)return c()}finally{o.T=f,i.p=h,i.d.f()}},ms.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},ms.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},ms.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,y=u(h,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):h==="script"&&i.d.X(c,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ms.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},ms.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,y=u(h,f.crossOrigin);i.d.L(c,h,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ms.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},ms.requestFormReset=function(c){i.d.r(c)},ms.unstable_batchedUpdates=function(c,f){return c(f)},ms.useFormState=function(c,f,h){return o.H.useFormState(c,f,h)},ms.useFormStatus=function(){return o.H.useHostTransitionStatus()},ms.version="19.1.0",ms}var t5;function UT(){if(t5)return R0.exports;t5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),R0.exports=jT(),R0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n5;function VT(){if(n5)return Zd;n5=1;var n=zT(),e=p2(),t=UT();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function c(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var d=a,p=l;;){var w=d.return;if(w===null)break;var A=w.alternate;if(A===null){if(p=w.return,p!==null){d=p;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===d)return u(w),a;if(A===p)return u(w),l;A=A.sibling}throw Error(i(188))}if(d.return!==p.return)d=w,p=A;else{for(var I=!1,Y=w.child;Y;){if(Y===d){I=!0,d=w,p=A;break}if(Y===p){I=!0,p=w,d=A;break}Y=Y.sibling}if(!I){for(Y=A.child;Y;){if(Y===d){I=!0,d=A,p=w;break}if(Y===p){I=!0,p=A,d=w;break}Y=Y.sibling}if(!I)throw Error(i(189))}}if(d.alternate!==p)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),O=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var fe=Symbol.for("react.client.reference");function ae(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===fe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case M:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case Z:return"SuspenseList";case X:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case O:return(a.displayName||"Context")+".Provider";case P:return(a._context.displayName||"Context")+".Consumer";case $:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Q:return l=a.displayName||null,l!==null?l:ae(a.type)||"Memo";case V:l=a._payload,a=a._init;try{return ae(a(l))}catch{}}return null}var me=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},de=[],D=-1;function ye(a){return{current:a}}function R(a){0>D||(a.current=de[D],de[D]=null,D--)}function W(a,l){D++,de[D]=a.current,a.current=l}var j=ye(null),re=ye(null),se=ye(null),xe=ye(null);function pe(a,l){switch(W(se,l),W(re,a),W(j,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?_v(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=_v(l),a=Sv(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}R(j),W(j,a)}function Te(){R(j),R(re),R(se)}function $e(a){a.memoizedState!==null&&W(xe,a);var l=j.current,d=Sv(l,a.type);l!==d&&(W(re,a),W(j,d))}function Ye(a){re.current===a&&(R(j),R(re)),xe.current===a&&(R(xe),Gd._currentValue=ne)}var et=Object.prototype.hasOwnProperty,tt=n.unstable_scheduleCallback,xt=n.unstable_cancelCallback,Fe=n.unstable_shouldYield,ue=n.unstable_requestPaint,bt=n.unstable_now,nt=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,it=n.unstable_UserBlockingPriority,rt=n.unstable_NormalPriority,je=n.unstable_LowPriority,ot=n.unstable_IdlePriority,Et=n.log,$t=n.unstable_setDisableYieldValue,It=null,Ot=null;function Rt(a){if(typeof Et=="function"&&$t(a),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(It,a)}catch{}}var vt=Math.clz32?Math.clz32:Vt,Ht=Math.log,Ke=Math.LN2;function Vt(a){return a>>>=0,a===0?32:31-(Ht(a)/Ke|0)|0}var Pt=256,hi=4194304;function tn(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function gn(a,l,d){var p=a.pendingLanes;if(p===0)return 0;var w=0,A=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var Y=p&134217727;return Y!==0?(p=Y&~A,p!==0?w=tn(p):(I&=Y,I!==0?w=tn(I):d||(d=Y&~a,d!==0&&(w=tn(d))))):(Y=p&~A,Y!==0?w=tn(Y):I!==0?w=tn(I):d||(d=p&~a,d!==0&&(w=tn(d)))),w===0?0:l!==0&&l!==w&&(l&A)===0&&(A=w&-w,d=l&-l,A>=d||A===32&&(d&4194048)!==0)?l:w}function Li(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Gt(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function As(){var a=Pt;return Pt<<=1,(Pt&4194048)===0&&(Pt=256),a}function ei(){var a=hi;return hi<<=1,(hi&62914560)===0&&(hi=4194304),a}function vr(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function bi(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ni(a,l,d,p,w,A){var I=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var Y=a.entanglements,he=a.expirationTimes,Pe=a.hiddenUpdates;for(d=I&~d;0<d;){var Ue=31-vt(d),We=1<<Ue;Y[Ue]=0,he[Ue]=-1;var De=Pe[Ue];if(De!==null)for(Pe[Ue]=null,Ue=0;Ue<De.length;Ue++){var Ie=De[Ue];Ie!==null&&(Ie.lane&=-536870913)}d&=~We}p!==0&&Ft(a,p,0),A!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=A&~(I&~l))}function Ft(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-vt(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|d&4194090}function bn(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var p=31-vt(d),w=1<<p;w&l|a[p]&l&&(a[p]|=l),d&=~w}}function or(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function wi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Pi(){var a=ce.p;return a!==0?a:(a=window.event,a===void 0?32:Vv(a.type))}function Xr(a,l){var d=ce.p;try{return ce.p=a,l()}finally{ce.p=d}}var at=Math.random().toString(36).slice(2),yn="__reactFiber$"+at,Gn="__reactProps$"+at,_i="__reactContainer$"+at,On="__reactEvents$"+at,pi="__reactListeners$"+at,Si="__reactHandles$"+at,Rs="__reactResources$"+at,li="__reactMarker$"+at;function xr(a){delete a[yn],delete a[Gn],delete a[On],delete a[pi],delete a[Si]}function Ri(a){var l=a[yn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[_i]||d[yn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=Nv(a);a!==null;){if(d=a[yn])return d;a=Nv(a)}return l}a=d,d=a.parentNode}return null}function lr(a){if(a=a[yn]||a[_i]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function ur(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function Xi(a){var l=a[Rs];return l||(l=a[Rs]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ln(a){a[li]=!0}var Ds=new Set,Is={};function qi(a,l){cr(a,l),cr(a+"Capture",l)}function cr(a,l){for(Is[a]=l,a=0;a<l.length;a++)Ds.add(l[a])}var Hr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ui={},Ts={};function Os(a){return et.call(Ts,a)?!0:et.call(ui,a)?!1:Hr.test(a)?Ts[a]=!0:(ui[a]=!0,!1)}function Pr(a,l,d){if(Os(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function ls(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function jr(a,l,d,p){if(p===null)a.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+p)}}var Fs,Fa;function Qr(a){if(Fs===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Fs=l&&l[1]||"",Fa=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+a+Fa}var Js=!1;function ht(a,l){if(!a||Js)return"";Js=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Ie){var De=Ie}Reflect.construct(a,[],We)}else{try{We.call()}catch(Ie){De=Ie}a.call(We.prototype)}}else{try{throw Error()}catch(Ie){De=Ie}(We=a())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Ie){if(Ie&&De&&typeof Ie.stack=="string")return[Ie.stack,De.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=p.DetermineComponentFrameRoot(),I=A[0],Y=A[1];if(I&&Y){var he=I.split(`
`),Pe=Y.split(`
`);for(w=p=0;p<he.length&&!he[p].includes("DetermineComponentFrameRoot");)p++;for(;w<Pe.length&&!Pe[w].includes("DetermineComponentFrameRoot");)w++;if(p===he.length||w===Pe.length)for(p=he.length-1,w=Pe.length-1;1<=p&&0<=w&&he[p]!==Pe[w];)w--;for(;1<=p&&0<=w;p--,w--)if(he[p]!==Pe[w]){if(p!==1||w!==1)do if(p--,w--,0>w||he[p]!==Pe[w]){var Ue=`
`+he[p].replace(" at new "," at ");return a.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",a.displayName)),Ue}while(1<=p&&0<=w);break}}}finally{Js=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Qr(d):""}function yt(a){switch(a.tag){case 26:case 27:case 5:return Qr(a.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 15:return ht(a.type,!1);case 11:return ht(a.type.render,!1);case 1:return ht(a.type,!0);case 31:return Qr("Activity");default:return""}}function Bt(a){try{var l="";do l+=yt(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function pt(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function mi(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function un(a){var l=mi(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),p=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,A=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return w.call(this)},set:function(I){p=""+I,A.call(this,I)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function cn(a){a._valueTracker||(a._valueTracker=un(a))}function es(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return a&&(p=mi(a)?a.checked?"true":"false":a.value),a=p,a!==d?(l.setValue(a),!0):!1}function Qi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var br=/[\n"\\]/g;function Pn(a){return a.replace(br,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function wr(a,l,d,p,w,A,I,Y){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),l!=null?I==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+pt(l)):a.value!==""+pt(l)&&(a.value=""+pt(l)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),l!=null?Ai(a,I,pt(l)):d!=null?Ai(a,I,pt(d)):p!=null&&a.removeAttribute("value"),w==null&&A!=null&&(a.defaultChecked=!!A),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?a.name=""+pt(Y):a.removeAttribute("name")}function Sn(a,l,d,p,w,A,I,Y){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),l!=null||d!=null){if(!(A!=="submit"&&A!=="reset"||l!=null))return;d=d!=null?""+pt(d):"",l=l!=null?""+pt(l):d,Y||l===a.value||(a.value=l),a.defaultValue=l}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=Y?a.checked:!!p,a.defaultChecked=!!p,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I)}function Ai(a,l,d){l==="number"&&Qi(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Di(a,l,d,p){if(a=a.options,l){l={};for(var w=0;w<d.length;w++)l["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=l.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&p&&(a[d].defaultSelected=!0)}else{for(d=""+pt(d),l=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,p&&(a[w].defaultSelected=!0);return}l!==null||a[w].disabled||(l=a[w])}l!==null&&(l.selected=!0)}}function Ti(a,l,d){if(l!=null&&(l=""+pt(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+pt(d):""}function go(a,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(i(92));if(me(p)){if(1<p.length)throw Error(i(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=pt(l),a.defaultValue=d,p=a.textContent,p===d&&p!==""&&p!==null&&(a.value=p)}function Zs(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ql(a,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,d):typeof d!="number"||d===0||Ba.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Hl(a,l,d){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var w in l)p=l[w],l.hasOwnProperty(w)&&d[w]!==p&&ql(a,w,p)}else for(var A in l)l.hasOwnProperty(A)&&ql(a,A,l[A])}function nl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(a){return yo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var _e=null;function Ne(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Xe=null,Ze=null;function Re(a){var l=lr(a);if(l&&(a=l.stateNode)){var d=a[Gn]||null;e:switch(a=l.stateNode,l.type){case"input":if(wr(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Pn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==a&&p.form===a.form){var w=p[Gn]||null;if(!w)throw Error(i(90));wr(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===a.form&&es(p)}break e;case"textarea":Ti(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Di(a,!!d.multiple,l,!1)}}}var ft=!1;function zt(a,l,d){if(ft)return a(l,d);ft=!0;try{var p=a(l);return p}finally{if(ft=!1,(Xe!==null||Ze!==null)&&(Sp(),Xe&&(l=Xe,a=Ze,Ze=Xe=null,Re(l),a)))for(l=0;l<a.length;l++)Re(a[l])}}function wt(a,l){var d=a.stateNode;if(d===null)return null;var p=d[Gn]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,l,typeof d));return d}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fn=!1;if(_t)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){fn=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{fn=!1}var Bn=null,sn=null,Ut=null;function Wn(){if(Ut)return Ut;var a,l=sn,d=l.length,p,w="value"in Bn?Bn.value:Bn.textContent,A=w.length;for(a=0;a<d&&l[a]===w[a];a++);var I=d-a;for(p=1;p<=I&&l[d-p]===w[A-p];p++);return Ut=w.slice(a,1<p?1-p:void 0)}function gi(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Tn(){return!0}function Dt(){return!1}function St(a){function l(d,p,w,A,I){this._reactName=d,this._targetInst=w,this.type=p,this.nativeEvent=A,this.target=I,this.currentTarget=null;for(var Y in a)a.hasOwnProperty(Y)&&(d=a[Y],this[Y]=d?d(A):A[Y]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Tn:Dt,this.isPropagationStopped=Dt,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Tn)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Tn)},persist:function(){},isPersistent:Tn}),l}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zn=St(Wt),Kn=h({},Wt,{view:0,detail:0}),jn=St(Kn),Ii,Yn,er,Hi=h({},Kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==er&&(er&&a.type==="mousemove"?(Ii=a.screenX-er.screenX,Yn=a.screenY-er.screenY):Yn=Ii=0,er=a),Ii)},movementY:function(a){return"movementY"in a?a.movementY:Yn}}),Cs=St(Hi),Gl=h({},Hi,{dataTransfer:0}),Qs=St(Gl),us=h({},Kn,{relatedTarget:0}),va=St(us),il=h({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),ud=St(il),Wl=h({},Wt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),cd=St(Wl),Yu=h({},Wt,{data:0}),Kl=St(Yu),Yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=$u[a])?!!l[a]:!1}function $l(){return Ju}var fd=h({},Kn,{key:function(a){if(a.key){var l=Yc[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=gi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Yl[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(a){return a.type==="keypress"?gi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?gi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Jl=St(fd),rl=h({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zl=St(rl),vo=h({},Kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),Zu=St(vo),C=h({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=St(C),oe=h({},Hi,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=St(oe),Ee=h({},Wt,{newState:0,oldState:0}),Be=St(Ee),Qe=[9,13,27,32],dt=_t&&"CompositionEvent"in window,Nt=null;_t&&"documentMode"in document&&(Nt=document.documentMode);var an=_t&&"TextEvent"in window&&!Nt,en=_t&&(!dt||Nt&&8<Nt&&11>=Nt),Cn=" ",Ci=!1;function Oi(a,l){switch(a){case"keyup":return Qe.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tr(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var nr=!1;function Rr(a,l){switch(a){case"compositionend":return tr(l);case"keypress":return l.which!==32?null:(Ci=!0,Cn);case"textInput":return a=l.data,a===Cn&&Ci?null:a;default:return null}}function ea(a,l){if(nr)return a==="compositionend"||!dt&&Oi(a,l)?(a=Wn(),Ut=sn=Bn=null,nr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return en&&l.locale!=="ko"?null:l.data;default:return null}}var Ns={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ta(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Ns[a.type]:l==="textarea"}function Xu(a,l,d,p){Xe?Ze?Ze.push(p):Ze=[p]:Xe=p,l=kp(l,"onChange"),0<l.length&&(d=new zn("onChange","change",null,d,p),a.push({event:d,listeners:l}))}var za=null,ja=null;function Xl(a){yv(a,0)}function xo(a){var l=ur(a);if(es(l))return a}function Ql(a,l){if(a==="change")return l}var sl=!1;if(_t){var _r;if(_t){var bo="oninput"in document;if(!bo){var al=document.createElement("div");al.setAttribute("oninput","return;"),bo=typeof al.oninput=="function"}_r=bo}else _r=!1;sl=_r&&(!document.documentMode||9<document.documentMode)}function ol(){za&&(za.detachEvent("onpropertychange",eu),ja=za=null)}function eu(a){if(a.propertyName==="value"&&xo(ja)){var l=[];Xu(l,ja,a,Ne(a)),zt(Xl,l)}}function cs(a,l,d){a==="focusin"?(ol(),za=l,ja=d,za.attachEvent("onpropertychange",eu)):a==="focusout"&&ol()}function dd(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return xo(ja)}function Qu(a,l){if(a==="click")return xo(l)}function $c(a,l){if(a==="input"||a==="change")return xo(l)}function Bs(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Dr=typeof Object.is=="function"?Object.is:Bs;function wo(a,l){if(Dr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var w=d[p];if(!et.call(l,w)||!Dr(a[w],l[w]))return!1}return!0}function ec(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ua(a,l){var d=ec(a);a=0;for(var p;d;){if(d.nodeType===3){if(p=a+d.textContent.length,a<=l&&p>=l)return{node:d,offset:l-a};a=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=ec(d)}}function _o(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?_o(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function ns(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Qi(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Qi(a.document)}return l}function Ur(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var So=_t&&"documentMode"in document&&11>=document.documentMode,fs=null,na=null,xa=null,ia=!1;function Gi(a,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ia||fs==null||fs!==Qi(p)||(p=fs,"selectionStart"in p&&Ur(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),xa&&wo(xa,p)||(xa=p,p=kp(na,"onSelect"),0<p.length&&(l=new zn("onSelect","select",null,l,d),a.push({event:l,listeners:p}),l.target=fs)))}function ra(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var fr={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},ds={},ll={};_t&&(ll=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function ba(a){if(ds[a])return ds[a];if(!fr[a])return a;var l=fr[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in ll)return ds[a]=l[d];return a}var tu=ba("animationend"),Ao=ba("animationiteration"),To=ba("animationstart"),Co=ba("transitionrun"),ul=ba("transitionstart"),nu=ba("transitioncancel"),No=ba("transitionend"),Va=new Map,cl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cl.push("scrollEnd");function Wi(a,l){Va.set(a,l),qi(l,[a])}var Es=new WeakMap;function wn(a,l){if(typeof a=="object"&&a!==null){var d=Es.get(a);return d!==void 0?d:(l={value:a,source:l,stack:Bt(l)},Es.set(a,l),l)}return{value:a,source:l,stack:Bt(l)}}var _n=[],ci=0,ir=0;function zs(){for(var a=ci,l=ir=ci=0;l<a;){var d=_n[l];_n[l++]=null;var p=_n[l];_n[l++]=null;var w=_n[l];_n[l++]=null;var A=_n[l];if(_n[l++]=null,p!==null&&w!==null){var I=p.pending;I===null?w.next=w:(w.next=I.next,I.next=w),p.pending=w}A!==0&&Jc(d,w,A)}}function Eo(a,l,d,p){_n[ci++]=a,_n[ci++]=l,_n[ci++]=d,_n[ci++]=p,ir|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function ko(a,l,d,p){return Eo(a,l,d,p),fl(a)}function qa(a,l){return Eo(a,null,null,l),fl(a)}function Jc(a,l,d){a.lanes|=d;var p=a.alternate;p!==null&&(p.lanes|=d);for(var w=!1,A=a.return;A!==null;)A.childLanes|=d,p=A.alternate,p!==null&&(p.childLanes|=d),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(w=!0)),a=A,A=A.return;return a.tag===3?(A=a.stateNode,w&&l!==null&&(w=31-vt(d),a=A.hiddenUpdates,p=a[w],p===null?a[w]=[l]:p.push(l),l.lane=d|536870912),A):null}function fl(a){if(50<Fd)throw Fd=0,Xg=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Ir={};function js(a,l,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(a,l,d,p){return new js(a,l,d,p)}function iu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function wa(a,l){var d=a.alternate;return d===null?(d=Gr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function tc(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function dl(a,l,d,p,w,A){var I=0;if(p=a,typeof a=="function")iu(a)&&(I=1);else if(typeof a=="string")I=xT(a,d,j.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case X:return a=Gr(31,d,l,w),a.elementType=X,a.lanes=A,a;case N:return Ha(d.children,w,A,l);case T:I=8,w|=24;break;case M:return a=Gr(12,d,l,w|2),a.elementType=M,a.lanes=A,a;case q:return a=Gr(13,d,l,w),a.elementType=q,a.lanes=A,a;case Z:return a=Gr(19,d,l,w),a.elementType=Z,a.lanes=A,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:case O:I=10;break e;case P:I=9;break e;case $:I=11;break e;case Q:I=14;break e;case V:I=16,p=null;break e}I=29,d=Error(i(130,a===null?"null":typeof a,"")),p=null}return l=Gr(I,d,l,w),l.elementType=a,l.type=p,l.lanes=A,l}function Ha(a,l,d,p){return a=Gr(7,a,p,l),a.lanes=d,a}function Zc(a,l,d){return a=Gr(6,a,null,l),a.lanes=d,a}function nc(a,l,d){return l=Gr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Mo=[],Ga=0,ru=null,Xc=0,Us=[],ks=0,hl=null,Wa=1,Ka="";function pl(a,l){Mo[Ga++]=Xc,Mo[Ga++]=ru,ru=a,Xc=l}function Kh(a,l,d){Us[ks++]=Wa,Us[ks++]=Ka,Us[ks++]=hl,hl=a;var p=Wa;a=Ka;var w=32-vt(p)-1;p&=~(1<<w),d+=1;var A=32-vt(l)+w;if(30<A){var I=w-w%5;A=(p&(1<<I)-1).toString(32),p>>=I,w-=I,Wa=1<<32-vt(l)+w|d<<w|p,Ka=A+a}else Wa=1<<A|d<<w|p,Ka=a}function ic(a){a.return!==null&&(pl(a,1),Kh(a,1,0))}function rc(a){for(;a===ru;)ru=Mo[--Ga],Mo[Ga]=null,Xc=Mo[--Ga],Mo[Ga]=null;for(;a===hl;)hl=Us[--ks],Us[ks]=null,Ka=Us[--ks],Us[ks]=null,Wa=Us[--ks],Us[ks]=null}var Sr=null,Ki=null,Hn=!1,Lo=null,_a=!1,hd=Error(i(519));function ml(a){var l=Error(i(418,""));throw su(wn(l,a)),hd}function Yh(a){var l=a.stateNode,d=a.type,p=a.memoizedProps;switch(l[yn]=a,l[Gn]=p,d){case"dialog":En("cancel",l),En("close",l);break;case"iframe":case"object":case"embed":En("load",l);break;case"video":case"audio":for(d=0;d<zd.length;d++)En(zd[d],l);break;case"source":En("error",l);break;case"img":case"image":case"link":En("error",l),En("load",l);break;case"details":En("toggle",l);break;case"input":En("invalid",l),Sn(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),cn(l);break;case"select":En("invalid",l);break;case"textarea":En("invalid",l),go(l,p.value,p.defaultValue,p.children),cn(l)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||wv(l.textContent,d)?(p.popover!=null&&(En("beforetoggle",l),En("toggle",l)),p.onScroll!=null&&En("scroll",l),p.onScrollEnd!=null&&En("scrollend",l),p.onClick!=null&&(l.onclick=Mp),l=!0):l=!1,l||ml(a)}function Ya(a){for(Sr=a.return;Sr;)switch(Sr.tag){case 5:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:Sr=Sr.return}}function is(a){if(a!==Sr)return!1;if(!Hn)return Ya(a),Hn=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||p0(a.type,a.memoizedProps)),d=!d),d&&Ki&&ml(a),Ya(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){Ki=no(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}Ki=null}}else l===27?(l=Ki,_u(a.type)?(a=v0,v0=null,Ki=a):Ki=l):Ki=Sr?no(a.stateNode.nextSibling):null;return!0}function Ms(){Ki=Sr=null,Hn=!1}function $h(){var a=Lo;return a!==null&&(Hs===null?Hs=a:Hs.push.apply(Hs,a),Lo=null),a}function su(a){Lo===null?Lo=[a]:Lo.push(a)}var Sa=ye(null),Or=null,$a=null;function Po(a,l,d){W(Sa,l._currentValue),l._currentValue=d}function Aa(a){a._currentValue=Sa.current,R(Sa)}function Qc(a,l,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===d)break;a=a.return}}function ef(a,l,d,p){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var A=w.dependencies;if(A!==null){var I=w.child;A=A.firstContext;e:for(;A!==null;){var Y=A;A=w;for(var he=0;he<l.length;he++)if(Y.context===l[he]){A.lanes|=d,Y=A.alternate,Y!==null&&(Y.lanes|=d),Qc(A.return,d,a),p||(I=null);break e}A=Y.next}}else if(w.tag===18){if(I=w.return,I===null)throw Error(i(341));I.lanes|=d,A=I.alternate,A!==null&&(A.lanes|=d),Qc(I,d,a),I=null}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===a){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}}function au(a,l,d,p){a=null;for(var w=l,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var I=w.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var Y=w.type;Dr(w.pendingProps.value,I.value)||(a!==null?a.push(Y):a=[Y])}}else if(w===xe.current){if(I=w.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(Gd):a=[Gd])}w=w.return}a!==null&&ef(l,a,d,p),l.flags|=262144}function tf(a){for(a=a.firstContext;a!==null;){if(!Dr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ta(a){Or=a,$a=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ar(a){return nf(Or,a)}function Ro(a,l){return Or===null&&Ta(a),nf(a,l)}function nf(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},$a===null){if(a===null)throw Error(i(308));$a=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else $a=$a.next=l;return d}var Sg=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},Jh=n.unstable_scheduleCallback,Ag=n.unstable_NormalPriority,Tr={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new Sg,data:new Map,refCount:0}}function sc(a){a.refCount--,a.refCount===0&&Jh(Ag,function(){a.controller.abort()})}var ac=null,md=0,gl=0,Ja=null;function Tg(a,l){if(ac===null){var d=ac=[];md=0,gl=s0(),Ja={status:"pending",value:void 0,then:function(p){d.push(p)}}}return md++,l.then(Zh,Zh),l}function Zh(){if(--md===0&&ac!==null){Ja!==null&&(Ja.status="fulfilled");var a=ac;ac=null,gl=0,Ja=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Xh(a,l){var d=[],p={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var w=0;w<d.length;w++)(0,d[w])(l)},function(w){for(p.status="rejected",p.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),p}var v=te.S;te.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Tg(a,l),v!==null&&v(a,l)};var _=ye(null);function E(){var a=_.current;return a!==null?a:Ei.pooledCache}function L(a,l){l===null?W(_,_.current):W(_,l.pool)}function F(){var a=E();return a===null?null:{parent:Tr._currentValue,pool:a}}var U=Error(i(460)),H=Error(i(474)),K=Error(i(542)),J={then:function(){}};function ie(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ve(){}function Le(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(ve,ve),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,He(a),a;default:if(typeof l.status=="string")l.then(ve,ve);else{if(a=Ei,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=p}},function(p){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,He(a),a}throw ke=l,U}}var ke=null;function Ae(){if(ke===null)throw Error(i(459));var a=ke;return ke=null,a}function He(a){if(a===U||a===K)throw Error(i(483))}var Oe=!1;function be(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Se(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ze(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ge(a,l,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(ri&2)!==0){var w=p.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),p.pending=l,l=fl(a),Jc(a,null,d),l}return Eo(a,p,l,d),fl(a)}function Ve(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,d|=p,l.lanes=d,bn(a,d)}}function mt(a,l){var d=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var w=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var I={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};A===null?w=A=I:A=A.next=I,d=d.next}while(d!==null);A===null?w=A=l:A=A.next=l}else w=A=l;d={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:p.shared,callbacks:p.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var lt=!1;function Mt(){if(lt){var a=Ja;if(a!==null)throw a}}function ut(a,l,d,p){lt=!1;var w=a.updateQueue;Oe=!1;var A=w.firstBaseUpdate,I=w.lastBaseUpdate,Y=w.shared.pending;if(Y!==null){w.shared.pending=null;var he=Y,Pe=he.next;he.next=null,I===null?A=Pe:I.next=Pe,I=he;var Ue=a.alternate;Ue!==null&&(Ue=Ue.updateQueue,Y=Ue.lastBaseUpdate,Y!==I&&(Y===null?Ue.firstBaseUpdate=Pe:Y.next=Pe,Ue.lastBaseUpdate=he))}if(A!==null){var We=w.baseState;I=0,Ue=Pe=he=null,Y=A;do{var De=Y.lane&-536870913,Ie=De!==Y.lane;if(Ie?(qn&De)===De:(p&De)===De){De!==0&&De===gl&&(lt=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var Xt=a,qt=Y;De=l;var di=d;switch(qt.tag){case 1:if(Xt=qt.payload,typeof Xt=="function"){We=Xt.call(di,We,De);break e}We=Xt;break e;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=qt.payload,De=typeof Xt=="function"?Xt.call(di,We,De):Xt,De==null)break e;We=h({},We,De);break e;case 2:Oe=!0}}De=Y.callback,De!==null&&(a.flags|=64,Ie&&(a.flags|=8192),Ie=w.callbacks,Ie===null?w.callbacks=[De]:Ie.push(De))}else Ie={lane:De,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ue===null?(Pe=Ue=Ie,he=We):Ue=Ue.next=Ie,I|=De;if(Y=Y.next,Y===null){if(Y=w.shared.pending,Y===null)break;Ie=Y,Y=Ie.next,Ie.next=null,w.lastBaseUpdate=Ie,w.shared.pending=null}}while(!0);Ue===null&&(he=We),w.baseState=he,w.firstBaseUpdate=Pe,w.lastBaseUpdate=Ue,A===null&&(w.shared.lanes=0),vu|=I,a.lanes=I,a.memoizedState=We}}function Un(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function $n(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Un(d[a],l)}var vn=ye(null),hn=ye(0);function ti(a,l){a=Cl,W(hn,a),W(vn,l),Cl=a|l.baseLanes}function Jn(){W(hn,Cl),W(vn,vn.current)}function nn(){Cl=hn.current,R(vn),R(hn)}var ii=0,jt=null,Jt=null,Dn=null,Vn=!1,Fr=!1,Cr=!1,rr=0,sr=0,dr=null,Vs=0;function Zn(){throw Error(i(321))}function hr(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Dr(a[d],l[d]))return!1;return!0}function sa(a,l,d,p,w,A){return ii=A,jt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,te.H=a===null||a.memoizedState===null?ty:ny,Cr=!1,A=d(p,w),Cr=!1,Fr&&(A=yl(l,d,p,w)),Do(a),A}function Do(a){te.H=cp;var l=Jt!==null&&Jt.next!==null;if(ii=0,Dn=Jt=jt=null,Vn=!1,sr=0,dr=null,l)throw Error(i(300));a===null||Wr||(a=a.dependencies,a!==null&&tf(a)&&(Wr=!0))}function yl(a,l,d,p){jt=a;var w=0;do{if(Fr&&(dr=null),sr=0,Fr=!1,25<=w)throw Error(i(301));if(w+=1,Dn=Jt=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}te.H=MA,A=l(d,p)}while(Fr);return A}function Io(){var a=te.H,l=a.useState()[0];return l=typeof l.then=="function"?Oo(l):l,a=a.useState()[0],(Jt!==null?Jt.memoizedState:null)!==a&&(jt.flags|=1024),l}function Ni(){var a=rr!==0;return rr=0,a}function oc(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function rf(a){if(Vn){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Vn=!1}ii=0,Dn=Jt=jt=null,Fr=!1,sr=rr=0,dr=null}function rs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?jt.memoizedState=Dn=a:Dn=Dn.next=a,Dn}function Fi(){if(Jt===null){var a=jt.alternate;a=a!==null?a.memoizedState:null}else a=Jt.next;var l=Dn===null?jt.memoizedState:Dn.next;if(l!==null)Dn=l,Jt=a;else{if(a===null)throw jt.alternate===null?Error(i(467)):Error(i(310));Jt=a,a={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Dn===null?jt.memoizedState=Dn=a:Dn=Dn.next=a}return Dn}function vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(a){var l=sr;return sr+=1,dr===null&&(dr=[]),a=Le(dr,a,l),l=jt,(Dn===null?l.memoizedState:Dn.next)===null&&(l=l.alternate,te.H=l===null||l.memoizedState===null?ty:ny),a}function hs(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Oo(a);if(a.$$typeof===O)return Ar(a)}throw Error(i(438,String(a)))}function Fo(a){var l=null,d=jt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=jt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=vl(),jt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),p=0;p<a;p++)d[p]=le;return l.index++,d}function ps(a,l){return typeof l=="function"?l(a):l}function lc(a){var l=Fi();return ou(l,Jt,a)}function ou(a,l,d){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=d;var w=a.baseQueue,A=p.pending;if(A!==null){if(w!==null){var I=w.next;w.next=A.next,A.next=I}l.baseQueue=w=A,p.pending=null}if(A=a.baseState,w===null)a.memoizedState=A;else{l=w.next;var Y=I=null,he=null,Pe=l,Ue=!1;do{var We=Pe.lane&-536870913;if(We!==Pe.lane?(qn&We)===We:(ii&We)===We){var De=Pe.revertLane;if(De===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),We===gl&&(Ue=!0);else if((ii&De)===De){Pe=Pe.next,De===gl&&(Ue=!0);continue}else We={lane:0,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},he===null?(Y=he=We,I=A):he=he.next=We,jt.lanes|=De,vu|=De;We=Pe.action,Cr&&d(A,We),A=Pe.hasEagerState?Pe.eagerState:d(A,We)}else De={lane:We,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},he===null?(Y=he=De,I=A):he=he.next=De,jt.lanes|=We,vu|=We;Pe=Pe.next}while(Pe!==null&&Pe!==l);if(he===null?I=A:he.next=Y,!Dr(A,a.memoizedState)&&(Wr=!0,Ue&&(d=Ja,d!==null)))throw d;a.memoizedState=A,a.baseState=I,a.baseQueue=he,p.lastRenderedState=A}return w===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function sf(a){var l=Fi(),d=l.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var p=d.dispatch,w=d.pending,A=l.memoizedState;if(w!==null){d.pending=null;var I=w=w.next;do A=a(A,I.action),I=I.next;while(I!==w);Dr(A,l.memoizedState)||(Wr=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),d.lastRenderedState=A}return[A,p]}function uc(a,l,d){var p=jt,w=Fi(),A=Hn;if(A){if(d===void 0)throw Error(i(407));d=d()}else d=l();var I=!Dr((Jt||w).memoizedState,d);I&&(w.memoizedState=d,Wr=!0),w=w.queue;var Y=lu.bind(null,p,w,a);if(fu(2048,8,Y,[a]),w.getSnapshot!==l||I||Dn!==null&&Dn.memoizedState.tag&1){if(p.flags|=2048,Xa(9,hc(),cc.bind(null,p,w,d,l),null),Ei===null)throw Error(i(349));A||(ii&124)!==0||af(p,l,d)}return d}function af(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=jt.updateQueue,l===null?(l=vl(),jt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function cc(a,l,d,p){l.value=d,l.getSnapshot=p,Qh(l)&&ep(a)}function lu(a,l,d){return d(function(){Qh(l)&&ep(a)})}function Qh(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Dr(a,d)}catch{return!0}}function ep(a){var l=qa(a,2);l!==null&&fa(l,a,2)}function fc(a){var l=rs();if(typeof a=="function"){var d=a;if(a=d(),Cr){Rt(!0);try{d()}finally{Rt(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:a},l}function Za(a,l,d,p){return a.baseState=d,ou(a,Jt,typeof p=="function"?p:ps)}function Cg(a,l,d,p,w){if(up(a))throw Error(i(485));if(a=l.action,a!==null){var A={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){A.listeners.push(I)}};te.T!==null?d(!0):A.isTransition=!1,p(A),d=l.pending,d===null?(A.next=l.pending=A,tp(l,A)):(A.next=d.next,l.pending=d.next=A)}}function tp(a,l){var d=l.action,p=l.payload,w=a.state;if(l.isTransition){var A=te.T,I={};te.T=I;try{var Y=d(w,p),he=te.S;he!==null&&he(I,Y),np(a,l,Y)}catch(Pe){uu(a,l,Pe)}finally{te.T=A}}else try{A=d(w,p),np(a,l,A)}catch(Pe){uu(a,l,Pe)}}function np(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){gd(a,l,p)},function(p){return uu(a,l,p)}):gd(a,l,d)}function gd(a,l,d){l.status="fulfilled",l.value=d,yd(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,tp(a,d)))}function uu(a,l,d){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,yd(l),l=l.next;while(l!==p)}a.action=null}function yd(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function vd(a,l){return l}function dc(a,l){if(Hn){var d=Ei.formState;if(d!==null){e:{var p=jt;if(Hn){if(Ki){t:{for(var w=Ki,A=_a;w.nodeType!==8;){if(!A){w=null;break t}if(w=no(w.nextSibling),w===null){w=null;break t}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){Ki=no(w.nextSibling),p=w.data==="F!";break e}}ml(p)}p=!1}p&&(l=d[0])}}return d=rs(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:l},d.queue=p,d=X2.bind(null,jt,p),p.dispatch=d,p=fc(!1),A=Ng.bind(null,jt,!1,p.queue),p=rs(),w={state:l,dispatch:null,action:a,pending:null},p.queue=w,d=Cg.bind(null,jt,w,A,d),w.dispatch=d,p.memoizedState=a,[l,d,!1]}function of(a){var l=Fi();return cu(l,Jt,a)}function cu(a,l,d){if(l=ou(a,l,vd)[0],a=lc(ps)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Oo(l)}catch(I){throw I===U?K:I}else p=l;l=Fi();var w=l.queue,A=w.dispatch;return d!==l.memoizedState&&(jt.flags|=2048,Xa(9,hc(),ip.bind(null,w,d),null)),[p,A,a]}function ip(a,l){a.action=l}function rp(a){var l=Fi(),d=Jt;if(d!==null)return cu(l,d,a);Fi(),l=l.memoizedState,d=Fi();var p=d.queue.dispatch;return d.memoizedState=a,[l,p,!1]}function Xa(a,l,d,p){return a={tag:a,create:d,deps:p,inst:l,next:null},l=jt.updateQueue,l===null&&(l=vl(),jt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,l.lastEffect=a),a}function hc(){return{destroy:void 0,resource:void 0}}function lf(){return Fi().memoizedState}function aa(a,l,d,p){var w=rs();p=p===void 0?null:p,jt.flags|=a,w.memoizedState=Xa(1|l,hc(),d,p)}function fu(a,l,d,p){var w=Fi();p=p===void 0?null:p;var A=w.memoizedState.inst;Jt!==null&&p!==null&&hr(p,Jt.memoizedState.deps)?w.memoizedState=Xa(l,A,d,p):(jt.flags|=a,w.memoizedState=Xa(1|l,A,d,p))}function xd(a,l){aa(8390656,8,a,l)}function sp(a,l){fu(2048,8,a,l)}function bd(a,l){return fu(4,2,a,l)}function xl(a,l){return fu(4,4,a,l)}function ap(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function wd(a,l,d){d=d!=null?d.concat([a]):null,fu(4,4,ap.bind(null,l,a),d)}function _d(){}function Sd(a,l){var d=Fi();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&hr(l,p[1])?p[0]:(d.memoizedState=[a,l],a)}function op(a,l){var d=Fi();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&hr(l,p[1]))return p[0];if(p=a(),Cr){Rt(!0);try{a()}finally{Rt(!1)}}return d.memoizedState=[p,l],p}function bl(a,l,d){return d===void 0||(ii&1073741824)!==0?a.memoizedState=l:(a.memoizedState=d,a=Yy(),jt.lanes|=a,vu|=a,d)}function uf(a,l,d,p){return Dr(d,l)?d:vn.current!==null?(a=bl(a,d,p),Dr(a,l)||(Wr=!0),a):(ii&42)===0?(Wr=!0,a.memoizedState=d):(a=Yy(),jt.lanes|=a,vu|=a,l)}function pc(a,l,d,p,w){var A=ce.p;ce.p=A!==0&&8>A?A:8;var I=te.T,Y={};te.T=Y,Ng(a,!1,l,d);try{var he=w(),Pe=te.S;if(Pe!==null&&Pe(Y,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Ue=Xh(he,p);Nd(a,l,Ue,ca(a))}else Nd(a,l,p,ca(a))}catch(We){Nd(a,l,{then:function(){},status:"rejected",reason:We},ca())}finally{ce.p=A,te.T=I}}function Qa(){}function Ca(a,l,d,p){if(a.tag!==5)throw Error(i(476));var w=eo(a).queue;pc(a,w,l,ne,d===null?Qa:function(){return mc(a),d(p)})}function eo(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:ne},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function mc(a){var l=eo(a).next.queue;Nd(a,l,{},ca())}function gc(){return Ar(Gd)}function Ad(){return Fi().memoizedState}function lp(){return Fi().memoizedState}function Td(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=ca();a=ze(d);var p=Ge(l,a,d);p!==null&&(fa(p,l,d),Ve(p,l,d)),l={cache:pd()},a.payload=l;return}l=l.return}}function Cd(a,l,d){var p=ca();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},up(a)?Q2(l,d):(d=ko(a,l,d,p),d!==null&&(fa(d,a,p),ey(d,l,p)))}function X2(a,l,d){var p=ca();Nd(a,l,d,p)}function Nd(a,l,d,p){var w={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(up(a))Q2(l,w);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var I=l.lastRenderedState,Y=A(I,d);if(w.hasEagerState=!0,w.eagerState=Y,Dr(Y,I))return Eo(a,l,w,0),Ei===null&&zs(),!1}catch{}finally{}if(d=ko(a,l,w,p),d!==null)return fa(d,a,p),ey(d,l,p),!0}return!1}function Ng(a,l,d,p){if(p={lane:2,revertLane:s0(),action:p,hasEagerState:!1,eagerState:null,next:null},up(a)){if(l)throw Error(i(479))}else l=ko(a,d,p,2),l!==null&&fa(l,a,2)}function up(a){var l=a.alternate;return a===jt||l!==null&&l===jt}function Q2(a,l){Fr=Vn=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function ey(a,l,d){if((d&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,d|=p,l.lanes=d,bn(a,d)}}var cp={readContext:Ar,use:hs,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useLayoutEffect:Zn,useInsertionEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useSyncExternalStore:Zn,useId:Zn,useHostTransitionStatus:Zn,useFormState:Zn,useActionState:Zn,useOptimistic:Zn,useMemoCache:Zn,useCacheRefresh:Zn},ty={readContext:Ar,use:hs,useCallback:function(a,l){return rs().memoizedState=[a,l===void 0?null:l],a},useContext:Ar,useEffect:xd,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,aa(4194308,4,ap.bind(null,l,a),d)},useLayoutEffect:function(a,l){return aa(4194308,4,a,l)},useInsertionEffect:function(a,l){aa(4,2,a,l)},useMemo:function(a,l){var d=rs();l=l===void 0?null:l;var p=a();if(Cr){Rt(!0);try{a()}finally{Rt(!1)}}return d.memoizedState=[p,l],p},useReducer:function(a,l,d){var p=rs();if(d!==void 0){var w=d(l);if(Cr){Rt(!0);try{d(l)}finally{Rt(!1)}}}else w=l;return p.memoizedState=p.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},p.queue=a,a=a.dispatch=Cd.bind(null,jt,a),[p.memoizedState,a]},useRef:function(a){var l=rs();return a={current:a},l.memoizedState=a},useState:function(a){a=fc(a);var l=a.queue,d=X2.bind(null,jt,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:_d,useDeferredValue:function(a,l){var d=rs();return bl(d,a,l)},useTransition:function(){var a=fc(!1);return a=pc.bind(null,jt,a.queue,!0,!1),rs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var p=jt,w=rs();if(Hn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=l(),Ei===null)throw Error(i(349));(qn&124)!==0||af(p,l,d)}w.memoizedState=d;var A={value:d,getSnapshot:l};return w.queue=A,xd(lu.bind(null,p,A,a),[a]),p.flags|=2048,Xa(9,hc(),cc.bind(null,p,A,d,l),null),d},useId:function(){var a=rs(),l=Ei.identifierPrefix;if(Hn){var d=Ka,p=Wa;d=(p&~(1<<32-vt(p)-1)).toString(32)+d,l=""+l+"R"+d,d=rr++,0<d&&(l+="H"+d.toString(32)),l+=""}else d=Vs++,l=""+l+"r"+d.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:gc,useFormState:dc,useActionState:dc,useOptimistic:function(a){var l=rs();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Ng.bind(null,jt,!0,d),d.dispatch=l,[a,l]},useMemoCache:Fo,useCacheRefresh:function(){return rs().memoizedState=Td.bind(null,jt)}},ny={readContext:Ar,use:hs,useCallback:Sd,useContext:Ar,useEffect:sp,useImperativeHandle:wd,useInsertionEffect:bd,useLayoutEffect:xl,useMemo:op,useReducer:lc,useRef:lf,useState:function(){return lc(ps)},useDebugValue:_d,useDeferredValue:function(a,l){var d=Fi();return uf(d,Jt.memoizedState,a,l)},useTransition:function(){var a=lc(ps)[0],l=Fi().memoizedState;return[typeof a=="boolean"?a:Oo(a),l]},useSyncExternalStore:uc,useId:Ad,useHostTransitionStatus:gc,useFormState:of,useActionState:of,useOptimistic:function(a,l){var d=Fi();return Za(d,Jt,a,l)},useMemoCache:Fo,useCacheRefresh:lp},MA={readContext:Ar,use:hs,useCallback:Sd,useContext:Ar,useEffect:sp,useImperativeHandle:wd,useInsertionEffect:bd,useLayoutEffect:xl,useMemo:op,useReducer:sf,useRef:lf,useState:function(){return sf(ps)},useDebugValue:_d,useDeferredValue:function(a,l){var d=Fi();return Jt===null?bl(d,a,l):uf(d,Jt.memoizedState,a,l)},useTransition:function(){var a=sf(ps)[0],l=Fi().memoizedState;return[typeof a=="boolean"?a:Oo(a),l]},useSyncExternalStore:uc,useId:Ad,useHostTransitionStatus:gc,useFormState:rp,useActionState:rp,useOptimistic:function(a,l){var d=Fi();return Jt!==null?Za(d,Jt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:Fo,useCacheRefresh:lp},cf=null,Ed=0;function fp(a){var l=Ed;return Ed+=1,cf===null&&(cf=[]),Le(cf,a,l)}function kd(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function dp(a,l){throw l.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function iy(a){var l=a._init;return l(a._payload)}function ry(a){function l(Ce,we){if(a){var Me=Ce.deletions;Me===null?(Ce.deletions=[we],Ce.flags|=16):Me.push(we)}}function d(Ce,we){if(!a)return null;for(;we!==null;)l(Ce,we),we=we.sibling;return null}function p(Ce){for(var we=new Map;Ce!==null;)Ce.key!==null?we.set(Ce.key,Ce):we.set(Ce.index,Ce),Ce=Ce.sibling;return we}function w(Ce,we){return Ce=wa(Ce,we),Ce.index=0,Ce.sibling=null,Ce}function A(Ce,we,Me){return Ce.index=Me,a?(Me=Ce.alternate,Me!==null?(Me=Me.index,Me<we?(Ce.flags|=67108866,we):Me):(Ce.flags|=67108866,we)):(Ce.flags|=1048576,we)}function I(Ce){return a&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function Y(Ce,we,Me,qe){return we===null||we.tag!==6?(we=Zc(Me,Ce.mode,qe),we.return=Ce,we):(we=w(we,Me),we.return=Ce,we)}function he(Ce,we,Me,qe){var At=Me.type;return At===N?Ue(Ce,we,Me.props.children,qe,Me.key):we!==null&&(we.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===V&&iy(At)===we.type)?(we=w(we,Me.props),kd(we,Me),we.return=Ce,we):(we=dl(Me.type,Me.key,Me.props,null,Ce.mode,qe),kd(we,Me),we.return=Ce,we)}function Pe(Ce,we,Me,qe){return we===null||we.tag!==4||we.stateNode.containerInfo!==Me.containerInfo||we.stateNode.implementation!==Me.implementation?(we=nc(Me,Ce.mode,qe),we.return=Ce,we):(we=w(we,Me.children||[]),we.return=Ce,we)}function Ue(Ce,we,Me,qe,At){return we===null||we.tag!==7?(we=Ha(Me,Ce.mode,qe,At),we.return=Ce,we):(we=w(we,Me),we.return=Ce,we)}function We(Ce,we,Me){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=Zc(""+we,Ce.mode,Me),we.return=Ce,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case b:return Me=dl(we.type,we.key,we.props,null,Ce.mode,Me),kd(Me,we),Me.return=Ce,Me;case x:return we=nc(we,Ce.mode,Me),we.return=Ce,we;case V:var qe=we._init;return we=qe(we._payload),We(Ce,we,Me)}if(me(we)||G(we))return we=Ha(we,Ce.mode,Me,null),we.return=Ce,we;if(typeof we.then=="function")return We(Ce,fp(we),Me);if(we.$$typeof===O)return We(Ce,Ro(Ce,we),Me);dp(Ce,we)}return null}function De(Ce,we,Me,qe){var At=we!==null?we.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return At!==null?null:Y(Ce,we,""+Me,qe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:return Me.key===At?he(Ce,we,Me,qe):null;case x:return Me.key===At?Pe(Ce,we,Me,qe):null;case V:return At=Me._init,Me=At(Me._payload),De(Ce,we,Me,qe)}if(me(Me)||G(Me))return At!==null?null:Ue(Ce,we,Me,qe,null);if(typeof Me.then=="function")return De(Ce,we,fp(Me),qe);if(Me.$$typeof===O)return De(Ce,we,Ro(Ce,Me),qe);dp(Ce,Me)}return null}function Ie(Ce,we,Me,qe,At){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Ce=Ce.get(Me)||null,Y(we,Ce,""+qe,At);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case b:return Ce=Ce.get(qe.key===null?Me:qe.key)||null,he(we,Ce,qe,At);case x:return Ce=Ce.get(qe.key===null?Me:qe.key)||null,Pe(we,Ce,qe,At);case V:var An=qe._init;return qe=An(qe._payload),Ie(Ce,we,Me,qe,At)}if(me(qe)||G(qe))return Ce=Ce.get(Me)||null,Ue(we,Ce,qe,At,null);if(typeof qe.then=="function")return Ie(Ce,we,Me,fp(qe),At);if(qe.$$typeof===O)return Ie(Ce,we,Me,Ro(we,qe),At);dp(we,qe)}return null}function Xt(Ce,we,Me,qe){for(var At=null,An=null,Lt=we,Kt=we=0,Yr=null;Lt!==null&&Kt<Me.length;Kt++){Lt.index>Kt?(Yr=Lt,Lt=null):Yr=Lt.sibling;var Xn=De(Ce,Lt,Me[Kt],qe);if(Xn===null){Lt===null&&(Lt=Yr);break}a&&Lt&&Xn.alternate===null&&l(Ce,Lt),we=A(Xn,we,Kt),An===null?At=Xn:An.sibling=Xn,An=Xn,Lt=Yr}if(Kt===Me.length)return d(Ce,Lt),Hn&&pl(Ce,Kt),At;if(Lt===null){for(;Kt<Me.length;Kt++)Lt=We(Ce,Me[Kt],qe),Lt!==null&&(we=A(Lt,we,Kt),An===null?At=Lt:An.sibling=Lt,An=Lt);return Hn&&pl(Ce,Kt),At}for(Lt=p(Lt);Kt<Me.length;Kt++)Yr=Ie(Lt,Ce,Kt,Me[Kt],qe),Yr!==null&&(a&&Yr.alternate!==null&&Lt.delete(Yr.key===null?Kt:Yr.key),we=A(Yr,we,Kt),An===null?At=Yr:An.sibling=Yr,An=Yr);return a&&Lt.forEach(function(Nu){return l(Ce,Nu)}),Hn&&pl(Ce,Kt),At}function qt(Ce,we,Me,qe){if(Me==null)throw Error(i(151));for(var At=null,An=null,Lt=we,Kt=we=0,Yr=null,Xn=Me.next();Lt!==null&&!Xn.done;Kt++,Xn=Me.next()){Lt.index>Kt?(Yr=Lt,Lt=null):Yr=Lt.sibling;var Nu=De(Ce,Lt,Xn.value,qe);if(Nu===null){Lt===null&&(Lt=Yr);break}a&&Lt&&Nu.alternate===null&&l(Ce,Lt),we=A(Nu,we,Kt),An===null?At=Nu:An.sibling=Nu,An=Nu,Lt=Yr}if(Xn.done)return d(Ce,Lt),Hn&&pl(Ce,Kt),At;if(Lt===null){for(;!Xn.done;Kt++,Xn=Me.next())Xn=We(Ce,Xn.value,qe),Xn!==null&&(we=A(Xn,we,Kt),An===null?At=Xn:An.sibling=Xn,An=Xn);return Hn&&pl(Ce,Kt),At}for(Lt=p(Lt);!Xn.done;Kt++,Xn=Me.next())Xn=Ie(Lt,Ce,Kt,Xn.value,qe),Xn!==null&&(a&&Xn.alternate!==null&&Lt.delete(Xn.key===null?Kt:Xn.key),we=A(Xn,we,Kt),An===null?At=Xn:An.sibling=Xn,An=Xn);return a&&Lt.forEach(function(LT){return l(Ce,LT)}),Hn&&pl(Ce,Kt),At}function di(Ce,we,Me,qe){if(typeof Me=="object"&&Me!==null&&Me.type===N&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:e:{for(var At=Me.key;we!==null;){if(we.key===At){if(At=Me.type,At===N){if(we.tag===7){d(Ce,we.sibling),qe=w(we,Me.props.children),qe.return=Ce,Ce=qe;break e}}else if(we.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===V&&iy(At)===we.type){d(Ce,we.sibling),qe=w(we,Me.props),kd(qe,Me),qe.return=Ce,Ce=qe;break e}d(Ce,we);break}else l(Ce,we);we=we.sibling}Me.type===N?(qe=Ha(Me.props.children,Ce.mode,qe,Me.key),qe.return=Ce,Ce=qe):(qe=dl(Me.type,Me.key,Me.props,null,Ce.mode,qe),kd(qe,Me),qe.return=Ce,Ce=qe)}return I(Ce);case x:e:{for(At=Me.key;we!==null;){if(we.key===At)if(we.tag===4&&we.stateNode.containerInfo===Me.containerInfo&&we.stateNode.implementation===Me.implementation){d(Ce,we.sibling),qe=w(we,Me.children||[]),qe.return=Ce,Ce=qe;break e}else{d(Ce,we);break}else l(Ce,we);we=we.sibling}qe=nc(Me,Ce.mode,qe),qe.return=Ce,Ce=qe}return I(Ce);case V:return At=Me._init,Me=At(Me._payload),di(Ce,we,Me,qe)}if(me(Me))return Xt(Ce,we,Me,qe);if(G(Me)){if(At=G(Me),typeof At!="function")throw Error(i(150));return Me=At.call(Me),qt(Ce,we,Me,qe)}if(typeof Me.then=="function")return di(Ce,we,fp(Me),qe);if(Me.$$typeof===O)return di(Ce,we,Ro(Ce,Me),qe);dp(Ce,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,we!==null&&we.tag===6?(d(Ce,we.sibling),qe=w(we,Me),qe.return=Ce,Ce=qe):(d(Ce,we),qe=Zc(Me,Ce.mode,qe),qe.return=Ce,Ce=qe),I(Ce)):d(Ce,we)}return function(Ce,we,Me,qe){try{Ed=0;var At=di(Ce,we,Me,qe);return cf=null,At}catch(Lt){if(Lt===U||Lt===K)throw Lt;var An=Gr(29,Lt,null,Ce.mode);return An.lanes=qe,An.return=Ce,An}finally{}}}var ff=ry(!0),sy=ry(!1),Na=ye(null),Bo=null;function du(a){var l=a.alternate;W(Vr,Vr.current&1),W(Na,a),Bo===null&&(l===null||vn.current!==null||l.memoizedState!==null)&&(Bo=a)}function ay(a){if(a.tag===22){if(W(Vr,Vr.current),W(Na,a),Bo===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Bo=a)}}else hu()}function hu(){W(Vr,Vr.current),W(Na,Na.current)}function wl(a){R(Na),Bo===a&&(Bo=null),R(Vr)}var Vr=ye(0);function hp(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||y0(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Eg(a,l,d,p){l=a.memoizedState,d=d(p,l),d=d==null?l:h({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var kg={enqueueSetState:function(a,l,d){a=a._reactInternals;var p=ca(),w=ze(p);w.payload=l,d!=null&&(w.callback=d),l=Ge(a,w,p),l!==null&&(fa(l,a,p),Ve(l,a,p))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var p=ca(),w=ze(p);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=Ge(a,w,p),l!==null&&(fa(l,a,p),Ve(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=ca(),p=ze(d);p.tag=2,l!=null&&(p.callback=l),l=Ge(a,p,d),l!==null&&(fa(l,a,d),Ve(l,a,d))}};function oy(a,l,d,p,w,A,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,A,I):l.prototype&&l.prototype.isPureReactComponent?!wo(d,p)||!wo(w,A):!0}function ly(a,l,d,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==a&&kg.enqueueReplaceState(l,l.state,null)}function yc(a,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(a=a.defaultProps){d===l&&(d=h({},d));for(var w in a)d[w]===void 0&&(d[w]=a[w])}return d}var pp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function uy(a){pp(a)}function cy(a){console.error(a)}function fy(a){pp(a)}function mp(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function dy(a,l,d){try{var p=a.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Mg(a,l,d){return d=ze(d),d.tag=3,d.payload={element:null},d.callback=function(){mp(a,l)},d}function hy(a){return a=ze(a),a.tag=3,a}function py(a,l,d,p){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var A=p.value;a.payload=function(){return w(A)},a.callback=function(){dy(l,d,p)}}var I=d.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){dy(l,d,p),typeof w!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var Y=p.stack;this.componentDidCatch(p.value,{componentStack:Y!==null?Y:""})})}function LA(a,l,d,p,w){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&au(l,d,w,!0),d=Na.current,d!==null){switch(d.tag){case 13:return Bo===null?e0():d.alternate===null&&pr===0&&(pr=3),d.flags&=-257,d.flags|=65536,d.lanes=w,p===J?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),n0(a,p,w)),!1;case 22:return d.flags|=65536,p===J?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),n0(a,p,w)),!1}throw Error(i(435,d.tag))}return n0(a,p,w),e0(),!1}if(Hn)return l=Na.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,p!==hd&&(a=Error(i(422),{cause:p}),su(wn(a,d)))):(p!==hd&&(l=Error(i(423),{cause:p}),su(wn(l,d))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,p=wn(p,d),w=Mg(a.stateNode,p,w),mt(a,w),pr!==4&&(pr=2)),!1;var A=Error(i(520),{cause:p});if(A=wn(A,d),Od===null?Od=[A]:Od.push(A),pr!==4&&(pr=2),l===null)return!0;p=wn(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=w&-w,d.lanes|=a,a=Mg(d.stateNode,p,a),mt(d,a),!1;case 1:if(l=d.type,A=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(xu===null||!xu.has(A))))return d.flags|=65536,w&=-w,d.lanes|=w,w=hy(w),py(w,a,d,p),mt(d,w),!1}d=d.return}while(d!==null);return!1}var my=Error(i(461)),Wr=!1;function ss(a,l,d,p){l.child=a===null?sy(l,null,d,p):ff(l,a.child,d,p)}function gy(a,l,d,p,w){d=d.render;var A=l.ref;if("ref"in p){var I={};for(var Y in p)Y!=="ref"&&(I[Y]=p[Y])}else I=p;return Ta(l),p=sa(a,l,d,I,A,w),Y=Ni(),a!==null&&!Wr?(oc(a,l,w),_l(a,l,w)):(Hn&&Y&&ic(l),l.flags|=1,ss(a,l,p,w),l.child)}function yy(a,l,d,p,w){if(a===null){var A=d.type;return typeof A=="function"&&!iu(A)&&A.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=A,vy(a,l,A,p,w)):(a=dl(d.type,null,p,l,l.mode,w),a.ref=l.ref,a.return=l,l.child=a)}if(A=a.child,!Bg(a,w)){var I=A.memoizedProps;if(d=d.compare,d=d!==null?d:wo,d(I,p)&&a.ref===l.ref)return _l(a,l,w)}return l.flags|=1,a=wa(A,p),a.ref=l.ref,a.return=l,l.child=a}function vy(a,l,d,p,w){if(a!==null){var A=a.memoizedProps;if(wo(A,p)&&a.ref===l.ref)if(Wr=!1,l.pendingProps=p=A,Bg(a,w))(a.flags&131072)!==0&&(Wr=!0);else return l.lanes=a.lanes,_l(a,l,w)}return Lg(a,l,d,p,w)}function xy(a,l,d){var p=l.pendingProps,w=p.children,A=a!==null?a.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=A!==null?A.baseLanes|d:d,a!==null){for(w=l.child=a.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;l.childLanes=A&~p}else l.childLanes=0,l.child=null;return by(a,l,p,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&L(l,A!==null?A.cachePool:null),A!==null?ti(l,A):Jn(),ay(l);else return l.lanes=l.childLanes=536870912,by(a,l,A!==null?A.baseLanes|d:d,d)}else A!==null?(L(l,A.cachePool),ti(l,A),hu(),l.memoizedState=null):(a!==null&&L(l,null),Jn(),hu());return ss(a,l,w,d),l.child}function by(a,l,d,p){var w=E();return w=w===null?null:{parent:Tr._currentValue,pool:w},l.memoizedState={baseLanes:d,cachePool:w},a!==null&&L(l,null),Jn(),ay(l),a!==null&&au(a,l,p,!0),null}function gp(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function Lg(a,l,d,p,w){return Ta(l),d=sa(a,l,d,p,void 0,w),p=Ni(),a!==null&&!Wr?(oc(a,l,w),_l(a,l,w)):(Hn&&p&&ic(l),l.flags|=1,ss(a,l,d,w),l.child)}function wy(a,l,d,p,w,A){return Ta(l),l.updateQueue=null,d=yl(l,p,d,w),Do(a),p=Ni(),a!==null&&!Wr?(oc(a,l,A),_l(a,l,A)):(Hn&&p&&ic(l),l.flags|=1,ss(a,l,d,A),l.child)}function _y(a,l,d,p,w){if(Ta(l),l.stateNode===null){var A=Ir,I=d.contextType;typeof I=="object"&&I!==null&&(A=Ar(I)),A=new d(p,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=kg,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=p,A.state=l.memoizedState,A.refs={},be(l),I=d.contextType,A.context=typeof I=="object"&&I!==null?Ar(I):Ir,A.state=l.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(Eg(l,d,I,p),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(I=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),I!==A.state&&kg.enqueueReplaceState(A,A.state,null),ut(l,p,A,w),Mt(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){A=l.stateNode;var Y=l.memoizedProps,he=yc(d,Y);A.props=he;var Pe=A.context,Ue=d.contextType;I=Ir,typeof Ue=="object"&&Ue!==null&&(I=Ar(Ue));var We=d.getDerivedStateFromProps;Ue=typeof We=="function"||typeof A.getSnapshotBeforeUpdate=="function",Y=l.pendingProps!==Y,Ue||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(Y||Pe!==I)&&ly(l,A,p,I),Oe=!1;var De=l.memoizedState;A.state=De,ut(l,p,A,w),Mt(),Pe=l.memoizedState,Y||De!==Pe||Oe?(typeof We=="function"&&(Eg(l,d,We,p),Pe=l.memoizedState),(he=Oe||oy(l,d,he,p,De,Pe,I))?(Ue||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Pe),A.props=p,A.state=Pe,A.context=I,p=he):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{A=l.stateNode,Se(a,l),I=l.memoizedProps,Ue=yc(d,I),A.props=Ue,We=l.pendingProps,De=A.context,Pe=d.contextType,he=Ir,typeof Pe=="object"&&Pe!==null&&(he=Ar(Pe)),Y=d.getDerivedStateFromProps,(Pe=typeof Y=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==We||De!==he)&&ly(l,A,p,he),Oe=!1,De=l.memoizedState,A.state=De,ut(l,p,A,w),Mt();var Ie=l.memoizedState;I!==We||De!==Ie||Oe||a!==null&&a.dependencies!==null&&tf(a.dependencies)?(typeof Y=="function"&&(Eg(l,d,Y,p),Ie=l.memoizedState),(Ue=Oe||oy(l,d,Ue,p,De,Ie,he)||a!==null&&a.dependencies!==null&&tf(a.dependencies))?(Pe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Ie,he),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Ie,he)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&De===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&De===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Ie),A.props=p,A.state=Ie,A.context=he,p=Ue):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&De===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&De===a.memoizedState||(l.flags|=1024),p=!1)}return A=p,gp(a,l),p=(l.flags&128)!==0,A||p?(A=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,a!==null&&p?(l.child=ff(l,a.child,null,w),l.child=ff(l,null,d,w)):ss(a,l,d,w),l.memoizedState=A.state,a=l.child):a=_l(a,l,w),a}function Sy(a,l,d,p){return Ms(),l.flags|=256,ss(a,l,d,p),l.child}var Pg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rg(a){return{baseLanes:a,cachePool:F()}}function Dg(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=Ea),a}function Ay(a,l,d){var p=l.pendingProps,w=!1,A=(l.flags&128)!==0,I;if((I=A)||(I=a!==null&&a.memoizedState===null?!1:(Vr.current&2)!==0),I&&(w=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,a===null){if(Hn){if(w?du(l):hu(),Hn){var Y=Ki,he;if(he=Y){e:{for(he=Y,Y=_a;he.nodeType!==8;){if(!Y){Y=null;break e}if(he=no(he.nextSibling),he===null){Y=null;break e}}Y=he}Y!==null?(l.memoizedState={dehydrated:Y,treeContext:hl!==null?{id:Wa,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},he=Gr(18,null,null,0),he.stateNode=Y,he.return=l,l.child=he,Sr=l,Ki=null,he=!0):he=!1}he||ml(l)}if(Y=l.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return y0(Y)?l.lanes=32:l.lanes=536870912,null;wl(l)}return Y=p.children,p=p.fallback,w?(hu(),w=l.mode,Y=yp({mode:"hidden",children:Y},w),p=Ha(p,w,d,null),Y.return=l,p.return=l,Y.sibling=p,l.child=Y,w=l.child,w.memoizedState=Rg(d),w.childLanes=Dg(a,I,d),l.memoizedState=Pg,p):(du(l),Ig(l,Y))}if(he=a.memoizedState,he!==null&&(Y=he.dehydrated,Y!==null)){if(A)l.flags&256?(du(l),l.flags&=-257,l=Og(a,l,d)):l.memoizedState!==null?(hu(),l.child=a.child,l.flags|=128,l=null):(hu(),w=p.fallback,Y=l.mode,p=yp({mode:"visible",children:p.children},Y),w=Ha(w,Y,d,null),w.flags|=2,p.return=l,w.return=l,p.sibling=w,l.child=p,ff(l,a.child,null,d),p=l.child,p.memoizedState=Rg(d),p.childLanes=Dg(a,I,d),l.memoizedState=Pg,l=w);else if(du(l),y0(Y)){if(I=Y.nextSibling&&Y.nextSibling.dataset,I)var Pe=I.dgst;I=Pe,p=Error(i(419)),p.stack="",p.digest=I,su({value:p,source:null,stack:null}),l=Og(a,l,d)}else if(Wr||au(a,l,d,!1),I=(d&a.childLanes)!==0,Wr||I){if(I=Ei,I!==null&&(p=d&-d,p=(p&42)!==0?1:or(p),p=(p&(I.suspendedLanes|d))!==0?0:p,p!==0&&p!==he.retryLane))throw he.retryLane=p,qa(a,p),fa(I,a,p),my;Y.data==="$?"||e0(),l=Og(a,l,d)}else Y.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=he.treeContext,Ki=no(Y.nextSibling),Sr=l,Hn=!0,Lo=null,_a=!1,a!==null&&(Us[ks++]=Wa,Us[ks++]=Ka,Us[ks++]=hl,Wa=a.id,Ka=a.overflow,hl=l),l=Ig(l,p.children),l.flags|=4096);return l}return w?(hu(),w=p.fallback,Y=l.mode,he=a.child,Pe=he.sibling,p=wa(he,{mode:"hidden",children:p.children}),p.subtreeFlags=he.subtreeFlags&65011712,Pe!==null?w=wa(Pe,w):(w=Ha(w,Y,d,null),w.flags|=2),w.return=l,p.return=l,p.sibling=w,l.child=p,p=w,w=l.child,Y=a.child.memoizedState,Y===null?Y=Rg(d):(he=Y.cachePool,he!==null?(Pe=Tr._currentValue,he=he.parent!==Pe?{parent:Pe,pool:Pe}:he):he=F(),Y={baseLanes:Y.baseLanes|d,cachePool:he}),w.memoizedState=Y,w.childLanes=Dg(a,I,d),l.memoizedState=Pg,p):(du(l),d=a.child,a=d.sibling,d=wa(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,a!==null&&(I=l.deletions,I===null?(l.deletions=[a],l.flags|=16):I.push(a)),l.child=d,l.memoizedState=null,d)}function Ig(a,l){return l=yp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function yp(a,l){return a=Gr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Og(a,l,d){return ff(l,a.child,null,d),a=Ig(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Ty(a,l,d){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Qc(a.return,l,d)}function Fg(a,l,d,p,w){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:w}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=d,A.tailMode=w)}function Cy(a,l,d){var p=l.pendingProps,w=p.revealOrder,A=p.tail;if(ss(a,l,p.children,d),p=Vr.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ty(a,d,l);else if(a.tag===19)Ty(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}switch(W(Vr,p),w){case"forwards":for(d=l.child,w=null;d!==null;)a=d.alternate,a!==null&&hp(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=l.child,l.child=null):(w=d.sibling,d.sibling=null),Fg(l,!1,w,d,A);break;case"backwards":for(d=null,w=l.child,l.child=null;w!==null;){if(a=w.alternate,a!==null&&hp(a)===null){l.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}Fg(l,!0,d,null,A);break;case"together":Fg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function _l(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),vu|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(au(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,d=wa(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=wa(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Bg(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&tf(a)))}function PA(a,l,d){switch(l.tag){case 3:pe(l,l.stateNode.containerInfo),Po(l,Tr,a.memoizedState.cache),Ms();break;case 27:case 5:$e(l);break;case 4:pe(l,l.stateNode.containerInfo);break;case 10:Po(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(du(l),l.flags|=128,null):(d&l.child.childLanes)!==0?Ay(a,l,d):(du(l),a=_l(a,l,d),a!==null?a.sibling:null);du(l);break;case 19:var w=(a.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(au(a,l,d,!1),p=(d&l.childLanes)!==0),w){if(p)return Cy(a,l,d);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),W(Vr,Vr.current),p)break;return null;case 22:case 23:return l.lanes=0,xy(a,l,d);case 24:Po(l,Tr,a.memoizedState.cache)}return _l(a,l,d)}function Ny(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Wr=!0;else{if(!Bg(a,d)&&(l.flags&128)===0)return Wr=!1,PA(a,l,d);Wr=(a.flags&131072)!==0}else Wr=!1,Hn&&(l.flags&1048576)!==0&&Kh(l,Xc,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var p=l.elementType,w=p._init;if(p=w(p._payload),l.type=p,typeof p=="function")iu(p)?(a=yc(p,a),l.tag=1,l=_y(null,l,p,a,d)):(l.tag=0,l=Lg(null,l,p,a,d));else{if(p!=null){if(w=p.$$typeof,w===$){l.tag=11,l=gy(null,l,p,a,d);break e}else if(w===Q){l.tag=14,l=yy(null,l,p,a,d);break e}}throw l=ae(p)||p,Error(i(306,l,""))}}return l;case 0:return Lg(a,l,l.type,l.pendingProps,d);case 1:return p=l.type,w=yc(p,l.pendingProps),_y(a,l,p,w,d);case 3:e:{if(pe(l,l.stateNode.containerInfo),a===null)throw Error(i(387));p=l.pendingProps;var A=l.memoizedState;w=A.element,Se(a,l),ut(l,p,null,d);var I=l.memoizedState;if(p=I.cache,Po(l,Tr,p),p!==A.cache&&ef(l,[Tr],d,!0),Mt(),p=I.element,A.isDehydrated)if(A={element:p,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){l=Sy(a,l,p,d);break e}else if(p!==w){w=wn(Error(i(424)),l),su(w),l=Sy(a,l,p,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ki=no(a.firstChild),Sr=l,Hn=!0,Lo=null,_a=!0,d=sy(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ms(),p===w){l=_l(a,l,d);break e}ss(a,l,p,d)}l=l.child}return l;case 26:return gp(a,l),a===null?(d=Lv(l.type,null,l.pendingProps,null))?l.memoizedState=d:Hn||(d=l.type,a=l.pendingProps,p=Lp(se.current).createElement(d),p[yn]=l,p[Gn]=a,os(p,d,a),Ln(p),l.stateNode=p):l.memoizedState=Lv(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return $e(l),a===null&&Hn&&(p=l.stateNode=Ev(l.type,l.pendingProps,se.current),Sr=l,_a=!0,w=Ki,_u(l.type)?(v0=w,Ki=no(p.firstChild)):Ki=w),ss(a,l,l.pendingProps.children,d),gp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Hn&&((w=p=Ki)&&(p=aT(p,l.type,l.pendingProps,_a),p!==null?(l.stateNode=p,Sr=l,Ki=no(p.firstChild),_a=!1,w=!0):w=!1),w||ml(l)),$e(l),w=l.type,A=l.pendingProps,I=a!==null?a.memoizedProps:null,p=A.children,p0(w,A)?p=null:I!==null&&p0(w,I)&&(l.flags|=32),l.memoizedState!==null&&(w=sa(a,l,Io,null,null,d),Gd._currentValue=w),gp(a,l),ss(a,l,p,d),l.child;case 6:return a===null&&Hn&&((a=d=Ki)&&(d=oT(d,l.pendingProps,_a),d!==null?(l.stateNode=d,Sr=l,Ki=null,a=!0):a=!1),a||ml(l)),null;case 13:return Ay(a,l,d);case 4:return pe(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=ff(l,null,p,d):ss(a,l,p,d),l.child;case 11:return gy(a,l,l.type,l.pendingProps,d);case 7:return ss(a,l,l.pendingProps,d),l.child;case 8:return ss(a,l,l.pendingProps.children,d),l.child;case 12:return ss(a,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,Po(l,l.type,p.value),ss(a,l,p.children,d),l.child;case 9:return w=l.type._context,p=l.pendingProps.children,Ta(l),w=Ar(w),p=p(w),l.flags|=1,ss(a,l,p,d),l.child;case 14:return yy(a,l,l.type,l.pendingProps,d);case 15:return vy(a,l,l.type,l.pendingProps,d);case 19:return Cy(a,l,d);case 31:return p=l.pendingProps,d=l.mode,p={mode:p.mode,children:p.children},a===null?(d=yp(p,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=wa(a.child,p),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return xy(a,l,d);case 24:return Ta(l),p=Ar(Tr),a===null?(w=E(),w===null&&(w=Ei,A=pd(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=d),w=A),l.memoizedState={parent:p,cache:w},be(l),Po(l,Tr,w)):((a.lanes&d)!==0&&(Se(a,l),ut(l,null,null,d),Mt()),w=a.memoizedState,A=l.memoizedState,w.parent!==p?(w={parent:p,cache:p},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Po(l,Tr,p)):(p=A.cache,Po(l,Tr,p),p!==w.cache&&ef(l,[Tr],d,!0))),ss(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Sl(a){a.flags|=4}function Ey(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Ov(l)){if(l=Na.current,l!==null&&((qn&4194048)===qn?Bo!==null:(qn&62914560)!==qn&&(qn&536870912)===0||l!==Bo))throw ke=J,H;a.flags|=8192}}function vp(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?ei():536870912,a.lanes|=l,mf|=l)}function Md(a,l){if(!Hn)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function ar(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(l)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=p,a.childLanes=d,l}function RA(a,l,d){var p=l.pendingProps;switch(rc(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(l),null;case 1:return ar(l),null;case 3:return d=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Aa(Tr),Te(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(is(l)?Sl(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,$h())),ar(l),null;case 26:return d=l.memoizedState,a===null?(Sl(l),d!==null?(ar(l),Ey(l,d)):(ar(l),l.flags&=-16777217)):d?d!==a.memoizedState?(Sl(l),ar(l),Ey(l,d)):(ar(l),l.flags&=-16777217):(a.memoizedProps!==p&&Sl(l),ar(l),l.flags&=-16777217),null;case 27:Ye(l),d=se.current;var w=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Sl(l);else{if(!p){if(l.stateNode===null)throw Error(i(166));return ar(l),null}a=j.current,is(l)?Yh(l):(a=Ev(w,p,d),l.stateNode=a,Sl(l))}return ar(l),null;case 5:if(Ye(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Sl(l);else{if(!p){if(l.stateNode===null)throw Error(i(166));return ar(l),null}if(a=j.current,is(l))Yh(l);else{switch(w=Lp(se.current),a){case 1:a=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=w.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof p.is=="string"?w.createElement("select",{is:p.is}):w.createElement("select"),p.multiple?a.multiple=!0:p.size&&(a.size=p.size);break;default:a=typeof p.is=="string"?w.createElement(d,{is:p.is}):w.createElement(d)}}a[yn]=l,a[Gn]=p;e:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)a.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break e;for(;w.sibling===null;){if(w.return===null||w.return===l)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=a;e:switch(os(a,d,p),d){case"button":case"input":case"select":case"textarea":a=!!p.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Sl(l)}}return ar(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&Sl(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(i(166));if(a=se.current,is(l)){if(a=l.stateNode,d=l.memoizedProps,p=null,w=Sr,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}a[yn]=l,a=!!(a.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||wv(a.nodeValue,d)),a||ml(l)}else a=Lp(a).createTextNode(p),a[yn]=l,l.stateNode=a}return ar(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=is(l),p!==null&&p.dehydrated!==null){if(a===null){if(!w)throw Error(i(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[yn]=l}else Ms(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ar(l),w=!1}else w=$h(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(wl(l),l):(wl(l),null)}if(wl(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=p!==null,a=a!==null&&a.memoizedState!==null,d){p=l.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool);var A=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(A=p.memoizedState.cachePool.pool),A!==w&&(p.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),vp(l,l.updateQueue),ar(l),null;case 4:return Te(),a===null&&u0(l.stateNode.containerInfo),ar(l),null;case 10:return Aa(l.type),ar(l),null;case 19:if(R(Vr),w=l.memoizedState,w===null)return ar(l),null;if(p=(l.flags&128)!==0,A=w.rendering,A===null)if(p)Md(w,!1);else{if(pr!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(A=hp(a),A!==null){for(l.flags|=128,Md(w,!1),a=A.updateQueue,l.updateQueue=a,vp(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)tc(d,a),d=d.sibling;return W(Vr,Vr.current&1|2),l.child}a=a.sibling}w.tail!==null&&bt()>wp&&(l.flags|=128,p=!0,Md(w,!1),l.lanes=4194304)}else{if(!p)if(a=hp(A),a!==null){if(l.flags|=128,p=!0,a=a.updateQueue,l.updateQueue=a,vp(l,a),Md(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!Hn)return ar(l),null}else 2*bt()-w.renderingStartTime>wp&&d!==536870912&&(l.flags|=128,p=!0,Md(w,!1),l.lanes=4194304);w.isBackwards?(A.sibling=l.child,l.child=A):(a=w.last,a!==null?a.sibling=A:l.child=A,w.last=A)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=bt(),l.sibling=null,a=Vr.current,W(Vr,p?a&1|2:a&1),l):(ar(l),null);case 22:case 23:return wl(l),nn(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(ar(l),l.subtreeFlags&6&&(l.flags|=8192)):ar(l),d=l.updateQueue,d!==null&&vp(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),a!==null&&R(_),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Aa(Tr),ar(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function DA(a,l){switch(rc(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Aa(Tr),Te(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ye(l),null;case 13:if(wl(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Ms()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return R(Vr),null;case 4:return Te(),null;case 10:return Aa(l.type),null;case 22:case 23:return wl(l),nn(),a!==null&&R(_),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Aa(Tr),null;case 25:return null;default:return null}}function ky(a,l){switch(rc(l),l.tag){case 3:Aa(Tr),Te();break;case 26:case 27:case 5:Ye(l);break;case 4:Te();break;case 13:wl(l);break;case 19:R(Vr);break;case 10:Aa(l.type);break;case 22:case 23:wl(l),nn(),a!==null&&R(_);break;case 24:Aa(Tr)}}function Ld(a,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var w=p.next;d=w;do{if((d.tag&a)===a){p=void 0;var A=d.create,I=d.inst;p=A(),I.destroy=p}d=d.next}while(d!==w)}}catch(Y){yi(l,l.return,Y)}}function pu(a,l,d){try{var p=l.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var A=w.next;p=A;do{if((p.tag&a)===a){var I=p.inst,Y=I.destroy;if(Y!==void 0){I.destroy=void 0,w=l;var he=d,Pe=Y;try{Pe()}catch(Ue){yi(w,he,Ue)}}}p=p.next}while(p!==A)}}catch(Ue){yi(l,l.return,Ue)}}function My(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{$n(l,d)}catch(p){yi(a,a.return,p)}}}function Ly(a,l,d){d.props=yc(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(p){yi(a,l,p)}}function Pd(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof d=="function"?a.refCleanup=d(p):d.current=p}}catch(w){yi(a,l,w)}}function zo(a,l){var d=a.ref,p=a.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(w){yi(a,l,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){yi(a,l,w)}else d.current=null}function Py(a){var l=a.type,d=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(w){yi(a,a.return,w)}}function zg(a,l,d){try{var p=a.stateNode;tT(p,a.type,d,l),p[Gn]=l}catch(w){yi(a,a.return,w)}}function Ry(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&_u(a.type)||a.tag===4}function jg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ry(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&_u(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ug(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Mp));else if(p!==4&&(p===27&&_u(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(Ug(a,l,d),a=a.sibling;a!==null;)Ug(a,l,d),a=a.sibling}function xp(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(p!==4&&(p===27&&_u(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(xp(a,l,d),a=a.sibling;a!==null;)xp(a,l,d),a=a.sibling}function Dy(a){var l=a.stateNode,d=a.memoizedProps;try{for(var p=a.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);os(l,p,d),l[yn]=a,l[Gn]=d}catch(A){yi(a,a.return,A)}}var Al=!1,Nr=!1,Vg=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function IA(a,l){if(a=a.containerInfo,d0=Fp,a=ns(a),Ur(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var w=p.anchorOffset,A=p.focusNode;p=p.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var I=0,Y=-1,he=-1,Pe=0,Ue=0,We=a,De=null;t:for(;;){for(var Ie;We!==d||w!==0&&We.nodeType!==3||(Y=I+w),We!==A||p!==0&&We.nodeType!==3||(he=I+p),We.nodeType===3&&(I+=We.nodeValue.length),(Ie=We.firstChild)!==null;)De=We,We=Ie;for(;;){if(We===a)break t;if(De===d&&++Pe===w&&(Y=I),De===A&&++Ue===p&&(he=I),(Ie=We.nextSibling)!==null)break;We=De,De=We.parentNode}We=Ie}d=Y===-1||he===-1?null:{start:Y,end:he}}else d=null}d=d||{start:0,end:0}}else d=null;for(h0={focusedElem:a,selectionRange:d},Fp=!1,Kr=l;Kr!==null;)if(l=Kr,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Kr=a;else for(;Kr!==null;){switch(l=Kr,A=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&A!==null){a=void 0,d=l,w=A.memoizedProps,A=A.memoizedState,p=d.stateNode;try{var Xt=yc(d.type,w,d.elementType===d.type);a=p.getSnapshotBeforeUpdate(Xt,A),p.__reactInternalSnapshotBeforeUpdate=a}catch(qt){yi(d,d.return,qt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)g0(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":g0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,Kr=a;break}Kr=l.return}}function Oy(a,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:mu(a,d),p&4&&Ld(5,d);break;case 1:if(mu(a,d),p&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(I){yi(d,d.return,I)}else{var w=yc(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(w,l,a.__reactInternalSnapshotBeforeUpdate)}catch(I){yi(d,d.return,I)}}p&64&&My(d),p&512&&Pd(d,d.return);break;case 3:if(mu(a,d),p&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{$n(a,l)}catch(I){yi(d,d.return,I)}}break;case 27:l===null&&p&4&&Dy(d);case 26:case 5:mu(a,d),l===null&&p&4&&Py(d),p&512&&Pd(d,d.return);break;case 12:mu(a,d);break;case 13:mu(a,d),p&4&&zy(a,d),p&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=HA.bind(null,d),lT(a,d))));break;case 22:if(p=d.memoizedState!==null||Al,!p){l=l!==null&&l.memoizedState!==null||Nr,w=Al;var A=Nr;Al=p,(Nr=l)&&!A?gu(a,d,(d.subtreeFlags&8772)!==0):mu(a,d),Al=w,Nr=A}break;case 30:break;default:mu(a,d)}}function Fy(a){var l=a.alternate;l!==null&&(a.alternate=null,Fy(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&xr(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Yi=null,qs=!1;function Tl(a,l,d){for(d=d.child;d!==null;)By(a,l,d),d=d.sibling}function By(a,l,d){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(It,d)}catch{}switch(d.tag){case 26:Nr||zo(d,l),Tl(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Nr||zo(d,l);var p=Yi,w=qs;_u(d.type)&&(Yi=d.stateNode,qs=!1),Tl(a,l,d),Ud(d.stateNode),Yi=p,qs=w;break;case 5:Nr||zo(d,l);case 6:if(p=Yi,w=qs,Yi=null,Tl(a,l,d),Yi=p,qs=w,Yi!==null)if(qs)try{(Yi.nodeType===9?Yi.body:Yi.nodeName==="HTML"?Yi.ownerDocument.body:Yi).removeChild(d.stateNode)}catch(A){yi(d,l,A)}else try{Yi.removeChild(d.stateNode)}catch(A){yi(d,l,A)}break;case 18:Yi!==null&&(qs?(a=Yi,Cv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),$d(a)):Cv(Yi,d.stateNode));break;case 4:p=Yi,w=qs,Yi=d.stateNode.containerInfo,qs=!0,Tl(a,l,d),Yi=p,qs=w;break;case 0:case 11:case 14:case 15:Nr||pu(2,d,l),Nr||pu(4,d,l),Tl(a,l,d);break;case 1:Nr||(zo(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&Ly(d,l,p)),Tl(a,l,d);break;case 21:Tl(a,l,d);break;case 22:Nr=(p=Nr)||d.memoizedState!==null,Tl(a,l,d),Nr=p;break;default:Tl(a,l,d)}}function zy(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{$d(a)}catch(d){yi(l,l.return,d)}}function OA(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Iy),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Iy),l;default:throw Error(i(435,a.tag))}}function qg(a,l){var d=OA(a);l.forEach(function(p){var w=GA.bind(null,a,p);d.has(p)||(d.add(p),p.then(w,w))})}function oa(a,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var w=d[p],A=a,I=l,Y=I;e:for(;Y!==null;){switch(Y.tag){case 27:if(_u(Y.type)){Yi=Y.stateNode,qs=!1;break e}break;case 5:Yi=Y.stateNode,qs=!1;break e;case 3:case 4:Yi=Y.stateNode.containerInfo,qs=!0;break e}Y=Y.return}if(Yi===null)throw Error(i(160));By(A,I,w),Yi=null,qs=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)jy(l,a),l=l.sibling}var to=null;function jy(a,l){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:oa(l,a),la(a),p&4&&(pu(3,a,a.return),Ld(3,a),pu(5,a,a.return));break;case 1:oa(l,a),la(a),p&512&&(Nr||d===null||zo(d,d.return)),p&64&&Al&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var w=to;if(oa(l,a),la(a),p&512&&(Nr||d===null||zo(d,d.return)),p&4){var A=d!==null?d.memoizedState:null;if(p=a.memoizedState,d===null)if(p===null)if(a.stateNode===null){e:{p=a.type,d=a.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":A=w.getElementsByTagName("title")[0],(!A||A[li]||A[yn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(p),w.head.insertBefore(A,w.querySelector("head > title"))),os(A,p,d),A[yn]=a,Ln(A),p=A;break e;case"link":var I=Dv("link","href",w).get(p+(d.href||""));if(I){for(var Y=0;Y<I.length;Y++)if(A=I[Y],A.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&A.getAttribute("rel")===(d.rel==null?null:d.rel)&&A.getAttribute("title")===(d.title==null?null:d.title)&&A.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){I.splice(Y,1);break t}}A=w.createElement(p),os(A,p,d),w.head.appendChild(A);break;case"meta":if(I=Dv("meta","content",w).get(p+(d.content||""))){for(Y=0;Y<I.length;Y++)if(A=I[Y],A.getAttribute("content")===(d.content==null?null:""+d.content)&&A.getAttribute("name")===(d.name==null?null:d.name)&&A.getAttribute("property")===(d.property==null?null:d.property)&&A.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&A.getAttribute("charset")===(d.charSet==null?null:d.charSet)){I.splice(Y,1);break t}}A=w.createElement(p),os(A,p,d),w.head.appendChild(A);break;default:throw Error(i(468,p))}A[yn]=a,Ln(A),p=A}a.stateNode=p}else Iv(w,a.type,a.stateNode);else a.stateNode=Rv(w,p,a.memoizedProps);else A!==p?(A===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):A.count--,p===null?Iv(w,a.type,a.stateNode):Rv(w,p,a.memoizedProps)):p===null&&a.stateNode!==null&&zg(a,a.memoizedProps,d.memoizedProps)}break;case 27:oa(l,a),la(a),p&512&&(Nr||d===null||zo(d,d.return)),d!==null&&p&4&&zg(a,a.memoizedProps,d.memoizedProps);break;case 5:if(oa(l,a),la(a),p&512&&(Nr||d===null||zo(d,d.return)),a.flags&32){w=a.stateNode;try{Zs(w,"")}catch(Ie){yi(a,a.return,Ie)}}p&4&&a.stateNode!=null&&(w=a.memoizedProps,zg(a,w,d!==null?d.memoizedProps:w)),p&1024&&(Vg=!0);break;case 6:if(oa(l,a),la(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,d=a.stateNode;try{d.nodeValue=p}catch(Ie){yi(a,a.return,Ie)}}break;case 3:if(Dp=null,w=to,to=Pp(l.containerInfo),oa(l,a),to=w,la(a),p&4&&d!==null&&d.memoizedState.isDehydrated)try{$d(l.containerInfo)}catch(Ie){yi(a,a.return,Ie)}Vg&&(Vg=!1,Uy(a));break;case 4:p=to,to=Pp(a.stateNode.containerInfo),oa(l,a),la(a),to=p;break;case 12:oa(l,a),la(a);break;case 13:oa(l,a),la(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&($g=bt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,qg(a,p)));break;case 22:w=a.memoizedState!==null;var he=d!==null&&d.memoizedState!==null,Pe=Al,Ue=Nr;if(Al=Pe||w,Nr=Ue||he,oa(l,a),Nr=Ue,Al=Pe,la(a),p&8192)e:for(l=a.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(d===null||he||Al||Nr||vc(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){he=d=l;try{if(A=he.stateNode,w)I=A.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{Y=he.stateNode;var We=he.memoizedProps.style,De=We!=null&&We.hasOwnProperty("display")?We.display:null;Y.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Ie){yi(he,he.return,Ie)}}}else if(l.tag===6){if(d===null){he=l;try{he.stateNode.nodeValue=w?"":he.memoizedProps}catch(Ie){yi(he,he.return,Ie)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,qg(a,d))));break;case 19:oa(l,a),la(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,qg(a,p)));break;case 30:break;case 21:break;default:oa(l,a),la(a)}}function la(a){var l=a.flags;if(l&2){try{for(var d,p=a.return;p!==null;){if(Ry(p)){d=p;break}p=p.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var w=d.stateNode,A=jg(a);xp(a,A,w);break;case 5:var I=d.stateNode;d.flags&32&&(Zs(I,""),d.flags&=-33);var Y=jg(a);xp(a,Y,I);break;case 3:case 4:var he=d.stateNode.containerInfo,Pe=jg(a);Ug(a,Pe,he);break;default:throw Error(i(161))}}catch(Ue){yi(a,a.return,Ue)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Uy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Uy(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function mu(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Oy(a,l.alternate,l),l=l.sibling}function vc(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:pu(4,l,l.return),vc(l);break;case 1:zo(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Ly(l,l.return,d),vc(l);break;case 27:Ud(l.stateNode);case 26:case 5:zo(l,l.return),vc(l);break;case 22:l.memoizedState===null&&vc(l);break;case 30:vc(l);break;default:vc(l)}a=a.sibling}}function gu(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,w=a,A=l,I=A.flags;switch(A.tag){case 0:case 11:case 15:gu(w,A,d),Ld(4,A);break;case 1:if(gu(w,A,d),p=A,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Pe){yi(p,p.return,Pe)}if(p=A,w=p.updateQueue,w!==null){var Y=p.stateNode;try{var he=w.shared.hiddenCallbacks;if(he!==null)for(w.shared.hiddenCallbacks=null,w=0;w<he.length;w++)Un(he[w],Y)}catch(Pe){yi(p,p.return,Pe)}}d&&I&64&&My(A),Pd(A,A.return);break;case 27:Dy(A);case 26:case 5:gu(w,A,d),d&&p===null&&I&4&&Py(A),Pd(A,A.return);break;case 12:gu(w,A,d);break;case 13:gu(w,A,d),d&&I&4&&zy(w,A);break;case 22:A.memoizedState===null&&gu(w,A,d),Pd(A,A.return);break;case 30:break;default:gu(w,A,d)}l=l.sibling}}function Hg(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&sc(d))}function Gg(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&sc(a))}function jo(a,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Vy(a,l,d,p),l=l.sibling}function Vy(a,l,d,p){var w=l.flags;switch(l.tag){case 0:case 11:case 15:jo(a,l,d,p),w&2048&&Ld(9,l);break;case 1:jo(a,l,d,p);break;case 3:jo(a,l,d,p),w&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&sc(a)));break;case 12:if(w&2048){jo(a,l,d,p),a=l.stateNode;try{var A=l.memoizedProps,I=A.id,Y=A.onPostCommit;typeof Y=="function"&&Y(I,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(he){yi(l,l.return,he)}}else jo(a,l,d,p);break;case 13:jo(a,l,d,p);break;case 23:break;case 22:A=l.stateNode,I=l.alternate,l.memoizedState!==null?A._visibility&2?jo(a,l,d,p):Rd(a,l):A._visibility&2?jo(a,l,d,p):(A._visibility|=2,df(a,l,d,p,(l.subtreeFlags&10256)!==0)),w&2048&&Hg(I,l);break;case 24:jo(a,l,d,p),w&2048&&Gg(l.alternate,l);break;default:jo(a,l,d,p)}}function df(a,l,d,p,w){for(w=w&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var A=a,I=l,Y=d,he=p,Pe=I.flags;switch(I.tag){case 0:case 11:case 15:df(A,I,Y,he,w),Ld(8,I);break;case 23:break;case 22:var Ue=I.stateNode;I.memoizedState!==null?Ue._visibility&2?df(A,I,Y,he,w):Rd(A,I):(Ue._visibility|=2,df(A,I,Y,he,w)),w&&Pe&2048&&Hg(I.alternate,I);break;case 24:df(A,I,Y,he,w),w&&Pe&2048&&Gg(I.alternate,I);break;default:df(A,I,Y,he,w)}l=l.sibling}}function Rd(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,p=l,w=p.flags;switch(p.tag){case 22:Rd(d,p),w&2048&&Hg(p.alternate,p);break;case 24:Rd(d,p),w&2048&&Gg(p.alternate,p);break;default:Rd(d,p)}l=l.sibling}}var Dd=8192;function hf(a){if(a.subtreeFlags&Dd)for(a=a.child;a!==null;)qy(a),a=a.sibling}function qy(a){switch(a.tag){case 26:hf(a),a.flags&Dd&&a.memoizedState!==null&&wT(to,a.memoizedState,a.memoizedProps);break;case 5:hf(a);break;case 3:case 4:var l=to;to=Pp(a.stateNode.containerInfo),hf(a),to=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Dd,Dd=16777216,hf(a),Dd=l):hf(a));break;default:hf(a)}}function Hy(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Id(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Kr=p,Wy(p,a)}Hy(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Gy(a),a=a.sibling}function Gy(a){switch(a.tag){case 0:case 11:case 15:Id(a),a.flags&2048&&pu(9,a,a.return);break;case 3:Id(a);break;case 12:Id(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,bp(a)):Id(a);break;default:Id(a)}}function bp(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Kr=p,Wy(p,a)}Hy(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:pu(8,l,l.return),bp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,bp(l));break;default:bp(l)}a=a.sibling}}function Wy(a,l){for(;Kr!==null;){var d=Kr;switch(d.tag){case 0:case 11:case 15:pu(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:sc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Kr=p;else e:for(d=a;Kr!==null;){p=Kr;var w=p.sibling,A=p.return;if(Fy(p),p===d){Kr=null;break e}if(w!==null){w.return=A,Kr=w;break e}Kr=A}}}var FA={getCacheForType:function(a){var l=Ar(Tr),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},BA=typeof WeakMap=="function"?WeakMap:Map,ri=0,Ei=null,Nn=null,qn=0,si=0,ua=null,yu=!1,pf=!1,Wg=!1,Cl=0,pr=0,vu=0,xc=0,Kg=0,Ea=0,mf=0,Od=null,Hs=null,Yg=!1,$g=0,wp=1/0,_p=null,xu=null,as=0,bu=null,gf=null,yf=0,Jg=0,Zg=null,Ky=null,Fd=0,Xg=null;function ca(){if((ri&2)!==0&&qn!==0)return qn&-qn;if(te.T!==null){var a=gl;return a!==0?a:s0()}return Pi()}function Yy(){Ea===0&&(Ea=(qn&536870912)===0||Hn?As():536870912);var a=Na.current;return a!==null&&(a.flags|=32),Ea}function fa(a,l,d){(a===Ei&&(si===2||si===9)||a.cancelPendingCommit!==null)&&(vf(a,0),wu(a,qn,Ea,!1)),bi(a,d),((ri&2)===0||a!==Ei)&&(a===Ei&&((ri&2)===0&&(xc|=d),pr===4&&wu(a,qn,Ea,!1)),Uo(a))}function $y(a,l,d){if((ri&6)!==0)throw Error(i(327));var p=!d&&(l&124)===0&&(l&a.expiredLanes)===0||Li(a,l),w=p?UA(a,l):t0(a,l,!0),A=p;do{if(w===0){pf&&!p&&wu(a,l,0,!1);break}else{if(d=a.current.alternate,A&&!zA(d)){w=t0(a,l,!1),A=!1;continue}if(w===2){if(A=l,a.errorRecoveryDisabledLanes&A)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var Y=a;w=Od;var he=Y.current.memoizedState.isDehydrated;if(he&&(vf(Y,I).flags|=256),I=t0(Y,I,!1),I!==2){if(Wg&&!he){Y.errorRecoveryDisabledLanes|=A,xc|=A,w=4;break e}A=Hs,Hs=w,A!==null&&(Hs===null?Hs=A:Hs.push.apply(Hs,A))}w=I}if(A=!1,w!==2)continue}}if(w===1){vf(a,0),wu(a,l,0,!0);break}e:{switch(p=a,A=w,A){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:wu(p,l,Ea,!yu);break e;case 2:Hs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(w=$g+300-bt(),10<w)){if(wu(p,l,Ea,!yu),gn(p,0,!0)!==0)break e;p.timeoutHandle=Av(Jy.bind(null,p,d,Hs,_p,Yg,l,Ea,xc,mf,yu,A,2,-0,0),w);break e}Jy(p,d,Hs,_p,Yg,l,Ea,xc,mf,yu,A,0,-0,0)}}break}while(!0);Uo(a)}function Jy(a,l,d,p,w,A,I,Y,he,Pe,Ue,We,De,Ie){if(a.timeoutHandle=-1,We=l.subtreeFlags,(We&8192||(We&16785408)===16785408)&&(Hd={stylesheets:null,count:0,unsuspend:bT},qy(l),We=_T(),We!==null)){a.cancelPendingCommit=We(iv.bind(null,a,l,A,d,p,w,I,Y,he,Ue,1,De,Ie)),wu(a,A,I,!Pe);return}iv(a,l,A,d,p,w,I,Y,he)}function zA(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var w=d[p],A=w.getSnapshot;w=w.value;try{if(!Dr(A(),w))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function wu(a,l,d,p){l&=~Kg,l&=~xc,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var w=l;0<w;){var A=31-vt(w),I=1<<A;p[A]=-1,w&=~I}d!==0&&Ft(a,d,l)}function Sp(){return(ri&6)===0?(Bd(0),!1):!0}function Qg(){if(Nn!==null){if(si===0)var a=Nn.return;else a=Nn,$a=Or=null,rf(a),cf=null,Ed=0,a=Nn;for(;a!==null;)ky(a.alternate,a),a=a.return;Nn=null}}function vf(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,iT(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Qg(),Ei=a,Nn=d=wa(a.current,null),qn=l,si=0,ua=null,yu=!1,pf=Li(a,l),Wg=!1,mf=Ea=Kg=xc=vu=pr=0,Hs=Od=null,Yg=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var w=31-vt(p),A=1<<w;l|=a[w],p&=~A}return Cl=l,zs(),d}function Zy(a,l){jt=null,te.H=cp,l===U||l===K?(l=Ae(),si=3):l===H?(l=Ae(),si=4):si=l===my?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ua=l,Nn===null&&(pr=1,mp(a,wn(l,a.current)))}function Xy(){var a=te.H;return te.H=cp,a===null?cp:a}function Qy(){var a=te.A;return te.A=FA,a}function e0(){pr=4,yu||(qn&4194048)!==qn&&Na.current!==null||(pf=!0),(vu&134217727)===0&&(xc&134217727)===0||Ei===null||wu(Ei,qn,Ea,!1)}function t0(a,l,d){var p=ri;ri|=2;var w=Xy(),A=Qy();(Ei!==a||qn!==l)&&(_p=null,vf(a,l)),l=!1;var I=pr;e:do try{if(si!==0&&Nn!==null){var Y=Nn,he=ua;switch(si){case 8:Qg(),I=6;break e;case 3:case 2:case 9:case 6:Na.current===null&&(l=!0);var Pe=si;if(si=0,ua=null,xf(a,Y,he,Pe),d&&pf){I=0;break e}break;default:Pe=si,si=0,ua=null,xf(a,Y,he,Pe)}}jA(),I=pr;break}catch(Ue){Zy(a,Ue)}while(!0);return l&&a.shellSuspendCounter++,$a=Or=null,ri=p,te.H=w,te.A=A,Nn===null&&(Ei=null,qn=0,zs()),I}function jA(){for(;Nn!==null;)ev(Nn)}function UA(a,l){var d=ri;ri|=2;var p=Xy(),w=Qy();Ei!==a||qn!==l?(_p=null,wp=bt()+500,vf(a,l)):pf=Li(a,l);e:do try{if(si!==0&&Nn!==null){l=Nn;var A=ua;t:switch(si){case 1:si=0,ua=null,xf(a,l,A,1);break;case 2:case 9:if(ie(A)){si=0,ua=null,tv(l);break}l=function(){si!==2&&si!==9||Ei!==a||(si=7),Uo(a)},A.then(l,l);break e;case 3:si=7;break e;case 4:si=5;break e;case 7:ie(A)?(si=0,ua=null,tv(l)):(si=0,ua=null,xf(a,l,A,7));break;case 5:var I=null;switch(Nn.tag){case 26:I=Nn.memoizedState;case 5:case 27:var Y=Nn;if(!I||Ov(I)){si=0,ua=null;var he=Y.sibling;if(he!==null)Nn=he;else{var Pe=Y.return;Pe!==null?(Nn=Pe,Ap(Pe)):Nn=null}break t}}si=0,ua=null,xf(a,l,A,5);break;case 6:si=0,ua=null,xf(a,l,A,6);break;case 8:Qg(),pr=6;break e;default:throw Error(i(462))}}VA();break}catch(Ue){Zy(a,Ue)}while(!0);return $a=Or=null,te.H=p,te.A=w,ri=d,Nn!==null?0:(Ei=null,qn=0,zs(),pr)}function VA(){for(;Nn!==null&&!Fe();)ev(Nn)}function ev(a){var l=Ny(a.alternate,a,Cl);a.memoizedProps=a.pendingProps,l===null?Ap(a):Nn=l}function tv(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=wy(d,l,l.pendingProps,l.type,void 0,qn);break;case 11:l=wy(d,l,l.pendingProps,l.type.render,l.ref,qn);break;case 5:rf(l);default:ky(d,l),l=Nn=tc(l,Cl),l=Ny(d,l,Cl)}a.memoizedProps=a.pendingProps,l===null?Ap(a):Nn=l}function xf(a,l,d,p){$a=Or=null,rf(l),cf=null,Ed=0;var w=l.return;try{if(LA(a,w,l,d,qn)){pr=1,mp(a,wn(d,a.current)),Nn=null;return}}catch(A){if(w!==null)throw Nn=w,A;pr=1,mp(a,wn(d,a.current)),Nn=null;return}l.flags&32768?(Hn||p===1?a=!0:pf||(qn&536870912)!==0?a=!1:(yu=a=!0,(p===2||p===9||p===3||p===6)&&(p=Na.current,p!==null&&p.tag===13&&(p.flags|=16384))),nv(l,a)):Ap(l)}function Ap(a){var l=a;do{if((l.flags&32768)!==0){nv(l,yu);return}a=l.return;var d=RA(l.alternate,l,Cl);if(d!==null){Nn=d;return}if(l=l.sibling,l!==null){Nn=l;return}Nn=l=a}while(l!==null);pr===0&&(pr=5)}function nv(a,l){do{var d=DA(a.alternate,a);if(d!==null){d.flags&=32767,Nn=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){Nn=a;return}Nn=a=d}while(a!==null);pr=6,Nn=null}function iv(a,l,d,p,w,A,I,Y,he){a.cancelPendingCommit=null;do Tp();while(as!==0);if((ri&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(A=l.lanes|l.childLanes,A|=ir,ni(a,d,A,I,Y,he),a===Ei&&(Nn=Ei=null,qn=0),gf=l,bu=a,yf=d,Jg=A,Zg=w,Ky=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,WA(rt,function(){return lv(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=te.T,te.T=null,w=ce.p,ce.p=2,I=ri,ri|=4;try{IA(a,l,d)}finally{ri=I,ce.p=w,te.T=p}}as=1,rv(),sv(),av()}}function rv(){if(as===1){as=0;var a=bu,l=gf,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=te.T,te.T=null;var p=ce.p;ce.p=2;var w=ri;ri|=4;try{jy(l,a);var A=h0,I=ns(a.containerInfo),Y=A.focusedElem,he=A.selectionRange;if(I!==Y&&Y&&Y.ownerDocument&&_o(Y.ownerDocument.documentElement,Y)){if(he!==null&&Ur(Y)){var Pe=he.start,Ue=he.end;if(Ue===void 0&&(Ue=Pe),"selectionStart"in Y)Y.selectionStart=Pe,Y.selectionEnd=Math.min(Ue,Y.value.length);else{var We=Y.ownerDocument||document,De=We&&We.defaultView||window;if(De.getSelection){var Ie=De.getSelection(),Xt=Y.textContent.length,qt=Math.min(he.start,Xt),di=he.end===void 0?qt:Math.min(he.end,Xt);!Ie.extend&&qt>di&&(I=di,di=qt,qt=I);var Ce=Ua(Y,qt),we=Ua(Y,di);if(Ce&&we&&(Ie.rangeCount!==1||Ie.anchorNode!==Ce.node||Ie.anchorOffset!==Ce.offset||Ie.focusNode!==we.node||Ie.focusOffset!==we.offset)){var Me=We.createRange();Me.setStart(Ce.node,Ce.offset),Ie.removeAllRanges(),qt>di?(Ie.addRange(Me),Ie.extend(we.node,we.offset)):(Me.setEnd(we.node,we.offset),Ie.addRange(Me))}}}}for(We=[],Ie=Y;Ie=Ie.parentNode;)Ie.nodeType===1&&We.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<We.length;Y++){var qe=We[Y];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Fp=!!d0,h0=d0=null}finally{ri=w,ce.p=p,te.T=d}}a.current=l,as=2}}function sv(){if(as===2){as=0;var a=bu,l=gf,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=te.T,te.T=null;var p=ce.p;ce.p=2;var w=ri;ri|=4;try{Oy(a,l.alternate,l)}finally{ri=w,ce.p=p,te.T=d}}as=3}}function av(){if(as===4||as===3){as=0,ue();var a=bu,l=gf,d=yf,p=Ky;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?as=5:(as=0,gf=bu=null,ov(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(xu=null),wi(d),l=l.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(It,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=te.T,w=ce.p,ce.p=2,te.T=null;try{for(var A=a.onRecoverableError,I=0;I<p.length;I++){var Y=p[I];A(Y.value,{componentStack:Y.stack})}}finally{te.T=l,ce.p=w}}(yf&3)!==0&&Tp(),Uo(a),w=a.pendingLanes,(d&4194090)!==0&&(w&42)!==0?a===Xg?Fd++:(Fd=0,Xg=a):Fd=0,Bd(0)}}function ov(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,sc(l)))}function Tp(a){return rv(),sv(),av(),lv()}function lv(){if(as!==5)return!1;var a=bu,l=Jg;Jg=0;var d=wi(yf),p=te.T,w=ce.p;try{ce.p=32>d?32:d,te.T=null,d=Zg,Zg=null;var A=bu,I=yf;if(as=0,gf=bu=null,yf=0,(ri&6)!==0)throw Error(i(331));var Y=ri;if(ri|=4,Gy(A.current),Vy(A,A.current,I,d),ri=Y,Bd(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(It,A)}catch{}return!0}finally{ce.p=w,te.T=p,ov(a,l)}}function uv(a,l,d){l=wn(d,l),l=Mg(a.stateNode,l,2),a=Ge(a,l,2),a!==null&&(bi(a,2),Uo(a))}function yi(a,l,d){if(a.tag===3)uv(a,a,d);else for(;l!==null;){if(l.tag===3){uv(l,a,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(xu===null||!xu.has(p))){a=wn(d,a),d=hy(2),p=Ge(l,d,2),p!==null&&(py(d,p,l,a),bi(p,2),Uo(p));break}}l=l.return}}function n0(a,l,d){var p=a.pingCache;if(p===null){p=a.pingCache=new BA;var w=new Set;p.set(l,w)}else w=p.get(l),w===void 0&&(w=new Set,p.set(l,w));w.has(d)||(Wg=!0,w.add(d),a=qA.bind(null,a,l,d),l.then(a,a))}function qA(a,l,d){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Ei===a&&(qn&d)===d&&(pr===4||pr===3&&(qn&62914560)===qn&&300>bt()-$g?(ri&2)===0&&vf(a,0):Kg|=d,mf===qn&&(mf=0)),Uo(a)}function cv(a,l){l===0&&(l=ei()),a=qa(a,l),a!==null&&(bi(a,l),Uo(a))}function HA(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),cv(a,d)}function GA(a,l){var d=0;switch(a.tag){case 13:var p=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(l),cv(a,d)}function WA(a,l){return tt(a,l)}var Cp=null,bf=null,i0=!1,Np=!1,r0=!1,bc=0;function Uo(a){a!==bf&&a.next===null&&(bf===null?Cp=bf=a:bf=bf.next=a),Np=!0,i0||(i0=!0,YA())}function Bd(a,l){if(!r0&&Np){r0=!0;do for(var d=!1,p=Cp;p!==null;){if(a!==0){var w=p.pendingLanes;if(w===0)var A=0;else{var I=p.suspendedLanes,Y=p.pingedLanes;A=(1<<31-vt(42|a)+1)-1,A&=w&~(I&~Y),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(d=!0,pv(p,A))}else A=qn,A=gn(p,p===Ei?A:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(A&3)===0||Li(p,A)||(d=!0,pv(p,A));p=p.next}while(d);r0=!1}}function KA(){fv()}function fv(){Np=i0=!1;var a=0;bc!==0&&(nT()&&(a=bc),bc=0);for(var l=bt(),d=null,p=Cp;p!==null;){var w=p.next,A=dv(p,l);A===0?(p.next=null,d===null?Cp=w:d.next=w,w===null&&(bf=d)):(d=p,(a!==0||(A&3)!==0)&&(Np=!0)),p=w}Bd(a)}function dv(a,l){for(var d=a.suspendedLanes,p=a.pingedLanes,w=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var I=31-vt(A),Y=1<<I,he=w[I];he===-1?((Y&d)===0||(Y&p)!==0)&&(w[I]=Gt(Y,l)):he<=l&&(a.expiredLanes|=Y),A&=~Y}if(l=Ei,d=qn,d=gn(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,d===0||a===l&&(si===2||si===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&xt(p),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Li(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(p!==null&&xt(p),wi(d)){case 2:case 8:d=it;break;case 32:d=rt;break;case 268435456:d=ot;break;default:d=rt}return p=hv.bind(null,a),d=tt(d,p),a.callbackPriority=l,a.callbackNode=d,l}return p!==null&&p!==null&&xt(p),a.callbackPriority=2,a.callbackNode=null,2}function hv(a,l){if(as!==0&&as!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Tp()&&a.callbackNode!==d)return null;var p=qn;return p=gn(a,a===Ei?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:($y(a,p,l),dv(a,bt()),a.callbackNode!=null&&a.callbackNode===d?hv.bind(null,a):null)}function pv(a,l){if(Tp())return null;$y(a,l,!0)}function YA(){rT(function(){(ri&6)!==0?tt(Je,KA):fv()})}function s0(){return bc===0&&(bc=As()),bc}function mv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Xs(""+a)}function gv(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function $A(a,l,d,p,w){if(l==="submit"&&d&&d.stateNode===w){var A=mv((w[Gn]||null).action),I=p.submitter;I&&(l=(l=I[Gn]||null)?mv(l.formAction):I.getAttribute("formAction"),l!==null&&(A=l,I=null));var Y=new zn("action","action",null,p,w);a.push({event:Y,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(bc!==0){var he=I?gv(w,I):new FormData(w);Ca(d,{pending:!0,data:he,method:w.method,action:A},null,he)}}else typeof A=="function"&&(Y.preventDefault(),he=I?gv(w,I):new FormData(w),Ca(d,{pending:!0,data:he,method:w.method,action:A},A,he))},currentTarget:w}]})}}for(var a0=0;a0<cl.length;a0++){var o0=cl[a0],JA=o0.toLowerCase(),ZA=o0[0].toUpperCase()+o0.slice(1);Wi(JA,"on"+ZA)}Wi(tu,"onAnimationEnd"),Wi(Ao,"onAnimationIteration"),Wi(To,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(Co,"onTransitionRun"),Wi(ul,"onTransitionStart"),Wi(nu,"onTransitionCancel"),Wi(No,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zd));function yv(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var p=a[d],w=p.event;p=p.listeners;e:{var A=void 0;if(l)for(var I=p.length-1;0<=I;I--){var Y=p[I],he=Y.instance,Pe=Y.currentTarget;if(Y=Y.listener,he!==A&&w.isPropagationStopped())break e;A=Y,w.currentTarget=Pe;try{A(w)}catch(Ue){pp(Ue)}w.currentTarget=null,A=he}else for(I=0;I<p.length;I++){if(Y=p[I],he=Y.instance,Pe=Y.currentTarget,Y=Y.listener,he!==A&&w.isPropagationStopped())break e;A=Y,w.currentTarget=Pe;try{A(w)}catch(Ue){pp(Ue)}w.currentTarget=null,A=he}}}}function En(a,l){var d=l[On];d===void 0&&(d=l[On]=new Set);var p=a+"__bubble";d.has(p)||(vv(l,a,2,!1),d.add(p))}function l0(a,l,d){var p=0;l&&(p|=4),vv(d,a,p,l)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function u0(a){if(!a[Ep]){a[Ep]=!0,Ds.forEach(function(d){d!=="selectionchange"&&(XA.has(d)||l0(d,!1,a),l0(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Ep]||(l[Ep]=!0,l0("selectionchange",!1,l))}}function vv(a,l,d,p){switch(Vv(l)){case 2:var w=TT;break;case 8:w=CT;break;default:w=S0}d=w.bind(null,l,d,a),w=void 0,!fn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),p?w!==void 0?a.addEventListener(l,d,{capture:!0,passive:w}):a.addEventListener(l,d,!0):w!==void 0?a.addEventListener(l,d,{passive:w}):a.addEventListener(l,d,!1)}function c0(a,l,d,p,w){var A=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var Y=p.stateNode.containerInfo;if(Y===w)break;if(I===4)for(I=p.return;I!==null;){var he=I.tag;if((he===3||he===4)&&I.stateNode.containerInfo===w)return;I=I.return}for(;Y!==null;){if(I=Ri(Y),I===null)return;if(he=I.tag,he===5||he===6||he===26||he===27){p=A=I;continue e}Y=Y.parentNode}}p=p.return}zt(function(){var Pe=A,Ue=Ne(d),We=[];e:{var De=Va.get(a);if(De!==void 0){var Ie=zn,Xt=a;switch(a){case"keypress":if(gi(d)===0)break e;case"keydown":case"keyup":Ie=Jl;break;case"focusin":Xt="focus",Ie=va;break;case"focusout":Xt="blur",Ie=va;break;case"beforeblur":case"afterblur":Ie=va;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Qs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Zu;break;case tu:case Ao:case To:Ie=ud;break;case No:Ie=B;break;case"scroll":case"scrollend":Ie=jn;break;case"wheel":Ie=ge;break;case"copy":case"cut":case"paste":Ie=cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Zl;break;case"toggle":case"beforetoggle":Ie=Be}var qt=(l&4)!==0,di=!qt&&(a==="scroll"||a==="scrollend"),Ce=qt?De!==null?De+"Capture":null:De;qt=[];for(var we=Pe,Me;we!==null;){var qe=we;if(Me=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Me===null||Ce===null||(qe=wt(we,Ce),qe!=null&&qt.push(jd(we,qe,Me))),di)break;we=we.return}0<qt.length&&(De=new Ie(De,Xt,null,d,Ue),We.push({event:De,listeners:qt}))}}if((l&7)===0){e:{if(De=a==="mouseover"||a==="pointerover",Ie=a==="mouseout"||a==="pointerout",De&&d!==_e&&(Xt=d.relatedTarget||d.fromElement)&&(Ri(Xt)||Xt[_i]))break e;if((Ie||De)&&(De=Ue.window===Ue?Ue:(De=Ue.ownerDocument)?De.defaultView||De.parentWindow:window,Ie?(Xt=d.relatedTarget||d.toElement,Ie=Pe,Xt=Xt?Ri(Xt):null,Xt!==null&&(di=s(Xt),qt=Xt.tag,Xt!==di||qt!==5&&qt!==27&&qt!==6)&&(Xt=null)):(Ie=null,Xt=Pe),Ie!==Xt)){if(qt=Cs,qe="onMouseLeave",Ce="onMouseEnter",we="mouse",(a==="pointerout"||a==="pointerover")&&(qt=Zl,qe="onPointerLeave",Ce="onPointerEnter",we="pointer"),di=Ie==null?De:ur(Ie),Me=Xt==null?De:ur(Xt),De=new qt(qe,we+"leave",Ie,d,Ue),De.target=di,De.relatedTarget=Me,qe=null,Ri(Ue)===Pe&&(qt=new qt(Ce,we+"enter",Xt,d,Ue),qt.target=Me,qt.relatedTarget=di,qe=qt),di=qe,Ie&&Xt)t:{for(qt=Ie,Ce=Xt,we=0,Me=qt;Me;Me=wf(Me))we++;for(Me=0,qe=Ce;qe;qe=wf(qe))Me++;for(;0<we-Me;)qt=wf(qt),we--;for(;0<Me-we;)Ce=wf(Ce),Me--;for(;we--;){if(qt===Ce||Ce!==null&&qt===Ce.alternate)break t;qt=wf(qt),Ce=wf(Ce)}qt=null}else qt=null;Ie!==null&&xv(We,De,Ie,qt,!1),Xt!==null&&di!==null&&xv(We,di,Xt,qt,!0)}}e:{if(De=Pe?ur(Pe):window,Ie=De.nodeName&&De.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&De.type==="file")var At=Ql;else if(ta(De))if(sl)At=$c;else{At=dd;var An=cs}else Ie=De.nodeName,!Ie||Ie.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Pe&&nl(Pe.elementType)&&(At=Ql):At=Qu;if(At&&(At=At(a,Pe))){Xu(We,At,d,Ue);break e}An&&An(a,De,Pe),a==="focusout"&&Pe&&De.type==="number"&&Pe.memoizedProps.value!=null&&Ai(De,"number",De.value)}switch(An=Pe?ur(Pe):window,a){case"focusin":(ta(An)||An.contentEditable==="true")&&(fs=An,na=Pe,xa=null);break;case"focusout":xa=na=fs=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,Gi(We,d,Ue);break;case"selectionchange":if(So)break;case"keydown":case"keyup":Gi(We,d,Ue)}var Lt;if(dt)e:{switch(a){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else nr?Oi(a,d)&&(Kt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Kt="onCompositionStart");Kt&&(en&&d.locale!=="ko"&&(nr||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&nr&&(Lt=Wn()):(Bn=Ue,sn="value"in Bn?Bn.value:Bn.textContent,nr=!0)),An=kp(Pe,Kt),0<An.length&&(Kt=new Kl(Kt,a,null,d,Ue),We.push({event:Kt,listeners:An}),Lt?Kt.data=Lt:(Lt=tr(d),Lt!==null&&(Kt.data=Lt)))),(Lt=an?Rr(a,d):ea(a,d))&&(Kt=kp(Pe,"onBeforeInput"),0<Kt.length&&(An=new Kl("onBeforeInput","beforeinput",null,d,Ue),We.push({event:An,listeners:Kt}),An.data=Lt)),$A(We,a,Pe,d,Ue)}yv(We,l)})}function jd(a,l,d){return{instance:a,listener:l,currentTarget:d}}function kp(a,l){for(var d=l+"Capture",p=[];a!==null;){var w=a,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=wt(a,d),w!=null&&p.unshift(jd(a,w,A)),w=wt(a,l),w!=null&&p.push(jd(a,w,A))),a.tag===3)return p;a=a.return}return[]}function wf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function xv(a,l,d,p,w){for(var A=l._reactName,I=[];d!==null&&d!==p;){var Y=d,he=Y.alternate,Pe=Y.stateNode;if(Y=Y.tag,he!==null&&he===p)break;Y!==5&&Y!==26&&Y!==27||Pe===null||(he=Pe,w?(Pe=wt(d,A),Pe!=null&&I.unshift(jd(d,Pe,he))):w||(Pe=wt(d,A),Pe!=null&&I.push(jd(d,Pe,he)))),d=d.return}I.length!==0&&a.push({event:l,listeners:I})}var QA=/\r\n?/g,eT=/\u0000|\uFFFD/g;function bv(a){return(typeof a=="string"?a:""+a).replace(QA,`
`).replace(eT,"")}function wv(a,l){return l=bv(l),bv(a)===l}function Mp(){}function fi(a,l,d,p,w,A){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Zs(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Zs(a,""+p);break;case"className":ls(a,"class",p);break;case"tabIndex":ls(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ls(a,d,p);break;case"style":Hl(a,p,A);break;case"data":if(l!=="object"){ls(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=Xs(""+p),a.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(d==="formAction"?(l!=="input"&&fi(a,l,"name",w.name,w,null),fi(a,l,"formEncType",w.formEncType,w,null),fi(a,l,"formMethod",w.formMethod,w,null),fi(a,l,"formTarget",w.formTarget,w,null)):(fi(a,l,"encType",w.encType,w,null),fi(a,l,"method",w.method,w,null),fi(a,l,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=Xs(""+p),a.setAttribute(d,p);break;case"onClick":p!=null&&(a.onclick=Mp);break;case"onScroll":p!=null&&En("scroll",a);break;case"onScrollEnd":p!=null&&En("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(w.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}d=Xs(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""+p):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":p===!0?a.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,p):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(d,p):a.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(d):a.setAttribute(d,p);break;case"popover":En("beforetoggle",a),En("toggle",a),Pr(a,"popover",p);break;case"xlinkActuate":jr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":jr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":jr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":jr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":jr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":jr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":jr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":jr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":jr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Pr(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=ts.get(d)||d,Pr(a,d,p))}}function f0(a,l,d,p,w,A){switch(d){case"style":Hl(a,p,A);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(w.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof p=="string"?Zs(a,p):(typeof p=="number"||typeof p=="bigint")&&Zs(a,""+p);break;case"onScroll":p!=null&&En("scroll",a);break;case"onScrollEnd":p!=null&&En("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Mp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Is.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),l=d.slice(2,w?d.length-7:void 0),A=a[Gn]||null,A=A!=null?A[d]:null,typeof A=="function"&&a.removeEventListener(l,A,w),typeof p=="function")){typeof A!="function"&&A!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,p,w);break e}d in a?a[d]=p:p===!0?a.setAttribute(d,""):Pr(a,d,p)}}}function os(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":En("error",a),En("load",a);var p=!1,w=!1,A;for(A in d)if(d.hasOwnProperty(A)){var I=d[A];if(I!=null)switch(A){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:fi(a,l,A,I,d,null)}}w&&fi(a,l,"srcSet",d.srcSet,d,null),p&&fi(a,l,"src",d.src,d,null);return;case"input":En("invalid",a);var Y=A=I=w=null,he=null,Pe=null;for(p in d)if(d.hasOwnProperty(p)){var Ue=d[p];if(Ue!=null)switch(p){case"name":w=Ue;break;case"type":I=Ue;break;case"checked":he=Ue;break;case"defaultChecked":Pe=Ue;break;case"value":A=Ue;break;case"defaultValue":Y=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(i(137,l));break;default:fi(a,l,p,Ue,d,null)}}Sn(a,A,Y,he,Pe,I,w,!1),cn(a);return;case"select":En("invalid",a),p=I=A=null;for(w in d)if(d.hasOwnProperty(w)&&(Y=d[w],Y!=null))switch(w){case"value":A=Y;break;case"defaultValue":I=Y;break;case"multiple":p=Y;default:fi(a,l,w,Y,d,null)}l=A,d=I,a.multiple=!!p,l!=null?Di(a,!!p,l,!1):d!=null&&Di(a,!!p,d,!0);return;case"textarea":En("invalid",a),A=w=p=null;for(I in d)if(d.hasOwnProperty(I)&&(Y=d[I],Y!=null))switch(I){case"value":p=Y;break;case"defaultValue":w=Y;break;case"children":A=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(91));break;default:fi(a,l,I,Y,d,null)}go(a,p,w,A),cn(a);return;case"option":for(he in d)if(d.hasOwnProperty(he)&&(p=d[he],p!=null))switch(he){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:fi(a,l,he,p,d,null)}return;case"dialog":En("beforetoggle",a),En("toggle",a),En("cancel",a),En("close",a);break;case"iframe":case"object":En("load",a);break;case"video":case"audio":for(p=0;p<zd.length;p++)En(zd[p],a);break;case"image":En("error",a),En("load",a);break;case"details":En("toggle",a);break;case"embed":case"source":case"link":En("error",a),En("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in d)if(d.hasOwnProperty(Pe)&&(p=d[Pe],p!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:fi(a,l,Pe,p,d,null)}return;default:if(nl(l)){for(Ue in d)d.hasOwnProperty(Ue)&&(p=d[Ue],p!==void 0&&f0(a,l,Ue,p,d,void 0));return}}for(Y in d)d.hasOwnProperty(Y)&&(p=d[Y],p!=null&&fi(a,l,Y,p,d,null))}function tT(a,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,I=null,Y=null,he=null,Pe=null,Ue=null;for(Ie in d){var We=d[Ie];if(d.hasOwnProperty(Ie)&&We!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":he=We;default:p.hasOwnProperty(Ie)||fi(a,l,Ie,null,p,We)}}for(var De in p){var Ie=p[De];if(We=d[De],p.hasOwnProperty(De)&&(Ie!=null||We!=null))switch(De){case"type":A=Ie;break;case"name":w=Ie;break;case"checked":Pe=Ie;break;case"defaultChecked":Ue=Ie;break;case"value":I=Ie;break;case"defaultValue":Y=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,l));break;default:Ie!==We&&fi(a,l,De,Ie,p,We)}}wr(a,I,Y,he,Pe,Ue,A,w);return;case"select":Ie=I=Y=De=null;for(A in d)if(he=d[A],d.hasOwnProperty(A)&&he!=null)switch(A){case"value":break;case"multiple":Ie=he;default:p.hasOwnProperty(A)||fi(a,l,A,null,p,he)}for(w in p)if(A=p[w],he=d[w],p.hasOwnProperty(w)&&(A!=null||he!=null))switch(w){case"value":De=A;break;case"defaultValue":Y=A;break;case"multiple":I=A;default:A!==he&&fi(a,l,w,A,p,he)}l=Y,d=I,p=Ie,De!=null?Di(a,!!d,De,!1):!!p!=!!d&&(l!=null?Di(a,!!d,l,!0):Di(a,!!d,d?[]:"",!1));return;case"textarea":Ie=De=null;for(Y in d)if(w=d[Y],d.hasOwnProperty(Y)&&w!=null&&!p.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:fi(a,l,Y,null,p,w)}for(I in p)if(w=p[I],A=d[I],p.hasOwnProperty(I)&&(w!=null||A!=null))switch(I){case"value":De=w;break;case"defaultValue":Ie=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==A&&fi(a,l,I,w,p,A)}Ti(a,De,Ie);return;case"option":for(var Xt in d)if(De=d[Xt],d.hasOwnProperty(Xt)&&De!=null&&!p.hasOwnProperty(Xt))switch(Xt){case"selected":a.selected=!1;break;default:fi(a,l,Xt,null,p,De)}for(he in p)if(De=p[he],Ie=d[he],p.hasOwnProperty(he)&&De!==Ie&&(De!=null||Ie!=null))switch(he){case"selected":a.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:fi(a,l,he,De,p,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in d)De=d[qt],d.hasOwnProperty(qt)&&De!=null&&!p.hasOwnProperty(qt)&&fi(a,l,qt,null,p,De);for(Pe in p)if(De=p[Pe],Ie=d[Pe],p.hasOwnProperty(Pe)&&De!==Ie&&(De!=null||Ie!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,l));break;default:fi(a,l,Pe,De,p,Ie)}return;default:if(nl(l)){for(var di in d)De=d[di],d.hasOwnProperty(di)&&De!==void 0&&!p.hasOwnProperty(di)&&f0(a,l,di,void 0,p,De);for(Ue in p)De=p[Ue],Ie=d[Ue],!p.hasOwnProperty(Ue)||De===Ie||De===void 0&&Ie===void 0||f0(a,l,Ue,De,p,Ie);return}}for(var Ce in d)De=d[Ce],d.hasOwnProperty(Ce)&&De!=null&&!p.hasOwnProperty(Ce)&&fi(a,l,Ce,null,p,De);for(We in p)De=p[We],Ie=d[We],!p.hasOwnProperty(We)||De===Ie||De==null&&Ie==null||fi(a,l,We,De,p,Ie)}var d0=null,h0=null;function Lp(a){return a.nodeType===9?a:a.ownerDocument}function _v(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function p0(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var m0=null;function nT(){var a=window.event;return a&&a.type==="popstate"?a===m0?!1:(m0=a,!0):(m0=null,!1)}var Av=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(a){return Tv.resolve(null).then(a).catch(sT)}:Av;function sT(a){setTimeout(function(){throw a})}function _u(a){return a==="head"}function Cv(a,l){var d=l,p=0,w=0;do{var A=d.nextSibling;if(a.removeChild(d),A&&A.nodeType===8)if(d=A.data,d==="/$"){if(0<p&&8>p){d=p;var I=a.ownerDocument;if(d&1&&Ud(I.documentElement),d&2&&Ud(I.body),d&4)for(d=I.head,Ud(d),I=d.firstChild;I;){var Y=I.nextSibling,he=I.nodeName;I[li]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&I.rel.toLowerCase()==="stylesheet"||d.removeChild(I),I=Y}}if(w===0){a.removeChild(A),$d(l);return}w--}else d==="$"||d==="$?"||d==="$!"?w++:p=d.charCodeAt(0)-48;else p=0;d=A}while(d);$d(l)}function g0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":g0(d),xr(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function aT(a,l,d,p){for(;a.nodeType===1;){var w=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[li])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=no(a.nextSibling),a===null)break}return null}function oT(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=no(a.nextSibling),a===null))return null;return a}function y0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function lT(a,l){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function no(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var v0=null;function Nv(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function Ev(a,l,d){switch(l=Lp(d),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Ud(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);xr(a)}var ka=new Map,kv=new Set;function Pp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Nl=ce.d;ce.d={f:uT,r:cT,D:fT,C:dT,L:hT,m:pT,X:gT,S:mT,M:yT};function uT(){var a=Nl.f(),l=Sp();return a||l}function cT(a){var l=lr(a);l!==null&&l.tag===5&&l.type==="form"?mc(l):Nl.r(a)}var _f=typeof document>"u"?null:document;function Mv(a,l,d){var p=_f;if(p&&typeof l=="string"&&l){var w=Pn(l);w='link[rel="'+a+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),kv.has(w)||(kv.add(w),a={rel:a,crossOrigin:d,href:l},p.querySelector(w)===null&&(l=p.createElement("link"),os(l,"link",a),Ln(l),p.head.appendChild(l)))}}function fT(a){Nl.D(a),Mv("dns-prefetch",a,null)}function dT(a,l){Nl.C(a,l),Mv("preconnect",a,l)}function hT(a,l,d){Nl.L(a,l,d);var p=_f;if(p&&a&&l){var w='link[rel="preload"][as="'+Pn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+Pn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+Pn(d.imageSizes)+'"]')):w+='[href="'+Pn(a)+'"]';var A=w;switch(l){case"style":A=Sf(a);break;case"script":A=Af(a)}ka.has(A)||(a=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),ka.set(A,a),p.querySelector(w)!==null||l==="style"&&p.querySelector(Vd(A))||l==="script"&&p.querySelector(qd(A))||(l=p.createElement("link"),os(l,"link",a),Ln(l),p.head.appendChild(l)))}}function pT(a,l){Nl.m(a,l);var d=_f;if(d&&a){var p=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Pn(p)+'"][href="'+Pn(a)+'"]',A=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Af(a)}if(!ka.has(A)&&(a=h({rel:"modulepreload",href:a},l),ka.set(A,a),d.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(qd(A)))return}p=d.createElement("link"),os(p,"link",a),Ln(p),d.head.appendChild(p)}}}function mT(a,l,d){Nl.S(a,l,d);var p=_f;if(p&&a){var w=Xi(p).hoistableStyles,A=Sf(a);l=l||"default";var I=w.get(A);if(!I){var Y={loading:0,preload:null};if(I=p.querySelector(Vd(A)))Y.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":l},d),(d=ka.get(A))&&x0(a,d);var he=I=p.createElement("link");Ln(he),os(he,"link",a),he._p=new Promise(function(Pe,Ue){he.onload=Pe,he.onerror=Ue}),he.addEventListener("load",function(){Y.loading|=1}),he.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Rp(I,l,p)}I={type:"stylesheet",instance:I,count:1,state:Y},w.set(A,I)}}}function gT(a,l){Nl.X(a,l);var d=_f;if(d&&a){var p=Xi(d).hoistableScripts,w=Af(a),A=p.get(w);A||(A=d.querySelector(qd(w)),A||(a=h({src:a,async:!0},l),(l=ka.get(w))&&b0(a,l),A=d.createElement("script"),Ln(A),os(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(w,A))}}function yT(a,l){Nl.M(a,l);var d=_f;if(d&&a){var p=Xi(d).hoistableScripts,w=Af(a),A=p.get(w);A||(A=d.querySelector(qd(w)),A||(a=h({src:a,async:!0,type:"module"},l),(l=ka.get(w))&&b0(a,l),A=d.createElement("script"),Ln(A),os(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(w,A))}}function Lv(a,l,d,p){var w=(w=se.current)?Pp(w):null;if(!w)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Sf(d.href),d=Xi(w).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Sf(d.href);var A=Xi(w).hoistableStyles,I=A.get(a);if(I||(w=w.ownerDocument||w,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,I),(A=w.querySelector(Vd(a)))&&!A._p&&(I.instance=A,I.state.loading=5),ka.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ka.set(a,d),A||vT(w,a,d,I.state))),l&&p===null)throw Error(i(528,""));return I}if(l&&p!==null)throw Error(i(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Af(d),d=Xi(w).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Sf(a){return'href="'+Pn(a)+'"'}function Vd(a){return'link[rel="stylesheet"]['+a+"]"}function Pv(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function vT(a,l,d,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),os(l,"link",d),Ln(l),a.head.appendChild(l))}function Af(a){return'[src="'+Pn(a)+'"]'}function qd(a){return"script[async]"+a}function Rv(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+Pn(d.href)+'"]');if(p)return l.instance=p,Ln(p),p;var w=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Ln(p),os(p,"style",w),Rp(p,d.precedence,a),l.instance=p;case"stylesheet":w=Sf(d.href);var A=a.querySelector(Vd(w));if(A)return l.state.loading|=4,l.instance=A,Ln(A),A;p=Pv(d),(w=ka.get(w))&&x0(p,w),A=(a.ownerDocument||a).createElement("link"),Ln(A);var I=A;return I._p=new Promise(function(Y,he){I.onload=Y,I.onerror=he}),os(A,"link",p),l.state.loading|=4,Rp(A,d.precedence,a),l.instance=A;case"script":return A=Af(d.src),(w=a.querySelector(qd(A)))?(l.instance=w,Ln(w),w):(p=d,(w=ka.get(A))&&(p=h({},d),b0(p,w)),a=a.ownerDocument||a,w=a.createElement("script"),Ln(w),os(w,"link",p),a.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Rp(p,d.precedence,a));return l.instance}function Rp(a,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,A=w,I=0;I<p.length;I++){var Y=p[I];if(Y.dataset.precedence===l)A=Y;else if(A!==w)break}A?A.parentNode.insertBefore(a,A.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function x0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function b0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Dp=null;function Dv(a,l,d){if(Dp===null){var p=new Map,w=Dp=new Map;w.set(d,p)}else w=Dp,p=w.get(d),p||(p=new Map,w.set(d,p));if(p.has(a))return p;for(p.set(a,null),d=d.getElementsByTagName(a),w=0;w<d.length;w++){var A=d[w];if(!(A[li]||A[yn]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var I=A.getAttribute(l)||"";I=a+I;var Y=p.get(I);Y?Y.push(A):p.set(I,[A])}}return p}function Iv(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function xT(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Ov(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Hd=null;function bT(){}function wT(a,l,d){if(Hd===null)throw Error(i(475));var p=Hd;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var w=Sf(d.href),A=a.querySelector(Vd(w));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(p.count++,p=Ip.bind(p),a.then(p,p)),l.state.loading|=4,l.instance=A,Ln(A);return}A=a.ownerDocument||a,d=Pv(d),(w=ka.get(w))&&x0(d,w),A=A.createElement("link"),Ln(A);var I=A;I._p=new Promise(function(Y,he){I.onload=Y,I.onerror=he}),os(A,"link",d),l.instance=A}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=Ip.bind(p),a.addEventListener("load",l),a.addEventListener("error",l))}}function _T(){if(Hd===null)throw Error(i(475));var a=Hd;return a.stylesheets&&a.count===0&&w0(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&w0(a,a.stylesheets),a.unsuspend){var p=a.unsuspend;a.unsuspend=null,p()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function Ip(){if(this.count--,this.count===0){if(this.stylesheets)w0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Op=null;function w0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Op=new Map,l.forEach(ST,a),Op=null,Ip.call(a))}function ST(a,l){if(!(l.state.loading&4)){var d=Op.get(a);if(d)var p=d.get(null);else{d=new Map,Op.set(a,d);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var I=w[A];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(d.set(I.dataset.precedence,I),p=I)}p&&d.set(null,p)}w=l.instance,I=w.getAttribute("data-precedence"),A=d.get(I)||p,A===p&&d.set(null,w),d.set(I,w),this.count++,p=Ip.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),A?A.parentNode.insertBefore(w,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),l.state.loading|=4}}var Gd={$$typeof:O,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function AT(a,l,d,p,w,A,I,Y){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Fv(a,l,d,p,w,A,I,Y,he,Pe,Ue,We){return a=new AT(a,l,d,I,Y,he,Pe,We),l=1,A===!0&&(l|=24),A=Gr(3,null,null,l),a.current=A,A.stateNode=a,l=pd(),l.refCount++,a.pooledCache=l,l.refCount++,A.memoizedState={element:p,isDehydrated:d,cache:l},be(A),a}function Bv(a){return a?(a=Ir,a):Ir}function zv(a,l,d,p,w,A){w=Bv(w),p.context===null?p.context=w:p.pendingContext=w,p=ze(l),p.payload={element:d},A=A===void 0?null:A,A!==null&&(p.callback=A),d=Ge(a,p,l),d!==null&&(fa(d,a,l),Ve(d,a,l))}function jv(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function _0(a,l){jv(a,l),(a=a.alternate)&&jv(a,l)}function Uv(a){if(a.tag===13){var l=qa(a,67108864);l!==null&&fa(l,a,67108864),_0(a,67108864)}}var Fp=!0;function TT(a,l,d,p){var w=te.T;te.T=null;var A=ce.p;try{ce.p=2,S0(a,l,d,p)}finally{ce.p=A,te.T=w}}function CT(a,l,d,p){var w=te.T;te.T=null;var A=ce.p;try{ce.p=8,S0(a,l,d,p)}finally{ce.p=A,te.T=w}}function S0(a,l,d,p){if(Fp){var w=A0(p);if(w===null)c0(a,l,p,Bp,d),qv(a,p);else if(ET(w,a,l,d,p))p.stopPropagation();else if(qv(a,p),l&4&&-1<NT.indexOf(a)){for(;w!==null;){var A=lr(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var I=tn(A.pendingLanes);if(I!==0){var Y=A;for(Y.pendingLanes|=2,Y.entangledLanes|=2;I;){var he=1<<31-vt(I);Y.entanglements[1]|=he,I&=~he}Uo(A),(ri&6)===0&&(wp=bt()+500,Bd(0))}}break;case 13:Y=qa(A,2),Y!==null&&fa(Y,A,2),Sp(),_0(A,2)}if(A=A0(p),A===null&&c0(a,l,p,Bp,d),A===w)break;w=A}w!==null&&p.stopPropagation()}else c0(a,l,p,null,d)}}function A0(a){return a=Ne(a),T0(a)}var Bp=null;function T0(a){if(Bp=null,a=Ri(a),a!==null){var l=s(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=o(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Bp=a,null}function Vv(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case Je:return 2;case it:return 8;case rt:case je:return 32;case ot:return 268435456;default:return 32}default:return 32}}var C0=!1,Su=null,Au=null,Tu=null,Wd=new Map,Kd=new Map,Cu=[],NT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qv(a,l){switch(a){case"focusin":case"focusout":Su=null;break;case"dragenter":case"dragleave":Au=null;break;case"mouseover":case"mouseout":Tu=null;break;case"pointerover":case"pointerout":Wd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kd.delete(l.pointerId)}}function Yd(a,l,d,p,w,A){return a===null||a.nativeEvent!==A?(a={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:A,targetContainers:[w]},l!==null&&(l=lr(l),l!==null&&Uv(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),a)}function ET(a,l,d,p,w){switch(l){case"focusin":return Su=Yd(Su,a,l,d,p,w),!0;case"dragenter":return Au=Yd(Au,a,l,d,p,w),!0;case"mouseover":return Tu=Yd(Tu,a,l,d,p,w),!0;case"pointerover":var A=w.pointerId;return Wd.set(A,Yd(Wd.get(A)||null,a,l,d,p,w)),!0;case"gotpointercapture":return A=w.pointerId,Kd.set(A,Yd(Kd.get(A)||null,a,l,d,p,w)),!0}return!1}function Hv(a){var l=Ri(a.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){a.blockedOn=l,Xr(a.priority,function(){if(d.tag===13){var p=ca();p=or(p);var w=qa(d,p);w!==null&&fa(w,d,p),_0(d,p)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function zp(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=A0(a.nativeEvent);if(d===null){d=a.nativeEvent;var p=new d.constructor(d.type,d);_e=p,d.target.dispatchEvent(p),_e=null}else return l=lr(d),l!==null&&Uv(l),a.blockedOn=d,!1;l.shift()}return!0}function Gv(a,l,d){zp(a)&&d.delete(l)}function kT(){C0=!1,Su!==null&&zp(Su)&&(Su=null),Au!==null&&zp(Au)&&(Au=null),Tu!==null&&zp(Tu)&&(Tu=null),Wd.forEach(Gv),Kd.forEach(Gv)}function jp(a,l){a.blockedOn===l&&(a.blockedOn=null,C0||(C0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kT)))}var Up=null;function Wv(a){Up!==a&&(Up=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Up===a&&(Up=null);for(var l=0;l<a.length;l+=3){var d=a[l],p=a[l+1],w=a[l+2];if(typeof p!="function"){if(T0(p||d)===null)continue;break}var A=lr(d);A!==null&&(a.splice(l,3),l-=3,Ca(A,{pending:!0,data:w,method:d.method,action:p},p,w))}}))}function $d(a){function l(he){return jp(he,a)}Su!==null&&jp(Su,a),Au!==null&&jp(Au,a),Tu!==null&&jp(Tu,a),Wd.forEach(l),Kd.forEach(l);for(var d=0;d<Cu.length;d++){var p=Cu[d];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Cu.length&&(d=Cu[0],d.blockedOn===null);)Hv(d),d.blockedOn===null&&Cu.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var w=d[p],A=d[p+1],I=w[Gn]||null;if(typeof A=="function")I||Wv(d);else if(I){var Y=null;if(A&&A.hasAttribute("formAction")){if(w=A,I=A[Gn]||null)Y=I.formAction;else if(T0(w)!==null)continue}else Y=I.action;typeof Y=="function"?d[p+1]=Y:(d.splice(p,3),p-=3),Wv(d)}}}function N0(a){this._internalRoot=a}Vp.prototype.render=N0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var d=l.current,p=ca();zv(d,p,a,l,null,null)},Vp.prototype.unmount=N0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;zv(a.current,2,null,a,null,null),Sp(),l[_i]=null}};function Vp(a){this._internalRoot=a}Vp.prototype.unstable_scheduleHydration=function(a){if(a){var l=Pi();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Cu.length&&l!==0&&l<Cu[d].priority;d++);Cu.splice(d,0,a),d===0&&Hv(a)}};var Kv=e.version;if(Kv!=="19.1.0")throw Error(i(527,Kv,"19.1.0"));ce.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=c(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var MT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{It=qp.inject(MT),Ot=qp}catch{}}return Zd.createRoot=function(a,l){if(!r(a))throw Error(i(299));var d=!1,p="",w=uy,A=cy,I=fy,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Y=l.unstable_transitionCallbacks)),l=Fv(a,1,!1,null,null,d,p,w,A,I,Y,null),a[_i]=l.current,u0(a),new N0(l)},Zd.hydrateRoot=function(a,l,d){if(!r(a))throw Error(i(299));var p=!1,w="",A=uy,I=cy,Y=fy,he=null,Pe=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(A=d.onUncaughtError),d.onCaughtError!==void 0&&(I=d.onCaughtError),d.onRecoverableError!==void 0&&(Y=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(he=d.unstable_transitionCallbacks),d.formState!==void 0&&(Pe=d.formState)),l=Fv(a,1,!0,l,d??null,p,w,A,I,Y,he,Pe),l.context=Bv(null),d=l.current,p=ca(),p=or(p),w=ze(p),w.callback=null,Ge(d,w,p),d=p,l.current.lanes=d,bi(l,d),Uo(l),a[_i]=l.current,u0(a),new Vp(l)},Zd.version="19.1.0",Zd}var i5;function qT(){if(i5)return M0.exports;i5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),M0.exports=VT(),M0.exports}var HT=qT();const GT=Yw(HT);var Xd={},r5;function WT(){if(r5)return Xd;r5=1,Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.parse=o,Xd.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function o(b,x){const N=new s,T=b.length;if(T<2)return N;const M=(x==null?void 0:x.decode)||h;let k=0;do{const P=b.indexOf("=",k);if(P===-1)break;const O=b.indexOf(";",k),$=O===-1?T:O;if(P>$){k=b.lastIndexOf(";",P-1)+1;continue}const q=u(b,k,P),Z=c(b,P,q),Q=b.slice(q,Z);if(N[Q]===void 0){let V=u(b,P+1,$),X=c(b,$,V);const le=M(b.slice(V,X));N[Q]=le}k=$+1}while(k<T);return N}function u(b,x,N){do{const T=b.charCodeAt(x);if(T!==32&&T!==9)return x}while(++x<N);return N}function c(b,x,N){for(;x>N;){const T=b.charCodeAt(--x);if(T!==32&&T!==9)return x+1}return N}function f(b,x,N){const T=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=T(x);if(!e.test(M))throw new TypeError(`argument val is invalid: ${x}`);let k=b+"="+M;if(!N)return k;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);k+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);k+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);k+="; Path="+N.path}if(N.expires){if(!y(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);k+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(k+="; HttpOnly"),N.secure&&(k+="; Secure"),N.partitioned&&(k+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return k}function h(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return r.call(b)==="[object Date]"}return Xd}WT();var s5="popstate";function KT(n={}){function e(r,s){let{pathname:o="/",search:u="",hash:c=""}=qc(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),g1("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let c=r.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof s=="string"?s:Eh(s))}function i(r,s){Ia(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return $T(e,t,i,n)}function Zi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ia(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YT(){return Math.random().toString(36).substring(2,10)}function a5(n,e){return{usr:n.state,key:n.key,idx:e}}function g1(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?qc(e):e,state:t,key:e&&e.key||i||YT()}}function Eh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function qc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function $T(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,u="POP",c=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function y(){u="POP";let M=h(),k=M==null?null:M-f;f=M,c&&c({action:u,location:T.location,delta:k})}function b(M,k){u="PUSH";let P=g1(T.location,M,k);t&&t(P,M),f=h()+1;let O=a5(P,f),$=T.createHref(P);try{o.pushState(O,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;r.location.assign($)}s&&c&&c({action:u,location:T.location,delta:1})}function x(M,k){u="REPLACE";let P=g1(T.location,M,k);t&&t(P,M),f=h();let O=a5(P,f),$=T.createHref(P);o.replaceState(O,"",$),s&&c&&c({action:u,location:T.location,delta:0})}function N(M){return JT(M)}let T={get action(){return u},get location(){return n(r,o)},listen(M){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(s5,y),c=M,()=>{r.removeEventListener(s5,y),c=null}},createHref(M){return e(r,M)},createURL:N,encodeLocation(M){let k=N(M);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:x,go(M){return o.go(M)}};return T}function JT(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zi(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Eh(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function $w(n,e,t="/"){return ZT(n,e,t,!1)}function ZT(n,e,t,i){let r=typeof e=="string"?qc(e):e,s=zl(r.pathname||"/",t);if(s==null)return null;let o=Jw(n);XT(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let f=u3(s);u=o3(o[c],f,i)}return u}function Jw(n,e=[],t=[],i=""){let r=(s,o,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Zi(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let f=Bl([i,c.relativePath]),h=t.concat(c);s.children&&s.children.length>0&&(Zi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Jw(s.children,e,h,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:s3(f,s.index),routesMeta:h})};return n.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,o);else for(let c of Zw(s.path))r(s,o,c)}),e}function Zw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Zw(i.join("/")),u=[];return u.push(...o.map(c=>c===""?s:[s,c].join("/"))),r&&u.push(...o),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function XT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:a3(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var QT=/^:[\w-]+$/,e3=3,t3=2,n3=1,i3=10,r3=-2,o5=n=>n==="*";function s3(n,e){let t=n.split("/"),i=t.length;return t.some(o5)&&(i+=r3),e&&(i+=t3),t.filter(r=>!o5(r)).reduce((r,s)=>r+(QT.test(s)?e3:s===""?n3:i3),i)}function a3(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function o3(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let u=0;u<i.length;++u){let c=i[u],f=u===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",y=Fm({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),b=c.route;if(!y&&f&&t&&!i[i.length-1].route.index&&(y=Fm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!y)return null;Object.assign(r,y.params),o.push({params:r,pathname:Bl([s,y.pathname]),pathnameBase:h3(Bl([s,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(s=Bl([s,y.pathnameBase]))}return o}function Fm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=l3(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:h,isOptional:y},b)=>{if(h==="*"){let N=u[b]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const x=u[b];return y&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:n}}function l3(n,e=!1,t=!0){Ia(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function u3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ia(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function c3(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?qc(n):n;return{pathname:t?t.startsWith("/")?t:f3(t,e):e,search:p3(i),hash:m3(r)}}function f3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function D0(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function m2(n){let e=d3(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function g2(n,e,t,i=!1){let r;typeof n=="string"?r=qc(n):(r={...n},Zi(!r.pathname||!r.pathname.includes("?"),D0("?","pathname","search",r)),Zi(!r.pathname||!r.pathname.includes("#"),D0("#","pathname","hash",r)),Zi(!r.search||!r.search.includes("#"),D0("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,u;if(o==null)u=t;else{let y=e.length-1;if(!i&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),y-=1;r.pathname=b.join("/")}u=y>=0?e[y]:"/"}let c=c3(r,u),f=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Bl=n=>n.join("/").replace(/\/\/+/g,"/"),h3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),p3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,m3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function g3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Xw=["POST","PUT","PATCH","DELETE"];new Set(Xw);var y3=["GET",...Xw];new Set(y3);var sd=ee.createContext(null);sd.displayName="DataRouter";var lg=ee.createContext(null);lg.displayName="DataRouterState";var Qw=ee.createContext({isTransitioning:!1});Qw.displayName="ViewTransition";var v3=ee.createContext(new Map);v3.displayName="Fetchers";var x3=ee.createContext(null);x3.displayName="Await";var fo=ee.createContext(null);fo.displayName="Navigation";var jh=ee.createContext(null);jh.displayName="Location";var ho=ee.createContext({outlet:null,matches:[],isDataRoute:!1});ho.displayName="Route";var y2=ee.createContext(null);y2.displayName="RouteError";function b3(n,{relative:e}={}){Zi(ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=ee.useContext(fo),{hash:r,pathname:s,search:o}=Uh(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Bl([t,s])),i.createHref({pathname:u,search:o,hash:r})}function ad(){return ee.useContext(jh)!=null}function Hu(){return Zi(ad(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(jh).location}var e_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t_(n){ee.useContext(fo).static||ee.useLayoutEffect(n)}function v2(){let{isDataRoute:n}=ee.useContext(ho);return n?D3():w3()}function w3(){Zi(ad(),"useNavigate() may be used only in the context of a <Router> component.");let n=ee.useContext(sd),{basename:e,navigator:t}=ee.useContext(fo),{matches:i}=ee.useContext(ho),{pathname:r}=Hu(),s=JSON.stringify(m2(i)),o=ee.useRef(!1);return t_(()=>{o.current=!0}),ee.useCallback((c,f={})=>{if(Ia(o.current,e_),!o.current)return;if(typeof c=="number"){t.go(c);return}let h=g2(c,JSON.parse(s),r,f.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bl([e,h.pathname])),(f.replace?t.replace:t.push)(h,f.state,f)},[e,t,s,r,n])}ee.createContext(null);function _3(){let{matches:n}=ee.useContext(ho),e=n[n.length-1];return e?e.params:{}}function Uh(n,{relative:e}={}){let{matches:t}=ee.useContext(ho),{pathname:i}=Hu(),r=JSON.stringify(m2(t));return ee.useMemo(()=>g2(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function S3(n,e){return n_(n,e)}function n_(n,e,t,i){var k;Zi(ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=ee.useContext(fo),{matches:s}=ee.useContext(ho),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let P=h&&h.path||"";i_(c,!h||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Hu(),b;if(e){let P=typeof e=="string"?qc(e):e;Zi(f==="/"||((k=P.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=y;let x=b.pathname||"/",N=x;if(f!=="/"){let P=f.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=$w(n,{pathname:N});Ia(h||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ia(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=E3(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Bl([f,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:Bl([f,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,t,i);return e&&M?ee.createElement(jh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function A3(){let n=R3(),e=g3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:s},"ErrorBoundary")," or"," ",ee.createElement("code",{style:s},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:r},t):null,o)}var T3=ee.createElement(A3,null),C3=class extends ee.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ee.createElement(ho.Provider,{value:this.props.routeContext},ee.createElement(y2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N3({routeContext:n,match:e,children:t}){let i=ee.useContext(sd);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(ho.Provider,{value:n},t)}function E3(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,s=t==null?void 0:t.errors;if(s!=null){let c=r.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Zi(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let o=!1,u=-1;if(t)for(let c=0;c<r.length;c++){let f=r[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:y}=t,b=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||b){o=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((c,f,h)=>{let y,b=!1,x=null,N=null;t&&(y=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||T3,o&&(u<0&&h===0?(i_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):u===h&&(b=!0,N=f.route.hydrateFallbackElement||null)));let T=e.concat(r.slice(0,h+1)),M=()=>{let k;return y?k=x:b?k=N:f.route.Component?k=ee.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=c,ee.createElement(N3,{match:f,routeContext:{outlet:c,matches:T,isDataRoute:t!=null},children:k})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?ee.createElement(C3,{location:t.location,revalidation:t.revalidation,component:x,error:y,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):M()},null)}function x2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k3(n){let e=ee.useContext(sd);return Zi(e,x2(n)),e}function M3(n){let e=ee.useContext(lg);return Zi(e,x2(n)),e}function L3(n){let e=ee.useContext(ho);return Zi(e,x2(n)),e}function b2(n){let e=L3(n),t=e.matches[e.matches.length-1];return Zi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function P3(){return b2("useRouteId")}function R3(){var i;let n=ee.useContext(y2),e=M3("useRouteError"),t=b2("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function D3(){let{router:n}=k3("useNavigate"),e=b2("useNavigate"),t=ee.useRef(!1);return t_(()=>{t.current=!0}),ee.useCallback(async(r,s={})=>{Ia(t.current,e_),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var l5={};function i_(n,e,t){!e&&!l5[n]&&(l5[n]=!0,Ia(!1,t))}ee.memo(I3);function I3({routes:n,future:e,state:t}){return n_(n,void 0,t,e)}function u5({to:n,replace:e,state:t,relative:i}){Zi(ad(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=ee.useContext(fo);Ia(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ee.useContext(ho),{pathname:o}=Hu(),u=v2(),c=g2(n,m2(s),o,i==="path"),f=JSON.stringify(c);return ee.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:i})},[u,f,i,e,t]),null}function Nc(n){Zi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O3({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){Zi(!ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),u=ee.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=qc(t));let{pathname:c="/",search:f="",hash:h="",state:y=null,key:b="default"}=t,x=ee.useMemo(()=>{let N=zl(c,o);return N==null?null:{location:{pathname:N,search:f,hash:h,state:y,key:b},navigationType:i}},[o,c,f,h,y,b,i]);return Ia(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:ee.createElement(fo.Provider,{value:u},ee.createElement(jh.Provider,{children:e,value:x}))}function F3({children:n,location:e}){return S3(y1(n),e)}function y1(n,e=[]){let t=[];return ee.Children.forEach(n,(i,r)=>{if(!ee.isValidElement(i))return;let s=[...e,r];if(i.type===ee.Fragment){t.push.apply(t,y1(i.props.children,s));return}Zi(i.type===Nc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=y1(i.props.children,s)),t.push(o)}),t}var vm="get",xm="application/x-www-form-urlencoded";function ug(n){return n!=null&&typeof n.tagName=="string"}function B3(n){return ug(n)&&n.tagName.toLowerCase()==="button"}function z3(n){return ug(n)&&n.tagName.toLowerCase()==="form"}function j3(n){return ug(n)&&n.tagName.toLowerCase()==="input"}function U3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function V3(n,e){return n.button===0&&(!e||e==="_self")&&!U3(n)}var Hp=null;function q3(){if(Hp===null)try{new FormData(document.createElement("form"),0),Hp=!1}catch{Hp=!0}return Hp}var H3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function I0(n){return n!=null&&!H3.has(n)?(Ia(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xm}"`),null):n}function G3(n,e){let t,i,r,s,o;if(z3(n)){let u=n.getAttribute("action");i=u?zl(u,e):null,t=n.getAttribute("method")||vm,r=I0(n.getAttribute("enctype"))||xm,s=new FormData(n)}else if(B3(n)||j3(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(i=c?zl(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||vm,r=I0(n.getAttribute("formenctype"))||I0(u.getAttribute("enctype"))||xm,s=new FormData(u,n),!q3()){let{name:f,type:h,value:y}=n;if(h==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,y)}}else{if(ug(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vm,i=null,r=xm,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}function w2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function W3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Y3(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await W3(s,t);return o.links?o.links():[]}return[]}));return X3(i.flat(1).filter(K3).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function c5(n,e,t,i,r,s){let o=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,u=(c,f)=>{var h;return t[f].pathname!==c.pathname||((h=t[f].route.path)==null?void 0:h.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,f)=>o(c,f)||u(c,f)):s==="data"?e.filter((c,f)=>{var y;let h=i.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let b=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $3(n,e,{includeHydrateFallback:t}={}){return J3(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function J3(n){return[...new Set(n)]}function Z3(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function X3(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(Z3(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q3=new Set([100,101,204,205]);function eC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&zl(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function r_(){let n=ee.useContext(sd);return w2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tC(){let n=ee.useContext(lg);return w2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _2=ee.createContext(void 0);_2.displayName="FrameworkContext";function s_(){let n=ee.useContext(_2);return w2(n,"You must render this element inside a <HydratedRouter> element"),n}function nC(n,e){let t=ee.useContext(_2),[i,r]=ee.useState(!1),[s,o]=ee.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:y}=e,b=ee.useRef(null);ee.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let T=k=>{k.forEach(P=>{o(P.isIntersecting)})},M=new IntersectionObserver(T,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[n]),ee.useEffect(()=>{if(i){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[i]);let x=()=>{r(!0)},N=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,b,{}]:[s,b,{onFocus:Qd(u,x),onBlur:Qd(c,N),onMouseEnter:Qd(f,x),onMouseLeave:Qd(h,N),onTouchStart:Qd(y,x)}]:[!1,b,{}]}function Qd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function iC({page:n,...e}){let{router:t}=r_(),i=ee.useMemo(()=>$w(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?ee.createElement(sC,{page:n,matches:i,...e}):null}function rC(n){let{manifest:e,routeModules:t}=s_(),[i,r]=ee.useState([]);return ee.useEffect(()=>{let s=!1;return Y3(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function sC({page:n,matches:e,...t}){let i=Hu(),{manifest:r,routeModules:s}=s_(),{basename:o}=r_(),{loaderData:u,matches:c}=tC(),f=ee.useMemo(()=>c5(n,e,c,r,i,"data"),[n,e,c,r,i]),h=ee.useMemo(()=>c5(n,e,c,r,i,"assets"),[n,e,c,r,i]),y=ee.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,T=!1;if(e.forEach(k=>{var O;let P=r.routes[k.route.id];!P||!P.hasLoader||(!f.some($=>$.route.id===k.route.id)&&k.route.id in u&&((O=s[k.route.id])!=null&&O.shouldRevalidate)||P.hasClientLoader?T=!0:N.add(k.route.id))}),N.size===0)return[];let M=eC(n,o);return T&&N.size>0&&M.searchParams.set("_routes",e.filter(k=>N.has(k.route.id)).map(k=>k.route.id).join(",")),[M.pathname+M.search]},[o,u,i,r,f,e,n,s]),b=ee.useMemo(()=>$3(h,r),[h,r]),x=rC(h);return ee.createElement(ee.Fragment,null,y.map(N=>ee.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>ee.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),x.map(({key:N,link:T})=>ee.createElement("link",{key:N,...T})))}function aC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var a_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a_&&(window.__reactRouterVersion="7.6.2")}catch{}function oC({basename:n,children:e,window:t}){let i=ee.useRef();i.current==null&&(i.current=KT({window:t,v5Compat:!0}));let r=i.current,[s,o]=ee.useState({action:r.action,location:r.location}),u=ee.useCallback(c=>{ee.startTransition(()=>o(c))},[o]);return ee.useLayoutEffect(()=>r.listen(u),[r,u]),ee.createElement(O3,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var o_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ra=ee.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:u,target:c,to:f,preventScrollReset:h,viewTransition:y,...b},x){let{basename:N}=ee.useContext(fo),T=typeof f=="string"&&o_.test(f),M,k=!1;if(typeof f=="string"&&T&&(M=f,a_))try{let X=new URL(window.location.href),le=f.startsWith("//")?new URL(X.protocol+f):new URL(f),z=zl(le.pathname,N);le.origin===X.origin&&z!=null?f=z+le.search+le.hash:k=!0}catch{Ia(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=b3(f,{relative:r}),[O,$,q]=nC(i,b),Z=fC(f,{replace:o,state:u,target:c,preventScrollReset:h,relative:r,viewTransition:y});function Q(X){e&&e(X),X.defaultPrevented||Z(X)}let V=ee.createElement("a",{...b,...q,href:M||P,onClick:k||s?e:Q,ref:aC(x,$),target:c,"data-discover":!T&&t==="render"?"true":void 0});return O&&!T?ee.createElement(ee.Fragment,null,V,ee.createElement(iC,{page:P})):V});Ra.displayName="Link";var lC=ee.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:u,children:c,...f},h){let y=Uh(o,{relative:f.relative}),b=Hu(),x=ee.useContext(lg),{navigator:N,basename:T}=ee.useContext(fo),M=x!=null&&gC(y)&&u===!0,k=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,P=b.pathname,O=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(P=P.toLowerCase(),O=O?O.toLowerCase():null,k=k.toLowerCase()),O&&T&&(O=zl(O,T)||O);const $=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let q=P===k||!r&&P.startsWith(k)&&P.charAt($)==="/",Z=O!=null&&(O===k||!r&&O.startsWith(k)&&O.charAt(k.length)==="/"),Q={isActive:q,isPending:Z,isTransitioning:M},V=q?e:void 0,X;typeof i=="function"?X=i(Q):X=[i,q?"active":null,Z?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let le=typeof s=="function"?s(Q):s;return ee.createElement(Ra,{...f,"aria-current":V,className:X,ref:h,style:le,to:o,viewTransition:u},typeof c=="function"?c(Q):c)});lC.displayName="NavLink";var uC=ee.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=vm,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:y,...b},x)=>{let N=pC(),T=mC(u,{relative:f}),M=o.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&o_.test(u),P=O=>{if(c&&c(O),O.defaultPrevented)return;O.preventDefault();let $=O.nativeEvent.submitter,q=($==null?void 0:$.getAttribute("formmethod"))||o;N($||O.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:r,state:s,relative:f,preventScrollReset:h,viewTransition:y})};return ee.createElement("form",{ref:x,method:M,action:T,onSubmit:i?c:P,...b,"data-discover":!k&&n==="render"?"true":void 0})});uC.displayName="Form";function cC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l_(n){let e=ee.useContext(sd);return Zi(e,cC(n)),e}function fC(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let u=v2(),c=Hu(),f=Uh(n,{relative:s});return ee.useCallback(h=>{if(V3(h,e)){h.preventDefault();let y=t!==void 0?t:Eh(c)===Eh(f);u(n,{replace:y,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[c,u,f,t,i,e,n,r,s,o])}var dC=0,hC=()=>`__${String(++dC)}__`;function pC(){let{router:n}=l_("useSubmit"),{basename:e}=ee.useContext(fo),t=P3();return ee.useCallback(async(i,r={})=>{let{action:s,method:o,encType:u,formData:c,body:f}=G3(i,e);if(r.navigate===!1){let h=r.fetcherKey||hC();await n.fetch(h,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||o,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||o,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function mC(n,{relative:e}={}){let{basename:t}=ee.useContext(fo),i=ee.useContext(ho);Zi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Uh(n||".",{relative:e})},o=Hu();if(n==null){s.search=o.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(y=>y).forEach(y=>u.append("index",y));let h=u.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Bl([t,s.pathname])),Eh(s)}function gC(n,e={}){let t=ee.useContext(Qw);Zi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=l_("useViewTransitionState"),r=Uh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=zl(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=zl(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Fm(r.pathname,o)!=null||Fm(r.pathname,s)!=null}[...Q3];var mr=(n=>(n.NEW="Neu (Extern Geladen)",n.AWAITING_KEEPA="Wartet auf Keepa-Daten (Objekt)",n.READY_FOR_MARKET_RESEARCH="Bereit fr Marktrecherche",n.MARKET_RESEARCH_IN_PROGRESS="Marktrecherche luft...",n.MARKET_RESEARCH_COMPLETED="Marktrecherche abgeschlossen",n.READY_FOR_EBAY_SEARCH_TERMS="Bereit fr eBay Suchbegriffe",n.EBAY_SEARCH_TERMS_IN_PROGRESS="eBay Suchbegriffe werden generiert...",n.EBAY_SEARCH_TERMS_COMPLETED="eBay Suchbegriffe generiert",n.AWAITING_EBAY_DATA="Wartet auf eBay-Daten",n.EBAY_DATA_RECEIVED="eBay-Daten empfangen",n.READY_FOR_VALUATION="Bereit fr Teilwertschtzung",n.VALUATION_IN_PROGRESS="Teilwertschtzung luft...",n.VALUATION_COMPLETED="Teilwertschtzung abgeschlossen",n.REPORT_READY="Bericht bereit",n.ERROR_MARKET_RESEARCH="Fehler: Marktrecherche",n.ERROR_EBAY_SEARCH_TERMS="Fehler: eBay Suchbegriffe",n.ERROR_VALUATION="Fehler: Teilwertschtzung",n.ERROR_UNKNOWN="Unbekannter Fehler",n.LOADED_FROM_EXTERNAL="Extern Geladen",n))(mr||{});const f5="gemini-2.5-flash",yC="https://m.media-amazon.com/images/I/",Da=20,vC="/kv/",Ws="v2processstatus",Lc="v2searchterms",Uf="v2ebayresults",bm="v2marketAnalysisData",Lu="v2TeilwertData",kh="v2keepa",Pf="v2processErrors",Gp="v2pdf",ch="appConfigV2Token",Wp="appConfigOracleWriteUrl",Kp="appConfigGeminiApiKey",Yp="appConfigProductSourceUrl",u_={[mr.LOADED_FROM_EXTERNAL]:{bg:"bg-green-100",text:"text-green-700",border:"border-green-400"},[mr.NEW]:{bg:"bg-gray-200",text:"text-gray-700",border:"border-gray-400"},[mr.AWAITING_KEEPA]:{bg:"bg-yellow-100",text:"text-yellow-700",border:"border-yellow-400"},[mr.READY_FOR_MARKET_RESEARCH]:{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-400"},[mr.MARKET_RESEARCH_IN_PROGRESS]:{bg:"bg-blue-200",text:"text-blue-800",border:"border-blue-500"},[mr.MARKET_RESEARCH_COMPLETED]:{bg:"bg-green-100",text:"text-green-700",border:"border-green-400"},[mr.READY_FOR_EBAY_SEARCH_TERMS]:{bg:"bg-indigo-100",text:"text-indigo-700",border:"border-indigo-400"},[mr.EBAY_SEARCH_TERMS_IN_PROGRESS]:{bg:"bg-indigo-200",text:"text-indigo-800",border:"border-indigo-500"},[mr.EBAY_SEARCH_TERMS_COMPLETED]:{bg:"bg-purple-100",text:"text-purple-700",border:"border-purple-400"},[mr.AWAITING_EBAY_DATA]:{bg:"bg-pink-100",text:"text-pink-700",border:"border-pink-400"},[mr.EBAY_DATA_RECEIVED]:{bg:"bg-teal-100",text:"text-teal-700",border:"border-teal-400"},[mr.READY_FOR_VALUATION]:{bg:"bg-cyan-100",text:"text-cyan-700",border:"border-cyan-400"},[mr.VALUATION_IN_PROGRESS]:{bg:"bg-cyan-200",text:"text-cyan-800",border:"border-cyan-500"},[mr.VALUATION_COMPLETED]:{bg:"bg-emerald-100",text:"text-emerald-700",border:"border-emerald-400"},[mr.REPORT_READY]:{bg:"bg-lime-100",text:"text-lime-700",border:"border-lime-400"},[mr.ERROR_MARKET_RESEARCH]:{bg:"bg-red-100",text:"text-red-700",border:"border-red-400"},[mr.ERROR_EBAY_SEARCH_TERMS]:{bg:"bg-red-100",text:"text-red-700",border:"border-red-400"},[mr.ERROR_VALUATION]:{bg:"bg-red-100",text:"text-red-700",border:"border-red-400"},[mr.ERROR_UNKNOWN]:{bg:"bg-red-200",text:"text-red-800",border:"border-red-500"}};var Qn;(function(n){n.assertEqual=r=>{};function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{const s={};for(const o of r)s[o]=o;return s},n.getValidEnumValues=r=>{const s=n.objectKeys(r).filter(u=>typeof r[r[u]]!="number"),o={};for(const u of s)o[u]=r[u];return n.objectValues(o)},n.objectValues=r=>n.objectKeys(r).map(function(s){return r[s]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.push(o);return s},n.find=(r,s)=>{for(const o of r)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function i(r,s=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=i,n.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(Qn||(Qn={}));var d5;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(d5||(d5={}));const Ct=Qn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mu=n=>{switch(typeof n){case"undefined":return Ct.undefined;case"string":return Ct.string;case"number":return Number.isNaN(n)?Ct.nan:Ct.number;case"boolean":return Ct.boolean;case"function":return Ct.function;case"bigint":return Ct.bigint;case"symbol":return Ct.symbol;case"object":return Array.isArray(n)?Ct.array:n===null?Ct.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Ct.promise:typeof Map<"u"&&n instanceof Map?Ct.map:typeof Set<"u"&&n instanceof Set?Ct.set:typeof Date<"u"&&n instanceof Date?Ct.date:Ct.object;default:return Ct.unknown}},st=Qn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class jl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},i={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)i._errors.push(t(o));else{let u=i,c=0;for(;c<o.path.length;){const f=o.path[c];c===o.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(o))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return r(this),i}static assert(e){if(!(e instanceof jl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}jl.create=n=>new jl(n);const v1=(n,e)=>{let t;switch(n.code){case st.invalid_type:n.received===Ct.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case st.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Qn.jsonStringifyReplacer)}`;break;case st.unrecognized_keys:t=`Unrecognized key(s) in object: ${Qn.joinValues(n.keys,", ")}`;break;case st.invalid_union:t="Invalid input";break;case st.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Qn.joinValues(n.options)}`;break;case st.invalid_enum_value:t=`Invalid enum value. Expected ${Qn.joinValues(n.options)}, received '${n.received}'`;break;case st.invalid_arguments:t="Invalid function arguments";break;case st.invalid_return_type:t="Invalid function return type";break;case st.invalid_date:t="Invalid date";break;case st.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Qn.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case st.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case st.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case st.custom:t="Invalid input";break;case st.invalid_intersection_types:t="Intersection results could not be merged";break;case st.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case st.not_finite:t="Number must be finite";break;default:t=e.defaultError,Qn.assertNever(n)}return{message:t}};let xC=v1;function bC(){return xC}const wC=n=>{const{data:e,path:t,errorMaps:i,issueData:r}=n,s=[...t,...r.path||[]],o={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(o,{data:e,defaultError:u}).message;return{...r,path:s,message:u}};function gt(n,e){const t=bC(),i=wC({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===v1?void 0:v1].filter(r=>!!r)});n.common.issues.push(i)}class Ps{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const r of t){if(r.status==="aborted")return on;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const r of t){const s=await r.key,o=await r.value;i.push({key:s,value:o})}return Ps.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const r of t){const{key:s,value:o}=r;if(s.status==="aborted"||o.status==="aborted")return on;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(i[s.value]=o.value)}return{status:e.value,value:i}}}const on=Object.freeze({status:"aborted"}),fh=n=>({status:"dirty",value:n}),Oa=n=>({status:"valid",value:n}),h5=n=>n.status==="aborted",p5=n=>n.status==="dirty",Jf=n=>n.status==="valid",Bm=n=>typeof Promise<"u"&&n instanceof Promise;var kt;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(kt||(kt={}));class Qo{constructor(e,t,i,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const m5=(n,e)=>{if(Jf(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new jl(n.common.issues);return this._error=t,this._error}}};function xn(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:r}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,u)=>{const{message:c}=n;return o.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:o.code!=="invalid_type"?{message:u.defaultError}:{message:c??t??u.defaultError}},description:r}}class In{get description(){return this._def.description}_getType(e){return Mu(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Mu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ps,ctx:{common:e.parent.common,data:e.data,parsedType:Mu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Bm(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mu(e)},r=this._parseSync({data:e,path:i.path,parent:i});return m5(i,r)}"~validate"(e){var i,r;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mu(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:t});return Jf(s)?{value:s.value}:{issues:t.common.issues}}catch(s){(r=(i=s==null?void 0:s.message)==null?void 0:i.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>Jf(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mu(e)},r=this._parse({data:e,path:i.path,parent:i}),s=await(Bm(r)?r:Promise.resolve(r));return m5(i,s)}refine(e,t){const i=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,s)=>{const o=e(r),u=()=>s.addIssue({code:st.custom,...i(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,t){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof t=="function"?t(i,r):t),!1))}_refinement(e){return new Qf({schema:this,typeName:rn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Fu.create(this,this._def)}nullable(){return ed.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jo.create(this)}promise(){return qm.create(this,this._def)}or(e){return jm.create([this,e],this._def)}and(e){return Um.create(this,e,this._def)}transform(e){return new Qf({...xn(this._def),schema:this,typeName:rn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new _1({...xn(this._def),innerType:this,defaultValue:t,typeName:rn.ZodDefault})}brand(){return new HC({typeName:rn.ZodBranded,type:this,...xn(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new S1({...xn(this._def),innerType:this,catchValue:t,typeName:rn.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return S2.create(this,e)}readonly(){return A1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _C=/^c[^\s-]{8,}$/i,SC=/^[0-9a-z]+$/,AC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,TC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,CC=/^[a-z0-9_-]{21}$/i,NC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,EC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,MC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let O0;const LC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,RC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,DC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,OC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,c_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FC=new RegExp(`^${c_}$`);function f_(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function BC(n){return new RegExp(`^${f_(n)}$`)}function zC(n){let e=`${c_}T${f_(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function jC(n,e){return!!((e==="v4"||!e)&&LC.test(n)||(e==="v6"||!e)&&RC.test(n))}function UC(n,e){if(!NC.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function VC(n,e){return!!((e==="v4"||!e)&&PC.test(n)||(e==="v6"||!e)&&DC.test(n))}class Ko extends In{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ct.string){const s=this._getOrReturnCtx(e);return gt(s,{code:st.invalid_type,expected:Ct.string,received:s.parsedType}),on}const i=new Ps;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),gt(r,{code:st.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),gt(r,{code:st.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,u=e.data.length<s.value;(o||u)&&(r=this._getOrReturnCtx(e,r),o?gt(r,{code:st.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&gt(r,{code:st.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")kC.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"email",code:st.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")O0||(O0=new RegExp(MC,"u")),O0.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"emoji",code:st.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")TC.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"uuid",code:st.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")CC.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"nanoid",code:st.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")_C.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"cuid",code:st.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")SC.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"cuid2",code:st.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")AC.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"ulid",code:st.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),gt(r,{validation:"url",code:st.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"regex",code:st.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),gt(r,{code:st.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),gt(r,{code:st.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),gt(r,{code:st.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?zC(s).test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{code:st.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?FC.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{code:st.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?BC(s).test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{code:st.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?EC.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"duration",code:st.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?jC(e.data,s.version)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"ip",code:st.invalid_string,message:s.message}),i.dirty()):s.kind==="jwt"?UC(e.data,s.alg)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"jwt",code:st.invalid_string,message:s.message}),i.dirty()):s.kind==="cidr"?VC(e.data,s.version)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"cidr",code:st.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?IC.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"base64",code:st.invalid_string,message:s.message}),i.dirty()):s.kind==="base64url"?OC.test(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{validation:"base64url",code:st.invalid_string,message:s.message}),i.dirty()):Qn.assertNever(s);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(r=>e.test(r),{validation:t,code:st.invalid_string,...kt.errToObj(i)})}_addCheck(e){return new Ko({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...kt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...kt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...kt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...kt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...kt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...kt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...kt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...kt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...kt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...kt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...kt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...kt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...kt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...kt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...kt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...kt.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...kt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...kt.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...kt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...kt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...kt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...kt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...kt.errToObj(t)})}nonempty(e){return this.min(1,kt.errToObj(e))}trim(){return new Ko({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ko({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ko({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ko.create=n=>new Ko({checks:[],typeName:rn.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...xn(n)});function qC(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=t>i?t:i,s=Number.parseInt(n.toFixed(r).replace(".","")),o=Number.parseInt(e.toFixed(r).replace(".",""));return s%o/10**r}class Bc extends In{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ct.number){const s=this._getOrReturnCtx(e);return gt(s,{code:st.invalid_type,expected:Ct.number,received:s.parsedType}),on}let i;const r=new Ps;for(const s of this._def.checks)s.kind==="int"?Qn.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{code:st.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),gt(i,{code:st.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),gt(i,{code:st.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?qC(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),gt(i,{code:st.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{code:st.not_finite,message:s.message}),r.dirty()):Qn.assertNever(s);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,kt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,kt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,kt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,kt.toString(t))}setLimit(e,t,i,r){return new Bc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:kt.toString(r)}]})}_addCheck(e){return new Bc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:kt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:kt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:kt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:kt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:kt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:kt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:kt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:kt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:kt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Qn.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Bc.create=n=>new Bc({checks:[],typeName:rn.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...xn(n)});class zc extends In{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ct.bigint)return this._getInvalidInput(e);let i;const r=new Ps;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),gt(i,{code:st.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),gt(i,{code:st.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),gt(i,{code:st.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):Qn.assertNever(s);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return gt(t,{code:st.invalid_type,expected:Ct.bigint,received:t.parsedType}),on}gte(e,t){return this.setLimit("min",e,!0,kt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,kt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,kt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,kt.toString(t))}setLimit(e,t,i,r){return new zc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:kt.toString(r)}]})}_addCheck(e){return new zc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:kt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:kt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:kt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:kt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:kt.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}zc.create=n=>new zc({checks:[],typeName:rn.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...xn(n)});class zm extends In{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ct.boolean){const i=this._getOrReturnCtx(e);return gt(i,{code:st.invalid_type,expected:Ct.boolean,received:i.parsedType}),on}return Oa(e.data)}}zm.create=n=>new zm({typeName:rn.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...xn(n)});class Zf extends In{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ct.date){const s=this._getOrReturnCtx(e);return gt(s,{code:st.invalid_type,expected:Ct.date,received:s.parsedType}),on}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return gt(s,{code:st.invalid_date}),on}const i=new Ps;let r;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(r=this._getOrReturnCtx(e,r),gt(r,{code:st.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(r=this._getOrReturnCtx(e,r),gt(r,{code:st.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):Qn.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zf({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:kt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:kt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Zf.create=n=>new Zf({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:rn.ZodDate,...xn(n)});class g5 extends In{_parse(e){if(this._getType(e)!==Ct.symbol){const i=this._getOrReturnCtx(e);return gt(i,{code:st.invalid_type,expected:Ct.symbol,received:i.parsedType}),on}return Oa(e.data)}}g5.create=n=>new g5({typeName:rn.ZodSymbol,...xn(n)});class y5 extends In{_parse(e){if(this._getType(e)!==Ct.undefined){const i=this._getOrReturnCtx(e);return gt(i,{code:st.invalid_type,expected:Ct.undefined,received:i.parsedType}),on}return Oa(e.data)}}y5.create=n=>new y5({typeName:rn.ZodUndefined,...xn(n)});class v5 extends In{_parse(e){if(this._getType(e)!==Ct.null){const i=this._getOrReturnCtx(e);return gt(i,{code:st.invalid_type,expected:Ct.null,received:i.parsedType}),on}return Oa(e.data)}}v5.create=n=>new v5({typeName:rn.ZodNull,...xn(n)});class x5 extends In{constructor(){super(...arguments),this._any=!0}_parse(e){return Oa(e.data)}}x5.create=n=>new x5({typeName:rn.ZodAny,...xn(n)});class x1 extends In{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Oa(e.data)}}x1.create=n=>new x1({typeName:rn.ZodUnknown,...xn(n)});class zu extends In{_parse(e){const t=this._getOrReturnCtx(e);return gt(t,{code:st.invalid_type,expected:Ct.never,received:t.parsedType}),on}}zu.create=n=>new zu({typeName:rn.ZodNever,...xn(n)});class b5 extends In{_parse(e){if(this._getType(e)!==Ct.undefined){const i=this._getOrReturnCtx(e);return gt(i,{code:st.invalid_type,expected:Ct.void,received:i.parsedType}),on}return Oa(e.data)}}b5.create=n=>new b5({typeName:rn.ZodVoid,...xn(n)});class Jo extends In{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),r=this._def;if(t.parsedType!==Ct.array)return gt(t,{code:st.invalid_type,expected:Ct.array,received:t.parsedType}),on;if(r.exactLength!==null){const o=t.data.length>r.exactLength.value,u=t.data.length<r.exactLength.value;(o||u)&&(gt(t,{code:o?st.too_big:st.too_small,minimum:u?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(gt(t,{code:st.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(gt(t,{code:st.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((o,u)=>r.type._parseAsync(new Qo(t,o,t.path,u)))).then(o=>Ps.mergeArray(i,o));const s=[...t.data].map((o,u)=>r.type._parseSync(new Qo(t,o,t.path,u)));return Ps.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new Jo({...this._def,minLength:{value:e,message:kt.toString(t)}})}max(e,t){return new Jo({...this._def,maxLength:{value:e,message:kt.toString(t)}})}length(e,t){return new Jo({...this._def,exactLength:{value:e,message:kt.toString(t)}})}nonempty(e){return this.min(1,e)}}Jo.create=(n,e)=>new Jo({type:n,minLength:null,maxLength:null,exactLength:null,typeName:rn.ZodArray,...xn(e)});function Rf(n){if(n instanceof zr){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=Fu.create(Rf(i))}return new zr({...n._def,shape:()=>e})}else return n instanceof Jo?new Jo({...n._def,type:Rf(n.element)}):n instanceof Fu?Fu.create(Rf(n.unwrap())):n instanceof ed?ed.create(Rf(n.unwrap())):n instanceof jc?jc.create(n.items.map(e=>Rf(e))):n}class zr extends In{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Qn.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Ct.object){const f=this._getOrReturnCtx(e);return gt(f,{code:st.invalid_type,expected:Ct.object,received:f.parsedType}),on}const{status:i,ctx:r}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof zu&&this._def.unknownKeys==="strip"))for(const f in r.data)o.includes(f)||u.push(f);const c=[];for(const f of o){const h=s[f],y=r.data[f];c.push({key:{status:"valid",value:f},value:h._parse(new Qo(r,y,r.path,f)),alwaysSet:f in r.data})}if(this._def.catchall instanceof zu){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of u)c.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(f==="strict")u.length>0&&(gt(r,{code:st.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of u){const y=r.data[h];c.push({key:{status:"valid",value:h},value:f._parse(new Qo(r,y,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of c){const y=await h.key,b=await h.value;f.push({key:y,value:b,alwaysSet:h.alwaysSet})}return f}).then(f=>Ps.mergeObjectSync(i,f)):Ps.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return kt.errToObj,new zr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var s,o;const r=((o=(s=this._def).errorMap)==null?void 0:o.call(s,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:kt.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new zr({...this._def,unknownKeys:"strip"})}passthrough(){return new zr({...this._def,unknownKeys:"passthrough"})}extend(e){return new zr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new zr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rn.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new zr({...this._def,catchall:e})}pick(e){const t={};for(const i of Qn.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new zr({...this._def,shape:()=>t})}omit(e){const t={};for(const i of Qn.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new zr({...this._def,shape:()=>t})}deepPartial(){return Rf(this)}partial(e){const t={};for(const i of Qn.objectKeys(this.shape)){const r=this.shape[i];e&&!e[i]?t[i]=r:t[i]=r.optional()}return new zr({...this._def,shape:()=>t})}required(e){const t={};for(const i of Qn.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof Fu;)s=s._def.innerType;t[i]=s}return new zr({...this._def,shape:()=>t})}keyof(){return d_(Qn.objectKeys(this.shape))}}zr.create=(n,e)=>new zr({shape:()=>n,unknownKeys:"strip",catchall:zu.create(),typeName:rn.ZodObject,...xn(e)});zr.strictCreate=(n,e)=>new zr({shape:()=>n,unknownKeys:"strict",catchall:zu.create(),typeName:rn.ZodObject,...xn(e)});zr.lazycreate=(n,e)=>new zr({shape:n,unknownKeys:"strip",catchall:zu.create(),typeName:rn.ZodObject,...xn(e)});class jm extends In{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function r(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const o=s.map(u=>new jl(u.ctx.common.issues));return gt(t,{code:st.invalid_union,unionErrors:o}),on}if(t.common.async)return Promise.all(i.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(r);{let s;const o=[];for(const c of i){const f={...t,common:{...t.common,issues:[]},parent:null},h=c._parseSync({data:t.data,path:t.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const u=o.map(c=>new jl(c));return gt(t,{code:st.invalid_union,unionErrors:u}),on}}get options(){return this._def.options}}jm.create=(n,e)=>new jm({options:n,typeName:rn.ZodUnion,...xn(e)});function b1(n,e){const t=Mu(n),i=Mu(e);if(n===e)return{valid:!0,data:n};if(t===Ct.object&&i===Ct.object){const r=Qn.objectKeys(e),s=Qn.objectKeys(n).filter(u=>r.indexOf(u)!==-1),o={...n,...e};for(const u of s){const c=b1(n[u],e[u]);if(!c.valid)return{valid:!1};o[u]=c.data}return{valid:!0,data:o}}else if(t===Ct.array&&i===Ct.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let s=0;s<n.length;s++){const o=n[s],u=e[s],c=b1(o,u);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return t===Ct.date&&i===Ct.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Um extends In{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=(s,o)=>{if(h5(s)||h5(o))return on;const u=b1(s.value,o.value);return u.valid?((p5(s)||p5(o))&&t.dirty(),{status:t.value,value:u.data}):(gt(i,{code:st.invalid_intersection_types}),on)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>r(s,o)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Um.create=(n,e,t)=>new Um({left:n,right:e,typeName:rn.ZodIntersection,...xn(t)});class jc extends In{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ct.array)return gt(i,{code:st.invalid_type,expected:Ct.array,received:i.parsedType}),on;if(i.data.length<this._def.items.length)return gt(i,{code:st.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),on;!this._def.rest&&i.data.length>this._def.items.length&&(gt(i,{code:st.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...i.data].map((o,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Qo(i,o,i.path,u)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>Ps.mergeArray(t,o)):Ps.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new jc({...this._def,rest:e})}}jc.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jc({items:n,typeName:rn.ZodTuple,rest:null,...xn(e)})};class Vm extends In{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ct.object)return gt(i,{code:st.invalid_type,expected:Ct.object,received:i.parsedType}),on;const r=[],s=this._def.keyType,o=this._def.valueType;for(const u in i.data)r.push({key:s._parse(new Qo(i,u,i.path,u)),value:o._parse(new Qo(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?Ps.mergeObjectAsync(t,r):Ps.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof In?new Vm({keyType:e,valueType:t,typeName:rn.ZodRecord,...xn(i)}):new Vm({keyType:Ko.create(),valueType:e,typeName:rn.ZodRecord,...xn(t)})}}class w5 extends In{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ct.map)return gt(i,{code:st.invalid_type,expected:Ct.map,received:i.parsedType}),on;const r=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([u,c],f)=>({key:r._parse(new Qo(i,u,i.path,[f,"key"])),value:s._parse(new Qo(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of o){const f=await c.key,h=await c.value;if(f.status==="aborted"||h.status==="aborted")return on;(f.status==="dirty"||h.status==="dirty")&&t.dirty(),u.set(f.value,h.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const c of o){const f=c.key,h=c.value;if(f.status==="aborted"||h.status==="aborted")return on;(f.status==="dirty"||h.status==="dirty")&&t.dirty(),u.set(f.value,h.value)}return{status:t.value,value:u}}}}w5.create=(n,e,t)=>new w5({valueType:e,keyType:n,typeName:rn.ZodMap,...xn(t)});class Mh extends In{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ct.set)return gt(i,{code:st.invalid_type,expected:Ct.set,received:i.parsedType}),on;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(gt(i,{code:st.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(gt(i,{code:st.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const s=this._def.valueType;function o(c){const f=new Set;for(const h of c){if(h.status==="aborted")return on;h.status==="dirty"&&t.dirty(),f.add(h.value)}return{status:t.value,value:f}}const u=[...i.data.values()].map((c,f)=>s._parse(new Qo(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>o(c)):o(u)}min(e,t){return new Mh({...this._def,minSize:{value:e,message:kt.toString(t)}})}max(e,t){return new Mh({...this._def,maxSize:{value:e,message:kt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Mh.create=(n,e)=>new Mh({valueType:n,minSize:null,maxSize:null,typeName:rn.ZodSet,...xn(e)});class w1 extends In{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}w1.create=(n,e)=>new w1({getter:n,typeName:rn.ZodLazy,...xn(e)});class _5 extends In{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return gt(t,{received:t.data,code:st.invalid_literal,expected:this._def.value}),on}return{status:"valid",value:e.data}}get value(){return this._def.value}}_5.create=(n,e)=>new _5({value:n,typeName:rn.ZodLiteral,...xn(e)});function d_(n,e){return new Xf({values:n,typeName:rn.ZodEnum,...xn(e)})}class Xf extends In{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return gt(t,{expected:Qn.joinValues(i),received:t.parsedType,code:st.invalid_type}),on}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return gt(t,{received:t.data,code:st.invalid_enum_value,options:i}),on}return Oa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Xf.create(e,{...this._def,...t})}exclude(e,t=this._def){return Xf.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}Xf.create=d_;class S5 extends In{_parse(e){const t=Qn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==Ct.string&&i.parsedType!==Ct.number){const r=Qn.objectValues(t);return gt(i,{expected:Qn.joinValues(r),received:i.parsedType,code:st.invalid_type}),on}if(this._cache||(this._cache=new Set(Qn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Qn.objectValues(t);return gt(i,{received:i.data,code:st.invalid_enum_value,options:r}),on}return Oa(e.data)}get enum(){return this._def.values}}S5.create=(n,e)=>new S5({values:n,typeName:rn.ZodNativeEnum,...xn(e)});class qm extends In{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ct.promise&&t.common.async===!1)return gt(t,{code:st.invalid_type,expected:Ct.promise,received:t.parsedType}),on;const i=t.parsedType===Ct.promise?t.data:Promise.resolve(t.data);return Oa(i.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}qm.create=(n,e)=>new qm({type:n,typeName:rn.ZodPromise,...xn(e)});class Qf extends In{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:o=>{gt(i,o),o.fatal?t.abort():t.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const o=r.transform(i.data,s);if(i.common.async)return Promise.resolve(o).then(async u=>{if(t.value==="aborted")return on;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?on:c.status==="dirty"||t.value==="dirty"?fh(c.value):c});{if(t.value==="aborted")return on;const u=this._def.schema._parseSync({data:o,path:i.path,parent:i});return u.status==="aborted"?on:u.status==="dirty"||t.value==="dirty"?fh(u.value):u}}if(r.type==="refinement"){const o=u=>{const c=r.refinement(u,s);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?on:(u.status==="dirty"&&t.dirty(),o(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?on:(u.status==="dirty"&&t.dirty(),o(u.value).then(()=>({status:t.value,value:u.value}))))}if(r.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Jf(o))return on;const u=r.transform(o.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>Jf(o)?Promise.resolve(r.transform(o.value,s)).then(u=>({status:t.value,value:u})):on);Qn.assertNever(r)}}Qf.create=(n,e,t)=>new Qf({schema:n,typeName:rn.ZodEffects,effect:e,...xn(t)});Qf.createWithPreprocess=(n,e,t)=>new Qf({schema:e,effect:{type:"preprocess",transform:n},typeName:rn.ZodEffects,...xn(t)});class Fu extends In{_parse(e){return this._getType(e)===Ct.undefined?Oa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fu.create=(n,e)=>new Fu({innerType:n,typeName:rn.ZodOptional,...xn(e)});class ed extends In{_parse(e){return this._getType(e)===Ct.null?Oa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ed.create=(n,e)=>new ed({innerType:n,typeName:rn.ZodNullable,...xn(e)});class _1 extends In{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===Ct.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}_1.create=(n,e)=>new _1({innerType:n,typeName:rn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xn(e)});class S1 extends In{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Bm(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new jl(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new jl(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}S1.create=(n,e)=>new S1({innerType:n,typeName:rn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xn(e)});class A5 extends In{_parse(e){if(this._getType(e)!==Ct.nan){const i=this._getOrReturnCtx(e);return gt(i,{code:st.invalid_type,expected:Ct.nan,received:i.parsedType}),on}return{status:"valid",value:e.data}}}A5.create=n=>new A5({typeName:rn.ZodNaN,...xn(n)});class HC extends In{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class S2 extends In{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?on:s.status==="dirty"?(t.dirty(),fh(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?on:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,t){return new S2({in:e,out:t,typeName:rn.ZodPipeline})}}class A1 extends In{_parse(e){const t=this._def.innerType._parse(e),i=r=>(Jf(r)&&(r.value=Object.freeze(r.value)),r);return Bm(t)?t.then(r=>i(r)):i(t)}unwrap(){return this._def.innerType}}A1.create=(n,e)=>new A1({innerType:n,typeName:rn.ZodReadonly,...xn(e)});var rn;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(rn||(rn={}));const wc=Ko.create,T5=Bc.create;zc.create;const GC=zm.create;Zf.create;const C5=x1.create;zu.create;const dh=Jo.create,WC=zr.create,KC=jm.create;Um.create;jc.create;const YC=Vm.create,$C=w1.create,JC=Xf.create;qm.create;Fu.create;ed.create;const Tf={string:n=>Ko.create({...n,coerce:!0}),number:n=>Bc.create({...n,coerce:!0}),boolean:n=>zm.create({...n,coerce:!0}),bigint:n=>zc.create({...n,coerce:!0}),date:n=>Zf.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ZC,XC;function QC(){return{geminiUrl:ZC,vertexUrl:XC}}function e4(n,e,t){var i,r,s;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){const o=QC();return n.vertexai?(r=o.vertexUrl)!==null&&r!==void 0?r:e:(s=o.geminiUrl)!==null&&s!==void 0?s:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class od{}function Qt(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(n,e,t){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const u=o.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const h=c[f];g(h,e.slice(s+1),t[f])}else for(const f of c)g(f,e.slice(s+1),t)}return}else if(o.endsWith("[0]")){const u=o.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];g(c[0],e.slice(s+1),t);return}(!n[o]||typeof n[o]!="object")&&(n[o]={}),n=n[o]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function m(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in n){const s=n[r];return Array.isArray(s)?s.map(o=>m(o,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var N5;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(N5||(N5={}));var E5;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(E5||(E5={}));var Yo;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Yo||(Yo={}));var k5;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(k5||(k5={}));var M5;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(M5||(M5={}));var L5;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(L5||(L5={}));var P5;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(P5||(P5={}));var R5;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(R5||(R5={}));var D5;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(D5||(D5={}));var I5;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(I5||(I5={}));var O5;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(O5||(O5={}));var F5;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(F5||(F5={}));var B5;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(B5||(B5={}));var Hm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Hm||(Hm={}));var z5;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(z5||(z5={}));var T1;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(T1||(T1={}));var j5;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(j5||(j5={}));var U5;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(U5||(U5={}));var V5;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(V5||(V5={}));var q5;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(q5||(q5={}));var H5;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(H5||(H5={}));var G5;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(G5||(G5={}));var W5;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(W5||(W5={}));var K5;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(K5||(K5={}));var Y5;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Y5||(Y5={}));var $5;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($5||($5={}));var J5;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(J5||(J5={}));var Z5;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Z5||(Z5={}));var X5;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(X5||(X5={}));var Q5;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Q5||(Q5={}));var ex;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(ex||(ex={}));var tx;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(tx||(tx={}));var nx;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nx||(nx={}));var ix;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ix||(ix={}));var rx;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(rx||(rx={}));var sx;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sx||(sx={}));var ax;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(ax||(ax={}));var ox;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ox||(ox={}));var Ff;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ff||(Ff={}));class eh{get text(){var e,t,i,r,s,o,u,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const y=[];for(const b of(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[x,N]of Object.entries(b))x!=="text"&&x!=="thought"&&(N!==null||N!==void 0)&&y.push(x);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;h=!0,f+=b.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,t,i,r,s,o,u,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const y of(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[b,x]of Object.entries(y))b!=="inlineData"&&(x!==null||x!==void 0)&&h.push(b);y.inlineData&&typeof y.inlineData.data=="string"&&(f+=atob(y.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,r,s,o,u,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,r,s,o,u,c,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,r,s,o,u,c,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class lx{}class ux{}class t4{}class n4{}class cx{}class fx{}class dx{}class i4{}class hx{}class px{}class mx{}class r4{}class C1{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class s4{}class a4{}class o4{get text(){var e,t,i;let r="",s=!1;const o=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&o.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,r+=u.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(o))u!=="inlineData"&&c!==null&&s.push(u);o.inlineData&&typeof o.inlineData.data=="string"&&(r+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class l4{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mi(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function h_(n,e){const t=Mi(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function p_(n,e){return Array.isArray(e)?e.map(t=>Gm(n,t)):[Gm(n,e)]}function Gm(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function u4(n,e){const t=Gm(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function c4(n,e){const t=Gm(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function gx(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function m_(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>gx(n,t)):[gx(n,e)]}function N1(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function yx(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function vx(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ls(n,e){if(e==null)throw new Error("ContentUnion is required");return N1(e)?e:{role:"user",parts:m_(n,e)}}function g_(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Ls(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Ls(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ls(n,t)):[Ls(n,e)]}function lo(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(yx(e)||vx(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ls(n,e)]}const t=[],i=[],r=N1(e[0]);for(const s of e){const o=N1(s);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(s);else{if(yx(s)||vx(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(s)}}return r||t.push({role:"user",parts:m_(n,i)}),t}const f4=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),xx=JC(["string","number","integer","object","array","boolean","null"]),d4=KC([xx,dh(xx)]);function h4(n=!0){const e=$C(()=>{const t=WC({type:d4.optional(),format:wc().optional(),title:wc().optional(),description:wc().optional(),default:C5().optional(),items:e.optional(),minItems:Tf.string().optional(),maxItems:Tf.string().optional(),enum:dh(C5()).optional(),properties:YC(wc(),e).optional(),required:dh(wc()).optional(),minProperties:Tf.string().optional(),maxProperties:Tf.string().optional(),propertyOrdering:dh(wc()).optional(),minimum:T5().optional(),maximum:T5().optional(),minLength:Tf.string().optional(),maxLength:Tf.string().optional(),pattern:wc().optional(),anyOf:dh(e).optional(),additionalProperties:GC().optional()});return n?t.strict():t});return e}function p4(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Yo).includes(t[0].toUpperCase())?t[0].toUpperCase():Yo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Yo).includes(i.toUpperCase())?i.toUpperCase():Yo.TYPE_UNSPECIFIED})}}function Vf(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&p4(n.type,e);for(const[o,u]of Object.entries(n))if(u!=null)if(o=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Yo).includes(u.toUpperCase())?u.toUpperCase():Yo.TYPE_UNSPECIFIED}else if(t.includes(o))e[o]=Vf(u);else if(i.includes(o)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Vf(f))}e[o]=c}else if(r.includes(o)){const c={};for(const[f,h]of Object.entries(u))c[f]=Vf(h);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=u}return e}function Wm(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=h4().parse(e);return Vf(t)}else return Vf(e)}function y_(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function A2(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Vh(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Wm(n,t.parameters)),t.response&&(t.response=Wm(n,t.response));return e}function qh(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function m4(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Gu(n,e){if(typeof e!="string")throw new Error("name must be a string");return m4(n,e,"cachedContents")}function v_(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Wu(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function g4(n){return n!=null&&typeof n=="object"&&"name"in n}function y4(n){return n!=null&&typeof n=="object"&&"video"in n}function v4(n){return n!=null&&typeof n=="object"&&"uri"in n}function x_(n,e){var t;let i;if(g4(e)&&(i=e.name),!(v4(e)&&(i=e.uri,i===void 0))&&!(y4(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const s=i.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${i}`);i=s[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function b_(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function w_(n,e){for(const t of["models","tunedModels","publisherModels"])if(x4(e,t))return e[t];return[]}function x4(n,e){return n!==null&&typeof n=="object"&&e in n}function b4(n,e={}){const t=n,i={name:t.name,description:t.description,parameters:Vf(cg(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function w4(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const o=b4(r,e);o.functionDeclarations&&t.push(...o.functionDeclarations)}return{functionDeclarations:t}}function _4(n){const e=[];for(const t of n)e.push(cg(t));return e}function S4(n){const e={};for(const[t,i]of Object.entries(n)){const r=i;e[t]=cg(r)}return e}function cg(n){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),r={};for(const[s,o]of Object.entries(n))if(e.has(s))r[s]=cg(o);else if(t.has(s))r[s]=_4(o);else if(i.has(s))r[s]=S4(o);else if(s==="type"){const u=o.toUpperCase();r[s]=Object.values(Yo).includes(u)?u:Yo.TYPE_UNSPECIFIED}else f4.has(s)&&(r[s]=o);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A4(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function T4(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function C4(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function N4(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],A4(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],T4(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],C4(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function bx(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>N4(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function E4(n,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const r=m(e,["description"]);r!=null&&g(t,["description"],r);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const o=m(e,["parameters"]);o!=null&&g(t,["parameters"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function k4(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function M4(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],k4(n,i)),t}function L4(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function P4(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],L4(n,i)),t}function R4(){return{}}function D4(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>E4(n,f))),g(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&g(t,["googleSearch"],M4(n,r));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],P4(n,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],R4());const u=m(e,["codeExecution"]);return u!=null&&g(t,["codeExecution"],u),t}function I4(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&g(t,["allowedFunctionNames"],r),t}function O4(n,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&g(t,["longitude"],r),t}function F4(n,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],O4(n,i));const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function B4(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],I4(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&g(t,["retrievalConfig"],F4(n,r)),t}function z4(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&g(t,["ttl"],r);const s=m(e,["expireTime"]);t!==void 0&&s!=null&&g(t,["expireTime"],s);const o=m(e,["displayName"]);t!==void 0&&o!=null&&g(t,["displayName"],o);const u=m(e,["contents"]);if(t!==void 0&&u!=null){let y=lo(n,u);Array.isArray(y)&&(y=y.map(b=>bx(n,b))),g(t,["contents"],y)}const c=m(e,["systemInstruction"]);t!==void 0&&c!=null&&g(t,["systemInstruction"],bx(n,Ls(n,c)));const f=m(e,["tools"]);if(t!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(b=>D4(n,b))),g(t,["tools"],y)}const h=m(e,["toolConfig"]);if(t!==void 0&&h!=null&&g(t,["toolConfig"],B4(n,h)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function j4(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],h_(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],z4(n,r,t)),t}function U4(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],Gu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function V4(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],Gu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function q4(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&g(t,["ttl"],r);const s=m(e,["expireTime"]);return t!==void 0&&s!=null&&g(t,["expireTime"],s),i}function H4(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],Gu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],q4(n,r,t)),t}function G4(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function W4(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],G4(n,i,t)),t}function K4(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function Y4(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["data"]);r!=null&&g(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function $4(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&g(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function J4(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],K4(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],Y4(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],$4(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function wx(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>J4(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function Z4(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const r=m(e,["name"]);r!=null&&g(t,["name"],r);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const o=m(e,["response"]);return o!=null&&g(t,["response"],o),t}function X4(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function Q4(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],X4(n,i)),t}function eN(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function tN(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],eN(n,i)),t}function nN(){return{}}function iN(n,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function rN(n,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],iN(n,i));const r=m(e,["authType"]);r!=null&&g(t,["authType"],r);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(t,["httpBasicAuthConfig"],o);const u=m(e,["oauthConfig"]);u!=null&&g(t,["oauthConfig"],u);const c=m(e,["oidcConfig"]);return c!=null&&g(t,["oidcConfig"],c),t}function sN(n,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],rN(n,i)),t}function aN(){return{}}function oN(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>Z4(n,b))),g(t,["functionDeclarations"],y)}const r=m(e,["retrieval"]);r!=null&&g(t,["retrieval"],r);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],Q4(n,s));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(t,["googleSearchRetrieval"],tN(n,o)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],nN());const c=m(e,["googleMaps"]);c!=null&&g(t,["googleMaps"],sN(n,c)),m(e,["urlContext"])!=null&&g(t,["urlContext"],aN());const h=m(e,["codeExecution"]);return h!=null&&g(t,["codeExecution"],h),t}function lN(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&g(t,["allowedFunctionNames"],r),t}function uN(n,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&g(t,["longitude"],r),t}function cN(n,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],uN(n,i));const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function fN(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],lN(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&g(t,["retrievalConfig"],cN(n,r)),t}function dN(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&g(t,["ttl"],r);const s=m(e,["expireTime"]);t!==void 0&&s!=null&&g(t,["expireTime"],s);const o=m(e,["displayName"]);t!==void 0&&o!=null&&g(t,["displayName"],o);const u=m(e,["contents"]);if(t!==void 0&&u!=null){let b=lo(n,u);Array.isArray(b)&&(b=b.map(x=>wx(n,x))),g(t,["contents"],b)}const c=m(e,["systemInstruction"]);t!==void 0&&c!=null&&g(t,["systemInstruction"],wx(n,Ls(n,c)));const f=m(e,["tools"]);if(t!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(x=>oN(n,x))),g(t,["tools"],b)}const h=m(e,["toolConfig"]);t!==void 0&&h!=null&&g(t,["toolConfig"],fN(n,h));const y=m(e,["kmsKeyName"]);return t!==void 0&&y!=null&&g(t,["encryption_spec","kmsKeyName"],y),i}function hN(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],h_(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],dN(n,r,t)),t}function pN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],Gu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function mN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],Gu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function gN(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&g(t,["ttl"],r);const s=m(e,["expireTime"]);return t!==void 0&&s!=null&&g(t,["expireTime"],s),i}function yN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],Gu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],gN(n,r,t)),t}function vN(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function xN(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],vN(n,i,t)),t}function wm(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["model"]);s!=null&&g(t,["model"],s);const o=m(e,["createTime"]);o!=null&&g(t,["createTime"],o);const u=m(e,["updateTime"]);u!=null&&g(t,["updateTime"],u);const c=m(e,["expireTime"]);c!=null&&g(t,["expireTime"],c);const f=m(e,["usageMetadata"]);return f!=null&&g(t,["usageMetadata"],f),t}function bN(){return{}}function wN(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>wm(n,o))),g(t,["cachedContents"],s)}return t}function _m(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["model"]);s!=null&&g(t,["model"],s);const o=m(e,["createTime"]);o!=null&&g(t,["createTime"],o);const u=m(e,["updateTime"]);u!=null&&g(t,["updateTime"],u);const c=m(e,["expireTime"]);c!=null&&g(t,["expireTime"],c);const f=m(e,["usageMetadata"]);return f!=null&&g(t,["usageMetadata"],f),t}function _N(){return{}}function SN(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>_m(n,o))),g(t,["cachedContents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var td;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(td||(td={}));class fg{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};i?typeof i=="object"?o=Object.assign({},i):o=i:o={config:{}},o.config&&(o.config.pageToken=t.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(r=o.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AN extends od{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new fg(td.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=hN(this.apiClient,e);return u=Qt("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>_m(this.apiClient,h))}else{const f=j4(this.apiClient,e);return u=Qt("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>wm(this.apiClient,h))}}async get(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=pN(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>_m(this.apiClient,h))}else{const f=U4(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>wm(this.apiClient,h))}}async delete(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=mN(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=_N(),y=new px;return Object.assign(y,h),y})}else{const f=V4(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(()=>{const h=bN(),y=new px;return Object.assign(y,h),y})}}async update(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=yN(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>_m(this.apiClient,h))}else{const f=H4(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>wm(this.apiClient,h))}}async listInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=xN(this.apiClient,e);return u=Qt("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=SN(this.apiClient,h),b=new mx;return Object.assign(b,y),b})}else{const f=W4(this.apiClient,e);return u=Qt("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=wN(this.apiClient,h),b=new mx;return Object.assign(b,y),b})}}}function _x(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bi(n){return this instanceof Bi?(this.v=n,this):new Bi(n)}function qf(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(x){return function(N){return Promise.resolve(N).then(x,y)}}function u(x,N){i[x]&&(r[x]=function(T){return new Promise(function(M,k){s.push([x,T,M,k])>1||c(x,T)})},N&&(r[x]=N(r[x])))}function c(x,N){try{f(i[x](N))}catch(T){b(s[0][3],T)}}function f(x){x.value instanceof Bi?Promise.resolve(x.value.v).then(h,y):b(s[0][2],x)}function h(x){c("next",x)}function y(x){c("throw",x)}function b(x,N){x(N),s.shift(),s.length&&c(s[0][0],s[0][1])}}function xh(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof _x=="function"?_x(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(u,c){o=n[s](o),r(u,c,o.done,o.value)})}}function r(s,o,u,c){Promise.resolve(c).then(function(f){s({value:f,done:u})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TN(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:__(t)}function __(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function CN(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Sx(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!__(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class NN{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new EN(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class EN{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),CN(s)}async sendMessage(e){var t;await this.sendPromise;const i=Ls(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,o,u;const c=await r,f=(o=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,h=c.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let b=[];h!=null&&(b=(u=h.slice(y))!==null&&u!==void 0?u:[]);const x=f?[f]:[];this.recordHistory(i,x,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=Ls(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?Sx(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return qf(this,arguments,function*(){var o,u,c,f;const h=[];try{for(var y=!0,b=xh(e),x;x=yield Bi(b.next()),o=x.done,!o;y=!0){f=x.value,y=!1;const N=f;if(TN(N)){const T=(r=(i=N.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;T!==void 0&&h.push(T)}yield yield Bi(N)}}catch(N){u={error:N}}finally{try{!y&&!o&&(c=b.return)&&(yield Bi(c.call(b)))}finally{if(u)throw u.error}}this.recordHistory(t,h)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Sx(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kN(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function MN(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],kN(n,i,t)),t}function LN(n,e){const t={},i=m(e,["details"]);i!=null&&g(t,["details"],i);const r=m(e,["message"]);r!=null&&g(t,["message"],r);const s=m(e,["code"]);return s!=null&&g(t,["code"],s),t}function PN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["mimeType"]);s!=null&&g(t,["mimeType"],s);const o=m(e,["sizeBytes"]);o!=null&&g(t,["sizeBytes"],o);const u=m(e,["createTime"]);u!=null&&g(t,["createTime"],u);const c=m(e,["expirationTime"]);c!=null&&g(t,["expirationTime"],c);const f=m(e,["updateTime"]);f!=null&&g(t,["updateTime"],f);const h=m(e,["sha256Hash"]);h!=null&&g(t,["sha256Hash"],h);const y=m(e,["uri"]);y!=null&&g(t,["uri"],y);const b=m(e,["downloadUri"]);b!=null&&g(t,["downloadUri"],b);const x=m(e,["state"]);x!=null&&g(t,["state"],x);const N=m(e,["source"]);N!=null&&g(t,["source"],N);const T=m(e,["videoMetadata"]);T!=null&&g(t,["videoMetadata"],T);const M=m(e,["error"]);return M!=null&&g(t,["error"],LN(n,M)),t}function RN(n,e){const t={},i=m(e,["file"]);i!=null&&g(t,["file"],PN(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function DN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","file"],x_(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function IN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","file"],x_(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function ON(n,e){const t={},i=m(e,["details"]);i!=null&&g(t,["details"],i);const r=m(e,["message"]);r!=null&&g(t,["message"],r);const s=m(e,["code"]);return s!=null&&g(t,["code"],s),t}function E1(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["mimeType"]);s!=null&&g(t,["mimeType"],s);const o=m(e,["sizeBytes"]);o!=null&&g(t,["sizeBytes"],o);const u=m(e,["createTime"]);u!=null&&g(t,["createTime"],u);const c=m(e,["expirationTime"]);c!=null&&g(t,["expirationTime"],c);const f=m(e,["updateTime"]);f!=null&&g(t,["updateTime"],f);const h=m(e,["sha256Hash"]);h!=null&&g(t,["sha256Hash"],h);const y=m(e,["uri"]);y!=null&&g(t,["uri"],y);const b=m(e,["downloadUri"]);b!=null&&g(t,["downloadUri"],b);const x=m(e,["state"]);x!=null&&g(t,["state"],x);const N=m(e,["source"]);N!=null&&g(t,["source"],N);const T=m(e,["videoMetadata"]);T!=null&&g(t,["videoMetadata"],T);const M=m(e,["error"]);return M!=null&&g(t,["error"],ON(n,M)),t}function FN(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>E1(n,o))),g(t,["files"],s)}return t}function BN(){return{}}function zN(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jN extends od{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new fg(td.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>E1(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=MN(this.apiClient,e);return s=Qt("files",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=FN(this.apiClient,c),h=new r4;return Object.assign(h,f),h})}}async createInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RN(this.apiClient,e);return s=Qt("upload/v1beta/files",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(()=>{const c=BN(),f=new s4;return Object.assign(f,c),f})}}async get(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DN(this.apiClient,e);return s=Qt("files/{file}",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>E1(this.apiClient,c))}}async delete(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IN(this.apiClient,e);return s=Qt("files/{file}",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(()=>{const c=zN(),f=new a4;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UN(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function VN(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function S_(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],UN(n,i)),t}function qN(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],VN(n,i)),t}function HN(n,e){const t={},i=m(e,["speaker"]);i!=null&&g(t,["speaker"],i);const r=m(e,["voiceConfig"]);return r!=null&&g(t,["voiceConfig"],S_(n,r)),t}function GN(n,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>HN(n,s))),g(t,["speakerVoiceConfigs"],r)}return t}function WN(n,e){const t={},i=m(e,["voiceConfig"]);i!=null&&g(t,["voiceConfig"],S_(n,i));const r=m(e,["multiSpeakerVoiceConfig"]);r!=null&&g(t,["multiSpeakerVoiceConfig"],GN(n,r));const s=m(e,["languageCode"]);return s!=null&&g(t,["languageCode"],s),t}function KN(n,e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&g(t,["voiceConfig"],qN(n,i)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function YN(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function $N(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function JN(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function ZN(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["data"]);r!=null&&g(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function XN(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function QN(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&g(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function eE(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],YN(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],JN(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],XN(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function tE(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],$N(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],ZN(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],QN(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function nE(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>eE(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function iE(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>tE(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function rE(n,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const r=m(e,["description"]);r!=null&&g(t,["description"],r);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const o=m(e,["parameters"]);o!=null&&g(t,["parameters"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function sE(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const r=m(e,["name"]);r!=null&&g(t,["name"],r);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const o=m(e,["response"]);return o!=null&&g(t,["response"],o),t}function aE(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function oE(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function lE(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],aE(n,i)),t}function uE(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],oE(n,i)),t}function cE(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function fE(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function dE(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],cE(n,i)),t}function hE(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],fE(n,i)),t}function pE(){return{}}function mE(n,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function gE(n,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],mE(n,i));const r=m(e,["authType"]);r!=null&&g(t,["authType"],r);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(t,["httpBasicAuthConfig"],o);const u=m(e,["oauthConfig"]);u!=null&&g(t,["oauthConfig"],u);const c=m(e,["oidcConfig"]);return c!=null&&g(t,["oidcConfig"],c),t}function yE(n,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],gE(n,i)),t}function vE(){return{}}function xE(){return{}}function bE(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>rE(n,f))),g(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&g(t,["googleSearch"],lE(n,r));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],dE(n,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],vE());const u=m(e,["codeExecution"]);return u!=null&&g(t,["codeExecution"],u),t}function wE(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>sE(n,b))),g(t,["functionDeclarations"],y)}const r=m(e,["retrieval"]);r!=null&&g(t,["retrieval"],r);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],uE(n,s));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(t,["googleSearchRetrieval"],hE(n,o)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],pE());const c=m(e,["googleMaps"]);c!=null&&g(t,["googleMaps"],yE(n,c)),m(e,["urlContext"])!=null&&g(t,["urlContext"],xE());const h=m(e,["codeExecution"]);return h!=null&&g(t,["codeExecution"],h),t}function _E(n,e){const t={},i=m(e,["handle"]);if(i!=null&&g(t,["handle"],i),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function SE(n,e){const t={},i=m(e,["handle"]);i!=null&&g(t,["handle"],i);const r=m(e,["transparent"]);return r!=null&&g(t,["transparent"],r),t}function Ax(){return{}}function Tx(){return{}}function AE(n,e){const t={},i=m(e,["disabled"]);i!=null&&g(t,["disabled"],i);const r=m(e,["startOfSpeechSensitivity"]);r!=null&&g(t,["startOfSpeechSensitivity"],r);const s=m(e,["endOfSpeechSensitivity"]);s!=null&&g(t,["endOfSpeechSensitivity"],s);const o=m(e,["prefixPaddingMs"]);o!=null&&g(t,["prefixPaddingMs"],o);const u=m(e,["silenceDurationMs"]);return u!=null&&g(t,["silenceDurationMs"],u),t}function TE(n,e){const t={},i=m(e,["disabled"]);i!=null&&g(t,["disabled"],i);const r=m(e,["startOfSpeechSensitivity"]);r!=null&&g(t,["startOfSpeechSensitivity"],r);const s=m(e,["endOfSpeechSensitivity"]);s!=null&&g(t,["endOfSpeechSensitivity"],s);const o=m(e,["prefixPaddingMs"]);o!=null&&g(t,["prefixPaddingMs"],o);const u=m(e,["silenceDurationMs"]);return u!=null&&g(t,["silenceDurationMs"],u),t}function CE(n,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&g(t,["automaticActivityDetection"],AE(n,i));const r=m(e,["activityHandling"]);r!=null&&g(t,["activityHandling"],r);const s=m(e,["turnCoverage"]);return s!=null&&g(t,["turnCoverage"],s),t}function NE(n,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&g(t,["automaticActivityDetection"],TE(n,i));const r=m(e,["activityHandling"]);r!=null&&g(t,["activityHandling"],r);const s=m(e,["turnCoverage"]);return s!=null&&g(t,["turnCoverage"],s),t}function EE(n,e){const t={},i=m(e,["targetTokens"]);return i!=null&&g(t,["targetTokens"],i),t}function kE(n,e){const t={},i=m(e,["targetTokens"]);return i!=null&&g(t,["targetTokens"],i),t}function ME(n,e){const t={},i=m(e,["triggerTokens"]);i!=null&&g(t,["triggerTokens"],i);const r=m(e,["slidingWindow"]);return r!=null&&g(t,["slidingWindow"],EE(n,r)),t}function LE(n,e){const t={},i=m(e,["triggerTokens"]);i!=null&&g(t,["triggerTokens"],i);const r=m(e,["slidingWindow"]);return r!=null&&g(t,["slidingWindow"],kE(n,r)),t}function PE(n,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&g(t,["proactiveAudio"],i),t}function RE(n,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&g(t,["proactiveAudio"],i),t}function DE(n,e,t){const i={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&g(t,["setup","generationConfig"],r);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&g(t,["setup","generationConfig","responseModalities"],s);const o=m(e,["temperature"]);t!==void 0&&o!=null&&g(t,["setup","generationConfig","temperature"],o);const u=m(e,["topP"]);t!==void 0&&u!=null&&g(t,["setup","generationConfig","topP"],u);const c=m(e,["topK"]);t!==void 0&&c!=null&&g(t,["setup","generationConfig","topK"],c);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&g(t,["setup","generationConfig","maxOutputTokens"],f);const h=m(e,["mediaResolution"]);t!==void 0&&h!=null&&g(t,["setup","generationConfig","mediaResolution"],h);const y=m(e,["seed"]);t!==void 0&&y!=null&&g(t,["setup","generationConfig","seed"],y);const b=m(e,["speechConfig"]);t!==void 0&&b!=null&&g(t,["setup","generationConfig","speechConfig"],WN(n,A2(n,b)));const x=m(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&g(t,["setup","generationConfig","enableAffectiveDialog"],x);const N=m(e,["systemInstruction"]);t!==void 0&&N!=null&&g(t,["setup","systemInstruction"],nE(n,Ls(n,N)));const T=m(e,["tools"]);if(t!==void 0&&T!=null){let Z=qh(n,T);Array.isArray(Z)&&(Z=Z.map(Q=>bE(n,Vh(n,Q)))),g(t,["setup","tools"],Z)}const M=m(e,["sessionResumption"]);t!==void 0&&M!=null&&g(t,["setup","sessionResumption"],_E(n,M));const k=m(e,["inputAudioTranscription"]);t!==void 0&&k!=null&&g(t,["setup","inputAudioTranscription"],Ax());const P=m(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&g(t,["setup","outputAudioTranscription"],Ax());const O=m(e,["realtimeInputConfig"]);t!==void 0&&O!=null&&g(t,["setup","realtimeInputConfig"],CE(n,O));const $=m(e,["contextWindowCompression"]);t!==void 0&&$!=null&&g(t,["setup","contextWindowCompression"],ME(n,$));const q=m(e,["proactivity"]);return t!==void 0&&q!=null&&g(t,["setup","proactivity"],PE(n,q)),i}function IE(n,e,t){const i={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&g(t,["setup","generationConfig"],r);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&g(t,["setup","generationConfig","responseModalities"],s);const o=m(e,["temperature"]);t!==void 0&&o!=null&&g(t,["setup","generationConfig","temperature"],o);const u=m(e,["topP"]);t!==void 0&&u!=null&&g(t,["setup","generationConfig","topP"],u);const c=m(e,["topK"]);t!==void 0&&c!=null&&g(t,["setup","generationConfig","topK"],c);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&g(t,["setup","generationConfig","maxOutputTokens"],f);const h=m(e,["mediaResolution"]);t!==void 0&&h!=null&&g(t,["setup","generationConfig","mediaResolution"],h);const y=m(e,["seed"]);t!==void 0&&y!=null&&g(t,["setup","generationConfig","seed"],y);const b=m(e,["speechConfig"]);t!==void 0&&b!=null&&g(t,["setup","generationConfig","speechConfig"],KN(n,A2(n,b)));const x=m(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&g(t,["setup","generationConfig","enableAffectiveDialog"],x);const N=m(e,["systemInstruction"]);t!==void 0&&N!=null&&g(t,["setup","systemInstruction"],iE(n,Ls(n,N)));const T=m(e,["tools"]);if(t!==void 0&&T!=null){let Z=qh(n,T);Array.isArray(Z)&&(Z=Z.map(Q=>wE(n,Vh(n,Q)))),g(t,["setup","tools"],Z)}const M=m(e,["sessionResumption"]);t!==void 0&&M!=null&&g(t,["setup","sessionResumption"],SE(n,M));const k=m(e,["inputAudioTranscription"]);t!==void 0&&k!=null&&g(t,["setup","inputAudioTranscription"],Tx());const P=m(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&g(t,["setup","outputAudioTranscription"],Tx());const O=m(e,["realtimeInputConfig"]);t!==void 0&&O!=null&&g(t,["setup","realtimeInputConfig"],NE(n,O));const $=m(e,["contextWindowCompression"]);t!==void 0&&$!=null&&g(t,["setup","contextWindowCompression"],LE(n,$));const q=m(e,["proactivity"]);return t!==void 0&&q!=null&&g(t,["setup","proactivity"],RE(n,q)),i}function OE(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["setup","model"],Mi(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],DE(n,r,t)),t}function FE(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["setup","model"],Mi(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],IE(n,r,t)),t}function BE(){return{}}function zE(){return{}}function jE(){return{}}function UE(){return{}}function VE(n,e){const t={},i=m(e,["media"]);i!=null&&g(t,["mediaChunks"],p_(n,i));const r=m(e,["audio"]);r!=null&&g(t,["audio"],c4(n,r));const s=m(e,["audioStreamEnd"]);s!=null&&g(t,["audioStreamEnd"],s);const o=m(e,["video"]);o!=null&&g(t,["video"],u4(n,o));const u=m(e,["text"]);return u!=null&&g(t,["text"],u),m(e,["activityStart"])!=null&&g(t,["activityStart"],BE()),m(e,["activityEnd"])!=null&&g(t,["activityEnd"],jE()),t}function qE(n,e){const t={},i=m(e,["media"]);if(i!=null&&g(t,["mediaChunks"],p_(n,i)),m(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=m(e,["audioStreamEnd"]);if(r!=null&&g(t,["audioStreamEnd"],r),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(e,["activityStart"])!=null&&g(t,["activityStart"],zE()),m(e,["activityEnd"])!=null&&g(t,["activityEnd"],UE()),t}function A_(n,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const r=m(e,["weight"]);return r!=null&&g(t,["weight"],r),t}function HE(n,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>A_(n,s))),g(t,["weightedPrompts"],r)}return t}function T_(n,e){const t={},i=m(e,["temperature"]);i!=null&&g(t,["temperature"],i);const r=m(e,["topK"]);r!=null&&g(t,["topK"],r);const s=m(e,["seed"]);s!=null&&g(t,["seed"],s);const o=m(e,["guidance"]);o!=null&&g(t,["guidance"],o);const u=m(e,["bpm"]);u!=null&&g(t,["bpm"],u);const c=m(e,["density"]);c!=null&&g(t,["density"],c);const f=m(e,["brightness"]);f!=null&&g(t,["brightness"],f);const h=m(e,["scale"]);h!=null&&g(t,["scale"],h);const y=m(e,["muteBass"]);y!=null&&g(t,["muteBass"],y);const b=m(e,["muteDrums"]);b!=null&&g(t,["muteDrums"],b);const x=m(e,["onlyBassAndDrums"]);return x!=null&&g(t,["onlyBassAndDrums"],x),t}function GE(n,e){const t={},i=m(e,["musicGenerationConfig"]);return i!=null&&g(t,["musicGenerationConfig"],T_(n,i)),t}function C_(n,e){const t={},i=m(e,["model"]);return i!=null&&g(t,["model"],i),t}function N_(n,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>A_(n,s))),g(t,["weightedPrompts"],r)}return t}function k1(n,e){const t={},i=m(e,["setup"]);i!=null&&g(t,["setup"],C_(n,i));const r=m(e,["clientContent"]);r!=null&&g(t,["clientContent"],N_(n,r));const s=m(e,["musicGenerationConfig"]);s!=null&&g(t,["musicGenerationConfig"],T_(n,s));const o=m(e,["playbackControl"]);return o!=null&&g(t,["playbackControl"],o),t}function WE(){return{}}function KE(){return{}}function YE(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function $E(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function JE(n,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function ZE(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["data"]);r!=null&&g(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function XE(n,e){const t={},i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function QE(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&g(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function ek(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],YE(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],JE(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],XE(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function tk(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],$E(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],ZE(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],QE(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function nk(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>ek(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function ik(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>tk(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function Cx(n,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const r=m(e,["finished"]);return r!=null&&g(t,["finished"],r),t}function Nx(n,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const r=m(e,["finished"]);return r!=null&&g(t,["finished"],r),t}function rk(n,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&g(t,["retrievedUrl"],i);const r=m(e,["urlRetrievalStatus"]);return r!=null&&g(t,["urlRetrievalStatus"],r),t}function sk(n,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>rk(n,s))),g(t,["urlMetadata"],r)}return t}function ak(n,e){const t={},i=m(e,["modelTurn"]);i!=null&&g(t,["modelTurn"],nk(n,i));const r=m(e,["turnComplete"]);r!=null&&g(t,["turnComplete"],r);const s=m(e,["interrupted"]);s!=null&&g(t,["interrupted"],s);const o=m(e,["groundingMetadata"]);o!=null&&g(t,["groundingMetadata"],o);const u=m(e,["generationComplete"]);u!=null&&g(t,["generationComplete"],u);const c=m(e,["inputTranscription"]);c!=null&&g(t,["inputTranscription"],Cx(n,c));const f=m(e,["outputTranscription"]);f!=null&&g(t,["outputTranscription"],Cx(n,f));const h=m(e,["urlContextMetadata"]);return h!=null&&g(t,["urlContextMetadata"],sk(n,h)),t}function ok(n,e){const t={},i=m(e,["modelTurn"]);i!=null&&g(t,["modelTurn"],ik(n,i));const r=m(e,["turnComplete"]);r!=null&&g(t,["turnComplete"],r);const s=m(e,["interrupted"]);s!=null&&g(t,["interrupted"],s);const o=m(e,["groundingMetadata"]);o!=null&&g(t,["groundingMetadata"],o);const u=m(e,["generationComplete"]);u!=null&&g(t,["generationComplete"],u);const c=m(e,["inputTranscription"]);c!=null&&g(t,["inputTranscription"],Nx(n,c));const f=m(e,["outputTranscription"]);return f!=null&&g(t,["outputTranscription"],Nx(n,f)),t}function lk(n,e){const t={},i=m(e,["id"]);i!=null&&g(t,["id"],i);const r=m(e,["args"]);r!=null&&g(t,["args"],r);const s=m(e,["name"]);return s!=null&&g(t,["name"],s),t}function uk(n,e){const t={},i=m(e,["args"]);i!=null&&g(t,["args"],i);const r=m(e,["name"]);return r!=null&&g(t,["name"],r),t}function ck(n,e){const t={},i=m(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>lk(n,s))),g(t,["functionCalls"],r)}return t}function fk(n,e){const t={},i=m(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>uk(n,s))),g(t,["functionCalls"],r)}return t}function dk(n,e){const t={},i=m(e,["ids"]);return i!=null&&g(t,["ids"],i),t}function hk(n,e){const t={},i=m(e,["ids"]);return i!=null&&g(t,["ids"],i),t}function $p(n,e){const t={},i=m(e,["modality"]);i!=null&&g(t,["modality"],i);const r=m(e,["tokenCount"]);return r!=null&&g(t,["tokenCount"],r),t}function Jp(n,e){const t={},i=m(e,["modality"]);i!=null&&g(t,["modality"],i);const r=m(e,["tokenCount"]);return r!=null&&g(t,["tokenCount"],r),t}function pk(n,e){const t={},i=m(e,["promptTokenCount"]);i!=null&&g(t,["promptTokenCount"],i);const r=m(e,["cachedContentTokenCount"]);r!=null&&g(t,["cachedContentTokenCount"],r);const s=m(e,["responseTokenCount"]);s!=null&&g(t,["responseTokenCount"],s);const o=m(e,["toolUsePromptTokenCount"]);o!=null&&g(t,["toolUsePromptTokenCount"],o);const u=m(e,["thoughtsTokenCount"]);u!=null&&g(t,["thoughtsTokenCount"],u);const c=m(e,["totalTokenCount"]);c!=null&&g(t,["totalTokenCount"],c);const f=m(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(N=>$p(n,N))),g(t,["promptTokensDetails"],x)}const h=m(e,["cacheTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(N=>$p(n,N))),g(t,["cacheTokensDetails"],x)}const y=m(e,["responseTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(N=>$p(n,N))),g(t,["responseTokensDetails"],x)}const b=m(e,["toolUsePromptTokensDetails"]);if(b!=null){let x=b;Array.isArray(x)&&(x=x.map(N=>$p(n,N))),g(t,["toolUsePromptTokensDetails"],x)}return t}function mk(n,e){const t={},i=m(e,["promptTokenCount"]);i!=null&&g(t,["promptTokenCount"],i);const r=m(e,["cachedContentTokenCount"]);r!=null&&g(t,["cachedContentTokenCount"],r);const s=m(e,["candidatesTokenCount"]);s!=null&&g(t,["responseTokenCount"],s);const o=m(e,["toolUsePromptTokenCount"]);o!=null&&g(t,["toolUsePromptTokenCount"],o);const u=m(e,["thoughtsTokenCount"]);u!=null&&g(t,["thoughtsTokenCount"],u);const c=m(e,["totalTokenCount"]);c!=null&&g(t,["totalTokenCount"],c);const f=m(e,["promptTokensDetails"]);if(f!=null){let N=f;Array.isArray(N)&&(N=N.map(T=>Jp(n,T))),g(t,["promptTokensDetails"],N)}const h=m(e,["cacheTokensDetails"]);if(h!=null){let N=h;Array.isArray(N)&&(N=N.map(T=>Jp(n,T))),g(t,["cacheTokensDetails"],N)}const y=m(e,["candidatesTokensDetails"]);if(y!=null){let N=y;Array.isArray(N)&&(N=N.map(T=>Jp(n,T))),g(t,["responseTokensDetails"],N)}const b=m(e,["toolUsePromptTokensDetails"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(T=>Jp(n,T))),g(t,["toolUsePromptTokensDetails"],N)}const x=m(e,["trafficType"]);return x!=null&&g(t,["trafficType"],x),t}function gk(n,e){const t={},i=m(e,["timeLeft"]);return i!=null&&g(t,["timeLeft"],i),t}function yk(n,e){const t={},i=m(e,["timeLeft"]);return i!=null&&g(t,["timeLeft"],i),t}function vk(n,e){const t={},i=m(e,["newHandle"]);i!=null&&g(t,["newHandle"],i);const r=m(e,["resumable"]);r!=null&&g(t,["resumable"],r);const s=m(e,["lastConsumedClientMessageIndex"]);return s!=null&&g(t,["lastConsumedClientMessageIndex"],s),t}function xk(n,e){const t={},i=m(e,["newHandle"]);i!=null&&g(t,["newHandle"],i);const r=m(e,["resumable"]);r!=null&&g(t,["resumable"],r);const s=m(e,["lastConsumedClientMessageIndex"]);return s!=null&&g(t,["lastConsumedClientMessageIndex"],s),t}function bk(n,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],WE());const r=m(e,["serverContent"]);r!=null&&g(t,["serverContent"],ak(n,r));const s=m(e,["toolCall"]);s!=null&&g(t,["toolCall"],ck(n,s));const o=m(e,["toolCallCancellation"]);o!=null&&g(t,["toolCallCancellation"],dk(n,o));const u=m(e,["usageMetadata"]);u!=null&&g(t,["usageMetadata"],pk(n,u));const c=m(e,["goAway"]);c!=null&&g(t,["goAway"],gk(n,c));const f=m(e,["sessionResumptionUpdate"]);return f!=null&&g(t,["sessionResumptionUpdate"],vk(n,f)),t}function wk(n,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],KE());const r=m(e,["serverContent"]);r!=null&&g(t,["serverContent"],ok(n,r));const s=m(e,["toolCall"]);s!=null&&g(t,["toolCall"],fk(n,s));const o=m(e,["toolCallCancellation"]);o!=null&&g(t,["toolCallCancellation"],hk(n,o));const u=m(e,["usageMetadata"]);u!=null&&g(t,["usageMetadata"],mk(n,u));const c=m(e,["goAway"]);c!=null&&g(t,["goAway"],yk(n,c));const f=m(e,["sessionResumptionUpdate"]);return f!=null&&g(t,["sessionResumptionUpdate"],xk(n,f)),t}function _k(){return{}}function Sk(n,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const r=m(e,["weight"]);return r!=null&&g(t,["weight"],r),t}function Ak(n,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Sk(n,s))),g(t,["weightedPrompts"],r)}return t}function Tk(n,e){const t={},i=m(e,["temperature"]);i!=null&&g(t,["temperature"],i);const r=m(e,["topK"]);r!=null&&g(t,["topK"],r);const s=m(e,["seed"]);s!=null&&g(t,["seed"],s);const o=m(e,["guidance"]);o!=null&&g(t,["guidance"],o);const u=m(e,["bpm"]);u!=null&&g(t,["bpm"],u);const c=m(e,["density"]);c!=null&&g(t,["density"],c);const f=m(e,["brightness"]);f!=null&&g(t,["brightness"],f);const h=m(e,["scale"]);h!=null&&g(t,["scale"],h);const y=m(e,["muteBass"]);y!=null&&g(t,["muteBass"],y);const b=m(e,["muteDrums"]);b!=null&&g(t,["muteDrums"],b);const x=m(e,["onlyBassAndDrums"]);return x!=null&&g(t,["onlyBassAndDrums"],x),t}function Ck(n,e){const t={},i=m(e,["clientContent"]);i!=null&&g(t,["clientContent"],Ak(n,i));const r=m(e,["musicGenerationConfig"]);return r!=null&&g(t,["musicGenerationConfig"],Tk(n,r)),t}function Nk(n,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);r!=null&&g(t,["mimeType"],r);const s=m(e,["sourceMetadata"]);return s!=null&&g(t,["sourceMetadata"],Ck(n,s)),t}function Ek(n,e){const t={},i=m(e,["audioChunks"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Nk(n,s))),g(t,["audioChunks"],r)}return t}function kk(n,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const r=m(e,["filteredReason"]);return r!=null&&g(t,["filteredReason"],r),t}function Mk(n,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],_k());const r=m(e,["serverContent"]);r!=null&&g(t,["serverContent"],Ek(n,r));const s=m(e,["filteredPrompt"]);return s!=null&&g(t,["filteredPrompt"],kk(n,s)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lk(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function Pk(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function Rk(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function Dk(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],Lk(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],Pk(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],Rk(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function dg(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Dk(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function Ik(n,e){const t={},i=m(e,["anyOf"]);i!=null&&g(t,["anyOf"],i);const r=m(e,["default"]);r!=null&&g(t,["default"],r);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const o=m(e,["enum"]);o!=null&&g(t,["enum"],o);const u=m(e,["example"]);u!=null&&g(t,["example"],u);const c=m(e,["format"]);c!=null&&g(t,["format"],c);const f=m(e,["items"]);f!=null&&g(t,["items"],f);const h=m(e,["maxItems"]);h!=null&&g(t,["maxItems"],h);const y=m(e,["maxLength"]);y!=null&&g(t,["maxLength"],y);const b=m(e,["maxProperties"]);b!=null&&g(t,["maxProperties"],b);const x=m(e,["maximum"]);x!=null&&g(t,["maximum"],x);const N=m(e,["minItems"]);N!=null&&g(t,["minItems"],N);const T=m(e,["minLength"]);T!=null&&g(t,["minLength"],T);const M=m(e,["minProperties"]);M!=null&&g(t,["minProperties"],M);const k=m(e,["minimum"]);k!=null&&g(t,["minimum"],k);const P=m(e,["nullable"]);P!=null&&g(t,["nullable"],P);const O=m(e,["pattern"]);O!=null&&g(t,["pattern"],O);const $=m(e,["properties"]);$!=null&&g(t,["properties"],$);const q=m(e,["propertyOrdering"]);q!=null&&g(t,["propertyOrdering"],q);const Z=m(e,["required"]);Z!=null&&g(t,["required"],Z);const Q=m(e,["title"]);Q!=null&&g(t,["title"],Q);const V=m(e,["type"]);return V!=null&&g(t,["type"],V),t}function Ok(n,e){const t={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(e,["category"]);i!=null&&g(t,["category"],i);const r=m(e,["threshold"]);return r!=null&&g(t,["threshold"],r),t}function Fk(n,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const r=m(e,["description"]);r!=null&&g(t,["description"],r);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const o=m(e,["parameters"]);o!=null&&g(t,["parameters"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function Bk(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function zk(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],Bk(n,i)),t}function jk(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function Uk(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],jk(n,i)),t}function Vk(){return{}}function qk(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Fk(n,f))),g(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&g(t,["googleSearch"],zk(n,r));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],Uk(n,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],Vk());const u=m(e,["codeExecution"]);return u!=null&&g(t,["codeExecution"],u),t}function Hk(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&g(t,["allowedFunctionNames"],r),t}function Gk(n,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&g(t,["longitude"],r),t}function Wk(n,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],Gk(n,i));const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function Kk(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],Hk(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&g(t,["retrievalConfig"],Wk(n,r)),t}function Yk(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function E_(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],Yk(n,i)),t}function $k(n,e){const t={},i=m(e,["speaker"]);i!=null&&g(t,["speaker"],i);const r=m(e,["voiceConfig"]);return r!=null&&g(t,["voiceConfig"],E_(n,r)),t}function Jk(n,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>$k(n,s))),g(t,["speakerVoiceConfigs"],r)}return t}function Zk(n,e){const t={},i=m(e,["voiceConfig"]);i!=null&&g(t,["voiceConfig"],E_(n,i));const r=m(e,["multiSpeakerVoiceConfig"]);r!=null&&g(t,["multiSpeakerVoiceConfig"],Jk(n,r));const s=m(e,["languageCode"]);return s!=null&&g(t,["languageCode"],s),t}function Xk(n,e){const t={},i=m(e,["includeThoughts"]);i!=null&&g(t,["includeThoughts"],i);const r=m(e,["thinkingBudget"]);return r!=null&&g(t,["thinkingBudget"],r),t}function Qk(n,e,t){const i={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&g(t,["systemInstruction"],dg(n,Ls(n,r)));const s=m(e,["temperature"]);s!=null&&g(i,["temperature"],s);const o=m(e,["topP"]);o!=null&&g(i,["topP"],o);const u=m(e,["topK"]);u!=null&&g(i,["topK"],u);const c=m(e,["candidateCount"]);c!=null&&g(i,["candidateCount"],c);const f=m(e,["maxOutputTokens"]);f!=null&&g(i,["maxOutputTokens"],f);const h=m(e,["stopSequences"]);h!=null&&g(i,["stopSequences"],h);const y=m(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const b=m(e,["logprobs"]);b!=null&&g(i,["logprobs"],b);const x=m(e,["presencePenalty"]);x!=null&&g(i,["presencePenalty"],x);const N=m(e,["frequencyPenalty"]);N!=null&&g(i,["frequencyPenalty"],N);const T=m(e,["seed"]);T!=null&&g(i,["seed"],T);const M=m(e,["responseMimeType"]);M!=null&&g(i,["responseMimeType"],M);const k=m(e,["responseSchema"]);if(k!=null&&g(i,["responseSchema"],Ik(n,Wm(n,k))),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=m(e,["safetySettings"]);if(t!==void 0&&P!=null){let le=P;Array.isArray(le)&&(le=le.map(z=>Ok(n,z))),g(t,["safetySettings"],le)}const O=m(e,["tools"]);if(t!==void 0&&O!=null){let le=qh(n,O);Array.isArray(le)&&(le=le.map(z=>qk(n,Vh(n,z)))),g(t,["tools"],le)}const $=m(e,["toolConfig"]);if(t!==void 0&&$!=null&&g(t,["toolConfig"],Kk(n,$)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=m(e,["cachedContent"]);t!==void 0&&q!=null&&g(t,["cachedContent"],Gu(n,q));const Z=m(e,["responseModalities"]);Z!=null&&g(i,["responseModalities"],Z);const Q=m(e,["mediaResolution"]);Q!=null&&g(i,["mediaResolution"],Q);const V=m(e,["speechConfig"]);if(V!=null&&g(i,["speechConfig"],Zk(n,y_(n,V))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=m(e,["thinkingConfig"]);return X!=null&&g(i,["thinkingConfig"],Xk(n,X)),i}function Ex(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["contents"]);if(r!=null){let o=lo(n,r);Array.isArray(o)&&(o=o.map(u=>dg(n,u))),g(t,["contents"],o)}const s=m(e,["config"]);return s!=null&&g(t,["generationConfig"],Qk(n,s,t)),t}function eM(n,e,t){const i={},r=m(e,["taskType"]);t!==void 0&&r!=null&&g(t,["requests[]","taskType"],r);const s=m(e,["title"]);t!==void 0&&s!=null&&g(t,["requests[]","title"],s);const o=m(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&g(t,["requests[]","outputDimensionality"],o),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function tM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["contents"]);r!=null&&g(t,["requests[]","content"],g_(n,r));const s=m(e,["config"]);s!=null&&g(t,["config"],eM(n,s,t));const o=m(e,["model"]);return o!==void 0&&g(t,["requests[]","model"],Mi(n,o)),t}function nM(n,e,t){const i={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(e,["numberOfImages"]);t!==void 0&&r!=null&&g(t,["parameters","sampleCount"],r);const s=m(e,["aspectRatio"]);t!==void 0&&s!=null&&g(t,["parameters","aspectRatio"],s);const o=m(e,["guidanceScale"]);if(t!==void 0&&o!=null&&g(t,["parameters","guidanceScale"],o),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=m(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&g(t,["parameters","safetySetting"],u);const c=m(e,["personGeneration"]);t!==void 0&&c!=null&&g(t,["parameters","personGeneration"],c);const f=m(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&g(t,["parameters","includeSafetyAttributes"],f);const h=m(e,["includeRaiReason"]);t!==void 0&&h!=null&&g(t,["parameters","includeRaiReason"],h);const y=m(e,["language"]);t!==void 0&&y!=null&&g(t,["parameters","language"],y);const b=m(e,["outputMimeType"]);t!==void 0&&b!=null&&g(t,["parameters","outputOptions","mimeType"],b);const x=m(e,["outputCompressionQuality"]);if(t!==void 0&&x!=null&&g(t,["parameters","outputOptions","compressionQuality"],x),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function iM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["prompt"]);r!=null&&g(t,["instances[0]","prompt"],r);const s=m(e,["config"]);return s!=null&&g(t,["config"],nM(n,s,t)),t}function rM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],Mi(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function sM(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const o=m(e,["filter"]);t!==void 0&&o!=null&&g(t,["_query","filter"],o);const u=m(e,["queryBase"]);return t!==void 0&&u!=null&&g(t,["_url","models_url"],b_(n,u)),i}function aM(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],sM(n,i,t)),t}function oM(n,e,t){const i={},r=m(e,["displayName"]);t!==void 0&&r!=null&&g(t,["displayName"],r);const s=m(e,["description"]);t!==void 0&&s!=null&&g(t,["description"],s);const o=m(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&g(t,["defaultCheckpointId"],o),i}function lM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],Mi(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],oM(n,r,t)),t}function uM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],Mi(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function cM(n,e){const t={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function fM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["contents"]);if(r!=null){let o=lo(n,r);Array.isArray(o)&&(o=o.map(u=>dg(n,u))),g(t,["contents"],o)}const s=m(e,["config"]);return s!=null&&g(t,["config"],cM(n,s)),t}function dM(n,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["imageBytes"]);i!=null&&g(t,["bytesBase64Encoded"],Wu(n,i));const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function hM(n,e,t){const i={},r=m(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&g(t,["parameters","sampleCount"],r),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(e,["durationSeconds"]);if(t!==void 0&&s!=null&&g(t,["parameters","durationSeconds"],s),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(e,["aspectRatio"]);if(t!==void 0&&o!=null&&g(t,["parameters","aspectRatio"],o),m(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=m(e,["personGeneration"]);if(t!==void 0&&u!=null&&g(t,["parameters","personGeneration"],u),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=m(e,["negativePrompt"]);t!==void 0&&c!=null&&g(t,["parameters","negativePrompt"],c);const f=m(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&g(t,["parameters","enhancePrompt"],f),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function pM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["prompt"]);r!=null&&g(t,["instances[0]","prompt"],r);const s=m(e,["image"]);s!=null&&g(t,["instances[0]","image"],dM(n,s));const o=m(e,["config"]);return o!=null&&g(t,["config"],hM(n,o,t)),t}function mM(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function gM(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["data"]);r!=null&&g(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function yM(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&g(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function vM(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],mM(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],gM(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],yM(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function ld(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>vM(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function xM(n,e){const t={},i=m(e,["anyOf"]);i!=null&&g(t,["anyOf"],i);const r=m(e,["default"]);r!=null&&g(t,["default"],r);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const o=m(e,["enum"]);o!=null&&g(t,["enum"],o);const u=m(e,["example"]);u!=null&&g(t,["example"],u);const c=m(e,["format"]);c!=null&&g(t,["format"],c);const f=m(e,["items"]);f!=null&&g(t,["items"],f);const h=m(e,["maxItems"]);h!=null&&g(t,["maxItems"],h);const y=m(e,["maxLength"]);y!=null&&g(t,["maxLength"],y);const b=m(e,["maxProperties"]);b!=null&&g(t,["maxProperties"],b);const x=m(e,["maximum"]);x!=null&&g(t,["maximum"],x);const N=m(e,["minItems"]);N!=null&&g(t,["minItems"],N);const T=m(e,["minLength"]);T!=null&&g(t,["minLength"],T);const M=m(e,["minProperties"]);M!=null&&g(t,["minProperties"],M);const k=m(e,["minimum"]);k!=null&&g(t,["minimum"],k);const P=m(e,["nullable"]);P!=null&&g(t,["nullable"],P);const O=m(e,["pattern"]);O!=null&&g(t,["pattern"],O);const $=m(e,["properties"]);$!=null&&g(t,["properties"],$);const q=m(e,["propertyOrdering"]);q!=null&&g(t,["propertyOrdering"],q);const Z=m(e,["required"]);Z!=null&&g(t,["required"],Z);const Q=m(e,["title"]);Q!=null&&g(t,["title"],Q);const V=m(e,["type"]);return V!=null&&g(t,["type"],V),t}function bM(n,e){const t={},i=m(e,["featureSelectionPreference"]);return i!=null&&g(t,["featureSelectionPreference"],i),t}function wM(n,e){const t={},i=m(e,["method"]);i!=null&&g(t,["method"],i);const r=m(e,["category"]);r!=null&&g(t,["category"],r);const s=m(e,["threshold"]);return s!=null&&g(t,["threshold"],s),t}function _M(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const r=m(e,["name"]);r!=null&&g(t,["name"],r);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const o=m(e,["response"]);return o!=null&&g(t,["response"],o),t}function SM(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function AM(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],SM(n,i)),t}function TM(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function CM(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],TM(n,i)),t}function NM(){return{}}function EM(n,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function kM(n,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],EM(n,i));const r=m(e,["authType"]);r!=null&&g(t,["authType"],r);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(t,["httpBasicAuthConfig"],o);const u=m(e,["oauthConfig"]);u!=null&&g(t,["oauthConfig"],u);const c=m(e,["oidcConfig"]);return c!=null&&g(t,["oidcConfig"],c),t}function MM(n,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],kM(n,i)),t}function LM(){return{}}function k_(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>_M(n,b))),g(t,["functionDeclarations"],y)}const r=m(e,["retrieval"]);r!=null&&g(t,["retrieval"],r);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],AM(n,s));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(t,["googleSearchRetrieval"],CM(n,o)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],NM());const c=m(e,["googleMaps"]);c!=null&&g(t,["googleMaps"],MM(n,c)),m(e,["urlContext"])!=null&&g(t,["urlContext"],LM());const h=m(e,["codeExecution"]);return h!=null&&g(t,["codeExecution"],h),t}function PM(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&g(t,["allowedFunctionNames"],r),t}function RM(n,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&g(t,["longitude"],r),t}function DM(n,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],RM(n,i));const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function IM(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],PM(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&g(t,["retrievalConfig"],DM(n,r)),t}function OM(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function FM(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],OM(n,i)),t}function BM(n,e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&g(t,["voiceConfig"],FM(n,i)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function zM(n,e){const t={},i=m(e,["includeThoughts"]);i!=null&&g(t,["includeThoughts"],i);const r=m(e,["thinkingBudget"]);return r!=null&&g(t,["thinkingBudget"],r),t}function jM(n,e,t){const i={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&g(t,["systemInstruction"],ld(n,Ls(n,r)));const s=m(e,["temperature"]);s!=null&&g(i,["temperature"],s);const o=m(e,["topP"]);o!=null&&g(i,["topP"],o);const u=m(e,["topK"]);u!=null&&g(i,["topK"],u);const c=m(e,["candidateCount"]);c!=null&&g(i,["candidateCount"],c);const f=m(e,["maxOutputTokens"]);f!=null&&g(i,["maxOutputTokens"],f);const h=m(e,["stopSequences"]);h!=null&&g(i,["stopSequences"],h);const y=m(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const b=m(e,["logprobs"]);b!=null&&g(i,["logprobs"],b);const x=m(e,["presencePenalty"]);x!=null&&g(i,["presencePenalty"],x);const N=m(e,["frequencyPenalty"]);N!=null&&g(i,["frequencyPenalty"],N);const T=m(e,["seed"]);T!=null&&g(i,["seed"],T);const M=m(e,["responseMimeType"]);M!=null&&g(i,["responseMimeType"],M);const k=m(e,["responseSchema"]);k!=null&&g(i,["responseSchema"],xM(n,Wm(n,k)));const P=m(e,["routingConfig"]);P!=null&&g(i,["routingConfig"],P);const O=m(e,["modelSelectionConfig"]);O!=null&&g(i,["modelConfig"],bM(n,O));const $=m(e,["safetySettings"]);if(t!==void 0&&$!=null){let ae=$;Array.isArray(ae)&&(ae=ae.map(me=>wM(n,me))),g(t,["safetySettings"],ae)}const q=m(e,["tools"]);if(t!==void 0&&q!=null){let ae=qh(n,q);Array.isArray(ae)&&(ae=ae.map(me=>k_(n,Vh(n,me)))),g(t,["tools"],ae)}const Z=m(e,["toolConfig"]);t!==void 0&&Z!=null&&g(t,["toolConfig"],IM(n,Z));const Q=m(e,["labels"]);t!==void 0&&Q!=null&&g(t,["labels"],Q);const V=m(e,["cachedContent"]);t!==void 0&&V!=null&&g(t,["cachedContent"],Gu(n,V));const X=m(e,["responseModalities"]);X!=null&&g(i,["responseModalities"],X);const le=m(e,["mediaResolution"]);le!=null&&g(i,["mediaResolution"],le);const z=m(e,["speechConfig"]);z!=null&&g(i,["speechConfig"],BM(n,y_(n,z)));const G=m(e,["audioTimestamp"]);G!=null&&g(i,["audioTimestamp"],G);const fe=m(e,["thinkingConfig"]);return fe!=null&&g(i,["thinkingConfig"],zM(n,fe)),i}function kx(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["contents"]);if(r!=null){let o=lo(n,r);Array.isArray(o)&&(o=o.map(u=>ld(n,u))),g(t,["contents"],o)}const s=m(e,["config"]);return s!=null&&g(t,["generationConfig"],jM(n,s,t)),t}function UM(n,e,t){const i={},r=m(e,["taskType"]);t!==void 0&&r!=null&&g(t,["instances[]","task_type"],r);const s=m(e,["title"]);t!==void 0&&s!=null&&g(t,["instances[]","title"],s);const o=m(e,["outputDimensionality"]);t!==void 0&&o!=null&&g(t,["parameters","outputDimensionality"],o);const u=m(e,["mimeType"]);t!==void 0&&u!=null&&g(t,["instances[]","mimeType"],u);const c=m(e,["autoTruncate"]);return t!==void 0&&c!=null&&g(t,["parameters","autoTruncate"],c),i}function VM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["contents"]);r!=null&&g(t,["instances[]","content"],g_(n,r));const s=m(e,["config"]);return s!=null&&g(t,["config"],UM(n,s,t)),t}function qM(n,e,t){const i={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&g(t,["parameters","storageUri"],r);const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&g(t,["parameters","negativePrompt"],s);const o=m(e,["numberOfImages"]);t!==void 0&&o!=null&&g(t,["parameters","sampleCount"],o);const u=m(e,["aspectRatio"]);t!==void 0&&u!=null&&g(t,["parameters","aspectRatio"],u);const c=m(e,["guidanceScale"]);t!==void 0&&c!=null&&g(t,["parameters","guidanceScale"],c);const f=m(e,["seed"]);t!==void 0&&f!=null&&g(t,["parameters","seed"],f);const h=m(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&g(t,["parameters","safetySetting"],h);const y=m(e,["personGeneration"]);t!==void 0&&y!=null&&g(t,["parameters","personGeneration"],y);const b=m(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&g(t,["parameters","includeSafetyAttributes"],b);const x=m(e,["includeRaiReason"]);t!==void 0&&x!=null&&g(t,["parameters","includeRaiReason"],x);const N=m(e,["language"]);t!==void 0&&N!=null&&g(t,["parameters","language"],N);const T=m(e,["outputMimeType"]);t!==void 0&&T!=null&&g(t,["parameters","outputOptions","mimeType"],T);const M=m(e,["outputCompressionQuality"]);t!==void 0&&M!=null&&g(t,["parameters","outputOptions","compressionQuality"],M);const k=m(e,["addWatermark"]);t!==void 0&&k!=null&&g(t,["parameters","addWatermark"],k);const P=m(e,["enhancePrompt"]);return t!==void 0&&P!=null&&g(t,["parameters","enhancePrompt"],P),i}function HM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["prompt"]);r!=null&&g(t,["instances[0]","prompt"],r);const s=m(e,["config"]);return s!=null&&g(t,["config"],qM(n,s,t)),t}function T2(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["gcsUri"],i);const r=m(e,["imageBytes"]);r!=null&&g(t,["bytesBase64Encoded"],Wu(n,r));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function GM(n,e){const t={},i=m(e,["maskMode"]);i!=null&&g(t,["maskMode"],i);const r=m(e,["segmentationClasses"]);r!=null&&g(t,["maskClasses"],r);const s=m(e,["maskDilation"]);return s!=null&&g(t,["dilation"],s),t}function WM(n,e){const t={},i=m(e,["controlType"]);i!=null&&g(t,["controlType"],i);const r=m(e,["enableControlImageComputation"]);return r!=null&&g(t,["computeControl"],r),t}function KM(n,e){const t={},i=m(e,["styleDescription"]);return i!=null&&g(t,["styleDescription"],i),t}function YM(n,e){const t={},i=m(e,["subjectType"]);i!=null&&g(t,["subjectType"],i);const r=m(e,["subjectDescription"]);return r!=null&&g(t,["subjectDescription"],r),t}function $M(n,e){const t={},i=m(e,["referenceImage"]);i!=null&&g(t,["referenceImage"],T2(n,i));const r=m(e,["referenceId"]);r!=null&&g(t,["referenceId"],r);const s=m(e,["referenceType"]);s!=null&&g(t,["referenceType"],s);const o=m(e,["maskImageConfig"]);o!=null&&g(t,["maskImageConfig"],GM(n,o));const u=m(e,["controlImageConfig"]);u!=null&&g(t,["controlImageConfig"],WM(n,u));const c=m(e,["styleImageConfig"]);c!=null&&g(t,["styleImageConfig"],KM(n,c));const f=m(e,["subjectImageConfig"]);return f!=null&&g(t,["subjectImageConfig"],YM(n,f)),t}function JM(n,e,t){const i={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&g(t,["parameters","storageUri"],r);const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&g(t,["parameters","negativePrompt"],s);const o=m(e,["numberOfImages"]);t!==void 0&&o!=null&&g(t,["parameters","sampleCount"],o);const u=m(e,["aspectRatio"]);t!==void 0&&u!=null&&g(t,["parameters","aspectRatio"],u);const c=m(e,["guidanceScale"]);t!==void 0&&c!=null&&g(t,["parameters","guidanceScale"],c);const f=m(e,["seed"]);t!==void 0&&f!=null&&g(t,["parameters","seed"],f);const h=m(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&g(t,["parameters","safetySetting"],h);const y=m(e,["personGeneration"]);t!==void 0&&y!=null&&g(t,["parameters","personGeneration"],y);const b=m(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&g(t,["parameters","includeSafetyAttributes"],b);const x=m(e,["includeRaiReason"]);t!==void 0&&x!=null&&g(t,["parameters","includeRaiReason"],x);const N=m(e,["language"]);t!==void 0&&N!=null&&g(t,["parameters","language"],N);const T=m(e,["outputMimeType"]);t!==void 0&&T!=null&&g(t,["parameters","outputOptions","mimeType"],T);const M=m(e,["outputCompressionQuality"]);t!==void 0&&M!=null&&g(t,["parameters","outputOptions","compressionQuality"],M);const k=m(e,["editMode"]);t!==void 0&&k!=null&&g(t,["parameters","editMode"],k);const P=m(e,["baseSteps"]);return t!==void 0&&P!=null&&g(t,["parameters","editConfig","baseSteps"],P),i}function ZM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["prompt"]);r!=null&&g(t,["instances[0]","prompt"],r);const s=m(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>$M(n,c))),g(t,["instances[0]","referenceImages"],u)}const o=m(e,["config"]);return o!=null&&g(t,["config"],JM(n,o,t)),t}function XM(n,e,t){const i={},r=m(e,["includeRaiReason"]);t!==void 0&&r!=null&&g(t,["parameters","includeRaiReason"],r);const s=m(e,["outputMimeType"]);t!==void 0&&s!=null&&g(t,["parameters","outputOptions","mimeType"],s);const o=m(e,["outputCompressionQuality"]);t!==void 0&&o!=null&&g(t,["parameters","outputOptions","compressionQuality"],o);const u=m(e,["numberOfImages"]);t!==void 0&&u!=null&&g(t,["parameters","sampleCount"],u);const c=m(e,["mode"]);return t!==void 0&&c!=null&&g(t,["parameters","mode"],c),i}function QM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["image"]);r!=null&&g(t,["instances[0]","image"],T2(n,r));const s=m(e,["upscaleFactor"]);s!=null&&g(t,["parameters","upscaleConfig","upscaleFactor"],s);const o=m(e,["config"]);return o!=null&&g(t,["config"],XM(n,o,t)),t}function e6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],Mi(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function t6(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const o=m(e,["filter"]);t!==void 0&&o!=null&&g(t,["_query","filter"],o);const u=m(e,["queryBase"]);return t!==void 0&&u!=null&&g(t,["_url","models_url"],b_(n,u)),i}function n6(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],t6(n,i,t)),t}function i6(n,e,t){const i={},r=m(e,["displayName"]);t!==void 0&&r!=null&&g(t,["displayName"],r);const s=m(e,["description"]);t!==void 0&&s!=null&&g(t,["description"],s);const o=m(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&g(t,["defaultCheckpointId"],o),i}function r6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],i6(n,r,t)),t}function s6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],Mi(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function a6(n,e,t){const i={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&g(t,["systemInstruction"],ld(n,Ls(n,r)));const s=m(e,["tools"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>k_(n,c))),g(t,["tools"],u)}const o=m(e,["generationConfig"]);return t!==void 0&&o!=null&&g(t,["generationConfig"],o),i}function o6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["contents"]);if(r!=null){let o=lo(n,r);Array.isArray(o)&&(o=o.map(u=>ld(n,u))),g(t,["contents"],o)}const s=m(e,["config"]);return s!=null&&g(t,["config"],a6(n,s,t)),t}function l6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["contents"]);if(r!=null){let o=lo(n,r);Array.isArray(o)&&(o=o.map(u=>ld(n,u))),g(t,["contents"],o)}const s=m(e,["config"]);return s!=null&&g(t,["config"],s),t}function u6(n,e,t){const i={},r=m(e,["numberOfVideos"]);t!==void 0&&r!=null&&g(t,["parameters","sampleCount"],r);const s=m(e,["outputGcsUri"]);t!==void 0&&s!=null&&g(t,["parameters","storageUri"],s);const o=m(e,["fps"]);t!==void 0&&o!=null&&g(t,["parameters","fps"],o);const u=m(e,["durationSeconds"]);t!==void 0&&u!=null&&g(t,["parameters","durationSeconds"],u);const c=m(e,["seed"]);t!==void 0&&c!=null&&g(t,["parameters","seed"],c);const f=m(e,["aspectRatio"]);t!==void 0&&f!=null&&g(t,["parameters","aspectRatio"],f);const h=m(e,["resolution"]);t!==void 0&&h!=null&&g(t,["parameters","resolution"],h);const y=m(e,["personGeneration"]);t!==void 0&&y!=null&&g(t,["parameters","personGeneration"],y);const b=m(e,["pubsubTopic"]);t!==void 0&&b!=null&&g(t,["parameters","pubsubTopic"],b);const x=m(e,["negativePrompt"]);t!==void 0&&x!=null&&g(t,["parameters","negativePrompt"],x);const N=m(e,["enhancePrompt"]);t!==void 0&&N!=null&&g(t,["parameters","enhancePrompt"],N);const T=m(e,["generateAudio"]);return t!==void 0&&T!=null&&g(t,["parameters","generateAudio"],T),i}function c6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Mi(n,i));const r=m(e,["prompt"]);r!=null&&g(t,["instances[0]","prompt"],r);const s=m(e,["image"]);s!=null&&g(t,["instances[0]","image"],T2(n,s));const o=m(e,["config"]);return o!=null&&g(t,["config"],u6(n,o,t)),t}function f6(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function d6(n,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function h6(n,e){const t={},i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function p6(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],f6(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],d6(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],h6(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function m6(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>p6(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function g6(n,e){const t={},i=m(e,["citationSources"]);return i!=null&&g(t,["citations"],i),t}function y6(n,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&g(t,["retrievedUrl"],i);const r=m(e,["urlRetrievalStatus"]);return r!=null&&g(t,["urlRetrievalStatus"],r),t}function v6(n,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>y6(n,s))),g(t,["urlMetadata"],r)}return t}function x6(n,e){const t={},i=m(e,["content"]);i!=null&&g(t,["content"],m6(n,i));const r=m(e,["citationMetadata"]);r!=null&&g(t,["citationMetadata"],g6(n,r));const s=m(e,["tokenCount"]);s!=null&&g(t,["tokenCount"],s);const o=m(e,["finishReason"]);o!=null&&g(t,["finishReason"],o);const u=m(e,["urlContextMetadata"]);u!=null&&g(t,["urlContextMetadata"],v6(n,u));const c=m(e,["avgLogprobs"]);c!=null&&g(t,["avgLogprobs"],c);const f=m(e,["groundingMetadata"]);f!=null&&g(t,["groundingMetadata"],f);const h=m(e,["index"]);h!=null&&g(t,["index"],h);const y=m(e,["logprobsResult"]);y!=null&&g(t,["logprobsResult"],y);const b=m(e,["safetyRatings"]);return b!=null&&g(t,["safetyRatings"],b),t}function Mx(n,e){const t={},i=m(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>x6(n,c))),g(t,["candidates"],u)}const r=m(e,["modelVersion"]);r!=null&&g(t,["modelVersion"],r);const s=m(e,["promptFeedback"]);s!=null&&g(t,["promptFeedback"],s);const o=m(e,["usageMetadata"]);return o!=null&&g(t,["usageMetadata"],o),t}function b6(n,e){const t={},i=m(e,["values"]);return i!=null&&g(t,["values"],i),t}function w6(){return{}}function _6(n,e){const t={},i=m(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>b6(n,o))),g(t,["embeddings"],s)}return m(e,["metadata"])!=null&&g(t,["metadata"],w6()),t}function S6(n,e){const t={},i=m(e,["bytesBase64Encoded"]);i!=null&&g(t,["imageBytes"],Wu(n,i));const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function M_(n,e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&g(t,["categories"],i);const r=m(e,["safetyAttributes","scores"]);r!=null&&g(t,["scores"],r);const s=m(e,["contentType"]);return s!=null&&g(t,["contentType"],s),t}function A6(n,e){const t={},i=m(e,["_self"]);i!=null&&g(t,["image"],S6(n,i));const r=m(e,["raiFilteredReason"]);r!=null&&g(t,["raiFilteredReason"],r);const s=m(e,["_self"]);return s!=null&&g(t,["safetyAttributes"],M_(n,s)),t}function T6(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>A6(n,o))),g(t,["generatedImages"],s)}const r=m(e,["positivePromptSafetyAttributes"]);return r!=null&&g(t,["positivePromptSafetyAttributes"],M_(n,r)),t}function C6(n,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const r=m(e,["createTime"]);r!=null&&g(t,["createTime"],r);const s=m(e,["updateTime"]);return s!=null&&g(t,["updateTime"],s),t}function M1(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const o=m(e,["version"]);o!=null&&g(t,["version"],o);const u=m(e,["_self"]);u!=null&&g(t,["tunedModelInfo"],C6(n,u));const c=m(e,["inputTokenLimit"]);c!=null&&g(t,["inputTokenLimit"],c);const f=m(e,["outputTokenLimit"]);f!=null&&g(t,["outputTokenLimit"],f);const h=m(e,["supportedGenerationMethods"]);return h!=null&&g(t,["supportedActions"],h),t}function N6(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["_self"]);if(r!=null){let s=w_(n,r);Array.isArray(s)&&(s=s.map(o=>M1(n,o))),g(t,["models"],s)}return t}function E6(){return{}}function k6(n,e){const t={},i=m(e,["totalTokens"]);i!=null&&g(t,["totalTokens"],i);const r=m(e,["cachedContentTokenCount"]);return r!=null&&g(t,["cachedContentTokenCount"],r),t}function M6(n,e){const t={},i=m(e,["video","uri"]);i!=null&&g(t,["uri"],i);const r=m(e,["video","encodedVideo"]);r!=null&&g(t,["videoBytes"],Wu(n,r));const s=m(e,["encoding"]);return s!=null&&g(t,["mimeType"],s),t}function L6(n,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],M6(n,i)),t}function P6(n,e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>L6(n,u))),g(t,["generatedVideos"],o)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&g(t,["raiMediaFilteredCount"],r);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function R6(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["metadata"]);r!=null&&g(t,["metadata"],r);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const o=m(e,["error"]);o!=null&&g(t,["error"],o);const u=m(e,["response","generateVideoResponse"]);return u!=null&&g(t,["response"],P6(n,u)),t}function D6(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function I6(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["data"]);r!=null&&g(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function O6(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&g(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function F6(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],D6(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],I6(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],O6(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function B6(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>F6(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function z6(n,e){const t={},i=m(e,["citations"]);return i!=null&&g(t,["citations"],i),t}function j6(n,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&g(t,["retrievedUrl"],i);const r=m(e,["urlRetrievalStatus"]);return r!=null&&g(t,["urlRetrievalStatus"],r),t}function U6(n,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>j6(n,s))),g(t,["urlMetadata"],r)}return t}function V6(n,e){const t={},i=m(e,["content"]);i!=null&&g(t,["content"],B6(n,i));const r=m(e,["citationMetadata"]);r!=null&&g(t,["citationMetadata"],z6(n,r));const s=m(e,["finishMessage"]);s!=null&&g(t,["finishMessage"],s);const o=m(e,["finishReason"]);o!=null&&g(t,["finishReason"],o);const u=m(e,["urlContextMetadata"]);u!=null&&g(t,["urlContextMetadata"],U6(n,u));const c=m(e,["avgLogprobs"]);c!=null&&g(t,["avgLogprobs"],c);const f=m(e,["groundingMetadata"]);f!=null&&g(t,["groundingMetadata"],f);const h=m(e,["index"]);h!=null&&g(t,["index"],h);const y=m(e,["logprobsResult"]);y!=null&&g(t,["logprobsResult"],y);const b=m(e,["safetyRatings"]);return b!=null&&g(t,["safetyRatings"],b),t}function Lx(n,e){const t={},i=m(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>V6(n,h))),g(t,["candidates"],f)}const r=m(e,["createTime"]);r!=null&&g(t,["createTime"],r);const s=m(e,["responseId"]);s!=null&&g(t,["responseId"],s);const o=m(e,["modelVersion"]);o!=null&&g(t,["modelVersion"],o);const u=m(e,["promptFeedback"]);u!=null&&g(t,["promptFeedback"],u);const c=m(e,["usageMetadata"]);return c!=null&&g(t,["usageMetadata"],c),t}function q6(n,e){const t={},i=m(e,["truncated"]);i!=null&&g(t,["truncated"],i);const r=m(e,["token_count"]);return r!=null&&g(t,["tokenCount"],r),t}function H6(n,e){const t={},i=m(e,["values"]);i!=null&&g(t,["values"],i);const r=m(e,["statistics"]);return r!=null&&g(t,["statistics"],q6(n,r)),t}function G6(n,e){const t={},i=m(e,["billableCharacterCount"]);return i!=null&&g(t,["billableCharacterCount"],i),t}function W6(n,e){const t={},i=m(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>H6(n,o))),g(t,["embeddings"],s)}const r=m(e,["metadata"]);return r!=null&&g(t,["metadata"],G6(n,r)),t}function K6(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["gcsUri"],i);const r=m(e,["bytesBase64Encoded"]);r!=null&&g(t,["imageBytes"],Wu(n,r));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function L_(n,e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&g(t,["categories"],i);const r=m(e,["safetyAttributes","scores"]);r!=null&&g(t,["scores"],r);const s=m(e,["contentType"]);return s!=null&&g(t,["contentType"],s),t}function C2(n,e){const t={},i=m(e,["_self"]);i!=null&&g(t,["image"],K6(n,i));const r=m(e,["raiFilteredReason"]);r!=null&&g(t,["raiFilteredReason"],r);const s=m(e,["_self"]);s!=null&&g(t,["safetyAttributes"],L_(n,s));const o=m(e,["prompt"]);return o!=null&&g(t,["enhancedPrompt"],o),t}function Y6(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>C2(n,o))),g(t,["generatedImages"],s)}const r=m(e,["positivePromptSafetyAttributes"]);return r!=null&&g(t,["positivePromptSafetyAttributes"],L_(n,r)),t}function $6(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>C2(n,s))),g(t,["generatedImages"],r)}return t}function J6(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>C2(n,s))),g(t,["generatedImages"],r)}return t}function Z6(n,e){const t={},i=m(e,["endpoint"]);i!=null&&g(t,["name"],i);const r=m(e,["deployedModelId"]);return r!=null&&g(t,["deployedModelId"],r),t}function X6(n,e){const t={},i=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&g(t,["baseModel"],i);const r=m(e,["createTime"]);r!=null&&g(t,["createTime"],r);const s=m(e,["updateTime"]);return s!=null&&g(t,["updateTime"],s),t}function Q6(n,e){const t={},i=m(e,["checkpointId"]);i!=null&&g(t,["checkpointId"],i);const r=m(e,["epoch"]);r!=null&&g(t,["epoch"],r);const s=m(e,["step"]);return s!=null&&g(t,["step"],s),t}function L1(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const o=m(e,["versionId"]);o!=null&&g(t,["version"],o);const u=m(e,["deployedModels"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(x=>Z6(n,x))),g(t,["endpoints"],b)}const c=m(e,["labels"]);c!=null&&g(t,["labels"],c);const f=m(e,["_self"]);f!=null&&g(t,["tunedModelInfo"],X6(n,f));const h=m(e,["defaultCheckpointId"]);h!=null&&g(t,["defaultCheckpointId"],h);const y=m(e,["checkpoints"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(x=>Q6(n,x))),g(t,["checkpoints"],b)}return t}function eL(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["_self"]);if(r!=null){let s=w_(n,r);Array.isArray(s)&&(s=s.map(o=>L1(n,o))),g(t,["models"],s)}return t}function tL(){return{}}function nL(n,e){const t={},i=m(e,["totalTokens"]);return i!=null&&g(t,["totalTokens"],i),t}function iL(n,e){const t={},i=m(e,["tokensInfo"]);return i!=null&&g(t,["tokensInfo"],i),t}function rL(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["uri"],i);const r=m(e,["bytesBase64Encoded"]);r!=null&&g(t,["videoBytes"],Wu(n,r));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function sL(n,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],rL(n,i)),t}function aL(n,e){const t={},i=m(e,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>sL(n,u))),g(t,["generatedVideos"],o)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&g(t,["raiMediaFilteredCount"],r);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function oL(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["metadata"]);r!=null&&g(t,["metadata"],r);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const o=m(e,["error"]);o!=null&&g(t,["error"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],aL(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lL="Content-Type",uL="X-Server-Timeout",cL="User-Agent",P1="x-goog-api-client",fL="1.4.0",dL=`google-genai-sdk/${fL}`,hL="v1beta1",pL="v1beta",Px=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class P_ extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class R1 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class mL{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:hL,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:pL,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[o,u]of Object.entries(e.queryParams))r.searchParams.append(o,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const r=new AbortController,s=r.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>r.abort(),t.timeout),i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=s}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await Rx(r),new C1(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await Rx(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return qf(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let o="";for(;;){const{done:u,value:c}=yield Bi(r.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c);try{const y=JSON.parse(f);if("error"in y){const b=JSON.parse(JSON.stringify(y.error)),x=b.status,N=b.code,T=`got status: ${x}. ${JSON.stringify(y)}`;if(N>=400&&N<500)throw new P_(T);if(N>=500&&N<600)throw new R1(T)}}catch(y){const b=y;if(b.name==="ClientError"||b.name==="ServerError")throw y}o+=f;let h=o.match(Px);for(;h;){const y=h[1];try{const b=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Bi(new C1(b)),o=o.slice(h[0].length),h=o.match(Px)}catch(b){throw new Error(`exception parsing stream chunk ${y}. ${b}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=dL+" "+this.clientOptions.userAgentExtra;return e[cL]=t,e[P1]=t,e[lL]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))t.append(i,r);e.timeout&&e.timeout>0&&t.append(uL,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);r.sizeBytes=String(o.size);const u=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c=await this.fetchUploadUrl(r,t);return s.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let r={};t!=null&&t.httpOptions?r=t.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},o=await this.request({path:Qt("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:r});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=o==null?void 0:o.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Rx(n){var e;if(n===void 0)throw new R1("response is undefined");if(!n.ok){const t=n.status,i=n.statusText;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=`got status: ${t} ${i}. ${JSON.stringify(r)}`;throw t>=400&&t<500?new P_(s):t>=500&&t<600?new R1(s):new Error(s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gL="mcp_used/unknown";function R_(n){for(const e of n)if(N2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function D_(n){var e;const t=(e=n[P1])!==null&&e!==void 0?e:"";n[P1]=(t+` ${gL}`).trimStart()}function yL(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>N2(r)))!==null&&i!==void 0?i:!1}function vL(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>!N2(r)))!==null&&i!==void 0?i:!1}function N2(n){return n!==null&&typeof n=="object"&&n instanceof E2}function xL(n,e=100){return qf(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield Bi(n.listTools({cursor:i}));for(const o of s.tools)yield yield Bi(o),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class E2{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new E2(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},o=[];for(const h of this.mcpClients)try{for(var u=!0,c=(t=void 0,xh(xL(h))),f;f=await c.next(),e=f.done,!e;u=!0){r=f.value,u=!1;const y=r;o.push(y);const b=y.name;if(s[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);s[b]=h}}catch(y){t={error:y}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(t)throw t.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),w4(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=await this.functionNameToMcpClient[i.name].callTool({name:i.name,arguments:i.args});t.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bL(n,e,t){const i=new l4;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data);const s=Mk(n,r);Object.assign(i,s),e(i)}class wL{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=AL(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(O=>{f=O}),y=e.callbacks,b=function(){f({})},x=this.apiClient,N={onopen:b,onmessage:O=>{bL(x,y.onmessage,O)},onerror:(t=y==null?void 0:y.onerror)!==null&&t!==void 0?t:function(O){},onclose:(i=y==null?void 0:y.onclose)!==null&&i!==void 0?i:function(O){}},T=this.webSocketFactory.create(c,SL(o),N);T.connect(),await h;const M=Mi(this.apiClient,e.model),k=C_(this.apiClient,{model:M}),P=k1(this.apiClient,{setup:k});return T.send(JSON.stringify(P)),new _L(T,this.apiClient)}}class _L{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=HE(this.apiClient,e),i=N_(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=GE(this.apiClient,e),i=k1(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=k1(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ff.PLAY)}pause(){this.sendPlaybackControl(Ff.PAUSE)}stop(){this.sendPlaybackControl(Ff.STOP)}resetContext(){this.sendPlaybackControl(Ff.RESET_CONTEXT)}close(){this.conn.close()}}function SL(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function AL(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TL="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function CL(n,e,t){const i=new o4;let r;if(t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),n.isVertexAI()){const s=wk(n,r);Object.assign(i,s)}else{const s=bk(n,r);Object.assign(i,s)}e(i)}class NL{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new wL(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,o,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const y=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&R_(e.config.tools)&&D_(y);const b=LL(y);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b);else{const X=this.apiClient.getApiKey();let le="BidiGenerateContent",z="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),le="BidiGenerateContentConstrained",z="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${le}?${z}=${X}`}let x=()=>{};const N=new Promise(X=>{x=X}),T=e.callbacks,M=function(){var X;(X=T==null?void 0:T.onopen)===null||X===void 0||X.call(T),x({})},k=this.apiClient,P={onopen:M,onmessage:X=>{CL(k,T.onmessage,X)},onerror:(t=T==null?void 0:T.onerror)!==null&&t!==void 0?t:function(X){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(X){}},O=this.webSocketFactory.create(h,ML(b),P);O.connect(),await N;let $=Mi(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const X=this.apiClient.getProject(),le=this.apiClient.getLocation();$=`projects/${X}/locations/${le}/`+$}let q={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Hm.AUDIO]}:e.config.responseModalities=[Hm.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Z=(u=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[],Q=[];for(const X of Z)if(this.isCallableTool(X)){const le=X;Q.push(await le.tool())}else Q.push(X);Q.length>0&&(e.config.tools=Q);const V={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=FE(this.apiClient,V):q=OE(this.apiClient,V),delete q.config,O.send(JSON.stringify(q)),new kL(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const EL={turnComplete:!0};class kL{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=lo(e,t.turns),e.isVertexAI()?i=i.map(r=>ld(e,r)):i=i.map(r=>dg(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(TL)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},EL),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:qE(this.apiClient,e)}:t={realtimeInput:VE(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function ML(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function LL(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dx=10;function Ix(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const o of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Sm(o)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Sm(n){return"callTool"in n&&typeof n.callTool=="function"}function Ox(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PL extends od{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,o,u;const c=await this.processParamsForMcpUsage(t);if(!yL(t)||Ix(t.config))return await this.generateContentInternal(c);if(vL(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const y=lo(this.apiClient,c.contents),b=(s=(r=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:Dx;let x=0;for(;x<b&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const N=f.candidates[0].content,T=[];for(const M of(u=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[])if(Sm(M)){const P=await M.callTool(f.functionCalls);T.push(...P)}x++,h={role:"user",parts:T},c.contents=lo(this.apiClient,c.contents),c.contents.push(N),c.contents.push(h),Ox(c.config)&&(y.push(N),y.push(h))}return Ox(c.config)&&(f.automaticFunctionCallingHistory=y),f},this.generateContentStream=async t=>{if(Ix(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const o=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:o.push(c);let u;return s?u={generatedImages:o,positivePromptSafetyAttributes:s}:u={generatedImages:o},u}),this.list=async t=>{var i;const o={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((i=o.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new fg(td.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(o),o)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const o=await Promise.all(s.map(async c=>Sm(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(u.config.tools=o,e.config&&e.config.tools&&R_(e.config.tools)){const c=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),D_(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const o of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Sm(o)){const u=o,c=await u.tool();for(const f of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Dx;let o=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,h,y){var b,x;return qf(this,arguments,function*(){for(var N,T,M,k;u<s;){o&&(u++,o=!1);const q=yield Bi(f.processParamsForMcpUsage(y)),Z=yield Bi(f.generateContentStreamInternal(q)),Q=[],V=[];try{for(var P=!0,O=(T=void 0,xh(Z)),$;$=yield Bi(O.next()),N=$.done,!N;P=!0){k=$.value,P=!1;const X=k;if(yield yield Bi(X),X.candidates&&(!((b=X.candidates[0])===null||b===void 0)&&b.content)){V.push(X.candidates[0].content);for(const le of(x=X.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(u<s&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(le.functionCall.name)){const z=yield Bi(h.get(le.functionCall.name).callTool([le.functionCall]));Q.push(...z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(X){T={error:X}}finally{try{!P&&!N&&(M=O.return)&&(yield Bi(M.call(O)))}finally{if(T)throw T.error}}if(Q.length>0){o=!0;const X=new eh;X.candidates=[{content:{role:"user",parts:Q}}],yield yield Bi(X);const le=[];le.push(...V),le.push({role:"user",parts:Q});const z=lo(f.apiClient,y.contents).concat(le);y.contents=z}else break}})}(this,c,e)}async generateContentInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=kx(this.apiClient,e);return u=Qt("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=Lx(this.apiClient,h),b=new eh;return Object.assign(b,y),b})}else{const f=Ex(this.apiClient,e);return u=Qt("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=Mx(this.apiClient,h),b=new eh;return Object.assign(b,y),b})}}async generateContentStreamInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=kx(this.apiClient,e);u=Qt("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return o=h.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(y){return qf(this,arguments,function*(){var b,x,N,T;try{for(var M=!0,k=xh(y),P;P=yield Bi(k.next()),b=P.done,!b;M=!0){T=P.value,M=!1;const $=Lx(h,yield Bi(T.json())),q=new eh;Object.assign(q,$),yield yield Bi(q)}}catch(O){x={error:O}}finally{try{!M&&!b&&(N=k.return)&&(yield Bi(N.call(k)))}finally{if(x)throw x.error}}})})}else{const f=Ex(this.apiClient,e);u=Qt("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return o=h.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(y){return qf(this,arguments,function*(){var b,x,N,T;try{for(var M=!0,k=xh(y),P;P=yield Bi(k.next()),b=P.done,!b;M=!0){T=P.value,M=!1;const $=Mx(h,yield Bi(T.json())),q=new eh;Object.assign(q,$),yield yield Bi(q)}}catch(O){x={error:O}}finally{try{!M&&!b&&(N=k.return)&&(yield Bi(N.call(k)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=VM(this.apiClient,e);return u=Qt("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=W6(this.apiClient,h),b=new lx;return Object.assign(b,y),b})}else{const f=tM(this.apiClient,e);return u=Qt("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=_6(this.apiClient,h),b=new lx;return Object.assign(b,y),b})}}async generateImagesInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=HM(this.apiClient,e);return u=Qt("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=Y6(this.apiClient,h),b=new ux;return Object.assign(b,y),b})}else{const f=iM(this.apiClient,e);return u=Qt("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=T6(this.apiClient,h),b=new ux;return Object.assign(b,y),b})}}async editImageInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=ZM(this.apiClient,e);return s=Qt("{model}:predict",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=$6(this.apiClient,c),h=new t4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=QM(this.apiClient,e);return s=Qt("{model}:predict",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=J6(this.apiClient,c),h=new n4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=e6(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>L1(this.apiClient,h))}else{const f=rM(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>M1(this.apiClient,h))}}async listInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=n6(this.apiClient,e);return u=Qt("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=eL(this.apiClient,h),b=new cx;return Object.assign(b,y),b})}else{const f=aM(this.apiClient,e);return u=Qt("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=N6(this.apiClient,h),b=new cx;return Object.assign(b,y),b})}}async update(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=r6(this.apiClient,e);return u=Qt("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>L1(this.apiClient,h))}else{const f=lM(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>M1(this.apiClient,h))}}async delete(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=s6(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=tL(),y=new fx;return Object.assign(y,h),y})}else{const f=uM(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(()=>{const h=E6(),y=new fx;return Object.assign(y,h),y})}}async countTokens(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=o6(this.apiClient,e);return u=Qt("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=nL(this.apiClient,h),b=new dx;return Object.assign(b,y),b})}else{const f=fM(this.apiClient,e);return u=Qt("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=k6(this.apiClient,h),b=new dx;return Object.assign(b,y),b})}}async computeTokens(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=l6(this.apiClient,e);return s=Qt("{model}:computeTokens",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=iL(this.apiClient,c),h=new i4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=c6(this.apiClient,e);return u=Qt("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>oL(this.apiClient,h))}else{const f=pM(this.apiClient,e);return u=Qt("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>R6(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RL(n,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["_url","operationName"],i);const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function DL(n,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["_url","operationName"],i);const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function IL(n,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["operationName"],i);const r=m(e,["resourceName"]);r!=null&&g(t,["_url","resourceName"],r);const s=m(e,["config"]);return s!=null&&g(t,["config"],s),t}function OL(n,e){const t={},i=m(e,["video","uri"]);i!=null&&g(t,["uri"],i);const r=m(e,["video","encodedVideo"]);r!=null&&g(t,["videoBytes"],Wu(n,r));const s=m(e,["encoding"]);return s!=null&&g(t,["mimeType"],s),t}function FL(n,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],OL(n,i)),t}function BL(n,e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>FL(n,u))),g(t,["generatedVideos"],o)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&g(t,["raiMediaFilteredCount"],r);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function zL(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["metadata"]);r!=null&&g(t,["metadata"],r);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const o=m(e,["error"]);o!=null&&g(t,["error"],o);const u=m(e,["response","generateVideoResponse"]);return u!=null&&g(t,["response"],BL(n,u)),t}function jL(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["uri"],i);const r=m(e,["bytesBase64Encoded"]);r!=null&&g(t,["videoBytes"],Wu(n,r));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function UL(n,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],jL(n,i)),t}function VL(n,e){const t={},i=m(e,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>UL(n,u))),g(t,["generatedVideos"],o)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&g(t,["raiMediaFilteredCount"],r);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function Fx(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["metadata"]);r!=null&&g(t,["metadata"],r);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const o=m(e,["error"]);o!=null&&g(t,["error"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],VL(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qL extends od{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;return i&&"httpOptions"in i&&(s=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=DL(this.apiClient,e);return u=Qt("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Fx(this.apiClient,h))}else{const f=RL(this.apiClient,e);return u=Qt("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>zL(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=IL(this.apiClient,e);return s=Qt("{resourceName}:fetchPredictOperation",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>Fx(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HL(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function I_(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],HL(n,i)),t}function GL(n,e){const t={},i=m(e,["speaker"]);i!=null&&g(t,["speaker"],i);const r=m(e,["voiceConfig"]);return r!=null&&g(t,["voiceConfig"],I_(n,r)),t}function WL(n,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>GL(n,s))),g(t,["speakerVoiceConfigs"],r)}return t}function KL(n,e){const t={},i=m(e,["voiceConfig"]);i!=null&&g(t,["voiceConfig"],I_(n,i));const r=m(e,["multiSpeakerVoiceConfig"]);r!=null&&g(t,["multiSpeakerVoiceConfig"],WL(n,r));const s=m(e,["languageCode"]);return s!=null&&g(t,["languageCode"],s),t}function YL(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function $L(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function JL(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function ZL(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],YL(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],$L(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],JL(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const y=m(e,["functionResponse"]);y!=null&&g(t,["functionResponse"],y);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function XL(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>ZL(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function QL(n,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const r=m(e,["description"]);r!=null&&g(t,["description"],r);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const o=m(e,["parameters"]);o!=null&&g(t,["parameters"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function eP(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function tP(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],eP(n,i)),t}function nP(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function iP(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],nP(n,i)),t}function rP(){return{}}function sP(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>QL(n,f))),g(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&g(t,["googleSearch"],tP(n,r));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],iP(n,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],rP());const u=m(e,["codeExecution"]);return u!=null&&g(t,["codeExecution"],u),t}function aP(n,e){const t={},i=m(e,["handle"]);if(i!=null&&g(t,["handle"],i),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Bx(){return{}}function oP(n,e){const t={},i=m(e,["disabled"]);i!=null&&g(t,["disabled"],i);const r=m(e,["startOfSpeechSensitivity"]);r!=null&&g(t,["startOfSpeechSensitivity"],r);const s=m(e,["endOfSpeechSensitivity"]);s!=null&&g(t,["endOfSpeechSensitivity"],s);const o=m(e,["prefixPaddingMs"]);o!=null&&g(t,["prefixPaddingMs"],o);const u=m(e,["silenceDurationMs"]);return u!=null&&g(t,["silenceDurationMs"],u),t}function lP(n,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&g(t,["automaticActivityDetection"],oP(n,i));const r=m(e,["activityHandling"]);r!=null&&g(t,["activityHandling"],r);const s=m(e,["turnCoverage"]);return s!=null&&g(t,["turnCoverage"],s),t}function uP(n,e){const t={},i=m(e,["targetTokens"]);return i!=null&&g(t,["targetTokens"],i),t}function cP(n,e){const t={},i=m(e,["triggerTokens"]);i!=null&&g(t,["triggerTokens"],i);const r=m(e,["slidingWindow"]);return r!=null&&g(t,["slidingWindow"],uP(n,r)),t}function fP(n,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&g(t,["proactiveAudio"],i),t}function dP(n,e,t){const i={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&g(t,["setup","generationConfig"],r);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&g(t,["setup","generationConfig","responseModalities"],s);const o=m(e,["temperature"]);t!==void 0&&o!=null&&g(t,["setup","generationConfig","temperature"],o);const u=m(e,["topP"]);t!==void 0&&u!=null&&g(t,["setup","generationConfig","topP"],u);const c=m(e,["topK"]);t!==void 0&&c!=null&&g(t,["setup","generationConfig","topK"],c);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&g(t,["setup","generationConfig","maxOutputTokens"],f);const h=m(e,["mediaResolution"]);t!==void 0&&h!=null&&g(t,["setup","generationConfig","mediaResolution"],h);const y=m(e,["seed"]);t!==void 0&&y!=null&&g(t,["setup","generationConfig","seed"],y);const b=m(e,["speechConfig"]);t!==void 0&&b!=null&&g(t,["setup","generationConfig","speechConfig"],KL(n,A2(n,b)));const x=m(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&g(t,["setup","generationConfig","enableAffectiveDialog"],x);const N=m(e,["systemInstruction"]);t!==void 0&&N!=null&&g(t,["setup","systemInstruction"],XL(n,Ls(n,N)));const T=m(e,["tools"]);if(t!==void 0&&T!=null){let Z=qh(n,T);Array.isArray(Z)&&(Z=Z.map(Q=>sP(n,Vh(n,Q)))),g(t,["setup","tools"],Z)}const M=m(e,["sessionResumption"]);t!==void 0&&M!=null&&g(t,["setup","sessionResumption"],aP(n,M));const k=m(e,["inputAudioTranscription"]);t!==void 0&&k!=null&&g(t,["setup","inputAudioTranscription"],Bx());const P=m(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&g(t,["setup","outputAudioTranscription"],Bx());const O=m(e,["realtimeInputConfig"]);t!==void 0&&O!=null&&g(t,["setup","realtimeInputConfig"],lP(n,O));const $=m(e,["contextWindowCompression"]);t!==void 0&&$!=null&&g(t,["setup","contextWindowCompression"],cP(n,$));const q=m(e,["proactivity"]);return t!==void 0&&q!=null&&g(t,["setup","proactivity"],fP(n,q)),i}function hP(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["setup","model"],Mi(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],dP(n,r,t)),t}function pP(n,e,t){const i={},r=m(e,["expireTime"]);t!==void 0&&r!=null&&g(t,["expireTime"],r);const s=m(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&g(t,["newSessionExpireTime"],s);const o=m(e,["uses"]);t!==void 0&&o!=null&&g(t,["uses"],o);const u=m(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&g(t,["bidiGenerateContentSetup"],hP(n,u));const c=m(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&g(t,["fieldMask"],c),i}function mP(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],pP(n,i,t)),t}function gP(n,e){const t={},i=m(e,["name"]);return i!=null&&g(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yP(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function vP(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=yP(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(f=>o.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class xP extends od{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=mP(this.apiClient,e);s=Qt("auth_tokens",u._url),o=u._query,delete u.config,delete u._url,delete u._query;const c=vP(u,e.config);return r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>gP(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bP(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],i);const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function wP(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const o=m(e,["filter"]);return t!==void 0&&o!=null&&g(t,["_query","filter"],o),i}function _P(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],wP(n,i,t)),t}function SP(n,e){const t={},i=m(e,["textInput"]);i!=null&&g(t,["textInput"],i);const r=m(e,["output"]);return r!=null&&g(t,["output"],r),t}function AP(n,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>SP(n,s))),g(t,["examples","examples"],r)}return t}function TP(n,e,t){const i={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=m(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&g(t,["displayName"],r),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(e,["epochCount"]);t!==void 0&&s!=null&&g(t,["tuningTask","hyperparameters","epochCount"],s);const o=m(e,["learningRateMultiplier"]);if(o!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=m(e,["batchSize"]);t!==void 0&&u!=null&&g(t,["tuningTask","hyperparameters","batchSize"],u);const c=m(e,["learningRate"]);return t!==void 0&&c!=null&&g(t,["tuningTask","hyperparameters","learningRate"],c),i}function CP(n,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const r=m(e,["trainingDataset"]);r!=null&&g(t,["tuningTask","trainingData"],AP(n,r));const s=m(e,["config"]);return s!=null&&g(t,["config"],TP(n,s,t)),t}function NP(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],i);const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function EP(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const o=m(e,["filter"]);return t!==void 0&&o!=null&&g(t,["_query","filter"],o),i}function kP(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],EP(n,i,t)),t}function MP(n,e,t){const i={},r=m(e,["gcsUri"]);if(t!==void 0&&r!=null&&g(t,["supervisedTuningSpec","trainingDatasetUri"],r),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function LP(n,e){const t={},i=m(e,["gcsUri"]);return i!=null&&g(t,["validationDatasetUri"],i),t}function PP(n,e,t){const i={},r=m(e,["validationDataset"]);t!==void 0&&r!=null&&g(t,["supervisedTuningSpec"],LP(n,r));const s=m(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&g(t,["tunedModelDisplayName"],s);const o=m(e,["description"]);t!==void 0&&o!=null&&g(t,["description"],o);const u=m(e,["epochCount"]);t!==void 0&&u!=null&&g(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=m(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&g(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=m(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&g(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const h=m(e,["adapterSize"]);if(t!==void 0&&h!=null&&g(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function RP(n,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const r=m(e,["trainingDataset"]);r!=null&&g(t,["supervisedTuningSpec","trainingDatasetUri"],MP(n,r,t));const s=m(e,["config"]);return s!=null&&g(t,["config"],PP(n,s,t)),t}function DP(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["model"],i);const r=m(e,["name"]);return r!=null&&g(t,["endpoint"],r),t}function O_(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["state"]);r!=null&&g(t,["state"],v_(n,r));const s=m(e,["createTime"]);s!=null&&g(t,["createTime"],s);const o=m(e,["tuningTask","startTime"]);o!=null&&g(t,["startTime"],o);const u=m(e,["tuningTask","completeTime"]);u!=null&&g(t,["endTime"],u);const c=m(e,["updateTime"]);c!=null&&g(t,["updateTime"],c);const f=m(e,["description"]);f!=null&&g(t,["description"],f);const h=m(e,["baseModel"]);h!=null&&g(t,["baseModel"],h);const y=m(e,["_self"]);y!=null&&g(t,["tunedModel"],DP(n,y));const b=m(e,["distillationSpec"]);b!=null&&g(t,["distillationSpec"],b);const x=m(e,["experiment"]);x!=null&&g(t,["experiment"],x);const N=m(e,["labels"]);N!=null&&g(t,["labels"],N);const T=m(e,["pipelineJob"]);T!=null&&g(t,["pipelineJob"],T);const M=m(e,["serviceAccount"]);M!=null&&g(t,["serviceAccount"],M);const k=m(e,["tunedModelDisplayName"]);return k!=null&&g(t,["tunedModelDisplayName"],k),t}function IP(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>O_(n,o))),g(t,["tuningJobs"],s)}return t}function OP(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["metadata"]);r!=null&&g(t,["metadata"],r);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const o=m(e,["error"]);return o!=null&&g(t,["error"],o),t}function FP(n,e){const t={},i=m(e,["checkpointId"]);i!=null&&g(t,["checkpointId"],i);const r=m(e,["epoch"]);r!=null&&g(t,["epoch"],r);const s=m(e,["step"]);s!=null&&g(t,["step"],s);const o=m(e,["endpoint"]);return o!=null&&g(t,["endpoint"],o),t}function BP(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],i);const r=m(e,["endpoint"]);r!=null&&g(t,["endpoint"],r);const s=m(e,["checkpoints"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>FP(n,u))),g(t,["checkpoints"],o)}return t}function D1(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["state"]);r!=null&&g(t,["state"],v_(n,r));const s=m(e,["createTime"]);s!=null&&g(t,["createTime"],s);const o=m(e,["startTime"]);o!=null&&g(t,["startTime"],o);const u=m(e,["endTime"]);u!=null&&g(t,["endTime"],u);const c=m(e,["updateTime"]);c!=null&&g(t,["updateTime"],c);const f=m(e,["error"]);f!=null&&g(t,["error"],f);const h=m(e,["description"]);h!=null&&g(t,["description"],h);const y=m(e,["baseModel"]);y!=null&&g(t,["baseModel"],y);const b=m(e,["tunedModel"]);b!=null&&g(t,["tunedModel"],BP(n,b));const x=m(e,["supervisedTuningSpec"]);x!=null&&g(t,["supervisedTuningSpec"],x);const N=m(e,["tuningDataStats"]);N!=null&&g(t,["tuningDataStats"],N);const T=m(e,["encryptionSpec"]);T!=null&&g(t,["encryptionSpec"],T);const M=m(e,["partnerModelTuningSpec"]);M!=null&&g(t,["partnerModelTuningSpec"],M);const k=m(e,["distillationSpec"]);k!=null&&g(t,["distillationSpec"],k);const P=m(e,["experiment"]);P!=null&&g(t,["experiment"],P);const O=m(e,["labels"]);O!=null&&g(t,["labels"],O);const $=m(e,["pipelineJob"]);$!=null&&g(t,["pipelineJob"],$);const q=m(e,["serviceAccount"]);q!=null&&g(t,["serviceAccount"],q);const Z=m(e,["tunedModelDisplayName"]);return Z!=null&&g(t,["tunedModelDisplayName"],Z),t}function zP(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>D1(n,o))),g(t,["tuningJobs"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jP extends od{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new fg(td.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:T1.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=NP(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>D1(this.apiClient,h))}else{const f=bP(this.apiClient,e);return u=Qt("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>O_(this.apiClient,h))}}async listInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=kP(this.apiClient,e);return u=Qt("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const y=zP(this.apiClient,h),b=new hx;return Object.assign(b,y),b})}else{const f=_P(this.apiClient,e);return u=Qt("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const y=IP(this.apiClient,h),b=new hx;return Object.assign(b,y),b})}}async tuneInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=RP(this.apiClient,e);return s=Qt("tuningJobs",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>D1(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CP(this.apiClient,e);return s=Qt("tunedModels",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>OP(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UP{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const VP=1024*1024*8,qP=3,HP=1e3,GP=2,F0="x-goog-upload-status";async function WP(n,e,t){var i,r,s;let o=0,u=0,c=new C1(new Response),f="upload";for(o=n.size;u<o;){const y=Math.min(VP,o-u),b=n.slice(u,u+y);u+y>=o&&(f+=", finalize");let x=0,N=HP;for(;x<qP&&(c=await t.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(y)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[F0]));)x++,await YP(N),N=N*GP;if(u+=y,((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[F0])!=="active")break;if(o<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(c==null?void 0:c.json());if(((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[F0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function KP(n){return{size:n.size,type:n.type}}function YP(n){return new Promise(e=>setTimeout(e,n))}class $P{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WP(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KP(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JP{create(e,t,i){return new ZP(e,t,i)}}class ZP{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx="x-goog-api-key";class XP{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(zx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(zx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QP="gl-node/";class F_{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=e4(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new XP(this.apiKey);this.apiClient=new mL({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:QP+"web",uploader:new $P,downloader:new UP}),this.models=new PL(this.apiClient),this.live=new NL(this.apiClient,r,new JP),this.chats=new NN(this.models,this.apiClient),this.caches=new AN(this.apiClient),this.files=new jN(this.apiClient),this.operations=new qL(this.apiClient),this.authTokens=new xP(this.apiClient),this.tunings=new jP(this.apiClient)}}let Bf=null,zf=null;function B0(n){if(n&&n!==zf)try{return Bf=new F_({apiKey:n}),zf=n,console.log("Gemini Service Initialized with new API Key."),!0}catch(e){return console.error("Failed to initialize Gemini Service with API Key:",e),Bf=null,zf=null,!1}else if(!n)return Bf=null,zf=null,console.warn("Gemini Service API Key cleared or not provided. Service is inactive."),!1;return Bf!==null}function jx(){return Bf||(console.warn("Gemini Service accessed before API key was properly initialized. Using placeholder."),new F_({apiKey:"PLACEHOLDER_API_KEY_NOT_INITIALIZED"}))}function Ux(n){let e=n.trim();const t=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,i=e.match(t);i&&i[2]&&(e=i[2].trim());try{return JSON.parse(e)}catch(r){return console.error("Failed to parse JSON response from Gemini:",r,"Original text:",n),{error:"Ungltige JSON-Antwort von der KI."}}}const eR=`
### Herleitung der Vorgehensweise zur Bewertung von privat genutzten Wirtschaftsgtern von Selbststndigen

Die Bewertung privat entnommener Wirtschaftsgter ist gem  6 Abs. 1 Nr. 4 Satz 1 EStG vorzunehmen [3], wobei diese gewinnerhhend mit dem Teilwert im Zeitpunkt der Entnahme zu erfassen sind, wie auch die aktuelle Verwaltungsauffassung am Beispiel digital agierender Steuerpflichtiger besttigt [8]. Zwar kommt Entnahmen bei Selbstndigen eine hnliche Funktion zu wie Sachbezgen bei Arbeitnehmern, jedoch kann aufgrund der unterschiedlichen gesetzlichen Regelungen nicht die Bewertung des geldwerten Vorteils nach  8 EStG fr Arbeitnehmer herangezogen werden, vielmehr ist der Teilwert mageblich [7]. Der Teilwert selbst ist definiert als der Betrag, den ein fiktiver Erwerber des gesamten Unternehmens im Rahmen des Gesamtkaufpreises fr das einzelne Wirtschaftsgut ansetzen wrde, unter der Prmisse der Unternehmensfortfhrung ( 10 Satz 2 BewG) [1]. Da die hier betrachteten Gter durch Gebrauch oder ffnung in ihrer ursprnglichen Beschaffenheit verndert wurden und somit die Anschaffungs- oder Herstellungskosten nicht mehr als Bewertungsmastab dienen knnen  analog zur Orientierung an der aktuellen Beschaffenheit gem  9 Abs. 2 BewG fr den gemeinen Wert [4]  ist eine Schtzung des Teilwerts unumgnglich, die auf objektiven Mastben und nicht willkrlichem Ermessen beruht [5].

Die Bandbreite des Teilwerts wird durch die Wiederbeschaffungskosten als Obergrenze und den Einzelveruerungspreis als Untergrenze bestimmt [2]. Fr Wirtschaftsgter, die  wie im vorliegenden Fall nach einem Produkttest  keinen direkten weiteren betrieblichen Nutzen mehr stiften und somit fr einen potenziellen Unternehmenserwerber primr unter dem Aspekt der Weiterveruerbarkeit relevant wren, rckt der Einzelveruerungspreis in den Fokus. Ein solcher Erwerber wrde fr diese spezifischen Gter keine Wiederbeschaffungskosten ansetzen, da sie nicht mehr dem ursprnglichen Betriebszweck in gleicher Weise dienen. Diese Orientierung am Veruerungserls, gegebenenfalls unter Abzug noch anfallender Kosten oder Gewinnmargen, wie es analog auch bei der Bewertung von im Wert gemindertem Vorratsvermgen nach R 6.8 Abs. 2 Satz 3 EStR [6] zum Tragen kommt, spiegelt die wirtschaftliche Realitt fr solche Gter wider.

Zur Konkretisierung dieses am Einzelveruerungspreis orientierten Teilwerts erfolgt eine systematische Recherche auf gngigen Online-Handelsplattformen fr gebrauchte Waren. Dabei werden die Preise fr identische oder zumindest artgleiche und zustandshnliche Produkte ermittelt. Diese empirisch gewonnenen Marktdaten bilden die Basis fr eine nachvollziehbare Schtzung [5], die den Grundstzen einer ordnungsgemen Buchfhrung entspricht. Durch logische Argumentation und unter Bercksichtigung der spezifischen Umstnde des entnommenen Gutes (z.B. genauer Zustand, Vollstndigkeit, Alter) wird aus diesen Daten der anzusetzende Teilwert abgeleitet. Hierbei ist stets zu beachten, dass der so ermittelte Teilwert den gemeinen Wert des Wirtschaftsgutes nicht bersteigen darf, wie in  6 Abs. 1 Nr. 4 Satz 1 Halbsatz 2 EStG explizit gefordert [3].

---
**Quellen:**
[1]  10 Bewertungsgesetz (BewG) - Teilwert
[2] Wikipedia-Artikel "Teilwert", Abschnitt "Bewertung" (https://de.wikipedia.org/wiki/Teilwert)
[3]  6 Einkommensteuergesetz (EStG) - Bewertung
[4]  9 Bewertungsgesetz (BewG) - Gemeiner Wert
[5] Gabler Wirtschaftslexikon, Definition "Teilwert" (https://wirtschaftslexikon.gabler.de/definition/teilwert-49526)
[6] R 6.8 Abs. 2 Satz 3 Einkommensteuer-Richtlinien (EStR) - Bewertung des Vorratsvermgens
[7] BFH Urteil vom 21. April 2010, X R 43/08, Rz. 21 f.
[8] Finanzministerium des Landes Schleswig-Holstein v. 02.07.2024 - VI 3010 - S 2240 - 190 (Einkommensteuer-Kurzinformation Nr. 2024/9)
`,Vx={getMarketAnalysisAndEbaySearchTerms:async(n,e)=>{const t=jx();if(!zf)return{error:"Gemini API Key nicht konfiguriert."};const i=["System: Sie sind ein Experte fr Marktanalysen und E-Commerce-Strategien. Erstellen Sie eine detaillierte Analyse fr das angegebene Produkt. Alle textuellen Inhalte in der JSON-Antwort, einschlielich Zusammenfassungen, Beschreibungen und Bewertungen, mssen auf Deutsch sein.","Produktinformationen:",`Name: ${n.name}`,`ASIN: ${n.id}`];n.description&&i.push(`Beschreibung: ${n.description}`),n.category&&i.push(`Kategorie: ${n.category}`),n.etv&&i.push(`Ursprnglicher ETV (Neupreis): ${n.etv} EUR`),e&&i.push(`Aktueller verarbeiteter Preis (z.B. von Keepa): ${e} EUR`),i.push(`
Ihre Aufgabe: Liefern Sie die folgenden Informationen in einem strukturierten JSON-Format. Stellen Sie sicher, dass das Array ebaySearchTerms genau 3 deutsche Suchbegriffe enthlt.
      Fr bekannte Produkte (z.B. iPhone 15) verwenden Sie den spezifischen Produktnamen als Suchbegriff.
      Fr generische oder weniger bekannte Produkte (z.B. ein Milchaufschumer einer generischen Marke) verwenden Sie breitere Kategoriebegriffe.
      Das Ziel dieser Suchbegriffe ist es, die Marktnachfrage und typische Verkaufspreise fr hnliche Artikel auf eBay Deutschland zu verstehen.

      JSON Struktur (alle textuellen Werte mssen auf Deutsch sein):
      {
        "marketAnalysis": {
          "summary": "Prgnante allgemeine Marktzusammenfassung (max. 150 Wrter, auf Deutsch).",
          "competitors": ["Listen Sie bis zu 3 Hauptkonkurrenzprodukte oder -marken auf, falls vorhanden. Leeres Array, wenn keine signifikanten vorhanden sind (auf Deutsch)."],
          "salesPerformance": "Beschreiben Sie die typische Verkaufsleistung (z.B. 'Hohes Volumen', 'Nische aber stabil', 'Saisonal', 'Rcklufig', auf Deutsch).",
          "marketSentiment": "Beschreiben Sie die Marktstimmung (z.B. 'Gehyptes Produkt', 'Stabile Nachfrage', 'Umstritten', 'Generell positiv', auf Deutsch')."
        },
        "pricingAndSourcing": {
          "typicalNewPrice": "Geschtzte typische Neupreisspanne am Markt in EUR (z.B. '90-110', oder 'N/A' wenn schwer zu bestimmen, auf Deutsch).",
          "farEastSourcingPotential": "Bewerten Sie das Potenzial fr die Beschaffung aus Fernost (z.B. 'Hoch', 'Mittel', 'Niedrig', 'Unwahrscheinlich', 'blicherweise von dort bezogen', auf Deutsch)."
        },
        "durabilityAndRisk": {
          "durability": "Allgemeine Einschtzung der Produkthaltbarkeit (z.B. 'Robust und langlebig', 'Durchschnittliche Lebensdauer', 'Anfllig fr spezifische Probleme nach X Zeit', auf Deutsch).",
          "commonIssues": ["Listen Sie bis zu 3 hufige Probleme, Defekte oder Beschwerdegrnde auf, falls bekannt. Leeres Array, wenn keine signifikanten vorhanden sind (auf Deutsch)."]
        },
        "ebaySearchTerms": ["deutscherBegriff1", "deutscherBegriff2", "deutscherBegriff3"]
      }
      Antworten Sie NUR mit diesem JSON-Objekt. Fgen Sie keinen anderen Text, Begrungen oder Markdown-Formatierungen um das JSON herum ein.`);const r=i.join(`
`);try{const s=await t.models.generateContent({model:f5,contents:[{role:"user",parts:[{text:r}]}],config:{responseMimeType:"application/json",temperature:.4}}),o=Ux(s.text);if("error"in o)return{error:o.error};if(!o.ebaySearchTerms||o.ebaySearchTerms.length!==3)for(console.warn("Gemini hat nicht genau 3 eBay-Suchbegriffe zurckgegeben. Erhalten:",o.ebaySearchTerms),o.ebaySearchTerms=(o.ebaySearchTerms||[]).slice(0,3);o.ebaySearchTerms.length<3;)o.ebaySearchTerms.push(n.name||"Produkt");return{analysis:o}}catch(s){return console.error("Error in getMarketAnalysisAndEbaySearchTerms:",s),{error:s instanceof Error?s.message:"KI-Marktanalyse und Suchbegrifferstellung fehlgeschlagen."}}},estimateTeilwertForReport:async(n,e,t,i)=>{var y,b;const r=jx();if(!zf)return{error:"Gemini API Key nicht konfiguriert."};let s=[`Produktname: ${n.name}`,`ASIN: ${n.id}`];n.description&&s.push(`Beschreibung: ${n.description}`),n.category&&s.push(`Kategorie: ${n.category}`),n.etv&&s.push(`Ursprnglicher ETV (Neupreis): ${n.etv} EUR`);let o="Keine verarbeiteten Preisinformationen (z.B. von Keepa) fr dieses Produkt bergeben.";if(i)if(i.price!==void 0){if(o=`Relevanter verarbeiteter Preis (Quelle: ${i.priceSource}): ${i.price.toFixed(2)} EUR.`,i.allPrices){let x=[];i.allPrices.amazonCurrent!==void 0&&x.push(`Amazon Aktuell: ${i.allPrices.amazonCurrent.toFixed(2)} EUR`),i.allPrices.newCurrent!==void 0&&x.push(`Marketplace Neu Aktuell: ${i.allPrices.newCurrent.toFixed(2)} EUR`),i.allPrices.usedCurrent!==void 0&&x.push(`Marketplace Gebraucht Aktuell: ${i.allPrices.usedCurrent.toFixed(2)} EUR`),x.length>0&&(o+=` Weitere verfgbare Preise: ${x.join("; ")}.`)}}else o=`Keine verarbeiteten Preisinformationen verfgbar.${i.reason?` Grund: ${i.reason}`:""}`;s.push(o);let u="Keine Marktanalyse verfgbar.";e&&(u=`Marktanalyse Zusammenfassung: ${e.marketAnalysis.summary}
Wettbewerber: ${((y=e.marketAnalysis.competitors)==null?void 0:y.join(", "))||"N/A"}
Verkaufsperformance: ${e.marketAnalysis.salesPerformance}
Marktstimmung: ${e.marketAnalysis.marketSentiment}
Typischer Neupreis: ${e.pricingAndSourcing.typicalNewPrice}
Haltbarkeit: ${e.durabilityAndRisk.durability}
Hufige Probleme: ${((b=e.durabilityAndRisk.commonIssues)==null?void 0:b.join(", "))||"N/A"}`);let c="Keine eBay Suchergebnisse verfgbar oder Suche nicht durchgefhrt.";if(t&&Object.keys(t).length>0){c=`Ergebnisse der eBay-Recherche (pro Suchbegriff):
`;for(const x in t){const N=t[x];N.listings&&N.listings.length>0?(c+=`  Suchbegriff "${x}":
`,N.listings.slice(0,3).forEach(T=>{c+=`    - Name: ${T.name}, Verkauft am: ${T.sold_date}, Preis: ${T.price}, Zustand: ${T.condition}
`}),N.listings.length>3&&(c+=`    ... und ${N.listings.length-3} weitere.
`)):N.rawValue&&N.rawValue.trim()!==""&&N.rawValue.trim()!=='""'?c+=`  Suchbegriff "${x}": Rohdaten vorhanden, aber nicht als strukturierte Liste geparst.
`:c+=`  Suchbegriff "${x}": Keine relevanten Verkufe gefunden oder Daten ausstehend.
`}}const f=i?i.price!==void 0?`Fr das Produkt wurde ein relevanter Preis von ${i.price.toFixed(2)} EUR (Quelle: ${i.priceSource}) ermittelt.`:`Keine verarbeiteten Preisinformationen verfgbar${i.reason?`. Grund: ${i.reason}`:""}.`:"Keine spezifischen Preisinformationen (z.B. von Keepa) fr dieses Produkt verfgbar.",h=`
System: Sie sind ein KI-Experte fr deutsches Steuerrecht, spezialisiert auf die Ermittlung des Teilwerts von gebrauchten Wirtschaftsgtern fr die Entnahme aus einem Betriebsvermgen. Ihre Antworten mssen przise, gut begrndet und im angeforderten JSON-Format sein. Die Sprache aller textuellen Inhalte muss Deutsch sein.

Rechtliche Grundlagen zur Teilwertermittlung:
${eR}

Ihre Aufgabe ist die Erstellung eines Berichts zur Teilwertschtzung.
Folgende Informationen sind ber das Produkt bereits bekannt:
${s.join(`
`)}

Marktanalyse (falls vorhanden):
${u}

eBay Suchergebnisse (falls vorhanden):
${c}

Erstellen Sie eine Begrndung fr eine Teilwertschtzung, die tatschliche Teilwertschtzung (als Zahl) und ein Fazit fr einen Bericht im JSON-Format.
Der Output MUSS exakt folgendes JSON-Format haben (kein Text davor oder danach, keine Markdown-Formatierung um das JSON-Objekt selbst):
{
  "Begruendung_Teilwert": "Ausfhrliche Begrndung, ggf. mit Berechnungen, im Markdown-Format (ohne berschriften). Gehen Sie auf die Verkaufbarkeit, vergleichbare Angebote, Zustand und mgliche Abschlge ein. Wenn sinnvoll, erklren Sie, dass im Teilwert kein Unternehmergewinn enthalten ist sowie etwaige Lagerkosten abgezogen werden mssten.",
  "Teilwert": 123.45,
  "mlFazit": "Kurzes Fazit der Schtzung im Markdown-Format (ohne berschriften).",
  "keepa_Bericht": "Fassen Sie die verfgbaren Preisinformationen (die vermutlich von Diensten wie Keepa stammen und hier als '${f}' referenziert werden) im Freitext zusammen und bewerten Sie deren Relevanz fr die Teilwertschtzung des gebrauchten Produkts."
}

Wichtige Hinweise:
- Der Teilwert kann 0.0 sein, wenn das Produkt nach einem Test typischerweise nicht mehr verkauft werden kann (z.B. Kosmetik, Lebensmittel).
- Wenn das Produkt oder die Marke in den eBay-Suchergebnissen nicht zu finden ist, deutet dies auf schlechte Verkaufsaussichten hin.
- Die "Begruendung_Teilwert" und das "mlFazit" sollen fr einen PDF-Bericht geeignet sein und daher Markdown fr Formatierungen wie Fettung oder Listen nutzen. Verwenden Sie KEINE Markdown-berschriften (wie #, ##).
- Alle textuellen Inhalte mssen auf Deutsch sein.
`;try{const x=await r.models.generateContent({model:f5,contents:[{role:"user",parts:[{text:h}]}],config:{responseMimeType:"application/json",temperature:.2}}),N=Ux(x.text);return"error"in N?{error:N.error}:(N.Teilwert=Math.max(0,Number(N.Teilwert)||0),{estimation:N})}catch(x){return console.error("Error in estimateTeilwertForReport:",x),{error:x instanceof Error?x.message:"KI-Teilwertschtzung fr Bericht fehlgeschlagen."}}}},B_=ee.createContext(void 0),tR=({children:n})=>{const[e,t]=ee.useState(null),[i,r]=ee.useState(null),[s,o]=ee.useState(null),[u,c]=ee.useState(null),[f,h]=ee.useState(!1),[y,b]=ee.useState(!0);ee.useEffect(()=>{b(!0);const T=localStorage.getItem(ch),M=localStorage.getItem(Wp),k=localStorage.getItem(Kp),P=localStorage.getItem(Yp);t(T),r(M),o(k),c(P),T&&M&&k&&P?(B0(k),h(!0)):h(!1),b(!1)},[]);const x=ee.useCallback(T=>{T.v2ApiToken?localStorage.setItem(ch,T.v2ApiToken):localStorage.removeItem(ch),T.oracleWriteParUrl?localStorage.setItem(Wp,T.oracleWriteParUrl):localStorage.removeItem(Wp),T.geminiApiKey?localStorage.setItem(Kp,T.geminiApiKey):localStorage.removeItem(Kp),T.externalProductSourceUrl?localStorage.setItem(Yp,T.externalProductSourceUrl):localStorage.removeItem(Yp),t(T.v2ApiToken),r(T.oracleWriteParUrl),o(T.geminiApiKey),c(T.externalProductSourceUrl),T.v2ApiToken&&T.oracleWriteParUrl&&T.geminiApiKey&&T.externalProductSourceUrl?(B0(T.geminiApiKey),h(!0)):h(!1)},[]),N=ee.useCallback(()=>{localStorage.removeItem(ch),localStorage.removeItem(Wp),localStorage.removeItem(Kp),localStorage.removeItem(Yp),t(null),r(null),o(null),c(null),B0(""),h(!1)},[]);return S.jsx(B_.Provider,{value:{v2ApiToken:e,oracleWriteParUrl:i,geminiApiKey:s,externalProductSourceUrl:u,isConfigSet:f,isLoadingConfig:y,saveConfig:x,clearConfig:N},children:n})},Vl=()=>{const n=ee.useContext(B_);if(n===void 0)throw new Error("useConfig must be used within a ConfigProvider");return n},qx="appFilterOutETVZero",z_=ee.createContext(void 0),nR=({children:n})=>{const{externalProductSourceUrl:e,isConfigSet:t}=Vl(),[i,r]=ee.useState([]),[s,o]=ee.useState(!1),[u,c]=ee.useState(null),[f,h]=ee.useState(()=>{const T=localStorage.getItem(qx);return T?JSON.parse(T):!1}),y=ee.useCallback(T=>{localStorage.setItem(qx,JSON.stringify(T)),h(T)},[]),b=ee.useCallback(T=>mr.LOADED_FROM_EXTERNAL,[]),x=ee.useCallback(async()=>{if(!t||!e){r([]),c("Konfiguration fr Produktdatenquelle nicht geladen."),o(!1);return}o(!0),c(null);try{const T=await fetch(e);if(!T.ok)throw new Error(`Failed to fetch from external source (${e}): ${T.status} ${T.statusText}`);const M=await T.json();if(!M.asins||!Array.isArray(M.asins)){r([]),o(!1),console.warn("External data source did not provide a valid 'asins' array."),c("Externe Datenquelle lieferte keine gltigen Produktdaten.");return}let k=M.asins;f&&(k=M.asins.filter(O=>O.ETV!==0));const P=k.map(O=>(O.ASIN||console.warn("External item missing ASIN, assigning placeholder ID:",O),{id:O.ASIN||`unknown_id_${Math.random().toString(36).substr(2,9)}`,name:O.name||"Unbekannter Name",etv:O.ETV,externalImageFilename:O.imageURL,imageUrl:O.imageURL?`${yC}${O.imageURL}`:void 0,externalKeepaPrice:O.keepa,externalTeilwert:O.Teilwert,externalPdfUrl:O.pdf,externalSourceStatus:O.status,status:b(O)})).sort((O,$)=>O.name.localeCompare($.name));r(P)}catch(T){c(`Ein Fehler ist beim Laden der Produkte aufgetreten: ${T.message}`),r([])}finally{o(!1)}},[t,e,b,f]);ee.useEffect(()=>{t&&e?x():(r([]),t&&(e||c("Produktdaten-URL fehlt in der Konfiguration.")))},[x,t,e]);const N=ee.useCallback(T=>i.find(M=>M.id===T),[i]);return S.jsx(z_.Provider,{value:{products:i,isLoading:s,error:u,fetchProducts:x,getProductById:N,filterOutETVZero:f,setFilterOutETVZeroPreference:y},children:n})},Hc=()=>{const n=ee.useContext(z_);if(n===void 0)throw new Error("useProducts must be used within a ProductProvider");return n};async function Cf(n,e){var t,i,r;if(!e.token)return console.error("V2 API call attempted without a token for endpoint:",n),{error:"V2 API-Token nicht gesetzt."};try{const s=await fetch(`${vC}${n}`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify(e)});if(!s.ok)try{const o=await s.json();if(s.status===401&&((t=o.error)!=null&&t.toLowerCase().includes("invalid token")||(i=o.error)!=null&&i.toLowerCase().includes("token missing")))return{error:"Ungltiger oder fehlender V2 API-Token."};if(s.status===404&&((r=o.error)!=null&&r.toLowerCase().includes("key not found"))){if(n==="get")return{key:e.key,value:null};if(n==="delete_key")return{message:"Key not found, effectively deleted.",key:e.key}}return o}catch{return{error:`V2 API Fehler: ${s.status} ${s.statusText}`}}return s.json()}catch(s){return console.error(`Netzwerk- oder anderer Fehler in fetchV2Api fr Endpoint ${n}:`,s),{error:s instanceof Error?s.message:"Ein unbekannter Netzwerkfehler ist aufgetreten"}}}const mn={getAllStatuses:async(n,e)=>Cf("get_all",{database:n,token:e}),setManyStatuses:async(n,e,t)=>Cf("set_many",{token:t,database:n,data:e}),getKey:async(n,e,t)=>Cf("get",{database:n,key:e,token:t}),setKey:async(n,e,t,i)=>Cf("set",{database:n,key:e,value:t,token:i}),listKeys:async(n,e)=>Cf("list_keys",{database:n,token:e}),deleteKey:async(n,e,t)=>Cf("delete_key",{database:n,key:e,token:t})},iR="https://hutauf.org/oracle2/files/",Hx={uploadPdfToOracle:async(n,e,t)=>{if(!t)throw new Error("Oracle Cloud Write PAR URL is not configured.");const i=`Teilwert_v2_${e}.pdf`,r=`${iR}${i}`,s=localStorage.getItem(ch);if(!s)throw new Error("Upload token not found in local storage.");const o={"Content-Type":"application/pdf","Content-Disposition":`attachment; filename="${i}"`,Authorization:`Bearer ${s}`};try{const u=await fetch(r,{method:"PUT",headers:o,body:n});if(!u.ok){const f=await u.text();throw new Error(`File upload failed: ${u.status} ${u.statusText}. Details: ${f}`)}return{publicUrl:r}}catch(u){throw console.error("Error uploading PDF to file service:",u),u}}},rR="modulepreload",sR=function(n){return"/"+n},Gx={},I1=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=o(t.map(f=>{if(f=sR(f),f in Gx)return;Gx[f]=!0;const h=f.endsWith(".css"),y=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":rR,h||(b.as="script"),b.crossOrigin="",b.href=f,c&&b.setAttribute("nonce",c),document.head.appendChild(b),h)return new Promise((x,N)=>{b.addEventListener("load",x),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return r.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function oi(n){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(n)}var ws=Uint8Array,ya=Uint16Array,k2=Int32Array,hg=new ws([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pg=new ws([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O1=new ws([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j_=function(n,e){for(var t=new ya(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new k2(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return{b:t,r}},U_=j_(hg,2),V_=U_.b,F1=U_.r;V_[28]=258,F1[258]=28;var q_=j_(pg,0),aR=q_.b,Wx=q_.r,B1=new ya(32768);for(var ji=0;ji<32768;++ji){var Eu=(ji&43690)>>1|(ji&21845)<<1;Eu=(Eu&52428)>>2|(Eu&13107)<<2,Eu=(Eu&61680)>>4|(Eu&3855)<<4,B1[ji]=((Eu&65280)>>8|(Eu&255)<<8)>>1}var Zo=function(n,e,t){for(var i=n.length,r=0,s=new ya(e);r<i;++r)n[r]&&++s[n[r]-1];var o=new ya(e);for(r=1;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var u;if(t){u=new ya(1<<e);var c=15-e;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],h=e-n[r],y=o[n[r]-1]++<<h,b=y|(1<<h)-1;y<=b;++y)u[B1[y]>>c]=f}else for(u=new ya(i),r=0;r<i;++r)n[r]&&(u[r]=B1[o[n[r]-1]++]>>15-n[r]);return u},ju=new ws(288);for(var ji=0;ji<144;++ji)ju[ji]=8;for(var ji=144;ji<256;++ji)ju[ji]=9;for(var ji=256;ji<280;++ji)ju[ji]=7;for(var ji=280;ji<288;++ji)ju[ji]=8;var Lh=new ws(32);for(var ji=0;ji<32;++ji)Lh[ji]=5;var oR=Zo(ju,9,0),lR=Zo(ju,9,1),uR=Zo(Lh,5,0),cR=Zo(Lh,5,1),z0=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},io=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},j0=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},M2=function(n){return(n+7)/8|0},H_=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new ws(n.subarray(e,t))},fR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ao=function(n,e,t){var i=new Error(e||fR[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,ao),!t)throw i;return i},dR=function(n,e,t,i){var r=n.length,s=0;if(!r||e.f&&!e.l)return t||new ws(0);var o=!t,u=o||e.i!=2,c=e.i;o&&(t=new ws(r*3));var f=function(Ye){var et=t.length;if(Ye>et){var tt=new ws(Math.max(et*2,Ye));tt.set(t),t=tt}},h=e.f||0,y=e.p||0,b=e.b||0,x=e.l,N=e.d,T=e.m,M=e.n,k=r*8;do{if(!x){h=io(n,y,1);var P=io(n,y+1,3);if(y+=3,P)if(P==1)x=lR,N=cR,T=9,M=5;else if(P==2){var Z=io(n,y,31)+257,Q=io(n,y+10,15)+4,V=Z+io(n,y+5,31)+1;y+=14;for(var X=new ws(V),le=new ws(19),z=0;z<Q;++z)le[O1[z]]=io(n,y+z*3,7);y+=Q*3;for(var G=z0(le),fe=(1<<G)-1,ae=Zo(le,G,1),z=0;z<V;){var me=ae[io(n,y,fe)];y+=me&15;var O=me>>4;if(O<16)X[z++]=O;else{var te=0,ce=0;for(O==16?(ce=3+io(n,y,3),y+=2,te=X[z-1]):O==17?(ce=3+io(n,y,7),y+=3):O==18&&(ce=11+io(n,y,127),y+=7);ce--;)X[z++]=te}}var ne=X.subarray(0,Z),de=X.subarray(Z);T=z0(ne),M=z0(de),x=Zo(ne,T,1),N=Zo(de,M,1)}else ao(1);else{var O=M2(y)+4,$=n[O-4]|n[O-3]<<8,q=O+$;if(q>r){c&&ao(0);break}u&&f(b+$),t.set(n.subarray(O,q),b),e.b=b+=$,e.p=y=q*8,e.f=h;continue}if(y>k){c&&ao(0);break}}u&&f(b+131072);for(var D=(1<<T)-1,ye=(1<<M)-1,R=y;;R=y){var te=x[j0(n,y)&D],W=te>>4;if(y+=te&15,y>k){c&&ao(0);break}if(te||ao(2),W<256)t[b++]=W;else if(W==256){R=y,x=null;break}else{var j=W-254;if(W>264){var z=W-257,re=hg[z];j=io(n,y,(1<<re)-1)+V_[z],y+=re}var se=N[j0(n,y)&ye],xe=se>>4;se||ao(3),y+=se&15;var de=aR[xe];if(xe>3){var re=pg[xe];de+=j0(n,y)&(1<<re)-1,y+=re}if(y>k){c&&ao(0);break}u&&f(b+131072);var pe=b+j;if(b<de){var Te=s-de,$e=Math.min(de,pe);for(Te+b<0&&ao(3);b<$e;++b)t[b]=i[Te+b]}for(;b<pe;++b)t[b]=t[b-de]}}e.l=x,e.p=R,e.b=b,e.f=h,x&&(h=1,e.m=T,e.d=N,e.n=M)}while(!h);return b!=t.length&&o?H_(t,0,b):t.subarray(0,b)},El=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},th=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},U0=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,s=t.slice();if(!r)return{t:W_,l:0};if(r==1){var o=new ws(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(q,Z){return q.f-Z.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],f=0,h=1,y=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};h!=r-1;)u=t[t[f].f<t[y].f?f++:y++],c=t[f!=h&&t[f].f<t[y].f?f++:y++],t[h++]={s:-1,f:u.f+c.f,l:u,r:c};for(var b=s[0].s,i=1;i<r;++i)s[i].s>b&&(b=s[i].s);var x=new ya(b+1),N=z1(t[h-1],x,0);if(N>e){var i=0,T=0,M=N-e,k=1<<M;for(s.sort(function(Z,Q){return x[Q.s]-x[Z.s]||Z.f-Q.f});i<r;++i){var P=s[i].s;if(x[P]>e)T+=k-(1<<N-x[P]),x[P]=e;else break}for(T>>=M;T>0;){var O=s[i].s;x[O]<e?T-=1<<e-x[O]++-1:++i}for(;i>=0&&T;--i){var $=s[i].s;x[$]==e&&(--x[$],++T)}N=e}return{t:new ws(x),l:N}},z1=function(n,e,t){return n.s==-1?Math.max(z1(n.l,e,t+1),z1(n.r,e,t+1)):e[n.s]=t},Kx=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ya(++e),i=0,r=n[0],s=1,o=function(c){t[i++]=c},u=1;u<=e;++u)if(n[u]==r&&u!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[u]}return{c:t.subarray(0,i),n:e}},nh=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},G_=function(n,e,t){var i=t.length,r=M2(e+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=t[s];return(r+4+i)*8},Yx=function(n,e,t,i,r,s,o,u,c,f,h){El(e,h++,t),++r[256];for(var y=U0(r,15),b=y.t,x=y.l,N=U0(s,15),T=N.t,M=N.l,k=Kx(b),P=k.c,O=k.n,$=Kx(T),q=$.c,Z=$.n,Q=new ya(19),V=0;V<P.length;++V)++Q[P[V]&31];for(var V=0;V<q.length;++V)++Q[q[V]&31];for(var X=U0(Q,7),le=X.t,z=X.l,G=19;G>4&&!le[O1[G-1]];--G);var fe=f+5<<3,ae=nh(r,ju)+nh(s,Lh)+o,me=nh(r,b)+nh(s,T)+o+14+3*G+nh(Q,le)+2*Q[16]+3*Q[17]+7*Q[18];if(c>=0&&fe<=ae&&fe<=me)return G_(e,h,n.subarray(c,c+f));var te,ce,ne,de;if(El(e,h,1+(me<ae)),h+=2,me<ae){te=Zo(b,x,0),ce=b,ne=Zo(T,M,0),de=T;var D=Zo(le,z,0);El(e,h,O-257),El(e,h+5,Z-1),El(e,h+10,G-4),h+=14;for(var V=0;V<G;++V)El(e,h+3*V,le[O1[V]]);h+=3*G;for(var ye=[P,q],R=0;R<2;++R)for(var W=ye[R],V=0;V<W.length;++V){var j=W[V]&31;El(e,h,D[j]),h+=le[j],j>15&&(El(e,h,W[V]>>5&127),h+=W[V]>>12)}}else te=oR,ce=ju,ne=uR,de=Lh;for(var V=0;V<u;++V){var re=i[V];if(re>255){var j=re>>18&31;th(e,h,te[j+257]),h+=ce[j+257],j>7&&(El(e,h,re>>23&31),h+=hg[j]);var se=re&31;th(e,h,ne[se]),h+=de[se],se>3&&(th(e,h,re>>5&8191),h+=pg[se])}else th(e,h,te[re]),h+=ce[re]}return th(e,h,te[256]),h+ce[256]},hR=new k2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),W_=new ws(0),pR=function(n,e,t,i,r,s){var o=s.z||n.length,u=new ws(i+o+5*(1+Math.ceil(o/7e3))+r),c=u.subarray(i,u.length-r),f=s.l,h=(s.r||0)&7;if(e){h&&(c[0]=s.r>>3);for(var y=hR[e-1],b=y>>13,x=y&8191,N=(1<<t)-1,T=s.p||new ya(32768),M=s.h||new ya(N+1),k=Math.ceil(t/3),P=2*k,O=function(xt){return(n[xt]^n[xt+1]<<k^n[xt+2]<<P)&N},$=new k2(25e3),q=new ya(288),Z=new ya(32),Q=0,V=0,X=s.i||0,le=0,z=s.w||0,G=0;X+2<o;++X){var fe=O(X),ae=X&32767,me=M[fe];if(T[ae]=me,M[fe]=ae,z<=X){var te=o-X;if((Q>7e3||le>24576)&&(te>423||!f)){h=Yx(n,c,0,$,q,Z,V,le,G,X-G,h),le=Q=V=0,G=X;for(var ce=0;ce<286;++ce)q[ce]=0;for(var ce=0;ce<30;++ce)Z[ce]=0}var ne=2,de=0,D=x,ye=ae-me&32767;if(te>2&&fe==O(X-ye))for(var R=Math.min(b,te)-1,W=Math.min(32767,X),j=Math.min(258,te);ye<=W&&--D&&ae!=me;){if(n[X+ne]==n[X+ne-ye]){for(var re=0;re<j&&n[X+re]==n[X+re-ye];++re);if(re>ne){if(ne=re,de=ye,re>R)break;for(var se=Math.min(ye,re-2),xe=0,ce=0;ce<se;++ce){var pe=X-ye+ce&32767,Te=T[pe],$e=pe-Te&32767;$e>xe&&(xe=$e,me=pe)}}}ae=me,me=T[ae],ye+=ae-me&32767}if(de){$[le++]=268435456|F1[ne]<<18|Wx[de];var Ye=F1[ne]&31,et=Wx[de]&31;V+=hg[Ye]+pg[et],++q[257+Ye],++Z[et],z=X+ne,++Q}else $[le++]=n[X],++q[n[X]]}}for(X=Math.max(X,z);X<o;++X)$[le++]=n[X],++q[n[X]];h=Yx(n,c,f,$,q,Z,V,le,G,X-G,h),f||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=M,s.p=T,s.i=X,s.w=z)}else{for(var X=s.w||0;X<o+f;X+=65535){var tt=X+65535;tt>=o&&(c[h/8|0]=f,tt=o),h=G_(c,h+1,n.subarray(X,tt))}s.i=o}return H_(u,0,i+M2(h)+r)},K_=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,s=t.length|0,o=0;o!=s;){for(var u=Math.min(o+2655,s);o<u;++o)r+=i+=t[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},mR=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ws(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return pR(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,r)},Y_=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},gR=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=K_();r.p(e.dictionary),Y_(n,2,r.d())}},yR=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ao(6,"invalid zlib data"),(n[1]>>5&1)==1&&ao(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function j1(n,e){e||(e={});var t=K_();t.p(n);var i=mR(n,e,e.dictionary?6:2,4);return gR(i,e),Y_(i,i.length-4,t.d()),i}function vR(n,e){return dR(n.subarray(yR(n),-4),{i:2},e,e)}var xR=typeof TextDecoder<"u"&&new TextDecoder,bR=0;try{xR.decode(W_,{stream:!0}),bR=1}catch{}var Zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function V0(){Zt.console&&typeof Zt.console.log=="function"&&Zt.console.log.apply(Zt.console,arguments)}var vi={log:V0,warn:function(n){Zt.console&&(typeof Zt.console.warn=="function"?Zt.console.warn.apply(Zt.console,arguments):V0.call(null,arguments))},error:function(n){Zt.console&&(typeof Zt.console.error=="function"?Zt.console.error.apply(Zt.console,arguments):V0(n))}};function q0(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Ec(i.response,e,t)},i.onerror=function(){vi.error("could not download file")},i.send()}function $x(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Zp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var bh,U1,Ec=Zt.saveAs||((typeof window>"u"?"undefined":oi(window))!=="object"||window!==Zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=Zt.URL||Zt.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?$x(r.href)?q0(n,e,t):Zp(r,r.target="_blank"):Zp(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Zp(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if($x(n))q0(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Zp(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:oi(s)!=="object"&&(vi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return q0(n,e,t);var r=n.type==="application/octet-stream",s=/constructor/i.test(Zt.HTMLElement)||Zt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":oi(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var h=u.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location=h,i=null},u.readAsDataURL(n)}else{var c=Zt.URL||Zt.webkitURL,f=c.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $_(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,s=t[i].process,o=r.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+u+c+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function H0(n,e){var t=n[0],i=n[1],r=n[2],s=n[3];t=gs(t,i,r,s,e[0],7,-680876936),s=gs(s,t,i,r,e[1],12,-389564586),r=gs(r,s,t,i,e[2],17,606105819),i=gs(i,r,s,t,e[3],22,-1044525330),t=gs(t,i,r,s,e[4],7,-176418897),s=gs(s,t,i,r,e[5],12,1200080426),r=gs(r,s,t,i,e[6],17,-1473231341),i=gs(i,r,s,t,e[7],22,-45705983),t=gs(t,i,r,s,e[8],7,1770035416),s=gs(s,t,i,r,e[9],12,-1958414417),r=gs(r,s,t,i,e[10],17,-42063),i=gs(i,r,s,t,e[11],22,-1990404162),t=gs(t,i,r,s,e[12],7,1804603682),s=gs(s,t,i,r,e[13],12,-40341101),r=gs(r,s,t,i,e[14],17,-1502002290),t=ys(t,i=gs(i,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=ys(s,t,i,r,e[6],9,-1069501632),r=ys(r,s,t,i,e[11],14,643717713),i=ys(i,r,s,t,e[0],20,-373897302),t=ys(t,i,r,s,e[5],5,-701558691),s=ys(s,t,i,r,e[10],9,38016083),r=ys(r,s,t,i,e[15],14,-660478335),i=ys(i,r,s,t,e[4],20,-405537848),t=ys(t,i,r,s,e[9],5,568446438),s=ys(s,t,i,r,e[14],9,-1019803690),r=ys(r,s,t,i,e[3],14,-187363961),i=ys(i,r,s,t,e[8],20,1163531501),t=ys(t,i,r,s,e[13],5,-1444681467),s=ys(s,t,i,r,e[2],9,-51403784),r=ys(r,s,t,i,e[7],14,1735328473),t=vs(t,i=ys(i,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=vs(s,t,i,r,e[8],11,-2022574463),r=vs(r,s,t,i,e[11],16,1839030562),i=vs(i,r,s,t,e[14],23,-35309556),t=vs(t,i,r,s,e[1],4,-1530992060),s=vs(s,t,i,r,e[4],11,1272893353),r=vs(r,s,t,i,e[7],16,-155497632),i=vs(i,r,s,t,e[10],23,-1094730640),t=vs(t,i,r,s,e[13],4,681279174),s=vs(s,t,i,r,e[0],11,-358537222),r=vs(r,s,t,i,e[3],16,-722521979),i=vs(i,r,s,t,e[6],23,76029189),t=vs(t,i,r,s,e[9],4,-640364487),s=vs(s,t,i,r,e[12],11,-421815835),r=vs(r,s,t,i,e[15],16,530742520),t=xs(t,i=vs(i,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=xs(s,t,i,r,e[7],10,1126891415),r=xs(r,s,t,i,e[14],15,-1416354905),i=xs(i,r,s,t,e[5],21,-57434055),t=xs(t,i,r,s,e[12],6,1700485571),s=xs(s,t,i,r,e[3],10,-1894986606),r=xs(r,s,t,i,e[10],15,-1051523),i=xs(i,r,s,t,e[1],21,-2054922799),t=xs(t,i,r,s,e[8],6,1873313359),s=xs(s,t,i,r,e[15],10,-30611744),r=xs(r,s,t,i,e[6],15,-1560198380),i=xs(i,r,s,t,e[13],21,1309151649),t=xs(t,i,r,s,e[4],6,-145523070),s=xs(s,t,i,r,e[11],10,-1120210379),r=xs(r,s,t,i,e[2],15,718787259),i=xs(i,r,s,t,e[9],21,-343485551),n[0]=Pu(t,n[0]),n[1]=Pu(i,n[1]),n[2]=Pu(r,n[2]),n[3]=Pu(s,n[3])}function mg(n,e,t,i,r,s){return e=Pu(Pu(e,n),Pu(i,s)),Pu(e<<r|e>>>32-r,t)}function gs(n,e,t,i,r,s,o){return mg(e&t|~e&i,n,e,r,s,o)}function ys(n,e,t,i,r,s,o){return mg(e&i|t&~i,n,e,r,s,o)}function vs(n,e,t,i,r,s,o){return mg(e^t^i,n,e,r,s,o)}function xs(n,e,t,i,r,s,o){return mg(t^(e|~i),n,e,r,s,o)}function J_(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)H0(i,wR(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(H0(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,H0(i,r),i}function wR(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}bh=Zt.atob.bind(Zt),U1=Zt.btoa.bind(Zt);var Jx="0123456789abcdef".split("");function _R(n){for(var e="",t=0;t<4;t++)e+=Jx[n>>8*t+4&15]+Jx[n>>8*t&15];return e}function SR(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function V1(n){return J_(n).map(SR).join("")}var AR=function(n){for(var e=0;e<n.length;e++)n[e]=_R(n[e]);return n.join("")}(J_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pu(n,e){if(AR){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q1(n,e){var t,i,r,s;if(n!==t){for(var o=(r=n,s=1+(256/n.length>>0),new Array(s+1).join(r)),u=[],c=0;c<256;c++)u[c]=c;var f=0;for(c=0;c<256;c++){var h=u[c];f=(f+h+o.charCodeAt(c))%256,u[c]=u[f],u[f]=h}t=n,i=u}else u=i;var y=e.length,b=0,x=0,N="";for(c=0;c<y;c++)x=(x+(h=u[b=(b+1)%256]))%256,u[b]=u[x],u[x]=h,o=u[(u[b]+u[x])%256],N+=String.fromCharCode(e.charCodeAt(c)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Zx={print:4,modify:8,copy:16,"annot-forms":32};function Df(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(u){if(Zx.perm!==void 0)throw new Error("Invalid permission: "+u);r+=Zx[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=V1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=q1(this.encryptionKey,this.padding)}function If(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=n[i]}return e}function Xx(n){if(oi(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!r],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,i)}catch(u){Zt.console&&vi.error("jsPDF PubSub Error",u.message,u)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Km(n){if(!(this instanceof Km))return new Km(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Z_(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Pc(n,e,t,i,r){if(!(this instanceof Pc))return new Pc(n,e,t,i,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,Z_.call(this,i,r)}function jf(n,e,t,i,r){if(!(this instanceof jf))return new jf(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Z_.call(this,i,r)}function Yt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],u=1,c=16,f="S",h=null;oi(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,b={},x={internal:{},__private__:{}};x.__private__.PubSub=Xx;var N="1.3",T=x.__private__.getPdfVersion=function(){return N};x.__private__.setPdfVersion=function(C){N=C};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return M};var k=x.__private__.getPageFormat=function(C){return M[C]};r=r||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},O=P.COMPAT;function $(){this.saveGraphicsState(),ue(new at(Ke,0,0,-Ke,0,vo()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),f="n",O=P.ADVANCED}function q(){this.restoreGraphicsState(),f="S",O=P.COMPAT}var Z=x.__private__.combineFontStyleAndFontWeight=function(C,B){if(C=="bold"&&B=="normal"||C=="bold"&&B==400||C=="normal"&&B=="italic"||C=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(C=B==400||B==="normal"?C==="italic"?"italic":"normal":B!=700&&B!=="bold"||C!=="normal"?(B==700?"bold":B)+""+C:"bold"),C};x.advancedAPI=function(C){var B=O===P.COMPAT;return B&&$.call(this),typeof C!="function"||(C(this),B&&q.call(this)),this},x.compatAPI=function(C){var B=O===P.ADVANCED;return B&&q.call(this),typeof C!="function"||(C(this),B&&$.call(this)),this},x.isAdvancedAPI=function(){return O===P.ADVANCED};var Q,V=function(C){if(O!==P.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=x.roundToPrecision=x.__private__.roundToPrecision=function(C,B){var oe=e||B;if(isNaN(C)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(oe).replace(/0+$/,"")};Q=x.hpf=x.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return X(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return X(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return X(C,16)};var le=x.f2=x.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return X(C,2)},z=x.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return X(C,3)},G=x.scale=x.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return O===P.COMPAT?C*Ke:O===P.ADVANCED?C:void 0},fe=function(C){return O===P.COMPAT?vo()-C:O===P.ADVANCED?C:void 0},ae=function(C){return G(fe(C))};x.__private__.setPrecision=x.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var me,te="00000000000000000000000000000000",ce=x.__private__.getFileId=function(){return te},ne=x.__private__.setFileId=function(C){return te=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Ne=new Df(h.userPermissions,h.userPassword,h.ownerPassword,te)),te};x.setFileId=function(C){return ne(C),this},x.getFileId=function(){return ce()};var de=x.__private__.convertDateToPDFDate=function(C){var B=C.getTimezoneOffset(),oe=B<0?"+":"-",ge=Math.floor(Math.abs(B/60)),Ee=Math.abs(B%60),Be=[oe,j(ge),"'",j(Ee),"'"].join("");return["D:",C.getFullYear(),j(C.getMonth()+1),j(C.getDate()),j(C.getHours()),j(C.getMinutes()),j(C.getSeconds()),Be].join("")},D=x.__private__.convertPDFDateToDate=function(C){var B=parseInt(C.substr(2,4),10),oe=parseInt(C.substr(6,2),10)-1,ge=parseInt(C.substr(8,2),10),Ee=parseInt(C.substr(10,2),10),Be=parseInt(C.substr(12,2),10),Qe=parseInt(C.substr(14,2),10);return new Date(B,oe,ge,Ee,Be,Qe,0)},ye=x.__private__.setCreationDate=function(C){var B;if(C===void 0&&(C=new Date),C instanceof Date)B=de(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=C}return me=B},R=x.__private__.getCreationDate=function(C){var B=me;return C==="jsDate"&&(B=D(me)),B};x.setCreationDate=function(C){return ye(C),this},x.getCreationDate=function(C){return R(C)};var W,j=x.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},re=x.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},se=0,xe=[],pe=[],Te=0,$e=[],Ye=[],et=!1,tt=pe,xt=function(){se=0,Te=0,pe=[],xe=[],$e=[],li=pi(),xr=pi()};x.__private__.setCustomOutputDestination=function(C){et=!0,tt=C};var Fe=function(C){et||(tt=C)};x.__private__.resetCustomOutputDestination=function(){et=!1,tt=pe};var ue=x.__private__.out=function(C){return C=C.toString(),Te+=C.length+1,tt.push(C),tt},bt=x.__private__.write=function(C){return ue(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},nt=x.__private__.getArrayBuffer=function(C){for(var B=C.length,oe=new ArrayBuffer(B),ge=new Uint8Array(oe);B--;)ge[B]=C.charCodeAt(B);return oe},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Je};var it=n.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(C){return it=O===P.ADVANCED?C/Ke:C,this};var rt,je=x.__private__.getFontSize=x.getFontSize=function(){return O===P.COMPAT?it:it*Ke},ot=n.R2L||!1;x.__private__.setR2L=x.setR2L=function(C){return ot=C,this},x.__private__.getR2L=x.getR2L=function(){return ot};var Et,$t=x.__private__.setZoomMode=function(C){var B=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))rt=C;else if(isNaN(C)){if(B.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');rt=C}else rt=parseInt(C,10)};x.__private__.getZoomMode=function(){return rt};var It,Ot=x.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Et=C};x.__private__.getPageMode=function(){return Et};var Rt=x.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');It=C};x.__private__.getLayoutMode=function(){return It},x.__private__.setDisplayMode=x.setDisplayMode=function(C,B,oe){return $t(C),Rt(B),Ot(oe),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(C){if(Object.keys(vt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[C]},x.__private__.getDocumentProperties=function(){return vt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(C){for(var B in vt)vt.hasOwnProperty(B)&&C[B]&&(vt[B]=C[B]);return this},x.__private__.setDocumentProperty=function(C,B){if(Object.keys(vt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[C]=B};var Ht,Ke,Vt,Pt,hi,tn={},gn={},Li=[],Gt={},As={},ei={},vr={},bi=null,ni=0,Ft=[],bn=new Xx(x),or=n.hotfixes||[],wi={},Pi={},Xr=[],at=function C(B,oe,ge,Ee,Be,Qe){if(!(this instanceof C))return new C(B,oe,ge,Ee,Be,Qe);isNaN(B)&&(B=1),isNaN(oe)&&(oe=0),isNaN(ge)&&(ge=0),isNaN(Ee)&&(Ee=1),isNaN(Be)&&(Be=0),isNaN(Qe)&&(Qe=0),this._matrix=[B,oe,ge,Ee,Be,Qe]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(C)},at.prototype.multiply=function(C){var B=C.sx*this.sx+C.shy*this.shx,oe=C.sx*this.shy+C.shy*this.sy,ge=C.shx*this.sx+C.sy*this.shx,Ee=C.shx*this.shy+C.sy*this.sy,Be=C.tx*this.sx+C.ty*this.shx+this.tx,Qe=C.tx*this.shy+C.ty*this.sy+this.ty;return new at(B,oe,ge,Ee,Be,Qe)},at.prototype.decompose=function(){var C=this.sx,B=this.shy,oe=this.shx,ge=this.sy,Ee=this.tx,Be=this.ty,Qe=Math.sqrt(C*C+B*B),dt=(C/=Qe)*oe+(B/=Qe)*ge;oe-=C*dt,ge-=B*dt;var Nt=Math.sqrt(oe*oe+ge*ge);return dt/=Nt,C*(ge/=Nt)<B*(oe/=Nt)&&(C=-C,B=-B,dt=-dt,Qe=-Qe),{scale:new at(Qe,0,0,Nt,0,0),translate:new at(1,0,0,1,Ee,Be),rotate:new at(C,B,-B,C,0,0),skew:new at(1,0,dt,1,0,0)}},at.prototype.toString=function(C){return this.join(" ")},at.prototype.inversed=function(){var C=this.sx,B=this.shy,oe=this.shx,ge=this.sy,Ee=this.tx,Be=this.ty,Qe=1/(C*ge-B*oe),dt=ge*Qe,Nt=-B*Qe,an=-oe*Qe,en=C*Qe;return new at(dt,Nt,an,en,-dt*Ee-an*Be,-Nt*Ee-en*Be)},at.prototype.applyToPoint=function(C){var B=C.x*this.sx+C.y*this.shx+this.tx,oe=C.x*this.shy+C.y*this.sy+this.ty;return new Yl(B,oe)},at.prototype.applyToRectangle=function(C){var B=this.applyToPoint(C),oe=this.applyToPoint(new Yl(C.x+C.w,C.y+C.h));return new $u(B.x,B.y,oe.x-B.x,oe.y-B.y)},at.prototype.clone=function(){var C=this.sx,B=this.shy,oe=this.shx,ge=this.sy,Ee=this.tx,Be=this.ty;return new at(C,B,oe,ge,Ee,Be)},x.Matrix=at;var yn=x.matrixMult=function(C,B){return B.multiply(C)},Gn=new at(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Gn;var _i=function(C,B){if(!As[C]){var oe=(B instanceof Pc?"Sh":"P")+(Object.keys(Gt).length+1).toString(10);B.id=oe,As[C]=oe,Gt[oe]=B,bn.publish("addPattern",B)}};x.ShadingPattern=Pc,x.TilingPattern=jf,x.addShadingPattern=function(C,B){return V("addShadingPattern()"),_i(C,B),this},x.beginTilingPattern=function(C){V("beginTilingPattern()"),$l(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},x.endTilingPattern=function(C,B){V("endTilingPattern()"),B.stream=Ye[W].join(`
`),_i(C,B),bn.publish("endTilingPattern",B),Xr.pop().restore()};var On=x.__private__.newObject=function(){var C=pi();return Si(C,!0),C},pi=x.__private__.newObjectDeferred=function(){return se++,xe[se]=function(){return Te},se},Si=function(C,B){return B=typeof B=="boolean"&&B,xe[C]=Te,B&&ue(C+" 0 obj"),C},Rs=x.__private__.newAdditionalObject=function(){var C={objId:pi(),content:""};return $e.push(C),C},li=pi(),xr=pi(),Ri=x.__private__.decodeColorString=function(C){var B=C.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length===5&&(B[4]==="k"||B[4]==="K")&&(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var oe=parseFloat(B[0]);B=[oe,oe,oe,"r"]}for(var ge="#",Ee=0;Ee<3;Ee++)ge+=("0"+Math.floor(255*parseFloat(B[Ee])).toString(16)).slice(-2);return ge},lr=x.__private__.encodeColorString=function(C){var B;typeof C=="string"&&(C={ch1:C});var oe=C.ch1,ge=C.ch2,Ee=C.ch3,Be=C.ch4,Qe=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var dt=new $_(oe);if(dt.ok)oe=dt.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var Nt=parseInt(oe.substr(1),16);oe=Nt>>16&255,ge=Nt>>8&255,Ee=255&Nt}if(ge===void 0||Be===void 0&&oe===ge&&ge===Ee)if(typeof oe=="string")B=oe+" "+Qe[0];else switch(C.precision){case 2:B=le(oe/255)+" "+Qe[0];break;case 3:default:B=z(oe/255)+" "+Qe[0]}else if(Be===void 0||oi(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return B=["1.","1.","1.",Qe[1]].join(" ");if(typeof oe=="string")B=[oe,ge,Ee,Qe[1]].join(" ");else switch(C.precision){case 2:B=[le(oe/255),le(ge/255),le(Ee/255),Qe[1]].join(" ");break;default:case 3:B=[z(oe/255),z(ge/255),z(Ee/255),Qe[1]].join(" ")}}else if(typeof oe=="string")B=[oe,ge,Ee,Be,Qe[2]].join(" ");else switch(C.precision){case 2:B=[le(oe),le(ge),le(Ee),le(Be),Qe[2]].join(" ");break;case 3:default:B=[z(oe),z(ge),z(Ee),z(Be),Qe[2]].join(" ")}return B},ur=x.__private__.getFilters=function(){return o},Xi=x.__private__.putStream=function(C){var B=(C=C||{}).data||"",oe=C.filters||ur(),ge=C.alreadyAppliedFilters||[],Ee=C.addLength1||!1,Be=B.length,Qe=C.objectId,dt=function(nr){return nr};if(h!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(dt=Ne.encryptor(Qe,0));var Nt={};oe===!0&&(oe=["FlateEncode"]);var an=C.additionalKeyValues||[],en=(Nt=Yt.API.processDataByFilters!==void 0?Yt.API.processDataByFilters(B,oe):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Nt.data.length!==0&&(an.push({key:"Length",value:Nt.data.length}),Ee===!0&&an.push({key:"Length1",value:Be})),en.length!=0)if(en.split("/").length-1==1)an.push({key:"Filter",value:en});else{an.push({key:"Filter",value:"["+en+"]"});for(var Cn=0;Cn<an.length;Cn+=1)if(an[Cn].key==="DecodeParms"){for(var Ci=[],Oi=0;Oi<Nt.reverseChain.split("/").length-1;Oi+=1)Ci.push("null");Ci.push(an[Cn].value),an[Cn].value="["+Ci.join(" ")+"]"}}ue("<<");for(var tr=0;tr<an.length;tr++)ue("/"+an[tr].key+" "+an[tr].value);ue(">>"),Nt.data.length!==0&&(ue("stream"),ue(dt(Nt.data)),ue("endstream"))},Ln=x.__private__.putPage=function(C){var B=C.number,oe=C.data,ge=C.objId,Ee=C.contentsObjId;Si(ge,!0),ue("<</Type /Page"),ue("/Parent "+C.rootDictionaryObjId+" 0 R"),ue("/Resources "+C.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(Q(C.mediaBox.bottomLeftX))+" "+parseFloat(Q(C.mediaBox.bottomLeftY))+" "+Q(C.mediaBox.topRightX)+" "+Q(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&ue("/CropBox ["+Q(C.cropBox.bottomLeftX)+" "+Q(C.cropBox.bottomLeftY)+" "+Q(C.cropBox.topRightX)+" "+Q(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&ue("/BleedBox ["+Q(C.bleedBox.bottomLeftX)+" "+Q(C.bleedBox.bottomLeftY)+" "+Q(C.bleedBox.topRightX)+" "+Q(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&ue("/TrimBox ["+Q(C.trimBox.bottomLeftX)+" "+Q(C.trimBox.bottomLeftY)+" "+Q(C.trimBox.topRightX)+" "+Q(C.trimBox.topRightY)+"]"),C.artBox!==null&&ue("/ArtBox ["+Q(C.artBox.bottomLeftX)+" "+Q(C.artBox.bottomLeftY)+" "+Q(C.artBox.topRightX)+" "+Q(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&ue("/UserUnit "+C.userUnit),bn.publish("putPage",{objId:ge,pageContext:Ft[B],pageNumber:B,page:oe}),ue("/Contents "+Ee+" 0 R"),ue(">>"),ue("endobj");var Be=oe.join(`
`);return O===P.ADVANCED&&(Be+=`
Q`),Si(Ee,!0),Xi({data:Be,filters:ur(),objectId:Ee}),ue("endobj"),ge},Ds=x.__private__.putPages=function(){var C,B,oe=[];for(C=1;C<=ni;C++)Ft[C].objId=pi(),Ft[C].contentsObjId=pi();for(C=1;C<=ni;C++)oe.push(Ln({number:C,data:Ye[C],objId:Ft[C].objId,contentsObjId:Ft[C].contentsObjId,mediaBox:Ft[C].mediaBox,cropBox:Ft[C].cropBox,bleedBox:Ft[C].bleedBox,trimBox:Ft[C].trimBox,artBox:Ft[C].artBox,userUnit:Ft[C].userUnit,rootDictionaryObjId:li,resourceDictionaryObjId:xr}));Si(li,!0),ue("<</Type /Pages");var ge="/Kids [";for(B=0;B<ni;B++)ge+=oe[B]+" 0 R ";ue(ge+"]"),ue("/Count "+ni),ue(">>"),ue("endobj"),bn.publish("postPutPages")},Is=function(C){bn.publish("putFont",{font:C,out:ue,newObject:On,putStream:Xi}),C.isAlreadyPutted!==!0&&(C.objectNumber=On(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+If(C.postScriptName)),ue("/Subtype /Type1"),typeof C.encoding=="string"&&ue("/Encoding /"+C.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},qi=function(){for(var C in tn)tn.hasOwnProperty(C)&&(y===!1||y===!0&&b.hasOwnProperty(C))&&Is(tn[C])},cr=function(C){C.objectNumber=On();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[Q(C.x),Q(C.y),Q(C.x+C.width),Q(C.y+C.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var oe=C.pages[1].join(`
`);Xi({data:oe,additionalKeyValues:B,objectId:C.objectNumber}),ue("endobj")},Hr=function(){for(var C in wi)wi.hasOwnProperty(C)&&cr(wi[C])},ui=function(C,B){var oe,ge=[],Ee=1/(B-1);for(oe=0;oe<1;oe+=Ee)ge.push(oe);if(ge.push(1),C[0].offset!=0){var Be={offset:0,color:C[0].color};C.unshift(Be)}if(C[C.length-1].offset!=1){var Qe={offset:1,color:C[C.length-1].color};C.push(Qe)}for(var dt="",Nt=0,an=0;an<ge.length;an++){for(oe=ge[an];oe>C[Nt+1].offset;)Nt++;var en=C[Nt].offset,Cn=(oe-en)/(C[Nt+1].offset-en),Ci=C[Nt].color,Oi=C[Nt+1].color;dt+=re(Math.round((1-Cn)*Ci[0]+Cn*Oi[0]).toString(16))+re(Math.round((1-Cn)*Ci[1]+Cn*Oi[1]).toString(16))+re(Math.round((1-Cn)*Ci[2]+Cn*Oi[2]).toString(16))}return dt.trim()},Ts=function(C,B){B||(B=21);var oe=On(),ge=ui(C.colors,B),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+B+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xi({data:ge,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),ue("endobj"),C.objectNumber=On(),ue("<< /ShadingType "+C.type),ue("/ColorSpace /DeviceRGB");var Be="/Coords ["+Q(parseFloat(C.coords[0]))+" "+Q(parseFloat(C.coords[1]))+" ";C.type===2?Be+=Q(parseFloat(C.coords[2]))+" "+Q(parseFloat(C.coords[3])):Be+=Q(parseFloat(C.coords[2]))+" "+Q(parseFloat(C.coords[3]))+" "+Q(parseFloat(C.coords[4]))+" "+Q(parseFloat(C.coords[5])),ue(Be+="]"),C.matrix&&ue("/Matrix ["+C.matrix.toString()+"]"),ue("/Function "+oe+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Os=function(C,B){var oe=pi(),ge=On();B.push({resourcesOid:oe,objectOid:ge}),C.objectNumber=ge;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+C.boundingBox.map(Q).join(" ")+"]"}),Ee.push({key:"XStep",value:Q(C.xStep)}),Ee.push({key:"YStep",value:Q(C.yStep)}),Ee.push({key:"Resources",value:oe+" 0 R"}),C.matrix&&Ee.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Xi({data:C.stream,additionalKeyValues:Ee,objectId:C.objectNumber}),ue("endobj")},Pr=function(C){var B;for(B in Gt)Gt.hasOwnProperty(B)&&(Gt[B]instanceof Pc?Ts(Gt[B]):Gt[B]instanceof jf&&Os(Gt[B],C))},ls=function(C){for(var B in C.objectNumber=On(),ue("<<"),C)switch(B){case"opacity":ue("/ca "+le(C[B]));break;case"stroke-opacity":ue("/CA "+le(C[B]))}ue(">>"),ue("endobj")},jr=function(){var C;for(C in ei)ei.hasOwnProperty(C)&&ls(ei[C])},Fs=function(){for(var C in ue("/XObject <<"),wi)wi.hasOwnProperty(C)&&wi[C].objectNumber>=0&&ue("/"+C+" "+wi[C].objectNumber+" 0 R");bn.publish("putXobjectDict"),ue(">>")},Fa=function(){Ne.oid=On(),ue("<<"),ue("/Filter /Standard"),ue("/V "+Ne.v),ue("/R "+Ne.r),ue("/U <"+Ne.toHexString(Ne.U)+">"),ue("/O <"+Ne.toHexString(Ne.O)+">"),ue("/P "+Ne.P),ue(">>"),ue("endobj")},Qr=function(){for(var C in ue("/Font <<"),tn)tn.hasOwnProperty(C)&&(y===!1||y===!0&&b.hasOwnProperty(C))&&ue("/"+C+" "+tn[C].objectNumber+" 0 R");ue(">>")},Js=function(){if(Object.keys(Gt).length>0){for(var C in ue("/Shading <<"),Gt)Gt.hasOwnProperty(C)&&Gt[C]instanceof Pc&&Gt[C].objectNumber>=0&&ue("/"+C+" "+Gt[C].objectNumber+" 0 R");bn.publish("putShadingPatternDict"),ue(">>")}},ht=function(C){if(Object.keys(Gt).length>0){for(var B in ue("/Pattern <<"),Gt)Gt.hasOwnProperty(B)&&Gt[B]instanceof x.TilingPattern&&Gt[B].objectNumber>=0&&Gt[B].objectNumber<C&&ue("/"+B+" "+Gt[B].objectNumber+" 0 R");bn.publish("putTilingPatternDict"),ue(">>")}},yt=function(){if(Object.keys(ei).length>0){var C;for(C in ue("/ExtGState <<"),ei)ei.hasOwnProperty(C)&&ei[C].objectNumber>=0&&ue("/"+C+" "+ei[C].objectNumber+" 0 R");bn.publish("putGStateDict"),ue(">>")}},Bt=function(C){Si(C.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Qr(),Js(),ht(C.objectOid),yt(),Fs(),ue(">>"),ue("endobj")},pt=function(){var C=[];qi(),jr(),Hr(),Pr(C),bn.publish("putResources"),C.forEach(Bt),Bt({resourcesOid:xr,objectOid:Number.MAX_SAFE_INTEGER}),bn.publish("postPutResources")},mi=function(){bn.publish("putAdditionalObjects");for(var C=0;C<$e.length;C++){var B=$e[C];Si(B.objId,!0),ue(B.content),ue("endobj")}bn.publish("postPutAdditionalObjects")},un=function(C){gn[C.fontName]=gn[C.fontName]||{},gn[C.fontName][C.fontStyle]=C.id},cn=function(C,B,oe,ge,Ee){var Be={id:"F"+(Object.keys(tn).length+1).toString(10),postScriptName:C,fontName:B,fontStyle:oe,encoding:ge,isStandardFont:Ee||!1,metadata:{}};return bn.publish("addFont",{font:Be,instance:this}),tn[Be.id]=Be,un(Be),Be.id},es=function(C){for(var B=0,oe=Je.length;B<oe;B++){var ge=cn.call(this,C[B][0],C[B][1],C[B][2],Je[B][3],!0);y===!1&&(b[ge]=!0);var Ee=C[B][0].split("-");un({id:ge,fontName:Ee[0],fontStyle:Ee[1]||""})}bn.publish("addFonts",{fonts:tn,dictionary:gn})},Qi=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(ge){var B=ge.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var oe="Error in function "+B.split(`
`)[0].split("<")[0]+": "+ge.message;if(!Zt.console)throw new Error(oe);Zt.console.error(oe,ge),Zt.alert&&alert(oe)}},C.foo.bar=C,C.foo},br=function(C,B){var oe,ge,Ee,Be,Qe,dt,Nt,an,en;if(Ee=(B=B||{}).sourceEncoding||"Unicode",Qe=B.outputEncoding,(B.autoencode||Qe)&&tn[Ht].metadata&&tn[Ht].metadata[Ee]&&tn[Ht].metadata[Ee].encoding&&(Be=tn[Ht].metadata[Ee].encoding,!Qe&&tn[Ht].encoding&&(Qe=tn[Ht].encoding),!Qe&&Be.codePages&&(Qe=Be.codePages[0]),typeof Qe=="string"&&(Qe=Be[Qe]),Qe)){for(Nt=!1,dt=[],oe=0,ge=C.length;oe<ge;oe++)(an=Qe[C.charCodeAt(oe)])?dt.push(String.fromCharCode(an)):dt.push(C[oe]),dt[oe].charCodeAt(0)>>8&&(Nt=!0);C=dt.join("")}for(oe=C.length;Nt===void 0&&oe!==0;)C.charCodeAt(oe-1)>>8&&(Nt=!0),oe--;if(!Nt)return C;for(dt=B.noBOM?[]:[254,255],oe=0,ge=C.length;oe<ge;oe++){if((en=(an=C.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dt.push(en),dt.push(an-(en<<8))}return String.fromCharCode.apply(void 0,dt)},Pn=x.__private__.pdfEscape=x.pdfEscape=function(C,B){return br(C,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wr=x.__private__.beginPage=function(C){Ye[++ni]=[],Ft[ni]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},Di(ni),Fe(Ye[W])},Sn=function(C,B){var oe,ge,Ee;switch(t=B||t,typeof C=="string"&&(oe=k(C.toLowerCase()),Array.isArray(oe)&&(ge=oe[0],Ee=oe[1])),Array.isArray(C)&&(ge=C[0]*Ke,Ee=C[1]*Ke),isNaN(ge)&&(ge=r[0],Ee=r[1]),(ge>14400||Ee>14400)&&(vi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ee=Math.min(14400,Ee)),r=[ge,Ee],t.substr(0,1)){case"l":Ee>ge&&(r=[Ee,ge]);break;case"p":ge>Ee&&(r=[Ee,ge])}wr(r),jn(zn),ue(us),Yu!==0&&ue(Yu+" J"),Kl!==0&&ue(Kl+" j"),bn.publish("addPage",{pageNumber:ni})},Ai=function(C){C>0&&C<=ni&&(Ye.splice(C,1),Ft.splice(C,1),ni--,W>ni&&(W=ni),this.setPage(W))},Di=function(C){C>0&&C<=ni&&(W=C)},Ti=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Ye.length-1},go=function(C,B,oe){var ge,Ee=void 0;return oe=oe||{},C=C!==void 0?C:tn[Ht].fontName,B=B!==void 0?B:tn[Ht].fontStyle,ge=C.toLowerCase(),gn[ge]!==void 0&&gn[ge][B]!==void 0?Ee=gn[ge][B]:gn[C]!==void 0&&gn[C][B]!==void 0?Ee=gn[C][B]:oe.disableWarning===!1&&vi.warn("Unable to look up font label for font '"+C+"', '"+B+"'. Refer to getFontList() for available fonts."),Ee||oe.noFallback||(Ee=gn.times[B])==null&&(Ee=gn.times.normal),Ee},Zs=x.__private__.putInfo=function(){var C=On(),B=function(ge){return ge};for(var oe in h!==null&&(B=Ne.encryptor(C,0)),ue("<<"),ue("/Producer ("+Pn(B("jsPDF "+Yt.version))+")"),vt)vt.hasOwnProperty(oe)&&vt[oe]&&ue("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+Pn(B(vt[oe]))+")");ue("/CreationDate ("+Pn(B(me))+")"),ue(">>"),ue("endobj")},Ba=x.__private__.putCatalog=function(C){var B=(C=C||{}).rootDictionaryObjId||li;switch(On(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+B+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+rt;oe.substr(oe.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+le(rt)+"]")}switch(It||(It="continuous"),It){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}Et&&ue("/PageMode /"+Et),bn.publish("putCatalog"),ue(">>"),ue("endobj")},ql=x.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(se+1)),ue("/Root "+se+" 0 R"),ue("/Info "+(se-1)+" 0 R"),h!==null&&ue("/Encrypt "+Ne.oid+" 0 R"),ue("/ID [ <"+te+"> <"+te+"> ]"),ue(">>")},Hl=x.__private__.putHeader=function(){ue("%PDF-"+N),ue("%")},nl=x.__private__.putXRef=function(){var C="0000000000";ue("xref"),ue("0 "+(se+1)),ue("0000000000 65535 f ");for(var B=1;B<=se;B++)typeof xe[B]=="function"?ue((C+xe[B]()).slice(-10)+" 00000 n "):xe[B]!==void 0?ue((C+xe[B]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},ts=x.__private__.buildDocument=function(){xt(),Fe(pe),bn.publish("buildDocument"),Hl(),Ds(),mi(),pt(),h!==null&&Fa(),Zs(),Ba();var C=Te;return nl(),ql(),ue("startxref"),ue(""+C),ue("%%EOF"),Fe(Ye[W]),pe.join(`
`)},yo=x.__private__.getBlob=function(C){return new Blob([nt(C)],{type:"application/pdf"})},Xs=x.output=x.__private__.output=Qi(function(C,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",C){case void 0:return ts();case"save":x.save(B.filename);break;case"arraybuffer":return nt(ts());case"blob":return yo(ts());case"bloburi":case"bloburl":if(Zt.URL!==void 0&&typeof Zt.URL.createObjectURL=="function")return Zt.URL&&Zt.URL.createObjectURL(yo(ts()))||void 0;vi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",ge=ts();try{oe=U1(ge)}catch{oe=U1(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+B.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Zt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(Ee=B.pdfObjectUrl,Be="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",dt=Zt.open();return dt!==null&&dt.document.write(Qe),dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Zt)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',an=Zt.open();if(an!==null){an.document.write(Nt);var en=this;an.document.documentElement.querySelector("#pdfViewer").onload=function(){an.document.title=B.filename,an.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(en.output("bloburl"))}}return an}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',Ci=Zt.open();if(Ci!==null&&(Ci.document.write(Cn),Ci.document.title=B.filename),Ci||typeof safari>"u")return Ci;break;case"datauri":case"dataurl":return Zt.document.location.href=this.output("datauristring",B);default:return null}}),_e=function(C){return Array.isArray(or)===!0&&or.indexOf(C)>-1};switch(i){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=_e("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ke=i}var Ne=null;ye(),ne();var Xe=function(C){return h!==null?Ne.encryptor(C,0):function(B){return B}},Ze=x.__private__.getPageInfo=x.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[C].objId,pageNumber:C,pageContext:Ft[C]}},Re=x.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in Ft)if(Ft[B].objId===C)break;return Ze(B)},ft=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Ft[W].objId,pageNumber:W,pageContext:Ft[W]}};x.addPage=function(){return Sn.apply(this,arguments),this},x.setPage=function(){return Di.apply(this,arguments),Fe.call(this,Ye[W]),this},x.insertPage=function(C){return this.addPage(),this.movePage(W,C),this},x.movePage=function(C,B){var oe,ge;if(C>B){oe=Ye[C],ge=Ft[C];for(var Ee=C;Ee>B;Ee--)Ye[Ee]=Ye[Ee-1],Ft[Ee]=Ft[Ee-1];Ye[B]=oe,Ft[B]=ge,this.setPage(B)}else if(C<B){oe=Ye[C],ge=Ft[C];for(var Be=C;Be<B;Be++)Ye[Be]=Ye[Be+1],Ft[Be]=Ft[Be+1];Ye[B]=oe,Ft[B]=ge,this.setPage(B)}return this},x.deletePage=function(){return Ai.apply(this,arguments),this},x.__private__.text=x.text=function(C,B,oe,ge,Ee){var Be,Qe,dt,Nt,an,en,Cn,Ci,Oi,tr=(ge=ge||{}).scope||this;if(typeof C=="number"&&typeof B=="number"&&(typeof oe=="string"||Array.isArray(oe))){var nr=oe;oe=B,B=C,C=nr}if(arguments[3]instanceof at?(V("The transform parameter of text() with a Matrix value"),Oi=Ee):(dt=arguments[4],Nt=arguments[5],oi(Cn=arguments[3])==="object"&&Cn!==null||(typeof dt=="string"&&(Nt=dt,dt=null),typeof Cn=="string"&&(Nt=Cn,Cn=null),typeof Cn=="number"&&(dt=Cn,Cn=null),ge={flags:Cn,angle:dt,align:Nt})),isNaN(B)||isNaN(oe)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return tr;var Rr="",ea=!1,Ns=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Wt,ta=tr.internal.scaleFactor;function Xu(wn){return wn=wn.split("	").join(Array(ge.TabLen||9).join(" ")),Pn(wn,Cn)}function za(wn){for(var _n,ci=wn.concat(),ir=[],zs=ci.length;zs--;)typeof(_n=ci.shift())=="string"?ir.push(_n):Array.isArray(wn)&&(_n.length===1||_n[1]===void 0&&_n[2]===void 0)?ir.push(_n[0]):ir.push([_n[0],_n[1],_n[2]]);return ir}function ja(wn,_n){var ci;if(typeof wn=="string")ci=_n(wn)[0];else if(Array.isArray(wn)){for(var ir,zs,Eo=wn.concat(),ko=[],qa=Eo.length;qa--;)typeof(ir=Eo.shift())=="string"?ko.push(_n(ir)[0]):Array.isArray(ir)&&typeof ir[0]=="string"&&(zs=_n(ir[0],ir[1],ir[2]),ko.push([zs[0],zs[1],zs[2]]));ci=ko}return ci}var Xl=!1,xo=!0;if(typeof C=="string")Xl=!0;else if(Array.isArray(C)){var Ql=C.concat();Qe=[];for(var sl,_r=Ql.length;_r--;)(typeof(sl=Ql.shift())!="string"||Array.isArray(sl)&&typeof sl[0]!="string")&&(xo=!1);Xl=xo}if(Xl===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var bo=it/tr.internal.scaleFactor,al=bo*(Ns-1);switch(ge.baseline){case"bottom":oe-=al;break;case"top":oe+=bo-al;break;case"hanging":oe+=bo-2*al;break;case"middle":oe+=bo/2-al}if((en=ge.maxWidth||0)>0&&(typeof C=="string"?C=tr.splitTextToSize(C,en):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(wn,_n){return wn.concat(tr.splitTextToSize(_n,en))},[]))),Be={text:C,x:B,y:oe,options:ge,mutex:{pdfEscape:Pn,activeFontKey:Ht,fonts:tn,activeFontSize:it}},bn.publish("preProcessText",Be),C=Be.text,dt=(ge=Be.options).angle,!(Oi instanceof at)&&dt&&typeof dt=="number"){dt*=Math.PI/180,ge.rotationDirection===0&&(dt=-dt),O===P.ADVANCED&&(dt=-dt);var ol=Math.cos(dt),eu=Math.sin(dt);Oi=new at(ol,eu,-eu,ol,0,0)}else dt&&dt instanceof at&&(Oi=dt);O!==P.ADVANCED||Oi||(Oi=Gn),(an=ge.charSpace||Wl)!==void 0&&(Rr+=Q(G(an))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ci=ge.horizontalScale)!==void 0&&(Rr+=Q(100*Ci)+` Tz
`),ge.lang;var cs=-1,dd=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Qu=tr.internal.getCurrentPageInfo().pageContext;switch(dd){case 0:case!1:case"fill":cs=0;break;case 1:case!0:case"stroke":cs=1;break;case 2:case"fillThenStroke":cs=2;break;case 3:case"invisible":cs=3;break;case 4:case"fillAndAddForClipping":cs=4;break;case 5:case"strokeAndAddPathForClipping":cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":cs=6;break;case 7:case"addToPathForClipping":cs=7}var $c=Qu.usedRenderingMode!==void 0?Qu.usedRenderingMode:-1;cs!==-1?Rr+=cs+` Tr
`:$c!==-1&&(Rr+=`0 Tr
`),cs!==-1&&(Qu.usedRenderingMode=cs),Nt=ge.align||"left";var Bs,Dr=it*Ns,wo=tr.internal.pageSize.getWidth(),ec=tn[Ht];an=ge.charSpace||Wl,en=ge.maxWidth||0,Cn=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Ua=[],_o=function(wn){return tr.getStringUnitWidth(wn,{font:ec,charSpace:an,fontSize:it,doKerning:!1})*it/ta};if(Object.prototype.toString.call(C)==="[object Array]"){var ns;Qe=za(C),Nt!=="left"&&(Bs=Qe.map(_o));var Ur,So=0;if(Nt==="right"){B-=Bs[0],C=[],_r=Qe.length;for(var fs=0;fs<_r;fs++)fs===0?(Ur=Hi(B),ns=Cs(oe)):(Ur=G(So-Bs[fs]),ns=-Dr),C.push([Qe[fs],Ur,ns]),So=Bs[fs]}else if(Nt==="center"){B-=Bs[0]/2,C=[],_r=Qe.length;for(var na=0;na<_r;na++)na===0?(Ur=Hi(B),ns=Cs(oe)):(Ur=G((So-Bs[na])/2),ns=-Dr),C.push([Qe[na],Ur,ns]),So=Bs[na]}else if(Nt==="left"){C=[],_r=Qe.length;for(var xa=0;xa<_r;xa++)C.push(Qe[xa])}else if(Nt==="justify"&&ec.encoding==="Identity-H"){C=[],_r=Qe.length,en=en!==0?en:wo;for(var ia=0,Gi=0;Gi<_r;Gi++)if(ns=Gi===0?Cs(oe):-Dr,Ur=Gi===0?Hi(B):ia,Gi<_r-1){var ra=G((en-Bs[Gi])/(Qe[Gi].split(" ").length-1)),fr=Qe[Gi].split(" ");C.push([fr[0]+" ",Ur,ns]),ia=0;for(var ds=1;ds<fr.length;ds++){var ll=(_o(fr[ds-1]+" "+fr[ds])-_o(fr[ds]))*ta+ra;ds==fr.length-1?C.push([fr[ds],ll,0]):C.push([fr[ds]+" ",ll,0]),ia-=ll}}else C.push([Qe[Gi],Ur,ns]);C.push(["",ia,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],_r=Qe.length,en=en!==0?en:wo,Gi=0;Gi<_r;Gi++)ns=Gi===0?Cs(oe):-Dr,Ur=Gi===0?Hi(B):0,Gi<_r-1?Ua.push(Q(G((en-Bs[Gi])/(Qe[Gi].split(" ").length-1)))):Ua.push(0),C.push([Qe[Gi],Ur,ns])}}var ba=typeof ge.R2L=="boolean"?ge.R2L:ot;ba===!0&&(C=ja(C,function(wn,_n,ci){return[wn.split("").reverse().join(""),_n,ci]})),Be={text:C,x:B,y:oe,options:ge,mutex:{pdfEscape:Pn,activeFontKey:Ht,fonts:tn,activeFontSize:it}},bn.publish("postProcessText",Be),C=Be.text,ea=Be.mutex.isHex||!1;var tu=tn[Ht].encoding;tu!=="WinAnsiEncoding"&&tu!=="StandardEncoding"||(C=ja(C,function(wn,_n,ci){return[Xu(wn),_n,ci]})),Qe=za(C),C=[];for(var Ao,To,Co,ul=0,nu=1,No=Array.isArray(Qe[0])?nu:ul,Va="",cl=function(wn,_n,ci){var ir="";return ci instanceof at?(ci=typeof ge.angle=="number"?yn(ci,new at(1,0,0,1,wn,_n)):yn(new at(1,0,0,1,wn,_n),ci),O===P.ADVANCED&&(ci=yn(new at(1,0,0,-1,0,0),ci)),ir=ci.join(" ")+` Tm
`):ir=Q(wn)+" "+Q(_n)+` Td
`,ir},Wi=0;Wi<Qe.length;Wi++){switch(Va="",No){case nu:Co=(ea?"<":"(")+Qe[Wi][0]+(ea?">":")"),Ao=parseFloat(Qe[Wi][1]),To=parseFloat(Qe[Wi][2]);break;case ul:Co=(ea?"<":"(")+Qe[Wi]+(ea?">":")"),Ao=Hi(B),To=Cs(oe)}Ua!==void 0&&Ua[Wi]!==void 0&&(Va=Ua[Wi]+` Tw
`),Wi===0?C.push(Va+cl(Ao,To,Oi)+Co):No===ul?C.push(Va+Co):No===nu&&C.push(Va+cl(Ao,To,Oi)+Co)}C=No===ul?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Es=`BT
/`;return Es+=Ht+" "+it+` Tf
`,Es+=Q(it*Ns)+` TL
`,Es+=il+`
`,Es+=Rr,Es+=C,ue(Es+="ET"),b[Ht]=!0,tr};var zt=x.__private__.clip=x.clip=function(C){return ue(C==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return zt("evenodd")},x.__private__.discardPath=x.discardPath=function(){return ue("n"),this};var wt=x.__private__.isValidStyle=function(C){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(B=!0),B};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(C){return wt(C)&&(f=C),this};var _t=x.__private__.getStyle=x.getStyle=function(C){var B=f;switch(C){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=C}return B},fn=x.close=function(){return ue("h"),this};x.stroke=function(){return ue("S"),this},x.fill=function(C){return Fn("f",C),this},x.fillEvenOdd=function(C){return Fn("f*",C),this},x.fillStroke=function(C){return Fn("B",C),this},x.fillStrokeEvenOdd=function(C){return Fn("B*",C),this};var Fn=function(C,B){oi(B)==="object"?Ut(B,C):ue(C)},Bn=function(C){C===null||O===P.ADVANCED&&C===void 0||(C=_t(C),ue(C))};function sn(C,B,oe,ge,Ee){var Be=new jf(B||this.boundingBox,oe||this.xStep,ge||this.yStep,this.gState,Ee||this.matrix);Be.stream=this.stream;var Qe=C+"$$"+this.cloneIndex+++"$$";return _i(Qe,Be),Be}var Ut=function(C,B){var oe=As[C.key],ge=Gt[oe];if(ge instanceof Pc)ue("q"),ue(Wn(B)),ge.gState&&x.setGState(ge.gState),ue(C.matrix.toString()+" cm"),ue("/"+oe+" sh"),ue("Q");else if(ge instanceof jf){var Ee=new at(1,0,0,-1,0,vo());C.matrix&&(Ee=Ee.multiply(C.matrix||Gn),oe=sn.call(ge,C.key,C.boundingBox,C.xStep,C.yStep,Ee).id),ue("q"),ue("/Pattern cs"),ue("/"+oe+" scn"),ge.gState&&x.setGState(ge.gState),ue(B),ue("Q")}},Wn=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},gi=x.moveTo=function(C,B){return ue(Q(G(C))+" "+Q(ae(B))+" m"),this},Tn=x.lineTo=function(C,B){return ue(Q(G(C))+" "+Q(ae(B))+" l"),this},Dt=x.curveTo=function(C,B,oe,ge,Ee,Be){return ue([Q(G(C)),Q(ae(B)),Q(G(oe)),Q(ae(ge)),Q(G(Ee)),Q(ae(Be)),"c"].join(" ")),this};x.__private__.line=x.line=function(C,B,oe,ge,Ee){if(isNaN(C)||isNaN(B)||isNaN(oe)||isNaN(ge)||!wt(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return O===P.COMPAT?this.lines([[oe-C,ge-B]],C,B,[1,1],Ee||"S"):this.lines([[oe-C,ge-B]],C,B,[1,1]).stroke()},x.__private__.lines=x.lines=function(C,B,oe,ge,Ee,Be){var Qe,dt,Nt,an,en,Cn,Ci,Oi,tr,nr,Rr,ea;if(typeof C=="number"&&(ea=oe,oe=B,B=C,C=ea),ge=ge||[1,1],Be=Be||!1,isNaN(B)||isNaN(oe)||!Array.isArray(C)||!Array.isArray(ge)||!wt(Ee)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gi(B,oe),Qe=ge[0],dt=ge[1],an=C.length,nr=B,Rr=oe,Nt=0;Nt<an;Nt++)(en=C[Nt]).length===2?(nr=en[0]*Qe+nr,Rr=en[1]*dt+Rr,Tn(nr,Rr)):(Cn=en[0]*Qe+nr,Ci=en[1]*dt+Rr,Oi=en[2]*Qe+nr,tr=en[3]*dt+Rr,nr=en[4]*Qe+nr,Rr=en[5]*dt+Rr,Dt(Cn,Ci,Oi,tr,nr,Rr));return Be&&fn(),Bn(Ee),this},x.path=function(C){for(var B=0;B<C.length;B++){var oe=C[B],ge=oe.c;switch(oe.op){case"m":gi(ge[0],ge[1]);break;case"l":Tn(ge[0],ge[1]);break;case"c":Dt.apply(this,ge);break;case"h":fn()}}return this},x.__private__.rect=x.rect=function(C,B,oe,ge,Ee){if(isNaN(C)||isNaN(B)||isNaN(oe)||isNaN(ge)||!wt(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return O===P.COMPAT&&(ge=-ge),ue([Q(G(C)),Q(ae(B)),Q(G(oe)),Q(G(ge)),"re"].join(" ")),Bn(Ee),this},x.__private__.triangle=x.triangle=function(C,B,oe,ge,Ee,Be,Qe){if(isNaN(C)||isNaN(B)||isNaN(oe)||isNaN(ge)||isNaN(Ee)||isNaN(Be)||!wt(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-C,ge-B],[Ee-oe,Be-ge],[C-Ee,B-Be]],C,B,[1,1],Qe,!0),this},x.__private__.roundedRect=x.roundedRect=function(C,B,oe,ge,Ee,Be,Qe){if(isNaN(C)||isNaN(B)||isNaN(oe)||isNaN(ge)||isNaN(Ee)||isNaN(Be)||!wt(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*oe),Be=Math.min(Be,.5*ge),this.lines([[oe-2*Ee,0],[Ee*dt,0,Ee,Be-Be*dt,Ee,Be],[0,ge-2*Be],[0,Be*dt,-Ee*dt,Be,-Ee,Be],[2*Ee-oe,0],[-Ee*dt,0,-Ee,-Be*dt,-Ee,-Be],[0,2*Be-ge],[0,-Be*dt,Ee*dt,-Be,Ee,-Be]],C+Ee,B,[1,1],Qe,!0),this},x.__private__.ellipse=x.ellipse=function(C,B,oe,ge,Ee){if(isNaN(C)||isNaN(B)||isNaN(oe)||isNaN(ge)||!wt(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*oe,Qe=4/3*(Math.SQRT2-1)*ge;return gi(C+oe,B),Dt(C+oe,B-Qe,C+Be,B-ge,C,B-ge),Dt(C-Be,B-ge,C-oe,B-Qe,C-oe,B),Dt(C-oe,B+Qe,C-Be,B+ge,C,B+ge),Dt(C+Be,B+ge,C+oe,B+Qe,C+oe,B),Bn(Ee),this},x.__private__.circle=x.circle=function(C,B,oe,ge){if(isNaN(C)||isNaN(B)||isNaN(oe)||!wt(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,B,oe,oe,ge)},x.setFont=function(C,B,oe){return oe&&(B=Z(B,oe)),Ht=go(C,B,{disableWarning:!1}),this};var St=x.__private__.getFont=x.getFont=function(){return tn[go.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var C,B,oe={};for(C in gn)if(gn.hasOwnProperty(C))for(B in oe[C]=[],gn[C])gn[C].hasOwnProperty(B)&&oe[C].push(B);return oe},x.addFont=function(C,B,oe,ge,Ee){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(oe=Z(oe,ge)),Ee=Ee||"Identity-H",cn.call(this,C,B,oe,Ee)};var Wt,zn=n.lineWidth||.200025,Kn=x.__private__.getLineWidth=x.getLineWidth=function(){return zn},jn=x.__private__.setLineWidth=x.setLineWidth=function(C){return zn=C,ue(Q(G(C))+" w"),this};x.__private__.setLineDash=Yt.API.setLineDash=Yt.API.setLineDashPattern=function(C,B){if(C=C||[],B=B||0,isNaN(B)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(oe){return Q(G(oe))}).join(" "),B=Q(G(B)),ue("["+C+"] "+B+" d"),this};var Ii=x.__private__.getLineHeight=x.getLineHeight=function(){return it*Wt};x.__private__.getLineHeight=x.getLineHeight=function(){return it*Wt};var Yn=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Wt=C),this},er=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Wt};Yn(n.lineHeight);var Hi=x.__private__.getHorizontalCoordinate=function(C){return G(C)},Cs=x.__private__.getVerticalCoordinate=function(C){return O===P.ADVANCED?C:Ft[W].mediaBox.topRightY-Ft[W].mediaBox.bottomLeftY-G(C)},Gl=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(C){return Q(Hi(C))},Qs=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(C){return Q(Cs(C))},us=n.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Ri(us)},x.__private__.setStrokeColor=x.setDrawColor=function(C,B,oe,ge){return us=lr({ch1:C,ch2:B,ch3:oe,ch4:ge,pdfColorType:"draw",precision:2}),ue(us),this};var va=n.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Ri(va)},x.__private__.setFillColor=x.setFillColor=function(C,B,oe,ge){return va=lr({ch1:C,ch2:B,ch3:oe,ch4:ge,pdfColorType:"fill",precision:2}),ue(va),this};var il=n.textColor||"0 g",ud=x.__private__.getTextColor=x.getTextColor=function(){return Ri(il)};x.__private__.setTextColor=x.setTextColor=function(C,B,oe,ge){return il=lr({ch1:C,ch2:B,ch3:oe,ch4:ge,pdfColorType:"text",precision:3}),this};var Wl=n.charSpace,cd=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Wl||0)};x.__private__.setCharSpace=x.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wl=C,this};var Yu=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(C){var B=x.CapJoinStyles[C];if(B===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yu=B,ue(B+" J"),this};var Kl=0;x.__private__.setLineJoin=x.setLineJoin=function(C){var B=x.CapJoinStyles[C];if(B===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kl=B,ue(B+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(Q(G(C))+" M"),this},x.GState=Km,x.setGState=function(C){(C=typeof C=="string"?ei[vr[C]]:Yc(null,C)).equals(bi)||(ue("/"+C.id+" gs"),bi=C)};var Yc=function(C,B){if(!C||!vr[C]){var oe=!1;for(var ge in ei)if(ei.hasOwnProperty(ge)&&ei[ge].equals(B)){oe=!0;break}if(oe)B=ei[ge];else{var Ee="GS"+(Object.keys(ei).length+1).toString(10);ei[Ee]=B,B.id=Ee}return C&&(vr[C]=B.id),bn.publish("addGState",B),B}};x.addGState=function(C,B){return Yc(C,B),this},x.saveGraphicsState=function(){return ue("q"),Li.push({key:Ht,size:it,color:il}),this},x.restoreGraphicsState=function(){ue("Q");var C=Li.pop();return Ht=C.key,it=C.size,il=C.color,bi=null,this},x.setCurrentTransformationMatrix=function(C){return ue(C.toString()+" cm"),this},x.comment=function(C){return ue("#"+C),this};var Yl=function(C,B){var oe=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Be){isNaN(Be)||(oe=parseFloat(Be))}});var ge=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Be){isNaN(Be)||(ge=parseFloat(Be))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Be){Ee=Be.toString()}}),this},$u=function(C,B,oe,ge){Yl.call(this,C,B),this.type="rect";var Ee=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Qe){isNaN(Qe)||(Ee=parseFloat(Qe))}});var Be=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Qe){isNaN(Qe)||(Be=parseFloat(Qe))}}),this},Ju=function(){this.page=ni,this.currentPage=W,this.pages=Ye.slice(0),this.pagesContext=Ft.slice(0),this.x=Vt,this.y=Pt,this.matrix=hi,this.width=rl(W),this.height=vo(W),this.outputDestination=tt,this.id="",this.objectNumber=-1};Ju.prototype.restore=function(){ni=this.page,W=this.currentPage,Ft=this.pagesContext,Ye=this.pages,Vt=this.x,Pt=this.y,hi=this.matrix,Zl(W,this.width),Zu(W,this.height),tt=this.outputDestination};var $l=function(C,B,oe,ge,Ee){Xr.push(new Ju),ni=W=0,Ye=[],Vt=C,Pt=B,hi=Ee,wr([oe,ge])},fd=function(C){if(Pi[C])Xr.pop().restore();else{var B=new Ju,oe="Xo"+(Object.keys(wi).length+1).toString(10);B.id=oe,Pi[C]=oe,wi[oe]=B,bn.publish("addFormObject",B),Xr.pop().restore()}};for(var Jl in x.beginFormObject=function(C,B,oe,ge,Ee){return $l(C,B,oe,ge,Ee),this},x.endFormObject=function(C){return fd(C),this},x.doFormObject=function(C,B){var oe=wi[Pi[C]];return ue("q"),ue(B.toString()+" cm"),ue("/"+oe.id+" Do"),ue("Q"),this},x.getFormObject=function(C){var B=wi[Pi[C]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},x.save=function(C,B){return C=C||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Ec(yo(ts()),C),typeof Ec.unload=="function"&&Zt.setTimeout&&setTimeout(Ec.unload,911),this):new Promise(function(oe,ge){try{var Ee=Ec(yo(ts()),C);typeof Ec.unload=="function"&&Zt.setTimeout&&setTimeout(Ec.unload,911),oe(Ee)}catch(Be){ge(Be.message)}})},Yt.API)Yt.API.hasOwnProperty(Jl)&&(Jl==="events"&&Yt.API.events.length?function(C,B){var oe,ge,Ee;for(Ee=B.length-1;Ee!==-1;Ee--)oe=B[Ee][0],ge=B[Ee][1],C.subscribe.apply(C,[oe].concat(typeof ge=="function"?[ge]:ge))}(bn,Yt.API.events):x[Jl]=Yt.API[Jl]);var rl=x.getPageWidth=function(C){return(Ft[C=C||W].mediaBox.topRightX-Ft[C].mediaBox.bottomLeftX)/Ke},Zl=x.setPageWidth=function(C,B){Ft[C].mediaBox.topRightX=B*Ke+Ft[C].mediaBox.bottomLeftX},vo=x.getPageHeight=function(C){return(Ft[C=C||W].mediaBox.topRightY-Ft[C].mediaBox.bottomLeftY)/Ke},Zu=x.setPageHeight=function(C,B){Ft[C].mediaBox.topRightY=B*Ke+Ft[C].mediaBox.bottomLeftY};return x.internal={pdfEscape:Pn,getStyle:_t,getFont:St,getFontSize:je,getCharSpace:cd,getTextColor:ud,getLineHeight:Ii,getLineHeightFactor:er,getLineWidth:Kn,write:bt,getHorizontalCoordinate:Hi,getVerticalCoordinate:Cs,getCoordinateString:Gl,getVerticalCoordinateString:Qs,collections:{},newObject:On,newAdditionalObject:Rs,newObjectDeferred:pi,newObjectDeferredBegin:Si,getFilters:ur,putStream:Xi,events:bn,scaleFactor:Ke,pageSize:{getWidth:function(){return rl(W)},setWidth:function(C){Zl(W,C)},getHeight:function(){return vo(W)},setHeight:function(C){Zu(W,C)}},encryptionOptions:h,encryption:Ne,getEncryptor:Xe,output:Xs,getNumberOfPages:Ti,pages:Ye,out:ue,f2:le,f3:z,getPageInfo:Ze,getPageInfoByObjId:Re,getCurrentPageInfo:ft,getPDFVersion:T,Point:Yl,Rectangle:$u,Matrix:at,hasHotfix:_e},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return rl(W)},set:function(C){Zl(W,C)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return vo(W)},set:function(C){Zu(W,C)},enumerable:!0,configurable:!0}),es.call(x,Je),Ht="F1",Sn(r,t),bn.publish("initialized"),x}Df.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Df.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Df.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Df.prototype.processOwnerPassword=function(n,e){return q1(V1(e).substr(0,5),n)},Df.prototype.encryptor=function(n,e){var t=V1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return q1(t,i)}},Km.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||oi(n)!==oi(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Yt.API={events:[]},Yt.version="3.0.1";var gr=Yt.API,L2=1,Gc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ln=function(n){return n.toFixed(2)},ku=function(n){return n.toFixed(5)};gr.__acroform__={};var $s=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Qx=function(n){return n*L2},Vo=function(n){var e=new Q_,t=Tt.internal.getHeight(n)||0,i=Tt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(ln(i)),Number(ln(t))],e},TR=gr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},CR=gr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},NR=gr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Er=gr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return NR(n,e-1)},kr=gr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return TR(n,e-1)},Mr=gr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return CR(n,e-1)},ER=gr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],u=n[3],c={};return c.lowerLeft_X=t(r)||0,c.lowerLeft_Y=i(s+u)||0,c.upperRight_X=t(r+o)||0,c.upperRight_Y=i(s)||0,[Number(ln(c.lowerLeft_X)),Number(ln(c.lowerLeft_Y)),Number(ln(c.upperRight_X)),Number(ln(c.upperRight_Y))]},kR=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=H1(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+ln(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Vo(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},H1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(z){return z.split(`
`)}):r.map(function(z){return[z]});var s=t,o=Tt.internal.getHeight(n)||0;o=o<0?-o:o;var u=Tt.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(z,G,fe){if(z+1<r.length){var ae=G+" "+r[z+1][0];return Xp(ae,n,fe).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var f,h,y=Xp("3",n,s).height,b=n.multiline?o-s:(o-y)/2,x=b+=2,N=0,T=0,M=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xp(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var k="",P=0,O=0;O<r.length;O++)if(r.hasOwnProperty(O)){var $=!1;if(r[O].length!==1&&M!==r[O].length-1){if((y+2)*(P+2)+2>o)continue e;k+=r[O][M],$=!0,T=O,O--}else{k=(k+=r[O][M]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var q=parseInt(O),Z=c(q,k,s),Q=O>=r.length-1;if(Z&&!Q){k+=" ",M=0;continue}if(Z||Q){if(Q)T=q;else if(n.multiline&&(y+2)*(P+2)+2>o)continue e}else{if(!n.multiline||(y+2)*(P+2)+2>o)continue e;T=q}}for(var V="",X=N;X<=T;X++){var le=r[X];if(n.multiline){if(X===T){V+=le[M]+" ",M=(M+1)%le.length;continue}if(X===N){V+=le[le.length-1]+" ";continue}}V+=le[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,h=Xp(V,n,s).width,n.textAlign){case"right":f=u-h-2;break;case"center":f=(u-h)/2;break;case"left":default:f=2}e+=ln(f)+" "+ln(x)+` Td
`,e+="("+Gc(V)+`) Tj
`,e+=-ln(f)+` 0 Td
`,x=-(s+2),h=0,N=$?T:T+1,P++,k=""}break}return i.text=e,i.fontSize=s,i},Xp=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},MR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LR=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},PR=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var i=t,r=n[t];e.internal.newObjectDeferredBegin(r.objId,!0),oi(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},RR=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(po.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(MR)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");L2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new eS,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&LR(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var u=i[o],c=[],f=u.Rect;if(u.Rect&&(u.Rect=ER(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Tt.createDefaultAppearanceStream(u),oi(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var h=kR(u);c.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(u.appearanceStreamContent){var y="";for(var b in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(b)){var x=u.appearanceStreamContent[b];if(y+="/"+b+" ",y+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var o in x)if(x.hasOwnProperty(o)){var N=x[o];typeof N=="function"&&(N=N.call(r,u)),y+="/"+o+" "+N+" ",r.internal.acroformPlugin.xForms.indexOf(N)>=0||r.internal.acroformPlugin.xForms.push(N)}}else typeof(N=x)=="function"&&(N=N.call(r,u)),y+="/"+o+" "+N,r.internal.acroformPlugin.xForms.indexOf(N)>=0||r.internal.acroformPlugin.xForms.push(N);y+=">>"}c.push({key:"AP",value:`<<
`+y+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:u.objId}),r.internal.out("endobj")}s&&PR(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},X_=gr.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),oi(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),r+="("+Gc(i(n[s].toString()))+")"):r+=n[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},G0=function(n,e,t){var i=function(r){return r};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Gc(i(n))+")"},$o=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$o.prototype.toString=function(){return this.objId+" 0 R"},$o.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},$o.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:X_(r,this.objId,this.scope)}):r instanceof $o?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var Q_=function(){$o.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};$s(Q_,$o);var eS=function(){$o.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Gc(t(n))+")"}},set:function(t){n=t}})};$s(eS,$o);var po=function n(){$o.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Er(e,3)},set:function(k){k?this.F=kr(e,3):this.F=Mr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(k){i=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(k){i[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(k){i[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(k){i[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(k){i[3]=k}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ym)return;s="FieldObject"+n.FieldNum++}var k=function(P){return P};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Gc(k(s))+")"},set:function(k){s=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(k){s=k}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(k){o=k}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/L2:f},set:function(k){f=k}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Ym||this instanceof Dc))return G0(y,this.objId,this.scope)},set:function(k){k=k.toString(),y=k}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Jr?b:G0(b,this.objId,this.scope)},set:function(k){k=k.toString(),b=this instanceof Jr?k:k.substr(0,1)==="("?Nf(k.substr(1,k.length-2)):Nf(k)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?Nf(b.substr(1,b.length-1)):b},set:function(k){k=k.toString(),b=this instanceof Jr?"/"+k:k}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Jr?x:G0(x,this.objId,this.scope)},set:function(k){k=k.toString(),x=this instanceof Jr?k:k.substr(0,1)==="("?Nf(k.substr(1,k.length-2)):Nf(k)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?Nf(x.substr(1,x.length-1)):x},set:function(k){k=k.toString(),x=this instanceof Jr?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(k){k=!!k,T=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(k){N=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,1)},set:function(k){k?this.Ff=kr(this.Ff,1):this.Ff=Mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,2)},set:function(k){k?this.Ff=kr(this.Ff,2):this.Ff=Mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,3)},set:function(k){k?this.Ff=kr(this.Ff,3):this.Ff=Mr(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');M=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(M){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};$s(po,$o);var Hf=function(){po.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return X_(e,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=function(s,o,u){u||(u=1);for(var c,f=[];c=o.exec(s);)f.push(c[u]);return f}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,18)},set:function(t){t?this.Ff=kr(this.Ff,18):this.Ff=Mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=kr(this.Ff,19):this.Ff=Mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,20)},set:function(t){t?(this.Ff=kr(this.Ff,20),e.sort()):this.Ff=Mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,22)},set:function(t){t?this.Ff=kr(this.Ff,22):this.Ff=Mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(t){t?this.Ff=kr(this.Ff,23):this.Ff=Mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,27)},set:function(t){t?this.Ff=kr(this.Ff,27):this.Ff=Mr(this.Ff,27)}}),this.hasAppearanceStream=!1};$s(Hf,po);var Gf=function(){Hf.call(this),this.fontName="helvetica",this.combo=!1};$s(Gf,Hf);var Wf=function(){Gf.call(this),this.combo=!0};$s(Wf,Gf);var Am=function(){Wf.call(this),this.edit=!0};$s(Am,Wf);var Jr=function(){po.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,15)},set:function(t){t?this.Ff=kr(this.Ff,15):this.Ff=Mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,16)},set:function(t){t?this.Ff=kr(this.Ff,16):this.Ff=Mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,17)},set:function(t){t?this.Ff=kr(this.Ff,17):this.Ff=Mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(t){t?this.Ff=kr(this.Ff,26):this.Ff=Mr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+Gc(t(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){oi(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};$s(Jr,po);var Tm=function(){Jr.call(this),this.pushButton=!0};$s(Tm,Jr);var Kf=function(){Jr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};$s(Kf,Jr);var Ym=function(){var n,e;po.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+Gc(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){oi(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$s(Ym,po),Kf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Kf.prototype.createOption=function(n){var e=new Ym;return e.Parent=this,e.optionName=n,this.Kids.push(e),DR.call(this.scope,e),e};var Cm=function(){Jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tt.CheckBox.createAppearanceStream()};$s(Cm,Jr);var Dc=function(){po.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,13)},set:function(e){e?this.Ff=kr(this.Ff,13):this.Ff=Mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,21)},set:function(e){e?this.Ff=kr(this.Ff,21):this.Ff=Mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(e){e?this.Ff=kr(this.Ff,23):this.Ff=Mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,24)},set:function(e){e?this.Ff=kr(this.Ff,24):this.Ff=Mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,25)},set:function(e){e?this.Ff=kr(this.Ff,25):this.Ff=Mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(e){e?this.Ff=kr(this.Ff,26):this.Ff=Mr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$s(Dc,po);var Nm=function(){Dc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,14)},set:function(n){n?this.Ff=kr(this.Ff,14):this.Ff=Mr(this.Ff,14)}}),this.password=!0};$s(Nm,Dc);var Tt={CheckBox:{createAppearanceStream:function(){return{N:{On:Tt.CheckBox.YesNormal},D:{On:Tt.CheckBox.YesPushDown,Off:Tt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=H1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+ln(Tt.internal.getWidth(n))+" "+ln(Tt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+ln(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Vo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=Tt.internal.getHeight(n),o=Tt.internal.getWidth(n),u=H1(n,n.caption);return r.push("1 g"),r.push("0 0 "+ln(o)+" "+ln(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ln(o-1)+" "+ln(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+ln(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ln(Tt.internal.getWidth(n))+" "+ln(Tt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Tt.RadioButton.Circle.YesNormal,e.D[n]=Tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Vo(n);e.scope=n.scope;var t=[],i=Tt.internal.getWidth(n)<=Tt.internal.getHeight(n)?Tt.internal.getWidth(n)/4:Tt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Tt.internal.Bezier_C,s=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ku(Tt.internal.getWidth(n)/2)+" "+ku(Tt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=[],i=Tt.internal.getWidth(n)<=Tt.internal.getHeight(n)?Tt.internal.getWidth(n)/4:Tt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Tt.internal.Bezier_C).toFixed(5)),o=Number((i*Tt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ku(Tt.internal.getWidth(n)/2)+" "+ku(Tt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ku(Tt.internal.getWidth(n)/2)+" "+ku(Tt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=[],i=Tt.internal.getWidth(n)<=Tt.internal.getHeight(n)?Tt.internal.getWidth(n)/4:Tt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Tt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ku(Tt.internal.getWidth(n)/2)+" "+ku(Tt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Tt.RadioButton.Cross.YesNormal,e.D[n]=Tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Vo(n);e.scope=n.scope;var t=[],i=Tt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+ln(Tt.internal.getWidth(n)-2)+" "+ln(Tt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(ln(i.x1.x)+" "+ln(i.x1.y)+" m"),t.push(ln(i.x2.x)+" "+ln(i.x2.y)+" l"),t.push(ln(i.x4.x)+" "+ln(i.x4.y)+" m"),t.push(ln(i.x3.x)+" "+ln(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=Tt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+ln(Tt.internal.getWidth(n))+" "+ln(Tt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+ln(Tt.internal.getWidth(n)-2)+" "+ln(Tt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(ln(t.x1.x)+" "+ln(t.x1.y)+" m"),i.push(ln(t.x2.x)+" "+ln(t.x2.y)+" l"),i.push(ln(t.x4.x)+" "+ln(t.x4.y)+" m"),i.push(ln(t.x3.x)+" "+ln(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ln(Tt.internal.getWidth(n))+" "+ln(Tt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Tt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Tt.internal.getWidth(n),t=Tt.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},Tt.internal.getWidth=function(n){var e=0;return oi(n)==="object"&&(e=Qx(n.Rect[2])),e},Tt.internal.getHeight=function(n){var e=0;return oi(n)==="object"&&(e=Qx(n.Rect[3])),e};var DR=gr.addField=function(n){if(RR(this,n),!(n instanceof po))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};gr.AcroFormChoiceField=Hf,gr.AcroFormListBox=Gf,gr.AcroFormComboBox=Wf,gr.AcroFormEditBox=Am,gr.AcroFormButton=Jr,gr.AcroFormPushButton=Tm,gr.AcroFormRadioButton=Kf,gr.AcroFormCheckBox=Cm,gr.AcroFormTextField=Dc,gr.AcroFormPasswordField=Nm,gr.AcroFormAppearance=Tt,gr.AcroForm={ChoiceField:Hf,ListBox:Gf,ComboBox:Wf,EditBox:Am,Button:Jr,PushButton:Tm,RadioButton:Kf,CheckBox:Cm,TextField:Dc,PasswordField:Nm,Appearance:Tt},Yt.AcroForm={ChoiceField:Hf,ListBox:Gf,ComboBox:Wf,EditBox:Am,Button:Jr,PushButton:Tm,RadioButton:Kf,CheckBox:Cm,TextField:Dc,PasswordField:Nm,Appearance:Tt};Yt.AcroForm;function tS(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(z,G){var fe,ae,me,te,ce,ne=e;if((G=G||e)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(Z(z))for(ce in t)for(me=t[ce],fe=0;fe<me.length;fe+=1){for(te=!0,ae=0;ae<me[fe].length;ae+=1)if(me[fe][ae]!==void 0&&me[fe][ae]!==z[ae]){te=!1;break}if(te===!0){ne=ce;break}}else for(ce in t)for(me=t[ce],fe=0;fe<me.length;fe+=1){for(te=!0,ae=0;ae<me[fe].length;ae+=1)if(me[fe][ae]!==void 0&&me[fe][ae]!==z.charCodeAt(ae)){te=!1;break}if(te===!0){ne=ce;break}}return ne===e&&G!==e&&(ne=G),ne},r=function z(G){for(var fe=this.internal.write,ae=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:G.width}),te.push({key:"Height",value:G.height}),G.colorSpace===M.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===M.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var ce="",ne=0,de=G.transparency.length;ne<de;ne++)ce+=G.transparency[ne]+" "+G.transparency[ne]+" ";te.push({key:"Mask",value:"["+ce+"]"})}G.sMask!==void 0&&te.push({key:"SMask",value:G.objectId+1+" 0 R"});var D=G.filter!==void 0?["/"+G.filter]:void 0;if(ae({data:G.data,additionalKeyValues:te,alreadyAppliedFilters:D,objectId:G.objectId}),fe("endobj"),"sMask"in G&&G.sMask!==void 0){var ye="/Predictor "+G.predictor+" /Colors 1 /BitsPerComponent "+G.bitsPerComponent+" /Columns "+G.width,R={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:ye,data:G.sMask};"filter"in G&&(R.filter=G.filter),z.call(this,R)}if(G.colorSpace===M.INDEXED){var W=this.internal.newObject();ae({data:V(new Uint8Array(G.palette)),objectId:W}),fe("endobj")}},s=function(){var z=this.internal.collections.addImage_images;for(var G in z)r.call(this,z[G])},o=function(){var z,G=this.internal.collections.addImage_images,fe=this.internal.write;for(var ae in G)fe("/I"+(z=G[ae]).index,z.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var z=this.internal.collections.addImage_images;return u.call(this),z},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(z){return typeof n["process"+z.toUpperCase()]=="function"},y=function(z){return oi(z)==="object"&&z.nodeType===1},b=function(z,G){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var fe=""+z.getAttribute("src");if(fe.indexOf("data:image/")===0)return bh(unescape(fe).split("base64,").pop());var ae=n.loadFile(fe,!0);if(ae!==void 0)return ae}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var me;switch(G){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;case"JPEG":case"JPG":default:me="image/jpeg"}return bh(z.toDataURL(me,1).split("base64,").pop())}},x=function(z){var G=this.internal.collections.addImage_images;if(G){for(var fe in G)if(z===G[fe].alias)return G[fe]}},N=function(z,G,fe){return z||G||(z=-96,G=-96),z<0&&(z=-1*fe.width*72/z/this.internal.scaleFactor),G<0&&(G=-1*fe.height*72/G/this.internal.scaleFactor),z===0&&(z=G*fe.width/fe.height),G===0&&(G=z*fe.height/fe.width),[z,G]},T=function(z,G,fe,ae,me,te){var ce=N.call(this,fe,ae,me),ne=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,D=c.call(this);if(fe=ce[0],ae=ce[1],D[me.index]=me,te){te*=Math.PI/180;var ye=Math.cos(te),R=Math.sin(te),W=function(re){return re.toFixed(4)},j=[W(ye),W(R),W(-1*R),W(ye),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,ne(z),de(G+ae),"cm"].join(" ")),this.internal.write(j.join(" ")),this.internal.write([ne(fe),"0","0",ne(ae),"0","0","cm"].join(" "))):this.internal.write([ne(fe),"0","0",ne(ae),ne(z),de(G+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},M=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=n.__addimage__.sHashCode=function(z){var G,fe,ae=0;if(typeof z=="string")for(fe=z.length,G=0;G<fe;G++)ae=(ae<<5)-ae+z.charCodeAt(G),ae|=0;else if(Z(z))for(fe=z.byteLength/2,G=0;G<fe;G++)ae=(ae<<5)-ae+z[G],ae|=0;return ae},O=n.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var G=!0;return z.length===0&&(G=!1),z.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(G=!1),G},$=n.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var G=z.indexOf(",");return G<0?null:z.substring(0,G).trim().endsWith("base64")?z.substring(G+1):null},q=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(z){return q()&&z instanceof ArrayBuffer};var Z=n.__addimage__.isArrayBufferView=function(z){return q()&&typeof Uint32Array<"u"&&(z instanceof Int8Array||z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array)},Q=n.__addimage__.binaryStringToUint8Array=function(z){for(var G=z.length,fe=new Uint8Array(G),ae=0;ae<G;ae++)fe[ae]=z.charCodeAt(ae);return fe},V=n.__addimage__.arrayBufferToBinaryString=function(z){for(var G="",fe=Z(z)?z:new Uint8Array(z),ae=0;ae<fe.length;ae+=8192)G+=String.fromCharCode.apply(null,fe.subarray(ae,ae+8192));return G};n.addImage=function(){var z,G,fe,ae,me,te,ce,ne,de;if(typeof arguments[1]=="number"?(G=e,fe=arguments[1],ae=arguments[2],me=arguments[3],te=arguments[4],ce=arguments[5],ne=arguments[6],de=arguments[7]):(G=arguments[1],fe=arguments[2],ae=arguments[3],me=arguments[4],te=arguments[5],ce=arguments[6],ne=arguments[7],de=arguments[8]),oi(z=arguments[0])==="object"&&!y(z)&&"imageData"in z){var D=z;z=D.imageData,G=D.format||G||e,fe=D.x||fe||0,ae=D.y||ae||0,me=D.w||D.width||me,te=D.h||D.height||te,ce=D.alias||ce,ne=D.compression||ne,de=D.rotation||D.angle||de}var ye=this.internal.getFilters();if(ne===void 0&&ye.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(fe)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var R=X.call(this,z,G,ce,ne);return T.call(this,fe,ae,me,te,R,de),this};var X=function(z,G,fe,ae){var me,te,ce;if(typeof z=="string"&&i(z)===e){z=unescape(z);var ne=le(z,!1);(ne!==""||(ne=n.loadFile(z,!0))!==void 0)&&(z=ne)}if(y(z)&&(z=b(z,G)),G=i(z,G),!h(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((ce=fe)==null||ce.length===0)&&(fe=function(de){return typeof de=="string"||Z(de)?P(de):Z(de.data)?P(de.data):null}(z)),(me=x.call(this,fe))||(q()&&(z instanceof Uint8Array||G==="RGBA"||(te=z,z=Q(z))),me=this["process"+G.toUpperCase()](z,f.call(this),fe,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in n.image_compression?de:k.NONE}(ae),te)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},le=n.__addimage__.convertBase64ToBinaryString=function(z,G){G=typeof G!="boolean"||G;var fe,ae="";if(typeof z=="string"){var me;fe=(me=$(z))!==null&&me!==void 0?me:z;try{ae=bh(fe)}catch(te){if(G)throw O(fe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};n.getImageProperties=function(z){var G,fe,ae="";if(y(z)&&(z=b(z)),typeof z=="string"&&i(z)===e&&((ae=le(z,!1))===""&&(ae=n.loadFile(z)||""),z=ae),fe=i(z),!h(fe))throw new Error("addImage does not support files of type '"+fe+"', please ensure that a plugin for '"+fe+"' support is added.");if(!q()||z instanceof Uint8Array||(z=Q(z)),!(G=this["process"+fe.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=fe,G}})(Yt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Yt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,s,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,h=!1,y=0;y<f.length&&!h;y++)switch((i=f[y]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){i=f[b];var x=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(T.objId),P=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+x(k(i.contents))+")",s+=" /Popup "+M.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+x(k(P))+") >>",T.content=s;var O=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+O,i.open&&(s+=" /Open true"),s+=" >>",M.content=s,this.internal.write(T.objId,"0 R",M.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var $=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+x(N(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var q=this.annotations._nameMap[i.options.name];i.options.pageNumber=q.page,i.options.top=q.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+x(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var Z=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+Z+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,s,o){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(t),y:f(i),w:c(t+r),h:f(i+s)},options:o,type:"link"})},n.textWithLink=function(t,i,r,s){var o,u,c=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var h=this.splitTextToSize(t,u).length;o=Math.ceil(f*h)}else u=c,o=f;return this.text(t,i,r,s),r+=.2*f,s.align==="center"&&(i-=c/2),s.align==="right"&&(i-=c),this.link(i,r-f,u,o,s),c},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(Yt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},u=n.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&r.indexOf(T.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(T){var M=0,k=t,P="",O=0;for(M=0;M<T.length;M+=1)k[T.charCodeAt(M)]!==void 0?(O++,typeof(k=k[T.charCodeAt(M)])=="number"&&(P+=String.fromCharCode(k),k=t,O=0),M===T.length-1&&(k=t,P+=T.charAt(M-(O-1)),M-=O-1,O=0)):(k=t,P+=T.charAt(M-O),M-=O,O=0);return P};n.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&i[T.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(T,M,k){return o(T)?s(T)===!1?-1:!f(T)||!o(M)&&!o(k)||!o(k)&&u(M)||u(T)&&!o(M)||u(T)&&c(M)||u(T)&&u(M)?0:h(T)&&o(M)&&!u(M)&&o(k)&&f(k)?3:u(T)||!o(k)?1:2:-1},x=function(T){var M=0,k=0,P=0,O="",$="",q="",Z=(T=T||"").split("\\s+"),Q=[];for(M=0;M<Z.length;M+=1){for(Q.push(""),k=0;k<Z[M].length;k+=1)O=Z[M][k],$=Z[M][k-1],q=Z[M][k+1],o(O)?(P=b(O,$,q),Q[M]+=P!==-1?String.fromCharCode(e[O.charCodeAt(0)][P]):O):Q[M]+=O;Q[M]=y(Q[M])}return Q.join(" ")},N=n.__arabicParser__.processArabic=n.processArabic=function(){var T,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(M)){var P=0;for(k=[],P=0;P<M.length;P+=1)Array.isArray(M[P])?k.push([x(M[P][0]),M[P][1],M[P][2]]):k.push([x(M[P])]);T=k}else T=x(M);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};n.events.push(["preProcessText",N])}(Yt.API),Yt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Yt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(T){c=T}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(T){f=T}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(T){y=T}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(T){b=T}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(T){x=T}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(T){N=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,f){i.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),y=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,x=0,N=0,T=0,M=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var k=f.maxWidth;k>0?typeof c=="string"?c=this.splitTextToSize(c,k):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(O,$){return O.concat(M.splitTextToSize($,k))},[])):c=Array.isArray(c)?c:[c];for(var P=0;P<c.length;P++)x<(T=this.getStringUnitWidth(c[P],{font:y})*h)&&(x=T);return x!==0&&(N=c.length),{w:x/=b,h:Math.max((N*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=y.top,x&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};n.table=function(c,f,h,y,b){if(i.call(this),!h)throw new Error("No data for PDF table.");var x,N,T,M,k=[],P=[],O=[],$={},q={},Z=[],Q=[],V=(b=b||{}).autoSize||!1,X=b.printHeaders!==!1,le=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,z=b.margins||Object.assign({width:this.getPageWidth()},e),G=typeof b.padding=="number"?b.padding:3,fe=b.headerBackgroundColor||"#c8c8c8",ae=b.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=X,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=le,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=fe,this.internal.__cell__.headerTextColor=ae,this.setFontSize(le),y==null)P=k=Object.keys(h[0]),O=k.map(function(){return"left"});else if(Array.isArray(y)&&oi(y[0])==="object")for(k=y.map(function(D){return D.name}),P=y.map(function(D){return D.prompt||D.name||""}),O=y.map(function(D){return D.align||"left"}),x=0;x<y.length;x+=1)q[y[x].name]=y[x].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(P=k=y,O=k.map(function(){return"left"}));if(V||Array.isArray(y)&&typeof y[0]=="string")for(x=0;x<k.length;x+=1){for($[M=k[x]]=h.map(function(D){return D[M]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(P[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=$[M],this.setFont(void 0,"normal"),T=0;T<N.length;T+=1)Z.push(this.getTextDimensions(N[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[M]=Math.max.apply(null,Z)+G+G,Z=[]}if(X){var me={};for(x=0;x<k.length;x+=1)me[k[x]]={},me[k[x]].text=P[x],me[k[x]].align=O[x];var te=u.call(this,me,q);Q=k.map(function(D){return new s(c,f,q[D],te,me[D].text,void 0,me[D].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var ce=y.reduce(function(D,ye){return D[ye.name]=ye.align,D},{});for(x=0;x<h.length;x+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:x,data:h[x]},this);var ne=u.call(this,h[x],q);for(T=0;T<k.length;T+=1){var de=h[x][k[T]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:x,col:T,data:de},this),o.call(this,new s(c,f,q[k[T]],ne,de,x+2,ce[k[T]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var u=function(c,f){var h=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(x){var N=c[x];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*y/b+h+h},this).reduce(function(x,N){return Math.max(x,N)},0)};n.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,b.push(h)),h.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(N)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(Yt.API);var nS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},iS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G1=tS(iS),rS=[100,200,300,400,500,600,700,800,900],IR=tS(rS);function W1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return nS[s=s||"normal"]?s:"normal"}(n.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(s){return typeof G1[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function eb(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var OR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function FR(n,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",r=Object.assign({},OR,t.genericFontFamilies||{}),s=null,o=null,u=0;u<e.length;++u)if(r[(s=W1(e[u])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+nb(s)+"' and default family '"+i+"'.");if(o=function(c,f){if(f[c])return f[c];var h=G1[c],y=h<=G1.normal?-1:1,b=eb(f,iS,h,y);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(s.stretch,o),o=function(c,f){if(f[c])return f[c];for(var h=nS[c],y=0;y<h.length;++y)if(f[h[y]])return f[h[y]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,f){if(f[c])return f[c];if(c===400&&f[500])return f[500];if(c===500&&f[400])return f[400];var h=IR[c],y=eb(f,rS,h,c<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+c);return y}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+nb(s)+"'.");return o}function ib(n){return n.trimLeft()}function BR(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function zR(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Qp,rb,sb,W0=["times"];(function(n){var e,t,i,r,s,o,u,c,f,h=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,f=new h}]);var y=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=R;Object.defineProperty(this,"pdf",{get:function(){return W}});var j=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return j},set:function(Fe){j=!!Fe}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Fe){re=!!Fe}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Fe){isNaN(Fe)||(se=Fe)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(Fe){isNaN(Fe)||(xe=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Fe){var ue;typeof Fe=="number"?ue=[Fe,Fe,Fe,Fe]:((ue=new Array(4))[0]=Fe[0],ue[1]=Fe.length>=2?Fe[1]:ue[0],ue[2]=Fe.length>=3?Fe[2]:ue[0],ue[3]=Fe.length>=4?Fe[3]:ue[1]),f.margin=ue}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(Fe){pe=Fe}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(Fe){Te=Fe}});var $e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return $e},set:function(Fe){$e=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Fe){Fe instanceof h&&(f=Fe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Fe){f.path=Fe}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(Fe){Ye=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var ue;ue=b(Fe),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var ue=b(Fe);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var et=null;function tt(Fe,ue){if(et===null){var bt=function(nt){var Je=[];return Object.keys(nt).forEach(function(it){nt[it].forEach(function(rt){var je=null;switch(rt){case"bold":je={family:it,weight:"bold"};break;case"italic":je={family:it,style:"italic"};break;case"bolditalic":je={family:it,weight:"bold",style:"italic"};break;case"":case"normal":je={family:it}}je!==null&&(je.ref={name:it,style:rt},Je.push(je))})}),Je}(Fe.getFontList());et=function(nt){for(var Je={},it=0;it<nt.length;++it){var rt=W1(nt[it]),je=rt.family,ot=rt.stretch,Et=rt.style,$t=rt.weight;Je[je]=Je[je]||{},Je[je][ot]=Je[je][ot]||{},Je[je][ot][Et]=Je[je][ot][Et]||{},Je[je][ot][Et][$t]=rt}return Je}(bt.concat(ue))}return et}var xt=null;Object.defineProperty(this,"fontFaces",{get:function(){return xt},set:function(Fe){et=null,xt=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var ue;if(this.ctx.font=Fe,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var bt=ue[1];ue[2];var nt=ue[3],Je=ue[4];ue[5];var it=ue[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(rt==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var je=function(vt){var Ht,Ke,Vt=[],Pt=vt.trim();if(Pt==="")return W0;if(Pt in tb)return[tb[Pt]];for(;Pt!=="";){switch(Ke=null,Ht=(Pt=ib(Pt)).charAt(0)){case'"':case"'":Ke=BR(Pt.substring(1),Ht);break;default:Ke=zR(Pt)}if(Ke===null||(Vt.push(Ke[0]),(Pt=ib(Ke[1]))!==""&&Pt.charAt(0)!==","))return W0;Pt=Pt.replace(/^,/,"")}return Vt}(it);if(this.fontFaces){var ot=FR(tt(this.pdf,this.fontFaces),je.map(function(vt){return{family:vt,stretch:"normal",weight:nt,style:bt}}));this.pdf.setFont(ot.ref.name,ot.ref.style)}else{var Et="";(nt==="bold"||parseInt(nt,10)>=700||bt==="bold")&&(Et="bold"),bt==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var $t="",It={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<je.length;Ot++){if(this.pdf.internal.getFont(je[Ot],Et,{noFallback:!0,disableWarning:!0})!==void 0){$t=je[Ot];break}if(Et==="bolditalic"&&this.pdf.internal.getFont(je[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$t=je[Ot],Et="bold";else if(this.pdf.internal.getFont(je[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$t=je[Ot],Et="normal";break}}if($t===""){for(var Rt=0;Rt<je.length;Rt++)if(It[je[Rt]]){$t=It[je[Rt]];break}}$t=$t===""?"Times":$t,this.pdf.setFont($t,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};y.prototype.setLineDash=function(R){this.lineDash=R},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){$.call(this,"fill",!1)},y.prototype.stroke=function(){$.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(R,W){if(isNaN(R)||isNaN(W))throw vi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var j=this.ctx.transform.applyToPoint(new o(R,W));this.path.push({type:"mt",x:j.x,y:j.y}),this.ctx.lastPoint=new o(R,W)},y.prototype.closePath=function(){var R=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&oi(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){R=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},y.prototype.lineTo=function(R,W){if(isNaN(R)||isNaN(W))throw vi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var j=this.ctx.transform.applyToPoint(new o(R,W));this.path.push({type:"lt",x:j.x,y:j.y}),this.ctx.lastPoint=new o(j.x,j.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},y.prototype.quadraticCurveTo=function(R,W,j,re){if(isNaN(j)||isNaN(re)||isNaN(R)||isNaN(W))throw vi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(j,re)),xe=this.ctx.transform.applyToPoint(new o(R,W));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},y.prototype.bezierCurveTo=function(R,W,j,re,se,xe){if(isNaN(se)||isNaN(xe)||isNaN(R)||isNaN(W)||isNaN(j)||isNaN(re))throw vi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(se,xe)),Te=this.ctx.transform.applyToPoint(new o(R,W)),$e=this.ctx.transform.applyToPoint(new o(j,re));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:$e.x,y2:$e.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},y.prototype.arc=function(R,W,j,re,se,xe){if(isNaN(R)||isNaN(W)||isNaN(j)||isNaN(re)||isNaN(se))throw vi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(R,W));R=pe.x,W=pe.y;var Te=this.ctx.transform.applyToPoint(new o(0,j)),$e=this.ctx.transform.applyToPoint(new o(0,0));j=Math.sqrt(Math.pow(Te.x-$e.x,2)+Math.pow(Te.y-$e.y,2))}Math.abs(se-re)>=2*Math.PI&&(re=0,se=2*Math.PI),this.path.push({type:"arc",x:R,y:W,radius:j,startAngle:re,endAngle:se,counterclockwise:xe})},y.prototype.arcTo=function(R,W,j,re,se){throw new Error("arcTo not implemented.")},y.prototype.rect=function(R,W,j,re){if(isNaN(R)||isNaN(W)||isNaN(j)||isNaN(re))throw vi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,W),this.lineTo(R+j,W),this.lineTo(R+j,W+re),this.lineTo(R,W+re),this.lineTo(R,W),this.lineTo(R+j,W),this.lineTo(R,W)},y.prototype.fillRect=function(R,W,j,re){if(isNaN(R)||isNaN(W)||isNaN(j)||isNaN(re))throw vi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,W,j,re),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},y.prototype.strokeRect=function(R,W,j,re){if(isNaN(R)||isNaN(W)||isNaN(j)||isNaN(re))throw vi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(R,W,j,re),this.stroke())},y.prototype.clearRect=function(R,W,j,re){if(isNaN(R)||isNaN(W)||isNaN(j)||isNaN(re))throw vi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,W,j,re))},y.prototype.save=function(R){R=typeof R!="boolean"||R;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},y.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("Q");this.pdf.setPage(W),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(R){var W,j,re,se;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))W=0,j=0,re=0,se=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(xe!==null)W=parseInt(xe[1]),j=parseInt(xe[2]),re=parseInt(xe[3]),se=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)W=parseInt(xe[1]),j=parseInt(xe[2]),re=parseInt(xe[3]),se=parseFloat(xe[4]);else{if(se=1,typeof R=="string"&&R.charAt(0)!=="#"){var pe=new $_(R);R=pe.ok?pe.toHex():"#000000"}R.length===4?(W=R.substring(1,2),W+=W,j=R.substring(2,3),j+=j,re=R.substring(3,4),re+=re):(W=R.substring(1,3),j=R.substring(3,5),re=R.substring(5,7)),W=parseInt(W,16),j=parseInt(j,16),re=parseInt(re,16)}}return{r:W,g:j,b:re,a:se,style:R}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(R,W,j,re){if(isNaN(W)||isNaN(j)||typeof R!="string")throw vi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!x.call(this)){var se=ne(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;G.call(this,{text:R,x:W,y:j,scale:xe,angle:se,align:this.textAlign,maxWidth:re})}},y.prototype.strokeText=function(R,W,j,re){if(isNaN(W)||isNaN(j)||typeof R!="string")throw vi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){re=isNaN(re)?void 0:re;var se=ne(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;G.call(this,{text:R,x:W,y:j,scale:xe,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:re})}},y.prototype.measureText=function(R){if(typeof R!="string")throw vi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,j=this.pdf.internal.scaleFactor,re=W.internal.getFontSize(),se=W.getStringUnitWidth(R)*re/W.internal.scaleFactor,xe=function(pe){var Te=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this};return new xe({width:se*=Math.round(96*j/72*1e4)/1e4})},y.prototype.scale=function(R,W){if(isNaN(R)||isNaN(W))throw vi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var j=new c(R,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(j)},y.prototype.rotate=function(R){if(isNaN(R))throw vi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},y.prototype.translate=function(R,W){if(isNaN(R)||isNaN(W))throw vi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var j=new c(1,0,0,1,R,W);this.ctx.transform=this.ctx.transform.multiply(j)},y.prototype.transform=function(R,W,j,re,se,xe){if(isNaN(R)||isNaN(W)||isNaN(j)||isNaN(re)||isNaN(se)||isNaN(xe))throw vi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new c(R,W,j,re,se,xe);this.ctx.transform=this.ctx.transform.multiply(pe)},y.prototype.setTransform=function(R,W,j,re,se,xe){R=isNaN(R)?1:R,W=isNaN(W)?0:W,j=isNaN(j)?0:j,re=isNaN(re)?1:re,se=isNaN(se)?0:se,xe=isNaN(xe)?0:xe,this.ctx.transform=new c(R,W,j,re,se,xe)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(R,W,j,re,se,xe,pe,Te,$e){var Ye=this.pdf.getImageProperties(R),et=1,tt=1,xt=1,Fe=1;re!==void 0&&Te!==void 0&&(xt=Te/re,Fe=$e/se,et=Ye.width/re*Te/re,tt=Ye.height/se*$e/se),xe===void 0&&(xe=W,pe=j,W=0,j=0),re!==void 0&&Te===void 0&&(Te=re,$e=se),re===void 0&&Te===void 0&&(Te=Ye.width,$e=Ye.height);for(var ue,bt=this.ctx.transform.decompose(),nt=ne(bt.rotate.shx),Je=new c,it=(Je=(Je=(Je=Je.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new u(xe-W*xt,pe-j*Fe,re*et,se*tt)),rt=M.call(this,it),je=[],ot=0;ot<rt.length;ot+=1)je.indexOf(rt[ot])===-1&&je.push(rt[ot]);if(O(je),this.autoPaging)for(var Et=je[0],$t=je[je.length-1],It=Et;It<$t+1;It++){this.pdf.setPage(It);var Ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=It===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=It===1?0:vt+(It-2)*Ht;if(this.ctx.clip_path.length!==0){var Vt=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(ue,this.posX+this.margin[3],-Ke+Rt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Vt}var Pt=JSON.parse(JSON.stringify(it));Pt=P([Pt],this.posX+this.margin[3],-Ke+Rt+this.ctx.prevPageLastElemOffset)[0];var hi=(It>Et||It<$t)&&T.call(this);hi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,Ht,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,nt),hi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",it.x,it.y,it.w,it.h,null,null,nt)};var M=function(R,W,j){var re=[];W=W||this.pdf.internal.pageSize.width,j=j||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":re.push(Math.floor((R.y+se)/j)+1);break;case"arc":re.push(Math.floor((R.y+se-R.radius)/j)+1),re.push(Math.floor((R.y+se+R.radius)/j)+1);break;case"qct":var xe=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);re.push(Math.floor((xe.y+se)/j)+1),re.push(Math.floor((xe.y+xe.h+se)/j)+1);break;case"bct":var pe=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);re.push(Math.floor((pe.y+se)/j)+1),re.push(Math.floor((pe.y+pe.h+se)/j)+1);break;case"rect":re.push(Math.floor((R.y+se)/j)+1),re.push(Math.floor((R.y+R.h+se)/j)+1)}for(var Te=0;Te<re.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<re[Te];)k.call(this);return re},k=function(){var R=this.fillStyle,W=this.strokeStyle,j=this.font,re=this.lineCap,se=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=W,this.font=j,this.lineCap=re,this.lineWidth=se,this.lineJoin=xe},P=function(R,W,j){for(var re=0;re<R.length;re++)switch(R[re].type){case"bct":R[re].x2+=W,R[re].y2+=j;case"qct":R[re].x1+=W,R[re].y1+=j;case"mt":case"lt":case"arc":default:R[re].x+=W,R[re].y+=j}return R},O=function(R){return R.sort(function(W,j){return W-j})},$=function(R,W){for(var j,re,se=this.fillStyle,xe=this.strokeStyle,pe=this.lineCap,Te=this.lineWidth,$e=Math.abs(Te*this.ctx.transform.scaleX),Ye=this.lineJoin,et=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),xt=[],Fe=0;Fe<tt.length;Fe++)if(tt[Fe].x!==void 0)for(var ue=M.call(this,tt[Fe]),bt=0;bt<ue.length;bt+=1)xt.indexOf(ue[bt])===-1&&xt.push(ue[bt]);for(var nt=0;nt<xt.length;nt++)for(;this.pdf.internal.getNumberOfPages()<xt[nt];)k.call(this);if(O(xt),this.autoPaging)for(var Je=xt[0],it=xt[xt.length-1],rt=Je;rt<it+1;rt++){this.pdf.setPage(rt),this.fillStyle=se,this.strokeStyle=xe,this.lineCap=pe,this.lineWidth=$e,this.lineJoin=Ye;var je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=rt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=rt===1?0:Et+(rt-2)*$t;if(this.ctx.clip_path.length!==0){var Ot=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(j,this.posX+this.margin[3],-It+ot+this.ctx.prevPageLastElemOffset),q.call(this,R,!0),this.path=Ot}if(re=JSON.parse(JSON.stringify(et)),this.path=P(re,this.posX+this.margin[3],-It+ot+this.ctx.prevPageLastElemOffset),W===!1||rt===0){var Rt=(rt>Je||rt<it)&&T.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,$t,null).clip().discardPath()),q.call(this,R,W),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}else this.lineWidth=$e,q.call(this,R,W),this.lineWidth=Te;this.path=et},q=function(R,W){if((R!=="stroke"||W||!N.call(this))&&(R==="stroke"||W||!x.call(this))){for(var j,re,se=[],xe=this.path,pe=0;pe<xe.length;pe++){var Te=xe[pe];switch(Te.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Te,deltas:[],abs:[]});break;case"lt":var $e=se.length;if(xe[pe-1]&&!isNaN(xe[pe-1].x)&&(j=[Te.x-xe[pe-1].x,Te.y-xe[pe-1].y],$e>0)){for(;$e>=0;$e--)if(se[$e-1].close!==!0&&se[$e-1].begin!==!0){se[$e-1].deltas.push(j),se[$e-1].abs.push(Te);break}}break;case"bct":j=[Te.x1-xe[pe-1].x,Te.y1-xe[pe-1].y,Te.x2-xe[pe-1].x,Te.y2-xe[pe-1].y,Te.x-xe[pe-1].x,Te.y-xe[pe-1].y],se[se.length-1].deltas.push(j);break;case"qct":var Ye=xe[pe-1].x+2/3*(Te.x1-xe[pe-1].x),et=xe[pe-1].y+2/3*(Te.y1-xe[pe-1].y),tt=Te.x+2/3*(Te.x1-Te.x),xt=Te.y+2/3*(Te.y1-Te.y),Fe=Te.x,ue=Te.y;j=[Ye-xe[pe-1].x,et-xe[pe-1].y,tt-xe[pe-1].x,xt-xe[pe-1].y,Fe-xe[pe-1].x,ue-xe[pe-1].y],se[se.length-1].deltas.push(j);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Te)}}re=W?null:R==="stroke"?"stroke":"fill";for(var bt=!1,nt=0;nt<se.length;nt++)if(se[nt].arc)for(var Je=se[nt].abs,it=0;it<Je.length;it++){var rt=Je[it];rt.type==="arc"?V.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,W,!bt):fe.call(this,rt.x,rt.y),bt=!0}else if(se[nt].close===!0)this.pdf.internal.out("h"),bt=!1;else if(se[nt].begin!==!0){var je=se[nt].start.x,ot=se[nt].start.y;ae.call(this,se[nt].deltas,je,ot),bt=!0}re&&X.call(this,re),W&&le.call(this)}},Z=function(R){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,j=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-j;case"top":return R+W-j;case"hanging":return R+W-2*j;case"middle":return R+W/2-j;case"ideographic":return R;case"alphabetic":default:return R}},Q=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(W,j){this.colorStops.push([W,j])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(R,W,j,re,se,xe,pe,Te,$e){for(var Ye=te.call(this,j,re,se,xe),et=0;et<Ye.length;et++){var tt=Ye[et];et===0&&($e?z.call(this,tt.x1+R,tt.y1+W):fe.call(this,tt.x1+R,tt.y1+W)),me.call(this,R,W,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}Te?le.call(this):X.call(this,pe)},X=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},le=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(R,W){this.pdf.internal.out(t(R)+" "+i(W)+" m")},G=function(R){var W;switch(R.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var j=this.pdf.getTextDimensions(R.text),re=Z.call(this,R.y),se=Q.call(this,re)-j.h,xe=this.ctx.transform.applyToPoint(new o(R.x,re)),pe=this.ctx.transform.decompose(),Te=new c;Te=(Te=(Te=Te.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var $e,Ye,et,tt=this.ctx.transform.applyToRectangle(new u(R.x,re,j.w,j.h)),xt=Te.applyToRectangle(new u(R.x,se,j.w,j.h)),Fe=M.call(this,xt),ue=[],bt=0;bt<Fe.length;bt+=1)ue.indexOf(Fe[bt])===-1&&ue.push(Fe[bt]);if(O(ue),this.autoPaging)for(var nt=ue[0],Je=ue[ue.length-1],it=nt;it<Je+1;it++){this.pdf.setPage(it);var rt=it===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[2],Et=ot-this.margin[0],$t=this.pdf.internal.pageSize.width-this.margin[1],It=$t-this.margin[3],Ot=it===1?0:je+(it-2)*Et;if(this.ctx.clip_path.length!==0){var Rt=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P($e,this.posX+this.margin[3],-1*Ot+rt),q.call(this,"fill",!0),this.path=Rt}var vt=P([JSON.parse(JSON.stringify(xt))],this.posX+this.margin[3],-Ot+rt+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*R.scale),et=this.lineWidth,this.lineWidth=et*R.scale);var Ht=this.autoPaging!=="text";if(Ht||vt.y+vt.h<=ot){if(Ht||vt.y>=rt&&vt.x<=$t){var Ke=Ht?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||$t-vt.x)[0],Vt=P([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-Ot+rt+this.ctx.prevPageLastElemOffset)[0],Pt=Ht&&(it>nt||it<Je)&&T.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,Et,null).clip().discardPath()),this.pdf.text(Ke,Vt.x,Vt.y,{angle:R.angle,align:W,renderingMode:R.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else vt.y<ot&&(this.ctx.prevPageLastElemOffset+=ot-vt.y);R.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=et)}else R.scale>=.01&&(Ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ye*R.scale),et=this.lineWidth,this.lineWidth=et*R.scale),this.pdf.text(R.text,xe.x+this.posX,xe.y+this.posY,{angle:R.angle,align:W,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Ye),this.lineWidth=et)},fe=function(R,W,j,re){j=j||0,re=re||0,this.pdf.internal.out(t(R+j)+" "+i(W+re)+" l")},ae=function(R,W,j){return this.pdf.lines(R,W,j,null,null)},me=function(R,W,j,re,se,xe,pe,Te){this.pdf.internal.out([e(r(j+R)),e(s(re+W)),e(r(se+R)),e(s(xe+W)),e(r(pe+R)),e(s(Te+W)),"c"].join(" "))},te=function(R,W,j,re){for(var se=2*Math.PI,xe=Math.PI/2;W>j;)W-=se;var pe=Math.abs(j-W);pe<se&&re&&(pe=se-pe);for(var Te=[],$e=re?-1:1,Ye=W;pe>1e-5;){var et=Ye+$e*Math.min(pe,xe);Te.push(ce.call(this,R,Ye,et)),pe-=Math.abs(et-Ye),Ye=et}return Te},ce=function(R,W,j){var re=(j-W)/2,se=R*Math.cos(re),xe=R*Math.sin(re),pe=se,Te=-xe,$e=pe*pe+Te*Te,Ye=$e+pe*se+Te*xe,et=4/3*(Math.sqrt(2*$e*Ye)-Ye)/(pe*xe-Te*se),tt=pe-et*Te,xt=Te+et*pe,Fe=tt,ue=-xt,bt=re+W,nt=Math.cos(bt),Je=Math.sin(bt);return{x1:R*Math.cos(W),y1:R*Math.sin(W),x2:tt*nt-xt*Je,y2:tt*Je+xt*nt,x3:Fe*nt-ue*Je,y3:Fe*Je+ue*nt,x4:R*Math.cos(j),y4:R*Math.sin(j)}},ne=function(R){return 180*R/Math.PI},de=function(R,W,j,re,se,xe){var pe=R+.5*(j-R),Te=W+.5*(re-W),$e=se+.5*(j-se),Ye=xe+.5*(re-xe),et=Math.min(R,se,pe,$e),tt=Math.max(R,se,pe,$e),xt=Math.min(W,xe,Te,Ye),Fe=Math.max(W,xe,Te,Ye);return new u(et,xt,tt-et,Fe-xt)},D=function(R,W,j,re,se,xe,pe,Te){var $e,Ye,et,tt,xt,Fe,ue,bt,nt,Je,it,rt,je,ot,Et=j-R,$t=re-W,It=se-j,Ot=xe-re,Rt=pe-se,vt=Te-xe;for(Ye=0;Ye<41;Ye++)nt=(ue=(et=R+($e=Ye/40)*Et)+$e*((xt=j+$e*It)-et))+$e*(xt+$e*(se+$e*Rt-xt)-ue),Je=(bt=(tt=W+$e*$t)+$e*((Fe=re+$e*Ot)-tt))+$e*(Fe+$e*(xe+$e*vt-Fe)-bt),Ye==0?(it=nt,rt=Je,je=nt,ot=Je):(it=Math.min(it,nt),rt=Math.min(rt,Je),je=Math.max(je,nt),ot=Math.max(ot,Je));return new u(Math.round(it),Math.round(rt),Math.round(je-it),Math.round(ot-rt))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,W,j=(R=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:W}));this.prevLineDash!==j&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=j)}}})(Yt.API),function(n){var e=function(s){var o,u,c,f,h,y,b,x,N,T;for(u=[],c=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>c;c+=4)(h=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(y=(h=((h=((h=((h=(h-(T=h%85))/85)-(N=h%85))/85)-(x=h%85))/85)-(b=h%85))/85)%85,u.push(y+33,b+33,x+33,N+33,T+33)):u.push(122);return function(M,k){for(var P=k;P>0;P--)M.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},t=function(s){var o,u,c,f,h,y=String,b="length",x=255,N="charCodeAt",T="slice",M="replace";for(s[T](-2),s=s[T](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),c=[],f=0,h=(s+=o="uuuuu"[T](s[b]%5||5))[b];h>f;f+=5)u=52200625*(s[N](f)-33)+614125*(s[N](f+1)-33)+7225*(s[N](f+2)-33)+85*(s[N](f+3)-33)+(s[N](f+4)-33),c.push(x&u>>24,x&u>>16,x&u>>8,x&u);return function(k,P){for(var O=P;O>0;O--)k.pop()}(c,o[b]),y.fromCharCode.apply(y,c)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var u="",c=0;c<s.length;c+=2)u+=String.fromCharCode("0x"+(s[c]+s[c+1]));return u},r=function(s){for(var o=new Uint8Array(s.length),u=s.length;u--;)o[u]=s.charCodeAt(u);return s=(o=j1(o)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};n.processDataByFilters=function(s,o){var u=0,c=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=r(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(Yt.API),function(n){n.loadFile=function(e,t,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(c,f,h){var y=new XMLHttpRequest,b=0,x=function(N){var T=N.length,M=[],k=String.fromCharCode;for(b=0;b<T;b+=1)M.push(k(255&N.charCodeAt(b)));return M.join("")};if(y.open("GET",c,!f),y.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(y.onload=function(){y.status===200?h(x(this.responseText)):h(void 0)}),y.send(null),f&&y.status===200)return x(y.responseText)}(r,s,o)}catch{}return u}(e,t,i)},n.loadImageFile=n.loadFile}(Yt.API),function(n){function e(){return(Zt.html2canvas?Promise.resolve(Zt.html2canvas):I1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Zt.DOMPurify?Promise.resolve(Zt.DOMPurify):I1(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var u=oi(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},r=function(o,u){var c=document.createElement(o);for(var f in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[f]=u.style[f];return c},s=function o(u){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),c);return f=(f=f.setProgress(1,o,1,[o])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,u){return o.__proto__=u||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(f,h){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)h!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||y.appendChild(c(b,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var c=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var b=0;b<f.length;++b){var x=f[b],N=x.src.find(function(T){return T.format==="truetype"});N&&c.addFont(N.url,x.ref.name,x.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,c.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},s.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var u=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(o,u){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return u?u(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function u(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(o=o||Yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,u,c,f){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,u,c,f){return this.setProgress(o?this.progress.val+o:null,u||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,u){var c=this;return this.thenCore(o,u,function(f,h){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(y){return c.updateProgress(null,f),y}).then(f,h).then(function(y){return c.updateProgress(1),y})})},s.prototype.thenCore=function(o,u,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=c.call(f,o,u);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},s.prototype.thenList=function(o){var u=this;return o.forEach(function(c){u=u.thenCore(c)}),u},s.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return s.convert(u,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Yt.getPageSize=function(o,u,c){if(oi(o)==="object"){var f=o;o=f.orientation,u=f.unit||u,c=f.format||c}u=u||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,y=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+u}var x,N=0,T=0;if(b.hasOwnProperty(y))N=b[y][1]/h,T=b[y][0]/h;else try{N=c[1],T=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",T>N&&(x=T,T=N,N=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>T&&(x=T,T=N,N=x)}return{width:T,height:N,unit:u,k:h,orientation:o}},n.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(W1):null;var c=new s(u);return u.worker?c:c.from(o).doCallback()}}(Yt.API),Yt.API.addJS=function(n){return sb=n,this.internal.events.subscribe("postPutResources",function(){Qp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),rb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Qp!==void 0&&rb!==void 0&&this.internal.out("/Names <</JavaScript "+Qp+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],u=i.exec(o);if(u!=null){var c=u[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(s=0;s<f;s++){var y=t.internal.newObject();h.push(y);var b=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var x=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+x+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(Yt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,s,o,u){var c,f=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(y){for(var b,x=256*y.charCodeAt(4)+y.charCodeAt(5),N=y.length,T={width:0,height:0,numcomponents:1},M=4;M<N;M+=2){if(M+=x,e.indexOf(y.charCodeAt(M+1))!==-1){b=256*y.charCodeAt(M+5)+y.charCodeAt(M+6),T={width:256*y.charCodeAt(M+7)+y.charCodeAt(M+8),height:b,numcomponents:y.charCodeAt(M+9)};break}x=256*y.charCodeAt(M+2)+y.charCodeAt(M+3)}return T}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return h}}(Yt.API);var Ef,em,ab,ob,lb,jR=function(){var n,e,t;function i(s){var o,u,c,f,h,y,b,x,N,T,M,k,P,O;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),N=(function(){var $,q;for(q=[],$=0;$<4;++$)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,y.delay=1e3*h/f,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),s=(y!=null?y.data:void 0)||this.imgData,k=0;0<=o?k<o:k>o;0<=o?++k:--k)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((T=c-this.transparency.indexed.length)>0)for(P=0;0<=T?P<T:P>T;0<=T?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":b=(M=this.read(o)).indexOf(0),x=String.fromCharCode.apply(String,M.slice(0,b)),this.text[x]=String.fromCharCode.apply(String,M.slice(b+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(O=this.colorType)===4||O===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,u;for(u=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),c=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(y,b,x,N){var T,M,k,P,O,$,q,Z,Q,V,X,le,z,G,fe,ae,me,te,ce,ne,de,D=Math.ceil((f.width-y)/x),ye=Math.ceil((f.height-b)/N),R=f.width==D&&f.height==ye;for(G=o*D,le=R?u:new Uint8Array(G*ye),$=s.length,z=0,M=0;z<ye&&c<$;){switch(s[c++]){case 0:for(P=me=0;me<G;P=me+=1)le[M++]=s[c++];break;case 1:for(P=te=0;te<G;P=te+=1)T=s[c++],O=P<o?0:le[M-o],le[M++]=(T+O)%256;break;case 2:for(P=ce=0;ce<G;P=ce+=1)T=s[c++],k=(P-P%o)/o,fe=z&&le[(z-1)*G+k*o+P%o],le[M++]=(fe+T)%256;break;case 3:for(P=ne=0;ne<G;P=ne+=1)T=s[c++],k=(P-P%o)/o,O=P<o?0:le[M-o],fe=z&&le[(z-1)*G+k*o+P%o],le[M++]=(T+Math.floor((O+fe)/2))%256;break;case 4:for(P=de=0;de<G;P=de+=1)T=s[c++],k=(P-P%o)/o,O=P<o?0:le[M-o],z===0?fe=ae=0:(fe=le[(z-1)*G+k*o+P%o],ae=k&&le[(z-1)*G+(k-1)*o+P%o]),q=O+fe-ae,Z=Math.abs(q-O),V=Math.abs(q-fe),X=Math.abs(q-ae),Q=Z<=V&&Z<=X?O:V<=X?fe:ae,le[M++]=(T+Q)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!R){var W=((b+z*N)*f.width+y)*o,j=z*G;for(P=0;P<D;P+=1){for(var re=0;re<o;re+=1)u[W++]=le[j++];W+=(x-1)*o}}z++}}return s=vR(s),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),u},i.prototype.decodePalette=function(){var s,o,u,c,f,h,y,b,x;for(u=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+u.length),c=0,s=0,o=y=0,b=u.length;y<b;o=y+=3)f[c++]=u[o],f[c++]=u[o+1],f[c++]=u[o+2],f[c++]=(x=h[s++])!=null?x:255;return f},i.prototype.copyToImageData=function(s,o){var u,c,f,h,y,b,x,N,T,M,k;if(c=this.colors,T=null,u=this.hasAlphaChannel,this.palette.length&&(T=(k=this._decodedPalette)!=null?k:this._decodedPalette=this.decodePalette(),c=4,u=!0),N=(f=s.data||s).length,y=T||o,h=b=0,c===1)for(;h<N;)x=T?4*o[h/4]:b,M=y[x++],f[h++]=M,f[h++]=M,f[h++]=M,f[h++]=u?y[x++]:255,b=x;else for(;h<N;)x=T?4*o[h/4]:b,f[h++]=y[x++],f[h++]=y[x++],f[h++]=y[x++],f[h++]=u?y[x++]:255,b=x},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Zt)==="[object Window]"){try{e=Zt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(r()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,u,c,f,h,y,b,x;if(this.animation){for(x=[],u=h=0,y=(b=this.animation.frames).length;h<y;u=++h)o=b[u],c=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,f),o.imageData=c,x.push(o.image=n(c));return x}},i.prototype.renderFrame=function(s,o){var u,c,f;return u=(c=this.animation.frames)[o],f=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(s){var o,u,c,f,h,y,b=this;return u=0,y=this.animation,f=y.numFrames,c=y.frames,h=y.numPlays,(o=function(){var x,N;if(x=u++%f,N=c[x],b.renderFrame(s,x),f>1&&u/f<h)return b.animation._timeout=setTimeout(o,N.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function UR(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],s=r>>7,o=1<<(7&r)+1;n[e++],n[e++];var u=null,c=null;s&&(u=e,c=o,e+=3*o);var f=!0,h=[],y=0,b=null,x=0,N=null;for(this.width=t,this.height=i;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,N=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((z=n[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=n[e++];y=n[e++]|n[e++]<<8,b=n[e++],(1&T)==0&&(b=null),x=T>>2&7,e++;break;case 254:for(;;){if(!((z=n[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var M=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,O=n[e++]|n[e++]<<8,$=n[e++],q=$>>6&1,Z=1<<(7&$)+1,Q=u,V=c,X=!1;$>>7&&(X=!0,Q=e,V=Z,e+=3*Z);var le=e;for(e++;;){var z;if(!((z=n[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}h.push({x:M,y:k,width:P,height:O,has_local_palette:X,palette_offset:Q,palette_size:V,data_offset:le,data_length:e-le,transparent_index:b,interlaced:!!q,delay:y,disposal:x});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return N},this.frameInfo=function(G){if(G<0||G>=h.length)throw new Error("Frame index out of range.");return h[G]},this.decodeAndBlitFrameBGRA=function(G,fe){var ae=this.frameInfo(G),me=ae.width*ae.height,te=new Uint8Array(me);ub(n,ae.data_offset,te,me);var ce=ae.palette_offset,ne=ae.transparent_index;ne===null&&(ne=256);var de=ae.width,D=t-de,ye=de,R=4*(ae.y*t+ae.x),W=4*((ae.y+ae.height)*t+ae.x),j=R,re=4*D;ae.interlaced===!0&&(re+=4*t*7);for(var se=8,xe=0,pe=te.length;xe<pe;++xe){var Te=te[xe];if(ye===0&&(ye=de,(j+=re)>=W&&(re=4*D+4*t*(se-1),j=R+(de+D)*(se<<1),se>>=1)),Te===ne)j+=4;else{var $e=n[ce+3*Te],Ye=n[ce+3*Te+1],et=n[ce+3*Te+2];fe[j++]=et,fe[j++]=Ye,fe[j++]=$e,fe[j++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(G,fe){var ae=this.frameInfo(G),me=ae.width*ae.height,te=new Uint8Array(me);ub(n,ae.data_offset,te,me);var ce=ae.palette_offset,ne=ae.transparent_index;ne===null&&(ne=256);var de=ae.width,D=t-de,ye=de,R=4*(ae.y*t+ae.x),W=4*((ae.y+ae.height)*t+ae.x),j=R,re=4*D;ae.interlaced===!0&&(re+=4*t*7);for(var se=8,xe=0,pe=te.length;xe<pe;++xe){var Te=te[xe];if(ye===0&&(ye=de,(j+=re)>=W&&(re=4*D+4*t*(se-1),j=R+(de+D)*(se<<1),se>>=1)),Te===ne)j+=4;else{var $e=n[ce+3*Te],Ye=n[ce+3*Te+1],et=n[ce+3*Te+2];fe[j++]=$e,fe[j++]=Ye,fe[j++]=et,fe[j++]=255}--ye}}}function ub(n,e,t,i){for(var r=n[e++],s=1<<r,o=s+1,u=o+1,c=r+1,f=(1<<c)-1,h=0,y=0,b=0,x=n[e++],N=new Int32Array(4096),T=null;;){for(;h<16&&x!==0;)y|=n[e++]<<h,h+=8,x===1?x=n[e++]:--x;if(h<c)break;var M=y&f;if(y>>=c,h-=c,M!==s){if(M===o)break;for(var k=M<u?M:T,P=0,O=k;O>s;)O=N[O]>>8,++P;var $=O;if(b+P+(k!==M?1:0)>i)return void vi.log("Warning, gif stream longer than expected.");t[b++]=$;var q=b+=P;for(k!==M&&(t[b++]=$),O=k;P--;)O=N[O],t[--q]=255&O,O>>=8;T!==null&&u<4096&&(N[u++]=T<<8|$,u>=f+1&&c<12&&(++c,f=f<<1|1)),T=M}else u=o+1,f=(1<<(c=r+1))-1,T=null}return b!==i&&vi.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function K0(n){var e,t,i,r,s,o=Math.floor,u=new Array(64),c=new Array(64),f=new Array(64),h=new Array(64),y=new Array(65535),b=new Array(65535),x=new Array(64),N=new Array(64),T=[],M=0,k=7,P=new Array(64),O=new Array(64),$=new Array(64),q=new Array(256),Z=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],fe=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(R,W){for(var j=0,re=0,se=new Array,xe=1;xe<=16;xe++){for(var pe=1;pe<=R[xe];pe++)se[W[re]]=[],se[W[re]][0]=j,se[W[re]][1]=xe,re++,j++;j*=2}return se}function ce(R){for(var W=R[0],j=R[1]-1;j>=0;)W&1<<j&&(M|=1<<k),j--,--k<0&&(M==255?(ne(255),ne(0)):ne(M),k=7,M=0)}function ne(R){T.push(R)}function de(R){ne(R>>8&255),ne(255&R)}function D(R,W,j,re,se){for(var xe,pe=se[0],Te=se[240],$e=function(Je,it){var rt,je,ot,Et,$t,It,Ot,Rt,vt,Ht,Ke=0;for(vt=0;vt<8;++vt){rt=Je[Ke],je=Je[Ke+1],ot=Je[Ke+2],Et=Je[Ke+3],$t=Je[Ke+4],It=Je[Ke+5],Ot=Je[Ke+6];var Vt=rt+(Rt=Je[Ke+7]),Pt=rt-Rt,hi=je+Ot,tn=je-Ot,gn=ot+It,Li=ot-It,Gt=Et+$t,As=Et-$t,ei=Vt+Gt,vr=Vt-Gt,bi=hi+gn,ni=hi-gn;Je[Ke]=ei+bi,Je[Ke+4]=ei-bi;var Ft=.707106781*(ni+vr);Je[Ke+2]=vr+Ft,Je[Ke+6]=vr-Ft;var bn=.382683433*((ei=As+Li)-(ni=tn+Pt)),or=.5411961*ei+bn,wi=1.306562965*ni+bn,Pi=.707106781*(bi=Li+tn),Xr=Pt+Pi,at=Pt-Pi;Je[Ke+5]=at+or,Je[Ke+3]=at-or,Je[Ke+1]=Xr+wi,Je[Ke+7]=Xr-wi,Ke+=8}for(Ke=0,vt=0;vt<8;++vt){rt=Je[Ke],je=Je[Ke+8],ot=Je[Ke+16],Et=Je[Ke+24],$t=Je[Ke+32],It=Je[Ke+40],Ot=Je[Ke+48];var yn=rt+(Rt=Je[Ke+56]),Gn=rt-Rt,_i=je+Ot,On=je-Ot,pi=ot+It,Si=ot-It,Rs=Et+$t,li=Et-$t,xr=yn+Rs,Ri=yn-Rs,lr=_i+pi,ur=_i-pi;Je[Ke]=xr+lr,Je[Ke+32]=xr-lr;var Xi=.707106781*(ur+Ri);Je[Ke+16]=Ri+Xi,Je[Ke+48]=Ri-Xi;var Ln=.382683433*((xr=li+Si)-(ur=On+Gn)),Ds=.5411961*xr+Ln,Is=1.306562965*ur+Ln,qi=.707106781*(lr=Si+On),cr=Gn+qi,Hr=Gn-qi;Je[Ke+40]=Hr+Ds,Je[Ke+24]=Hr-Ds,Je[Ke+8]=cr+Is,Je[Ke+56]=cr-Is,Ke++}for(vt=0;vt<64;++vt)Ht=Je[vt]*it[vt],x[vt]=Ht>0?Ht+.5|0:Ht-.5|0;return x}(R,W),Ye=0;Ye<64;++Ye)N[Q[Ye]]=$e[Ye];var et=N[0]-j;j=N[0],et==0?ce(re[0]):(ce(re[b[xe=32767+et]]),ce(y[xe]));for(var tt=63;tt>0&&N[tt]==0;)tt--;if(tt==0)return ce(pe),j;for(var xt,Fe=1;Fe<=tt;){for(var ue=Fe;N[Fe]==0&&Fe<=tt;)++Fe;var bt=Fe-ue;if(bt>=16){xt=bt>>4;for(var nt=1;nt<=xt;++nt)ce(Te);bt&=15}xe=32767+N[Fe],ce(se[(bt<<4)+b[xe]]),ce(y[xe]),Fe++}return tt!=63&&ce(pe),j}function ye(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(W){for(var j=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var se=o((j[re]*W+50)/100);se=Math.min(Math.max(se,1),255),u[Q[re]]=se}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var Te=o((xe[pe]*W+50)/100);Te=Math.min(Math.max(Te,1),255),c[Q[pe]]=Te}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,et=0;et<8;et++)for(var tt=0;tt<8;tt++)f[Ye]=1/(u[Q[Ye]]*$e[et]*$e[tt]*8),h[Ye]=1/(c[Q[Ye]]*$e[et]*$e[tt]*8),Ye++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,W){W&&ye(W),T=new Array,M=0,k=7,de(65496),de(65504),de(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),de(1),de(1),ne(0),ne(0),function(){de(65499),de(132),ne(0);for(var je=0;je<64;je++)ne(u[je]);ne(1);for(var ot=0;ot<64;ot++)ne(c[ot])}(),function(je,ot){de(65472),de(17),ne(8),de(ot),de(je),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(R.width,R.height),function(){de(65476),de(418),ne(0);for(var je=0;je<16;je++)ne(V[je+1]);for(var ot=0;ot<=11;ot++)ne(X[ot]);ne(16);for(var Et=0;Et<16;Et++)ne(le[Et+1]);for(var $t=0;$t<=161;$t++)ne(z[$t]);ne(1);for(var It=0;It<16;It++)ne(G[It+1]);for(var Ot=0;Ot<=11;Ot++)ne(fe[Ot]);ne(17);for(var Rt=0;Rt<16;Rt++)ne(ae[Rt+1]);for(var vt=0;vt<=161;vt++)ne(me[vt])}(),de(65498),de(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var j=0,re=0,se=0;M=0,k=7,this.encode.displayName="_encode_";for(var xe,pe,Te,$e,Ye,et,tt,xt,Fe,ue=R.data,bt=R.width,nt=R.height,Je=4*bt,it=0;it<nt;){for(xe=0;xe<Je;){for(Ye=Je*it+xe,tt=-1,xt=0,Fe=0;Fe<64;Fe++)et=Ye+(xt=Fe>>3)*Je+(tt=4*(7&Fe)),it+xt>=nt&&(et-=Je*(it+1+xt-nt)),xe+tt>=Je&&(et-=xe+tt-Je+4),pe=ue[et++],Te=ue[et++],$e=ue[et++],P[Fe]=(Z[pe]+Z[Te+256>>0]+Z[$e+512>>0]>>16)-128,O[Fe]=(Z[pe+768>>0]+Z[Te+1024>>0]+Z[$e+1280>>0]>>16)-128,$[Fe]=(Z[pe+1280>>0]+Z[Te+1536>>0]+Z[$e+1792>>0]>>16)-128;j=D(P,f,j,e,i),re=D(O,h,re,t,r),se=D($,h,se,t,r),xe+=32}it+=8}if(k>=0){var rt=[];rt[1]=k+1,rt[0]=(1<<k+1)-1,ce(rt)}return de(65497),new Uint8Array(T)},n=n||50,function(){for(var R=String.fromCharCode,W=0;W<256;W++)q[W]=R(W)}(),e=te(V,X),t=te(G,fe),i=te(le,z),r=te(ae,me),function(){for(var R=1,W=2,j=1;j<=15;j++){for(var re=R;re<W;re++)b[32767+re]=j,y[32767+re]=[],y[32767+re][1]=j,y[32767+re][0]=re;for(var se=-(W-1);se<=-R;se++)b[32767+se]=j,y[32767+se]=[],y[32767+se][1]=j,y[32767+se][0]=W-1+se;R<<=1,W<<=1}}(),function(){for(var R=0;R<256;R++)Z[R]=19595*R,Z[R+256>>0]=38470*R,Z[R+512>>0]=7471*R+32768,Z[R+768>>0]=-11059*R,Z[R+1024>>0]=-21709*R,Z[R+1280>>0]=32768*R+8421375,Z[R+1536>>0]=-27439*R,Z[R+1792>>0]=-5329*R}(),ye(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ro(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function cb(n){function e(V){if(!V)throw Error("assert :P")}function t(V,X,le){for(var z=0;4>z;z++)if(V[X+z]!=le.charCodeAt(z))return!0;return!1}function i(V,X,le,z,G){for(var fe=0;fe<G;fe++)V[X+fe]=le[z+fe]}function r(V,X,le,z){for(var G=0;G<z;G++)V[X+G]=le}function s(V){return new Int32Array(V)}function o(V,X){for(var le=[],z=0;z<V;z++)le.push(new X);return le}function u(V,X){var le=[];return function z(G,fe,ae){for(var me=ae[fe],te=0;te<me&&(G.push(ae.length>fe+1?[]:new X),!(ae.length<fe+1));te++)z(G[te],fe+1,ae)}(le,0,V),le}var c=function(){var V=this;function X(v,_){for(var E=1<<_-1>>>0;v&E;)E>>>=1;return E?(v&E-1)+E:v}function le(v,_,E,L,F){e(!(L%E));do v[_+(L-=E)]=F;while(0<L)}function z(v,_,E,L,F){if(e(2328>=F),512>=F)var U=s(512);else if((U=s(F))==null)return 0;return function(H,K,J,ie,ve,Le){var ke,Ae,He=K,Oe=1<<J,be=s(16),Se=s(16);for(e(ve!=0),e(ie!=null),e(H!=null),e(0<J),Ae=0;Ae<ve;++Ae){if(15<ie[Ae])return 0;++be[ie[Ae]]}if(be[0]==ve)return 0;for(Se[1]=0,ke=1;15>ke;++ke){if(be[ke]>1<<ke)return 0;Se[ke+1]=Se[ke]+be[ke]}for(Ae=0;Ae<ve;++Ae)ke=ie[Ae],0<ie[Ae]&&(Le[Se[ke]++]=Ae);if(Se[15]==1)return(ie=new G).g=0,ie.value=Le[0],le(H,He,1,Oe,ie),Oe;var ze,Ge=-1,Ve=Oe-1,mt=0,lt=1,Mt=1,ut=1<<J;for(Ae=0,ke=1,ve=2;ke<=J;++ke,ve<<=1){if(lt+=Mt<<=1,0>(Mt-=be[ke]))return 0;for(;0<be[ke];--be[ke])(ie=new G).g=ke,ie.value=Le[Ae++],le(H,He+mt,ve,ut,ie),mt=X(mt,ke)}for(ke=J+1,ve=2;15>=ke;++ke,ve<<=1){if(lt+=Mt<<=1,0>(Mt-=be[ke]))return 0;for(;0<be[ke];--be[ke]){if(ie=new G,(mt&Ve)!=Ge){for(He+=ut,ze=1<<(Ge=ke)-J;15>Ge&&!(0>=(ze-=be[Ge]));)++Ge,ze<<=1;Oe+=ut=1<<(ze=Ge-J),H[K+(Ge=mt&Ve)].g=ze+J,H[K+Ge].value=He-K-Ge}ie.g=ke-J,ie.value=Le[Ae++],le(H,He+(mt>>J),ve,ut,ie),mt=X(mt,ke)}}return lt!=2*Se[15]-1?0:Oe}(v,_,E,L,F,U)}function G(){this.value=this.g=0}function fe(){this.value=this.g=0}function ae(){this.G=o(5,G),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(_r,fe)}function me(v,_,E,L){e(v!=null),e(_!=null),e(2147483648>L),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=_,v.pa=E,v.Jd=_,v.Yc=E+L,v.Zc=4<=L?E+L-4+1:E,xe(v)}function te(v,_){for(var E=0;0<_--;)E|=Te(v,128)<<_;return E}function ce(v,_){var E=te(v,_);return pe(v)?-E:E}function ne(v,_,E,L){var F,U=0;for(e(v!=null),e(_!=null),e(4294967288>L),v.Sb=L,v.Ra=0,v.u=0,v.h=0,4<L&&(L=4),F=0;F<L;++F)U+=_[E+F]<<8*F;v.Ra=U,v.bb=L,v.oa=_,v.pa=E}function de(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<ol-8>>>0,++v.bb,v.u-=8;j(v)&&(v.h=1,v.u=0)}function D(v,_){if(e(0<=_),!v.h&&_<=al){var E=W(v)&bo[_];return v.u+=_,de(v),E}return v.h=1,v.u=0}function ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(v){return v.Ra>>>(v.u&ol-1)>>>0}function j(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>ol}function re(v,_){v.u=_,v.h=j(v)}function se(v){v.u>=eu&&(e(v.u>=eu),de(v))}function xe(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function pe(v){return te(v,1)}function Te(v,_){var E=v.Ca;0>v.b&&xe(v);var L=v.b,F=E*_>>>8,U=(v.I>>>L>F)+0;for(U?(E-=F,v.I-=F+1<<L>>>0):E=F+1,L=E,F=0;256<=L;)F+=8,L>>=8;return L=7^F+cs[L],v.b-=L,v.Ca=(E<<L)-1,U}function $e(v,_,E){v[_+0]=E>>24&255,v[_+1]=E>>16&255,v[_+2]=E>>8&255,v[_+3]=E>>0&255}function Ye(v,_){return v[_+0]<<0|v[_+1]<<8}function et(v,_){return Ye(v,_)|v[_+2]<<16}function tt(v,_){return Ye(v,_)|Ye(v,_+2)<<16}function xt(v,_){var E=1<<_;return e(v!=null),e(0<_),v.X=s(E),v.X==null?0:(v.Mb=32-_,v.Xa=_,1)}function Fe(v,_){e(v!=null),e(_!=null),e(v.Xa==_.Xa),i(_.X,0,v.X,0,1<<_.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function bt(v,_,E,L){e(E!=null),e(L!=null);var F=E[0],U=L[0];return F==0&&(F=(v*U+_/2)/_),U==0&&(U=(_*F+v/2)/v),0>=F||0>=U?0:(E[0]=F,L[0]=U,1)}function nt(v,_){return v+(1<<_)-1>>>_}function Je(v,_){return((4278255360&v)+(4278255360&_)>>>0&4278255360)+((16711935&v)+(16711935&_)>>>0&16711935)>>>0}function it(v,_){V[_]=function(E,L,F,U,H,K,J){var ie;for(ie=0;ie<H;++ie){var ve=V[v](K[J+ie-1],F,U+ie);K[J+ie]=Je(E[L+ie],ve)}}}function rt(){this.ud=this.hd=this.jd=0}function je(v,_){return((4278124286&(v^_))>>>1)+(v&_)>>>0}function ot(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Et(v,_){return ot(v+(v-_+.5>>1))}function $t(v,_,E){return Math.abs(_-E)-Math.abs(v-E)}function It(v,_,E,L,F,U,H){for(L=U[H-1],E=0;E<F;++E)U[H+E]=L=Je(v[_+E],L)}function Ot(v,_,E,L,F){var U;for(U=0;U<E;++U){var H=v[_+U],K=H>>8&255,J=16711935&(J=(J=16711935&H)+((K<<16)+K));L[F+U]=(4278255360&H)+J>>>0}}function Rt(v,_){_.jd=v>>0&255,_.hd=v>>8&255,_.ud=v>>16&255}function vt(v,_,E,L,F,U){var H;for(H=0;H<L;++H){var K=_[E+H],J=K>>>8,ie=K,ve=255&(ve=(ve=K>>>16)+((v.jd<<24>>24)*(J<<24>>24)>>>5));ie=255&(ie=(ie=ie+((v.hd<<24>>24)*(J<<24>>24)>>>5))+((v.ud<<24>>24)*(ve<<24>>24)>>>5)),F[U+H]=(4278255360&K)+(ve<<16)+ie}}function Ht(v,_,E,L,F){V[_]=function(U,H,K,J,ie,ve,Le,ke,Ae){for(J=Le;J<ke;++J)for(Le=0;Le<Ae;++Le)ie[ve++]=F(K[L(U[H++])])},V[v]=function(U,H,K,J,ie,ve,Le){var ke=8>>U.b,Ae=U.Ea,He=U.K[0],Oe=U.w;if(8>ke)for(U=(1<<U.b)-1,Oe=(1<<ke)-1;H<K;++H){var be,Se=0;for(be=0;be<Ae;++be)be&U||(Se=L(J[ie++])),ve[Le++]=F(He[Se&Oe]),Se>>=ke}else V["VP8LMapColor"+E](J,ie,He,Oe,ve,Le,H,K,Ae)}}function Ke(v,_,E,L,F){for(E=_+E;_<E;){var U=v[_++];L[F++]=U>>16&255,L[F++]=U>>8&255,L[F++]=U>>0&255}}function Vt(v,_,E,L,F){for(E=_+E;_<E;){var U=v[_++];L[F++]=U>>16&255,L[F++]=U>>8&255,L[F++]=U>>0&255,L[F++]=U>>24&255}}function Pt(v,_,E,L,F){for(E=_+E;_<E;){var U=(H=v[_++])>>16&240|H>>12&15,H=H>>0&240|H>>28&15;L[F++]=U,L[F++]=H}}function hi(v,_,E,L,F){for(E=_+E;_<E;){var U=(H=v[_++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;L[F++]=U,L[F++]=H}}function tn(v,_,E,L,F){for(E=_+E;_<E;){var U=v[_++];L[F++]=U>>0&255,L[F++]=U>>8&255,L[F++]=U>>16&255}}function gn(v,_,E,L,F,U){if(U==0)for(E=_+E;_<E;)$e(L,((U=v[_++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),F+=32;else i(L,F,v,_,E)}function Li(v,_){V[_][0]=V[v+"0"],V[_][1]=V[v+"1"],V[_][2]=V[v+"2"],V[_][3]=V[v+"3"],V[_][4]=V[v+"4"],V[_][5]=V[v+"5"],V[_][6]=V[v+"6"],V[_][7]=V[v+"7"],V[_][8]=V[v+"8"],V[_][9]=V[v+"9"],V[_][10]=V[v+"10"],V[_][11]=V[v+"11"],V[_][12]=V[v+"12"],V[_][13]=V[v+"13"],V[_][14]=V[v+"0"],V[_][15]=V[v+"0"]}function Gt(v){return v==nc||v==Mo||v==Ga||v==ru}function As(){this.eb=[],this.size=this.A=this.fb=0}function ei(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new As,this.f.kb=new ei,this.sd=null}function bi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ni(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function bn(v,_){var E=v.T,L=_.ba.f.RGBA,F=L.eb,U=L.fb+v.ka*L.A,H=Or[_.ba.S],K=v.y,J=v.O,ie=v.f,ve=v.N,Le=v.ea,ke=v.W,Ae=_.cc,He=_.dc,Oe=_.Mc,be=_.Nc,Se=v.ka,ze=v.ka+v.T,Ge=v.U,Ve=Ge+1>>1;for(Se==0?H(K,J,null,null,ie,ve,Le,ke,ie,ve,Le,ke,F,U,null,null,Ge):(H(_.ec,_.fc,K,J,Ae,He,Oe,be,ie,ve,Le,ke,F,U-L.A,F,U,Ge),++E);Se+2<ze;Se+=2)Ae=ie,He=ve,Oe=Le,be=ke,ve+=v.Rc,ke+=v.Rc,U+=2*L.A,H(K,(J+=2*v.fa)-v.fa,K,J,Ae,He,Oe,be,ie,ve,Le,ke,F,U-L.A,F,U,Ge);return J+=v.fa,v.j+ze<v.o?(i(_.ec,_.fc,K,J,Ge),i(_.cc,_.dc,ie,ve,Ve),i(_.Mc,_.Nc,Le,ke,Ve),E--):1&ze||H(K,J,null,null,ie,ve,Le,ke,ie,ve,Le,ke,F,U+L.A,null,null,Ge),E}function or(v,_,E){var L=v.F,F=[v.J];if(L!=null){var U=v.U,H=_.ba.S,K=H==dl||H==Ga;_=_.ba.f.RGBA;var J=[0],ie=v.ka;J[0]=v.T,v.Kb&&(ie==0?--J[0]:(--ie,F[0]-=v.width),v.j+v.ka+v.T==v.o&&(J[0]=v.o-v.j-ie));var ve=_.eb;ie=_.fb+ie*_.A,v=_n(L,F[0],v.width,U,J,ve,ie+(K?0:3),_.A),e(E==J),v&&Gt(H)&&Es(ve,ie,K,U,J,_.A)}return 0}function wi(v){var _=v.ma,E=_.ba.S,L=11>E,F=E==iu||E==tc||E==dl||E==Ha||E==12||Gt(E);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!xo(_.Oa,v,F?11:12))return 0;if(F&&Gt(E)&&Qe(),v.da)alert("todo:use_scaling");else{if(L){if(_.Ib=Ft,v.Kb){if(E=v.U+1>>1,_.memory=s(v.U+2*E),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+v.U,_.Mc=_.cc,_.Nc=_.dc+E,_.Ib=bn,Qe()}}else alert("todo:EmitYUV");F&&(_.Jb=or,L&&Ee())}if(L&&!Jh){for(v=0;256>v;++v)Ag[v]=89858*(v-128)+Ar>>Ta,sc[v]=-22014*(v-128)+Ar,pd[v]=-45773*(v-128),Tr[v]=113618*(v-128)+Ar>>Ta;for(v=Ro;v<nf;++v)_=76283*(v-16)+Ar>>Ta,ac[v-Ro]=Ns(_,255),md[v-Ro]=Ns(_+8>>4,15);Jh=1}return 1}function Pi(v){var _=v.ma,E=v.U,L=v.T;return e(!(1&v.ka)),0>=E||0>=L?0:(E=_.Ib(v,_),_.Jb!=null&&_.Jb(v,_,E),_.Dc+=E,1)}function Xr(v){v.ma.memory=null}function at(v,_,E,L){return D(v,8)!=47?0:(_[0]=D(v,14)+1,E[0]=D(v,14)+1,L[0]=D(v,1),D(v,3)!=0?0:!v.h)}function yn(v,_){if(4>v)return v+1;var E=v-2>>1;return(2+(1&v)<<E)+D(_,E)+1}function Gn(v,_){return 120<_?_-120:1<=(E=((E=Ka[_-1])>>4)*v+(8-(15&E)))?E:1;var E}function _i(v,_,E){var L=W(E),F=v[_+=255&L].g-8;return 0<F&&(re(E,E.u+8),L=W(E),_+=v[_].value,_+=L&(1<<F)-1),re(E,E.u+v[_].g),v[_].value}function On(v,_,E){return E.g+=v.g,E.value+=v.value<<_>>>0,e(8>=E.g),v.g}function pi(v,_,E){var L=v.xc;return e((_=L==0?0:v.vc[v.md*(E>>L)+(_>>L)])<v.Wb),v.Ya[_]}function Si(v,_,E,L){var F=v.ab,U=v.c*_,H=v.C;_=H+_;var K=E,J=L;for(L=v.Ta,E=v.Ua;0<F--;){var ie=v.gc[F],ve=H,Le=_,ke=K,Ae=J,He=(J=L,K=E,ie.Ea);switch(e(ve<Le),e(Le<=ie.nc),ie.hc){case 2:$c(ke,Ae,(Le-ve)*He,J,K);break;case 0:var Oe=ve,be=Le,Se=J,ze=K,Ge=(ut=ie).Ea;Oe==0&&(dd(ke,Ae,null,null,1,Se,ze),It(ke,Ae+1,0,0,Ge-1,Se,ze+1),Ae+=Ge,ze+=Ge,++Oe);for(var Ve=1<<ut.b,mt=Ve-1,lt=nt(Ge,ut.b),Mt=ut.K,ut=ut.w+(Oe>>ut.b)*lt;Oe<be;){var Un=Mt,$n=ut,vn=1;for(Qu(ke,Ae,Se,ze-Ge,1,Se,ze);vn<Ge;){var hn=(vn&~mt)+Ve;hn>Ge&&(hn=Ge),(0,Ua[Un[$n++]>>8&15])(ke,Ae+ +vn,Se,ze+vn-Ge,hn-vn,Se,ze+vn),vn=hn}Ae+=Ge,ze+=Ge,++Oe&mt||(ut+=lt)}Le!=ie.nc&&i(J,K-He,J,K+(Le-ve-1)*He,He);break;case 1:for(He=ke,be=Ae,Ge=(ke=ie.Ea)-(ze=ke&~(Se=(Ae=1<<ie.b)-1)),Oe=nt(ke,ie.b),Ve=ie.K,ie=ie.w+(ve>>ie.b)*Oe;ve<Le;){for(mt=Ve,lt=ie,Mt=new rt,ut=be+ze,Un=be+ke;be<ut;)Rt(mt[lt++],Mt),_o(Mt,He,be,Ae,J,K),be+=Ae,K+=Ae;be<Un&&(Rt(mt[lt++],Mt),_o(Mt,He,be,Ge,J,K),be+=Ge,K+=Ge),++ve&Se||(ie+=Oe)}break;case 3:if(ke==J&&Ae==K&&0<ie.b){for(be=J,ke=He=K+(Le-ve)*He-(ze=(Le-ve)*nt(ie.Ea,ie.b)),Ae=J,Se=K,Oe=[],ze=(Ge=ze)-1;0<=ze;--ze)Oe[ze]=Ae[Se+ze];for(ze=Ge-1;0<=ze;--ze)be[ke+ze]=Oe[ze];Bs(ie,ve,Le,J,He,J,K)}else Bs(ie,ve,Le,ke,Ae,J,K)}K=L,J=E}J!=E&&i(L,E,K,J,U)}function Rs(v,_){var E=v.V,L=v.Ba+v.c*v.C,F=_-v.C;if(e(_<=v.l.o),e(16>=F),0<F){var U=v.l,H=v.Ta,K=v.Ua,J=U.width;if(Si(v,F,E,L),F=K=[K],e((E=v.C)<(L=_)),e(U.v<U.va),L>U.o&&(L=U.o),E<U.j){var ie=U.j-E;E=U.j,F[0]+=ie*J}if(E>=L?E=0:(F[0]+=4*U.v,U.ka=E-U.j,U.U=U.va-U.v,U.T=L-E,E=1),E){if(K=K[0],11>(E=v.ca).S){var ve=E.f.RGBA,Le=(L=E.S,F=U.U,U=U.T,ie=ve.eb,ve.A),ke=U;for(ve=ve.fb+v.Ma*ve.A;0<ke--;){var Ae=H,He=K,Oe=F,be=ie,Se=ve;switch(L){case Gr:ns(Ae,He,Oe,be,Se);break;case iu:Ur(Ae,He,Oe,be,Se);break;case nc:Ur(Ae,He,Oe,be,Se),Es(be,Se,0,Oe,1,0);break;case wa:na(Ae,He,Oe,be,Se);break;case tc:gn(Ae,He,Oe,be,Se,1);break;case Mo:gn(Ae,He,Oe,be,Se,1),Es(be,Se,0,Oe,1,0);break;case dl:gn(Ae,He,Oe,be,Se,0);break;case Ga:gn(Ae,He,Oe,be,Se,0),Es(be,Se,1,Oe,1,0);break;case Ha:So(Ae,He,Oe,be,Se);break;case ru:So(Ae,He,Oe,be,Se),wn(be,Se,Oe,1,0);break;case Zc:fs(Ae,He,Oe,be,Se);break;default:e(0)}K+=J,ve+=Le}v.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=E.height)}}v.C=_,e(v.C<=v.i)}function li(v){var _;if(0<v.ua)return 0;for(_=0;_<v.Wb;++_){var E=v.Ya[_].G,L=v.Ya[_].H;if(0<E[1][L[1]+0].g||0<E[2][L[2]+0].g||0<E[3][L[3]+0].g)return 0}return 1}function xr(v,_,E,L,F,U){if(v.Z!=0){var H=v.qd,K=v.rd;for(e(Sa[v.Z]!=null);_<E;++_)Sa[v.Z](H,K,L,F,L,F,U),H=L,K=F,F+=U;v.qd=H,v.rd=K}}function Ri(v,_){var E=v.l.ma,L=E.Z==0||E.Z==1?v.l.j:v.C;if(L=v.C<L?L:v.C,e(_<=v.l.o),_>L){var F=v.l.width,U=E.ca,H=E.tb+F*L,K=v.V,J=v.Ba+v.c*L,ie=v.gc;e(v.ab==1),e(ie[0].hc==3),wo(ie[0],L,_,K,J,U,H),xr(E,L,_,U,H,F)}v.C=v.Ma=_}function lr(v,_,E,L,F,U,H){var K=v.$/L,J=v.$%L,ie=v.m,ve=v.s,Le=E+v.$,ke=Le;F=E+L*F;var Ae=E+L*U,He=280+ve.ua,Oe=v.Pb?K:16777216,be=0<ve.ua?ve.Wa:null,Se=ve.wc,ze=Le<Ae?pi(ve,J,K):null;e(v.C<U),e(Ae<=F);var Ge=!1;e:for(;;){for(;Ge||Le<Ae;){var Ve=0;if(K>=Oe){var mt=Le-E;e((Oe=v).Pb),Oe.wd=Oe.m,Oe.xd=mt,0<Oe.s.ua&&Fe(Oe.s.Wa,Oe.s.vb),Oe=K+Kh}if(J&Se||(ze=pi(ve,J,K)),e(ze!=null),ze.Qb&&(_[Le]=ze.qb,Ge=!0),!Ge)if(se(ie),ze.jc){Ve=ie,mt=_;var lt=Le,Mt=ze.pd[W(Ve)&_r-1];e(ze.jc),256>Mt.g?(re(Ve,Ve.u+Mt.g),mt[lt]=Mt.value,Ve=0):(re(Ve,Ve.u+Mt.g-256),e(256<=Mt.value),Ve=Mt.value),Ve==0&&(Ge=!0)}else Ve=_i(ze.G[0],ze.H[0],ie);if(ie.h)break;if(Ge||256>Ve){if(!Ge)if(ze.nd)_[Le]=(ze.qb|Ve<<8)>>>0;else{if(se(ie),Ge=_i(ze.G[1],ze.H[1],ie),se(ie),mt=_i(ze.G[2],ze.H[2],ie),lt=_i(ze.G[3],ze.H[3],ie),ie.h)break;_[Le]=(lt<<24|Ge<<16|Ve<<8|mt)>>>0}if(Ge=!1,++Le,++J>=L&&(J=0,++K,H!=null&&K<=U&&!(K%16)&&H(v,K),be!=null))for(;ke<Le;)Ve=_[ke++],be.X[(506832829*Ve&4294967295)>>>be.Mb]=Ve}else if(280>Ve){if(Ve=yn(Ve-256,ie),mt=_i(ze.G[4],ze.H[4],ie),se(ie),mt=Gn(L,mt=yn(mt,ie)),ie.h)break;if(Le-E<mt||F-Le<Ve)break e;for(lt=0;lt<Ve;++lt)_[Le+lt]=_[Le+lt-mt];for(Le+=Ve,J+=Ve;J>=L;)J-=L,++K,H!=null&&K<=U&&!(K%16)&&H(v,K);if(e(Le<=F),J&Se&&(ze=pi(ve,J,K)),be!=null)for(;ke<Le;)Ve=_[ke++],be.X[(506832829*Ve&4294967295)>>>be.Mb]=Ve}else{if(!(Ve<He))break e;for(Ge=Ve-280,e(be!=null);ke<Le;)Ve=_[ke++],be.X[(506832829*Ve&4294967295)>>>be.Mb]=Ve;Ve=Le,e(!(Ge>>>(mt=be).Xa)),_[Ve]=mt.X[Ge],Ge=!0}Ge||e(ie.h==j(ie))}if(v.Pb&&ie.h&&Le<F)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Fe(v.s.vb,v.s.Wa);else{if(ie.h)break e;H!=null&&H(v,K>U?U:K),v.a=0,v.$=Le-E}return 1}return v.a=3,0}function ur(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var _=v.Wa;_!=null&&(_.X=null),v.vb=null,e(v!=null)}function Xi(){var v=new fd;return v==null?null:(v.a=0,v.xb=su,Li("Predictor","VP8LPredictors"),Li("Predictor","VP8LPredictors_C"),Li("PredictorAdd","VP8LPredictorsAdd"),Li("PredictorAdd","VP8LPredictorsAdd_C"),$c=Ot,_o=vt,ns=Ke,Ur=Vt,So=Pt,fs=hi,na=tn,V.VP8LMapColor32b=Dr,V.VP8LMapColor8b=ec,v)}function Ln(v,_,E,L,F){var U=1,H=[v],K=[_],J=L.m,ie=L.s,ve=null,Le=0;e:for(;;){if(E)for(;U&&D(J,1);){var ke=H,Ae=K,He=L,Oe=1,be=He.m,Se=He.gc[He.ab],ze=D(be,2);if(He.Oc&1<<ze)U=0;else{switch(He.Oc|=1<<ze,Se.hc=ze,Se.Ea=ke[0],Se.nc=Ae[0],Se.K=[null],++He.ab,e(4>=He.ab),ze){case 0:case 1:Se.b=D(be,3)+2,Oe=Ln(nt(Se.Ea,Se.b),nt(Se.nc,Se.b),0,He,Se.K),Se.K=Se.K[0];break;case 3:var Ge,Ve=D(be,8)+1,mt=16<Ve?0:4<Ve?1:2<Ve?2:3;if(ke[0]=nt(Se.Ea,mt),Se.b=mt,Ge=Oe=Ln(Ve,1,0,He,Se.K)){var lt,Mt=Ve,ut=Se,Un=1<<(8>>ut.b),$n=s(Un);if($n==null)Ge=0;else{var vn=ut.K[0],hn=ut.w;for($n[0]=ut.K[0][0],lt=1;lt<1*Mt;++lt)$n[lt]=Je(vn[hn+lt],$n[lt-1]);for(;lt<4*Un;++lt)$n[lt]=0;ut.K[0]=null,ut.K[0]=$n,Ge=1}}Oe=Ge;break;case 2:break;default:e(0)}U=Oe}}if(H=H[0],K=K[0],U&&D(J,1)&&!(U=1<=(Le=D(J,4))&&11>=Le)){L.a=3;break e}var ti;if(ti=U)t:{var Jn,nn,ii,jt=L,Jt=H,Dn=K,Vn=Le,Fr=E,Cr=jt.m,rr=jt.s,sr=[null],dr=1,Vs=0,Zn=pl[Vn];n:for(;;){if(Fr&&D(Cr,1)){var hr=D(Cr,3)+2,sa=nt(Jt,hr),Do=nt(Dn,hr),yl=sa*Do;if(!Ln(sa,Do,0,jt,sr))break n;for(sr=sr[0],rr.xc=hr,Jn=0;Jn<yl;++Jn){var Io=sr[Jn]>>8&65535;sr[Jn]=Io,Io>=dr&&(dr=Io+1)}}if(Cr.h)break n;for(nn=0;5>nn;++nn){var Ni=ks[nn];!nn&&0<Vn&&(Ni+=1<<Vn),Vs<Ni&&(Vs=Ni)}var oc=o(dr*Zn,G),rf=dr,rs=o(rf,ae);if(rs==null)var Fi=null;else e(65536>=rf),Fi=rs;var vl=s(Vs);if(Fi==null||vl==null||oc==null){jt.a=1;break n}var Oo=oc;for(Jn=ii=0;Jn<dr;++Jn){var hs=Fi[Jn],Fo=hs.G,ps=hs.H,lc=0,ou=1,sf=0;for(nn=0;5>nn;++nn){Ni=ks[nn],Fo[nn]=Oo,ps[nn]=ii,!nn&&0<Vn&&(Ni+=1<<Vn);r:{var uc,af=Ni,cc=jt,lu=vl,Qh=Oo,ep=ii,fc=0,Za=cc.m,Cg=D(Za,1);if(r(lu,0,0,af),Cg){var tp=D(Za,1)+1,np=D(Za,1),gd=D(Za,np==0?1:8);lu[gd]=1,tp==2&&(lu[gd=D(Za,8)]=1);var uu=1}else{var yd=s(19),vd=D(Za,4)+4;if(19<vd){cc.a=3;var dc=0;break r}for(uc=0;uc<vd;++uc)yd[Wa[uc]]=D(Za,3);var of=void 0,cu=void 0,ip=cc,rp=yd,Xa=af,hc=lu,lf=0,aa=ip.m,fu=8,xd=o(128,G);i:for(;z(xd,0,7,rp,19);){if(D(aa,1)){var sp=2+2*D(aa,3);if((of=2+D(aa,sp))>Xa)break i}else of=Xa;for(cu=0;cu<Xa&&of--;){se(aa);var bd=xd[0+(127&W(aa))];re(aa,aa.u+bd.g);var xl=bd.value;if(16>xl)hc[cu++]=xl,xl!=0&&(fu=xl);else{var ap=xl==16,wd=xl-16,_d=Us[wd],Sd=D(aa,Xc[wd])+_d;if(cu+Sd>Xa)break i;for(var op=ap?fu:0;0<Sd--;)hc[cu++]=op}}lf=1;break i}lf||(ip.a=3),uu=lf}(uu=uu&&!Za.h)&&(fc=z(Qh,ep,8,lu,af)),uu&&fc!=0?dc=fc:(cc.a=3,dc=0)}if(dc==0)break n;if(ou&&hl[nn]==1&&(ou=Oo[ii].g==0),lc+=Oo[ii].g,ii+=dc,3>=nn){var bl,uf=vl[0];for(bl=1;bl<Ni;++bl)vl[bl]>uf&&(uf=vl[bl]);sf+=uf}}if(hs.nd=ou,hs.Qb=0,ou&&(hs.qb=(Fo[3][ps[3]+0].value<<24|Fo[1][ps[1]+0].value<<16|Fo[2][ps[2]+0].value)>>>0,lc==0&&256>Fo[0][ps[0]+0].value&&(hs.Qb=1,hs.qb+=Fo[0][ps[0]+0].value<<8)),hs.jc=!hs.Qb&&6>sf,hs.jc){var pc,Qa=hs;for(pc=0;pc<_r;++pc){var Ca=pc,eo=Qa.pd[Ca],mc=Qa.G[0][Qa.H[0]+Ca];256<=mc.value?(eo.g=mc.g+256,eo.value=mc.value):(eo.g=0,eo.value=0,Ca>>=On(mc,8,eo),Ca>>=On(Qa.G[1][Qa.H[1]+Ca],16,eo),Ca>>=On(Qa.G[2][Qa.H[2]+Ca],0,eo),On(Qa.G[3][Qa.H[3]+Ca],24,eo))}}}rr.vc=sr,rr.Wb=dr,rr.Ya=Fi,rr.yc=oc,ti=1;break t}ti=0}if(!(U=ti)){L.a=3;break e}if(0<Le){if(ie.ua=1<<Le,!xt(ie.Wa,Le)){L.a=1,U=0;break e}}else ie.ua=0;var gc=L,Ad=H,lp=K,Td=gc.s,Cd=Td.xc;if(gc.c=Ad,gc.i=lp,Td.md=nt(Ad,Cd),Td.wc=Cd==0?-1:(1<<Cd)-1,E){L.xb=$h;break e}if((ve=s(H*K))==null){L.a=1,U=0;break e}U=(U=lr(L,ve,0,H,K,K,null))&&!J.h;break e}return U?(F!=null?F[0]=ve:(e(ve==null),e(E)),L.$=0,E||ur(ie)):ur(ie),U}function Ds(v,_){var E=v.c*v.i,L=E+_+16*_;return e(v.c<=_),v.V=s(L),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+E+_,1)}function Is(v,_){var E=v.C,L=_-E,F=v.V,U=v.Ba+v.c*E;for(e(_<=v.l.o);0<L;){var H=16<L?16:L,K=v.l.ma,J=v.l.width,ie=J*H,ve=K.ca,Le=K.tb+J*E,ke=v.Ta,Ae=v.Ua;Si(v,H,F,U),ci(ke,Ae,ve,Le,ie),xr(K,E,E+H,ve,Le,J),L-=H,F+=H*v.c,E+=H}e(E==_),v.C=v.Ma=_}function qi(){this.ub=this.yd=this.td=this.Rb=0}function cr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ui(){this.Yb=function(){var v=[];return function _(E,L,F){for(var U=F[L],H=0;H<U&&(E.push(F.length>L+1?[]:0),!(F.length<L+1));H++)_(E[H],L+1,F)}(v,0,[3,11]),v}()}function Ts(){this.jb=s(3),this.Wc=u([4,8],ui),this.Xc=u([4,17],ui)}function Os(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Pr(){this.ld=this.La=this.dd=this.tc=0}function ls(){this.Na=this.la=0}function jr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fa(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pr),this.Y=0,this.ya=Array(new Fs),this.aa=0,this.l=new ht}function Qr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Js(){this.cb=this.a=0,this.sc="",this.m=new ye,this.Od=new qi,this.Kc=new cr,this.ed=new Os,this.Qa=new Hr,this.Ic=this.$c=this.Aa=0,this.D=new Fa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ye),this.ia=0,this.pb=o(4,jr),this.Pa=new Ts,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qr),this.Hd=0,this.rb=Array(new ls),this.sb=0,this.wa=Array(new Pr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fs),this.L=this.aa=0,this.gd=u([4,2],Pr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ht(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yt(){var v=new Js;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Sr||(Sr=un)),v}function Bt(v,_,E){return v.a==0&&(v.a=_,v.sc=E,v.cb=0),0}function pt(v,_,E){return 3<=E&&v[_+0]==157&&v[_+1]==1&&v[_+2]==42}function mi(v,_){if(v==null)return 0;if(v.a=0,v.sc="OK",_==null)return Bt(v,2,"null VP8Io passed to VP8GetHeaders()");var E=_.data,L=_.w,F=_.ha;if(4>F)return Bt(v,7,"Truncated header.");var U=E[L+0]|E[L+1]<<8|E[L+2]<<16,H=v.Od;if(H.Rb=!(1&U),H.td=U>>1&7,H.yd=U>>4&1,H.ub=U>>5,3<H.td)return Bt(v,3,"Incorrect keyframe parameters.");if(!H.yd)return Bt(v,4,"Frame not displayable.");L+=3,F-=3;var K=v.Kc;if(H.Rb){if(7>F)return Bt(v,7,"cannot parse picture header");if(!pt(E,L,F))return Bt(v,3,"Bad code word");K.c=16383&(E[L+4]<<8|E[L+3]),K.Td=E[L+4]>>6,K.i=16383&(E[L+6]<<8|E[L+5]),K.Ud=E[L+6]>>6,L+=7,F-=7,v.za=K.c+15>>4,v.Ub=K.i+15>>4,_.width=K.c,_.height=K.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r((U=v.Pa).jb,0,255,U.jb.length),e((U=v.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,r(U.Zb,0,0,U.Zb.length),r(U.Lb,0,0,U.Lb)}if(H.ub>F)return Bt(v,7,"bad partition length");me(U=v.m,E,L,H.ub),L+=H.ub,F-=H.ub,H.Rb&&(K.Ld=pe(U),K.Kd=pe(U)),K=v.Qa;var J,ie=v.Pa;if(e(U!=null),e(K!=null),K.Cb=pe(U),K.Cb){if(K.Bb=pe(U),pe(U)){for(K.Fb=pe(U),J=0;4>J;++J)K.Zb[J]=pe(U)?ce(U,7):0;for(J=0;4>J;++J)K.Lb[J]=pe(U)?ce(U,6):0}if(K.Bb)for(J=0;3>J;++J)ie.jb[J]=pe(U)?te(U,8):255}else K.Bb=0;if(U.Ka)return Bt(v,3,"cannot parse segment header");if((K=v.ed).zd=pe(U),K.Tb=te(U,6),K.wb=te(U,3),K.Pc=pe(U),K.Pc&&pe(U)){for(ie=0;4>ie;++ie)pe(U)&&(K.vd[ie]=ce(U,6));for(ie=0;4>ie;++ie)pe(U)&&(K.od[ie]=ce(U,6))}if(v.L=K.Tb==0?0:K.zd?1:2,U.Ka)return Bt(v,3,"cannot parse filter header");var ve=F;if(F=J=L,L=J+ve,K=ve,v.Xb=(1<<te(v.m,2))-1,ve<3*(ie=v.Xb))E=7;else{for(J+=3*ie,K-=3*ie,ve=0;ve<ie;++ve){var Le=E[F+0]|E[F+1]<<8|E[F+2]<<16;Le>K&&(Le=K),me(v.Jc[+ve],E,J,Le),J+=Le,K-=Le,F+=3}me(v.Jc[+ie],E,J,K),E=J<L?0:5}if(E!=0)return Bt(v,E,"cannot parse partitions");for(E=te(J=v.m,7),F=pe(J)?ce(J,4):0,L=pe(J)?ce(J,4):0,K=pe(J)?ce(J,4):0,ie=pe(J)?ce(J,4):0,J=pe(J)?ce(J,4):0,ve=v.Qa,Le=0;4>Le;++Le){if(ve.Cb){var ke=ve.Zb[Le];ve.Fb||(ke+=E)}else{if(0<Le){v.pb[Le]=v.pb[0];continue}ke=E}var Ae=v.pb[Le];Ae.Sc[0]=ic[Ns(ke+F,127)],Ae.Sc[1]=rc[Ns(ke+0,127)],Ae.Eb[0]=2*ic[Ns(ke+L,127)],Ae.Eb[1]=101581*rc[Ns(ke+K,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=ic[Ns(ke+ie,117)],Ae.Qc[1]=rc[Ns(ke+J,127)],Ae.lc=ke+J}if(!H.Rb)return Bt(v,4,"Not a key frame.");for(pe(U),H=v.Pa,E=0;4>E;++E){for(F=0;8>F;++F)for(L=0;3>L;++L)for(K=0;11>K;++K)ie=Te(U,ml[E][F][L][K])?te(U,8):_a[E][F][L][K],H.Wc[E][F].Yb[L][K]=ie;for(F=0;17>F;++F)H.Xc[E][F]=H.Wc[E][Yh[F]]}return v.kc=pe(U),v.kc&&(v.Bd=te(U,8)),v.cb=1}function un(v,_,E,L,F,U,H){var K=_[F].Yb[E];for(E=0;16>F;++F){if(!Te(v,K[E+0]))return F;for(;!Te(v,K[E+1]);)if(K=_[++F].Yb[0],E=0,F==16)return 16;var J=_[F+1].Yb;if(Te(v,K[E+2])){var ie=v,ve=0;if(Te(ie,(ke=K)[(Le=E)+3]))if(Te(ie,ke[Le+6])){for(K=0,Le=2*(ve=Te(ie,ke[Le+8]))+(ke=Te(ie,ke[Le+9+ve])),ve=0,ke=Ki[Le];ke[K];++K)ve+=ve+Te(ie,ke[K]);ve+=3+(8<<Le)}else Te(ie,ke[Le+7])?(ve=7+2*Te(ie,165),ve+=Te(ie,145)):ve=5+Te(ie,159);else ve=Te(ie,ke[Le+4])?3+Te(ie,ke[Le+5]):2;K=J[2]}else ve=1,K=J[1];J=H+Hn[F],0>(ie=v).b&&xe(ie);var Le,ke=ie.b,Ae=(Le=ie.Ca>>1)-(ie.I>>ke)>>31;--ie.b,ie.Ca+=Ae,ie.Ca|=1,ie.I-=(Le+1&Ae)<<ke,U[J]=((ve^Ae)-Ae)*L[(0<F)+0]}return 16}function cn(v){var _=v.rb[v.sb-1];_.la=0,_.Na=0,r(v.zc,0,0,v.zc.length),v.ja=0}function es(v,_){if(v==null)return 0;if(_==null)return Bt(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!mi(v,_))return 0;if(e(v.cb),_.ac==null||_.ac(_)){_.ob&&(v.L=0);var E=Ja[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=_.v-E>>4,v.zb=_.j-E>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=_.o+15+E>>4,v.Hb=_.va+15+E>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var L=v.ed;for(E=0;4>E;++E){var F;if(v.Qa.Cb){var U=v.Qa.Lb[E];v.Qa.Fb||(U+=L.Tb)}else U=L.Tb;for(F=0;1>=F;++F){var H=v.gd[E][F],K=U;if(L.Pc&&(K+=L.vd[0],F&&(K+=L.od[0])),0<(K=0>K?0:63<K?63:K)){var J=K;0<L.wb&&(J=4<L.wb?J>>2:J>>1)>9-L.wb&&(J=9-L.wb),1>J&&(J=1),H.dd=J,H.tc=2*K+J,H.ld=40<=K?2:15<=K?1:0}else H.tc=0;H.La=F}}}E=0}else Bt(v,6,"Frame setup failed"),E=v.a;if(E=E==0){if(E){v.$c=0,0<v.Aa||(v.Ic=Zh);e:{E=v.Ic,L=4*(J=v.za);var ie=32*J,ve=J+1,Le=0<v.L?J*(0<v.Aa?2:1):0,ke=(v.Aa==2?2:1)*J;if((H=L+832+(F=3*(16*E+Ja[v.L])/2*ie)+(U=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=H)E=0;else{if(H>v.Vb){if(v.Vb=0,v.Ec=s(H),v.Fc=0,v.Ec==null){E=Bt(v,1,"no memory during frame initialization.");break e}v.Vb=H}H=v.Ec,K=v.Fc,v.Ac=H,v.Bc=K,K+=L,v.Gd=o(ie,Qr),v.Hd=0,v.rb=o(ve+1,ls),v.sb=1,v.wa=Le?o(Le,Pr):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=J),e(!0),v.oc=H,v.pc=K,K+=832,v.ya=o(ke,Fs),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=J),v.R=16*J,v.B=8*J,J=(ie=Ja[v.L])*v.R,ie=ie/2*v.B,v.sa=H,v.ta=K+J,v.qa=v.sa,v.ra=v.ta+16*E*v.R+ie,v.Ha=v.qa,v.Ia=v.ra+8*E*v.B+ie,v.$c=0,K+=F,v.mb=U?H:null,v.nb=U?K:null,e(K+U<=v.Fc+v.Vb),cn(v),r(v.Ac,v.Bc,0,L),E=1}}if(E){if(_.ka=0,_.y=v.sa,_.O=v.ta,_.f=v.qa,_.N=v.ra,_.ea=v.Ha,_.Vd=v.Ia,_.fa=v.R,_.Rc=v.B,_.F=null,_.J=0,!qa){for(E=-255;255>=E;++E)ir[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)zs[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)Eo[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)ko[255+E]=0>E?0:255<E?255:E;qa=1}xa=Zs,ia=Ai,ra=Di,fr=Ti,ds=go,Gi=Sn,ll=va,ba=il,tu=cd,Ao=Yu,To=ud,Co=Wl,ul=Kl,nu=Yc,No=er,Va=Hi,cl=Cs,Wi=Gl,is[0]=wt,is[1]=ql,is[2]=ft,is[3]=zt,is[4]=_t,is[5]=Fn,is[6]=fn,is[7]=Bn,is[8]=Ut,is[9]=sn,Ya[0]=_e,Ya[1]=nl,Ya[2]=ts,Ya[3]=yo,Ya[4]=Ne,Ya[5]=Xe,Ya[6]=Ze,Ms[0]=Dt,Ms[1]=Hl,Ms[2]=Wn,Ms[3]=gi,Ms[4]=Wt,Ms[5]=St,Ms[6]=zn,E=1}else E=0}E&&(E=function(Ae,He){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Oe,be=Ae.Jc[Ae.M&Ae.Xb],Se=Ae.m,ze=Ae;for(Oe=0;Oe<ze.za;++Oe){var Ge=Se,Ve=ze,mt=Ve.Ac,lt=Ve.Bc+4*Oe,Mt=Ve.zc,ut=Ve.ya[Ve.aa+Oe];if(Ve.Qa.Bb?ut.$b=Te(Ge,Ve.Pa.jb[0])?2+Te(Ge,Ve.Pa.jb[2]):Te(Ge,Ve.Pa.jb[1]):ut.$b=0,Ve.kc&&(ut.Ad=Te(Ge,Ve.Bd)),ut.Za=!Te(Ge,145)+0,ut.Za){var Un=ut.Ob,$n=0;for(Ve=0;4>Ve;++Ve){var vn,hn=Mt[0+Ve];for(vn=0;4>vn;++vn){hn=hd[mt[lt+vn]][hn];for(var ti=Lo[Te(Ge,hn[0])];0<ti;)ti=Lo[2*ti+Te(Ge,hn[ti])];hn=-ti,mt[lt+vn]=hn}i(Un,$n,mt,lt,4),$n+=4,Mt[0+Ve]=hn}}else hn=Te(Ge,156)?Te(Ge,128)?1:3:Te(Ge,163)?2:0,ut.Ob[0]=hn,r(mt,lt,hn,4),r(Mt,0,hn,4);ut.Dd=Te(Ge,142)?Te(Ge,114)?Te(Ge,183)?1:3:2:0}if(ze.m.Ka)return Bt(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(ze=be,Ge=(Se=Ae).rb[Se.sb-1],mt=Se.rb[Se.sb+Se.ja],Oe=Se.ya[Se.aa+Se.ja],lt=Se.kc?Oe.Ad:0)Ge.la=mt.la=0,Oe.Za||(Ge.Na=mt.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var Jn,nn;if(Ge=mt,mt=ze,lt=Se.Pa.Xc,Mt=Se.ya[Se.aa+Se.ja],ut=Se.pb[Mt.$b],Ve=Mt.ad,Un=0,$n=Se.rb[Se.sb-1],hn=vn=0,r(Ve,Un,0,384),Mt.Za)var ii=0,jt=lt[3];else{ti=s(16);var Jt=Ge.Na+$n.Na;if(Jt=Sr(mt,lt[1],Jt,ut.Eb,0,ti,0),Ge.Na=$n.Na=(0<Jt)+0,1<Jt)xa(ti,0,Ve,Un);else{var Dn=ti[0]+3>>3;for(ti=0;256>ti;ti+=16)Ve[Un+ti]=Dn}ii=1,jt=lt[0]}var Vn=15&Ge.la,Fr=15&$n.la;for(ti=0;4>ti;++ti){var Cr=1&Fr;for(Dn=nn=0;4>Dn;++Dn)Vn=Vn>>1|(Cr=(Jt=Sr(mt,jt,Jt=Cr+(1&Vn),ut.Sc,ii,Ve,Un))>ii)<<7,nn=nn<<2|(3<Jt?3:1<Jt?2:Ve[Un+0]!=0),Un+=16;Vn>>=4,Fr=Fr>>1|Cr<<7,vn=(vn<<8|nn)>>>0}for(jt=Vn,ii=Fr>>4,Jn=0;4>Jn;Jn+=2){for(nn=0,Vn=Ge.la>>4+Jn,Fr=$n.la>>4+Jn,ti=0;2>ti;++ti){for(Cr=1&Fr,Dn=0;2>Dn;++Dn)Jt=Cr+(1&Vn),Vn=Vn>>1|(Cr=0<(Jt=Sr(mt,lt[2],Jt,ut.Qc,0,Ve,Un)))<<3,nn=nn<<2|(3<Jt?3:1<Jt?2:Ve[Un+0]!=0),Un+=16;Vn>>=2,Fr=Fr>>1|Cr<<5}hn|=nn<<4*Jn,jt|=Vn<<4<<Jn,ii|=(240&Fr)<<Jn}Ge.la=jt,$n.la=ii,Mt.Hc=vn,Mt.Gc=hn,Mt.ia=43690&hn?0:ut.ia,lt=!(vn|hn)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[Oe.$b][Oe.Za],Se.wa[Se.Y+Se.ja].La|=!lt),ze.Ka)return Bt(Ae,7,"Premature end-of-file encountered.")}if(cn(Ae),Se=He,ze=1,Oe=(be=Ae).D,Ge=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Oe.M=be.M,Oe.uc=Ge,ja(be,Oe),ze=1,Oe=(nn=be.D).Nb,Ge=(hn=Ja[be.L])*be.R,mt=hn/2*be.B,ti=16*Oe*be.R,Dn=8*Oe*be.B,lt=be.sa,Mt=be.ta-Ge+ti,ut=be.qa,Ve=be.ra-mt+Dn,Un=be.Ha,$n=be.Ia-mt+Dn,Fr=(Vn=nn.M)==0,vn=Vn>=be.Va-1,be.Aa==2&&ja(be,nn),nn.uc)for(Cr=(Jt=be).D.M,e(Jt.D.uc),nn=Jt.yb;nn<Jt.Hb;++nn){ii=nn,jt=Cr;var rr=(sr=(Ni=Jt).D).Nb;Jn=Ni.R;var sr=sr.wa[sr.Y+ii],dr=Ni.sa,Vs=Ni.ta+16*rr*Jn+16*ii,Zn=sr.dd,hr=sr.tc;if(hr!=0)if(e(3<=hr),Ni.L==1)0<ii&&Va(dr,Vs,Jn,hr+4),sr.La&&Wi(dr,Vs,Jn,hr),0<jt&&No(dr,Vs,Jn,hr+4),sr.La&&cl(dr,Vs,Jn,hr);else{var sa=Ni.B,Do=Ni.qa,yl=Ni.ra+8*rr*sa+8*ii,Io=Ni.Ha,Ni=Ni.Ia+8*rr*sa+8*ii;rr=sr.ld,0<ii&&(ba(dr,Vs,Jn,hr+4,Zn,rr),Ao(Do,yl,Io,Ni,sa,hr+4,Zn,rr)),sr.La&&(Co(dr,Vs,Jn,hr,Zn,rr),nu(Do,yl,Io,Ni,sa,hr,Zn,rr)),0<jt&&(ll(dr,Vs,Jn,hr+4,Zn,rr),tu(Do,yl,Io,Ni,sa,hr+4,Zn,rr)),sr.La&&(To(dr,Vs,Jn,hr,Zn,rr),ul(Do,yl,Io,Ni,sa,hr,Zn,rr))}}if(be.ia&&alert("todo:DitherRow"),Se.put!=null){if(nn=16*Vn,Vn=16*(Vn+1),Fr?(Se.y=be.sa,Se.O=be.ta+ti,Se.f=be.qa,Se.N=be.ra+Dn,Se.ea=be.Ha,Se.W=be.Ia+Dn):(nn-=hn,Se.y=lt,Se.O=Mt,Se.f=ut,Se.N=Ve,Se.ea=Un,Se.W=$n),vn||(Vn-=hn),Vn>Se.o&&(Vn=Se.o),Se.F=null,Se.J=null,be.Fa!=null&&0<be.Fa.length&&nn<Vn&&(Se.J=Zu(be,Se,nn,Vn-nn),Se.F=be.mb,Se.F==null&&Se.F.length==0)){ze=Bt(be,3,"Could not decode alpha data.");break e}nn<Se.j&&(hn=Se.j-nn,nn=Se.j,e(!(1&hn)),Se.O+=be.R*hn,Se.N+=be.B*(hn>>1),Se.W+=be.B*(hn>>1),Se.F!=null&&(Se.J+=Se.width*hn)),nn<Vn&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=nn-Se.j,Se.U=Se.va-Se.v,Se.T=Vn-nn,ze=Se.put(Se))}Oe+1!=be.Ic||vn||(i(be.sa,be.ta-Ge,lt,Mt+16*be.R,Ge),i(be.qa,be.ra-mt,ut,Ve+8*be.B,mt),i(be.Ha,be.Ia-mt,Un,$n+8*be.B,mt))}if(!ze)return Bt(Ae,6,"Output aborted.")}return 1}(v,_)),_.bc!=null&&_.bc(_),E&=1}return E?(v.cb=0,E):0}function Qi(v,_,E,L,F){F=v[_+E+32*L]+(F>>3),v[_+E+32*L]=-256&F?0>F?0:255:F}function br(v,_,E,L,F,U){Qi(v,_,0,E,L+F),Qi(v,_,1,E,L+U),Qi(v,_,2,E,L-U),Qi(v,_,3,E,L-F)}function Pn(v){return(20091*v>>16)+v}function wr(v,_,E,L){var F,U=0,H=s(16);for(F=0;4>F;++F){var K=v[_+0]+v[_+8],J=v[_+0]-v[_+8],ie=(35468*v[_+4]>>16)-Pn(v[_+12]),ve=Pn(v[_+4])+(35468*v[_+12]>>16);H[U+0]=K+ve,H[U+1]=J+ie,H[U+2]=J-ie,H[U+3]=K-ve,U+=4,_++}for(F=U=0;4>F;++F)K=(v=H[U+0]+4)+H[U+8],J=v-H[U+8],ie=(35468*H[U+4]>>16)-Pn(H[U+12]),Qi(E,L,0,0,K+(ve=Pn(H[U+4])+(35468*H[U+12]>>16))),Qi(E,L,1,0,J+ie),Qi(E,L,2,0,J-ie),Qi(E,L,3,0,K-ve),U++,L+=32}function Sn(v,_,E,L){var F=v[_+0]+4,U=35468*v[_+4]>>16,H=Pn(v[_+4]),K=35468*v[_+1]>>16;br(E,L,0,F+H,v=Pn(v[_+1]),K),br(E,L,1,F+U,v,K),br(E,L,2,F-U,v,K),br(E,L,3,F-H,v,K)}function Ai(v,_,E,L,F){wr(v,_,E,L),F&&wr(v,_+16,E,L+4)}function Di(v,_,E,L){ia(v,_+0,E,L,1),ia(v,_+32,E,L+128,1)}function Ti(v,_,E,L){var F;for(v=v[_+0]+4,F=0;4>F;++F)for(_=0;4>_;++_)Qi(E,L,_,F,v)}function go(v,_,E,L){v[_+0]&&fr(v,_+0,E,L),v[_+16]&&fr(v,_+16,E,L+4),v[_+32]&&fr(v,_+32,E,L+128),v[_+48]&&fr(v,_+48,E,L+128+4)}function Zs(v,_,E,L){var F,U=s(16);for(F=0;4>F;++F){var H=v[_+0+F]+v[_+12+F],K=v[_+4+F]+v[_+8+F],J=v[_+4+F]-v[_+8+F],ie=v[_+0+F]-v[_+12+F];U[0+F]=H+K,U[8+F]=H-K,U[4+F]=ie+J,U[12+F]=ie-J}for(F=0;4>F;++F)H=(v=U[0+4*F]+3)+U[3+4*F],K=U[1+4*F]+U[2+4*F],J=U[1+4*F]-U[2+4*F],ie=v-U[3+4*F],E[L+0]=H+K>>3,E[L+16]=ie+J>>3,E[L+32]=H-K>>3,E[L+48]=ie-J>>3,L+=64}function Ba(v,_,E){var L,F=_-32,U=Ir,H=255-v[F-1];for(L=0;L<E;++L){var K,J=U,ie=H+v[_-1];for(K=0;K<E;++K)v[_+K]=J[ie+v[F+K]];_+=32}}function ql(v,_){Ba(v,_,4)}function Hl(v,_){Ba(v,_,8)}function nl(v,_){Ba(v,_,16)}function ts(v,_){var E;for(E=0;16>E;++E)i(v,_+32*E,v,_-32,16)}function yo(v,_){var E;for(E=16;0<E;--E)r(v,_,v[_-1],16),_+=32}function Xs(v,_,E){var L;for(L=0;16>L;++L)r(_,E+32*L,v,16)}function _e(v,_){var E,L=16;for(E=0;16>E;++E)L+=v[_-1+32*E]+v[_+E-32];Xs(L>>5,v,_)}function Ne(v,_){var E,L=8;for(E=0;16>E;++E)L+=v[_-1+32*E];Xs(L>>4,v,_)}function Xe(v,_){var E,L=8;for(E=0;16>E;++E)L+=v[_+E-32];Xs(L>>4,v,_)}function Ze(v,_){Xs(128,v,_)}function Re(v,_,E){return v+2*_+E+2>>2}function ft(v,_){var E,L=_-32;for(L=new Uint8Array([Re(v[L-1],v[L+0],v[L+1]),Re(v[L+0],v[L+1],v[L+2]),Re(v[L+1],v[L+2],v[L+3]),Re(v[L+2],v[L+3],v[L+4])]),E=0;4>E;++E)i(v,_+32*E,L,0,L.length)}function zt(v,_){var E=v[_-1],L=v[_-1+32],F=v[_-1+64],U=v[_-1+96];$e(v,_+0,16843009*Re(v[_-1-32],E,L)),$e(v,_+32,16843009*Re(E,L,F)),$e(v,_+64,16843009*Re(L,F,U)),$e(v,_+96,16843009*Re(F,U,U))}function wt(v,_){var E,L=4;for(E=0;4>E;++E)L+=v[_+E-32]+v[_-1+32*E];for(L>>=3,E=0;4>E;++E)r(v,_+32*E,L,4)}function _t(v,_){var E=v[_-1+0],L=v[_-1+32],F=v[_-1+64],U=v[_-1-32],H=v[_+0-32],K=v[_+1-32],J=v[_+2-32],ie=v[_+3-32];v[_+0+96]=Re(L,F,v[_-1+96]),v[_+1+96]=v[_+0+64]=Re(E,L,F),v[_+2+96]=v[_+1+64]=v[_+0+32]=Re(U,E,L),v[_+3+96]=v[_+2+64]=v[_+1+32]=v[_+0+0]=Re(H,U,E),v[_+3+64]=v[_+2+32]=v[_+1+0]=Re(K,H,U),v[_+3+32]=v[_+2+0]=Re(J,K,H),v[_+3+0]=Re(ie,J,K)}function fn(v,_){var E=v[_+1-32],L=v[_+2-32],F=v[_+3-32],U=v[_+4-32],H=v[_+5-32],K=v[_+6-32],J=v[_+7-32];v[_+0+0]=Re(v[_+0-32],E,L),v[_+1+0]=v[_+0+32]=Re(E,L,F),v[_+2+0]=v[_+1+32]=v[_+0+64]=Re(L,F,U),v[_+3+0]=v[_+2+32]=v[_+1+64]=v[_+0+96]=Re(F,U,H),v[_+3+32]=v[_+2+64]=v[_+1+96]=Re(U,H,K),v[_+3+64]=v[_+2+96]=Re(H,K,J),v[_+3+96]=Re(K,J,J)}function Fn(v,_){var E=v[_-1+0],L=v[_-1+32],F=v[_-1+64],U=v[_-1-32],H=v[_+0-32],K=v[_+1-32],J=v[_+2-32],ie=v[_+3-32];v[_+0+0]=v[_+1+64]=U+H+1>>1,v[_+1+0]=v[_+2+64]=H+K+1>>1,v[_+2+0]=v[_+3+64]=K+J+1>>1,v[_+3+0]=J+ie+1>>1,v[_+0+96]=Re(F,L,E),v[_+0+64]=Re(L,E,U),v[_+0+32]=v[_+1+96]=Re(E,U,H),v[_+1+32]=v[_+2+96]=Re(U,H,K),v[_+2+32]=v[_+3+96]=Re(H,K,J),v[_+3+32]=Re(K,J,ie)}function Bn(v,_){var E=v[_+0-32],L=v[_+1-32],F=v[_+2-32],U=v[_+3-32],H=v[_+4-32],K=v[_+5-32],J=v[_+6-32],ie=v[_+7-32];v[_+0+0]=E+L+1>>1,v[_+1+0]=v[_+0+64]=L+F+1>>1,v[_+2+0]=v[_+1+64]=F+U+1>>1,v[_+3+0]=v[_+2+64]=U+H+1>>1,v[_+0+32]=Re(E,L,F),v[_+1+32]=v[_+0+96]=Re(L,F,U),v[_+2+32]=v[_+1+96]=Re(F,U,H),v[_+3+32]=v[_+2+96]=Re(U,H,K),v[_+3+64]=Re(H,K,J),v[_+3+96]=Re(K,J,ie)}function sn(v,_){var E=v[_-1+0],L=v[_-1+32],F=v[_-1+64],U=v[_-1+96];v[_+0+0]=E+L+1>>1,v[_+2+0]=v[_+0+32]=L+F+1>>1,v[_+2+32]=v[_+0+64]=F+U+1>>1,v[_+1+0]=Re(E,L,F),v[_+3+0]=v[_+1+32]=Re(L,F,U),v[_+3+32]=v[_+1+64]=Re(F,U,U),v[_+3+64]=v[_+2+64]=v[_+0+96]=v[_+1+96]=v[_+2+96]=v[_+3+96]=U}function Ut(v,_){var E=v[_-1+0],L=v[_-1+32],F=v[_-1+64],U=v[_-1+96],H=v[_-1-32],K=v[_+0-32],J=v[_+1-32],ie=v[_+2-32];v[_+0+0]=v[_+2+32]=E+H+1>>1,v[_+0+32]=v[_+2+64]=L+E+1>>1,v[_+0+64]=v[_+2+96]=F+L+1>>1,v[_+0+96]=U+F+1>>1,v[_+3+0]=Re(K,J,ie),v[_+2+0]=Re(H,K,J),v[_+1+0]=v[_+3+32]=Re(E,H,K),v[_+1+32]=v[_+3+64]=Re(L,E,H),v[_+1+64]=v[_+3+96]=Re(F,L,E),v[_+1+96]=Re(U,F,L)}function Wn(v,_){var E;for(E=0;8>E;++E)i(v,_+32*E,v,_-32,8)}function gi(v,_){var E;for(E=0;8>E;++E)r(v,_,v[_-1],8),_+=32}function Tn(v,_,E){var L;for(L=0;8>L;++L)r(_,E+32*L,v,8)}function Dt(v,_){var E,L=8;for(E=0;8>E;++E)L+=v[_+E-32]+v[_-1+32*E];Tn(L>>4,v,_)}function St(v,_){var E,L=4;for(E=0;8>E;++E)L+=v[_+E-32];Tn(L>>3,v,_)}function Wt(v,_){var E,L=4;for(E=0;8>E;++E)L+=v[_-1+32*E];Tn(L>>3,v,_)}function zn(v,_){Tn(128,v,_)}function Kn(v,_,E){var L=v[_-E],F=v[_+0],U=3*(F-L)+Jc[1020+v[_-2*E]-v[_+E]],H=fl[112+(U+4>>3)];v[_-E]=Ir[255+L+fl[112+(U+3>>3)]],v[_+0]=Ir[255+F-H]}function jn(v,_,E,L){var F=v[_+0],U=v[_+E];return js[255+v[_-2*E]-v[_-E]]>L||js[255+U-F]>L}function Ii(v,_,E,L){return 4*js[255+v[_-E]-v[_+0]]+js[255+v[_-2*E]-v[_+E]]<=L}function Yn(v,_,E,L,F){var U=v[_-3*E],H=v[_-2*E],K=v[_-E],J=v[_+0],ie=v[_+E],ve=v[_+2*E],Le=v[_+3*E];return 4*js[255+K-J]+js[255+H-ie]>L?0:js[255+v[_-4*E]-U]<=F&&js[255+U-H]<=F&&js[255+H-K]<=F&&js[255+Le-ve]<=F&&js[255+ve-ie]<=F&&js[255+ie-J]<=F}function er(v,_,E,L){var F=2*L+1;for(L=0;16>L;++L)Ii(v,_+L,E,F)&&Kn(v,_+L,E)}function Hi(v,_,E,L){var F=2*L+1;for(L=0;16>L;++L)Ii(v,_+L*E,1,F)&&Kn(v,_+L*E,1)}function Cs(v,_,E,L){var F;for(F=3;0<F;--F)er(v,_+=4*E,E,L)}function Gl(v,_,E,L){var F;for(F=3;0<F;--F)Hi(v,_+=4,E,L)}function Qs(v,_,E,L,F,U,H,K){for(U=2*U+1;0<F--;){if(Yn(v,_,E,U,H))if(jn(v,_,E,K))Kn(v,_,E);else{var J=v,ie=_,ve=E,Le=J[ie-2*ve],ke=J[ie-ve],Ae=J[ie+0],He=J[ie+ve],Oe=J[ie+2*ve],be=27*(ze=Jc[1020+3*(Ae-ke)+Jc[1020+Le-He]])+63>>7,Se=18*ze+63>>7,ze=9*ze+63>>7;J[ie-3*ve]=Ir[255+J[ie-3*ve]+ze],J[ie-2*ve]=Ir[255+Le+Se],J[ie-ve]=Ir[255+ke+be],J[ie+0]=Ir[255+Ae-be],J[ie+ve]=Ir[255+He-Se],J[ie+2*ve]=Ir[255+Oe-ze]}_+=L}}function us(v,_,E,L,F,U,H,K){for(U=2*U+1;0<F--;){if(Yn(v,_,E,U,H))if(jn(v,_,E,K))Kn(v,_,E);else{var J=v,ie=_,ve=E,Le=J[ie-ve],ke=J[ie+0],Ae=J[ie+ve],He=fl[112+((Oe=3*(ke-Le))+4>>3)],Oe=fl[112+(Oe+3>>3)],be=He+1>>1;J[ie-2*ve]=Ir[255+J[ie-2*ve]+be],J[ie-ve]=Ir[255+Le+Oe],J[ie+0]=Ir[255+ke-He],J[ie+ve]=Ir[255+Ae-be]}_+=L}}function va(v,_,E,L,F,U){Qs(v,_,E,1,16,L,F,U)}function il(v,_,E,L,F,U){Qs(v,_,1,E,16,L,F,U)}function ud(v,_,E,L,F,U){var H;for(H=3;0<H;--H)us(v,_+=4*E,E,1,16,L,F,U)}function Wl(v,_,E,L,F,U){var H;for(H=3;0<H;--H)us(v,_+=4,1,E,16,L,F,U)}function cd(v,_,E,L,F,U,H,K){Qs(v,_,F,1,8,U,H,K),Qs(E,L,F,1,8,U,H,K)}function Yu(v,_,E,L,F,U,H,K){Qs(v,_,1,F,8,U,H,K),Qs(E,L,1,F,8,U,H,K)}function Kl(v,_,E,L,F,U,H,K){us(v,_+4*F,F,1,8,U,H,K),us(E,L+4*F,F,1,8,U,H,K)}function Yc(v,_,E,L,F,U,H,K){us(v,_+4,1,F,8,U,H,K),us(E,L+4,1,F,8,U,H,K)}function Yl(){this.ba=new vr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ni,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $u(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ju(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $l(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new G}function fd(){this.xb=this.a=0,this.l=new ht,this.ca=new vr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $l,this.ab=0,this.gc=o(4,Ju),this.Oc=0}function Jl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ht,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rl(v,_,E,L,F,U,H){for(v=v==null?0:v[_+0],_=0;_<H;++_)F[U+_]=v+E[L+_]&255,v=F[U+_]}function Zl(v,_,E,L,F,U,H){var K;if(v==null)rl(null,null,E,L,F,U,H);else for(K=0;K<H;++K)F[U+K]=v[_+K]+E[L+K]&255}function vo(v,_,E,L,F,U,H){if(v==null)rl(null,null,E,L,F,U,H);else{var K,J=v[_+0],ie=J,ve=J;for(K=0;K<H;++K)ie=ve+(J=v[_+K])-ie,ve=E[L+K]+(-256&ie?0>ie?0:255:ie)&255,ie=J,F[U+K]=ve}}function Zu(v,_,E,L){var F=_.width,U=_.o;if(e(v!=null&&_!=null),0>E||0>=L||E+L>U)return null;if(!v.Cc){if(v.ga==null){var H;if(v.ga=new Jl,(H=v.ga==null)||(H=_.width*_.o,e(v.Gb.length==0),v.Gb=s(H),v.Uc=0,v.Gb==null?H=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,H=1),H=!H),!H){H=v.ga;var K=v.Fa,J=v.P,ie=v.qc,ve=v.mb,Le=v.nb,ke=J+1,Ae=ie-1,He=H.l;if(e(K!=null&&ve!=null&&_!=null),Sa[0]=null,Sa[1]=rl,Sa[2]=Zl,Sa[3]=vo,H.ca=ve,H.tb=Le,H.c=_.width,H.i=_.height,e(0<H.c&&0<H.i),1>=ie)_=0;else if(H.$a=K[J+0]>>0&3,H.Z=K[J+0]>>2&3,H.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||J)_=0;else if(He.put=Pi,He.ac=wi,He.bc=Xr,He.ma=H,He.width=_.width,He.height=_.height,He.Da=_.Da,He.v=_.v,He.va=_.va,He.j=_.j,He.o=_.o,H.$a)e:{e(H.$a==1),_=Xi();t:for(;;){if(_==null){_=0;break e}if(e(H!=null),H.mc=_,_.c=H.c,_.i=H.i,_.l=H.l,_.l.ma=H,_.l.width=H.c,_.l.height=H.i,_.a=0,ne(_.m,K,ke,Ae),!Ln(H.c,H.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&li(_.s)?(H.ic=1,K=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(K),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(H.ic=0,_=Ds(_,H.c)),!_))break t;_=1;break e}H.mc=null,_=0}else _=Ae>=H.c*H.i;H=!_}if(H)return null;v.ga.Lc!=1?v.Ga=0:L=U-E}e(v.ga!=null),e(E+L<=U);e:{if(_=(K=v.ga).c,U=K.l.o,K.$a==0){if(ke=v.rc,Ae=v.Vc,He=v.Fa,J=v.P+1+E*_,ie=v.mb,ve=v.nb+E*_,e(J<=v.P+v.qc),K.Z!=0)for(e(Sa[K.Z]!=null),H=0;H<L;++H)Sa[K.Z](ke,Ae,He,J,ie,ve,_),ke=ie,Ae=ve,ve+=_,J+=_;else for(H=0;H<L;++H)i(ie,ve,He,J,_),ke=ie,Ae=ve,ve+=_,J+=_;v.rc=ke,v.Vc=Ae}else{if(e(K.mc!=null),_=E+L,e((H=K.mc)!=null),e(_<=H.i),H.C>=_)_=1;else if(K.ic||Ee(),K.ic){K=H.V,ke=H.Ba,Ae=H.c;var Oe=H.i,be=(He=1,J=H.$/Ae,ie=H.$%Ae,ve=H.m,Le=H.s,H.$),Se=Ae*Oe,ze=Ae*_,Ge=Le.wc,Ve=be<ze?pi(Le,ie,J):null;e(be<=Se),e(_<=Oe),e(li(Le));t:for(;;){for(;!ve.h&&be<ze;){if(ie&Ge||(Ve=pi(Le,ie,J)),e(Ve!=null),se(ve),256>(Oe=_i(Ve.G[0],Ve.H[0],ve)))K[ke+be]=Oe,++be,++ie>=Ae&&(ie=0,++J<=_&&!(J%16)&&Ri(H,J));else{if(!(280>Oe)){He=0;break t}Oe=yn(Oe-256,ve);var mt,lt=_i(Ve.G[4],Ve.H[4],ve);if(se(ve),!(be>=(lt=Gn(Ae,lt=yn(lt,ve)))&&Se-be>=Oe)){He=0;break t}for(mt=0;mt<Oe;++mt)K[ke+be+mt]=K[ke+be+mt-lt];for(be+=Oe,ie+=Oe;ie>=Ae;)ie-=Ae,++J<=_&&!(J%16)&&Ri(H,J);be<ze&&ie&Ge&&(Ve=pi(Le,ie,J))}e(ve.h==j(ve))}Ri(H,J>_?_:J);break t}!He||ve.h&&be<Se?(He=0,H.a=ve.h?5:3):H.$=be,_=He}else _=lr(H,H.V,H.Ba,H.c,H.i,_,Is);if(!_){L=0;break e}}E+L>=U&&(v.Cc=1),L=1}if(!L)return null;if(v.Cc&&((L=v.ga)!=null&&(L.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+E*F}function C(v,_,E,L,F,U){for(;0<F--;){var H,K=v,J=_+(E?1:0),ie=v,ve=_+(E?0:3);for(H=0;H<L;++H){var Le=ie[ve+4*H];Le!=255&&(Le*=32897,K[J+4*H+0]=K[J+4*H+0]*Le>>23,K[J+4*H+1]=K[J+4*H+1]*Le>>23,K[J+4*H+2]=K[J+4*H+2]*Le>>23)}_+=U}}function B(v,_,E,L,F){for(;0<L--;){var U;for(U=0;U<E;++U){var H=v[_+2*U+0],K=15&(ie=v[_+2*U+1]),J=4369*K,ie=(240&ie|ie>>4)*J>>16;v[_+2*U+0]=(240&H|H>>4)*J>>16&240|(15&H|H<<4)*J>>16>>4&15,v[_+2*U+1]=240&ie|K}_+=F}}function oe(v,_,E,L,F,U,H,K){var J,ie,ve=255;for(ie=0;ie<F;++ie){for(J=0;J<L;++J){var Le=v[_+J];U[H+4*J]=Le,ve&=Le}_+=E,H+=K}return ve!=255}function ge(v,_,E,L,F){var U;for(U=0;U<F;++U)E[L+U]=v[_+U]>>8}function Ee(){Es=C,wn=B,_n=oe,ci=ge}function Be(v,_,E){V[v]=function(L,F,U,H,K,J,ie,ve,Le,ke,Ae,He,Oe,be,Se,ze,Ge){var Ve,mt=Ge-1>>1,lt=K[J+0]|ie[ve+0]<<16,Mt=Le[ke+0]|Ae[He+0]<<16;e(L!=null);var ut=3*lt+Mt+131074>>2;for(_(L[F+0],255&ut,ut>>16,Oe,be),U!=null&&(ut=3*Mt+lt+131074>>2,_(U[H+0],255&ut,ut>>16,Se,ze)),Ve=1;Ve<=mt;++Ve){var Un=K[J+Ve]|ie[ve+Ve]<<16,$n=Le[ke+Ve]|Ae[He+Ve]<<16,vn=lt+Un+Mt+$n+524296,hn=vn+2*(Un+Mt)>>3;ut=hn+lt>>1,lt=(vn=vn+2*(lt+$n)>>3)+Un>>1,_(L[F+2*Ve-1],255&ut,ut>>16,Oe,be+(2*Ve-1)*E),_(L[F+2*Ve-0],255&lt,lt>>16,Oe,be+(2*Ve-0)*E),U!=null&&(ut=vn+Mt>>1,lt=hn+$n>>1,_(U[H+2*Ve-1],255&ut,ut>>16,Se,ze+(2*Ve-1)*E),_(U[H+2*Ve+0],255&lt,lt>>16,Se,ze+(2*Ve+0)*E)),lt=Un,Mt=$n}1&Ge||(ut=3*lt+Mt+131074>>2,_(L[F+Ge-1],255&ut,ut>>16,Oe,be+(Ge-1)*E),U!=null&&(ut=3*Mt+lt+131074>>2,_(U[H+Ge-1],255&ut,ut>>16,Se,ze+(Ge-1)*E)))}}function Qe(){Or[Gr]=$a,Or[iu]=Aa,Or[wa]=Po,Or[tc]=Qc,Or[dl]=ef,Or[Ha]=au,Or[Zc]=tf,Or[nc]=Aa,Or[Mo]=Qc,Or[Ga]=ef,Or[ru]=au}function dt(v){return v&-16384?0>v?0:255:v>>Sg}function Nt(v,_){return dt((19077*v>>8)+(26149*_>>8)-14234)}function an(v,_,E){return dt((19077*v>>8)-(6419*_>>8)-(13320*E>>8)+8708)}function en(v,_){return dt((19077*v>>8)+(33050*_>>8)-17685)}function Cn(v,_,E,L,F){L[F+0]=Nt(v,E),L[F+1]=an(v,_,E),L[F+2]=en(v,_)}function Ci(v,_,E,L,F){L[F+0]=en(v,_),L[F+1]=an(v,_,E),L[F+2]=Nt(v,E)}function Oi(v,_,E,L,F){var U=an(v,_,E);_=U<<3&224|en(v,_)>>3,L[F+0]=248&Nt(v,E)|U>>5,L[F+1]=_}function tr(v,_,E,L,F){var U=240&en(v,_)|15;L[F+0]=240&Nt(v,E)|an(v,_,E)>>4,L[F+1]=U}function nr(v,_,E,L,F){L[F+0]=255,Cn(v,_,E,L,F+1)}function Rr(v,_,E,L,F){Ci(v,_,E,L,F),L[F+3]=255}function ea(v,_,E,L,F){Cn(v,_,E,L,F),L[F+3]=255}function Ns(v,_){return 0>v?0:v>_?_:v}function ta(v,_,E){V[v]=function(L,F,U,H,K,J,ie,ve,Le){for(var ke=ve+(-2&Le)*E;ve!=ke;)_(L[F+0],U[H+0],K[J+0],ie,ve),_(L[F+1],U[H+0],K[J+0],ie,ve+E),F+=2,++H,++J,ve+=2*E;1&Le&&_(L[F+0],U[H+0],K[J+0],ie,ve)}}function Xu(v,_,E){return E==0?v==0?_==0?6:5:_==0?4:0:E}function za(v,_,E,L,F){switch(v>>>30){case 3:ia(_,E,L,F,0);break;case 2:Gi(_,E,L,F);break;case 1:fr(_,E,L,F)}}function ja(v,_){var E,L,F=_.M,U=_.Nb,H=v.oc,K=v.pc+40,J=v.oc,ie=v.pc+584,ve=v.oc,Le=v.pc+600;for(E=0;16>E;++E)H[K+32*E-1]=129;for(E=0;8>E;++E)J[ie+32*E-1]=129,ve[Le+32*E-1]=129;for(0<F?H[K-1-32]=J[ie-1-32]=ve[Le-1-32]=129:(r(H,K-32-1,127,21),r(J,ie-32-1,127,9),r(ve,Le-32-1,127,9)),L=0;L<v.za;++L){var ke=_.ya[_.aa+L];if(0<L){for(E=-1;16>E;++E)i(H,K+32*E-4,H,K+32*E+12,4);for(E=-1;8>E;++E)i(J,ie+32*E-4,J,ie+32*E+4,4),i(ve,Le+32*E-4,ve,Le+32*E+4,4)}var Ae=v.Gd,He=v.Hd+L,Oe=ke.ad,be=ke.Hc;if(0<F&&(i(H,K-32,Ae[He].y,0,16),i(J,ie-32,Ae[He].f,0,8),i(ve,Le-32,Ae[He].ea,0,8)),ke.Za){var Se=H,ze=K-32+16;for(0<F&&(L>=v.za-1?r(Se,ze,Ae[He].y[15],4):i(Se,ze,Ae[He+1].y,0,4)),E=0;4>E;E++)Se[ze+128+E]=Se[ze+256+E]=Se[ze+384+E]=Se[ze+0+E];for(E=0;16>E;++E,be<<=2)Se=H,ze=K+gl[E],is[ke.Ob[E]](Se,ze),za(be,Oe,16*+E,Se,ze)}else if(Se=Xu(L,F,ke.Ob[0]),Ya[Se](H,K),be!=0)for(E=0;16>E;++E,be<<=2)za(be,Oe,16*+E,H,K+gl[E]);for(E=ke.Gc,Se=Xu(L,F,ke.Dd),Ms[Se](J,ie),Ms[Se](ve,Le),be=Oe,Se=J,ze=ie,255&(ke=E>>0)&&(170&ke?ra(be,256,Se,ze):ds(be,256,Se,ze)),ke=ve,be=Le,255&(E>>=8)&&(170&E?ra(Oe,320,ke,be):ds(Oe,320,ke,be)),F<v.Ub-1&&(i(Ae[He].y,0,H,K+480,16),i(Ae[He].f,0,J,ie+224,8),i(Ae[He].ea,0,ve,Le+224,8)),E=8*U*v.B,Ae=v.sa,He=v.ta+16*L+16*U*v.R,Oe=v.qa,ke=v.ra+8*L+E,be=v.Ha,Se=v.Ia+8*L+E,E=0;16>E;++E)i(Ae,He+E*v.R,H,K+32*E,16);for(E=0;8>E;++E)i(Oe,ke+E*v.B,J,ie+32*E,8),i(be,Se+E*v.B,ve,Le+32*E,8)}}function Xl(v,_,E,L,F,U,H,K,J){var ie=[0],ve=[0],Le=0,ke=J!=null?J.kd:0,Ae=J??new $u;if(v==null||12>E)return 7;Ae.data=v,Ae.w=_,Ae.ha=E,_=[_],E=[E],Ae.gb=[Ae.gb];e:{var He=_,Oe=E,be=Ae.gb;if(e(v!=null),e(Oe!=null),e(be!=null),be[0]=0,12<=Oe[0]&&!t(v,He[0],"RIFF")){if(t(v,He[0]+8,"WEBP")){be=3;break e}var Se=tt(v,He[0]+4);if(12>Se||4294967286<Se){be=3;break e}if(ke&&Se>Oe[0]-8){be=7;break e}be[0]=Se,He[0]+=12,Oe[0]-=12}be=0}if(be!=0)return be;for(Se=0<Ae.gb[0],E=E[0];;){e:{var ze=v;Oe=_,be=E;var Ge=ie,Ve=ve,mt=He=[0];if((ut=Le=[Le])[0]=0,8>be[0])be=7;else{if(!t(ze,Oe[0],"VP8X")){if(tt(ze,Oe[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var lt=tt(ze,Oe[0]+8),Mt=1+et(ze,Oe[0]+12);if(2147483648<=Mt*(ze=1+et(ze,Oe[0]+15))){be=3;break e}mt!=null&&(mt[0]=lt),Ge!=null&&(Ge[0]=Mt),Ve!=null&&(Ve[0]=ze),Oe[0]+=18,be[0]-=18,ut[0]=1}be=0}}if(Le=Le[0],He=He[0],be!=0)return be;if(Oe=!!(2&He),!Se&&Le)return 3;if(U!=null&&(U[0]=!!(16&He)),H!=null&&(H[0]=Oe),K!=null&&(K[0]=0),H=ie[0],He=ve[0],Le&&Oe&&J==null){be=0;break}if(4>E){be=7;break}if(Se&&Le||!Se&&!Le&&!t(v,_[0],"ALPH")){E=[E],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{lt=v,be=_,Se=E;var ut=Ae.gb;Ge=Ae.na,Ve=Ae.P,mt=Ae.Sa,Mt=22,e(lt!=null),e(Se!=null),ze=be[0];var Un=Se[0];for(e(Ge!=null),e(mt!=null),Ge[0]=null,Ve[0]=null,mt[0]=0;;){if(be[0]=ze,Se[0]=Un,8>Un){be=7;break e}var $n=tt(lt,ze+4);if(4294967286<$n){be=3;break e}var vn=8+$n+1&-2;if(Mt+=vn,0<ut&&Mt>ut){be=3;break e}if(!t(lt,ze,"VP8 ")||!t(lt,ze,"VP8L")){be=0;break e}if(Un[0]<vn){be=7;break e}t(lt,ze,"ALPH")||(Ge[0]=lt,Ve[0]=ze+8,mt[0]=$n),ze+=vn,Un-=vn}}if(E=E[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],be!=0)break}E=[E],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(ut=v,be=_,Se=E,Ge=Ae.gb[0],Ve=Ae.Ja,mt=Ae.xa,lt=be[0],ze=!t(ut,lt,"VP8 "),Mt=!t(ut,lt,"VP8L"),e(ut!=null),e(Se!=null),e(Ve!=null),e(mt!=null),8>Se[0])be=7;else{if(ze||Mt){if(ut=tt(ut,lt+4),12<=Ge&&ut>Ge-12){be=3;break e}if(ke&&ut>Se[0]-8){be=7;break e}Ve[0]=ut,be[0]+=8,Se[0]-=8,mt[0]=Mt}else mt[0]=5<=Se[0]&&ut[lt+0]==47&&!(ut[lt+4]>>5),Ve[0]=Se[0];be=0}if(E=E[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],_=_[0],be!=0)break;if(4294967286<Ae.Ja)return 3;if(K==null||Oe||(K[0]=Ae.xa?2:1),H=[H],He=[He],Ae.xa){if(5>E){be=7;break}K=H,ke=He,Oe=U,v==null||5>E?v=0:5<=E&&v[_+0]==47&&!(v[_+4]>>5)?(Se=[0],ut=[0],Ge=[0],ne(Ve=new R,v,_,E),at(Ve,Se,ut,Ge)?(K!=null&&(K[0]=Se[0]),ke!=null&&(ke[0]=ut[0]),Oe!=null&&(Oe[0]=Ge[0]),v=1):v=0):v=0}else{if(10>E){be=7;break}K=He,v==null||10>E||!pt(v,_+3,E-3)?v=0:(ke=v[_+0]|v[_+1]<<8|v[_+2]<<16,Oe=16383&(v[_+7]<<8|v[_+6]),v=16383&(v[_+9]<<8|v[_+8]),1&ke||3<(ke>>1&7)||!(ke>>4&1)||ke>>5>=Ae.Ja||!Oe||!v?v=0:(H&&(H[0]=Oe),K&&(K[0]=v),v=1))}if(!v||(H=H[0],He=He[0],Le&&(ie[0]!=H||ve[0]!=He)))return 3;J!=null&&(J[0]=Ae,J.offset=_-J.w,e(4294967286>_-J.w),e(J.offset==J.ha-E));break}return be==0||be==7&&Le&&J==null?(U!=null&&(U[0]|=Ae.na!=null&&0<Ae.na.length),L!=null&&(L[0]=H),F!=null&&(F[0]=He),0):be}function xo(v,_,E){var L=_.width,F=_.height,U=0,H=0,K=L,J=F;if(_.Da=v!=null&&0<v.Da,_.Da&&(K=v.cd,J=v.bd,U=v.v,H=v.j,11>E||(U&=-2,H&=-2),0>U||0>H||0>=K||0>=J||U+K>L||H+J>F))return 0;if(_.v=U,_.j=H,_.va=U+K,_.o=H+J,_.U=K,_.T=J,_.da=v!=null&&0<v.da,_.da){if(!bt(K,J,E=[v.ib],U=[v.hb]))return 0;_.ib=E[0],_.hb=U[0]}return _.ob=v!=null&&v.ob,_.Kb=v==null||!v.Sd,_.da&&(_.ob=_.ib<3*L/4&&_.hb<3*F/4,_.Kb=0),1}function Ql(v){if(v==null)return 2;if(11>v.S){var _=v.f.RGBA;_.fb+=(v.height-1)*_.A,_.A=-_.A}else _=v.f.kb,v=v.height,_.O+=(v-1)*_.fa,_.fa=-_.fa,_.N+=(v-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(v-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(v-1)*_.lb,_.lb=-_.lb);return 0}function sl(v,_,E,L){if(L==null||0>=v||0>=_)return 2;if(E!=null){if(E.Da){var F=E.cd,U=E.bd,H=-2&E.v,K=-2&E.j;if(0>H||0>K||0>=F||0>=U||H+F>v||K+U>_)return 2;v=F,_=U}if(E.da){if(!bt(v,_,F=[E.ib],U=[E.hb]))return 2;v=F[0],_=U[0]}}L.width=v,L.height=_;e:{var J=L.width,ie=L.height;if(v=L.S,0>=J||0>=ie||!(v>=Gr&&13>v))v=2;else{if(0>=L.Rd&&L.sd==null){H=U=F=_=0;var ve=(K=J*Xh[v])*ie;if(11>v||(U=(ie+1)/2*(_=(J+1)/2),v==12&&(H=(F=J)*ie)),(ie=s(ve+2*U+H))==null){v=1;break e}L.sd=ie,11>v?((J=L.f.RGBA).eb=ie,J.fb=0,J.A=K,J.size=ve):((J=L.f.kb).y=ie,J.O=0,J.fa=K,J.Fd=ve,J.f=ie,J.N=0+ve,J.Ab=_,J.Cd=U,J.ea=ie,J.W=0+ve+U,J.Db=_,J.Ed=U,v==12&&(J.F=ie,J.J=0+ve+2*U),J.Tc=H,J.lb=F)}if(_=1,F=L.S,U=L.width,H=L.height,F>=Gr&&13>F)if(11>F)v=L.f.RGBA,_&=(K=Math.abs(v.A))*(H-1)+U<=v.size,_&=K>=U*Xh[F],_&=v.eb!=null;else{v=L.f.kb,K=(U+1)/2,ve=(H+1)/2,J=Math.abs(v.fa),ie=Math.abs(v.Ab);var Le=Math.abs(v.Db),ke=Math.abs(v.lb),Ae=ke*(H-1)+U;_&=J*(H-1)+U<=v.Fd,_&=ie*(ve-1)+K<=v.Cd,_=(_&=Le*(ve-1)+K<=v.Ed)&J>=U&ie>=K&Le>=K,_&=v.y!=null,_&=v.f!=null,_&=v.ea!=null,F==12&&(_&=ke>=U,_&=Ae<=v.Tc,_&=v.F!=null)}else _=0;v=_?0:2}}return v!=0||E!=null&&E.fd&&(v=Ql(L)),v}var _r=64,bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],al=24,ol=32,eu=8,cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(v){return v},V.Predictor2=function(v,_,E){return _[E+0]},V.Predictor3=function(v,_,E){return _[E+1]},V.Predictor4=function(v,_,E){return _[E-1]},V.Predictor5=function(v,_,E){return je(je(v,_[E+1]),_[E+0])},V.Predictor6=function(v,_,E){return je(v,_[E-1])},V.Predictor7=function(v,_,E){return je(v,_[E+0])},V.Predictor8=function(v,_,E){return je(_[E-1],_[E+0])},V.Predictor9=function(v,_,E){return je(_[E+0],_[E+1])},V.Predictor10=function(v,_,E){return je(je(v,_[E-1]),je(_[E+0],_[E+1]))},V.Predictor11=function(v,_,E){var L=_[E+0];return 0>=$t(L>>24&255,v>>24&255,(_=_[E-1])>>24&255)+$t(L>>16&255,v>>16&255,_>>16&255)+$t(L>>8&255,v>>8&255,_>>8&255)+$t(255&L,255&v,255&_)?L:v},V.Predictor12=function(v,_,E){var L=_[E+0];return(ot((v>>24&255)+(L>>24&255)-((_=_[E-1])>>24&255))<<24|ot((v>>16&255)+(L>>16&255)-(_>>16&255))<<16|ot((v>>8&255)+(L>>8&255)-(_>>8&255))<<8|ot((255&v)+(255&L)-(255&_)))>>>0},V.Predictor13=function(v,_,E){var L=_[E-1];return(Et((v=je(v,_[E+0]))>>24&255,L>>24&255)<<24|Et(v>>16&255,L>>16&255)<<16|Et(v>>8&255,L>>8&255)<<8|Et(v>>0&255,L>>0&255))>>>0};var dd=V.PredictorAdd0;V.PredictorAdd1=It,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var Qu=V.PredictorAdd2;Ht("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var $c,Bs=V.ColorIndexInverseTransform,Dr=V.MapARGB,wo=V.VP8LColorIndexInverseTransformAlpha,ec=V.MapAlpha,Ua=V.VP8LPredictorsAdd=[];Ua.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var _o,ns,Ur,So,fs,na,xa,ia,Gi,ra,fr,ds,ll,ba,tu,Ao,To,Co,ul,nu,No,Va,cl,Wi,Es,wn,_n,ci,ir=s(511),zs=s(2041),Eo=s(225),ko=s(767),qa=0,Jc=zs,fl=Eo,Ir=ko,js=ir,Gr=0,iu=1,wa=2,tc=3,dl=4,Ha=5,Zc=6,nc=7,Mo=8,Ga=9,ru=10,Xc=[2,3,7],Us=[3,3,11],ks=[280,256,256,256,40],hl=[0,1,1,1,0],Wa=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ka=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kh=8,ic=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Sr=null,Ki=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Lo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_a=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ml=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Yh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ya=[],is=[],Ms=[],$h=1,su=2,Sa=[],Or=[];Be("UpsampleRgbLinePair",Cn,3),Be("UpsampleBgrLinePair",Ci,3),Be("UpsampleRgbaLinePair",ea,4),Be("UpsampleBgraLinePair",Rr,4),Be("UpsampleArgbLinePair",nr,4),Be("UpsampleRgba4444LinePair",tr,2),Be("UpsampleRgb565LinePair",Oi,2);var $a=V.UpsampleRgbLinePair,Po=V.UpsampleBgrLinePair,Aa=V.UpsampleRgbaLinePair,Qc=V.UpsampleBgraLinePair,ef=V.UpsampleArgbLinePair,au=V.UpsampleRgba4444LinePair,tf=V.UpsampleRgb565LinePair,Ta=16,Ar=1<<Ta-1,Ro=-227,nf=482,Sg=6,Jh=0,Ag=s(256),Tr=s(256),pd=s(256),sc=s(256),ac=s(nf-Ro),md=s(nf-Ro);ta("YuvToRgbRow",Cn,3),ta("YuvToBgrRow",Ci,3),ta("YuvToRgbaRow",ea,4),ta("YuvToBgraRow",Rr,4),ta("YuvToArgbRow",nr,4),ta("YuvToRgba4444Row",tr,2),ta("YuvToRgb565Row",Oi,2);var gl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ja=[0,2,8],Tg=[8,7,6,4,4,2,2,2,1,1,1,1],Zh=1;this.WebPDecodeRGBA=function(v,_,E,L,F){var U=iu,H=new Yl,K=new vr;H.ba=K,K.S=U,K.width=[K.width],K.height=[K.height];var J=K.width,ie=K.height,ve=new bi;if(ve==null||v==null)var Le=2;else e(ve!=null),Le=Xl(v,_,E,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Le!=0?J=0:(J!=null&&(J[0]=ve.width[0]),ie!=null&&(ie[0]=ve.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],L!=null&&(L[0]=K.width),F!=null&&(F[0]=K.height);e:{if(L=new ht,(F=new $u).data=v,F.w=_,F.ha=E,F.kd=1,_=[0],e(F!=null),((v=Xl(F.data,F.w,F.ha,null,null,null,_,null,F))==0||v==7)&&_[0]&&(v=4),(_=v)==0){if(e(H!=null),L.data=F.data,L.w=F.w+F.offset,L.ha=F.ha-F.offset,L.put=Pi,L.ac=wi,L.bc=Xr,L.ma=H,F.xa){if((v=Xi())==null){H=1;break e}if(function(ke,Ae){var He=[0],Oe=[0],be=[0];t:for(;;){if(ke==null)return 0;if(Ae==null)return ke.a=2,0;if(ke.l=Ae,ke.a=0,ne(ke.m,Ae.data,Ae.w,Ae.ha),!at(ke.m,He,Oe,be)){ke.a=3;break t}if(ke.xb=su,Ae.width=He[0],Ae.height=Oe[0],!Ln(He[0],Oe[0],1,ke,null))break t;return 1}return e(ke.a!=0),0}(v,L)){if(L=(_=sl(L.width,L.height,H.Oa,H.ba))==0){t:{L=v;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((E=L.l)!=null),e((F=E.ma)!=null),L.xb!=0){if(L.ca=F.ba,L.tb=F.tb,e(L.ca!=null),!xo(F.Oa,E,tc)){L.a=2;break n}if(!Ds(L,E.width)||E.da)break n;if((E.da||Gt(L.ca.S))&&Ee(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Ee()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!xt(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!lr(L,L.V,L.Ba,L.c,L.i,E.o,Rs))break n;F.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(_=v.a)}else _=v.a}else{if((v=new yt)==null){H=1;break e}if(v.Fa=F.na,v.P=F.P,v.qc=F.Sa,mi(v,L)){if((_=sl(L.width,L.height,H.Oa,H.ba))==0){if(v.Aa=0,E=H.Oa,e((F=v)!=null),E!=null){if(0<(J=0>(J=E.Md)?0:100<J?255:255*J/100)){for(ie=ve=0;4>ie;++ie)12>(Le=F.pb[ie]).lc&&(Le.ia=J*Tg[0>Le.lc?0:Le.lc]>>3),ve|=Le.ia;ve&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=E.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}es(v,L)||(_=v.a)}}else _=v.a}_==0&&H.Oa!=null&&H.Oa.fd&&(_=Ql(H.ba))}H=_}U=H!=0?null:11>U?K.f.RGBA.eb:K.f.kb.y}else U=null;return U};var Xh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(V,X){for(var le="",z=0;z<4;z++)le+=String.fromCharCode(V[X++]);return le}function h(V,X){return(V[X+0]<<0|V[X+1]<<8|V[X+2]<<16)>>>0}function y(V,X){return(V[X+0]<<0|V[X+1]<<8|V[X+2]<<16|V[X+3]<<24)>>>0}new c;var b=[0],x=[0],N=[],T=new c,M=n,k=function(V,X){var le={},z=0,G=!1,fe=0,ae=0;if(le.frames=[],!function(W,j,re,se){for(var xe=0;xe<se;xe++)if(W[j+xe]!=re.charCodeAt(xe))return!0;return!1}(V,X,"RIFF",4)){for(y(V,X+=4),X+=8;X<V.length;){var me=f(V,X),te=y(V,X+=4);X+=4;var ce=te+(1&te);switch(me){case"VP8 ":case"VP8L":le.frames[z]===void 0&&(le.frames[z]={}),(D=le.frames[z]).src_off=G?ae:X-8,D.src_size=fe+te+8,z++,G&&(G=!1,fe=0,ae=0);break;case"VP8X":(D=le.header={}).feature_flags=V[X];var ne=X+4;D.canvas_width=1+h(V,ne),ne+=3,D.canvas_height=1+h(V,ne),ne+=3;break;case"ALPH":G=!0,fe=ce+8,ae=X-8;break;case"ANIM":(D=le.header).bgcolor=y(V,X),ne=X+4,D.loop_count=(ye=V)[(R=ne)+0]<<0|ye[R+1]<<8,ne+=2;break;case"ANMF":var de,D;(D=le.frames[z]={}).offset_x=2*h(V,X),X+=3,D.offset_y=2*h(V,X),X+=3,D.width=1+h(V,X),X+=3,D.height=1+h(V,X),X+=3,D.duration=h(V,X),X+=3,de=V[X++],D.dispose=1&de,D.blend=de>>1&1}me!="ANMF"&&(X+=ce)}var ye,R;return le}}(M,0);k.response=M,k.rgbaoutput=!0,k.dataurl=!1;var P=k.header?k.header:null,O=k.frames?k.frames:null;if(P){P.loop_counter=P.loop_count,b=[P.canvas_height],x=[P.canvas_width];for(var $=0;$<O.length&&O[$].blend!=0;$++);}var q=O[0],Z=T.WebPDecodeRGBA(M,q.src_off,q.src_size,x,b);q.rgba=Z,q.imgwidth=x[0],q.imgheight=b[0];for(var Q=0;Q<x[0]*b[0]*4;Q++)N[Q]=Z[Q];return this.width=x,this.height=b,this.data=N,this}(function(n){var e=function(){return typeof j1=="function"},t=function(b,x,N,T){var M=4,k=o;switch(T){case n.image_compression.FAST:M=1,k=s;break;case n.image_compression.MEDIUM:M=6,k=u;break;case n.image_compression.SLOW:M=9,k=c}b=i(b,x,N,k);var P=j1(b,{level:M});return n.__addimage__.arrayBufferToBinaryString(P)},i=function(b,x,N,T){for(var M,k,P,O=b.length/x,$=new Uint8Array(b.length+O),q=h(),Z=0;Z<O;Z+=1){if(P=Z*x,M=b.subarray(P,P+x),T)$.set(T(M,N,k),P+Z);else{for(var Q,V=q.length,X=[];Q<V;Q+=1)X[Q]=q[Q](M,N,k);var le=y(X.concat());$.set(X[le],P+Z)}k=M}return $},r=function(b){var x=Array.apply([],b);return x.unshift(0),x},s=function(b,x){var N,T=[],M=b.length;T[0]=1;for(var k=0;k<M;k+=1)N=b[k-x]||0,T[k+1]=b[k]-N+256&255;return T},o=function(b,x,N){var T,M=[],k=b.length;M[0]=2;for(var P=0;P<k;P+=1)T=N&&N[P]||0,M[P+1]=b[P]-T+256&255;return M},u=function(b,x,N){var T,M,k=[],P=b.length;k[0]=3;for(var O=0;O<P;O+=1)T=b[O-x]||0,M=N&&N[O]||0,k[O+1]=b[O]+256-(T+M>>>1)&255;return k},c=function(b,x,N){var T,M,k,P,O=[],$=b.length;O[0]=4;for(var q=0;q<$;q+=1)T=b[q-x]||0,M=N&&N[q]||0,k=N&&N[q-x]||0,P=f(T,M,k),O[q+1]=b[q]-P+256&255;return O},f=function(b,x,N){if(b===x&&x===N)return b;var T=Math.abs(x-N),M=Math.abs(b-N),k=Math.abs(b+x-N-N);return T<=M&&T<=k?b:M<=k?x:N},h=function(){return[r,s,o,u,c]},y=function(b){var x=b.map(function(N){return N.reduce(function(T,M){return T+Math.abs(M)},0)});return x.indexOf(Math.min.apply(null,x))};n.processPNG=function(b,x,N,T){var M,k,P,O,$,q,Z,Q,V,X,le,z,G,fe,ae,me=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(P=new jR(b)).imgData,k=P.bits,M=P.colorSpace,$=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){V=(Q=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,le=new Uint8Array(V*P.colors),X=new Uint8Array(V);var ce,ne=P.pixelBitlength-P.bits;for(fe=0,ae=0;fe<V;fe++){for(G=Q[fe],ce=0;ce<ne;)le[ae++]=G>>>ce&255,ce+=P.bits;X[fe]=G>>>ce&255}}if(P.bits===16){V=(Q=new Uint32Array(P.decodePixels().buffer)).length,le=new Uint8Array(V*(32/P.pixelBitlength)*P.colors),X=new Uint8Array(V*(32/P.pixelBitlength)),z=P.colors>1,fe=0,ae=0;for(var de=0;fe<V;)G=Q[fe++],le[ae++]=G>>>0&255,z&&(le[ae++]=G>>>16&255,G=Q[fe++],le[ae++]=G>>>0&255),X[de++]=G>>>16&255;k=8}T!==n.image_compression.NONE&&e()?(b=t(le,P.width*P.colors,P.colors,T),Z=t(X,P.width,1,T)):(b=le,Z=X,me=void 0)}if(P.colorType===3&&(M=this.color_spaces.INDEXED,q=P.palette,P.transparency.indexed)){var D=P.transparency.indexed,ye=0;for(fe=0,V=D.length;fe<V;++fe)ye+=D[fe];if((ye/=255)===V-1&&D.indexOf(0)!==-1)O=[D.indexOf(0)];else if(ye!==V){for(Q=P.decodePixels(),X=new Uint8Array(Q.length),fe=0,V=Q.length;fe<V;fe++)X[fe]=D[Q[fe]];Z=t(X,P.width,1)}}var R=function(W){var j;switch(W){case n.image_compression.FAST:j=11;break;case n.image_compression.MEDIUM:j=13;break;case n.image_compression.SLOW:j=14;break;default:j=12}return j}(T);return me===this.decode.FLATE_DECODE&&(te="/Predictor "+R+" "),te+="/Colors "+$+" /BitsPerComponent "+k+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(Z&&this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),{alias:N,data:b,index:x,filter:me,decodeParameters:te,transparency:O,palette:q,sMask:Z,predictor:R,width:P.width,height:P.height,bitsPerComponent:k,colorSpace:M}}}})(Yt.API),function(n){n.processGIF89A=function(e,t,i,r){var s=new UR(e),o=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:o,height:u},h=new K0(100).encode(f,100);return n.processJPEG.call(this,h,t,i,r)},n.processGIF87A=n.processGIF89A}(Yt.API),ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ro.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){vi.log("bit decode error:"+t)}},ro.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[o+4*u]=c.blue,this.data[o+4*u+1]=c.green,this.data[o+4*u+2]=c.red,this.data[o+4*u+3]=255}t!==0&&(this.pos+=4-t)}},ro.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,u=s>>4,c=15&s,f=this.palette[u];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*r+1>=this.width)break;f=this.palette[c],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ro.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},ro.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,h=i*this.width*4+4*r;this.data[h]=c,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=f}this.pos+=n}},ro.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,f=(o>>11)/e*255|0,h=r*this.width*4+4*s;this.data[h]=f,this.data[h+1]=c,this.data[h+2]=u,this.data[h+3]=255}this.pos+=n}},ro.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},ro.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=o}},ro.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,i,r){var s=new ro(e,!1),o=s.width,u=s.height,c={data:s.getData(),width:o,height:u},f=new K0(100).encode(c,100);return n.processJPEG.call(this,f,t,i,r)}}(Yt.API),cb.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,i,r){var s=new cb(e),o=s.width,u=s.height,c={data:s.getData(),width:o,height:u},f=new K0(100).encode(c,100);return n.processJPEG.call(this,f,t,i,r)}}(Yt.API),Yt.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),u=0,c=0,f=0;f<r;f+=4){var h=i[f],y=i[f+1],b=i[f+2],x=i[f+3];s[u++]=h,s[u++]=y,s[u++]=b,o[c++]=x}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Yt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ef=Yt.API,em=Ef.getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:r.metadata.Unicode.widths,c=u.fof?u.fof:1,f=e.kerning?e.kerning:r.metadata.Unicode.kerning,h=f.fof?f.fof:1,y=e.doKerning!==!1,b=0,x=n.length,N=0,T=u[0]||c,M=[];for(t=0;t<x;t++)i=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?M.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(b=y&&oi(f[i])==="object"&&!isNaN(parseInt(f[i][N],10))?f[i][N]/h:0,M.push((u[i]||T)/c+b)),N=i;return M},ab=Ef.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Ef.processArabic&&(n=Ef.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,r)/t:em.apply(this,arguments).reduce(function(s,o){return s+o},0)},ob=function(n,e,t,i){for(var r=[],s=0,o=n.length,u=0;s!==o&&u+e[s]<t;)u+=e[s],s++;r.push(n.slice(0,s));var c=s;for(u=0;s!==o;)u+e[s]>i&&(r.push(n.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&r.push(n.slice(c,s)),r},lb=function(n,e,t){t||(t={});var i,r,s,o,u,c,f,h=[],y=[h],b=t.textIndent||0,x=0,N=0,T=n.split(" "),M=em.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?T[0].length+2:t.lineIndent||0){var k=Array(c).join(" "),P=[];T.map(function($){($=$.split(/\s*\n/)).length>1?P=P.concat($.map(function(q,Z){return(Z&&q.length?`
`:"")+q})):P.push($[0])}),T=P,c=ab.apply(this,[k,t])}for(s=0,o=T.length;s<o;s++){var O=0;if(i=T[s],c&&i[0]==`
`&&(i=i.substr(1),O=1),b+x+(N=(r=em.apply(this,[i,t])).reduce(function($,q){return $+q},0))>e||O){if(N>e){for(u=ob.apply(this,[i,r,e-(b+x),e]),h.push(u.shift()),h=[u.pop()];u.length;)y.push([u.shift()]);N=r.slice(i.length-(h[0]?h[0].length:0)).reduce(function($,q){return $+q},0)}else h=[i];y.push(h),b=N+c,x=M}else h.push(i),b+=x+N,x=M}return f=c?function($,q){return(q?k:"")+$.join(" ")}:function($){return $.join(" ")},y.map(f)},Ef.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var y=this.internal.getFont(h.fontName,h.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var u,c,f=[];for(u=0,c=i.length;u<c;u++)f=f.concat(lb.apply(this,[i[u],o,s]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},r=0;r<e.length;r++)t[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=n.__fontmetrics__.compress=function(y){var b,x,N,T,M=["{"];for(var k in y){if(b=y[k],isNaN(parseInt(k,10))?x="'"+k+"'":(k=parseInt(k,10),x=(x=s(k).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof b=="number")b<0?(N=s(b).slice(3),T="-"):(N=s(b).slice(2),T=""),N=T+N.slice(0,-1)+i[N.slice(-1)];else{if(oi(b)!=="object")throw new Error("Don't know what to do with value type "+oi(b)+".");N=o(b)}M.push(x+N)}return M.push("}"),M.join("")},u=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,x,N,T,M={},k=1,P=M,O=[],$="",q="",Z=y.length-1,Q=1;Q<Z;Q+=1)(T=y[Q])=="'"?b?(N=b.join(""),b=void 0):b=[]:b?b.push(T):T=="{"?(O.push([P,N]),P={},N=void 0):T=="}"?((x=O.pop())[0][x[1]]=P,N=void 0,P=x[0]):T=="-"?k=-1:N===void 0?t.hasOwnProperty(T)?($+=t[T],N=parseInt($,16)*k,k=1,$=""):$+=T:t.hasOwnProperty(T)?(q+=t[T],P[N]=parseInt(q,16)*k,k=1,N=void 0,q=""):q+=T;return M},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var b=y.font,x=h.Unicode[b.postScriptName];x&&(b.metadata.Unicode={},b.metadata.Unicode.widths=x.widths,b.metadata.Unicode.kerning=x.kerning);var N=f.Unicode[b.postScriptName];N&&(b.metadata.Unicode.encoding=N,b.encoding=N.codePages[0])}])}(Yt.API),function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=t.charCodeAt(s);return r};n.API.events.push(["addFont",function(t){var i=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(bh(u)),o.metadata=n.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(Yt),function(n){function e(){return(Zt.canvg?Promise.resolve(Zt.canvg):I1(()=>import("./index.es-Bf3oFDU-.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Yt.API.addSvgAsImage=function(t,i,r,s,o,u,c,f){if(isNaN(i)||isNaN(r))throw vi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw vi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var y=h.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,h.width,h.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return e().then(function(N){return N.fromString(y,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(b)}).then(function(){x.addImage(h.toDataURL("image/jpeg",1),i,r,s,o,c,f)})}}(),Yt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},Yt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),c=[],f=0,h=0,y=0;function b(N,T){var M,k=!1;for(M=0;M<N.length;M+=1)N[M]===T&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var x=u.length;for(y=0;y<x;y+=1)t[u[y]].value=t[u[y]].defaultValue,t[u[y]].explicitSet=!1}if(oi(n)==="object"){for(r in n)if(s=n[r],b(u,r)&&s!==void 0){if(t[r].type==="boolean"&&typeof s=="boolean")t[r].value=s;else if(t[r].type==="name"&&b(t[r].valueSet,s))t[r].value=s;else if(t[r].type==="integer"&&Number.isInteger(s))t[r].value=s;else if(t[r].type==="array"){for(f=0;f<s.length;f+=1)if(i=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(h=0;h<s[f].length;h+=1)typeof s[f][h]!="number"&&(i=!1);i===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}t[r].value="["+c.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,T=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?T.push("/"+N+" /"+t[N].value):T.push("/"+N+" "+t[N].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+u.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+u+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Yt.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var u,c=o.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],y=0,b=s.length;y<b;++y){if(u=o.metadata.characterToGlyph(s.charCodeAt(y)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=s.charCodeAt(y),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return h.join("");u=u.toString(16),h.push(f[4-u.length],u)}return h.join("")},i=function(s){var o,u,c,f,h,y,b;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],y=0,b=(u=Object.keys(s).sort(function(x,N){return x-N})).length;y<b;y++)o=u[y],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+f+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var u=o.font,c=o.out,f=o.newObject,h=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var y=u.metadata.Unicode.widths,b=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),x="",N=0;N<b.length;N++)x+=String.fromCharCode(b[N]);var T=f();h({data:x,addLength1:!0,objectId:T}),c("endobj");var M=f();h({data:i(u.metadata.toUnicode),addLength1:!0,objectId:M}),c("endobj");var k=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+If(u.fontName)),c("/FontFile2 "+T+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var P=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+If(u.fontName)),c("/FontDescriptor "+k+" 0 R"),c("/W "+n.API.PDFObject.convert(y)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+M+" 0 R"),c("/BaseFont /"+If(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+P+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var u=o.font,c=o.out,f=o.newObject,h=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var y=u.metadata.rawData,b="",x=0;x<y.length;x++)b+=String.fromCharCode(y[x]);var N=f();h({data:b,addLength1:!0,objectId:N}),c("endobj");var T=f();h({data:i(u.metadata.toUnicode),addLength1:!0,objectId:T}),c("endobj");var M=f();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+If(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=f();for(var k=0;k<u.metadata.hmtx.widths.length;k++)u.metadata.hmtx.widths[k]=parseInt(u.metadata.hmtx.widths[k]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+If(u.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,u=s.text||"",c=s.x,f=s.y,h=s.options||{},y=s.mutex||{},b=y.pdfEscape,x=y.activeFontKey,N=y.fonts,T=x,M="",k=0,P="",O=N[T].encoding;if(N[T].encoding!=="Identity-H")return{text:u,x:c,y:f,options:h,mutex:y};for(P=u,T=x,Array.isArray(u)&&(P=u[0]),k=0;k<P.length;k+=1)N[T].metadata.hasOwnProperty("cmap")&&(o=N[T].metadata.cmap.unicode.codeMap[P[k].charCodeAt(0)]),o||P[k].charCodeAt(0)<256&&N[T].metadata.hasOwnProperty("Unicode")?M+=P[k]:M+="";var $="";return parseInt(T.slice(1))<14||O==="WinAnsiEncoding"?$=b(M,T).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&($=t(M,N[T])),y.isHex=!0,{text:$,x:c,y:f,options:h,mutex:y}};e.events.push(["postProcessText",function(s){var o=s.text||"",u=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?u.push([r(Object.assign({},c,{text:o[f][0]})).text,o[f][1],o[f][2]]):u.push(r(Object.assign({},c,{text:o[f]})).text);s.text=u}else s.text=r(Object.assign({},c,{text:o})).text}])}(Yt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Yt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,u,c,f,h,y=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,O=0;this.__bidiEngine__={};var $=function(z){var G=z.charCodeAt(),fe=G>>8,ae=T[fe];return ae!==void 0?y[256*ae+(255&G)]:fe===252||fe===253?"AL":k.test(fe)?"L":fe===8?"R":"N"},q=function(z){for(var G,fe=0;fe<z.length;fe++){if((G=$(z.charAt(fe)))==="L")return!1;if(G==="R")return!0}return!1},Z=function(z,G,fe,ae){var me,te,ce,ne,de=G[ae];switch(de){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(de="AN");break;case"AL":P=!0,de="R";break;case"WS":de="N";break;case"CS":ae<1||ae+1>=G.length||(me=fe[ae-1])!=="EN"&&me!=="AN"||(te=G[ae+1])!=="EN"&&te!=="AN"?de="N":P&&(te="AN"),de=te===me?te:"N";break;case"ES":de=(me=ae>0?fe[ae-1]:"B")==="EN"&&ae+1<G.length&&G[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&fe[ae-1]==="EN"){de="EN";break}if(P){de="N";break}for(ce=ae+1,ne=G.length;ce<ne&&G[ce]==="ET";)ce++;de=ce<ne&&G[ce]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(ne=G.length,ce=ae+1;ce<ne&&G[ce]==="NSM";)ce++;if(ce<ne){var D=z[ae],ye=D>=1425&&D<=2303||D===64286;if(me=G[ce],ye&&(me==="R"||me==="AL")){de="R";break}}}de=ae<1||(me=G[ae-1])==="B"?"N":fe[ae-1];break;case"B":P=!1,r=!0,de=O;break;case"S":s=!0,de="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":de="N"}return de},Q=function(z,G,fe){var ae=z.split("");return fe&&V(ae,fe,{hiLevel:O}),ae.reverse(),G&&G.reverse(),ae.join("")},V=function(z,G,fe){var ae,me,te,ce,ne,de=-1,D=z.length,ye=0,R=[],W=O?x:b,j=[];for(P=!1,r=!1,s=!1,me=0;me<D;me++)j[me]=$(z[me]);for(te=0;te<D;te++){if(ne=ye,R[te]=Z(z,j,R,te),ae=240&(ye=W[ne][N[R[te]]]),ye&=15,G[te]=ce=W[ye][5],ae>0)if(ae===16){for(me=de;me<te;me++)G[me]=1;de=-1}else de=-1;if(W[ye][6])de===-1&&(de=te);else if(de>-1){for(me=de;me<te;me++)G[me]=ce;de=-1}j[te]==="B"&&(G[te]=0),fe.hiLevel|=ce}s&&function(re,se,xe){for(var pe=0;pe<xe;pe++)if(re[pe]==="S"){se[pe]=O;for(var Te=pe-1;Te>=0&&re[Te]==="WS";Te--)se[Te]=O}}(j,G,D)},X=function(z,G,fe,ae,me){if(!(me.hiLevel<z)){if(z===1&&O===1&&!r)return G.reverse(),void(fe&&fe.reverse());for(var te,ce,ne,de,D=G.length,ye=0;ye<D;){if(ae[ye]>=z){for(ne=ye+1;ne<D&&ae[ne]>=z;)ne++;for(de=ye,ce=ne-1;de<ce;de++,ce--)te=G[de],G[de]=G[ce],G[ce]=te,fe&&(te=fe[de],fe[de]=fe[ce],fe[ce]=te);ye=ne}ye++}}},le=function(z,G,fe){var ae=z.split(""),me={hiLevel:O};return fe||(fe=[]),V(ae,fe,me),function(te,ce,ne){if(ne.hiLevel!==0&&h)for(var de,D=0;D<te.length;D++)ce[D]===1&&(de=M.indexOf(te[D]))>=0&&(te[D]=M[de+1])}(ae,fe,me),X(2,ae,G,fe,me),X(1,ae,G,fe,me),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(z,G,fe){if(function(me,te){if(te)for(var ce=0;ce<me.length;ce++)te[ce]=ce;u===void 0&&(u=q(me)),f===void 0&&(f=q(me))}(z,G),o||!c||f)if(o&&c&&u^f)O=u?1:0,z=Q(z,G,fe);else if(!o&&c&&f)O=u?1:0,z=le(z,G,fe),z=Q(z,G);else if(!o||u||c||f){if(o&&!c&&u^f)z=Q(z,G),u?(O=0,z=le(z,G,fe)):(O=1,z=le(z,G,fe),z=Q(z,G));else if(o&&u&&!c&&f)O=1,z=le(z,G,fe),z=Q(z,G);else if(!o&&!c&&u^f){var ae=h;u?(O=1,z=le(z,G,fe),O=0,h=!1,z=le(z,G,fe),h=ae):(O=0,z=le(z,G,fe),z=Q(z,G),O=1,h=!1,z=le(z,G,fe),h=ae,z=Q(z,G))}}else O=0,z=le(z,G,fe);else O=u?1:0,z=le(z,G,fe);return z},this.__bidiEngine__.setOptions=function(z){z&&(o=z.isInputVisual,c=z.isOutputVisual,u=z.isInputRtl,f=z.isOutputRtl,h=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var u=0;for(o=[],u=0;u<r.length;u+=1)Object.prototype.toString.call(r[u])==="[object Array]"?o.push([t.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):o.push([t.doBidiReorder(r[u])]);i.text=o}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(Yt),Yt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Uu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new nD(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new VR(this.contents),this.head=new HR(this),this.name=new $R(this),this.cmap=new sS(this),this.toUnicode={},this.hhea=new GR(this),this.maxp=new JR(this),this.hmtx=new ZR(this),this.post=new KR(this),this.os2=new WR(this),this.loca=new tD(this),this.glyf=new XR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,c,f;for(f=[],o=0,u=(c=this.bbox).length;o<u;o++)e=c[o],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(t=r>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,s,o,u;for(o=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)r=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n}();var mo,Uu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,s,o,u,c;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*s+65536*o+256*u+c},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)t=e[i],s.push(this.writeByte(t));return s},n}(),VR=function(){var n;function e(t){var i,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,s,o,u,c,f,h,y,b,x,N,T;for(T in x=Object.keys(t).length,c=Math.log(2),y=16*Math.floor(Math.log(x)/c),o=Math.floor(y/c),h=16*x-y,(r=new Uu).writeInt(this.scalarType),r.writeShort(x),r.writeShort(y),r.writeShort(o),r.writeShort(h),s=16*x,f=r.pos+s,u=null,N=[],t)for(b=t[T],r.writeString(T),r.writeInt(n(b)),r.writeInt(f),r.writeInt(b.length),N=N.concat(b),T==="head"&&(u=f),f+=b.length;f%4;)N.push(0),f++;return r.write(N),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(t){var i,r,s,o;for(t=aS.call(t);t.length%4;)t.push(0);for(s=new Uu(t),r=0,i=0,o=t.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),qR={}.hasOwnProperty,tl=function(n,e){for(var t in e)qR.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};mo=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var HR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,mo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new Uu).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),fb=function(){function n(e,t){var i,r,s,o,u,c,f,h,y,b,x,N,T,M,k,P,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(x=e.readUInt16(),b=x/2,e.pos+=6,s=function(){var $,q;for(q=[],c=$=0;0<=b?$<b:$>b;c=0<=b?++$:--$)q.push(e.readUInt16());return q}(),e.pos+=2,T=function(){var $,q;for(q=[],c=$=0;0<=b?$<b:$>b;c=0<=b?++$:--$)q.push(e.readUInt16());return q}(),f=function(){var $,q;for(q=[],c=$=0;0<=b?$<b:$>b;c=0<=b?++$:--$)q.push(e.readUInt16());return q}(),h=function(){var $,q;for(q=[],c=$=0;0<=b?$<b:$>b;c=0<=b?++$:--$)q.push(e.readUInt16());return q}(),r=(this.length-e.pos+this.offset)/2,u=function(){var $,q;for(q=[],c=$=0;0<=r?$<r:$>r;c=0<=r?++$:--$)q.push(e.readUInt16());return q}(),c=k=0,O=s.length;k<O;c=++k)for(M=s[c],i=P=N=T[c];N<=M?P<=M:P>=M;i=N<=M?++P:--P)h[c]===0?o=i+f[c]:(o=u[h[c]/2+(i-N)-(b-c)]||0)!==0&&(o+=f[c]),this.codeMap[i]=65535&o}e.pos=y}return n.encode=function(e,t){var i,r,s,o,u,c,f,h,y,b,x,N,T,M,k,P,O,$,q,Z,Q,V,X,le,z,G,fe,ae,me,te,ce,ne,de,D,ye,R,W,j,re,se,xe,pe,Te,$e,Ye,et;switch(ae=new Uu,o=Object.keys(e).sort(function(tt,xt){return tt-xt}),t){case"macroman":for(T=0,M=function(){var tt=[];for(N=0;N<256;++N)tt.push(0);return tt}(),P={0:0},s={},me=0,de=o.length;me<de;me++)P[Te=e[r=o[me]]]==null&&(P[Te]=++T),s[r]={old:e[r],new:P[e[r]]},M[r]=P[e[r]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(M),{charMap:s,subtable:ae.data,maxGlyphID:T+1};case"unicode":for(G=[],y=[],O=0,P={},i={},k=f=null,te=0,D=o.length;te<D;te++)P[q=e[r=o[te]]]==null&&(P[q]=++O),i[r]={old:q,new:P[q]},u=P[q]-r,k!=null&&u===f||(k&&y.push(k),G.push(r),f=u),k=r;for(k&&y.push(k),y.push(65535),G.push(65535),le=2*(X=G.length),V=2*Math.pow(Math.log(X)/Math.LN2,2),b=Math.log(V/2)/Math.LN2,Q=2*X-V,c=[],Z=[],x=[],N=ce=0,ye=G.length;ce<ye;N=++ce){if(z=G[N],h=y[N],z===65535){c.push(0),Z.push(0);break}if(z-(fe=i[z].new)>=32768)for(c.push(0),Z.push(2*(x.length+X-N)),r=ne=z;z<=h?ne<=h:ne>=h;r=z<=h?++ne:--ne)x.push(i[r].new);else c.push(fe-z),Z.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*X+2*x.length),ae.writeUInt16(0),ae.writeUInt16(le),ae.writeUInt16(V),ae.writeUInt16(b),ae.writeUInt16(Q),xe=0,R=y.length;xe<R;xe++)r=y[xe],ae.writeUInt16(r);for(ae.writeUInt16(0),pe=0,W=G.length;pe<W;pe++)r=G[pe],ae.writeUInt16(r);for($e=0,j=c.length;$e<j;$e++)u=c[$e],ae.writeUInt16(u);for(Ye=0,re=Z.length;Ye<re;Ye++)$=Z[Ye],ae.writeUInt16($);for(et=0,se=x.length;et<se;et++)T=x[et],ae.writeUInt16(T);return{charMap:i,subtable:ae.data,maxGlyphID:O+1}}},n}(),sS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,mo),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new fb(t,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(t,i){var r,s;return i==null&&(i="macroman"),r=fb.encode(t,i),(s=new Uu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),GR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,mo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),WR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,mo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(t.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),KR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,mo),e.prototype.tag="post",e.prototype.parse=function(t){var i,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)i=t.readByte(),s.push(this.names.push(t.readString(i)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 196608:break;case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(t.readUInt32());return f}).call(this)}},e}(),YR=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$R=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,mo),e.prototype.tag="name",e.prototype.parse=function(t){var i,r,s,o,u,c,f,h,y,b,x;for(t.pos=this.offset,t.readShort(),i=t.readShort(),c=t.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(f={},o=y=0,b=r.length;y<b;o=++y)s=r[o],t.pos=s.offset,h=t.readString(s.length),u=new YR(h,s),f[x=s.nameID]==null&&(f[x]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),JR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,mo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),ZR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,mo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,r,s,o,u,c,f;for(t.pos=this.offset,this.metrics=[],i=0,c=this.file.hhea.numberOfMetrics;0<=c?i<c:i>c;i=0<=c?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,y;for(y=[],i=h=0;0<=s?h<s:h>s;i=0<=s?++h:--h)y.push(t.readInt16());return y}(),this.widths=(function(){var h,y,b,x;for(x=[],h=0,y=(b=this.metrics).length;h<y;h++)o=b[h],x.push(o.advance);return x}).call(this),r=this.widths[this.widths.length-1],f=[],i=u=0;0<=s?u<s:u>s;i=0<=s?++u:--u)f.push(this.widths.push(r));return f},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),aS=[].slice,XR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,mo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,r,s,o,u,c,f,h,y,b;return t in this.cache?this.cache[t]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(i.pos=this.offset+r,u=(c=new Uu(i.read(s))).readShort(),h=c.readShort(),b=c.readShort(),f=c.readShort(),y=c.readShort(),this.cache[t]=u===-1?new eD(c,h,b,f,y):new QR(c,u,h,b,f,y),this.cache[t]))},e.prototype.encode=function(t,i,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=i.length;c<f;c++)s=t[i[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},e}(),QR=function(){function n(e,t,i,r,s,o){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),eD=function(){function n(e,t,i,r,s){var o,u;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new Uu(aS.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),tD=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,mo),e.prototype.tag="loca",e.prototype.parse=function(t){var i,r;return t.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<i.length&&i[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var h=new Array(4*r.length),y=0;y<r.length;++y)h[4*y+3]=255&r[y],h[4*y+2]=(65280&r[y])>>8,h[4*y+1]=(16711680&r[y])>>16,h[4*y]=(4278190080&r[y])>>24;return h},e}(),nD=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[t],e[t]=r[i];return e},n.prototype.glyphsFor=function(e){var t,i,r,s,o,u,c;for(r={},o=0,u=e.length;o<u;o++)r[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(i=r[s])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))i=c[s],r[s]=i;return r},n.prototype.encode=function(e,t){var i,r,s,o,u,c,f,h,y,b,x,N,T,M,k;for(r in i=sS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),x={0:0},k=i.charMap)x[(c=k[r]).old]=c.new;for(N in b=i.maxGlyphID,o)N in x||(x[N]=b++);return h=function(P){var O,$;for(O in $={},P)$[P[O]]=O;return $}(x),y=Object.keys(h).sort(function(P,O){return P-O}),T=function(){var P,O,$;for($=[],P=0,O=y.length;P<O;P++)u=y[P],$.push(h[u]);return $}(),s=this.font.glyf.encode(o,T,x),f=this.font.loca.encode(s.offsets,T),M={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},n}();Yt.API.PDFObject=function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,r,s,o;if(Array.isArray(t))return"["+function(){var u,c,f;for(f=[],u=0,c=t.length;u<c;u++)i=t[u],f.push(e.convert(i));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in s=["<<"],t)o=t[r],s.push("/"+r+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();function oS(n,e,t,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,u=r.internal.getFontSize()/o,c=r.getLineHeightFactor?r.getLineHeightFactor():s,f=u*c,h=/\r\n|\r|\n/g,y="",b=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(y=typeof n=="string"?n.split(h):n,b=y.length||1),t+=u*(2-s),i.valign==="middle"?t-=b/2*f:i.valign==="bottom"&&(t-=b*f),i.halign==="center"||i.halign==="right"){var x=u;if(i.halign==="center"&&(x*=.5),y&&b>=1){for(var N=0;N<y.length;N++)r.text(y[N],e-r.getStringUnitWidth(y[N])*x,t),t+=f;return r}e-=r.getStringUnitWidth(n)*x}return i.halign==="justify"?r.text(n,e,t,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,e,t),r}var db={},Yf=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:db=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var i,r,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),u=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){u=e.fontStyle;var f=this.getFontList()[c];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(c,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var h=n.unifyColor(e.fillColor);h&&(i=this.jsPDFDocument).setFillColor.apply(i,h),h=n.unifyColor(e.textColor),h&&(r=this.jsPDFDocument).setTextColor.apply(r,h),h=n.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,i){return this.jsPDFDocument.splitTextToSize(e,t,i)},n.prototype.rect=function(e,t,i,r,s){return this.jsPDFDocument.rect(e,t,i,r,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return db||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),K1=function(n,e){return K1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},K1(n,e)};function lS(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");K1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var uS=function(n){lS(e,n);function e(t){var i=n.call(this)||this;return i._element=t,i}return e}(Array);function iD(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function rD(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function $m(n,e,t){t.applyStyles(e,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(s){return t.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function cS(n,e,t,i){var r=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:s});var o=fS(r,!1);o&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),i.y-t.y,o)}function fS(n,e){var t=n>0,i=e||e===0;return t&&i?"DF":t?"S":i?"F":null}function gg(n,e){var t,i,r,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(i=n.top)!==null&&i!==void 0?i:e,right:(r=n.right)!==null&&r!==void 0?r:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function dS(n,e){var t=gg(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function sD(n,e,t,i,r){var s={},o=1.3333333333333333,u=Y0(e,function(O){return r.getComputedStyle(O).backgroundColor});u!=null&&(s.fillColor=u);var c=Y0(e,function(O){return r.getComputedStyle(O).color});c!=null&&(s.textColor=c);var f=oD(i,t);f&&(s.cellPadding=f);var h="borderTopColor",y=o*t,b=i.borderTopWidth;if(i.borderBottomWidth===b&&i.borderRightWidth===b&&i.borderLeftWidth===b){var x=(parseFloat(b)||0)/y;x&&(s.lineWidth=x)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/y,right:(parseFloat(i.borderRightWidth)||0)/y,bottom:(parseFloat(i.borderBottomWidth)||0)/y,left:(parseFloat(i.borderLeftWidth)||0)/y},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var N=Y0(e,function(O){return r.getComputedStyle(O)[h]});N!=null&&(s.lineColor=N);var T=["left","right","center","justify"];T.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),T=["middle","bottom","top"],T.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var M=parseInt(i.fontSize||"");isNaN(M)||(s.fontSize=M/o);var k=aD(i);k&&(s.fontStyle=k);var P=(i.fontFamily||"").toLowerCase();return n.indexOf(P)!==-1&&(s.font=P),s}function aD(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function Y0(n,e){var t=hS(n,e);if(!t)return null;var i=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function hS(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:hS(n.parentElement,e):t}function oD(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/e),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(u){return parseInt(u||"0")/i}),o=gg(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function pS(n,e,t,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var c=Object.keys(n.getFontList()),f=n.scaleFactor(),h=[],y=[],b=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:h,body:y,foot:b};for(var x=0;x<u.rows.length;x++){var N=u.rows[x],T=(o=(s=N==null?void 0:N.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),M=lD(c,f,t,N,i,r);M&&(T==="thead"?h.push(M):T==="tfoot"?b.push(M):y.push(M))}return{head:h,body:y,foot:b}}function lD(n,e,t,i,r,s){for(var o=new uS(i),u=0;u<i.cells.length;u++){var c=i.cells[u],f=t.getComputedStyle(c);if(r||f.display!=="none"){var h=void 0;s&&(h=sD(n,c,e,f,t)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:uD(c)})}}var y=t.getComputedStyle(i);if(o.length>0&&(r||y.display!=="none"))return o}function uD(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function cD(n,e,t){for(var i=0,r=[n,e,t];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Dl(n,e,t,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var u=arguments[o];if(u!=null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(s[c]=u[c])}return s}function mS(n,e){var t=new Yf(n),i=t.getDocumentOptions(),r=t.getGlobalOptions();cD(r,i,e);var s=Dl({},r,i,e),o;typeof window<"u"&&(o=window);var u=fD(r,i,e),c=dD(r,i,e),f=hD(t,s),h=mD(t,s,o);return{id:e.tableId,content:h,hooks:c,styles:u,settings:f}}function fD(n,e,t){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(c){if(c==="columnStyles"){var f=n[c],h=e[c],y=t[c];i.columnStyles=Dl({},f,h,y)}else{var b=[n,e,t],x=b.map(function(N){return N[c]||{}});i[c]=Dl({},x[0],x[1],x[2])}},s=0,o=Object.keys(i);s<o.length;s++){var u=o[s];r(u)}return i}function dD(n,e,t){for(var i=[n,e,t],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var u=o[s];u.didParseCell&&r.didParseCell.push(u.didParseCell),u.willDrawCell&&r.willDrawCell.push(u.willDrawCell),u.didDrawCell&&r.didDrawCell.push(u.didDrawCell),u.willDrawPage&&r.willDrawPage.push(u.willDrawPage),u.didDrawPage&&r.didDrawPage.push(u.didDrawPage)}return r}function hD(n,e){var t,i,r,s,o,u,c,f,h,y,b,x,N=gg(e.margin,40/n.scaleFactor()),T=(t=pD(n,e.startY))!==null&&t!==void 0?t:N.top,M;e.showFoot===!0?M="everyPage":e.showFoot===!1?M="never":M=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var k;e.showHead===!0?k="everyPage":e.showHead===!1?k="never":k=(r=e.showHead)!==null&&r!==void 0?r:"everyPage";var P=(s=e.useCss)!==null&&s!==void 0?s:!1,O=e.theme||(P?"plain":"striped"),$=!!e.horizontalPageBreak,q=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:P,theme:O,startY:T,margin:N,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:k,showFoot:M,tableLineWidth:(y=e.tableLineWidth)!==null&&y!==void 0?y:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:$,horizontalPageBreakRepeat:q,horizontalPageBreakBehaviour:(x=e.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function pD(n,e){var t=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var o=t.startPageNumber+t.pageNumber-1;s=o===r}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/i:null}function mD(n,e,t){var i=e.head||[],r=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(t){var u=pS(n,e.html,t,o,e.useCss)||{};i=u.head||i,r=u.body||i,s=u.foot||i}else console.error("Cannot parse html in non browser environment")}var c=e.columns||gD(i,r,s);return{columns:c,head:i,body:r,foot:s}}function gD(n,e,t){var i=n[0]||e[0]||t[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,u;Array.isArray(i)?u=i[parseInt(s)]:u=i[s],typeof u=="object"&&!Array.isArray(u)&&(o=(u==null?void 0:u.colSpan)||1);for(var c=0;c<o;c++){var f=void 0;Array.isArray(i)?f=r.length:f=s+(c>0?"_".concat(c):"");var h={dataKey:f};r.push(h)}}),r}var Y1=function(){function n(e,t,i){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=i,this.doc=e.getDocument()}return n}(),yD=function(n){lS(e,n);function e(t,i,r,s,o,u){var c=n.call(this,t,i,u)||this;return c.cell=r,c.row=s,c.column=o,c.section=s.section,c}return e}(Y1),vD=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,i,r,s,o){for(var u=0,c=t;u<c.length;u++){var f=c[u],h=new yD(e,this,i,r,s,o),y=f(h)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],y)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new Y1(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new Y1(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return t}else{var i=this.settings.margin;return e-i.left-i.right}},n}(),gS=function(){function n(e,t,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof uS&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=i,this.cells=r,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(i,r){var s;return Math.max(i,((s=t.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(i){var r=t.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var i=this;return e.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var u=t.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),f=c+u;return f>r?f:r},0)},n}(),yS=function(){function n(e,t,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=i,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(r=e.content)!==null&&r!==void 0?r:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",u=/\r\n|\r|\n/g;this.text=o.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/e*t,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=gg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),xD=function(){function n(e,t,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=i}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,i=0,r=e.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(t=Math.max(t,o.styles.cellWidth))}return t},n}();function bD(n,e){wD(n,e);var t=[],i=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,t.push(s)),i+=s.width});var r=e.getWidth(n.pageSize().width)-i;r&&(r=$1(t,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=$1(t,r,function(s){return s.minWidth})),r=Math.abs(r),!e.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),SD(e),AD(e,n),_D(e)}function wD(n,e){var t=n.scaleFactor(),i=e.settings.horizontalPageBreak,r=dS(n,e);e.allRows().forEach(function(s){for(var o=0,u=e.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f){var h=e.hooks.didParseCell;e.callCellHooks(n,h,f,s,c,null);var y=f.padding("horizontal");f.contentWidth=$m(f.text,f.styles,n)+y;var b=$m(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=b+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>r?(f.minWidth=r,f.wrappedWidth=r):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var x=10/t;f.minWidth=f.styles.minCellWidth||x,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,u=e.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f&&f.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,f.wrappedWidth),c.minWidth=Math.max(c.minWidth,f.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,f.minReadableWidth);else{var h=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},y=h.cellWidth||h.minCellWidth;y&&typeof y=="number"&&(c.minWidth=y,c.wrappedWidth=y)}f&&(f.colSpan>1&&!c.minWidth&&(c.minWidth=f.minWidth),f.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=f.minWidth))}})}function $1(n,e,t){for(var i=e,r=n.reduce(function(x,N){return x+N.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],u=o.wrappedWidth/r,c=i*u,f=o.width+c,h=t(o),y=f<h?h:f;e-=y-o.width,o.width=y}if(e=Math.round(e*1e10)/1e10,e){var b=n.filter(function(x){return e<0?x.width>t(x):!0});b.length&&(e=$1(b,e,t))}return e}function _D(n){for(var e={},t=1,i=n.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,u=n.columns;o<u.length;o++){var c=u[o],f=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(f)f.cell.height+=s.height,t=f.cell.colSpan,delete s.cells[c.index],f.left--,f.left<=1&&delete e[c.index];else{var h=s.cells[c.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var y=i.length-r,b=h.rowSpan>y?y:h.rowSpan;e[c.index]={cell:h,left:b,row:s}}}}}function SD(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var i=e[t],r=null,s=0,o=0,u=0;u<n.columns.length;u++){var c=n.columns[u];if(o-=1,o>1&&n.columns[u+1])s+=c.width,delete i.cells[c.index];else if(r){var f=r;delete i.cells[c.index],r=null,f.width=c.width+s}else{var f=i.cells[c.index];if(!f)continue;if(o=f.colSpan,s=0,f.colSpan>1){r=f,s+=c.width;continue}f.width=c.width+s}}}function AD(n,e){for(var t={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var s=r[i],o=0,u=n.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f){e.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,h+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=hb(f.text,h,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=hb(f.text,h,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var y=f.styles.overflow(f.text,h);typeof y=="string"?f.text=[y]:f.text=y}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<b*f.rowSpan?t={height:b,count:f.rowSpan}:t&&t.count>0&&t.height>b&&(b=t.height),b>s.height&&(s.height=b)}}t.count--}}function hb(n,e,t,i,r){return n.map(function(s){return TD(s,e,t,i,r)})}function TD(n,e,t,i,r){var s=1e4*i.scaleFactor();if(e=Math.ceil(e*s)/s,e>=$m(n,t,i))return n;for(;e<$m(n+r,t,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function vS(n,e){var t=new Yf(n),i=CD(e,t.scaleFactor()),r=new vD(e,i);return bD(t,r),t.applyStyles(t.userStyles),r}function CD(n,e){var t=n.content,i=ED(t.columns);if(t.head.length===0){var r=pb(i,"head");r&&t.head.push(r)}if(t.foot.length===0){var r=pb(i,"foot");r&&t.foot.push(r)}var s=n.settings.theme,o=n.styles;return{columns:i,head:$0("head",t.head,i,o,s,e),body:$0("body",t.body,i,o,s,e),foot:$0("foot",t.foot,i,o,s,e)}}function $0(n,e,t,i,r,s){var o={},u=e.map(function(c,f){for(var h=0,y={},b=0,x=0,N=0,T=t;N<T.length;N++){var M=T[N];if(o[M.index]==null||o[M.index].left===0)if(x===0){var k=void 0;Array.isArray(c)?k=c[M.index-b-h]:k=c[M.dataKey];var P={};typeof k=="object"&&!Array.isArray(k)&&(P=(k==null?void 0:k.styles)||{});var O=kD(n,M,f,r,i,s,P),$=new yS(k,O,n);y[M.dataKey]=$,y[M.index]=$,x=$.colSpan-1,o[M.index]={left:$.rowSpan-1,times:x}}else x--,b++;else o[M.index].left--,x=o[M.index].times,h++}return new gS(c,f,n,y)});return u}function pb(n,e){var t={};return n.forEach(function(i){if(i.raw!=null){var r=ND(e,i.raw);r!=null&&(t[i.dataKey]=r)}}),Object.keys(t).length>0?t:null}function ND(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function ED(n){return n.map(function(e,t){var i,r;return typeof e=="object"?r=(i=e.dataKey)!==null&&i!==void 0?i:t:r=t,new xD(r,e,t)})}function kD(n,e,t,i,r,s,o){var u=rD(i),c;n==="head"?c=r.headStyles:n==="body"?c=r.bodyStyles:n==="foot"&&(c=r.footStyles);var f=Dl({},u.table,u[n],r.styles,c),h=r.columnStyles[e.dataKey]||r.columnStyles[e.index]||{},y=n==="body"?h:{},b=n==="body"&&t%2===0?Dl({},u.alternateRow,r.alternateRowStyles):{},x=iD(s),N=Dl({},x,f,b,y);return Dl(N,o)}function MD(n,e,t){var i;t===void 0&&(t={});var r=dS(n,e),s=new Map,o=[],u=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(b){var x=e.columns.find(function(N){return N.dataKey===b||N.index===b});x&&!s.has(x.index)&&(s.set(x.index,!0),o.push(x.index),u.push(e.columns[x.index]),r-=x.wrappedWidth)});for(var f=!0,h=(i=t==null?void 0:t.start)!==null&&i!==void 0?i:0;h<e.columns.length;){if(s.has(h)){h++;continue}var y=e.columns[h].wrappedWidth;if(f||r>=y)f=!1,o.push(h),u.push(e.columns[h]),r-=y;else break;h++}return{colIndexes:o,columns:u,lastIndex:h-1}}function LD(n,e){for(var t=[],i=0;i<e.columns.length;i++){var r=MD(n,e,{start:i});r.columns.length&&(t.push(r),i=r.lastIndex)}return t}function xS(n,e){var t=e.settings,i=t.startY,r=t.margin,s={x:r.left,y:i},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=i+r.bottom+o;if(t.pageBreak==="avoid"){var c=e.body,f=c.reduce(function(b,x){return b+x.height},0);u+=f}var h=new Yf(n);(t.pageBreak==="always"||t.startY!=null&&u>h.pageSize().height)&&(wS(h),s.y=r.top),e.callWillDrawPageHooks(h,s);var y=Dl({},s);e.startPageNumber=h.pageNumber(),t.horizontalPageBreak?PD(h,e,y,s):(h.applyStyles(h.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(b){return Ul(h,e,b,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(b,x){var N=x===e.body.length-1;Jm(h,e,b,N,y,s,e.columns)}),h.applyStyles(h.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(b){return Ul(h,e,b,s,e.columns)})),cS(h,e,y,s),e.callEndPageHooks(h,s),e.finalY=s.y,n.lastAutoTable=e,h.applyStyles(h.userStyles)}function PD(n,e,t,i){var r=LD(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(f,h){n.applyStyles(n.userStyles),h>0?wh(n,e,t,i,f.columns,!0):mb(n,e,i,f.columns),RD(n,e,t,i,f.columns),J0(n,e,i,f.columns)});else for(var o=-1,u=r[0],c=function(){var f=o;if(u){n.applyStyles(n.userStyles);var h=u.columns;o>=0?wh(n,e,t,i,h,!0):mb(n,e,i,h),f=gb(n,e,o+1,i,h),J0(n,e,i,h)}var y=f-o;r.slice(1).forEach(function(b){n.applyStyles(n.userStyles),wh(n,e,t,i,b.columns,!0),gb(n,e,o+1,i,b.columns,y),J0(n,e,i,b.columns)}),o=f};o<e.body.length-1;)c()}function mb(n,e,t,i){var r=e.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(s){return Ul(n,e,s,t,i)})}function RD(n,e,t,i,r){n.applyStyles(n.userStyles),e.body.forEach(function(s,o){var u=o===e.body.length-1;Jm(n,e,s,u,t,i,r)})}function gb(n,e,t,i,r,s){n.applyStyles(n.userStyles),s=s??e.body.length;var o=Math.min(t+s,e.body.length),u=-1;return e.body.slice(t,o).forEach(function(c,f){var h=t+f===e.body.length-1,y=bS(n,e,h,i);c.canEntireRowFit(y,r)&&(Ul(n,e,c,i,r),u=t+f)}),u}function J0(n,e,t,i){var r=e.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ul(n,e,s,t,i)})}function DD(n,e,t){var i=t.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),s=Math.floor((e-r)/i);return Math.max(0,s)}function ID(n,e,t,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,u=t.columns;o<u.length;o++){var c=u[o],f=n.cells[c.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new yS(f.raw,f.styles,f.section);h=Dl(h,f),h.text=[];var y=DD(f,e,i);f.text.length>y&&(h.text=f.text.splice(y,f.text.length));var b=i.scaleFactor(),x=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(b,x),f.contentHeight>=e&&(f.contentHeight=e,h.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),h.contentHeight=h.getContentHeight(b,x),h.contentHeight>s&&(s=h.contentHeight),r[c.index]=h}}var N=new gS(n.raw,-1,n.section,r,!0);N.height=s;for(var T=0,M=t.columns;T<M.length;T++){var c=M[T],h=N.cells[c.index];h&&(h.height=N.height);var f=n.cells[c.index];f&&(f.height=n.height)}return N}function OD(n,e,t,i){var r=n.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,u=r-o;e.section==="body"&&(u-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var c=e.getMinimumRowHeight(i.columns,n),f=c<t;if(c>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=e.hasRowSpan(i.columns),y=e.getMaxCellHeight(i.columns)>u;return y?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||i.settings.rowPageBreak==="avoid")}function Jm(n,e,t,i,r,s,o){var u=bS(n,e,i,s);if(t.canEntireRowFit(u,o))Ul(n,e,t,s,o);else if(OD(n,t,u,e)){var c=ID(t,u,e,n);Ul(n,e,t,s,o),wh(n,e,r,s,o),Jm(n,e,c,i,r,s,o)}else wh(n,e,r,s,o),Jm(n,e,t,i,r,s,o)}function Ul(n,e,t,i,r){i.x=e.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var u=o[s],c=t.cells[u.index];if(!c){i.x+=u.width;continue}n.applyStyles(c.styles),c.x=i.x,c.y=i.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,c,t,u,i);if(f===!1){i.x+=u.width;continue}FD(n,c,i);var h=c.getTextPos();oS(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,u,i),i.x+=u.width}i.y+=t.height}function FD(n,e,t){var i=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=fS(i.lineWidth,i.fillColor);r&&n.rect(e.x,t.y,e.width,e.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),BD(n,e,t,i.lineWidth))}function BD(n,e,t,i){var r,s,o,u;i.top&&(r=t.x,s=t.y,o=t.x+e.width,u=t.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),c(i.top,r,s,o,u)),i.bottom&&(r=t.x,s=t.y+e.height,o=t.x+e.width,u=t.y+e.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),c(i.bottom,r,s,o,u)),i.left&&(r=t.x,s=t.y,o=t.x,u=t.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(u+=.5*i.bottom),c(i.left,r,s,o,u)),i.right&&(r=t.x+e.width,s=t.y,o=t.x+e.width,u=t.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(u+=.5*i.bottom),c(i.right,r,s,o,u));function c(f,h,y,b,x){n.getDocument().setLineWidth(f),n.getDocument().line(h,y,b,x,"S")}}function bS(n,e,t,i){var r=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(r+=e.getFootHeight(e.columns)),n.pageSize().height-i.y-r}function wh(n,e,t,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(u){return Ul(n,e,u,i,r)}),e.callEndPageHooks(n,i);var o=e.settings.margin;cS(n,e,t,i),wS(n),e.pageNumber++,i.x=o.left,i.y=o.top,t.y=o.top,e.callWillDrawPageHooks(n,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return Ul(n,e,u,i,r)}),n.applyStyles(n.userStyles))}function wS(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function zD(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],r=mS(this,i),s=vS(this,r);return xS(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,i,r){oS(e,t,i,r,this)},n.API.autoTableSetDefaults=function(e){return Yf.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Yf.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var i;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Yf(this),s=pS(r,e,window,t,!1),o=s.head,u=s.body,c=((i=o[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:c,rows:u,data:u}}}var Z0;function jD(n,e){var t=mS(n,e),i=vS(n,t);xS(n,i)}try{if(typeof window<"u"&&window){var yb=window,vb=yb.jsPDF||((Z0=yb.jspdf)===null||Z0===void 0?void 0:Z0.jsPDF);vb&&zD(vb)}}catch(n){console.error("Could not apply autoTable plugin",n)}const pa=15,xb=16,X0=14,La=10,tm=8,Ks=1.5,_c=10,so=6,_S=4;let kn,zi,_h;async function UD(n){try{const e=await fetch(n);if(!e.ok)throw new Error(`Network response was not ok for image: ${e.status} ${e.statusText}`);const t=await e.blob();return new Promise((i,r)=>{const s=new FileReader;s.onloadend=()=>i(s.result),s.onerror=r,s.readAsDataURL(t)})}catch(e){return console.error("Error fetching or converting image:",e),null}}function $r(n=20){kn+n>zi.internal.pageSize.height-pa&&(zi.addPage(),kn=pa)}function nm(n){$r(X0*Ks+so),zi.setFontSize(X0),zi.setFont(void 0,"bold"),zi.text(n,pa,kn),kn+=X0*Ks/zi.internal.scaleFactor,kn+=so/2,zi.setFontSize(La),zi.setFont(void 0,"normal")}function da(n,e=0,t={}){const{fontStyle:i="normal",fontSize:r=La}=t;zi.setFont(void 0,i),zi.setFontSize(r),(Array.isArray(n)?n:zi.splitTextToSize(n,_h-e)).forEach(o=>{$r(r*Ks/zi.internal.scaleFactor),zi.text(o,pa+e,kn),kn+=r*Ks/zi.internal.scaleFactor})}function VD(n,e=0){if(!n)return;zi.setFontSize(La),zi.setFont(void 0,"normal");let t=n.replace(/\r\n/g,`
`);const i="%%PARAGRAPH_BREAK%%";t=t.replace(/\n{2,}/g,i),t=t.replace(new RegExp("(?<![%\\n])\\n(?![%\\n])","g")," "),t.split(i).forEach(s=>{let o=s.trim();if(o===""){kn+=La*Ks/zi.internal.scaleFactor*.5,$r(5);return}let u="",c=e;o.match(/^[-*+]\s+/)&&(u="  ",o=o.replace(/^[-*+]\s+/,""),c=e+zi.getTextWidth(u)),o=o.replace(/(\*\*|__)(.*?)(\*\*|__)/g,"$2"),o=o.replace(/(\*|_)(.*?)(\*|_)/g,"$2"),zi.splitTextToSize(o,_h-c).forEach((h,y)=>{$r(La*Ks/zi.internal.scaleFactor),y===0&&u&&zi.text(u,pa+e,kn),zi.text(h,pa+c,kn),kn+=La*Ks/zi.internal.scaleFactor}),kn+=_S/2})}function qD(n){if(!n)return"N/A";let e=n;return e=e.replace("Marketplace New Current","Marketplace Neu"),e=e.replace("Marketplace Used Current","Marketplace Gebraucht"),e=e.replace("Amazon Current","Amazon"),e=e.replace(" Current",""),e}async function J1(n,e,t,i,r,s){const o=new Yt;if(zi=o,kn=pa,_h=o.internal.pageSize.width-2*pa,o.setFontSize(xb),o.setFont(void 0,"bold"),o.text("Teilwertschtzungsprotokoll",o.internal.pageSize.width/2,kn,{align:"center"}),kn+=xb*Ks/o.internal.scaleFactor+_c/2,o.setFontSize(La),o.setFont(void 0,"normal"),o.splitTextToSize(`Produkt: ${n.name}`,_h).forEach(V=>{$r(La*Ks/o.internal.scaleFactor),o.text(V,pa,kn),kn+=La*Ks/o.internal.scaleFactor}),da([`ASIN: ${n.id}`,`Teilwertschtzung erstellt am: ${new Date().toLocaleDateString("de-DE")}`]),kn+=_c,$r(),n.imageUrl)try{const V=await UD(n.imageUrl);if(V){const X=o.getImageProperties(V);let le=X.width,z=X.height;le>80&&(z=z*80/le,le=80),z>60&&(le=le*60/z,z=60);const G=(o.internal.pageSize.width-le)/2;$r(z+_c),o.addImage(V,X.fileType,G,kn,le,z),kn+=z+_c,$r()}}catch{}nm("1. Basisdaten");const c=[];if(c.push(`ETV (Einkaufswert/Neupreis): ${n.etv!==void 0&&n.etv!==null?`${n.etv.toFixed(2)}`:"N/A"}`),e&&e.price!==void 0){const V=qD(e.priceSource||"");c.push(`Referenzpreis (Keepa): ${e.price.toFixed(2)} (Quelle: ${V})`)}else e&&e.info?c.push(`Referenzpreis (Keepa): Nicht verfgbar${e.reason?` (${e.reason})`:""}`):c.push("Referenzpreis (Keepa): Nicht verfgbar");da(c,5),kn+=so,$r(30);const f="Geschtzter Teilwert:",h=`${s.Teilwert.toFixed(2)}`,y=La+4;o.setFontSize(y),o.setFont(void 0,"bold");const b=o.getTextWidth(f),x=o.getTextWidth(h),N=b+x+5,T=5,M=N+2*T,k=y*Ks/o.internal.scaleFactor+2*T,P=(o.internal.pageSize.width-M)/2,O=kn;o.setDrawColor(100,100,100),o.setFillColor(240,240,240),o.rect(P,O,M,k,"FD");const $=P+T,q=O+T+y*(Ks-.5)/o.internal.scaleFactor;if(o.setTextColor(0,0,0),o.text(f,$,q),o.setTextColor(0,100,0),o.text(h,$+b+5,q),o.setTextColor(0,0,0),kn+=k+_c,o.setFontSize(La),o.setFont(void 0,"normal"),$r(),t){nm("2. Marktanalyse");const V=(X,le)=>{if(!le||Array.isArray(le)&&le.length===0&&typeof le!="string")return;$r(15),o.setFont(void 0,"bold"),da(X+":",5),o.setFont(void 0,"normal");const z=Array.isArray(le)?le.join(", "):typeof le=="string"?le:"N/A";da(zi.splitTextToSize(z,_h-15),10),kn+=so/2};V("Zusammenfassung",t.marketAnalysis.summary),V("Wettbewerber",t.marketAnalysis.competitors),V("Verkaufsperformance",t.marketAnalysis.salesPerformance),V("Marktstimmung",t.marketAnalysis.marketSentiment),V("Typischer Neupreis",t.pricingAndSourcing.typicalNewPrice),V("Fernost-Beschaffungspotenzial",t.pricingAndSourcing.farEastSourcingPotential),V("Haltbarkeit",t.durabilityAndRisk.durability),V("Bekannte Probleme",t.durabilityAndRisk.commonIssues),kn+=_c,$r()}nm("3. eBay Strategie & Ergebnisse"),i&&i.length>0?(o.setFont(void 0,"bold"),da("Verwendete eBay Suchbegriffe:",5),o.setFont(void 0,"normal"),i.forEach(V=>da(`  ${V}`,10)),kn+=so,$r(),i.forEach(V=>{$r(15),o.setFont(void 0,"bold"),da(`Ergebnisse fr Suchbegriff: '${V}'`,5),o.setFont(void 0,"normal"),kn+=_S/2;const X=r[V];if(X&&X.value)try{const le=JSON.parse(X.value);if(Array.isArray(le)&&le.length>0){$r(40);const z={0:{cellWidth:"auto",overflow:"linebreak"},1:{cellWidth:30},2:{halign:"right",cellWidth:30}},G=[["Artikelname","Verkaufsdatum","Preis ()"]],fe=le.slice(0,5),ae=fe.map(me=>[me.name||"N/A",me.sold_date||"N/A",typeof me.price=="number"?me.price.toFixed(2):"N/A"]);jD(o,{head:G,body:ae,startY:kn,theme:"grid",styles:{fontSize:tm,cellPadding:1.5,halign:"left"},headStyles:{fillColor:[230,230,230],textColor:[0,0,0],fontStyle:"bold"},columnStyles:z,didDrawPage:me=>{me.cursor&&(kn=me.cursor.y)}}),o.lastAutoTable&&o.lastAutoTable.finalY?kn=o.lastAutoTable.finalY+so:kn+=(fe.length+1)*(tm*Ks*1.5)+so,le.length>5&&(da(`... und ${le.length-5} weitere fr diesen Begriff.`,10,{fontSize:tm}),kn+=so/2)}else da("Keine strukturierten Verkaufsdaten fr diesen Begriff gefunden.",10)}catch{da("Fehler beim Verarbeiten der Ergebnisse fr diesen Begriff.",10)}else da("Keine Daten fr diesen Begriff abgerufen oder vorhanden.",10);kn+=so,$r()})):da("Keine spezifischen eBay Suchbegriffe definiert.",5),kn+=_c,$r(),nm("4. Teilwertschtzung"),kn+=so;const Z=(V,X)=>{X&&($r(20),o.setFont(void 0,"bold"),da(V+":",5),kn+=La*Ks/o.internal.scaleFactor*.2,o.setFont(void 0,"normal"),VD(X,5),kn+=so/2)};Z("Begrndung des Teilwerts",s.Begruendung_Teilwert),Z("Keepa Daten",s.keepa_Bericht),Z("Fazit",s.mlFazit);const Q=o.internal.getNumberOfPages();for(let V=1;V<=Q;V++){o.setPage(V),o.setFontSize(tm),o.setTextColor(100);const X=`Protokoll erstellt am ${new Date().toLocaleString("de-DE")}`,le=`Seite ${V} von ${Q}`;o.text(X,pa,o.internal.pageSize.height-pa+7),o.text(le,o.internal.pageSize.width-pa-o.getTextWidth(le),o.internal.pageSize.height-pa+7)}return o.output("blob")}const SS=ee.createContext(void 0),HD=[{key:"preCheckKeepa",label:"Prfe Keepa Daten (v2keepa)",status:"pending"},{key:"preCheckMarketAnalysis",label:"Prfe Marktanalyse (v2marketAnalysisData)",status:"pending"},{key:"preCheckEbayTerms",label:"Prfe eBay Suchbegriffe",status:"pending"},{key:"preCheckEbayResults",label:"Prfe eBay Ergebnisse (Detail DB)",status:"pending"}],GD=[{key:"dataProvidedKeepa",label:"Keepa Daten (v2keepa)",status:"pending"},{key:"dataProvidedMarketAnalysis",label:"Marktanalyse (v2marketAnalysisData)",status:"pending"},{key:"dataProvidedEbay",label:"eBay Suchbegriffe & Ergebnisse",status:"pending"},{key:"callGeminiTeilwert",label:"Frage Gemini fr Teilwertschtzung",status:"pending"},{key:"storeTeilwertResult",label:"Speichere Teilwert Ergebnis",status:"pending"},{key:"generatePdfReport",label:"Generiere PDF Bericht",status:"pending"},{key:"uploadPdfToCloud",label:"Lade PDF in Cloud hoch",status:"pending"},{key:"storePdfLinkInDb",label:"Speichere PDF Link",status:"pending"}],ih=(n,e)=>{const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const r of t){const s=n[r],o=e[r];if(Array.isArray(s)&&Array.isArray(o)){if(s.length!==o.length||!s.every((u,c)=>u===o[c]))return!1}else if(typeof s=="object"&&s!==null&&typeof o=="object"&&o!==null){const u=Object.keys(s),c=Object.keys(o);if(u.length!==c.length)return!1;for(const f of u)if(s[f]!==o[f])return!1}else if(s!==o||!Object.prototype.hasOwnProperty.call(e,r))return!1}return!0};function bb(n){if(!n)return null;if(typeof n.info=="string")return{info:n.info,reason:n.reason};const e={},t=[],i=[{rawKey:"amazon",detail:n.amazon,name:"Amazon"},{rawKey:"mnew",detail:n.mnew,name:"Marketplace New"},{rawKey:"mused",detail:n.mused,name:"Marketplace Used"}];for(const r of i)if(r.detail&&typeof r.detail=="object"){const s=r.detail,o=s.current;let u=!1;if(o&&typeof o.val=="number"&&o.val>0){const f=o.val/100;r.rawKey==="amazon"?e.amazonCurrent=f:r.rawKey==="mnew"?e.newCurrent=f:r.rawKey==="mused"&&(e.usedCurrent=f),t.push({price:f,sourceName:`${r.name} Current`}),u=!0}const c=s.avg30;if(c&&typeof c.val=="number"&&c.val>0){const f=c.val/100;r.rawKey==="amazon"?e.amazonAvg30=f:r.rawKey==="mnew"?e.newAvg30=f:r.rawKey==="mused"&&(e.usedAvg30=f),u||(t.push({price:f,sourceName:`${r.name} 30d Avg`}),u=!0)}if(!u){const f=Object.keys(s).find(h=>h.toLowerCase().startsWith("lowest")&&s[h]&&typeof s[h]=="object"&&typeof s[h].val=="number"&&s[h].val>0);if(f){const h=s[f].val/100;t.push({price:h,sourceName:`${r.name} ${f}`}),u=!0}}if(!u){for(const[f,h]of Object.entries(s))if(!(f==="current"||f==="avg30")&&h&&typeof h=="object"&&typeof h.val=="number"&&h.val>0){const y=h.val/100;t.push({price:y,sourceName:`${r.name} ${f}`}),u=!0;break}}}if(t.length>0){const r=t.sort((s,o)=>{const u=c=>c.startsWith("Amazon")?1:c.startsWith("Marketplace New")?2:3;return u(s.sourceName)-u(o.sourceName)});return{price:r[0].price,priceSource:r[0].sourceName,allPrices:Object.keys(e).length>0?e:void 0}}return null}const WD=({children:n})=>{const{products:e,getProductById:t}=Hc(),{v2ApiToken:i,oracleWriteParUrl:r,geminiApiKey:s,isConfigSet:o}=Vl(),[u,c]=ee.useState({}),[f,h]=ee.useState({}),[y,b]=ee.useState({}),[x,N]=ee.useState({}),[T,M]=ee.useState({}),[k,P]=ee.useState(!1),[O,$]=ee.useState(null),[q,Z]=ee.useState(!1),[Q,V]=ee.useState(null),[X,le]=ee.useState(0),[z,G]=ee.useState(0),[fe,ae]=ee.useState(0),[me,te]=ee.useState(0),[ce,ne]=ee.useState(0),[de,D]=ee.useState(0),[ye,R]=ee.useState(0),[W,j]=ee.useState({}),[re,se]=ee.useState({}),[xe,pe]=ee.useState({}),[Te,$e]=ee.useState({}),[Ye,et]=ee.useState(!1),[tt,xt]=ee.useState(null),[Fe,ue]=ee.useState(null),[bt,nt]=ee.useState(0),[Je,it]=ee.useState(null),[rt,je]=ee.useState({}),[ot,Et]=ee.useState({}),[$t,It]=ee.useState(!1),[Ot,Rt]=ee.useState(null),[vt,Ht]=ee.useState(null),[Ke,Vt]=ee.useState(0),[Pt,hi]=ee.useState(null),[tn,gn]=ee.useState(!1),[Li,Gt]=ee.useState(null),[As,ei]=ee.useState(null),[vr,bi]=ee.useState(0),[ni,Ft]=ee.useState(null),[bn,or]=ee.useState(!1),[wi,Pi]=ee.useState(null),[Xr,at]=ee.useState(null),[yn,Gn]=ee.useState(null),[_i,On]=ee.useState([]),[pi,Si]=ee.useState(!1),[Rs,li]=ee.useState(null),[xr,Ri]=ee.useState({}),[lr,ur]=ee.useState({}),[Xi,Ln]=ee.useState({}),[Ds,Is]=ee.useState({}),[qi,cr]=ee.useState({}),[Hr,ui]=ee.useState({}),[Ts,Os]=ee.useState({}),[Pr,ls]=ee.useState({}),jr=ee.useCallback(_e=>{c(Ne=>ih(Ne,_e)?Ne:_e)},[]),Fs=ee.useCallback(_e=>{h(Ne=>ih(Ne,_e)?Ne:_e)},[]),Fa=ee.useCallback(_e=>{b(Ne=>ih(Ne,_e)?Ne:_e)},[]),Qr=ee.useCallback(_e=>{N(Ne=>ih(Ne,_e)?Ne:_e)},[]),Js=ee.useCallback(_e=>{M(Ne=>ih(Ne,_e)?Ne:_e)},[]),ht=ee.useCallback(async(_e,Ne,Xe)=>{if(!i)return;const Ze={type:Ne,message:Xe,timestamp:new Date().toISOString()},Re=await mn.getKey(Pf,_e,i);let ft={};if(!("error"in Re)&&Re.value)try{ft=JSON.parse(Re.value)}catch{}ft[Ne]=Ze,await mn.setKey(Pf,_e,JSON.stringify(ft),i)},[i]),yt=ee.useCallback(async _e=>i?!("error"in await mn.deleteKey(Pf,_e,i)):!1,[i]),Bt=ee.useCallback(async _e=>{if(!i)return null;const Ne=await mn.getKey(Pf,_e,i);if("error"in Ne||!Ne.value)return null;try{return JSON.parse(Ne.value)}catch{return null}},[i]),pt=ee.useCallback(async()=>{if(!i||!o){li("V2 API Token oder Konfiguration nicht gesetzt."),On([]);return}Si(!0),li(null);const _e=await mn.getAllStatuses(Pf,i);if("error"in _e)li(_e.error),On([]);else if(_e.data){const Ne=[];for(const Xe in _e.data){const Ze=t(Xe);try{const Re=JSON.parse(_e.data[Xe]);Object.keys(Re).length>0&&Ne.push({asin:Xe,productName:(Ze==null?void 0:Ze.name)||`ASIN: ${Xe}`,errors:Re})}catch{}}On(Ne.sort((Xe,Ze)=>Xe.productName.localeCompare(Ze.productName)))}else On([]);Si(!1)},[i,o,t]),mi=_e=>{if(typeof _e.ebay=="string")try{const Ne=JSON.parse(_e.ebay);if(Array.isArray(Ne)&&(Ne.length===0||Ne.length>0&&typeof Ne[0]=="object"))return{..._e,ebay:Ne}}catch{}return _e},un=ee.useCallback((_e,Ne,Xe,Ze,Re)=>{let ft=0,zt=0,wt=0;const _t={};for(const Dt in _e){wt++;let St=_e[Dt];if(St){St=mi(St),_t[Dt]=St;const Wt=St.ebay;(Wt===!0||Array.isArray(Wt)&&Wt.length>0)&&ft++}else _t[Dt]=null}const fn={},Fn={},Bn={},sn={};for(const Dt in Ne)Ne[Dt]&&Ne[Dt].length>0&&(fn[Dt]=!0);for(const Dt in Xe)Xe[Dt]&&(Fn[Dt]=!0);for(const Dt in Ze)Ze[Dt]&&(Bn[Dt]=!0);for(const Dt in Re)Re[Dt]&&(sn[Dt]=!0);const Ut=Object.keys(Fn).length,Wn=Object.keys(Bn).length,gi=Object.keys(fn).length,Tn=Object.keys(sn).length;for(const Dt in _e){const St=_e[Dt],Wt=!!fn[Dt],zn=!!Fn[Dt],Kn=!!Bn[Dt];(St&&Object.keys(St).length===0&&!Wt&&!zn&&!Kn||St&&!zn&&!Kn&&!St.ebay&&!Wt)&&zt++}jr(_t),Fs(Ne),Qr(Xe),Js(Ze),Fa(Re),G(Ut),ae(gi),te(ft),ne(zt),D(Wn),R(Tn),le(wt),cr(fn),ui(Fn),Os(Bn),ls(sn)},[jr,Fs,Fa,Qr,Js]);ee.useCallback((_e,Ne,Xe,Ze,Re)=>{const ft={};for(const _t in _e)try{let fn=JSON.parse(_e[_t]);if(Object.prototype.hasOwnProperty.call(fn,"marketAnalysisData")&&i){console.warn(`Migrating marketAnalysisData for ASIN ${_t}`);const{marketAnalysisData:Fn,...Bn}=fn;fn=Bn,mn.setKey(Ws,_t,JSON.stringify(Bn),i).catch(sn=>console.error(`Error migrating marketAnalysisData for ${_t}:`,sn))}ft[_t]=fn}catch{ft[_t]=null}const zt={};for(const _t in Ne)try{zt[_t]=bb(JSON.parse(Ne[_t]))}catch{zt[_t]=null}const wt={};for(const _t in Xe)try{wt[_t]=JSON.parse(Xe[_t])}catch{wt[_t]=null}un(ft,Ze,zt,wt,Re)},[i,un]);const cn=ee.useCallback(async(_e=!0)=>{if(!o||!i||!s){$("Konfiguration unvollstndig (Token, Gemini Key, etc.)."),c({}),cr({}),ui({}),Os({}),ls({}),_e&&pt();return}P(!0),$(null);const[Ne,Xe,Ze,Re,ft]=await Promise.all([mn.getAllStatuses(Ws,i),mn.listKeys(Lc,i),mn.listKeys(kh,i),mn.listKeys(Lu,i),_e?mn.listKeys(Gp,i):Promise.resolve(null)]),zt=!("error"in Ne)&&Ne.data?Ne.data:{},wt={};for(const St in zt)try{wt[St]=JSON.parse(zt[St])}catch{wt[St]=null}const _t=!("error"in Xe)&&Xe.keys?Xe.keys:[],fn=!("error"in Ze)&&Ze.keys?Ze.keys:[],Fn=!("error"in Re)&&Re.keys?Re.keys:[],Bn=ft&&!("error"in ft)&&ft.keys?ft.keys:[],sn=Object.fromEntries(_t.map(St=>[St,!0])),Ut=Object.fromEntries(fn.map(St=>[St,!0])),Wn=Object.fromEntries(Fn.map(St=>[St,!0])),gi=Object.fromEntries(Bn.map(St=>[St,!0]));jr(wt),cr(sn),ui(Ut),Os(Wn),ls(gi),ae(_t.length),G(fn.length),D(Fn.length),R(Bn.length);const Tn=Object.values(wt).filter(St=>{if(!St)return!1;const Wt=St.ebay;return Wt===!0||Array.isArray(Wt)&&Wt.length>0}).length;te(Tn);let Dt=0;for(const St in wt){const Wt=wt[St],zn=!!sn[St],Kn=!!Ut[St],jn=!!Wn[St];(Wt&&Object.keys(Wt).length===0&&!zn&&!Kn&&!jn||Wt&&!Kn&&!jn&&!Wt.ebay&&!zn)&&Dt++}ne(Dt),le(Object.keys(wt).length),P(!1),_e&&await pt()},[i,o,s,pt]);ee.useEffect(()=>{o?cn(!0):(c({}),h({}),b({}),N({}),M({}),un({},{},{},{},{}),On([]),$(null),li(null),le(0),G(0),ae(0),cr({}),ui({}),Os({}),ls({}),te(0),ne(0),D(0),R(0))},[o,cn]);const es=ee.useCallback(async()=>{if(!o||!i){V("Konfiguration (z.B. Token) nicht gesetzt.");return}if(e.length===0){V("Keine Produkte zum Initialisieren.");return}Z(!0),V(null);const _e=e.map(Xe=>({key:Xe.id,value:JSON.stringify({})})),Ne=await mn.setManyStatuses(Ws,_e,i);"error"in Ne?V(Ne.error):Ne.success?await cn():V("Fehler bei der Initialisierung."),Z(!1)},[i,o,e,cn]),Qi=ee.useCallback(async _e=>{var Ne;if(!o||!i||!s)return se(Xe=>({...Xe,[_e.id]:"Konfiguration (Token/Gemini Key) nicht gesetzt."})),!1;j(Xe=>({...Xe,[_e.id]:!0})),se(Xe=>({...Xe,[_e.id]:null}));try{const Xe=(Ne=x[_e.id])==null?void 0:Ne.price,Ze=await Vx.getMarketAnalysisAndEbaySearchTerms(_e,Xe);if(Ze.error||!Ze.analysis)throw new Error(Ze.error||"Keine Analyse von Gemini.");const{analysis:Re}=Ze;if(await mn.setKey(bm,_e.id,JSON.stringify(Re),i),await mn.setKey(Lc,_e.id,JSON.stringify(Re.ebaySearchTerms),i),Re.ebaySearchTerms.length>0){const zt=Re.ebaySearchTerms.map(wt=>({key:wt,value:JSON.stringify("")}));await mn.setManyStatuses(Uf,zt,i)}const ft={...u[_e.id]||{}};return delete ft.marketAnalysisData,delete ft.ebay,await mn.setKey(Ws,_e.id,JSON.stringify(ft),i),un({...u,[_e.id]:ft},{...f,[_e.id]:Re.ebaySearchTerms},x,T,y),j(zt=>({...zt,[_e.id]:!1})),!0}catch(Xe){return se(Ze=>({...Ze,[_e.id]:Xe.message||"Unbek. Fehler."})),j(Ze=>({...Ze,[_e.id]:!1})),!1}},[i,o,s,u,f,y,x,T,un]),br=ee.useCallback(async _e=>{if(!o||!i)return $e(Ne=>({...Ne,[_e]:"Token nicht gesetzt."})),!1;pe(Ne=>({...Ne,[_e]:!0})),$e(Ne=>({...Ne,[_e]:null}));try{await mn.deleteKey(bm,_e,i);let Ne=f[_e]||[];await mn.deleteKey(Lc,_e,i);for(const Re of Ne)await mn.deleteKey(Uf,Re,i);let Xe={...u[_e]||{}};delete Xe.marketAnalysisData,delete Xe.ebay,await mn.setKey(Ws,_e,JSON.stringify(Xe),i);const Ze={...f};return delete Ze[_e],un({...u,[_e]:Xe},Ze,x,T,y),await yt(_e),pe(Re=>({...Re,[_e]:!1})),!0}catch(Ne){return $e(Xe=>({...Xe,[_e]:Ne.message||"Unbek. Fehler."})),pe(Xe=>({...Xe,[_e]:!1})),!1}},[i,o,u,f,y,x,T,un,yt]),Pn=ee.useCallback(async(_e,Ne)=>{if(!o||!i||!s){ue("Konfiguration unvollstndig.");return}if(_e<=0){ue("Anzahl > 0.");return}et(!0),ue(null),xt(null),nt(0),it(null);let Xe=e.filter(wt=>!qi[wt.id]);if(Ne&&Ne.length>0&&(Xe=Ne.map(_t=>_t.trim()).filter(_t=>_t!=="").map(_t=>e.find(fn=>fn.id===_t)).filter(_t=>!!_t&&!qi[_t.id])),Xe.length===0){it("Keine Produkte fr Analyse."),et(!1);return}const Ze=Ne&&Ne.length>0?Xe.slice(0,_e):[...Xe].sort(()=>.5-Math.random()).slice(0,_e);let Re=0,ft=!1;for(let wt=0;wt<Ze.length;wt++){const _t=Ze[wt];xt({current:wt+1,total:Ze.length,asin:_t.id,productName:_t.name}),await Qi(_t)?Re++:ft=!0}nt(Re);const zt=`Batch fertig. ${Re} von ${Ze.length} analysiert.`;ft?ue(zt+" Einige Analysen fehlgeschlagen."):it(zt),et(!1),xt(null),await pt()},[i,o,s,e,qi,Qi,pt]),wr=ee.useCallback(async _e=>{if(!o||!i)return null;T[_e];const Ne=await mn.getKey(bm,_e,i);if("error"in Ne||!Ne.value)return null;try{return JSON.parse(Ne.value)}catch{return null}},[o,i,T]),Sn=ee.useCallback(async _e=>{if(!o||!i)return null;if(x[_e])return x[_e];const Ne=await mn.getKey(kh,_e,i);if("error"in Ne||!Ne.value)return null;try{const Xe=JSON.parse(Ne.value);return bb(Xe)}catch{return null}},[o,i,x]),Ai=ee.useCallback(async()=>{if(!o||!i)return;const _e=await mn.getAllStatuses(Lc,i);if("error"in _e||!_e.data)return;const Ne={},Xe={};for(const Ze in _e.data){Xe[Ze]=!0;try{Ne[Ze]=JSON.parse(_e.data[Ze])}catch{Ne[Ze]=[]}}h(Ne),cr(Xe)},[o,i]),Di=ee.useCallback(async _e=>{if(!o||!i)return null;if(f[_e])return f[_e];const Ne=await mn.getKey(Lc,_e,i);if("error"in Ne||!Ne.value)return null;try{const Xe=JSON.parse(Ne.value);return h(Ze=>({...Ze,[_e]:Xe})),cr(Ze=>({...Ze,[_e]:!0})),Xe}catch{return null}},[o,i,f]),Ti=ee.useCallback(async(_e,Ne)=>{if(!o||!i||Ne.length===0)return{};const Xe={};for(const Ze of Ne){const Re=await mn.getKey(Uf,Ze,i);let ft=null;if("error"in Re||(ft=Re.value),"error"in Re||!ft)Xe[Ze]={listings:[],rawValue:ft};else try{const zt=JSON.parse(ft);Array.isArray(zt)&&zt.every(wt=>typeof wt=="object"&&Object.prototype.hasOwnProperty.call(wt,"name"))?Xe[Ze]={listings:zt,rawValue:ft}:Xe[Ze]={listings:[],rawValue:ft}}catch{Xe[Ze]={listings:[],rawValue:ft}}}return Xe},[o,i]),go=ee.useCallback(async(_e,Ne,Xe,Ze)=>{if(!o||!i||!s)return Et(Re=>({...Re,[_e.id]:"Konfiguration unvollstndig."})),null;Et(Re=>({...Re,[_e.id]:null}));try{const Re=await Vx.estimateTeilwertForReport(_e,Ne,Xe,Ze);if(Re.error||!Re.estimation)throw new Error(Re.error||"Keine Teilwertschtzung von Gemini.");return Re.estimation}catch(Re){const ft=Re instanceof Error?Re.message:"Unbek. Fehler.";return Et(zt=>({...zt,[_e.id]:ft})),await ht(_e.id,"TeilwertGeminiFailed",ft),null}},[o,i,s,ht]),Zs=_e=>{const Ne={};for(const Xe in _e)Object.prototype.hasOwnProperty.call(_e,Xe)&&(Ne[Xe]={value:_e[Xe].rawValue,loading:!1,error:null});return Ne},Ba=ee.useCallback(async(_e,Ne,Xe,Ze,Re)=>{if(!i||!r||!s)return{success:!1,error:"Konfiguration unvollstndig (Token, Oracle URL, Gemini Key)."};je(zt=>({...zt,[_e.id]:!0}));let ft=null;try{if(Re("callGeminiTeilwert","inProgress"),ft=await go(_e,Ne,Xe,Ze),!ft){const Bn=ot[_e.id]||"Gemini Teilwertschtzung fehlgeschlagen.";throw Re("callGeminiTeilwert","failure",Bn),new Error(Bn)}Re("callGeminiTeilwert","success"),Re("storeTeilwertResult","inProgress"),await mn.setKey(Lu,_e.id,JSON.stringify(ft),i);const wt={...u[_e.id]||{},Teilwert:ft.Teilwert};await mn.setKey(Ws,_e.id,JSON.stringify(wt),i),Re("storeTeilwertResult","success"),un({...u,[_e.id]:wt},f,x,{...T,[_e.id]:ft},y),await yt(_e.id),Re("generatePdfReport","inProgress");const _t=Zs(Xe),fn=await J1(_e,Ze,Ne,(Ne==null?void 0:Ne.ebaySearchTerms)||[],_t,ft);Re("generatePdfReport","success"),Re("uploadPdfToCloud","inProgress");const{publicUrl:Fn}=await Hx.uploadPdfToOracle(fn,_e.id,r);if(!Fn)throw new Error("PDF Upload zur Cloud fehlgeschlagen, keine URL erhalten.");return Re("uploadPdfToCloud","success"),Re("storePdfLinkInDb","inProgress"),await mn.setKey(Gp,_e.id,Fn,i),Re("storePdfLinkInDb","success"),un({...u,[_e.id]:wt},f,x,{...T,[_e.id]:ft},{...y,[_e.id]:Fn}),await pt(),je(Bn=>({...Bn,[_e.id]:!1})),{success:!0,pdfBlob:fn,publicPdfUrl:Fn}}catch(zt){const wt=zt instanceof Error?zt.message:"Unbekannter Fehler.";return await ht(_e.id,"CreateTeilwertPdfUploadFailed",wt),je(_t=>({..._t,[_e.id]:!1})),await pt(),{success:!1,error:wt}}},[i,r,s,go,u,f,y,x,T,un,ot,yt,ht,pt]),ql=ee.useCallback(async _e=>{if(!o||!i)return Et(Ne=>({...Ne,[_e]:"Token nicht gesetzt."})),!1;Et(Ne=>({...Ne,[_e]:null}));try{await mn.deleteKey(Lu,_e,i);let Ne=u[_e],Xe=!1;if(Ne&&Object.prototype.hasOwnProperty.call(Ne,"Teilwert")){const{Teilwert:zt,...wt}=Ne;Ne=wt,Xe=!0}Xe&&Ne&&await mn.setKey(Ws,_e,JSON.stringify(Ne),i);const Ze=await mn.deleteKey(Gp,_e,i);let Re=y;"error"in Ze||(Re={...y},delete Re[_e]);const ft={...T};return delete ft[_e],un(Xe?{...u,[_e]:Ne}:u,f,x,ft,Re),await yt(_e),await pt(),!0}catch(Ne){const Xe=Ne instanceof Error?Ne.message:"Unbek. Fehler.";return Et(Ze=>({...Ze,[_e]:Xe})),await pt(),!1}},[o,i,u,f,y,x,T,un,yt,pt]),Hl=ee.useCallback(async(_e,Ne,Xe)=>{var Bn;if(!o||!i||!r||!s){Ht("Konfiguration unvollstndig.");return}It(!0),Ht(null),Rt(null),Vt(0),hi(null);let Ze=e.filter(sn=>{const Ut=u[sn.id],Wn=!!qi[sn.id],gi=!Ts[sn.id],Tn=!!Hr[sn.id],Dt=Ut==null?void 0:Ut.ebay,St=Dt===!0||Array.isArray(Dt)&&Dt.length>0;return Wn&&gi&&Tn&&St});if(Ne&&Ne.length>0&&(Ze=Ne.map(Ut=>Ut.trim()).filter(Ut=>Ut!=="").map(Ut=>e.find(Wn=>Wn.id===Ut)).filter(Ut=>!!Ut&&Ze.some(Wn=>Wn.id===Ut.id))),Ze.length===0){hi("Keine Produkte fr Teilwertschtzung streng qualifiziert (MA, Keepa & eBay Status vorhanden, Teilwert fehlt)."),It(!1);return}const Re=Ne&&Ne.length>0?Ze.slice(0,_e):[...Ze].sort(()=>.5-Math.random()).slice(0,_e);let ft=[],zt=0;for(let sn=0;sn<Re.length;sn++){const Ut=Re[sn];let Wn=JSON.parse(JSON.stringify(HD));const gi=(Ut==null?void 0:Ut.name)||`ASIN: ${Ut.id}`,Tn=(Ii,Yn,er)=>{Wn=Wn.map(Hi=>Hi.key===Ii?{...Hi,status:Yn,error:er}:Hi),Rt(Hi=>({...Hi,current:sn+1,total:Re.length,asin:Ut.id,productName:gi,phase:"pre-checking",currentStepDetails:Wn}))};Rt({current:sn+1,total:Re.length,asin:Ut.id,productName:gi,phase:"pre-checking",currentStepDetails:Wn}),await yt(Ut.id);let Dt=!0,St=[];if(Xe)Tn("preCheckKeepa","success");else if(Tn("preCheckKeepa","inProgress"),x[Ut.id]||await Sn(Ut.id))Tn("preCheckKeepa","success");else{const Yn="Keepa Details fehlen (Detail DB v2keepa / Context)";Tn("preCheckKeepa","failure",Yn),St.push(Yn),Dt=!1}Tn("preCheckMarketAnalysis","inProgress");const Wt=await wr(Ut.id);if(Wt)Tn("preCheckMarketAnalysis","success");else{const Ii="MA Details fehlen (Detail DB v2marketAnalysisData)";Tn("preCheckMarketAnalysis","failure",Ii),St.push(Ii),Dt=!1}let zn=f[Ut.id]||[];if(zn.length===0&&qi[Ut.id]){const Ii=await Di(Ut.id);Ii&&(zn=Ii)}if(zn.length>0)Tn("preCheckEbayTerms","success");else{const Ii="eBay Begriffe fehlen (Context/DB v2searchterms)";Tn("preCheckEbayTerms","failure",Ii),St.push(Ii),Dt=!1}let Kn={};if(zn.length>0)if(Tn("preCheckEbayResults","inProgress"),Kn=await Ti(Ut.id,zn),zn.every(Yn=>{var er,Hi,Cs,Gl,Qs,us,va;return((Hi=(er=Kn[Yn])==null?void 0:er.listings)==null?void 0:Hi.length)>0||((Cs=Kn[Yn])==null?void 0:Cs.rawValue)&&((Qs=(Gl=Kn[Yn])==null?void 0:Gl.rawValue)==null?void 0:Qs.trim())!==""&&((va=(us=Kn[Yn])==null?void 0:us.rawValue)==null?void 0:va.trim())!=='""'}))Tn("preCheckEbayResults","success");else{const Yn="eBay Ergebnisse unvollstndig/leer (Detail DB v2ebayresults)";Tn("preCheckEbayResults","failure",Yn),St.push(Yn),Dt=!1}else Dt&&(Tn("preCheckEbayResults","failure","Keine Suchbegriffe fr Ergebnisprfung"),St.push("eBay Begriffe fr Ergebnisprfung fehlen"),Dt=!1);const jn={product:Ut,readinessScore:0,keepaData:kData,marketAnalysis:Wt,ebaySearchTerms:zn,ebayResults:Kn,canProcess:Dt,skipReason:St.join("; ")};jn.canProcess?ft.push(jn):(zt++,await ht(Ut.id,"TWBatchSkip_DetailedDataMissing",`bersprungen (Detailprfung): ${jn.skipReason||"Unbekannter Grund"}`))}const wt=ft;if(wt.length===0){hi(`Keine der ${Re.length} ausgewhlten Produkte bestand die Detailprfung. ${zt} Produkt(e) insgesamt bersprungen.`),It(!1),await pt();return}let _t=0,fn=!1;for(let sn=0;sn<wt.length;sn++){const{product:Ut,keepaData:Wn,marketAnalysis:gi,ebaySearchTerms:Tn,ebayResults:Dt}=wt[sn],St=(Ut==null?void 0:Ut.name)||`ASIN: ${Ut.id}`;let Wt=JSON.parse(JSON.stringify(GD));const zn=(jn,Ii,Yn)=>{Wt=Wt.map(er=>er.key===jn?{...er,status:Ii,error:Yn}:er),Rt(er=>({...er,current:sn+1,total:wt.length,asin:Ut.id,productName:St,phase:"processing-teilwert",currentStepDetails:Wt}))};Rt({current:sn+1,total:wt.length,asin:Ut.id,productName:St,phase:"processing-teilwert",currentStepDetails:Wt}),zn("dataProvidedKeepa",Wn?"success":"failure",Wn?void 0:"Fehlten bei Detail-Prfung"),zn("dataProvidedMarketAnalysis",gi?"success":"failure",gi?void 0:"Fehlten bei Detail-Prfung");const Kn=Tn.length>0&&Object.values(Dt).some(jn=>jn.listings.length>0||jn.rawValue&&jn.rawValue.trim()!==""&&jn.rawValue.trim()!=='""');if(zn("dataProvidedEbay",Kn?"success":"failure",Kn?void 0:"eBay Daten unvollstndig bei Detail-Prfung"),!Wn||!gi||!Kn){fn=!0,await ht(Ut.id,"TWBatch_InternalPreCheckFailed","Interner Fehler: Produkt fr Verarbeitung markiert, aber Daten doch nicht komplett."),Wt=Wt.map(jn=>jn.status==="pending"?{...jn,status:"warning",error:"bersprungen wegen internem Vorprfungsfehler"}:jn),Rt(jn=>jn?{...jn,currentStepDetails:Wt}:null);continue}try{const jn=await Ba(Ut,gi,Dt,Wn,zn);if(jn.success)_t++;else throw new Error(jn.error||"Teilwert/PDF-Erstellung fehlgeschlagen.")}catch(jn){fn=!0;const Ii=((Bn=Wt.find(Yn=>Yn.status==="inProgress"))==null?void 0:Bn.key)||"callGeminiTeilwert";zn(Ii,"failure",jn instanceof Error?jn.message:String(jn)),Wt=Wt.map(Yn=>Yn.status==="pending"&&Wt.some(er=>er.status==="failure")?{...Yn,status:"warning",error:"Nicht ausgefhrt wegen vorherigem Fehler"}:Yn),Rt(Yn=>Yn?{...Yn,currentStepDetails:Wt}:null)}}Vt(_t);let Fn=`Batch fertig. ${_t} von ${wt.length} Produkten erfolgreich Teilwert geschtzt (ursprnglich ${Re.length} ausgewhlt, ${zt} bei Detailprfung bersprungen).`;fn?Ht(Fn+" Einige Schtzungen fehlgeschlagen."):hi(Fn),It(!1),await pt()},[o,i,r,s,e,qi,u,Hr,Ts,wr,Sn,Ti,Ba,ht,yt,pt,t]),nl=ee.useCallback(async _e=>{if(!o||!i)return ur(Ne=>({...Ne,[_e]:"Token nicht gesetzt."})),!1;Ri(Ne=>({...Ne,[_e]:!0})),ur(Ne=>({...Ne,[_e]:null}));try{let Ne=!1,Xe=u[_e]||{};const Ze=await mn.getKey(Ws,_e,i);if(!("error"in Ze)&&Ze.value)try{Xe=JSON.parse(Ze.value)}catch{}let Re={...Xe};const ft=x[_e]||await Sn(_e);ft?ft.price!==void 0?Re.keepa!==ft.price&&(Re.keepa=ft.price,Ne=!0):Re.keepa!==-1&&(Re.keepa=-1,Ne=!0):Object.prototype.hasOwnProperty.call(Re,"keepa")&&(delete Re.keepa,Ne=!0);const zt=f[_e]||[],wt=zt.length>0;let _t=!1;if(zt.length>0){const sn=await Ti(_e,zt);zt.some(Wn=>{var gi,Tn,Dt,St,Wt,zn,Kn;return((Tn=(gi=sn[Wn])==null?void 0:gi.listings)==null?void 0:Tn.length)>0||((Dt=sn[Wn])==null?void 0:Dt.rawValue)&&((Wt=(St=sn[Wn])==null?void 0:St.rawValue)==null?void 0:Wt.trim())!==""&&((Kn=(zn=sn[Wn])==null?void 0:zn.rawValue)==null?void 0:Kn.trim())!=='""'})&&(_t=!0)}_t?Re.ebay!==!0&&(Re.ebay=!0,Ne=!0):Object.prototype.hasOwnProperty.call(Re,"ebay")&&(delete Re.ebay,Ne=!0);const fn=T[_e];let Fn=!1;fn&&typeof fn.Teilwert=="number"?(Re.Teilwert!==fn.Teilwert&&(Re.Teilwert=fn.Teilwert,Ne=!0),Fn=!0):Object.prototype.hasOwnProperty.call(Re,"Teilwert")&&(delete Re.Teilwert,Ne=!0),Fn&&await yt(_e)&&await pt();const Bn=y[_e];if(Ne){const sn=await mn.setKey(Ws,_e,JSON.stringify(Re),i);if("error"in sn)throw new Error(`Fehler Speichern Status: ${sn.error}`)}return un(Ne?{...u,[_e]:Re}:u,f,x,T,y),Ri(sn=>({...sn,[_e]:!1})),!0}catch(Ne){const Xe=Ne instanceof Error?Ne.message:"Unbek. Fehler.";return ur(Ze=>({...Ze,[_e]:Xe})),Ri(Ze=>({...Ze,[_e]:!1})),!1}},[o,i,u,f,y,x,T,Sn,Ti,yt,un,pt]),ts=ee.useCallback(async _e=>{if(!i||!r)return{error:"Konfiguration unvollstndig (Token, Oracle URL)."};Ln(Ne=>({...Ne,[_e]:!0})),Is(Ne=>({...Ne,[_e]:null}));try{const Ne=t(_e);if(!Ne)throw new Error("Produkt nicht gefunden.");const Xe=x[_e]||await Sn(_e),Ze=await wr(_e);let Re=T[_e];if(!Re){const fn=await mn.getKey(Lu,_e,i);if(!("error"in fn)&&fn.value)try{Re=JSON.parse(fn.value),M(Fn=>({...Fn,[_e]:Re}))}catch{}}if(!Re)throw new Error("Teilwertdaten nicht gefunden oder Fehler beim Abrufen.");let ft={};Ze!=null&&Ze.ebaySearchTerms&&Ze.ebaySearchTerms.length>0&&(ft=await Ti(_e,Ze.ebaySearchTerms));const zt=Zs(ft),wt=await J1(Ne,Xe,Ze,(Ze==null?void 0:Ze.ebaySearchTerms)||[],zt,Re),{publicUrl:_t}=await Hx.uploadPdfToOracle(wt,_e,r);if(!_t)throw new Error("PDF Upload fehlgeschlagen: Keine URL erhalten.");return await mn.setKey(Gp,_e,_t,i),un(u,f,x,T,{...y,[_e]:_t}),Ln(fn=>({...fn,[_e]:!1})),{publicUrl:_t}}catch(Ne){const Xe=Ne instanceof Error?Ne.message:"Fehler beim manuellen PDF Upload.";return Is(Ze=>({...Ze,[_e]:Xe})),Ln(Ze=>({...Ze,[_e]:!1})),{error:Xe}}},[i,r,t,Sn,wr,Ti,u,f,y,x,T,un]),yo=ee.useCallback(async()=>{if(!o||!i||!r){ei("Konfiguration unvollstndig.");return}const _e=e.filter(Re=>!!Pr[Re.id]||!!y[Re.id]);if(gn(!0),ei(null),Gt(null),bi(0),Ft(null),_e.length===0){Ft("Keine Produkte mit vorhandenem PDF."),gn(!1);return}let Ne=0,Xe=!1;for(let Re=0;Re<_e.length;Re++){const ft=_e[Re];Gt({current:Re+1,total:_e.length,asin:ft.id,productName:ft.name}),(await ts(ft.id)).error?Xe=!0:Ne++}bi(Ne);const Ze=`Batch fertig. ${Ne} von ${_e.length} PDFs neu generiert.`;Xe?ei(Ze+" Einige PDFs fehlgeschlagen."):Ft(Ze),gn(!1),Gt(null),await pt()},[o,i,r,e,Pr,y,ts,pt]),Xs=ee.useCallback(async()=>{if(!o||!i||!r){at("Konfiguration unvollstndig.");return}const _e=e.filter(Re=>{const ft=u[Re.id],zt=ft==null?void 0:ft.ebay,wt=zt===!0||Array.isArray(zt)&&zt.length>0;return!Pr[Re.id]&&!!Hr[Re.id]&&!!Ts[Re.id]&&wt});if(or(!0),at(null),Pi(null),Gn(null),_e.length===0){Gn("Keine Produkte mit fehlendem PDF."),or(!1);return}let Ne=0,Xe=!1;for(let Re=0;Re<_e.length;Re++){const ft=_e[Re];Pi({current:Re+1,total:_e.length,asin:ft.id,productName:ft.name}),(await ts(ft.id)).error?Xe=!0:Ne++}const Ze=`Batch fertig. ${Ne} von ${_e.length} PDFs erstellt.`;Xe?at(Ze+" Einige PDFs fehlgeschlagen."):Gn(Ze),or(!1),Pi(null),await pt()},[o,i,r,e,u,Pr,Hr,Ts,ts,pt]);return S.jsx(SS.Provider,{value:{v2Statuses:u,v2AllSearchTerms:f,v2PdfLinks:y,v2ProcessedKeepaData:x,v2GeminiTeilwerte:T,isLoading:k,error:O,isInitializing:q,initializationError:Q,totalProductsInV2DB:X,countKeepaPresent:z,countMarketAnalysisPresent:fe,countEbayProductDataPresent:me,countInitializedOnly:ce,countTeilwertEstimated:de,countPdfLinksPresent:ye,isGeneratingAnalysis:W,analysisGenerationError:re,isDeletingAnalysis:xe,deleteAnalysisError:Te,isBatchProcessing:Ye,batchProcessProgress:tt,batchProcessError:Fe,batchProcessedCount:bt,batchProcessSuccessMessage:Je,isEstimatingTeilwert:rt,setIsEstimatingTeilwert:je,teilwertEstimationError:ot,setTeilwertEstimationError:Et,isBatchEstimatingTeilwert:$t,batchTeilwertEstimationProgress:Ot,batchTeilwertEstimationError:vt,batchTeilwertEstimatedCount:Ke,batchTeilwertSuccessMessage:Pt,isBatchRegeneratingPdfs:tn,batchPdfRegenerationProgress:Li,batchPdfRegenerationError:As,batchPdfRegeneratedCount:vr,batchPdfRegenerationSuccessMessage:ni,batchRegenerateAllPdfs:yo,isBatchGeneratingMissingPdfs:bn,batchMissingPdfProgress:wi,batchMissingPdfError:Xr,batchMissingPdfSuccessMessage:yn,batchGenerateMissingPdfs:Xs,v2ProductErrors:_i,isLoadingErrors:pi,errorsFetchError:Rs,fetchV2ProcessErrors:pt,isReconcilingStatus:xr,reconcileStatusError:lr,reconcileProductV2Status:nl,isUploadingPdfManual:Xi,pdfManualUploadError:Ds,uploadGeneratedPdfToCloud:ts,createAndStoreTeilwertWithPdf:Ba,fetchV2Statuses:cn,initializeV2Database:es,generateMarketAnalysisForProduct:Qi,deleteMarketAnalysisForProduct:br,batchGenerateMarketAnalysis:Pn,fetchMarketAnalysisForProduct:wr,fetchEbayResultsForProduct:Ti,fetchKeepaDataForProduct:Sn,fetchAllSearchTerms:Ai,fetchSearchTermsForProduct:Di,deleteTeilwertEstimation:ql,batchGenerateTeilwertEstimations:Hl,setProcessError:ht,clearProcessErrors:yt,getProcessErrors:Bt,searchTermsPresence:qi,keepaPresence:Hr,teilwertPresence:Ts,pdfLinkPresence:Pr},children:n})},Wc=()=>{const n=ee.useContext(SS);if(n===void 0)throw new Error("useV2Process must be used within a V2ProcessProvider");return n},KD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})]}),AS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5M12 9.75v4.5m-4.5-4.5H7.5m9 4.5h-1.5m-4.5 0a.75.75 0 01.75-.75h3a.75.75 0 01.75.75M7.5 12a4.5 4.5 0 014.5-4.5m4.5 4.5a4.5 4.5 0 01-4.5 4.5M12 6.75V3m0 18v-3.75"})]}),YD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})]}),P2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 6.75h17.25M3.375 12h17.25m-17.25 5.25h17.25M4.125 6.375l.375-.75m0 0l.375-.75M4.5 5.625l-.375-.75m.375.75L4.125 5m0 12.75l.375-.75m0 0l.375-.75m-.75.75L4.125 17m0-5.625l.375-.75m0 0l.375-.75m-.75.75L4.125 10.5"})]}),R2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})]}),Hh=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})]}),Ic=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})]}),ga=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Of=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Ho=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})]}),Zm=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L14.25 12l1.5-1.75L17 8.5l1.25 1.75L19.75 12l-1.5 1.75z"})]}),$D=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),Pa=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 100 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),el=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),JD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zM7 10h10M7 13h5"})]}),wb=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{fillRule:"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 01.628.74v2.288a2.25 2.25 0 01-.659 1.59l-4.682 4.683a2.25 2.25 0 00-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 018 18.25v-5.757a2.25 2.25 0 00-.659-1.59L2.659 6.22A2.25 2.25 0 012 4.629V2.34a.75.75 0 01.628-.74z",clipRule:"evenodd"})]}),TS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})]}),CS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12V9A2.25 2.25 0 006 6.75H5.25A2.25 2.25 0 003 9v10.5A2.25 2.25 0 005.25 21.75h13.5A2.25 2.25 0 0021 19.5V12a2.25 2.25 0 00-2.25-2.25H9.75Z"})]}),_b=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 10.5c0 1.679-.698 3.213-1.836 4.316-.763.746-1.715 1.255-2.774 1.495L12 21l-4.39-4.689c-1.06-.24-2.011-.75-2.774-1.495C3.698 13.713 3 12.179 3 10.5c0-4.142 4.03-7.5 9-7.5s9 3.358 9 7.5z"})]}),NS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375 3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228m19.5 0a3 3 0 01-3 3H5.25a3 3 0 01-3-3m19.5 0a3 3 0 00-3-3H5.25a3 3 0 00-3 3m16.5 0h.008v.008h-.008v-.008zm-3 0h.008v.008h-.008v-.008z"})]}),ZD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})]}),XD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})]}),QD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.692-3.692c-.092-.092-.19-.176-.294-.252l-2.148-.93M7.5 15.25l-1.07-1.07a4.502 4.502 0 010-6.364l1.07-1.07m5.657 7.433l1.07-1.07a4.502 4.502 0 000-6.364l-1.07-1.07m-4.587 9.433c.092.092.19.176.294.252l2.148.93M10.923 2.25l-3.692 3.692c.092.092.19.176.294.252l2.148.93V2.25zM15.75 11.25c0 .621-.504 1.125-1.125 1.125S13.5 11.871 13.5 11.25s.504-1.125 1.125-1.125S15.75 10.629 15.75 11.25zM7.5 7.5c0 .621-.504 1.125-1.125 1.125S5.25 8.121 5.25 7.5s.504-1.125 1.125-1.125S7.5 6.879 7.5 7.5z"})]}),Xm=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.243.096 3.298.26m-3.298-.26l1.012-3.135A1.125 1.125 0 017.926 2.25h8.148a1.125 1.125 0 011.128.879l1.012 3.135m0 0M6.33 5.79m11.34 0"})]}),D2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h12A2.25 2.25 0 0120.25 6v1.5A2.25 2.25 0 0118 9.75H6A2.25 2.25 0 013.75 7.5V6z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12A2.25 2.25 0 016 9.75h12A2.25 2.25 0 0120.25 12v1.5A2.25 2.25 0 0118 15.75H6A2.25 2.25 0 013.75 13.5V12z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 18A2.25 2.25 0 016 15.75h12A2.25 2.25 0 0120.25 18v1.5A2.25 2.25 0 0118 21.75H6A2.25 2.25 0 013.75 19.5V18z"})]}),ES=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.975A18.723 18.723 0 0012 3c-3.536 0-6.84-1.071-9.75-2.925m19.5 0A18.723 18.723 0 0112 21c-3.536 0-6.84-1.071-9.75-2.925M9 9.75H3.75l2.25 4.5 3-4.5zM15 9.75h5.25l-2.25 4.5-3-4.5z"})]}),e7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a2.25 2.25 0 014.56 0m-4.56 0A2.25 2.25 0 005.85 15H2.25m8.64-1.171a2.25 2.25 0 014.56 0m-4.56 0A2.25 2.25 0 0010.5 15h3.75m-3.75 0h-.375M17.25 15h.625c.621 0 1.125-.504 1.125-1.125V6.75c0-.621-.504-1.125-1.125-1.125H4.875c-.621 0-1.125.504-1.125 1.125v7.125c0 .621.504 1.125 1.125 1.125h.625m12.375 0H12.75M17.25 15V6.75M12 19.5h.008v.008H12V19.5zm0 0H6.75"})]}),kS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),Qm=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})]}),t7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75m9-1.5H6.75A2.25 2.25 0 004.5 7.875v11.25A2.25 2.25 0 006.75 21h9.75A2.25 2.25 0 0018.75 18.75V9.375M15 3.75H6.75"})]}),Sb=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})]}),MS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25A2.25 2.25 0 0113.5 8.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})]}),n7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})]}),i7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}),r7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),s7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]}),a7=n=>n===mr.LOADED_FROM_EXTERNAL?S.jsx(ga,{className:"w-5 h-5 text-green-500"}):S.jsx(Zm,{className:"w-5 h-5 text-gray-500"}),o7=({product:n})=>{const{id:e,name:t,imageUrl:i,status:r,etv:s,externalKeepaPrice:o,externalTeilwert:u,externalPdfUrl:c}=n,f=u_[r]||{bg:"bg-gray-200",text:"text-gray-700",border:"border-gray-400"},h=`https://via.placeholder.com/100x100.png?text=${e||"No+Image"}`;return S.jsxs("div",{className:`bg-white shadow-lg rounded-xl overflow-hidden transition-all hover:shadow-xl flex flex-col border-l-4 ${f.border}`,children:[S.jsxs("div",{className:"p-5 flex-grow",children:[S.jsxs("div",{className:"flex items-start space-x-4 mb-3",children:[S.jsx("img",{src:i||h,alt:t,className:"w-24 h-24 object-contain rounded-md border border-gray-200 bg-gray-50",onError:y=>{const b=y.target;b.src!==h&&(b.src=h)}}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx(Ra,{to:`/product/${e}`,className:"hover:underline",children:S.jsx("h3",{className:"text-lg font-semibold text-sky-700 mb-1 leading-tight truncate",title:t,children:t})}),S.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["ASIN: ",e]}),S.jsxs("span",{className:`inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium ${f.bg} ${f.text}`,children:[a7(r),S.jsx("span",{className:"ml-1.5",children:n.externalSourceStatus||r})]})]})]}),S.jsxs("div",{className:"space-y-1 text-xs text-gray-600 mb-3",children:[s!=null&&S.jsxs("p",{children:[S.jsx("strong",{children:"ETV (Neu):"})," ",Number(s).toFixed(2)]}),o!=null&&o!==-1&&S.jsxs("p",{children:[S.jsx("strong",{children:"Ext. Keepa Preis:"})," ",Number(o).toFixed(2)]}),u!=null&&S.jsxs("p",{children:[S.jsx("strong",{children:"Ext. Teilwert:"})," ",Number(u).toFixed(2)]}),c&&S.jsxs("p",{children:[S.jsx("strong",{children:"Ext. PDF: "}),S.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 hover:underline inline-flex items-center",children:[S.jsx(CS,{className:"w-4 h-4 mr-1"})," Link ansehen"]})]})]})]}),S.jsx("div",{className:"bg-gray-50 px-5 py-3 border-t border-gray-200",children:S.jsx("div",{className:"flex items-center justify-between",children:S.jsxs(Ra,{to:`/product/${e}`,className:"text-sm font-medium text-sky-600 hover:text-sky-800 inline-flex items-center",children:["Details anzeigen ",S.jsx(Hh,{className:"w-4 h-4 ml-1"})]})})})]})},xi=({size:n="md",text:e,className:t=""})=>{const i={sm:"w-5 h-5 border-2",md:"w-8 h-8 border-4",lg:"w-12 h-12 border-4"};return S.jsxs("div",{className:`flex flex-col items-center justify-center ${t}`,children:[S.jsx("div",{className:`${i[n]} border-sky-600 border-t-transparent rounded-full animate-spin`}),e&&S.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e})]})},Q0=["any","required","excluded"],l7={any:{icon:S.jsx(s7,{className:"w-4 h-4"}),text:"Beliebig",colorClass:"bg-slate-200 text-slate-700 hover:bg-slate-300",title:"Filter ignoriert"},required:{icon:S.jsx(i7,{className:"w-4 h-4"}),text:"Ja",colorClass:"bg-green-200 text-green-800 hover:bg-green-300",title:"Muss vorhanden sein"},excluded:{icon:S.jsx(r7,{className:"w-4 h-4"}),text:"Nein",colorClass:"bg-red-200 text-red-800 hover:bg-red-300",title:"Darf nicht vorhanden sein"}},kf=({label:n,currentState:e,onChange:t,className:i=""})=>{const r=()=>{const u=(Q0.indexOf(e)+1)%Q0.length;t(Q0[u])},s=l7[e];return S.jsxs("div",{className:`flex flex-col items-start ${i}`,children:[S.jsx("span",{className:"text-xs font-medium text-slate-600 mb-1",children:n}),S.jsxs("button",{type:"button",onClick:r,title:`${n}: ${s.title}`,className:`w-full sm:w-auto min-w-[90px] px-3 py-1.5 text-xs font-medium rounded-md flex items-center justify-center transition-colors shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1 ${s.colorClass}`,children:[s.icon,S.jsx("span",{className:"ml-1.5",children:s.text})]})]})},Ab={etvZero:"any",keepa:"any",ebay:"any",ma:"any",pdf:"any",teilwert:"any"},u7=()=>{const{products:n,isLoading:e,error:t,fetchProducts:i}=Hc(),{v2Statuses:r,v2AllSearchTerms:s,searchTermsPresence:o,teilwertPresence:u,v2PdfLinks:c,pdfLinkPresence:f,isLoading:h}=Wc(),[y,b]=ee.useState(Ab),[x,N]=ee.useState(""),[T,M]=ee.useState(1),k=e||h,P=()=>{M(1),i()},O=(X,le)=>{b(z=>({...z,[X]:le})),M(1)},$=()=>{b(Ab),N(""),M(1)},q=ee.useMemo(()=>n.filter(X=>{var te,ce,ne,de;if(x!==""&&!(X.name.toLowerCase().includes(x.toLowerCase())||X.id.toLowerCase().includes(x.toLowerCase()))||y.etvZero==="required"&&X.etv!==0||y.etvZero==="excluded"&&X.etv===0)return!1;const le=((te=r[X.id])==null?void 0:te.hasOwnProperty("keepa"))&&((ce=r[X.id])==null?void 0:ce.keepa)!==null&&((ne=r[X.id])==null?void 0:ne.keepa)!==void 0;if(y.keepa==="required"&&!le||y.keepa==="excluded"&&le)return!1;const z=(de=r[X.id])==null?void 0:de.ebay,G=z===!0||Array.isArray(z)&&z.length>0;if(y.ebay==="required"&&!G||y.ebay==="excluded"&&G)return!1;const fe=!!o[X.id];if(y.ma==="required"&&!fe||y.ma==="excluded"&&fe)return!1;const ae=!!c[X.id]||!!f[X.id];if(y.pdf==="required"&&!ae||y.pdf==="excluded"&&ae)return!1;const me=!!u[X.id];return!(y.teilwert==="required"&&!me||y.teilwert==="excluded"&&me)}),[n,y,x,r,o,c,f,u]),Z=Math.ceil(q.length/Da),Q=ee.useMemo(()=>{const X=(T-1)*Da,le=X+Da;return q.slice(X,le)},[q,T]);ee.useEffect(()=>{T>Z&&Z>0?M(Z):(T<1&&Z>0||Z===0&&n.length>0||Z===0&&n.length===0)&&M(1)},[q.length,Z,T,n.length]);const V=()=>k&&n.length===0?S.jsx("div",{className:"flex flex-col justify-center items-center h-64 bg-white p-6 rounded-lg shadow-md",children:S.jsx(xi,{text:"Lade Produkte & Statusdaten..."})}):t?S.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg shadow-md",role:"alert",children:[S.jsx("p",{className:"font-bold",children:"Fehler beim Laden der Produkte"}),S.jsx("p",{children:t})]}):n.length>0&&q.length===0?S.jsxs("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:[S.jsx(wb,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),S.jsx("p",{className:"text-xl text-gray-600",children:"Keine Produkte gefunden."}),S.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Versuchen Sie, Ihre Filter anzupassen oder alle Filter zurckzusetzen."}),S.jsxs("button",{onClick:$,className:"mt-4 px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 flex items-center mx-auto",children:[S.jsx(Xm,{className:"w-4 h-4 mr-2"}),"Alle Filter zurcksetzen"]})]}):n.length===0&&!k?S.jsxs("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:[S.jsx("img",{src:"https://picsum.photos/seed/emptybox/200/150",alt:"Keine Produkte",className:"mx-auto mb-4 rounded opacity-70"}),S.jsx("p",{className:"text-xl text-gray-600",children:"Keine Produkte verfgbar."}),S.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Mglicherweise sind noch keine Produkte in der externen Quelle vorhanden oder es gab ein Problem beim Laden."})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Q.map(X=>S.jsx(o7,{product:X},X.id))}),Z>1&&S.jsxs("div",{className:"mt-8 flex justify-between items-center bg-white p-4 rounded-lg shadow-md",children:[S.jsxs("button",{onClick:()=>M(X=>Math.max(X-1,1)),disabled:T===1,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[S.jsx(Ic,{className:"w-4 h-4 mr-2"}),"Vorherige"]}),S.jsxs("span",{className:"text-sm text-gray-700",children:["Seite ",T," von ",Z," (",q.length," Produkte gesamt)"]}),S.jsxs("button",{onClick:()=>M(X=>Math.min(X+1,Z)),disabled:T===Z,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Nchste",S.jsx(Hh,{className:"w-4 h-4 ml-2"})]})]})]});return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[S.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Produkt-Dashboard"}),S.jsx("div",{className:"flex items-center space-x-3",children:S.jsxs("button",{onClick:P,disabled:k,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-70 flex items-center",children:[S.jsx(el,{className:`w-4 h-4 mr-2 ${k?"animate-spin":""}`}),"Aktualisieren"]})})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{htmlFor:"searchTerm",className:"block text-sm font-medium text-gray-700 mb-1",children:"Suche (Titel/ASIN)"}),S.jsx("input",{type:"text",id:"searchTerm",value:x,onChange:X=>{N(X.target.value),M(1)},placeholder:"Produkt suchen...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500"})]}),S.jsxs("div",{className:"mb-4 p-4 border border-slate-200 rounded-lg bg-slate-50",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-3",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center",children:[S.jsx(wb,{className:"w-5 h-5 mr-2 text-sky-600"})," Erweiterte Filter"]}),S.jsxs("button",{onClick:$,className:"mt-2 sm:mt-0 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-100 rounded-md hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 flex items-center",children:[S.jsx(Xm,{className:"w-3.5 h-3.5 mr-1.5"}),"Alle Filter zurcksetzen"]})]}),S.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-x-4 gap-y-3",children:[S.jsx(kf,{label:"ETV = 0",currentState:y.etvZero,onChange:X=>O("etvZero",X)}),S.jsx(kf,{label:"Keepa-Daten",currentState:y.keepa,onChange:X=>O("keepa",X)}),S.jsx(kf,{label:"eBay-Daten",currentState:y.ebay,onChange:X=>O("ebay",X)}),S.jsx(kf,{label:"MA-Daten",currentState:y.ma,onChange:X=>O("ma",X)}),S.jsx(kf,{label:"PDF Link",currentState:y.pdf,onChange:X=>O("pdf",X)}),S.jsx(kf,{label:"Teilwert",currentState:y.teilwert,onChange:X=>O("teilwert",X)})]})]})]}),V()]})},c7=(n,e)=>{switch(n){case"pending":return S.jsx(P2,{className:"w-5 h-5 text-slate-400"});case"inProgress":return S.jsx(xi,{size:"sm",className:"border-sky-500"});case"success":return S.jsx(ga,{className:"w-5 h-5 text-green-500"});case"failure":return S.jsx(Of,{className:"w-5 h-5 text-red-500"});case"warning":return S.jsx(Ho,{className:"w-5 h-5 text-yellow-500"});default:return null}},Z1=({steps:n,title:e})=>!n||n.length===0?null:S.jsxs("div",{className:"my-4 p-4 border border-slate-200 rounded-lg bg-slate-50 shadow-sm",children:[e&&S.jsx("h4",{className:"text-md font-semibold text-slate-700 mb-3",children:e}),S.jsx("ul",{className:"space-y-2",children:n.map(t=>S.jsxs("li",{className:"flex items-start p-2 rounded-md hover:bg-slate-100 transition-colors",children:[S.jsx("div",{className:"flex-shrink-0 w-6 h-6 mr-3 mt-0.5",children:c7(t.status,t.status==="inProgress")}),S.jsxs("div",{className:"flex-grow",children:[S.jsx("span",{className:`text-sm font-medium ${t.status==="failure"?"text-red-600":t.status==="warning"?"text-yellow-700":t.status==="success"?"text-green-700":"text-slate-600"}`,children:t.label}),t.error&&(t.status==="failure"||t.status==="warning")&&S.jsx("p",{className:"text-xs text-red-500 mt-0.5",children:t.error})]})]},t.key))})]}),rh=({title:n,children:e,defaultOpen:t=!0,icon:i})=>{const[r,s]=ee.useState(t);return S.jsxs("div",{className:"mb-6 bg-white shadow rounded-lg",children:[S.jsxs("button",{className:"w-full flex justify-between items-center p-4 bg-slate-100 hover:bg-slate-200 focus:outline-none rounded-t-lg transition-colors",onClick:()=>s(!r),"aria-expanded":r,children:[S.jsxs("div",{className:"flex items-center",children:[i&&S.jsx("span",{className:"mr-2 text-sky-600",children:i}),S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:n})]}),r?S.jsx(XD,{className:"w-6 h-6 text-slate-500"}):S.jsx(ZD,{className:"w-6 h-6 text-slate-500"})]}),r&&S.jsx("div",{className:"p-4 border-t border-slate-200 prose max-w-none text-slate-700",children:e})]})},e1=({content:n})=>{if(!n)return null;const e=t=>{let i=[];const r=[];return t.split(`
`).forEach((s,o)=>{const u=s.match(/^[ \t]*[-*+]\s+(.*)/);u?i.push(u[1]):(i.length>0&&(r.push(S.jsx("ul",{className:"list-disc pl-5 my-2",children:i.map((c,f)=>S.jsx("li",{dangerouslySetInnerHTML:{__html:c.replace(/\*\*(.*?)\*\*|__(.*?)__/g,"<strong>$1$2</strong>").replace(/\*(.*?)\*|_(.*?)_/g,"<em>$1$2</em>")}},`li-${o}-${f}`))},`ul-${o}`)),i=[]),s.trim()===""?r.push(S.jsx("br",{},`br-${o}`)):r.push(S.jsx("p",{dangerouslySetInnerHTML:{__html:s.replace(/\*\*(.*?)\*\*|__(.*?)__/g,"<strong>$1$2</strong>").replace(/\*(.*?)\*|_(.*?)_/g,"<em>$1$2</em>")}},`p-${o}`)))}),i.length>0&&r.push(S.jsx("ul",{className:"list-disc pl-5 my-2",children:i.map((s,o)=>S.jsx("li",{dangerouslySetInnerHTML:{__html:s.replace(/\*\*(.*?)\*\*|__(.*?)__/g,"<strong>$1$2</strong>").replace(/\*(.*?)\*|_(.*?)_/g,"<em>$1$2</em>")}},`li-last-${o}`))},"ul-last")),r};return S.jsx("div",{className:"prose-sm sm:prose lg:prose-lg xl:prose-xl max-w-none",children:e(n)})},t1=[{key:"dataProvidedKeepa",label:"Keepa Daten (v2keepa)",status:"pending"},{key:"dataProvidedMarketAnalysis",label:"Marktanalyse (v2marketAnalysisData)",status:"pending"},{key:"dataProvidedEbay",label:"eBay Suchbegriffe & Ergebnisse",status:"pending"},{key:"callGeminiTeilwert",label:"Frage Gemini fr Teilwertschtzung",status:"pending"},{key:"storeTeilwertResult",label:"Speichere Teilwert Ergebnis",status:"pending"},{key:"generatePdfReport",label:"Generiere PDF Bericht",status:"pending"},{key:"uploadPdfToCloud",label:"Lade PDF in Cloud hoch",status:"pending"},{key:"storePdfLinkInDb",label:"Speichere PDF Link",status:"pending"}],Tb=[{key:"reconFetchCurrent",label:"Lade aktuellen v2processstatus",status:"pending"},{key:"reconKeepa",label:"Prfe/Aktualisiere Keepa Daten (aus v2keepa)",status:"pending"},{key:"reconMAeBayTerms",label:"Prfe/Aktualisiere Marktanalyse/eBay-Begriffe (aus v2marketAnalysis/v2searchterms)",status:"pending"},{key:"reconEbayData",label:"Prfe/Aktualisiere eBay-Daten Flag (aus v2ebayresults)",status:"pending"},{key:"reconTeilwert",label:"Prfe/Aktualisiere Teilwert Daten (aus v2TeilwertData)",status:"pending"},{key:"reconPdfLink",label:"Prfe/Aktualisiere PDF Link (aus v2pdf)",status:"pending"},{key:"reconSaveStatus",label:"Speichere aktualisierten v2processstatus falls gendert",status:"pending"},{key:"reconClearErrors",label:"Bereinige ggf. v2processErrors falls Teilwert erfolgreich",status:"pending"}],f7=n=>{const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]={value:n[t].rawValue,loading:!1,error:null});return e},d7=()=>{var Qr,Js;const{productId:n}=_3(),{getProductById:e,isLoading:t}=Hc(),{v2Statuses:i,v2AllSearchTerms:r,v2PdfLinks:s,searchTermsPresence:o,keepaPresence:u,teilwertPresence:c,pdfLinkPresence:f,fetchSearchTermsForProduct:h,generateMarketAnalysisForProduct:y,isGeneratingAnalysis:b,analysisGenerationError:x,deleteMarketAnalysisForProduct:N,isDeletingAnalysis:T,deleteAnalysisError:M,fetchMarketAnalysisForProduct:k,fetchKeepaDataForProduct:P,fetchEbayResultsForProduct:O,createAndStoreTeilwertWithPdf:$,deleteTeilwertEstimation:q,isEstimatingTeilwert:Z,teilwertEstimationError:Q,setProcessError:V,getProcessErrors:X,clearProcessErrors:le,reconcileProductV2Status:z,isReconcilingStatus:G,reconcileStatusError:fe,fetchV2ProcessErrors:ae,uploadGeneratedPdfToCloud:me,isUploadingPdfManual:te,pdfManualUploadError:ce}=Wc(),{v2ApiToken:ne,isConfigSet:de}=Vl(),[D,ye]=ee.useState(void 0),[R,W]=ee.useState(null),[j,re]=ee.useState(!1),[se,xe]=ee.useState(null),[pe,Te]=ee.useState({}),[$e,Ye]=ee.useState(null),[et,tt]=ee.useState(null),[xt,Fe]=ee.useState(!1),[ue,bt]=ee.useState(null),[nt,Je]=ee.useState(null),[it,rt]=ee.useState(!1),[je,ot]=ee.useState(null),[Et,$t]=ee.useState(null),[It,Ot]=ee.useState(!1),[Rt,vt]=ee.useState(!1),[Ht,Ke]=ee.useState(null),[Vt,Pt]=ee.useState(!1),[hi,tn]=ee.useState(JSON.parse(JSON.stringify(t1))),[gn,Li]=ee.useState(null),[Gt,As]=ee.useState(!1),[ei,vr]=ee.useState(JSON.parse(JSON.stringify(Tb))),[bi,ni]=ee.useState(!1),[Ft,bn]=ee.useState(null),or=n?b[n]:!1,wi=n?x[n]:null,Pi=n?T[n]:!1,Xr=n?M[n]:null,at=n?!!o[n]:!1,yn=n?!!(i[n]&&i[n].hasOwnProperty("Teilwert")):!1,Gn=n?s[n]:null,_i=n?!!s[n]||!!f[n]:!1,On=n?G[n]:!1,pi=n?fe[n]:null,Si=n?te[n]:!1,Rs=n?ce[n]:null;ee.useEffect(()=>{n&&ye(e(n))},[n,e]);const li=ee.useCallback(async()=>{n&&de&&$t(await X(n))},[n,de,X]);ee.useEffect(()=>{li()},[li]),ee.useEffect(()=>{n&&at&&(!r[n]||r[n].length===0)&&h(n)},[n,at,h,r]);const xr=ee.useCallback(async()=>{if(n&&de&&(!nt||nt===null)){rt(!0),ot(null);try{Je(await P(n))}catch(ht){ot(ht.message||"Fehler Laden Keepa V2 Details.")}finally{rt(!1)}}},[n,de,P,nt]);ee.useEffect(()=>{xr()},[xr]),ee.useEffect(()=>{n&&de&&ne&&at&&!R?(re(!0),xe(null),k(n).then(W).catch(ht=>xe(ht.message||"Fehler Laden Marktanalyse.")).finally(()=>re(!1))):at||W(null)},[n,de,ne,at,k,R]),ee.useEffect(()=>{n&&de&&ne&&yn&&!et?(Fe(!0),bt(null),mn.getKey(Lu,n,ne).then(ht=>{if("error"in ht)bt(ht.error);else if(ht.value)try{tt(JSON.parse(ht.value))}catch{bt("Fehler Parsen Teilwert-Daten.")}else tt(null)}).catch(ht=>bt(ht.message||"Netzwerkfehler.")).finally(()=>Fe(!1))):yn||tt(null)},[n,de,ne,yn,et]);const Ri=ee.useCallback(async()=>{if(!n||!de||!ne||!at)return;let ht=r[n]||[];if(ht.length===0){const Bt=await h(n);Bt&&(ht=Bt)}if(ht.length===0){Te({});return}Ot(!0);const yt={};ht.forEach(Bt=>{yt[Bt]={value:null,loading:!0,error:null}}),Te(yt);for(const Bt of ht){const pt=await mn.getKey(Uf,Bt,ne);if("error"in pt)Te(mi=>({...mi,[Bt]:{value:null,loading:!1,error:pt.error}}));else{let mi=pt.value;mi==='""'&&(mi=""),Te(un=>({...un,[Bt]:{value:mi,loading:!1,error:null}}))}}Ot(!1)},[n,de,ne,at,r]);ee.useEffect(()=>{at?Ri():Te({})},[at,Ri]),ee.useEffect(()=>{if(n&&i[n]){const ht=i[n];(ht.ebay===!0||Array.isArray(ht.ebay)&&ht.ebay.length>0)&&Array.isArray(ht.ebay)?Ye(ht.ebay):Ye(null)}else Ye(null)},[n,i]);const lr=async()=>{D&&!or&&de&&(await y(D),await li(),await ae())},ur=async()=>{D!=null&&D.id&&!Pi&&de&&await N(D.id)&&(W(null),Te({}),await li(),await ae())},Xi=async()=>{D!=null&&D.id&&!Rt&&!or&&!Pi&&de&&(vt(!0),Ke(null),await N(D.id)?(W(null),Te({}),await y(D)):Ke(M[D.id]||"Fehler Lschen alte Analyse."),await li(),await ae(),vt(!1))},Ln=async ht=>{var es,Qi;if(!D||!ne||!de||Vt)return;Pt(!0),Li(null);let yt=JSON.parse(JSON.stringify(t1.map(br=>({...br,status:"pending",error:void 0}))));tn(yt),await le(D.id);let Bt=null,pt=null,mi={},un=[];const cn=(br,Pn,wr)=>{yt=yt.map(Sn=>Sn.key===br?{...Sn,status:Pn,error:wr}:Sn),tn(yt)};try{cn("dataProvidedKeepa","inProgress"),Bt=await P(D.id),Bt?cn("dataProvidedKeepa","success"):(un.push("Keepa-Daten (aus v2keepa)"),cn("dataProvidedKeepa",Gt?"warning":"failure","Keepa-Daten (v2keepa) fehlen.")),cn("dataProvidedMarketAnalysis","inProgress"),pt=R,!pt&&at&&(pt=await k(D.id)),pt?cn("dataProvidedMarketAnalysis","success"):(un.push("Marktanalyse-Objekt"),cn("dataProvidedMarketAnalysis",Gt?"warning":"failure","Marktanalyse-Objekt fehlt.")),cn("dataProvidedEbay","inProgress");const br=r[D.id]||[];if(br.length>0?(mi=await O(D.id,br),br.some(Di=>{const Ti=mi[Di];return!Ti||!Ti.listings.length&&(Ti.rawValue===null||Ti.rawValue.trim()===""||Ti.rawValue.trim()==='""')})?(un.push("Unvollstndige eBay Suchergebnisse"),cn("dataProvidedEbay",Gt?"warning":"failure","Unvollstndige eBay Suchergebnisse.")):cn("dataProvidedEbay","success")):at?(un.push("eBay Suchbegriffe nicht definiert"),cn("dataProvidedEbay",Gt?"warning":"failure","eBay Suchbegriffe nicht definiert.")):(cn("dataProvidedEbay",Gt?"warning":"success",Gt?"Keine MA, eBay Daten bergangen.":""),Gt&&un.push("eBay Daten (da keine MA)")),un.length>0&&!Gt){const Ai=`Folgende Daten fehlen oder sind unvollstndig: ${un.join(", ")}. Mchten Sie die Teilwertschtzung trotzdem durchfhren? Dies kann die Qualitt der Schtzung stark beeintrchtigen.`;if(!window.confirm(Ai)){await V(D.id,"TeilwertInput_UserCancelled","Nutzer hat Teilwertschtzung wegen fehlender Daten abgebrochen.");const Di=((es=yt.find(Ti=>Ti.status==="inProgress"||Ti.status==="pending"||Ti.status==="failure"))==null?void 0:es.key)||"dataProvidedKeepa";throw cn(Di,"failure","Nutzer hat Teilwertschtzung wegen fehlender Daten abgebrochen."),new Error("Nutzer hat Teilwertschtzung wegen fehlender Daten abgebrochen.")}await V(D.id,"TeilwertInput_UserConfirmedMissing",`Nutzer hat Teilwertschtzung trotz fehlender Daten besttigt: ${un.join(", ")}.`),yt=yt.map(Di=>Di.status==="failure"?{...Di,status:"warning",error:(Di.error||"")+" (Nutzer-Besttigung)"}:Di),tn(yt)}else un.length>0&&Gt&&(await V(D.id,"TeilwertInput_UserOverrideForced",`Nutzer hat Teilwertschtzung trotz fehlender Daten erzwungen: ${un.join(", ")}.`),yt=yt.map(Ai=>Ai.status==="failure"?{...Ai,status:"warning",error:(Ai.error||"")+" (Override Checkbox)"}:Ai),tn(yt));if(!yt.slice(0,3).every(Ai=>Ai.status==="success"||Ai.status==="warning"))throw new Error("Kritische Daten fr Teilwertschtzung fehlen und wurden nicht bergangen.");if(ht){if(!await q(D.id))throw new Error((Q==null?void 0:Q[D.id])||"Fehler beim Lschen der alten Teilwertschtzung.");tt(null)}const wr=await $(D,pt,mi,Bt,cn);if(!wr.success){const Ai=wr.error||(Q==null?void 0:Q[D.id])||"Unbekannter Fehler von Gemini oder beim Speichern/PDF.",Di=((Qi=yt.find(Ti=>Ti.status==="inProgress"))==null?void 0:Qi.key)||"callGeminiTeilwert";throw cn(Di,"failure",Ai),new Error(Ai)}await li(),await ae();const Sn=await mn.getKey(Lu,D.id,ne);!("error"in Sn)&&Sn.value&&tt(JSON.parse(Sn.value))}catch(br){Li(br.message||"Unbekannter Fehler bei der Teilwertschtzung.");let Pn=!1;if(yt=yt.map(Sn=>(Sn.status==="failure"&&(Pn=!0),Pn&&Sn.status==="pending"?{...Sn,status:"warning",error:"Nicht ausgefhrt wegen vorherigem Fehler."}:Sn)),!Pn&&yt.find(Sn=>Sn.status==="inProgress")){const Sn=yt.find(Ai=>Ai.status==="inProgress").key;cn(Sn,"failure",br.message)}yt.some(Sn=>Sn.status==="failure")&&(yt=yt.map(Sn=>Sn.status==="pending"?{...Sn,status:"warning",error:"Nicht ausgefhrt wegen vorherigem Fehler"}:Sn)),tn(yt)}finally{Pt(!1)}},Ds=async()=>{D!=null&&D.id&&!Vt&&de&&(await q(D.id)?(tt(null),tn(JSON.parse(JSON.stringify(t1))),Li(null),await li(),await ae()):Li((Q==null?void 0:Q[D.id])||"Fehler beim Lschen der Teilwertschtzung."))},Is=async()=>{if(!D||!et||!ne||!de){bn("Bentigte Daten fr PDF nicht vorhanden (Produkt, Teilwertschtzung, Konfiguration).");return}ni(!0),bn(null);try{const[ht,yt]=await Promise.all([P(D.id),k(D.id)]);let Bt={};const pt=r[D.id]||[];pt.length>0&&(Bt=await O(D.id,pt));const mi=f7(Bt),un=await J1(D,ht,yt,pt,mi,et),cn=URL.createObjectURL(un),es=document.createElement("a");es.href=cn,es.download=`Teilwert_v2_${D.id}.pdf`,document.body.appendChild(es),es.click(),document.body.removeChild(es),URL.revokeObjectURL(cn)}catch(ht){bn(ht.message||"Fehler bei lokaler PDF-Generierung.")}finally{ni(!1)}},qi=async()=>{!D||!ne||!de||(await me(D.id),await ae())},cr=async()=>{if(!D||!ne||!de||On)return;let ht=JSON.parse(JSON.stringify(Tb.map(pt=>({...pt,status:"pending",error:void 0}))));vr(ht);const yt=(pt,mi,un)=>{ht=ht.map(cn=>cn.key===pt?{...cn,status:mi,error:un}:cn),vr(ht)};if(yt("reconFetchCurrent","inProgress"),await z(D.id)){if(ht=ht.map(pt=>({...pt,status:"success"})),vr(ht),xr(),at?k(D.id):W(null),yn){const pt=await mn.getKey(Lu,D.id,ne);!("error"in pt)&&pt.value?tt(JSON.parse(pt.value)):tt(null)}else tt(null);await ae()}else yt("reconSaveStatus","failure",fe[D.id]||"Fehler beim Abgleich")};if(t&&!D)return S.jsx("div",{className:"flex justify-center items-center h-64",children:S.jsx(xi,{text:"Lade Produktdetails..."})});if(!de)return S.jsxs("div",{className:"text-center py-10",children:[S.jsx("h1",{className:"text-2xl text-orange-600",children:"Konfiguration fehlt"}),S.jsx("p",{className:"text-gray-600 mt-2",children:"Bitte melden Sie sich an, um Produktdetails anzuzeigen."}),S.jsxs(Ra,{to:"/",className:"mt-4 inline-flex items-center px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700",children:[S.jsx(Ic,{className:"w-4 h-4 mr-2"})," Zum Login / Dashboard"]})]});if(!D)return S.jsxs("div",{className:"text-center py-10",children:[S.jsx("h1",{className:"text-2xl text-red-600",children:"Produkt nicht gefunden"}),S.jsxs("p",{className:"text-gray-600 mt-2",children:['Das Produkt mit der ID "',n,'" konnte nicht geladen werden.']}),S.jsxs(Ra,{to:"/",className:"mt-4 inline-flex items-center px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700",children:[S.jsx(Ic,{className:"w-4 h-4 mr-2"})," Zurck zum Dashboard"]})]});const Hr=u_[D.status]||{bg:"bg-gray-200",text:"text-gray-700",border:"border-gray-400"},ui=n?i[n]:null,Ts=!!(ui&&ui.hasOwnProperty("keepa")&&ui.keepa!==null&&ui.keepa!==void 0),Os=ui==null?void 0:ui.ebay,Pr=Os===!0||Array.isArray(Os)&&Os.length>0,ls=de&&!at&&!or&&!Rt&&!Pi,jr=de&&at&&!or&&!Pi&&!Rt&&!j,Fs=de&&!yn&&!Vt,Fa=de&&yn&&!Vt&&!xt;return S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsxs(Ra,{to:"/",className:"inline-flex items-center text-sky-600 hover:text-sky-800 group",children:[S.jsx(Ic,{className:"w-5 h-5 mr-2 transition-transform group-hover:-translate-x-1"}),"Zurck zum Dashboard"]}),S.jsxs("button",{onClick:cr,disabled:!de||On,className:"px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 rounded-md hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-slate-500 disabled:opacity-50 flex items-center",title:"Daten aus verschiedenen DBs (v2keepa, v2marketAnalysisData, v2searchterms, v2TeilwertData, v2pdf) mit dem Haupt-Statuseintrag (v2processstatus) synchronisieren und Fehler ggf. bereinigen.",children:[On?S.jsx(xi,{size:"sm",className:"mr-1.5"}):S.jsx(ES,{className:"w-4 h-4 mr-1.5"}),"Status Abgleichen"]})]}),On&&S.jsx(Z1,{steps:ei,title:"Abgleich Fortschritt:"}),pi&&S.jsxs("div",{className:"my-2 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md text-sm",children:[S.jsx("p",{className:"font-semibold",children:"Fehler beim Abgleich:"}),S.jsx("p",{children:pi})]}),S.jsxs("header",{className:`mb-8 p-6 bg-white shadow-lg rounded-xl border-l-4 ${Hr.border}`,children:[S.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:D.name}),S.jsxs("p",{className:"text-sm text-gray-500",children:["ASIN: ",D.id]})]}),D.imageUrl&&S.jsx("img",{src:D.imageUrl,alt:D.name,className:"w-24 h-24 sm:w-32 sm:h-32 object-contain rounded-md border p-1 bg-white mt-4 sm:mt-0"})]}),S.jsxs("div",{className:"mt-4 space-y-2",children:[S.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${Hr.bg} ${Hr.text} mr-2 mb-2 sm:mb-0`,children:["Status (Extern): ",D.externalSourceStatus||D.status]}),S.jsxs("div",{className:"inline-flex flex-wrap items-center gap-2 text-sm font-medium text-slate-700",children:[S.jsx("span",{className:"font-semibold",children:"V2 Daten:"}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${Ts?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-600"}`,children:[Ts?S.jsx(ga,{className:"w-4 h-4 mr-1"}):S.jsx(Of,{className:"w-4 h-4 mr-1"})," Keepa (Status)"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${at?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[at?S.jsx(ga,{className:"w-4 h-4 mr-1"}):S.jsx(Of,{className:"w-4 h-4 mr-1"})," MA"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${Pr?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:[Pr?S.jsx(ga,{className:"w-4 h-4 mr-1"}):S.jsx(Of,{className:"w-4 h-4 mr-1"})," eBay (Status)"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${yn?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:[yn?S.jsx(ga,{className:"w-4 h-4 mr-1"}):S.jsx(Of,{className:"w-4 h-4 mr-1"})," Teilwert"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${_i?"bg-cyan-100 text-cyan-700":"bg-gray-100 text-gray-600"}`,children:[_i?S.jsx(ga,{className:"w-4 h-4 mr-1"}):S.jsx(Of,{className:"w-4 h-4 mr-1"})," PDF Cloud"]})]})]}),Et&&Object.keys(Et).length>0&&S.jsxs("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-300 text-orange-700 rounded-md text-xs",children:[S.jsx("p",{className:"font-semibold mb-1",children:"Hinweise/Fehler fr dieses Produkt:"}),S.jsx("ul",{className:"list-disc pl-5",children:Object.entries(Et).map(([ht,yt])=>S.jsxs("li",{children:[S.jsxs("strong",{children:[yt.type,":"]})," ",yt.message," (",new Date(yt.timestamp).toLocaleString(),")"]},ht))})]})]}),S.jsxs(rh,{title:"Produktdaten (Basis & Extern)",defaultOpen:!0,children:[S.jsxs("p",{children:[S.jsx("strong",{children:"ASIN:"})," ",D.id]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Name:"})," ",D.name]}),S.jsxs("p",{children:[S.jsx("strong",{children:"ETV (Neupreis):"})," ",D.etv!==void 0&&D.etv!==null?`${Number(D.etv).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsxs("strong",{children:["V2 Keepa Preis (aus ",Ws,"):"]})," ",(ui==null?void 0:ui.keepa)!==void 0?`${Number(ui.keepa).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsxs("strong",{children:["V2 Geschtzter Teilwert (aus ",Ws,"):"]})," ",(ui==null?void 0:ui.Teilwert)!==void 0?`${Number(ui.Teilwert).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Bild-Dateiname:"})," ",D.externalImageFilename||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Keepa Preis:"})," ",D.externalKeepaPrice!==void 0&&D.externalKeepaPrice!==null&&D.externalKeepaPrice!==-1?`${Number(D.externalKeepaPrice).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Teilwert:"})," ",D.externalTeilwert!==void 0&&D.externalTeilwert!==null?`${Number(D.externalTeilwert).toFixed(2)}`:"N/A"]}),D.externalPdfUrl&&S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle PDF: "}),S.jsxs("a",{href:D.externalPdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 hover:underline inline-flex items-center",children:[S.jsx(CS,{className:"w-4 h-4 mr-1"})," Link ansehen"]})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Status:"})," ",D.externalSourceStatus||"N/A"]})]}),S.jsxs(rh,{title:`Keepa V2 Preisdetails (aus ${kh})`,defaultOpen:!0,icon:S.jsx(D2,{className:"w-6 h-6"}),children:[it&&S.jsx(xi,{text:"Lade Keepa V2 Details..."}),je&&S.jsx("p",{className:"text-red-600",children:je}),!it&&!je&&!nt&&S.jsx("p",{className:"text-slate-500",children:"Keine detaillierten Keepa V2 Daten fr dieses Produkt gefunden."}),nt&&S.jsxs("div",{className:"space-y-2 text-sm",children:[nt.price!==void 0?S.jsxs(S.Fragment,{children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Primr genutzter Preis:"})," ",S.jsxs("span",{className:"font-semibold text-emerald-600",children:["",nt.price.toFixed(2)]})," (Quelle: ",nt.priceSource,")"]}),nt.allPrices&&S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-slate-600 mt-2 mb-1",children:"Weitere aktuelle Preise:"}),S.jsxs("ul",{className:"list-disc pl-5 text-slate-700",children:[S.jsxs("li",{children:["Amazon Aktuell: ",nt.allPrices.amazonCurrent!==void 0?`${nt.allPrices.amazonCurrent.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Neu Aktuell: ",nt.allPrices.newCurrent!==void 0?`${nt.allPrices.newCurrent.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Gebraucht Aktuell: ",nt.allPrices.usedCurrent!==void 0?`${nt.allPrices.usedCurrent.toFixed(2)}`:"N/A"]})]}),S.jsx("h4",{className:"font-medium text-slate-600 mt-2 mb-1",children:"Weitere 30-Tage Durchschnittspreise:"}),S.jsxs("ul",{className:"list-disc pl-5 text-slate-700",children:[S.jsxs("li",{children:["Amazon 30d : ",nt.allPrices.amazonAvg30!==void 0?`${nt.allPrices.amazonAvg30.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Neu 30d : ",nt.allPrices.newAvg30!==void 0?`${nt.allPrices.newAvg30.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Gebraucht 30d : ",nt.allPrices.usedAvg30!==void 0?`${nt.allPrices.usedAvg30.toFixed(2)}`:"N/A"]})]})]})]}):S.jsxs("p",{children:[S.jsx("strong",{children:"Keepa-Daten nicht verfgbar."})," ",nt.reason?`Grund: ${nt.reason}`:""]}),S.jsx("p",{children:S.jsxs("a",{href:`https://keepa.com/#!product/3-${D.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 hover:underline inline-flex items-center",children:[S.jsx(Qm,{className:"w-4 h-4 mr-1"})," Direkt auf Keepa ffnen"]})})]})]}),$e&&$e.length>0&&S.jsx(rh,{title:"eBay Verkaufsdaten (Produktbezogen)",defaultOpen:!0,icon:S.jsx(P2,{className:"w-6 h-6"}),children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full text-xs text-slate-700",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Name"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Verkaufsdatum"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Verkufer"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Typ"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Zustand"}),S.jsx("th",{className:"px-2 py-2 text-right font-medium text-slate-600",children:"Preis ()"}),S.jsx("th",{className:"px-2 py-2 text-right font-medium text-slate-600",children:"Versand ()"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-200",children:$e.map((ht,yt)=>{var Bt,pt;return S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-2 py-1.5 whitespace-normal break-words max-w-xs text-slate-700",children:ht.name}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-slate-700",children:ht.sold_date}),S.jsx("td",{className:"px-2 py-1.5 whitespace-normal break-words max-w-[100px] text-slate-700",children:ht.seller}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-slate-700",children:ht.type}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-slate-700",children:ht.condition}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-right text-slate-700",children:(Bt=ht.price)==null?void 0:Bt.toFixed(2)}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-right text-slate-700",children:(pt=ht.shipment)==null?void 0:pt.toFixed(2)})]},yt)})})]})})}),S.jsxs(rh,{title:"Gemini Marktanalyse & eBay Strategie",defaultOpen:!$e||$e.length===0,icon:S.jsx(QD,{className:"w-6 h-6"}),children:[!de&&S.jsx("p",{className:"text-red-600",children:"Konfiguration (z.B. API Tokens) nicht geladen. Analyse nicht mglich."}),de&&S.jsxs(S.Fragment,{children:[(or||Pi||Rt||j)&&S.jsxs("div",{className:"my-4 p-4 bg-sky-50 rounded-md",children:[S.jsx(xi,{text:j?"Lade Marktanalyse...":Rt?"Analyse wird neu erstellt...":Pi?"Marktanalyse wird gelscht...":"Generiere Marktanalyse..."})," "]}),wi&&!or&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:wi})]}),Xr&&!Pi&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:Xr})]}),Ht&&!Rt&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:Ht})]}),se&&!j&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:se})]}),ls&&S.jsxs("div",{className:"my-4 p-4 bg-yellow-50 border border-yellow-300 rounded-md text-center",children:[S.jsx("p",{className:"mb-3 text-yellow-800",children:"Keine Gemini Marktanalyse vorhanden."}),S.jsxs("button",{onClick:lr,className:"px-4 py-2 bg-sky-600 text-white font-semibold rounded-md hover:bg-sky-700 disabled:opacity-50 flex items-center justify-center mx-auto",children:[" ",S.jsx(Zm,{className:"w-5 h-5 mr-2"})," Analyse jetzt erstellen "]})]}),jr&&S.jsxs("div",{className:"my-4 flex flex-col sm:flex-row gap-3 justify-center",children:[S.jsxs("button",{onClick:Xi,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(el,{className:"w-5 h-5 mr-2"})," Analyse Neu Erstellen "]}),S.jsxs("button",{onClick:ur,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(Xm,{className:"w-5 h-5 mr-2"})," Analyse Lschen "]})]}),at&&R&&!j&&S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold mt-2 mb-1",children:"Marktanalyse von Gemini"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Zusammenfassung:"})," ",R.marketAnalysis.summary||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Wettbewerber:"})," ",((Qr=R.marketAnalysis.competitors)==null?void 0:Qr.join(", "))||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Verkaufsperformance:"})," ",R.marketAnalysis.salesPerformance||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Marktstimmung:"})," ",R.marketAnalysis.marketSentiment||"N/A"]}),S.jsx("h3",{className:"text-lg font-semibold mt-4 mb-1",children:"Preisgestaltung & Beschaffung"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Typischer Neupreis:"})," ",R.pricingAndSourcing.typicalNewPrice||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Fernost-Beschaffungspotenzial:"})," ",R.pricingAndSourcing.farEastSourcingPotential||"N/A"]}),S.jsx("h3",{className:"text-lg font-semibold mt-4 mb-1",children:"Haltbarkeit & Risiken"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Haltbarkeitseinschtzung:"})," ",R.durabilityAndRisk.durability||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Bekannte Probleme:"})," ",((Js=R.durabilityAndRisk.commonIssues)==null?void 0:Js.join(", "))||"N/A"]}),S.jsxs("h3",{className:"text-lg font-semibold mt-4 mb-1",children:["eBay Suchbegriffe & Ergebnisse (",Uf,")"]}),It&&S.jsx(xi,{size:"sm",text:"Lade Suchbegriff-Ergebnisse..."}),(!r[(D==null?void 0:D.id)||""]||r[(D==null?void 0:D.id)||""].length===0)&&!It&&at&&S.jsx("p",{children:"Keine eBay Suchbegriffe definiert."}),r[(D==null?void 0:D.id)||""]&&r[(D==null?void 0:D.id)||""].length>0&&S.jsx("ul",{className:"list-disc pl-5 space-y-3",children:(r[(D==null?void 0:D.id)||""]||[]).map(ht=>{const yt=pe[ht];let Bt;if(yt!=null&&yt.loading)Bt=S.jsx(xi,{size:"sm",text:"Lade...",className:"inline-block ml-2"});else if(yt!=null&&yt.error)Bt=S.jsxs("span",{className:"text-red-500 ml-2",children:["Fehler: ",yt.error]});else if((yt==null?void 0:yt.value)===""||(yt==null?void 0:yt.value)===null)Bt=S.jsx("span",{className:"text-gray-500 ml-2 italic",children:"(Keine Ergebnisse oder ausstehend)"});else try{const pt=JSON.parse(yt.value);Array.isArray(pt)&&pt.length>0&&pt[0].hasOwnProperty("name")?Bt=S.jsxs("div",{className:"overflow-x-auto mt-1",children:[S.jsxs("table",{className:"min-w-full text-xs text-slate-700",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-2 py-1 text-left font-medium text-slate-700",children:"Name"}),S.jsx("th",{className:"px-2 py-1 text-left font-medium text-slate-700",children:"Verkaufsdatum"}),S.jsx("th",{className:"px-2 py-1 text-right font-medium text-slate-700",children:"Preis ()"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-100",children:pt.slice(0,5).map((mi,un)=>{var cn;return S.jsxs("tr",{children:[S.jsx("td",{className:"px-2 py-0.5 whitespace-normal break-words max-w-xs text-slate-700",children:mi.name}),S.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-slate-700",children:mi.sold_date}),S.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right text-slate-700",children:(cn=mi.price)==null?void 0:cn.toFixed(2)})]},un)})})]}),pt.length>5&&S.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["... ",pt.length-5," weitere."]})]}):Bt=S.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 whitespace-pre-wrap break-all",children:yt.value})}catch{Bt=S.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 whitespace-pre-wrap break-all",children:yt.value})}return S.jsxs("li",{children:[S.jsx("strong",{className:"font-mono bg-slate-100 px-1 py-0.5 rounded text-slate-700",children:ht}),":",Bt]},ht)})})]}),at&&!R&&!j&&!se&&S.jsx("p",{className:"text-orange-600 mt-4",children:"Marktanalyse-Daten nicht geladen."})]})]}),S.jsxs(rh,{title:"Teilwertschtzung (Gemini) & PDF",defaultOpen:!0,icon:S.jsx(Pa,{className:"w-6 h-6"}),children:[!de&&S.jsx("p",{className:"text-red-600",children:"Konfiguration (z.B. API Tokens) nicht geladen."}),de&&S.jsxs(S.Fragment,{children:[(Vt||xt||Si||bi)&&!et&&S.jsx("div",{className:"my-4 p-4 bg-sky-50 rounded-md",children:S.jsx(xi,{text:xt?"Lade gespeicherte Teilwertschtzung...":Si?"PDF wird in Cloud hochgeladen...":bi?"PDF wird lokal generiert...":"Verarbeite Teilwertschtzung & PDF..."})}),Vt&&S.jsx(Z1,{steps:hi,title:"Fortschritt der Teilwertschtzung & PDF Erstellung:"}),gn&&!Vt&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Fehler bei der Schtzung/PDF:"]}),S.jsx("p",{className:"text-sm",children:gn})]}),Ft&&!bi&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Fehler bei lokaler PDF Generierung:"]}),S.jsx("p",{className:"text-sm",children:Ft})]}),Rs&&!Si&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Fehler beim PDF Cloud Upload:"]}),S.jsx("p",{className:"text-sm",children:Rs})]}),ue&&!xt&&!et&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:ue})]}),Fs&&!Vt&&S.jsxs("div",{className:"my-4 p-4 bg-yellow-50 border border-yellow-300 rounded-md text-center",children:[S.jsx("p",{className:"mb-1 text-yellow-800",children:"Keine Teilwertschtzung vorhanden."}),!at&&S.jsx("p",{className:"text-xs text-yellow-700 mb-2",children:"(Hinweis: Marktanalyse zuerst durchfhren.)"}),S.jsx("div",{className:"mb-3",children:S.jsxs("label",{className:"flex items-center justify-center text-sm text-slate-700 cursor-pointer p-2 hover:bg-yellow-100 rounded-md",children:[S.jsx("input",{type:"checkbox",checked:Gt,onChange:ht=>As(ht.target.checked),className:"mr-2 h-4 w-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500","aria-label":"Schtzung trotz fehlender Daten erzwingen"}),"Schtzung trotz fehlender Daten erzwingen (Qualitt kann leiden)"]})}),S.jsxs("button",{onClick:()=>Ln(!1),disabled:!D||Vt||!de||!at&&!Gt,className:"px-4 py-2 bg-emerald-600 text-white font-semibold rounded-md hover:bg-emerald-700 disabled:opacity-50 flex items-center justify-center mx-auto",children:[S.jsx(Zm,{className:"w-5 h-5 mr-2"})," Teilwert jetzt schtzen & PDF erstellen/hochladen"]})]}),Fa&&!Vt&&S.jsxs("div",{className:"my-4 flex flex-col sm:flex-row flex-wrap gap-3 justify-center items-center",children:[S.jsxs("div",{className:"w-full sm:w-auto",children:[S.jsxs("label",{className:"flex items-center justify-center text-sm text-slate-700 mb-2 cursor-pointer p-2 hover:bg-slate-100 rounded-md",children:[S.jsx("input",{type:"checkbox",checked:Gt,onChange:ht=>As(ht.target.checked),className:"mr-2 h-4 w-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500","aria-label":"Schtzung trotz fehlender Daten erzwingen fr 'Neu erstellen'"}),'Schtzung trotz fehlender Daten erzwingen (fr "Neu erstellen")']}),S.jsxs("button",{onClick:()=>Ln(!0),disabled:!D||Vt||!de||Si||bi||!at&&!Gt,className:"w-full px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:[S.jsx(el,{className:"w-5 h-5 mr-2"})," Neu Erstellen (inkl. PDF)"]})]}),S.jsxs("button",{onClick:Ds,disabled:!D||Vt||!de||Si||bi,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(Xm,{className:"w-5 h-5 mr-2"})," Lschen"]}),S.jsxs("button",{onClick:Is,disabled:!D||Vt||!de||!et||Si||bi,className:"px-4 py-2 bg-teal-600 text-white font-semibold rounded-md hover:bg-teal-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(e7,{className:"w-5 h-5 mr-2"})," PDF Lokal Generieren & Downloaden"]}),S.jsxs("button",{onClick:qi,disabled:!D||Vt||!de||!et||Si||bi,className:"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(kS,{className:"w-5 h-5 mr-2"})," PDF Erneut zur Cloud Hochladen"]}),Gn&&S.jsxs("a",{href:Gn,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-cyan-600 text-white font-semibold rounded-md hover:bg-cyan-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(Qm,{className:"w-5 h-5 mr-2"})," PDF aus Cloud ffnen"]})]}),et&&!Vt&&S.jsxs("div",{className:"mt-4",children:[S.jsxs("h3",{className:"text-2xl font-bold text-emerald-700 my-3",children:["Geschtzter Teilwert: ",et.Teilwert.toFixed(2)]}),S.jsx("h4",{className:"text-md font-semibold mt-4 mb-1 text-slate-700",children:"Begrndung des Teilwerts:"}),S.jsx(e1,{content:et.Begruendung_Teilwert}),S.jsx("h4",{className:"text-md font-semibold mt-4 mb-1 text-slate-700",children:"Keepa Bericht:"}),S.jsx(e1,{content:et.keepa_Bericht}),S.jsx("h4",{className:"text-md font-semibold mt-4 mb-1 text-slate-700",children:"Fazit:"}),S.jsx(e1,{content:et.mlFazit})]}),yn&&!et&&!xt&&!ue&&!Vt&&S.jsx("p",{className:"text-orange-600 mt-4",children:"Gespeicherte Teilwert-Daten nicht geladen oder nicht vorhanden."})]})]})]})},kl=({title:n,value:e,icon:t,description:i,className:r=""})=>S.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 ${r}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:n}),t&&S.jsx("div",{className:"text-sky-500",children:t})]}),S.jsx("p",{className:"text-3xl font-bold text-sky-600 mb-1",children:e}),i&&S.jsx("p",{className:"text-sm text-slate-500",children:i})]}),h7=()=>{const{products:n,isLoading:e,error:t}=Hc(),i=ee.useMemo(()=>{if(n.length===0)return null;const r=n.length,s=n.map(Z=>Z.etv).filter(Z=>Z!=null),o=s.reduce((Z,Q)=>Z+Q,0),u=n.filter(Z=>Z.etv===0).length,c=n.filter(Z=>Z.etv!==void 0&&Z.etv!==null&&Z.etv>0).length,f=c>0?s.filter(Z=>Z>0).reduce((Z,Q)=>Z+Q,0)/c:0,h=n.map(Z=>Z.externalTeilwert).filter(Z=>Z!=null),y=h.length,b=h.filter(Z=>Z===0).length,x=h.reduce((Z,Q)=>Z+Q,0),N=y>0?x/y:0,T=n.map(Z=>Z.externalKeepaPrice).filter(Z=>Z!=null&&Z!==-1),M=T.length,k=n.filter(Z=>Z.externalKeepaPrice===void 0||Z.externalKeepaPrice===null||Z.externalKeepaPrice===-1).length,P=T.reduce((Z,Q)=>Z+Q,0),O=M>0?P/M:0,$=n.filter(Z=>!!Z.externalPdfUrl).length,q={};return n.forEach(Z=>{const Q=Z.externalSourceStatus||"N/A (Extern)";q[Q]=(q[Q]||0)+1}),{totalProducts:r,sumEtv:o,countEtvZero:u,countEtvPositive:c,avgEtvPositive:f,countWithExternalTeilwert:y,countExternalTeilwertZero:b,sumExternalTeilwert:x,avgExternalTeilwert:N,countWithExternalKeepa:M,countExternalKeepaMissingOrInvalid:k,avgExternalKeepa:O,countWithPdfLink:$,externalStatusCounts:q}},[n]);return e?S.jsx("div",{className:"flex justify-center items-center h-64",children:S.jsx(xi,{text:"Lade Statistiken..."})}):t?S.jsxs("div",{className:"text-center py-10 text-red-600",children:["Fehler beim Laden der Produktdaten fr Statistiken: ",t]}):i?S.jsxs("div",{className:"space-y-8",children:[S.jsxs("header",{className:"bg-white p-6 rounded-lg shadow-md",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[S.jsx(R2,{className:"w-8 h-8 mr-3 text-sky-600"}),"Datenstatistiken (aus externer Quelle)"]}),S.jsx("p",{className:"text-slate-600 mt-1",children:"bersicht der geladenen Produktdaten."})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[S.jsx(kl,{title:"Produkte Gesamt",value:i.totalProducts,icon:S.jsx(t7,{className:"w-8 h-8"})}),S.jsx(kl,{title:"Summe ETV",value:`${i.sumEtv.toFixed(2)}`,icon:S.jsx(Pa,{className:"w-8 h-8"}),description:`${i.countEtvPositive} Produkte mit ETV > 0`}),S.jsx(kl,{title:" ETV (fr ETV > 0)",value:`${i.avgEtvPositive.toFixed(2)}`,icon:S.jsx(Pa,{className:"w-8 h-8"}),description:`${i.countEtvZero} Produkte mit ETV = 0`}),S.jsx(kl,{title:"Mit ext. Teilwert",value:i.countWithExternalTeilwert,icon:S.jsx(_b,{className:"w-8 h-8"}),description:`davon ${i.countExternalTeilwertZero} mit Wert 0`}),S.jsx(kl,{title:"Summe ext. Teilwert",value:`${i.sumExternalTeilwert.toFixed(2)}`,icon:S.jsx(Pa,{className:"w-8 h-8"})}),S.jsx(kl,{title:" ext. Teilwert",value:`${i.avgExternalTeilwert.toFixed(2)}`,icon:S.jsx(Pa,{className:"w-8 h-8"})}),S.jsx(kl,{title:"Mit ext. Keepa Preis",value:i.countWithExternalKeepa,icon:S.jsx(_b,{className:"w-8 h-8"}),description:`${i.countExternalKeepaMissingOrInvalid} ohne/ungltig`}),S.jsx(kl,{title:" ext. Keepa Preis",value:`${i.avgExternalKeepa.toFixed(2)}`,icon:S.jsx(Pa,{className:"w-8 h-8"})}),S.jsx(kl,{title:"Mit PDF Link",value:i.countWithPdfLink,icon:S.jsx(Qm,{className:"w-8 h-8"})})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[S.jsx("h2",{className:"text-2xl font-semibold text-slate-700 mb-4",children:"Externe Statusverteilung"}),Object.keys(i.externalStatusCounts).length>0?S.jsx("ul",{className:"space-y-2",children:Object.entries(i.externalStatusCounts).sort(([,r],[,s])=>s-r).map(([r,s])=>S.jsxs("li",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-md hover:bg-slate-100 transition-colors",children:[S.jsx("span",{className:"text-slate-600",children:r}),S.jsx("span",{className:"font-semibold text-sky-600 bg-sky-100 px-2 py-0.5 rounded-full text-sm",children:s})]},r))}):S.jsx("p",{className:"text-slate-500",children:"Keine externen Statusdaten verfgbar."})]})]}):S.jsx("div",{className:"text-center py-10 text-gray-600",children:"Keine Produktdaten fr Statistiken verfgbar."})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Gh(n){return n+.5|0}const Ru=(n,e,t)=>Math.max(Math.min(n,t),e);function hh(n){return Ru(Gh(n*2.55),0,255)}function Bu(n){return Ru(Gh(n*255),0,255)}function Rl(n){return Ru(Gh(n/2.55)/100,0,1)}function Cb(n){return Ru(Gh(n*100),0,100)}const Ma={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},X1=[..."0123456789ABCDEF"],p7=n=>X1[n&15],m7=n=>X1[(n&240)>>4]+X1[n&15],im=n=>(n&240)>>4===(n&15),g7=n=>im(n.r)&&im(n.g)&&im(n.b)&&im(n.a);function y7(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ma[n[1]]*17,g:255&Ma[n[2]]*17,b:255&Ma[n[3]]*17,a:e===5?Ma[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ma[n[1]]<<4|Ma[n[2]],g:Ma[n[3]]<<4|Ma[n[4]],b:Ma[n[5]]<<4|Ma[n[6]],a:e===9?Ma[n[7]]<<4|Ma[n[8]]:255})),t}const v7=(n,e)=>n<255?e(n):"";function x7(n){var e=g7(n)?p7:m7;return n?"#"+e(n.r)+e(n.g)+e(n.b)+v7(n.a,e):void 0}const b7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function LS(n,e,t){const i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function w7(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function _7(n,e,t){const i=LS(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function S7(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function I2(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),u=(s+o)/2;let c,f,h;return s!==o&&(h=s-o,f=u>.5?h/(2-s-o):h/(s+o),c=S7(t,i,r,h,s),c=c*60+.5),[c|0,f||0,u]}function O2(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Bu)}function F2(n,e,t){return O2(LS,n,e,t)}function A7(n,e,t){return O2(_7,n,e,t)}function T7(n,e,t){return O2(w7,n,e,t)}function PS(n){return(n%360+360)%360}function C7(n){const e=b7.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?hh(+e[5]):Bu(+e[5]));const r=PS(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=A7(r,s,o):e[1]==="hsv"?i=T7(r,s,o):i=F2(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function N7(n,e){var t=I2(n);t[0]=PS(t[0]+e),t=F2(t),n.r=t[0],n.g=t[1],n.b=t[2]}function E7(n){if(!n)return;const e=I2(n),t=e[0],i=Cb(e[1]),r=Cb(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Rl(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Nb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Eb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function k7(){const n={},e=Object.keys(Eb),t=Object.keys(Nb);let i,r,s,o,u;for(i=0;i<e.length;i++){for(o=u=e[i],r=0;r<t.length;r++)s=t[r],u=u.replace(s,Nb[s]);s=parseInt(Eb[o],16),n[u]=[s>>16&255,s>>8&255,s&255]}return n}let rm;function M7(n){rm||(rm=k7(),rm.transparent=[0,0,0,0]);const e=rm[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const L7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function P7(n){const e=L7.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?hh(o):Ru(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?hh(i):Ru(i,0,255)),r=255&(e[4]?hh(r):Ru(r,0,255)),s=255&(e[6]?hh(s):Ru(s,0,255)),{r:i,g:r,b:s,a:t}}}function R7(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Rl(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const n1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Mf=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function D7(n,e,t){const i=Mf(Rl(n.r)),r=Mf(Rl(n.g)),s=Mf(Rl(n.b));return{r:Bu(n1(i+t*(Mf(Rl(e.r))-i))),g:Bu(n1(r+t*(Mf(Rl(e.g))-r))),b:Bu(n1(s+t*(Mf(Rl(e.b))-s))),a:n.a+t*(e.a-n.a)}}function sm(n,e,t){if(n){let i=I2(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=F2(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function RS(n,e){return n&&Object.assign(e||{},n)}function kb(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Bu(n[3]))):(e=RS(n,{r:0,g:0,b:0,a:1}),e.a=Bu(e.a)),e}function I7(n){return n.charAt(0)==="r"?P7(n):C7(n)}class Ph{constructor(e){if(e instanceof Ph)return e;const t=typeof e;let i;t==="object"?i=kb(e):t==="string"&&(i=y7(e)||M7(e)||I7(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=RS(this._rgb);return e&&(e.a=Rl(e.a)),e}set rgb(e){this._rgb=kb(e)}rgbString(){return this._valid?R7(this._rgb):void 0}hexString(){return this._valid?x7(this._rgb):void 0}hslString(){return this._valid?E7(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,u=2*o-1,c=i.a-r.a,f=((u*c===-1?u:(u+c)/(1+u*c))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=D7(this._rgb,e._rgb,t)),this}clone(){return new Ph(this.rgb)}alpha(e){return this._rgb.a=Bu(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Gh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return sm(this._rgb,2,e),this}darken(e){return sm(this._rgb,2,-e),this}saturate(e){return sm(this._rgb,1,e),this}desaturate(e){return sm(this._rgb,1,-e),this}rotate(e){return N7(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ml(){}const O7=(()=>{let n=0;return()=>n++})();function Mn(n){return n==null}function $i(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Rn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function yr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ha(n,e){return yr(n)?n:e}function dn(n,e){return typeof n>"u"?e:n}const F7=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,DS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function ki(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function ai(n,e,t,i){let r,s,o;if($i(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(Rn(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function eg(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function tg(n){if($i(n))return n.map(tg);if(Rn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=tg(n[t[r]]);return e}return n}function IS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function B7(n,e,t,i){if(!IS(n))return;const r=e[n],s=t[n];Rn(r)&&Rn(s)?Rh(r,s,i):e[n]=tg(s)}function Rh(n,e,t){const i=$i(e)?e:[e],r=i.length;if(!Rn(n))return n;t=t||{};const s=t.merger||B7;let o;for(let u=0;u<r;++u){if(o=i[u],!Rn(o))continue;const c=Object.keys(o);for(let f=0,h=c.length;f<h;++f)s(c[f],n,o,t)}return n}function Sh(n,e){return Rh(n,e,{merger:z7})}function z7(n,e,t){if(!IS(n))return;const i=e[n],r=t[n];Rn(i)&&Rn(r)?Sh(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=tg(r))}const Mb={"":n=>n,x:n=>n.x,y:n=>n.y};function j7(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function U7(n){const e=j7(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Vu(n,e){return(Mb[e]||(Mb[e]=U7(e)))(n)}function B2(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Dh=n=>typeof n<"u",qu=n=>typeof n=="function",Lb=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function V7(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Vi=Math.PI,Ui=2*Vi,q7=Ui+Vi,ng=Number.POSITIVE_INFINITY,H7=Vi/180,Lr=Vi/2,Sc=Vi/4,Pb=Vi*2/3,Du=Math.log10,Xo=Math.sign;function Ah(n,e,t){return Math.abs(n-e)<t}function Rb(n){const e=Math.round(n);n=Ah(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Du(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function G7(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function W7(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function nd(n){return!W7(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function K7(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function OS(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function oo(n){return n*(Vi/180)}function z2(n){return n*(180/Vi)}function Db(n){if(!yr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function FS(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*Vi&&(s+=Ui),{angle:s,distance:r}}function Q1(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Y7(n,e){return(n-e+q7)%Ui-Vi}function ma(n){return(n%Ui+Ui)%Ui}function Ih(n,e,t,i){const r=ma(n),s=ma(e),o=ma(t),u=ma(s-r),c=ma(o-r),f=ma(r-s),h=ma(r-o);return r===s||r===o||i&&s===o||u>c&&f<h}function Zr(n,e,t){return Math.max(e,Math.min(t,n))}function $7(n){return Zr(n,-32768,32767)}function Il(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function j2(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const Ol=(n,e,t,i)=>j2(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),J7=(n,e,t)=>j2(n,t,i=>n[i][e]>=t);function Z7(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const BS=["push","pop","shift","splice","unshift"];function X7(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),BS.forEach(t=>{const i="_onData"+B2(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...s)}),o}})})}function Ib(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(BS.forEach(s=>{delete n[s]}),delete n._chartjs)}function zS(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const jS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function US(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,jS.call(window,()=>{i=!1,n.apply(e,t)}))}}function Q7(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const U2=n=>n==="start"?"left":n==="end"?"right":"center",bs=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,e8=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function VS(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:u,_parsed:c}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=o.axis,{min:y,max:b,minDefined:x,maxDefined:N}=o.getUserBounds();if(x){if(r=Math.min(Ol(c,h,y).lo,t?i:Ol(e,h,o.getPixelForValue(y)).lo),f){const T=c.slice(0,r+1).reverse().findIndex(M=>!Mn(M[u.axis]));r-=Math.max(0,T)}r=Zr(r,0,i-1)}if(N){let T=Math.max(Ol(c,o.axis,b,!0).hi+1,t?0:Ol(e,h,o.getPixelForValue(b),!0).hi+1);if(f){const M=c.slice(T-1).findIndex(k=>!Mn(k[u.axis]));T+=Math.max(0,M)}s=Zr(T,r,i)-r}else s=i-r}return{start:r,count:s}}function qS(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const am=n=>n===0||n===1,Ob=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ui/t)),Fb=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ui/t)+1,Th={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Lr)+1,easeOutSine:n=>Math.sin(n*Lr),easeInOutSine:n=>-.5*(Math.cos(Vi*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>am(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>am(n)?n:Ob(n,.075,.3),easeOutElastic:n=>am(n)?n:Fb(n,.075,.3),easeInOutElastic(n){return am(n)?n:n<.5?.5*Ob(n*2,.1125,.45):.5+.5*Fb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Th.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Th.easeInBounce(n*2)*.5:Th.easeOutBounce(n*2-1)*.5+.5};function V2(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Bb(n){return V2(n)?n:new Ph(n)}function i1(n){return V2(n)?n:new Ph(n).saturate(.5).darken(.1).hexString()}const t8=["x","y","borderWidth","radius","tension"],n8=["color","borderColor","backgroundColor"];function i8(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:n8},numbers:{type:"number",properties:t8}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function r8(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zb=new Map;function s8(n,e){e=e||{};const t=n+JSON.stringify(e);let i=zb.get(t);return i||(i=new Intl.NumberFormat(n,e),zb.set(t,i)),i}function Wh(n,e,t){return s8(e,t).format(n)}const HS={values(n){return $i(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=a8(n,t)}const o=Du(Math.abs(s)),u=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),Wh(n,i,c)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Du(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?HS.numeric.call(this,n,e,t):""}};function a8(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var yg={formatters:HS};function o8(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Uc=Object.create(null),e2=Object.create(null);function Ch(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function r1(n,e,t){return typeof e=="string"?Rh(Ch(n,e),t):Rh(Ch(n,""),e)}class l8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>i1(r.backgroundColor),this.hoverBorderColor=(i,r)=>i1(r.borderColor),this.hoverColor=(i,r)=>i1(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return r1(this,e,t)}get(e){return Ch(this,e)}describe(e,t){return r1(e2,e,t)}override(e,t){return r1(Uc,e,t)}route(e,t,i,r){const s=Ch(this,e),o=Ch(this,i),u="_"+t;Object.defineProperties(s,{[u]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[u],f=o[r];return Rn(c)?Object.assign({},f,c):dn(c,f)},set(c){this[u]=c}}})}apply(e){e.forEach(t=>t(this))}}var Ji=new l8({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[i8,r8,o8]);function u8(n){return!n||Mn(n.size)||Mn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ig(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function c8(n,e,t,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const u=t.length;let c,f,h,y,b;for(c=0;c<u;c++)if(y=t[c],y!=null&&!$i(y))o=ig(n,r,s,o,y);else if($i(y))for(f=0,h=y.length;f<h;f++)b=y[f],b!=null&&!$i(b)&&(o=ig(n,r,s,o,b));n.restore();const x=s.length/2;if(x>t.length){for(c=0;c<x;c++)delete r[s[c]];s.splice(0,x)}return o}function Ac(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function jb(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function t2(n,e,t,i){GS(n,e,t,i,null)}function GS(n,e,t,i,r){let s,o,u,c,f,h,y,b;const x=e.pointStyle,N=e.rotation,T=e.radius;let M=(N||0)*H7;if(x&&typeof x=="object"&&(s=x.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(M),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(T)||T<=0)){switch(n.beginPath(),x){default:r?n.ellipse(t,i,r/2,T,0,0,Ui):n.arc(t,i,T,0,Ui),n.closePath();break;case"triangle":h=r?r/2:T,n.moveTo(t+Math.sin(M)*h,i-Math.cos(M)*T),M+=Pb,n.lineTo(t+Math.sin(M)*h,i-Math.cos(M)*T),M+=Pb,n.lineTo(t+Math.sin(M)*h,i-Math.cos(M)*T),n.closePath();break;case"rectRounded":f=T*.516,c=T-f,o=Math.cos(M+Sc)*c,y=Math.cos(M+Sc)*(r?r/2-f:c),u=Math.sin(M+Sc)*c,b=Math.sin(M+Sc)*(r?r/2-f:c),n.arc(t-y,i-u,f,M-Vi,M-Lr),n.arc(t+b,i-o,f,M-Lr,M),n.arc(t+y,i+u,f,M,M+Lr),n.arc(t-b,i+o,f,M+Lr,M+Vi),n.closePath();break;case"rect":if(!N){c=Math.SQRT1_2*T,h=r?r/2:c,n.rect(t-h,i-c,2*h,2*c);break}M+=Sc;case"rectRot":y=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-y,i-u),n.lineTo(t+b,i-o),n.lineTo(t+y,i+u),n.lineTo(t-b,i+o),n.closePath();break;case"crossRot":M+=Sc;case"cross":y=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o);break;case"star":y=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o),M+=Sc,y=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o);break;case"line":o=r?r/2:Math.cos(M)*T,u=Math.sin(M)*T,n.moveTo(t-o,i-u),n.lineTo(t+o,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(M)*(r?r/2:T),i+Math.sin(M)*T);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Fl(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function vg(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function xg(n){n.restore()}function f8(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function d8(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function h8(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Mn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function p8(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,u=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,f=t+s.actualBoundingBoxDescent,h=r.strikethrough?(c+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,h),n.lineTo(u,h),n.stroke()}}function m8(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Vc(n,e,t,i,r,s={}){const o=$i(e)?e:[e],u=s.strokeWidth>0&&s.strokeColor!=="";let c,f;for(n.save(),n.font=r.string,h8(n,s),c=0;c<o.length;++c)f=o[c],s.backdrop&&m8(n,s.backdrop),u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Mn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,t,i,s.maxWidth)),n.fillText(f,t,i,s.maxWidth),p8(n,t,i,f,s),i+=Number(r.lineHeight);n.restore()}function Oh(n,e){const{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Vi,Vi,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Vi,Lr,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Lr,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-Lr,!0),n.lineTo(t+o.topLeft,i)}const g8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,y8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function v8(n,e){const t=(""+n).match(g8);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const x8=n=>+n||0;function q2(n,e){const t={},i=Rn(e),r=i?Object.keys(e):e,s=Rn(n)?i?o=>dn(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=x8(s(o));return t}function WS(n){return q2(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Oc(n){return q2(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ss(n){const e=WS(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qr(n,e){n=n||{},e=e||Ji.font;let t=dn(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=dn(n.style,e.style);i&&!(""+i).match(y8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:dn(n.family,e.family),lineHeight:v8(dn(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:dn(n.weight,e.weight),string:""};return r.string=u8(r),r}function ph(n,e,t,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function b8(n,e,t){const{min:i,max:r}=n,s=DS(e,(r-i)/2),o=(u,c)=>t&&u===0?0:u+c;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Ku(n,e){return Object.assign(Object.create(n),e)}function H2(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=JS("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:u=>H2([u,...n],e,s,i)};return new Proxy(o,{deleteProperty(u,c){return delete u[c],delete u._keys,delete n[0][c],!0},get(u,c){return YS(u,c,()=>E8(c,e,n,u))},getOwnPropertyDescriptor(u,c){return Reflect.getOwnPropertyDescriptor(u._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,c){return Vb(u).includes(c)},ownKeys(u){return Vb(u)},set(u,c,f){const h=u._storage||(u._storage=r());return u[c]=h[c]=f,delete u._keys,!0}})}function id(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:KS(n,i),setContext:s=>id(n,s,t,i),override:s=>id(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,u){return YS(s,o,()=>_8(s,o,u))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,u){return n[o]=u,delete s[o],!0}})}function KS(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:qu(t)?t:()=>t,isIndexable:qu(i)?i:()=>i}}const w8=(n,e)=>n?n+B2(e):e,G2=(n,e)=>Rn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function YS(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function _8(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let u=i[e];return qu(u)&&o.isScriptable(e)&&(u=S8(e,u,n,t)),$i(u)&&u.length&&(u=A8(e,u,n,o.isIndexable)),G2(e,u)&&(u=id(u,r,s&&s[e],o)),u}function S8(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let c=e(s,o||i);return u.delete(n),G2(n,c)&&(c=W2(r._scopes,r,n,c)),c}function A8(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:u}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(Rn(e[0])){const c=e,f=r._scopes.filter(h=>h!==c);e=[];for(const h of c){const y=W2(f,r,n,h);e.push(id(y,s,o&&o[n],u))}}return e}function $S(n,e,t){return qu(n)?n(e,t):n}const T8=(n,e)=>n===!0?e:typeof n=="string"?Vu(e,n):void 0;function C8(n,e,t,i,r){for(const s of e){const o=T8(t,s);if(o){n.add(o);const u=$S(o._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function W2(n,e,t,i){const r=e._rootScopes,s=$S(e._fallback,t,i),o=[...n,...r],u=new Set;u.add(i);let c=Ub(u,o,t,s||t,i);return c===null||typeof s<"u"&&s!==t&&(c=Ub(u,o,s,c,i),c===null)?!1:H2(Array.from(u),[""],r,s,()=>N8(e,t,i))}function Ub(n,e,t,i,r){for(;t;)t=C8(n,e,t,i,r);return t}function N8(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return $i(r)&&Rn(t)?t:r||{}}function E8(n,e,t,i){let r;for(const s of e)if(r=JS(w8(s,n),t),typeof r<"u")return G2(n,r)?W2(t,i,n,r):r}function JS(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Vb(n){let e=n._keys;return e||(e=n._keys=k8(n._scopes)),e}function k8(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function ZS(n,e,t,i){const{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i);let u,c,f,h;for(u=0,c=i;u<c;++u)f=u+t,h=e[f],o[u]={r:r.parse(Vu(h,s),f)};return o}const M8=Number.EPSILON||1e-14,rd=(n,e)=>e<n.length&&!n[e].skip&&n[e],XS=n=>n==="x"?"y":"x";function L8(n,e,t,i){const r=n.skip?e:n,s=e,o=t.skip?e:t,u=Q1(s,r),c=Q1(o,s);let f=u/(u+c),h=c/(u+c);f=isNaN(f)?0:f,h=isNaN(h)?0:h;const y=i*f,b=i*h;return{previous:{x:s.x-y*(o.x-r.x),y:s.y-y*(o.y-r.y)},next:{x:s.x+b*(o.x-r.x),y:s.y+b*(o.y-r.y)}}}function P8(n,e,t){const i=n.length;let r,s,o,u,c,f=rd(n,0);for(let h=0;h<i-1;++h)if(c=f,f=rd(n,h+1),!(!c||!f)){if(Ah(e[h],0,M8)){t[h]=t[h+1]=0;continue}r=t[h]/e[h],s=t[h+1]/e[h],u=Math.pow(r,2)+Math.pow(s,2),!(u<=9)&&(o=3/Math.sqrt(u),t[h]=r*o*e[h],t[h+1]=s*o*e[h])}}function R8(n,e,t="x"){const i=XS(t),r=n.length;let s,o,u,c=rd(n,0);for(let f=0;f<r;++f){if(o=u,u=c,c=rd(n,f+1),!u)continue;const h=u[t],y=u[i];o&&(s=(h-o[t])/3,u[`cp1${t}`]=h-s,u[`cp1${i}`]=y-s*e[f]),c&&(s=(c[t]-h)/3,u[`cp2${t}`]=h+s,u[`cp2${i}`]=y+s*e[f])}}function D8(n,e="x"){const t=XS(e),i=n.length,r=Array(i).fill(0),s=Array(i);let o,u,c,f=rd(n,0);for(o=0;o<i;++o)if(u=c,c=f,f=rd(n,o+1),!!c){if(f){const h=f[e]-c[e];r[o]=h!==0?(f[t]-c[t])/h:0}s[o]=u?f?Xo(r[o-1])!==Xo(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}P8(n,r,s),R8(n,s,e)}function om(n,e,t){return Math.max(Math.min(n,t),e)}function I8(n,e){let t,i,r,s,o,u=Fl(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=u,u=t<i-1&&Fl(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=om(r.cp1x,e.left,e.right),r.cp1y=om(r.cp1y,e.top,e.bottom)),u&&(r.cp2x=om(r.cp2x,e.left,e.right),r.cp2y=om(r.cp2y,e.top,e.bottom)))}function O8(n,e,t,i,r){let s,o,u,c;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")D8(n,r);else{let f=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)u=n[s],c=L8(f,u,n[Math.min(s+1,o-(i?0:1))%o],e.tension),u.cp1x=c.previous.x,u.cp1y=c.previous.y,u.cp2x=c.next.x,u.cp2y=c.next.y,f=u}e.capBezierPoints&&I8(n,t)}function K2(){return typeof window<"u"&&typeof document<"u"}function Y2(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function rg(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const bg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function F8(n,e){return bg(n).getPropertyValue(e)}const B8=["top","right","bottom","left"];function Fc(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=B8[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const z8=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function j8(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,u,c;if(z8(r,s,n.target))u=r,c=s;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,c=i.clientY-f.top,o=!0}return{x:u,y:c,box:o}}function kc(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=bg(t),s=r.boxSizing==="border-box",o=Fc(r,"padding"),u=Fc(r,"border","width"),{x:c,y:f,box:h}=j8(n,t),y=o.left+(h&&u.left),b=o.top+(h&&u.top);let{width:x,height:N}=e;return s&&(x-=o.width+u.width,N-=o.height+u.height),{x:Math.round((c-y)/x*t.width/i),y:Math.round((f-b)/N*t.height/i)}}function U8(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&Y2(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),u=bg(s),c=Fc(u,"border","width"),f=Fc(u,"padding");e=o.width-f.width-c.width,t=o.height-f.height-c.height,i=rg(u.maxWidth,s,"clientWidth"),r=rg(u.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||ng,maxHeight:r||ng}}const lm=n=>Math.round(n*10)/10;function V8(n,e,t,i){const r=bg(n),s=Fc(r,"margin"),o=rg(r.maxWidth,n,"clientWidth")||ng,u=rg(r.maxHeight,n,"clientHeight")||ng,c=U8(n,e,t);let{width:f,height:h}=c;if(r.boxSizing==="content-box"){const b=Fc(r,"border","width"),x=Fc(r,"padding");f-=x.width+b.width,h-=x.height+b.height}return f=Math.max(0,f-s.width),h=Math.max(0,i?f/i:h-s.height),f=lm(Math.min(f,o,c.maxWidth)),h=lm(Math.min(h,u,c.maxHeight)),f&&!h&&(h=lm(f/2)),(e!==void 0||t!==void 0)&&i&&c.height&&h>c.height&&(h=c.height,f=lm(Math.floor(h*i))),{width:f,height:h}}function qb(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const q8=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};K2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Hb(n,e){const t=F8(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Mc(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function H8(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function G8(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Mc(n,r,t),u=Mc(r,s,t),c=Mc(s,e,t),f=Mc(o,u,t),h=Mc(u,c,t);return Mc(f,h,t)}const W8=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},K8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function $f(n,e,t){return n?W8(e,t):K8()}function QS(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function eA(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function tA(n){return n==="angle"?{between:Ih,compare:Y7,normalize:ma}:{between:Il,compare:(e,t)=>e-t,normalize:e=>e}}function Gb({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function Y8(n,e,t){const{property:i,start:r,end:s}=t,{between:o,normalize:u}=tA(i),c=e.length;let{start:f,end:h,loop:y}=n,b,x;if(y){for(f+=c,h+=c,b=0,x=c;b<x&&o(u(e[f%c][i]),r,s);++b)f--,h--;f%=c,h%=c}return h<f&&(h+=c),{start:f,end:h,loop:y,style:n.style}}function nA(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,o=e.length,{compare:u,between:c,normalize:f}=tA(i),{start:h,end:y,loop:b,style:x}=Y8(n,e,t),N=[];let T=!1,M=null,k,P,O;const $=()=>c(r,O,k)&&u(r,O)!==0,q=()=>u(s,k)===0||c(s,O,k),Z=()=>T||$(),Q=()=>!T||q();for(let V=h,X=h;V<=y;++V)P=e[V%o],!P.skip&&(k=f(P[i]),k!==O&&(T=c(k,r,s),M===null&&Z()&&(M=u(k,r)===0?V:X),M!==null&&Q()&&(N.push(Gb({start:M,end:V,loop:b,count:o,style:x})),M=null),X=V,O=k));return M!==null&&N.push(Gb({start:M,end:y,loop:b,count:o,style:x})),N}function iA(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=nA(i[r],n.points,e);s.length&&t.push(...s)}return t}function $8(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function J8(n,e,t,i){const r=n.length,s=[];let o=e,u=n[e],c;for(c=e+1;c<=t;++c){const f=n[c%r];f.skip||f.stop?u.skip||(i=!1,s.push({start:e%r,end:(c-1)%r,loop:i}),e=o=f.stop?c:null):(o=c,u.skip&&(e=c)),u=f}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function Z8(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:o,end:u}=$8(t,r,s,i);if(i===!0)return Wb(n,[{start:o,end:u,loop:s}],t,e);const c=u<o?u+r:u,f=!!n._fullLoop&&o===0&&u===r-1;return Wb(n,J8(t,o,c,f),t,e)}function Wb(n,e,t,i){return!i||!i.setContext||!t?e:X8(n,e,t,i)}function X8(n,e,t,i){const r=n._chart.getContext(),s=Kb(n.options),{_datasetIndex:o,options:{spanGaps:u}}=n,c=t.length,f=[];let h=s,y=e[0].start,b=y;function x(N,T,M,k){const P=u?-1:1;if(N!==T){for(N+=c;t[N%c].skip;)N-=P;for(;t[T%c].skip;)T+=P;N%c!==T%c&&(f.push({start:N%c,end:T%c,loop:M,style:k}),h=k,y=T%c)}}for(const N of e){y=u?y:N.start;let T=t[y%c],M;for(b=y+1;b<=N.end;b++){const k=t[b%c];M=Kb(i.setContext(Ku(r,{type:"segment",p0:T,p1:k,p0DataIndex:(b-1)%c,p1DataIndex:b%c,datasetIndex:o}))),Q8(M,h)&&x(y,b-1,N.loop,h),T=k,h=M}y<b-1&&x(y,b-1,N.loop,h)}return f}function Kb(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Q8(n,e){if(!e)return!1;const t=[],i=function(r,s){return V2(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function um(n,e,t){return n.options.clip?n[t]:e[t]}function eI(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:um(t,e,"left"),right:um(t,e,"right"),top:um(i,e,"top"),bottom:um(i,e,"bottom")}:e}function rA(n,e){const t=e._clip;if(t.disabled)return!1;const i=eI(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class tI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],o=t.duration;s.forEach(u=>u({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=jS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,u=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),u=!0):(s[o]=s[s.length-1],s.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ll=new tI;const Yb="transparent",nI={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Bb(n||Yb),r=i.valid&&Bb(e||Yb);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class iI{constructor(e,t,i,r){const s=t[i];r=ph([e.to,r,s,e.from]);const o=ph([e.from,s,r]);this._active=!0,this._fn=e.fn||nI[e.type||typeof o],this._easing=Th[e.easing]||Th.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ph([e.to,t,r,e.from]),this._from=ph([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,u=this._to;let c;if(this._active=s!==u&&(o||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=s;return}c=t/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,u,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class sA{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Rn(e))return;const t=Object.keys(Ji.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Rn(s))return;const o={};for(const u of t)o[u]=s[u];($i(s.properties)&&s.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,o)})})}_animateOptions(e,t){const i=t.options,r=sI(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&rI(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),u=Date.now();let c;for(c=o.length-1;c>=0;--c){const f=o[c];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const h=t[f];let y=s[f];const b=i.get(f);if(y)if(b&&y.active()){y.update(b,h,u);continue}else y.cancel();if(!b||!b.duration){e[f]=h;continue}s[f]=y=new iI(b,e,f,h),r.push(y)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Ll.add(this._chart,i),!0}}function rI(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function sI(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function $b(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function aI(n,e,t){if(t===!1)return!1;const i=$b(n,t),r=$b(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function oI(n){let e,t,i,r;return Rn(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function aA(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function Jb(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let o,u,c,f;if(e===null)return;let h=!1;for(o=0,u=r.length;o<u;++o){if(c=+r[o],c===t){if(h=!0,i.all)continue;break}f=n.values[c],yr(f)&&(s||e===0||Xo(e)===Xo(f))&&(e+=f)}return!h&&!i.all?0:e}function lI(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),u=new Array(o.length);let c,f,h;for(c=0,f=o.length;c<f;++c)h=o[c],u[c]={[r]:h,[s]:n[h]};return u}function s1(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function uI(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function cI(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function fI(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Zb(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function Xb(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:u}=i,c=s.axis,f=o.axis,h=uI(s,o,i),y=e.length;let b;for(let x=0;x<y;++x){const N=e[x],{[c]:T,[f]:M}=N,k=N._stacks||(N._stacks={});b=k[f]=fI(r,h,T),b[u]=M,b._top=Zb(b,o,!0,i.type),b._bottom=Zb(b,o,!1,i.type);const P=b._visualValues||(b._visualValues={});P[u]=M}}function a1(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function dI(n,e){return Ku(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hI(n,e,t){return Ku(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function sh(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const o1=n=>n==="reset"||n==="none",Qb=(n,e)=>e?n:Object.assign({},n),pI=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:aA(t,!0),values:null};class uo{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=s1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&sh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(y,b,x,N)=>y==="x"?b:y==="r"?N:x,s=t.xAxisID=dn(i.xAxisID,a1(e,"x")),o=t.yAxisID=dn(i.yAxisID,a1(e,"y")),u=t.rAxisID=dn(i.rAxisID,a1(e,"r")),c=t.indexAxis,f=t.iAxisID=r(c,s,o,u),h=t.vAxisID=r(c,o,s,u);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ib(this._data,this),e._stacked&&sh(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Rn(t)){const r=this._cachedMeta;this._data=lI(t,r)}else if(i!==t){if(i){Ib(i,this);const r=this._cachedMeta;sh(r),r._parsed=[]}t&&Object.isExtensible(t)&&X7(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=s1(t.vScale,t),t.stack!==i.stack&&(r=!0,sh(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(Xb(this,t._parsed),t._stacked=s1(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,u=s.axis;let c=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],h,y,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{$i(r[e])?b=this.parseArrayData(i,r,e,t):Rn(r[e])?b=this.parseObjectData(i,r,e,t):b=this.parsePrimitiveData(i,r,e,t);const x=()=>y[u]===null||f&&y[u]<f[u];for(h=0;h<t;++h)i._parsed[h+e]=y=b[h],c&&(x()&&(c=!1),f=y);i._sorted=c}o&&Xb(this,b)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:o}=e,u=s.axis,c=o.axis,f=s.getLabels(),h=s===o,y=new Array(r);let b,x,N;for(b=0,x=r;b<x;++b)N=b+i,y[b]={[u]:h||s.parse(f[N],N),[c]:o.parse(t[N],N)};return y}parseArrayData(e,t,i,r){const{xScale:s,yScale:o}=e,u=new Array(r);let c,f,h,y;for(c=0,f=r;c<f;++c)h=c+i,y=t[h],u[c]={x:s.parse(y[0],h),y:o.parse(y[1],h)};return u}parseObjectData(e,t,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=new Array(r);let h,y,b,x;for(h=0,y=r;h<y;++h)b=h+i,x=t[b],f[h]={x:s.parse(Vu(x,u),b),y:o.parse(Vu(x,c),b)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,o=t[e.axis],u={keys:aA(r,!0),values:t._stacks[e.axis]._visualValues};return Jb(u,o,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let o=s===null?NaN:s;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,o=Jb(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,u=this._getOtherScale(e),c=pI(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:y}=cI(u);let b,x;function N(){x=r[b];const T=x[u.axis];return!yr(x[e.axis])||h>T||y<T}for(b=0;b<o&&!(!N()&&(this.updateRangeFromParsed(f,e,x,c),s));++b);if(s){for(b=o-1;b>=0;--b)if(!N()){this.updateRangeFromParsed(f,e,x,c);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=t.length;r<s;++r)o=t[r][e.axis],yr(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=oI(dn(this.options.clip,aI(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,o=[],u=this._drawStart||0,c=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,u,c),h=u;h<u+c;++h){const y=r[h];y.hidden||(y.active&&f?o.push(y):y.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=hI(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=dI(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,o=e+"-"+t,u=s[o],c=this.enableOptionSharing&&Dh(i);if(u)return Qb(u,c);const f=this.chart.config,h=f.datasetElementScopeKeys(this._type,e),y=r?[`${e}Hover`,"hover",e,""]:[e,""],b=f.getOptionScopes(this.getDataset(),h),x=Object.keys(Ji.elements[e]),N=()=>this.getContext(i,r,t),T=f.resolveNamedOptions(b,x,N,y);return T.$shared&&(T.$shared=c,s[o]=Object.freeze(Qb(T,c))),T}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,u=s[o];if(u)return u;let c;if(r.options.animation!==!1){const h=this.chart.config,y=h.datasetAnimationScopeKeys(this._type,t),b=h.getOptionScopes(this.getDataset(),y);c=h.createResolver(b,this.getContext(e,i,t))}const f=new sA(r,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||o1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:o}}updateElement(e,t,i,r){o1(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!o1(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,c,f]of this._syncList)this[u](c,f);this._syncList=[];const r=i.length,s=t.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,o=e+t;let u;const c=f=>{for(f.length+=t,u=f.length-1;u>=o;u--)f[u]=f[u-t]};for(c(s),u=e;u<o;++u)s[u]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&sh(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ct(uo,"defaults",{}),ct(uo,"datasetElementType",null),ct(uo,"dataElementType",null);function mI(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=zS(i.sort((r,s)=>r-s))}return n._cache.$bar}function gI(n){const e=n.iScale,t=mI(e,n.type);let i=e._length,r,s,o,u;const c=()=>{o===32767||o===-32768||(Dh(u)&&(i=Math.min(i,Math.abs(o-u)||i)),u=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),c();for(u=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),c();return i}function yI(n,e,t,i){const r=t.barThickness;let s,o;return Mn(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}function vI(n,e,t,i){const r=e.pixels,s=r[n];let o=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const c=t.categoryPercentage;o===null&&(o=s-(u===null?e.end-e.start:u-s)),u===null&&(u=s+s-o);const f=s-(s-Math.min(o,u))/2*c;return{chunk:Math.abs(u-o)/2*c/i,ratio:t.barPercentage,start:f}}function xI(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),u=Math.max(r,s);let c=o,f=u;Math.abs(o)>Math.abs(u)&&(c=u,f=o),e[t.axis]=f,e._custom={barStart:c,barEnd:f,start:r,end:s,min:o,max:u}}function oA(n,e,t,i){return $i(n)?xI(n,e,t,i):e[t.axis]=t.parse(n,i),e}function ew(n,e,t,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),u=r===s,c=[];let f,h,y,b;for(f=t,h=t+i;f<h;++f)b=e[f],y={},y[r.axis]=u||r.parse(o[f],f),c.push(oA(b,y,s,f));return c}function l1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function bI(n,e,t){return n!==0?Xo(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function wI(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function _I(n,e,t,i){let r=e.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:u,reverse:c,top:f,bottom:h}=wI(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=f:(t._bottom||0)===i?r=h:(s[tw(h,o,u,c)]=!0,r=f)),s[tw(r,o,u,c)]=!0,n.borderSkipped=s}function tw(n,e,t,i){return i?(n=SI(n,e,t),n=nw(n,t,e)):n=nw(n,e,t),n}function SI(n,e,t){return n===e?t:n===t?e:n}function nw(n,e,t){return n==="start"?e:n==="end"?t:n}function AI(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Em extends uo{parsePrimitiveData(e,t,i,r){return ew(e,t,i,r)}parseArrayData(e,t,i,r){return ew(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=s.axis==="x"?u:c,h=o.axis==="x"?u:c,y=[];let b,x,N,T;for(b=i,x=i+r;b<x;++b)T=t[b],N={},N[s.axis]=s.parse(Vu(T,f),b),y.push(oA(Vu(T,h),N,o,b));return y}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,s=this.getParsed(e),o=s._custom,u=l1(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:u}}=this,c=u.getBasePixel(),f=u.isHorizontal(),h=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(t,r);for(let x=t;x<t+i;x++){const N=this.getParsed(x),T=s||Mn(N[u.axis])?{base:c,head:c}:this._calculateBarValuePixels(x),M=this._calculateBarIndexPixels(x,h),k=(N._stacks||{})[u.axis],P={horizontal:f,base:T.base,enableBorderRadius:!k||l1(N._custom)||o===k._top||o===k._bottom,x:f?T.head:M.center,y:f?M.center:T.head,height:f?M.size:Math.abs(T.size),width:f?Math.abs(T.size):M.size};b&&(P.options=y||this.resolveDataElementOptions(x,e[x].active?"active":r));const O=P.options||e[x].options;_I(P,O,k,o),AI(P,O,h.ratio),this.updateElement(e[x],x,P,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,o=[],u=this._cachedMeta.controller.getParsed(t),c=u&&u[i.axis],f=h=>{const y=h._parsed.find(x=>x[i.axis]===c),b=y&&y[h.vScale.axis];if(Mn(b)||isNaN(b))return!0};for(const h of r)if(!(t!==void 0&&f(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const r=this._getStacks(e,i),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let s,o;for(s=0,o=t.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const u=e.barThickness;return{min:u||gI(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,u=s||0,c=this.getParsed(e),f=c._custom,h=l1(f);let y=c[t.axis],b=0,x=i?this.applyStack(t,c,i):y,N,T;x!==y&&(b=x-y,x=y),h&&(y=f.barStart,x=f.barEnd-f.barStart,y!==0&&Xo(y)!==Xo(f.barEnd)&&(b=0),b+=y);const M=!Mn(s)&&!h?s:b;let k=t.getPixelForValue(M);if(this.chart.getDataVisibility(e)?N=t.getPixelForValue(b+x):N=k,T=N-k,Math.abs(T)<o){T=bI(T,t,u)*o,y===u&&(k-=T/2);const P=t.getPixelForDecimal(0),O=t.getPixelForDecimal(1),$=Math.min(P,O),q=Math.max(P,O);k=Math.max(Math.min(k,q),$),N=k+T,i&&!h&&(c._stacks[t.axis]._visualValues[r]=t.getValueForPixel(N)-t.getValueForPixel(k))}if(k===t.getPixelForValue(u)){const P=Xo(T)*t.getLineWidthForValue(u)/2;k+=P,T-=P}return{size:T,base:k,head:N,center:N+T/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,s=r.skipNull,o=dn(r.maxBarThickness,1/0);let u,c;if(t.grouped){const f=s?this._getStackCount(e):t.stackCount,h=r.barThickness==="flex"?vI(e,t,r,f):yI(e,t,r,f),y=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);u=h.start+h.chunk*y+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(o,t.min*t.ratio);return{base:u-c/2,head:u+c/2,center:u,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}ct(Em,"id","bar"),ct(Em,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ct(Em,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class km extends uo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,r){const s=super.parsePrimitiveData(e,t,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,t,i,r){const s=super.parseArrayData(e,t,i,r);for(let o=0;o<s.length;o++){const u=t[i+o];s[o]._custom=dn(u[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,t,i,r){const s=super.parseObjectData(e,t,i,r);for(let o=0;o<s.length;o++){const u=t[i+o];s[o]._custom=dn(u&&u.r&&+u.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=t,o=this.getParsed(e),u=r.getLabelForValue(o.x),c=s.getLabelForValue(o.y),f=o._custom;return{label:i[e]||"",value:"("+u+", "+c+(f?", "+f:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:u}=this._cachedMeta,{sharedOptions:c,includeOptions:f}=this._getSharedOptions(t,r),h=o.axis,y=u.axis;for(let b=t;b<t+i;b++){const x=e[b],N=!s&&this.getParsed(b),T={},M=T[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(N[h]),k=T[y]=s?u.getBasePixel():u.getPixelForValue(N[y]);T.skip=isNaN(M)||isNaN(k),f&&(T.options=c||this.resolveDataElementOptions(b,x.active?"active":r),s&&(T.options.radius=0)),this.updateElement(x,b,T,r)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return t!=="active"&&(r.radius=0),r.radius+=dn(i&&i._custom,s),r}}ct(km,"id","bubble"),ct(km,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ct(km,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function TI(n,e,t){let i=1,r=1,s=0,o=0;if(e<Ui){const u=n,c=u+e,f=Math.cos(u),h=Math.sin(u),y=Math.cos(c),b=Math.sin(c),x=(O,$,q)=>Ih(O,u,c,!0)?1:Math.max($,$*t,q,q*t),N=(O,$,q)=>Ih(O,u,c,!0)?-1:Math.min($,$*t,q,q*t),T=x(0,f,y),M=x(Lr,h,b),k=N(Vi,f,y),P=N(Vi+Lr,h,b);i=(T-k)/2,r=(M-P)/2,s=-(T+k)/2,o=-(M+P)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Rc extends uo{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=c=>+i[c];if(Rn(i[e])){const{key:c="value"}=this._parsing;s=f=>+Vu(i[f],c)}let o,u;for(o=e,u=e+t;o<u;++o)r._parsed[o]=s(o)}}_getRotation(){return oo(this.options.rotation-90)}_getCircumference(){return oo(this.options.circumference)}_getRotationExtents(){let e=Ui,t=-Ui;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(F7(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:h,rotation:y}=this._getRotationExtents(),{ratioX:b,ratioY:x,offsetX:N,offsetY:T}=TI(y,h,c),M=(i.width-o)/b,k=(i.height-o)/x,P=Math.max(Math.min(M,k)/2,0),O=DS(this.options.radius,P),$=Math.max(O*c,0),q=(O-$)/this._getVisibleDatasetWeightTotal();this.offsetX=N*O,this.offsetY=T*O,r.total=this.calculateTotal(),this.outerRadius=O-q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-q*f,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Ui)}updateElements(e,t,i,r){const s=r==="reset",o=this.chart,u=o.chartArea,f=o.options.animation,h=(u.left+u.right)/2,y=(u.top+u.bottom)/2,b=s&&f.animateScale,x=b?0:this.innerRadius,N=b?0:this.outerRadius,{sharedOptions:T,includeOptions:M}=this._getSharedOptions(t,r);let k=this._getRotation(),P;for(P=0;P<t;++P)k+=this._circumference(P,s);for(P=t;P<t+i;++P){const O=this._circumference(P,s),$=e[P],q={x:h+this.offsetX,y:y+this.offsetY,startAngle:k,endAngle:k+O,circumference:O,outerRadius:N,innerRadius:x};M&&(q.options=T||this.resolveDataElementOptions(P,$.active?"active":r)),k+=O,this.updateElement($,P,q,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ui*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Wh(t._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,s,o,u,c;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,u=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)c=u.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(dn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ct(Rc,"id","doughnut"),ct(Rc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ct(Rc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ct(Rc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Mm extends uo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:u,count:c}=VS(t,r,o);this._drawStart=u,this._drawCount=c,qS(t)&&(u=0,c=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:f},e),this.updateElements(r,u,c,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:u,_stacked:c,_dataset:f}=this._cachedMeta,{sharedOptions:h,includeOptions:y}=this._getSharedOptions(t,r),b=o.axis,x=u.axis,{spanGaps:N,segment:T}=this.options,M=nd(N)?N:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||s||r==="none",P=t+i,O=e.length;let $=t>0&&this.getParsed(t-1);for(let q=0;q<O;++q){const Z=e[q],Q=k?Z:{};if(q<t||q>=P){Q.skip=!0;continue}const V=this.getParsed(q),X=Mn(V[x]),le=Q[b]=o.getPixelForValue(V[b],q),z=Q[x]=s||X?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,V,c):V[x],q);Q.skip=isNaN(le)||isNaN(z)||X,Q.stop=q>0&&Math.abs(V[b]-$[b])>M,T&&(Q.parsed=V,Q.raw=f.data[q]),y&&(Q.options=h||this.resolveDataElementOptions(q,Z.active?"active":r)),k||this.updateElement(Z,q,Q,r),$=V}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ct(Mm,"id","line"),ct(Mm,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ct(Mm,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Nh extends uo{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Wh(t._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,i,r){return ZS.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),u=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,t,i,r){const s=r==="reset",o=this.chart,c=o.options.animation,f=this._cachedMeta.rScale,h=f.xCenter,y=f.yCenter,b=f.getIndexAngle(0)-.5*Vi;let x=b,N;const T=360/this.countVisibleElements();for(N=0;N<t;++N)x+=this._computeAngle(N,r,T);for(N=t;N<t+i;N++){const M=e[N];let k=x,P=x+this._computeAngle(N,r,T),O=o.getDataVisibility(N)?f.getDistanceFromCenterForValue(this.getParsed(N).r):0;x=P,s&&(c.animateScale&&(O=0),c.animateRotate&&(k=P=b));const $={x:h,y,innerRadius:0,outerRadius:O,startAngle:k,endAngle:P,options:this.resolveDataElementOptions(N,M.active?"active":r)};this.updateElement(M,N,$,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?oo(this.resolveDataElementOptions(e,t).angle||i):0}}ct(Nh,"id","polarArea"),ct(Nh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ct(Nh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class n2 extends Rc{}ct(n2,"id","pie"),ct(n2,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Lm extends uo{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,r){return ZS.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta,i=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const u={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,u,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let u=t;u<t+i;u++){const c=e[u],f=this.resolveDataElementOptions(u,c.active?"active":r),h=s.getPointPositionForValue(u,this.getParsed(u).r),y=o?s.xCenter:h.x,b=o?s.yCenter:h.y,x={x:y,y:b,angle:h.angle,skip:isNaN(y)||isNaN(b),options:f};this.updateElement(c,u,x,r)}}}ct(Lm,"id","radar"),ct(Lm,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ct(Lm,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Pm extends uo{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=t,o=this.getParsed(e),u=r.getLabelForValue(o.x),c=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+u+", "+c+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:o}=VS(t,i,r);if(this._drawStart=s,this._drawCount=o,qS(t)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:c}=t;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!c._decimated,u.points=i;const f=this.resolveDatasetElementOptions(e);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:f},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:u,_stacked:c,_dataset:f}=this._cachedMeta,h=this.resolveDataElementOptions(t,r),y=this.getSharedOptions(h),b=this.includeOptions(r,y),x=o.axis,N=u.axis,{spanGaps:T,segment:M}=this.options,k=nd(T)?T:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||r==="none";let O=t>0&&this.getParsed(t-1);for(let $=t;$<t+i;++$){const q=e[$],Z=this.getParsed($),Q=P?q:{},V=Mn(Z[N]),X=Q[x]=o.getPixelForValue(Z[x],$),le=Q[N]=s||V?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,Z,c):Z[N],$);Q.skip=isNaN(X)||isNaN(le)||V,Q.stop=$>0&&Math.abs(Z[x]-O[x])>k,M&&(Q.parsed=Z,Q.raw=f.data[$]),b&&(Q.options=y||this.resolveDataElementOptions($,q.active?"active":r)),P||this.updateElement(q,$,Q,r),O=Z}this.updateSharedOptions(y,r,h)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let u=0;for(let c=t.length-1;c>=0;--c)u=Math.max(u,t[c].size(this.resolveDataElementOptions(c))/2);return u>0&&u}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,o)/2}}ct(Pm,"id","scatter"),ct(Pm,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ct(Pm,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var CI=Object.freeze({__proto__:null,BarController:Em,BubbleController:km,DoughnutController:Rc,LineController:Mm,PieController:n2,PolarAreaController:Nh,RadarController:Lm,ScatterController:Pm});function Tc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $2{constructor(e){ct(this,"options");this.options=e||{}}static override(e){Object.assign($2.prototype,e)}init(){}formats(){return Tc()}parse(){return Tc()}format(){return Tc()}add(){return Tc()}diff(){return Tc()}startOf(){return Tc()}endOf(){return Tc()}}var NI={_date:$2};function EI(n,e,t,i){const{controller:r,data:s,_sorted:o}=n,u=r._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&o&&s.length){const f=u._reversePixels?J7:Ol;if(i){if(r._sharedOptions){const h=s[0],y=typeof h.getRange=="function"&&h.getRange(e);if(y){const b=f(s,e,t-y),x=f(s,e,t+y);return{lo:b.lo,hi:x.hi}}}}else{const h=f(s,e,t);if(c){const{vScale:y}=r._cachedMeta,{_parsed:b}=n,x=b.slice(0,h.lo+1).reverse().findIndex(T=>!Mn(T[y.axis]));h.lo-=Math.max(0,x);const N=b.slice(h.hi).findIndex(T=>!Mn(T[y.axis]));h.hi+=Math.max(0,N)}return h}}return{lo:0,hi:s.length-1}}function wg(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let u=0,c=s.length;u<c;++u){const{index:f,data:h}=s[u],{lo:y,hi:b}=EI(s[u],e,o,r);for(let x=y;x<=b;++x){const N=h[x];N.skip||i(N,f,x)}}}function kI(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function u1(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||wg(n,t,e,function(u,c,f){!r&&!Fl(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&s.push({element:u,datasetIndex:c,index:f})},!0),s}function MI(n,e,t,i){let r=[];function s(o,u,c){const{startAngle:f,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:y}=FS(o,{x:e.x,y:e.y});Ih(y,f,h)&&r.push({element:o,datasetIndex:u,index:c})}return wg(n,t,e,s),r}function LI(n,e,t,i,r,s){let o=[];const u=kI(t);let c=Number.POSITIVE_INFINITY;function f(h,y,b){const x=h.inRange(e.x,e.y,r);if(i&&!x)return;const N=h.getCenterPoint(r);if(!(!!s||n.isPointInArea(N))&&!x)return;const M=u(e,N);M<c?(o=[{element:h,datasetIndex:y,index:b}],c=M):M===c&&o.push({element:h,datasetIndex:y,index:b})}return wg(n,t,e,f),o}function c1(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?MI(n,e,t,r):LI(n,e,t,i,r,s)}function iw(n,e,t,i,r){const s=[],o=t==="x"?"inXRange":"inYRange";let u=!1;return wg(n,t,e,(c,f,h)=>{c[o]&&c[o](e[t],r)&&(s.push({element:c,datasetIndex:f,index:h}),u=u||c.inRange(e.x,e.y,r))}),i&&!u?[]:s}var PI={modes:{index(n,e,t,i){const r=kc(e,n),s=t.axis||"x",o=t.includeInvisible||!1,u=t.intersect?u1(n,r,s,i,o):c1(n,r,s,!1,i,o),c=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const h=u[0].index,y=f.data[h];y&&!y.skip&&c.push({element:y,datasetIndex:f.index,index:h})}),c):[]},dataset(n,e,t,i){const r=kc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let u=t.intersect?u1(n,r,s,i,o):c1(n,r,s,!1,i,o);if(u.length>0){const c=u[0].datasetIndex,f=n.getDatasetMeta(c).data;u=[];for(let h=0;h<f.length;++h)u.push({element:f[h],datasetIndex:c,index:h})}return u},point(n,e,t,i){const r=kc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return u1(n,r,s,i,o)},nearest(n,e,t,i){const r=kc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return c1(n,r,s,t.intersect,i,o)},x(n,e,t,i){const r=kc(e,n);return iw(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=kc(e,n);return iw(n,r,"y",t.intersect,i)}}};const lA=["left","top","right","bottom"];function ah(n,e){return n.filter(t=>t.pos===e)}function rw(n,e){return n.filter(t=>lA.indexOf(t.pos)===-1&&t.box.axis===e)}function oh(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function RI(n){const e=[];let t,i,r,s,o,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:o,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:u});return e}function DI(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!lA.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function II(n,e){const t=DI(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,u;for(s=0,o=n.length;s<o;++s){u=n[s];const{fullSize:c}=u.box,f=t[u.stack],h=f&&u.stackWeight/f.weight;u.horizontal?(u.width=h?h*i:c&&e.availableWidth,u.height=r):(u.width=i,u.height=h?h*r:c&&e.availableHeight)}return t}function OI(n){const e=RI(n),t=oh(e.filter(f=>f.box.fullSize),!0),i=oh(ah(e,"left"),!0),r=oh(ah(e,"right")),s=oh(ah(e,"top"),!0),o=oh(ah(e,"bottom")),u=rw(e,"x"),c=rw(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(o).concat(u),chartArea:ah(e,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(o).concat(u)}}function sw(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function uA(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function FI(n,e,t,i){const{pos:r,box:s}=t,o=n.maxPadding;if(!Rn(r)){t.size&&(n[r]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?s.height:s.width),t.size=y.size/y.count,n[r]+=t.size}s.getPadding&&uA(o,s.getPadding());const u=Math.max(0,e.outerWidth-sw(o,n,"left","right")),c=Math.max(0,e.outerHeight-sw(o,n,"top","bottom")),f=u!==n.w,h=c!==n.h;return n.w=u,n.h=c,t.horizontal?{same:f,other:h}:{same:h,other:f}}function BI(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function zI(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(n?["left","right"]:["top","bottom"])}function mh(n,e,t,i){const r=[];let s,o,u,c,f,h;for(s=0,o=n.length,f=0;s<o;++s){u=n[s],c=u.box,c.update(u.width||e.w,u.height||e.h,zI(u.horizontal,e));const{same:y,other:b}=FI(e,t,u,i);f|=y&&r.length,h=h||b,c.fullSize||r.push(u)}return f&&mh(r,e,t,i)||h}function cm(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function aw(n,e,t,i){const r=t.padding;let{x:s,y:o}=e;for(const u of n){const c=u.box,f=i[u.stack]||{placed:0,weight:1},h=u.stackWeight/f.weight||1;if(u.horizontal){const y=e.w*h,b=f.size||c.height;Dh(f.start)&&(o=f.start),c.fullSize?cm(c,r.left,o,t.outerWidth-r.right-r.left,b):cm(c,e.left+f.placed,o,y,b),f.start=o,f.placed+=y,o=c.bottom}else{const y=e.h*h,b=f.size||c.width;Dh(f.start)&&(s=f.start),c.fullSize?cm(c,s,r.top,b,t.outerHeight-r.bottom-r.top):cm(c,s,e.top+f.placed,b,y),f.start=s,f.placed+=y,s=c.right}}e.x=s,e.y=o}var _s={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Ss(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),u=OI(n.boxes),c=u.vertical,f=u.horizontal;ai(n.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const h=c.reduce((T,M)=>M.box.options&&M.box.options.display===!1?T:T+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),b=Object.assign({},r);uA(b,Ss(i));const x=Object.assign({maxPadding:b,w:s,h:o,x:r.left,y:r.top},r),N=II(c.concat(f),y);mh(u.fullSize,x,y,N),mh(c,x,y,N),mh(f,x,y,N)&&mh(c,x,y,N),BI(x),aw(u.leftAndTop,x,y,N),x.x+=x.w,x.y+=x.h,aw(u.rightAndBottom,x,y,N),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},ai(u.chartArea,T=>{const M=T.box;Object.assign(M,n.chartArea),M.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class cA{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class jI extends cA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Rm="$chartjs",UI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ow=n=>n===null||n==="";function VI(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Rm]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ow(r)){const s=Hb(n,"width");s!==void 0&&(n.width=s)}if(ow(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=Hb(n,"height");s!==void 0&&(n.height=s)}return n}const fA=q8?{passive:!0}:!1;function qI(n,e,t){n&&n.addEventListener(e,t,fA)}function HI(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,fA)}function GI(n,e){const t=UI[n.type]||n.type,{x:i,y:r}=kc(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function sg(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function WI(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||sg(u.addedNodes,i),o=o&&!sg(u.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function KI(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||sg(u.removedNodes,i),o=o&&!sg(u.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Fh=new Map;let lw=0;function dA(){const n=window.devicePixelRatio;n!==lw&&(lw=n,Fh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function YI(n,e){Fh.size||window.addEventListener("resize",dA),Fh.set(n,e)}function $I(n){Fh.delete(n),Fh.size||window.removeEventListener("resize",dA)}function JI(n,e,t){const i=n.canvas,r=i&&Y2(i);if(!r)return;const s=US((u,c)=>{const f=r.clientWidth;t(u,c),f<r.clientWidth&&t()},window),o=new ResizeObserver(u=>{const c=u[0],f=c.contentRect.width,h=c.contentRect.height;f===0&&h===0||s(f,h)});return o.observe(r),YI(n,s),o}function f1(n,e,t){t&&t.disconnect(),e==="resize"&&$I(n)}function ZI(n,e,t){const i=n.canvas,r=US(s=>{n.ctx!==null&&t(GI(s,n))},n);return qI(i,e,r),r}class XI extends cA{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(VI(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Rm])return!1;const i=t[Rm].initial;["height","width"].forEach(s=>{const o=i[s];Mn(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Rm],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:WI,detach:KI,resize:JI}[t]||ZI;r[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:f1,detach:f1,resize:f1}[t]||HI)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return V8(e,t,i,r)}isAttached(e){const t=e&&Y2(e);return!!(t&&t.isConnected)}}function QI(n){return!K2()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?jI:XI}class co{constructor(){ct(this,"x");ct(this,"y");ct(this,"active",!1);ct(this,"options");ct(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return nd(this.x)&&nd(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}ct(co,"defaults",{}),ct(co,"defaultRoutes");function eO(n,e){const t=n.options.ticks,i=tO(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?iO(e):[],o=s.length,u=s[0],c=s[o-1],f=[];if(o>r)return rO(e,f,s,o/r),f;const h=nO(s,e,r);if(o>0){let y,b;const x=o>1?Math.round((c-u)/(o-1)):null;for(fm(e,f,h,Mn(x)?0:u-x,u),y=0,b=o-1;y<b;y++)fm(e,f,h,s[y],s[y+1]);return fm(e,f,h,c,Mn(x)?e.length:c+x),f}return fm(e,f,h),f}function tO(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function nO(n,e,t){const i=sO(n),r=e.length/t;if(!i)return Math.max(r,1);const s=G7(i);for(let o=0,u=s.length-1;o<u;o++){const c=s[o];if(c>r)return c}return Math.max(r,1)}function iO(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function rO(n,e,t,i){let r=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}function fm(n,e,t,i,r){const s=dn(i,0),o=Math.min(dn(r,n.length),n.length);let u=0,c,f,h;for(t=Math.ceil(t),r&&(c=r-i,t=c/Math.floor(c/t)),h=s;h<0;)u++,h=Math.round(s+u*t);for(f=Math.max(s,0);f<o;f++)f===h&&(e.push(n[f]),u++,h=Math.round(s+u*t))}function sO(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const aO=n=>n==="left"?"right":n==="right"?"left":n,uw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,cw=(n,e)=>Math.min(e||n,n);function fw(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function oO(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,u=1e-6;let c=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(c-s,o-c):e===0?f=(n.getPixelForTick(1)-c)/2:f=(c-n.getPixelForTick(r-1))/2,c+=r<e?f:-f,c<s-u||c>o+u)))return c}function lO(n,e){ai(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function lh(n){return n.drawTicks?n.tickLength:0}function dw(n,e){if(!n.display)return 0;const t=qr(n.font,e),i=Ss(n.padding);return($i(n.text)?n.text.length:1)*t.lineHeight+i.height}function uO(n,e){return Ku(n,{scale:e,type:"scale"})}function cO(n,e,t){return Ku(n,{tick:t,index:e,type:"tick"})}function fO(n,e,t){let i=U2(n);return(t&&e!=="right"||!t&&e==="right")&&(i=aO(i)),i}function dO(n,e,t,i){const{top:r,left:s,bottom:o,right:u,chart:c}=n,{chartArea:f,scales:h}=c;let y=0,b,x,N;const T=o-r,M=u-s;if(n.isHorizontal()){if(x=bs(i,s,u),Rn(t)){const k=Object.keys(t)[0],P=t[k];N=h[k].getPixelForValue(P)+T-e}else t==="center"?N=(f.bottom+f.top)/2+T-e:N=uw(n,t,e);b=u-s}else{if(Rn(t)){const k=Object.keys(t)[0],P=t[k];x=h[k].getPixelForValue(P)-M+e}else t==="center"?x=(f.left+f.right)/2-M+e:x=uw(n,t,e);N=bs(i,o,r),y=t==="left"?-Lr:Lr}return{titleX:x,titleY:N,maxWidth:b,rotation:y}}class Kc extends co{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=ha(e,Number.POSITIVE_INFINITY),t=ha(t,Number.NEGATIVE_INFINITY),i=ha(i,Number.POSITIVE_INFINITY),r=ha(r,Number.NEGATIVE_INFINITY),{min:ha(e,i),max:ha(t,r),minDefined:yr(e),maxDefined:yr(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let c=0,f=u.length;c<f;++c)o=u[c].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:ha(t,ha(i,t)),max:ha(i,ha(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ki(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,u=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=b8(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?fw(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=eO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ki(this.options.afterUpdate,[this])}beforeSetDimensions(){ki(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ki(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ki(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ki(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=ki(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){ki(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ki(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=cw(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let o=r,u,c,f;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),y=h.widest.width,b=h.highest.height,x=Zr(this.chart.width-y,0,this.maxWidth);u=e.offset?this.maxWidth/i:x/(i-1),y+6>u&&(u=x/(i-(e.offset?.5:1)),c=this.maxHeight-lh(e.grid)-t.padding-dw(e.title,this.chart.options.font),f=Math.sqrt(y*y+b*b),o=z2(Math.min(Math.asin(Zr((h.highest.height+6)/u,-1,1)),Math.asin(Zr(c/f,-1,1))-Math.asin(Zr(b/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ki(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ki(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),u=this.isHorizontal();if(o){const c=dw(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=lh(s)+c):(e.height=this.maxHeight,e.width=lh(s)+c),i.display&&this.ticks.length){const{first:f,last:h,widest:y,highest:b}=this._getLabelSizes(),x=i.padding*2,N=oo(this.labelRotation),T=Math.cos(N),M=Math.sin(N);if(u){const k=i.mirror?0:M*y.width+T*b.height;e.height=Math.min(this.maxHeight,e.height+k+x)}else{const k=i.mirror?0:T*y.width+M*b.height;e.width=Math.min(this.maxWidth,e.width+k+x)}this._calculatePadding(f,h,M,T)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:o},position:u}=this.options,c=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,x=0;c?f?(b=r*e.width,x=i*t.height):(b=i*e.height,x=r*t.width):s==="start"?x=t.width:s==="end"?b=e.width:s!=="inner"&&(b=e.width/2,x=t.width/2),this.paddingLeft=Math.max((b-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((x-y+o)*this.width/(this.width-y),0)}else{let h=t.height/2,y=e.height/2;s==="start"?(h=0,y=e.height):s==="end"&&(h=t.height,y=0),this.paddingTop=h+o,this.paddingBottom=y+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ki(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Mn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=fw(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,o=[],u=[],c=Math.floor(t/cw(t,i));let f=0,h=0,y,b,x,N,T,M,k,P,O,$,q;for(y=0;y<t;y+=c){if(N=e[y].label,T=this._resolveTickFontOptions(y),r.font=M=T.string,k=s[M]=s[M]||{data:{},gc:[]},P=T.lineHeight,O=$=0,!Mn(N)&&!$i(N))O=ig(r,k.data,k.gc,O,N),$=P;else if($i(N))for(b=0,x=N.length;b<x;++b)q=N[b],!Mn(q)&&!$i(q)&&(O=ig(r,k.data,k.gc,O,q),$+=P);o.push(O),u.push($),f=Math.max(O,f),h=Math.max($,h)}lO(s,t);const Z=o.indexOf(f),Q=u.indexOf(h),V=X=>({width:o[X]||0,height:u[X]||0});return{first:V(0),last:V(t-1),widest:V(Z),highest:V(Q),widths:o,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return $7(this._alignToPixels?Ac(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=cO(this.getContext(),e,i))}return this.$context||(this.$context=uO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=oo(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,u=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*i>u*r?u/i:c/r:c*r<u*i?c/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:u}=r,c=s.offset,f=this.isHorizontal(),y=this.ticks.length+(c?1:0),b=lh(s),x=[],N=u.setContext(this.getContext()),T=N.display?N.width:0,M=T/2,k=function(te){return Ac(i,te,T)};let P,O,$,q,Z,Q,V,X,le,z,G,fe;if(o==="top")P=k(this.bottom),Q=this.bottom-b,X=P-M,z=k(e.top)+M,fe=e.bottom;else if(o==="bottom")P=k(this.top),z=e.top,fe=k(e.bottom)-M,Q=P+M,X=this.top+b;else if(o==="left")P=k(this.right),Z=this.right-b,V=P-M,le=k(e.left)+M,G=e.right;else if(o==="right")P=k(this.left),le=e.left,G=k(e.right)-M,Z=P+M,V=this.left+b;else if(t==="x"){if(o==="center")P=k((e.top+e.bottom)/2+.5);else if(Rn(o)){const te=Object.keys(o)[0],ce=o[te];P=k(this.chart.scales[te].getPixelForValue(ce))}z=e.top,fe=e.bottom,Q=P+M,X=Q+b}else if(t==="y"){if(o==="center")P=k((e.left+e.right)/2);else if(Rn(o)){const te=Object.keys(o)[0],ce=o[te];P=k(this.chart.scales[te].getPixelForValue(ce))}Z=P-M,V=Z-b,le=e.left,G=e.right}const ae=dn(r.ticks.maxTicksLimit,y),me=Math.max(1,Math.ceil(y/ae));for(O=0;O<y;O+=me){const te=this.getContext(O),ce=s.setContext(te),ne=u.setContext(te),de=ce.lineWidth,D=ce.color,ye=ne.dash||[],R=ne.dashOffset,W=ce.tickWidth,j=ce.tickColor,re=ce.tickBorderDash||[],se=ce.tickBorderDashOffset;$=oO(this,O,c),$!==void 0&&(q=Ac(i,$,de),f?Z=V=le=G=q:Q=X=z=fe=q,x.push({tx1:Z,ty1:Q,tx2:V,ty2:X,x1:le,y1:z,x2:G,y2:fe,width:de,color:D,borderDash:ye,borderDashOffset:R,tickWidth:W,tickColor:j,tickBorderDash:re,tickBorderDashOffset:se}))}return this._ticksLength=y,this._borderValue=P,x}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:f,padding:h,mirror:y}=s,b=lh(i.grid),x=b+h,N=y?-h:x,T=-oo(this.labelRotation),M=[];let k,P,O,$,q,Z,Q,V,X,le,z,G,fe="middle";if(r==="top")Z=this.bottom-N,Q=this._getXAxisLabelAlignment();else if(r==="bottom")Z=this.top+N,Q=this._getXAxisLabelAlignment();else if(r==="left"){const me=this._getYAxisLabelAlignment(b);Q=me.textAlign,q=me.x}else if(r==="right"){const me=this._getYAxisLabelAlignment(b);Q=me.textAlign,q=me.x}else if(t==="x"){if(r==="center")Z=(e.top+e.bottom)/2+x;else if(Rn(r)){const me=Object.keys(r)[0],te=r[me];Z=this.chart.scales[me].getPixelForValue(te)+x}Q=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")q=(e.left+e.right)/2-x;else if(Rn(r)){const me=Object.keys(r)[0],te=r[me];q=this.chart.scales[me].getPixelForValue(te)}Q=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(c==="start"?fe="top":c==="end"&&(fe="bottom"));const ae=this._getLabelSizes();for(k=0,P=u.length;k<P;++k){O=u[k],$=O.label;const me=s.setContext(this.getContext(k));V=this.getPixelForTick(k)+s.labelOffset,X=this._resolveTickFontOptions(k),le=X.lineHeight,z=$i($)?$.length:1;const te=z/2,ce=me.color,ne=me.textStrokeColor,de=me.textStrokeWidth;let D=Q;o?(q=V,Q==="inner"&&(k===P-1?D=this.options.reverse?"left":"right":k===0?D=this.options.reverse?"right":"left":D="center"),r==="top"?f==="near"||T!==0?G=-z*le+le/2:f==="center"?G=-ae.highest.height/2-te*le+le:G=-ae.highest.height+le/2:f==="near"||T!==0?G=le/2:f==="center"?G=ae.highest.height/2-te*le:G=ae.highest.height-z*le,y&&(G*=-1),T!==0&&!me.showLabelBackdrop&&(q+=le/2*Math.sin(T))):(Z=V,G=(1-z)*le/2);let ye;if(me.showLabelBackdrop){const R=Ss(me.backdropPadding),W=ae.heights[k],j=ae.widths[k];let re=G-R.top,se=0-R.left;switch(fe){case"middle":re-=W/2;break;case"bottom":re-=W;break}switch(Q){case"center":se-=j/2;break;case"right":se-=j;break;case"inner":k===P-1?se-=j:k>0&&(se-=j/2);break}ye={left:se,top:re,width:j+R.width,height:W+R.height,color:me.backdropColor}}M.push({label:$,font:X,textOffset:G,options:{rotation:T,color:ce,strokeColor:ne,strokeWidth:de,textAlign:D,textBaseline:fe,translation:[q,Z],backdrop:ye}})}return M}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-oo(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),u=e+s,c=o.widest.width;let f,h;return t==="left"?r?(h=this.right+s,i==="near"?f="left":i==="center"?(f="center",h+=c/2):(f="right",h+=c)):(h=this.right-u,i==="near"?f="right":i==="center"?(f="center",h-=c/2):(f="left",h=this.left)):t==="right"?r?(h=this.left+s,i==="near"?f="right":i==="center"?(f="center",h-=c/2):(f="left",h-=c)):(h=this.left+u,i==="near"?f="left":i==="center"?(f="center",h+=c/2):(f="right",h=this.right)):f="right",{textAlign:f,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const u=(c,f,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const c=r[s];t.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const u=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let f,h,y,b;this.isHorizontal()?(f=Ac(e,this.left,o)-o/2,h=Ac(e,this.right,u)+u/2,y=b=c):(y=Ac(e,this.top,o)-o/2,b=Ac(e,this.bottom,u)+u/2,f=h=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(f,y),t.lineTo(h,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&vg(i,r);const s=this.getLabelItems(e);for(const o of s){const u=o.options,c=o.font,f=o.label,h=o.textOffset;Vc(i,f,0,h,c,u)}r&&xg(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=qr(i.font),o=Ss(i.padding),u=i.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||Rn(t)?(c+=o.bottom,$i(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:f,titleY:h,maxWidth:y,rotation:b}=dO(this,c,t,u);Vc(e,i.text,0,0,s,{color:i.color,maxWidth:y,rotation:b,textAlign:fO(u,t,r),textBaseline:"middle",translation:[f,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=dn(e.grid&&e.grid.z,-1),r=dn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Kc.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const u=t[s];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return qr(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class dm{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;mO(t)&&(i=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,hO(e,o,i),this.override&&Ji.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Ji[r]&&(delete Ji[r][i],this.override&&delete Uc[i])}}function hO(n,e,t){const i=Rh(Object.create(null),[t?Ji.get(t):{},Ji.get(e),n.defaults]);Ji.set(e,i),n.defaultRoutes&&pO(e,n.defaultRoutes),n.descriptors&&Ji.describe(e,n.descriptors)}function pO(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),u=o.pop(),c=o.join(".");Ji.route(s,r,c,u)})}function mO(n){return"id"in n&&"defaults"in n}class gO{constructor(){this.controllers=new dm(uo,"datasets",!0),this.elements=new dm(co,"elements"),this.plugins=new dm(Object,"plugins"),this.scales=new dm(Kc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ai(r,o=>{const u=i||this._getRegistryForType(o);this._exec(e,u,o)})})}_exec(e,t,i){const r=B2(e);ki(i["before"+r],[],i),t[e](i),ki(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Go=new gO;class yO{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(const s of e){const o=s.plugin,u=o[i],c=[t,r,s.options];if(ki(u,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Mn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=dn(i.options&&i.options.plugins,{}),s=vO(i);return r===!1&&!t?[]:bO(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(u=>!o.some(c=>u.plugin.id===c.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function vO(n){const e={},t=[],i=Object.keys(Go.plugins.items);for(let s=0;s<i.length;s++)t.push(Go.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function xO(n,e){return!e&&n===!1?null:n===!0?{}:n}function bO(n,{plugins:e,localIds:t},i,r){const s=[],o=n.getContext();for(const u of e){const c=u.id,f=xO(i[c],r);f!==null&&s.push({plugin:u,options:wO(n.config,{plugin:u,local:t[c]},f,o)})}return s}function wO(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function i2(n,e){const t=Ji.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function _O(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function SO(n,e){return n===e?"_index_":"_value_"}function hw(n){if(n==="x"||n==="y"||n==="r")return n}function AO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function r2(n,...e){if(hw(n))return n;for(const t of e){const i=t.axis||AO(t.position)||n.length>1&&hw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function pw(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function TO(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return pw(n,"x",t[0])||pw(n,"y",t[0])}return{}}function CO(n,e){const t=Uc[n.type]||{scales:{}},i=e.scales||{},r=i2(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const u=i[o];if(!Rn(u))return console.error(`Invalid scale configuration for scale: ${o}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=r2(o,u,TO(o,n),Ji.scales[u.type]),f=SO(c,r),h=t.scales||{};s[o]=Sh(Object.create(null),[{axis:c},u,h[c],h[f]])}),n.data.datasets.forEach(o=>{const u=o.type||n.type,c=o.indexAxis||i2(u,e),h=(Uc[u]||{}).scales||{};Object.keys(h).forEach(y=>{const b=_O(y,c),x=o[b+"AxisID"]||b;s[x]=s[x]||Object.create(null),Sh(s[x],[{axis:b},i[x],h[y]])})}),Object.keys(s).forEach(o=>{const u=s[o];Sh(u,[Ji.scales[u.type],Ji.scale])}),s}function hA(n){const e=n.options||(n.options={});e.plugins=dn(e.plugins,{}),e.scales=CO(n,e)}function pA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function NO(n){return n=n||{},n.data=pA(n.data),hA(n),n}const mw=new Map,mA=new Set;function hm(n,e){let t=mw.get(n);return t||(t=e(),mw.set(n,t),mA.add(t)),t}const uh=(n,e,t)=>{const i=Vu(e,t);i!==void 0&&n.add(i)};class EO{constructor(e){this._config=NO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return hm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return hm(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return hm(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return hm(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),u=o.get(t);if(u)return u;const c=new Set;t.forEach(h=>{e&&(c.add(e),h.forEach(y=>uh(c,e,y))),h.forEach(y=>uh(c,r,y)),h.forEach(y=>uh(c,Uc[s]||{},y)),h.forEach(y=>uh(c,Ji,y)),h.forEach(y=>uh(c,e2,y))});const f=Array.from(c);return f.length===0&&f.push(Object.create(null)),mA.has(t)&&o.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Uc[t]||{},Ji.datasets[t]||{},{type:t},Ji,e2]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:u}=gw(this._resolverCache,e,r);let c=o;if(MO(o,t)){s.$shared=!1,i=qu(i)?i():i;const f=this.createResolver(e,i,u);c=id(o,i,f)}for(const f of t)s[f]=c[f];return s}createResolver(e,t,i=[""],r){const{resolver:s}=gw(this._resolverCache,e,i);return Rn(t)?id(s,t,void 0,r):s}}function gw(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:H2(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,s)),s}const kO=n=>Rn(n)&&Object.getOwnPropertyNames(n).some(e=>qu(n[e]));function MO(n,e){const{isScriptable:t,isIndexable:i}=KS(n);for(const r of e){const s=t(r),o=i(r),u=(o||s)&&n[r];if(s&&(qu(u)||kO(u))||o&&$i(u))return!0}return!1}var LO="4.4.9";const PO=["top","bottom","left","right","chartArea"];function yw(n,e){return n==="top"||n==="bottom"||PO.indexOf(n)===-1&&e==="x"}function vw(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function xw(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ki(t&&t.onComplete,[n],e)}function RO(n){const e=n.chart,t=e.options.animation;ki(t&&t.onProgress,[n],e)}function gA(n){return K2()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Dm={},bw=n=>{const e=gA(n);return Object.values(Dm).filter(t=>t.canvas===e).pop()};function DO(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}function IO(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class Wo{static register(...e){Go.add(...e),ww()}static unregister(...e){Go.remove(...e),ww()}constructor(e,t){const i=this.config=new EO(t),r=gA(e),s=bw(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||QI(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,o.aspectRatio),c=u&&u.canvas,f=c&&c.height,h=c&&c.width;if(this.id=O7(),this.ctx=u,this.canvas=c,this.width=h,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Q7(y=>this.update(y),o.resizeDelay||0),this._dataChanges=[],Dm[this.id]=this,!u||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ll.listen(this,"complete",xw),Ll.listen(this,"progress",RO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return Mn(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Go}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jb(this.canvas,this.ctx),this}stop(){return Ll.stop(this),this}resize(e,t){Ll.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,s),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,qb(this,u,!0)&&(this.notifyPlugins("resize",{size:o}),ki(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ai(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((o,u)=>(o[u]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const u=t[o],c=r2(o,u),f=c==="r",h=c==="x";return{options:u,dposition:f?"chartArea":h?"bottom":"left",dtype:f?"radialLinear":h?"category":"linear"}}))),ai(s,o=>{const u=o.options,c=u.id,f=r2(c,u),h=dn(u.type,o.dtype);(u.position===void 0||yw(u.position,f)!==yw(o.dposition))&&(u.position=o.dposition),r[c]=!0;let y=null;if(c in i&&i[c].type===h)y=i[c];else{const b=Go.getScale(h);y=new b({id:c,type:h,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,e)}),ai(r,(o,u)=>{o||delete i[u]}),ai(i,o=>{_s.configure(this,o,o.options),_s.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(vw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let o=this.getDatasetMeta(i);const u=s.type||this.config.type;if(o.type&&o.type!==u&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=u,o.indexAxis=s.indexAxis||i2(u,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=Go.getController(u),{datasetElementType:f,dataElementType:h}=Ji.datasets[u];Object.assign(c,{dataElementType:Go.getElement(h),datasetElementType:f&&Go.getElement(f)}),o.controller=new c(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ai(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,h=this.data.datasets.length;f<h;f++){const{controller:y}=this.getDatasetMeta(f),b=!r&&s.indexOf(y)===-1;y.buildOrUpdateElements(b),o=Math.max(+y.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ai(s,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vw("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ai(this.scales,e=>{_s.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Lb(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const o=i==="_removeElements"?-s:s;DO(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,u)=>u+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!Lb(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_s.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],ai(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,qu(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ll.has(this)?this.attached&&!Ll.running(this)&&Ll.start(this):(this.draw(),xw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const o=t[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=rA(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&vg(t,r),e.controller.draw(),r&&xg(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Fl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=PI.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ku(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Dh(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ll.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Dm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},r=(s,o,u)=>{s.offsetX=o,s.offsetY=u,this._eventHandler(s)};ai(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,f)=>{t.addEventListener(this,c,f),e[c]=f},r=(c,f)=>{e[c]&&(t.removeEventListener(this,c,f),delete e[c])},s=(c,f)=>{this.canvas&&this.resize(c,f)};let o;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():o()}unbindEvents(){ai(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ai(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,o,u,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),u=0,c=e.length;u<c;++u){o=e[u];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[o],index:o}});!eg(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(c,f)=>c.filter(h=>!f.some(y=>h.datasetIndex===y.datasetIndex&&h.index===y.index)),o=s(t,e),u=i?e:s(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,o=t,u=this._getActiveElements(e,r,i,o),c=V7(e),f=IO(e,this._lastEvent,i,c);i&&(this._lastEvent=null,ki(s.onHover,[e,u,this],this),c&&ki(s.onClick,[e,u,this],this));const h=!eg(u,r);return(h||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=f,h}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}ct(Wo,"defaults",Ji),ct(Wo,"instances",Dm),ct(Wo,"overrides",Uc),ct(Wo,"registry",Go),ct(Wo,"version",LO),ct(Wo,"getChart",bw);function ww(){return ai(Wo.instances,n=>n._plugins.invalidate())}function OO(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:u,innerRadius:c}=e;let f=r/u;n.beginPath(),n.arc(s,o,u,i-f,t+f),c>r?(f=r/c,n.arc(s,o,c,t+f,i-f,!0)):n.arc(s,o,r,t+Lr,i-Lr),n.closePath(),n.clip()}function FO(n){return q2(n,["outerStart","outerEnd","innerStart","innerEnd"])}function BO(n,e,t,i){const r=FO(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),u=c=>{const f=(t-Math.min(s,c))*i/2;return Zr(c,0,Math.min(s,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:Zr(r.innerStart,0,o),innerEnd:Zr(r.innerEnd,0,o)}}function Lf(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function ag(n,e,t,i,r,s){const{x:o,y:u,startAngle:c,pixelMargin:f,innerRadius:h}=e,y=Math.max(e.outerRadius+i+t-f,0),b=h>0?h+i+t+f:0;let x=0;const N=r-c;if(i){const me=h>0?h-i:0,te=y>0?y-i:0,ce=(me+te)/2,ne=ce!==0?N*ce/(ce+i):N;x=(N-ne)/2}const T=Math.max(.001,N*y-t/Vi)/y,M=(N-T)/2,k=c+M+x,P=r-M-x,{outerStart:O,outerEnd:$,innerStart:q,innerEnd:Z}=BO(e,b,y,P-k),Q=y-O,V=y-$,X=k+O/Q,le=P-$/V,z=b+q,G=b+Z,fe=k+q/z,ae=P-Z/G;if(n.beginPath(),s){const me=(X+le)/2;if(n.arc(o,u,y,X,me),n.arc(o,u,y,me,le),$>0){const de=Lf(V,le,o,u);n.arc(de.x,de.y,$,le,P+Lr)}const te=Lf(G,P,o,u);if(n.lineTo(te.x,te.y),Z>0){const de=Lf(G,ae,o,u);n.arc(de.x,de.y,Z,P+Lr,ae+Math.PI)}const ce=(P-Z/b+(k+q/b))/2;if(n.arc(o,u,b,P-Z/b,ce,!0),n.arc(o,u,b,ce,k+q/b,!0),q>0){const de=Lf(z,fe,o,u);n.arc(de.x,de.y,q,fe+Math.PI,k-Lr)}const ne=Lf(Q,k,o,u);if(n.lineTo(ne.x,ne.y),O>0){const de=Lf(Q,X,o,u);n.arc(de.x,de.y,O,k-Lr,X)}}else{n.moveTo(o,u);const me=Math.cos(X)*y+o,te=Math.sin(X)*y+u;n.lineTo(me,te);const ce=Math.cos(le)*y+o,ne=Math.sin(le)*y+u;n.lineTo(ce,ne)}n.closePath()}function zO(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:u}=e;let c=e.endAngle;if(s){ag(n,e,t,i,c,r);for(let f=0;f<s;++f)n.fill();isNaN(u)||(c=o+(u%Ui||Ui))}return ag(n,e,t,i,c,r),n.fill(),c}function jO(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:u,options:c}=e,{borderWidth:f,borderJoinStyle:h,borderDash:y,borderDashOffset:b}=c,x=c.borderAlign==="inner";if(!f)return;n.setLineDash(y||[]),n.lineDashOffset=b,x?(n.lineWidth=f*2,n.lineJoin=h||"round"):(n.lineWidth=f,n.lineJoin=h||"bevel");let N=e.endAngle;if(s){ag(n,e,t,i,N,r);for(let T=0;T<s;++T)n.stroke();isNaN(u)||(N=o+(u%Ui||Ui))}x&&OO(n,e,N),s||(ag(n,e,t,i,N,r),n.stroke())}class gh extends co{constructor(t){super();ct(this,"circumference");ct(this,"endAngle");ct(this,"fullCircles");ct(this,"innerRadius");ct(this,"outerRadius");ct(this,"pixelMargin");ct(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:u}=FS(s,{x:t,y:i}),{startAngle:c,endAngle:f,innerRadius:h,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),x=(this.options.spacing+this.options.borderWidth)/2,N=dn(b,f-c),T=Ih(o,c,f)&&c!==f,M=N>=Ui||T,k=Il(u,h+x,y+x);return M&&k}getCenterPoint(t){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:u,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:h}=this.options,y=(s+o)/2,b=(u+c+h+f)/2;return{x:i+Math.cos(y)*b,y:r+Math.sin(y)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Ui?Math.floor(r/Ui):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const f=1-Math.sin(Math.min(Vi,r||0)),h=s*f;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,zO(t,this,h,o,u),jO(t,this,h,o,u),t.restore()}}ct(gh,"id","arc"),ct(gh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ct(gh,"defaultRoutes",{backgroundColor:"backgroundColor"}),ct(gh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function yA(n,e,t=e){n.lineCap=dn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(dn(t.borderDash,e.borderDash)),n.lineDashOffset=dn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=dn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=dn(t.borderWidth,e.borderWidth),n.strokeStyle=dn(t.borderColor,e.borderColor)}function UO(n,e,t){n.lineTo(t.x,t.y)}function VO(n){return n.stepped?f8:n.tension||n.cubicInterpolationMode==="monotone"?d8:UO}function vA(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:u}=e,c=Math.max(r,o),f=Math.min(s,u),h=r<o&&s<o||r>u&&s>u;return{count:i,start:c,loop:e.loop,ilen:f<c&&!h?i+f-c:f-c}}function qO(n,e,t,i){const{points:r,options:s}=e,{count:o,start:u,loop:c,ilen:f}=vA(r,t,i),h=VO(s);let{move:y=!0,reverse:b}=i||{},x,N,T;for(x=0;x<=f;++x)N=r[(u+(b?f-x:x))%o],!N.skip&&(y?(n.moveTo(N.x,N.y),y=!1):h(n,T,N,b,s.stepped),T=N);return c&&(N=r[(u+(b?f:0))%o],h(n,T,N,b,s.stepped)),!!c}function HO(n,e,t,i){const r=e.points,{count:s,start:o,ilen:u}=vA(r,t,i),{move:c=!0,reverse:f}=i||{};let h=0,y=0,b,x,N,T,M,k;const P=$=>(o+(f?u-$:$))%s,O=()=>{T!==M&&(n.lineTo(h,M),n.lineTo(h,T),n.lineTo(h,k))};for(c&&(x=r[P(0)],n.moveTo(x.x,x.y)),b=0;b<=u;++b){if(x=r[P(b)],x.skip)continue;const $=x.x,q=x.y,Z=$|0;Z===N?(q<T?T=q:q>M&&(M=q),h=(y*h+$)/++y):(O(),n.lineTo($,q),N=Z,y=0,T=M=q),k=q}O()}function s2(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?HO:qO}function GO(n){return n.stepped?H8:n.tension||n.cubicInterpolationMode==="monotone"?G8:Mc}function WO(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),yA(n,e.options),n.stroke(r)}function KO(n,e,t,i){const{segments:r,options:s}=e,o=s2(e);for(const u of r)yA(n,s,u.style),n.beginPath(),o(n,e,u,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const YO=typeof Path2D=="function";function $O(n,e,t,i){YO&&!e.options.segment?WO(n,e,t,i):KO(n,e,t,i)}class Iu extends co{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;O8(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Z8(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],s=this.points,o=iA(this,{property:t,start:r,end:r});if(!o.length)return;const u=[],c=GO(i);let f,h;for(f=0,h=o.length;f<h;++f){const{start:y,end:b}=o[f],x=s[y],N=s[b];if(x===N){u.push(x);continue}const T=Math.abs((r-x[t])/(N[t]-x[t])),M=c(x,N,T,i.stepped);M[t]=e[t],u.push(M)}return u.length===1?u[0]:u}pathSegment(e,t,i){return s2(this)(e,this,t,i)}path(e,t,i){const r=this.segments,s=s2(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const u of r)o&=s(e,this,u,{start:t,end:t+i-1});return!!o}draw(e,t,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),$O(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ct(Iu,"id","line"),ct(Iu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ct(Iu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ct(Iu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function _w(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Im extends co{constructor(t){super();ct(this,"parsed");ct(this,"skip");ct(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:o,y:u}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-u,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return _w(this,t,"x",i)}inYRange(t,i){return _w(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){const r=this.options;this.skip||r.radius<.1||!Fl(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,t2(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ct(Im,"id","point"),ct(Im,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ct(Im,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function xA(n,e){const{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let u,c,f,h,y;return n.horizontal?(y=o/2,u=Math.min(t,r),c=Math.max(t,r),f=i-y,h=i+y):(y=s/2,u=t-y,c=t+y,f=Math.min(i,r),h=Math.max(i,r)),{left:u,top:f,right:c,bottom:h}}function Ou(n,e,t,i){return n?0:Zr(e,t,i)}function JO(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,s=WS(i);return{t:Ou(r.top,s.top,0,t),r:Ou(r.right,s.right,0,e),b:Ou(r.bottom,s.bottom,0,t),l:Ou(r.left,s.left,0,e)}}function ZO(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Oc(r),o=Math.min(e,t),u=n.borderSkipped,c=i||Rn(r);return{topLeft:Ou(!c||u.top||u.left,s.topLeft,0,o),topRight:Ou(!c||u.top||u.right,s.topRight,0,o),bottomLeft:Ou(!c||u.bottom||u.left,s.bottomLeft,0,o),bottomRight:Ou(!c||u.bottom||u.right,s.bottomRight,0,o)}}function XO(n){const e=xA(n),t=e.right-e.left,i=e.bottom-e.top,r=JO(n,t/2,i/2),s=ZO(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function d1(n,e,t,i){const r=e===null,s=t===null,u=n&&!(r&&s)&&xA(n,i);return u&&(r||Il(e,u.left,u.right))&&(s||Il(t,u.top,u.bottom))}function QO(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function eF(n,e){n.rect(e.x,e.y,e.w,e.h)}function h1(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class Om extends co{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=XO(this),u=QO(o.radius)?Oh:eF;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),u(e,h1(o,t,s)),e.clip(),u(e,h1(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,h1(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return d1(this,e,t,i)}inXRange(e,t){return d1(this,e,null,t)}inYRange(e,t){return d1(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ct(Om,"id","bar"),ct(Om,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ct(Om,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var tF=Object.freeze({__proto__:null,ArcElement:gh,BarElement:Om,LineElement:Iu,PointElement:Im});const a2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Sw=a2.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function bA(n){return a2[n%a2.length]}function wA(n){return Sw[n%Sw.length]}function nF(n,e){return n.borderColor=bA(e),n.backgroundColor=wA(e),++e}function iF(n,e){return n.backgroundColor=n.data.map(()=>bA(e++)),e}function rF(n,e){return n.backgroundColor=n.data.map(()=>wA(e++)),e}function sF(n){let e=0;return(t,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof Rc?e=iF(t,e):r instanceof Nh?e=rF(t,e):r&&(e=nF(t,e))}}function Aw(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function aF(n){return n&&(n.borderColor||n.backgroundColor)}function oF(){return Ji.borderColor!=="rgba(0,0,0,0.1)"||Ji.backgroundColor!=="rgba(0,0,0,0.1)"}var lF={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r,o=Aw(i)||aF(r)||s&&Aw(s)||oF();if(!t.forceOverride&&o)return;const u=sF(n);i.forEach(u)}};function uF(n,e,t,i,r){const s=r.samples||i;if(s>=t)return n.slice(e,e+t);const o=[],u=(t-2)/(s-2);let c=0;const f=e+t-1;let h=e,y,b,x,N,T;for(o[c++]=n[h],y=0;y<s-2;y++){let M=0,k=0,P;const O=Math.floor((y+1)*u)+1+e,$=Math.min(Math.floor((y+2)*u)+1,t)+e,q=$-O;for(P=O;P<$;P++)M+=n[P].x,k+=n[P].y;M/=q,k/=q;const Z=Math.floor(y*u)+1+e,Q=Math.min(Math.floor((y+1)*u)+1,t)+e,{x:V,y:X}=n[h];for(x=N=-1,P=Z;P<Q;P++)N=.5*Math.abs((V-M)*(n[P].y-X)-(V-n[P].x)*(k-X)),N>x&&(x=N,b=n[P],T=P);o[c++]=b,h=T}return o[c++]=n[f],o}function cF(n,e,t,i){let r=0,s=0,o,u,c,f,h,y,b,x,N,T;const M=[],k=e+t-1,P=n[e].x,$=n[k].x-P;for(o=e;o<e+t;++o){u=n[o],c=(u.x-P)/$*i,f=u.y;const q=c|0;if(q===h)f<N?(N=f,y=o):f>T&&(T=f,b=o),r=(s*r+u.x)/++s;else{const Z=o-1;if(!Mn(y)&&!Mn(b)){const Q=Math.min(y,b),V=Math.max(y,b);Q!==x&&Q!==Z&&M.push({...n[Q],x:r}),V!==x&&V!==Z&&M.push({...n[V],x:r})}o>0&&Z!==x&&M.push(n[Z]),M.push(u),h=q,s=0,N=T=f,y=b=x=o}}return M}function _A(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Tw(n){n.data.datasets.forEach(e=>{_A(e)})}function fF(n,e){const t=e.length;let i=0,r;const{iScale:s}=n,{min:o,max:u,minDefined:c,maxDefined:f}=s.getUserBounds();return c&&(i=Zr(Ol(e,s.axis,o).lo,0,t-1)),f?r=Zr(Ol(e,s.axis,u).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var dF={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){Tw(n);return}const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:u}=r,c=n.getDatasetMeta(s),f=o||r.data;if(ph([u,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const h=n.scales[c.xAxisID];if(h.type!=="linear"&&h.type!=="time"||n.options.parsing)return;let{start:y,count:b}=fF(c,f);const x=t.threshold||4*i;if(b<=x){_A(r);return}Mn(o)&&(r._data=f,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(T){this._data=T}}));let N;switch(t.algorithm){case"lttb":N=uF(f,y,b,i,t);break;case"min-max":N=cF(f,y,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=N})},destroy(n){Tw(n)}};function hF(n,e,t){const i=n.segments,r=n.points,s=e.points,o=[];for(const u of i){let{start:c,end:f}=u;f=J2(c,f,r);const h=o2(t,r[c],r[f],u.loop);if(!e.segments){o.push({source:u,target:h,start:r[c],end:r[f]});continue}const y=iA(e,h);for(const b of y){const x=o2(t,s[b.start],s[b.end],b.loop),N=nA(u,r,x);for(const T of N)o.push({source:T,target:b,start:{[t]:Cw(h,x,"start",Math.max)},end:{[t]:Cw(h,x,"end",Math.min)}})}}return o}function o2(n,e,t,i){if(i)return;let r=e[n],s=t[n];return n==="angle"&&(r=ma(r),s=ma(s)),{property:n,start:r,end:s}}function pF(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:u})=>{u=J2(o,u,r);const c=r[o],f=r[u];i!==null?(s.push({x:c.x,y:i}),s.push({x:f.x,y:i})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:f.y}))}),s}function J2(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Cw(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function SA(n,e){let t=[],i=!1;return $i(n)?(i=!0,t=n):t=pF(n,e),t.length?new Iu({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Nw(n){return n&&n.fill!==!1}function mF(n,e,t){let r=n[e].fill;const s=[e];let o;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!yr(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function gF(n,e,t){const i=bF(n);if(Rn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return yr(r)&&Math.floor(r)===r?yF(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function yF(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function vF(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Rn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function xF(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Rn(n)?i=n.value:i=e.getBaseValue(),i}function bF(n){const e=n.options,t=e.fill;let i=dn(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function wF(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,o=i.points,u=_F(e,t);u.push(SA({x:null,y:e.bottom},i));for(let c=0;c<s.length;c++){const f=s[c];for(let h=f.start;h<=f.end;h++)SF(r,o[h],u)}return new Iu({points:r,options:{}})}function _F(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function SF(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:u,point:c}=AF(s,e,"x");if(!(!c||o&&u)){if(o)i.unshift(c);else if(n.push(c),!u)break}}n.push(...i)}function AF(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,o=n.points;let u=!1,c=!1;for(let f=0;f<s.length;f++){const h=s[f],y=o[h.start][t],b=o[h.end][t];if(Il(r,y,b)){u=r===y,c=r===b;break}}return{first:u,last:c,point:i}}class AA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:o}=this;return t=t||{start:0,end:Ui},e.arc(r,s,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function TF(n){const{chart:e,fill:t,line:i}=n;if(yr(t))return CF(e,t);if(t==="stack")return wF(n);if(t==="shape")return!0;const r=NF(n);return r instanceof AA?r:SA(r,i)}function CF(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function NF(n){return(n.scale||{}).getPointPositionForValue?kF(n):EF(n)}function EF(n){const{scale:e={},fill:t}=n,i=vF(t,e);if(yr(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function kF(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=xF(t,e,s),u=[];if(i.grid.circular){const c=e.getPointPositionForValue(0,s);return new AA({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)u.push(e.getPointPositionForValue(c,o));return u}function p1(n,e,t){const i=TF(e),{chart:r,index:s,line:o,scale:u,axis:c}=e,f=o.options,h=f.fill,y=f.backgroundColor,{above:b=y,below:x=y}=h||{},N=r.getDatasetMeta(s),T=rA(r,N);i&&o.points.length&&(vg(n,t),MF(n,{line:o,target:i,above:b,below:x,area:t,scale:u,axis:c,clip:T}),xg(n))}function MF(n,e){const{line:t,target:i,above:r,below:s,area:o,scale:u,clip:c}=e,f=t._loop?"angle":e.axis;n.save(),f==="x"&&s!==r&&(Ew(n,i,o.top),kw(n,{line:t,target:i,color:r,scale:u,property:f,clip:c}),n.restore(),n.save(),Ew(n,i,o.bottom)),kw(n,{line:t,target:i,color:s,scale:u,property:f,clip:c}),n.restore()}function Ew(n,e,t){const{segments:i,points:r}=e;let s=!0,o=!1;n.beginPath();for(const u of i){const{start:c,end:f}=u,h=r[c],y=r[J2(c,f,r)];s?(n.moveTo(h.x,h.y),s=!1):(n.lineTo(h.x,t),n.lineTo(h.x,h.y)),o=!!e.pathSegment(n,u,{move:o}),o?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function kw(n,e){const{line:t,target:i,property:r,color:s,scale:o,clip:u}=e,c=hF(t,i,r);for(const{source:f,target:h,start:y,end:b}of c){const{style:{backgroundColor:x=s}={}}=f,N=i!==!0;n.save(),n.fillStyle=x,LF(n,o,u,N&&o2(r,y,b)),n.beginPath();const T=!!t.pathSegment(n,f);let M;if(N){T?n.closePath():Mw(n,i,b,r);const k=!!i.pathSegment(n,h,{move:T,reverse:!0});M=T&&k,M||Mw(n,i,y,r)}n.closePath(),n.fill(M?"evenodd":"nonzero"),n.restore()}}function LF(n,e,t,i){const r=e.chart.chartArea,{property:s,start:o,end:u}=i||{};if(s==="x"||s==="y"){let c,f,h,y;s==="x"?(c=o,f=r.top,h=u,y=r.bottom):(c=r.left,f=o,h=r.right,y=u),n.beginPath(),t&&(c=Math.max(c,t.left),h=Math.min(h,t.right),f=Math.max(f,t.top),y=Math.min(y,t.bottom)),n.rect(c,f,h-c,y-f),n.clip()}}function Mw(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var PF={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,o,u,c;for(o=0;o<i;++o)s=n.getDatasetMeta(o),u=s.dataset,c=null,u&&u.options&&u instanceof Iu&&(c={visible:n.isDatasetVisible(o),index:o,fill:gF(u,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:u}),s.$filler=c,r.push(c);for(o=0;o<i;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=mF(r,o,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const u=r[o].$filler;u&&(u.line.updateControlPoints(s,u.axis),i&&u.fill&&p1(n.ctx,u,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;Nw(s)&&p1(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!Nw(i)||t.drawTime!=="beforeDatasetDraw"||p1(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Lw=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},RF=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Pw extends co{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ki(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=qr(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=Lw(i,s);let f,h;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,h=this._fitRows(o,s,u,c)+10):(h=this.maxHeight,f=this._fitCols(o,r,u,c)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.lineWidths=[0],h=r+u;let y=e;s.textAlign="left",s.textBaseline="middle";let b=-1,x=-h;return this.legendItems.forEach((N,T)=>{const M=i+t/2+s.measureText(N.text).width;(T===0||f[f.length-1]+M+2*u>o)&&(y+=h,f[f.length-(T>0?0:1)]=0,x+=h,b++),c[T]={left:0,top:x,row:b,width:M,height:r},f[f.length-1]+=M+u}),y}_fitCols(e,t,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.columnSizes=[],h=o-e;let y=u,b=0,x=0,N=0,T=0;return this.legendItems.forEach((M,k)=>{const{itemWidth:P,itemHeight:O}=DF(i,t,s,M,r);k>0&&x+O+2*u>h&&(y+=b+u,f.push({width:b,height:x}),N+=b+u,T++,b=x=0),c[k]={left:N,top:x,col:T,width:P,height:O},b=Math.max(b,P),x+=O+u}),y+=b,f.push({width:b,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=$f(s,this.left,this.width);if(this.isHorizontal()){let u=0,c=bs(i,this.left+r,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,c=bs(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+e+r,f.left=o.leftForLtr(o.x(c),f.width),c+=f.width+r}else{let u=0,c=bs(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,c=bs(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),f.top=c,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),c+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;vg(e,this),this._draw(),xg(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,u=Ji.color,c=$f(e.rtl,this.left,this.width),f=qr(o.font),{padding:h}=o,y=f.size,b=y/2;let x;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:N,boxHeight:T,itemHeight:M}=Lw(o,y),k=function(Z,Q,V){if(isNaN(N)||N<=0||isNaN(T)||T<0)return;r.save();const X=dn(V.lineWidth,1);if(r.fillStyle=dn(V.fillStyle,u),r.lineCap=dn(V.lineCap,"butt"),r.lineDashOffset=dn(V.lineDashOffset,0),r.lineJoin=dn(V.lineJoin,"miter"),r.lineWidth=X,r.strokeStyle=dn(V.strokeStyle,u),r.setLineDash(dn(V.lineDash,[])),o.usePointStyle){const le={radius:T*Math.SQRT2/2,pointStyle:V.pointStyle,rotation:V.rotation,borderWidth:X},z=c.xPlus(Z,N/2),G=Q+b;GS(r,le,z,G,o.pointStyleWidth&&N)}else{const le=Q+Math.max((y-T)/2,0),z=c.leftForLtr(Z,N),G=Oc(V.borderRadius);r.beginPath(),Object.values(G).some(fe=>fe!==0)?Oh(r,{x:z,y:le,w:N,h:T,radius:G}):r.rect(z,le,N,T),r.fill(),X!==0&&r.stroke()}r.restore()},P=function(Z,Q,V){Vc(r,V.text,Z,Q+M/2,f,{strikethrough:V.hidden,textAlign:c.textAlign(V.textAlign)})},O=this.isHorizontal(),$=this._computeTitleHeight();O?x={x:bs(s,this.left+h,this.right-i[0]),y:this.top+h+$,line:0}:x={x:this.left+h,y:bs(s,this.top+$+h,this.bottom-t[0].height),line:0},QS(this.ctx,e.textDirection);const q=M+h;this.legendItems.forEach((Z,Q)=>{r.strokeStyle=Z.fontColor,r.fillStyle=Z.fontColor;const V=r.measureText(Z.text).width,X=c.textAlign(Z.textAlign||(Z.textAlign=o.textAlign)),le=N+b+V;let z=x.x,G=x.y;c.setWidth(this.width),O?Q>0&&z+le+h>this.right&&(G=x.y+=q,x.line++,z=x.x=bs(s,this.left+h,this.right-i[x.line])):Q>0&&G+q>this.bottom&&(z=x.x=z+t[x.line].width+h,x.line++,G=x.y=bs(s,this.top+$+h,this.bottom-t[x.line].height));const fe=c.x(z);if(k(fe,G,Z),z=e8(X,z+N+b,O?z+le:this.right,e.rtl),P(c.x(z),G,Z),O)x.x+=le+h;else if(typeof Z.text!="string"){const ae=f.lineHeight;x.y+=TA(Z,ae)+h}else x.y+=q}),eA(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=qr(t.font),r=Ss(t.padding);if(!t.display)return;const s=$f(e.rtl,this.left,this.width),o=this.ctx,u=t.position,c=i.size/2,f=r.top+c;let h,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),h=this.top+f,y=bs(e.align,y,this.right-b);else{const N=this.columnSizes.reduce((T,M)=>Math.max(T,M.height),0);h=f+bs(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const x=bs(u,y,y+b);o.textAlign=s.textAlign(U2(u)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Vc(o,t.text,x,h,i)}_computeTitleHeight(){const e=this.options.title,t=qr(e.font),i=Ss(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(Il(e,this.left,this.right)&&Il(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Il(e,r.left,r.left+r.width)&&Il(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!FF(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=RF(r,i);r&&!s&&ki(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&ki(t.onHover,[e,i,this],this)}else i&&ki(t.onClick,[e,i,this],this)}}function DF(n,e,t,i,r){const s=IF(i,n,e,t),o=OF(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function IF(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}function OF(n,e,t){let i=n;return typeof e.text!="string"&&(i=TA(e,t)),i}function TA(n,e){const t=n.text?n.text.length:0;return e*t}function FF(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var BF={id:"legend",_element:Pw,start(n,e,t){const i=n.legend=new Pw({ctx:n.ctx,options:t,chart:n});_s.configure(n,i,t),_s.addBox(n,i)},stop(n){_s.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;_s.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const f=c.controller.getStyle(t?0:void 0),h=Ss(f.borderWidth);return{text:e[c.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(u||f.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Z2 extends co{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=$i(i.text)?i.text.length:1;this._padding=Ss(i.padding);const s=r*qr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:o}=this,u=o.align;let c=0,f,h,y;return this.isHorizontal()?(h=bs(u,i,s),y=t+e,f=s-i):(o.position==="left"?(h=i+e,y=bs(u,r,t),c=Vi*-.5):(h=s-e,y=bs(u,t,r),c=Vi*.5),f=r-t),{titleX:h,titleY:y,maxWidth:f,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=qr(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:u,maxWidth:c,rotation:f}=this._drawArgs(s);Vc(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:f,textAlign:U2(t.align),textBaseline:"middle",translation:[o,u]})}}function zF(n,e){const t=new Z2({ctx:n.ctx,options:e,chart:n});_s.configure(n,t,e),_s.addBox(n,t),n.titleBlock=t}var jF={id:"title",_element:Z2,start(n,e,t){zF(n,t)},stop(n){const e=n.titleBlock;_s.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;_s.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pm=new WeakMap;var UF={id:"subtitle",start(n,e,t){const i=new Z2({ctx:n.ctx,options:t,chart:n});_s.configure(n,i,t),_s.addBox(n,i),pm.set(n,i)},stop(n){_s.removeBox(n,pm.get(n)),pm.delete(n)},beforeUpdate(n,e,t){const i=pm.get(n);_s.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yh={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const c=u.tooltipPosition();i.add(c.x),r+=c.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((u,c)=>u+c)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,u;for(s=0,o=n.length;s<o;++s){const c=n[s].element;if(c&&c.hasValue()){const f=c.getCenterPoint(),h=Q1(e,f);h<r&&(r=h,u=c)}}if(u){const c=u.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function qo(n,e){return e&&($i(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Pl(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function VF(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:u}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Rw(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:u}=e,c=qr(e.bodyFont),f=qr(e.titleFont),h=qr(e.footerFont),y=s.length,b=r.length,x=i.length,N=Ss(e.padding);let T=N.height,M=0,k=i.reduce(($,q)=>$+q.before.length+q.lines.length+q.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,y&&(T+=y*f.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),k){const $=e.displayColors?Math.max(u,c.lineHeight):c.lineHeight;T+=x*$+(k-x)*c.lineHeight+(k-1)*e.bodySpacing}b&&(T+=e.footerMarginTop+b*h.lineHeight+(b-1)*e.footerSpacing);let P=0;const O=function($){M=Math.max(M,t.measureText($).width+P)};return t.save(),t.font=f.string,ai(n.title,O),t.font=c.string,ai(n.beforeBody.concat(n.afterBody),O),P=e.displayColors?o+2+e.boxPadding:0,ai(i,$=>{ai($.before,O),ai($.lines,O),ai($.after,O)}),P=0,t.font=h.string,ai(n.footer,O),t.restore(),M+=N.width,{width:M,height:T}}function qF(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function HF(n,e,t,i){const{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+s+o>e.width||n==="right"&&r-s-o<0)return!0}function GF(n,e,t,i){const{x:r,width:s}=t,{width:o,chartArea:{left:u,right:c}}=n;let f="center";return i==="center"?f=r<=(u+c)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),HF(f,n,e,t)&&(f="center"),f}function Dw(n,e,t){const i=t.yAlign||e.yAlign||qF(n,t);return{xAlign:t.xAlign||e.xAlign||GF(n,e,t,i),yAlign:i}}function WF(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function KF(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Iw(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:u,yAlign:c}=t,f=r+s,{topLeft:h,topRight:y,bottomLeft:b,bottomRight:x}=Oc(o);let N=WF(e,u);const T=KF(e,c,f);return c==="center"?u==="left"?N+=f:u==="right"&&(N-=f):u==="left"?N-=Math.max(h,b)+r:u==="right"&&(N+=Math.max(y,x)+r),{x:Zr(N,0,i.width-e.width),y:Zr(T,0,i.height-e.height)}}function mm(n,e,t){const i=Ss(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Ow(n){return qo([],Pl(n))}function YF(n,e,t){return Ku(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Fw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const CA={beforeTitle:Ml,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ml,beforeBody:Ml,beforeLabel:Ml,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Mn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ml,afterBody:Ml,beforeFooter:Ml,footer:Ml,afterFooter:Ml};function Gs(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?CA[e].call(t,i):r}class l2 extends co{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new sA(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=YF(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Gs(i,"beforeTitle",this,e),s=Gs(i,"title",this,e),o=Gs(i,"afterTitle",this,e);let u=[];return u=qo(u,Pl(r)),u=qo(u,Pl(s)),u=qo(u,Pl(o)),u}getBeforeBody(e,t){return Ow(Gs(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return ai(e,s=>{const o={before:[],lines:[],after:[]},u=Fw(i,s);qo(o.before,Pl(Gs(u,"beforeLabel",this,s))),qo(o.lines,Gs(u,"label",this,s)),qo(o.after,Pl(Gs(u,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,t){return Ow(Gs(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Gs(i,"beforeFooter",this,e),s=Gs(i,"footer",this,e),o=Gs(i,"afterFooter",this,e);let u=[];return u=qo(u,Pl(r)),u=qo(u,Pl(s)),u=qo(u,Pl(o)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],o=[];let u=[],c,f;for(c=0,f=t.length;c<f;++c)u.push(VF(this.chart,t[c]));return e.filter&&(u=u.filter((h,y,b)=>e.filter(h,y,b,i))),e.itemSort&&(u=u.sort((h,y)=>e.itemSort(h,y,i))),ai(u,h=>{const y=Fw(e.callbacks,h);r.push(Gs(y,"labelColor",this,h)),s.push(Gs(y,"labelPointStyle",this,h)),o.push(Gs(y,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const u=yh[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=Rw(this,i),f=Object.assign({},u,c),h=Dw(this.chart,i,f),y=Iw(i,f,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:y.x,y:y.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:u}=i,{topLeft:c,topRight:f,bottomLeft:h,bottomRight:y}=Oc(u),{x:b,y:x}=e,{width:N,height:T}=t;let M,k,P,O,$,q;return s==="center"?($=x+T/2,r==="left"?(M=b,k=M-o,O=$+o,q=$-o):(M=b+N,k=M+o,O=$-o,q=$+o),P=M):(r==="left"?k=b+Math.max(c,h)+o:r==="right"?k=b+N-Math.max(f,y)-o:k=this.caretX,s==="top"?(O=x,$=O-o,M=k-o,P=k+o):(O=x+T,$=O+o,M=k+o,P=k-o),q=O),{x1:M,x2:k,x3:P,y1:O,y2:$,y3:q}}drawTitle(e,t,i){const r=this.title,s=r.length;let o,u,c;if(s){const f=$f(i.rtl,this.x,this.width);for(e.x=mm(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",o=qr(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,c=0;c<s;++c)t.fillText(r[c],f.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+u,c+1===s&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,s){const o=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:c,boxWidth:f}=s,h=qr(s.bodyFont),y=mm(this,"left",s),b=r.x(y),x=c<h.lineHeight?(h.lineHeight-c)/2:0,N=t.y+x;if(s.usePointStyle){const T={radius:Math.min(f,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},M=r.leftForLtr(b,f)+f/2,k=N+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,t2(e,T,M,k),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,t2(e,T,M,k)}else{e.lineWidth=Rn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const T=r.leftForLtr(b,f),M=r.leftForLtr(r.xPlus(b,1),f-2),k=Oc(o.borderRadius);Object.values(k).some(P=>P!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Oh(e,{x:T,y:N,w:f,h:c,radius:k}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Oh(e,{x:M,y:N+1,w:f-2,h:c-2,radius:k}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(T,N,f,c),e.strokeRect(T,N,f,c),e.fillStyle=o.backgroundColor,e.fillRect(M,N+1,f-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:u,boxHeight:c,boxWidth:f,boxPadding:h}=i,y=qr(i.bodyFont);let b=y.lineHeight,x=0;const N=$f(i.rtl,this.x,this.width),T=function(V){t.fillText(V,N.x(e.x+x),e.y+b/2),e.y+=b+s},M=N.textAlign(o);let k,P,O,$,q,Z,Q;for(t.textAlign=o,t.textBaseline="middle",t.font=y.string,e.x=mm(this,M,i),t.fillStyle=i.bodyColor,ai(this.beforeBody,T),x=u&&M!=="right"?o==="center"?f/2+h:f+2+h:0,$=0,Z=r.length;$<Z;++$){for(k=r[$],P=this.labelTextColors[$],t.fillStyle=P,ai(k.before,T),O=k.lines,u&&O.length&&(this._drawColorBox(t,e,$,N,i),b=Math.max(y.lineHeight,c)),q=0,Q=O.length;q<Q;++q)T(O[q]),b=y.lineHeight;ai(k.after,T)}x=0,b=y.lineHeight,ai(this.afterBody,T),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let o,u;if(s){const c=$f(i.rtl,this.x,this.width);for(e.x=mm(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",o=qr(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,u=0;u<s;++u)t.fillText(r[u],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:o}=this,{x:u,y:c}=e,{width:f,height:h}=i,{topLeft:y,topRight:b,bottomLeft:x,bottomRight:N}=Oc(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+y,c),o==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+f-b,c),t.quadraticCurveTo(u+f,c,u+f,c+b),o==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+f,c+h-N),t.quadraticCurveTo(u+f,c+h,u+f-N,c+h),o==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+x,c+h),t.quadraticCurveTo(u,c+h,u,c+h-x),o==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,c+y),t.quadraticCurveTo(u,c,u+y,c),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=yh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const u=this._size=Rw(this,e),c=Object.assign({},o,this._size),f=Dw(t,e,c),h=Iw(e,c,f,t);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ss(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),QS(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),eA(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:c})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[c],index:c}}),s=!eg(i,r),o=this._positionChanged(r,t);(s||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,i),u=this._positionChanged(o,e),c=t||!eg(o,s)||u;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,o=yh[s.position].call(this,e,t);return o!==!1&&(i!==o.x||r!==o.y)}}ct(l2,"positioners",yh);var $F={id:"tooltip",_element:l2,positioners:yh,afterInit(n,e,t){t&&(n.tooltip=new l2({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:CA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},JF=Object.freeze({__proto__:null,Colors:lF,Decimation:dF,Filler:PF,Legend:BF,SubTitle:UF,Title:jF,Tooltip:$F});const ZF=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function XF(n,e,t,i){const r=n.indexOf(e);if(r===-1)return ZF(n,e,t,i);const s=n.lastIndexOf(e);return r!==s?t:r}const QF=(n,e)=>n===null?null:Zr(Math.round(n),0,e);function Bw(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class u2 extends Kc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Mn(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:XF(i,e,dn(t,e),this._addedLabels),QF(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return Bw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ct(u2,"id","category"),ct(u2,"defaults",{ticks:{callback:Bw}});function e9(n,e){const t=[],{bounds:r,step:s,min:o,max:u,precision:c,count:f,maxTicks:h,maxDigits:y,includeBounds:b}=n,x=s||1,N=h-1,{min:T,max:M}=e,k=!Mn(o),P=!Mn(u),O=!Mn(f),$=(M-T)/(y+1);let q=Rb((M-T)/N/x)*x,Z,Q,V,X;if(q<1e-14&&!k&&!P)return[{value:T},{value:M}];X=Math.ceil(M/q)-Math.floor(T/q),X>N&&(q=Rb(X*q/N/x)*x),Mn(c)||(Z=Math.pow(10,c),q=Math.ceil(q*Z)/Z),r==="ticks"?(Q=Math.floor(T/q)*q,V=Math.ceil(M/q)*q):(Q=T,V=M),k&&P&&s&&K7((u-o)/s,q/1e3)?(X=Math.round(Math.min((u-o)/q,h)),q=(u-o)/X,Q=o,V=u):O?(Q=k?o:Q,V=P?u:V,X=f-1,q=(V-Q)/X):(X=(V-Q)/q,Ah(X,Math.round(X),q/1e3)?X=Math.round(X):X=Math.ceil(X));const le=Math.max(Db(q),Db(Q));Z=Math.pow(10,Mn(c)?le:c),Q=Math.round(Q*Z)/Z,V=Math.round(V*Z)/Z;let z=0;for(k&&(b&&Q!==o?(t.push({value:o}),Q<o&&z++,Ah(Math.round((Q+z*q)*Z)/Z,o,zw(o,$,n))&&z++):Q<o&&z++);z<X;++z){const G=Math.round((Q+z*q)*Z)/Z;if(P&&G>u)break;t.push({value:G})}return P&&b&&V!==u?t.length&&Ah(t[t.length-1].value,u,zw(u,$,n))?t[t.length-1].value=u:t.push({value:u}):(!P||V===u)&&t.push({value:V}),t}function zw(n,e,{horizontal:t,minRotation:i}){const r=oo(i),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class og extends Kc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Mn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=c=>r=t?r:c,u=c=>s=i?s:c;if(e){const c=Xo(r),f=Xo(s);c<0&&f<0?u(0):c>0&&f>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);u(s+c),e||o(r-c)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=e9(r,s);return e.bounds==="ticks"&&OS(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Wh(e,this.chart.options.locale,this.options.ticks.format)}}class c2 extends og{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=yr(e)?e:0,this.max=yr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=oo(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ct(c2,"id","linear"),ct(c2,"defaults",{ticks:{callback:yg.formatters.numeric}});const Bh=n=>Math.floor(Du(n)),Cc=(n,e)=>Math.pow(10,Bh(n)+e);function jw(n){return n/Math.pow(10,Bh(n))===1}function Uw(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function t9(n,e){const t=e-n;let i=Bh(t);for(;Uw(n,e,i)>10;)i++;for(;Uw(n,e,i)<10;)i--;return Math.min(i,Bh(n))}function n9(n,{min:e,max:t}){e=ha(n.min,e);const i=[],r=Bh(e);let s=t9(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const u=Math.pow(10,s),c=r>s?Math.pow(10,r):0,f=Math.round((e-c)*o)/o,h=Math.floor((e-c)/u/10)*u*10;let y=Math.floor((f-h)/Math.pow(10,s)),b=ha(n.min,Math.round((c+h+y*Math.pow(10,s))*o)/o);for(;b<t;)i.push({value:b,major:jw(b),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(s++,y=2,o=s>=0?1:o),b=Math.round((c+h+y*Math.pow(10,s))*o)/o;const x=ha(n.max,b);return i.push({value:x,major:jw(x),significand:y}),i}class f2 extends Kc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=og.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return yr(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=yr(e)?Math.max(0,e):null,this.max=yr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!yr(this._userMin)&&(this.min=e===Cc(this.min,0)?Cc(this.min,-1):Cc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const s=u=>i=e?i:u,o=u=>r=t?r:u;i===r&&(i<=0?(s(1),o(10)):(s(Cc(i,-1)),o(Cc(r,1)))),i<=0&&s(Cc(r,-1)),r<=0&&o(Cc(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=n9(t,this);return e.bounds==="ticks"&&OS(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Wh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Du(e),this._valueRange=Du(this.max)-Du(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Du(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}ct(f2,"id","logarithmic"),ct(f2,"defaults",{ticks:{callback:yg.formatters.logarithmic,major:{enabled:!0}}});function d2(n){const e=n.ticks;if(e.display&&n.display){const t=Ss(e.backdropPadding);return dn(e.font&&e.font.size,Ji.font.size)+t.height}return 0}function i9(n,e,t){return t=$i(t)?t:[t],{w:c8(n,e.string,t),h:t.length*e.lineHeight}}function Vw(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function r9(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,u=o.centerPointLabels?Vi/s:0;for(let c=0;c<s;c++){const f=o.setContext(n.getPointLabelContext(c));r[c]=f.padding;const h=n.getPointPosition(c,n.drawingArea+r[c],u),y=qr(f.font),b=i9(n.ctx,y,n._pointLabels[c]);i[c]=b;const x=ma(n.getIndexAngle(c)+u),N=Math.round(z2(x)),T=Vw(N,h.x,b.w,0,180),M=Vw(N,h.y,b.h,90,270);s9(t,e,x,T,M)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=l9(n,i,r)}function s9(n,e,t,i,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let u=0,c=0;i.start<e.l?(u=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-u)):i.end>e.r&&(u=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+u)),r.start<e.t?(c=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+c))}function a9(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:u}=t,c=n.getPointPosition(e,i+r+o,s),f=Math.round(z2(ma(c.angle+Lr))),h=f9(c.y,u.h,f),y=u9(f),b=c9(c.x,u.w,y);return{visible:!0,x:c.x,y:h,textAlign:y,left:b,top:h,right:b+u.w,bottom:h+u.h}}function o9(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:s}=n;return!(Fl({x:t,y:i},e)||Fl({x:t,y:s},e)||Fl({x:r,y:i},e)||Fl({x:r,y:s},e))}function l9(n,e,t){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:u}=s.pointLabels,c={extra:d2(s)/2,additionalAngle:o?Vi/r:0};let f;for(let h=0;h<r;h++){c.padding=t[h],c.size=e[h];const y=a9(n,h,c);i.push(y),u==="auto"&&(y.visible=o9(y,f),y.visible&&(f=y))}return i}function u9(n){return n===0||n===180?"center":n<180?"left":"right"}function c9(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function f9(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function d9(n,e,t){const{left:i,top:r,right:s,bottom:o}=t,{backdropColor:u}=e;if(!Mn(u)){const c=Oc(e.borderRadius),f=Ss(e.backdropPadding);n.fillStyle=u;const h=i-f.left,y=r-f.top,b=s-i+f.width,x=o-r+f.height;Object.values(c).some(N=>N!==0)?(n.beginPath(),Oh(n,{x:h,y,w:b,h:x,radius:c}),n.fill()):n.fillRect(h,y,b,x)}}function h9(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(n.getPointLabelContext(r));d9(t,o,s);const u=qr(o.font),{x:c,y:f,textAlign:h}=s;Vc(t,n._pointLabels[r],c,f+u.lineHeight/2,u,{color:o.color,textAlign:h,textBaseline:"middle"})}}function NA(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,Ui);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function p9(n,e,t,i,r){const s=n.ctx,o=e.circular,{color:u,lineWidth:c}=e;!o&&!i||!u||!c||t<0||(s.save(),s.strokeStyle=u,s.lineWidth=c,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),NA(n,t,o,i),s.closePath(),s.stroke(),s.restore())}function m9(n,e,t){return Ku(n,{label:t,index:e,type:"pointLabel"})}class vh extends og{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ss(d2(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=yr(e)&&!isNaN(e)?e:0,this.max=yr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/d2(this.options))}generateTickLabels(e){og.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=ki(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?r9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){const t=Ui/(this._pointLabels.length||1),i=this.options.startAngle||0;return ma(e*t+oo(i))}getDistanceFromCenterForValue(e){if(Mn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Mn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return m9(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-Lr+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),NA(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,o=this._pointLabels.length;let u,c,f;if(t.pointLabels.display&&h9(this,o),r.display&&this.ticks.forEach((h,y)=>{if(y!==0||y===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const b=this.getContext(y),x=r.setContext(b),N=s.setContext(b);p9(this,x,c,o,N)}}),i.display){for(e.save(),u=o-1;u>=0;u--){const h=i.setContext(this.getPointLabelContext(u)),{color:y,lineWidth:b}=h;!b||!y||(e.lineWidth=b,e.strokeStyle=y,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),f=this.getPointPosition(u,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(f.x,f.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const f=i.setContext(this.getContext(c)),h=qr(f.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),f.showLabelBackdrop){e.font=h.string,o=e.measureText(u.label).width,e.fillStyle=f.backdropColor;const y=Ss(f.backdropPadding);e.fillRect(-o/2-y.left,-s-h.size/2-y.top,o+y.width,h.size+y.height)}Vc(e,u.label,0,-s,h,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),e.restore()}drawTitle(){}}ct(vh,"id","radialLinear"),ct(vh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ct(vh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ct(vh,"descriptors",{angleLines:{_fallback:"grid"}});const _g={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ys=Object.keys(_g);function qw(n,e){return n-e}function Hw(n,e){if(Mn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),yr(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(nd(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function Gw(n,e,t,i){const r=Ys.length;for(let s=Ys.indexOf(n);s<r-1;++s){const o=_g[Ys[s]],u=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(u*o.size))<=i)return Ys[s]}return Ys[r-1]}function g9(n,e,t,i,r){for(let s=Ys.length-1;s>=Ys.indexOf(t);s--){const o=Ys[s];if(_g[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Ys[t?Ys.indexOf(t):0]}function y9(n){for(let e=Ys.indexOf(n)+1,t=Ys.length;e<t;++e)if(_g[Ys[e]].common)return Ys[e]}function Ww(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=j2(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function v9(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let u,c;for(u=s;u<=o;u=+r.add(u,1,i))c=t[u],c>=0&&(e[c].major=!0);return e}function Kw(n,e,t){const i=[],r={},s=e.length;let o,u;for(o=0;o<s;++o)u=e[o],r[u]=o,i.push({value:u,major:!1});return s===0||!t?i:v9(n,i,r,t)}class zh extends Kc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new NI._date(e.adapters.date);r.init(t),Sh(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Hw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:u}=this.getUserBounds();function c(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!o||!u)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=yr(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=yr(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,u=Z7(r,s,o);return this._unit=t.unit||(i.autoSkip?Gw(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):g9(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:y9(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),Kw(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Zr(t,0,o),i=Zr(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Gw(s.minUnit,t,i,this._getLabelCapacity(t)),u=dn(r.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,f=nd(c)||c===!0,h={};let y=t,b,x;if(f&&(y=+e.startOf(y,"isoWeek",c)),y=+e.startOf(y,f?"day":o),e.diff(i,t,o)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+o);const N=r.ticks.source==="data"&&this.getDataTimestamps();for(b=y,x=0;b<i;b=+e.add(b,u,o),x++)Ww(h,b,N);return(b===i||r.bounds==="ticks"||x===1)&&Ww(h,b,N),Object.keys(h).sort(qw).map(T=>+T)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,o=t||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,r){const s=this.options,o=s.ticks.callback;if(o)return ki(o,[e,t,i],this);const u=s.time.displayFormats,c=this._unit,f=this._majorUnit,h=c&&u[c],y=f&&u[f],b=i[t],x=f&&y&&b&&b.major;return this._adapter.format(e,r||(x?y:h))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=oo(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),o=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*s+u*o,h:i*o+u*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Kw(this,[e],this._majorUnit),r),o=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(Hw(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return zS(e.sort(qw))}}ct(zh,"id","time"),ct(zh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gm(n,e,t){let i=0,r=n.length-1,s,o,u,c;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=Ol(n,"pos",e)),{pos:s,time:u}=n[i],{pos:o,time:c}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=Ol(n,"time",e)),{time:s,pos:u}=n[i],{time:o,pos:c}=n[r]);const f=o-s;return f?u+(c-u)*(e-s)/f:u}class h2 extends zh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=gm(t,this.min),this._tableRange=gm(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let o,u,c,f,h;for(o=0,u=e.length;o<u;++o)f=e[o],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,u=r.length;o<u;++o)h=r[o+1],c=r[o-1],f=r[o],Math.round((h+c)/2)!==f&&s.push({time:f,pos:o/(u-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(gm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return gm(this._table,i*this._tableRange+this._minPos,!0)}}ct(h2,"id","timeseries"),ct(h2,"defaults",zh.defaults);var x9=Object.freeze({__proto__:null,CategoryScale:u2,LinearScale:c2,LogarithmicScale:f2,RadialLinearScale:vh,TimeScale:zh,TimeSeriesScale:h2});const EA=[CI,tF,JF,x9];Wo.register(...EA);Wo.register(...EA);const Br=({title:n,value:e,icon:t,description:i,bgColor:r="bg-sky-500",textColor:s="text-white",smallValue:o=!1,className:u=""})=>S.jsxs("div",{className:`shadow-lg rounded-xl p-5 ${r} ${s} flex flex-col justify-between h-full ${u}`,children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:n}),t&&S.jsx("div",{className:"opacity-75",children:t})]}),S.jsx("p",{className:`${o?"text-xl sm:text-2xl":"text-2xl sm:text-3xl"} font-bold mb-1`,children:e})]}),i&&S.jsx("p",{className:"text-xs sm:text-sm opacity-90 mt-auto",children:i})]}),ym=({isActive:n,onClick:e,icon:t,label:i})=>S.jsxs("button",{onClick:e,className:`flex items-center px-4 py-3 font-medium text-sm rounded-t-lg transition-colors focus:outline-none
                    ${n?"bg-white text-sky-600 border-sky-600 border-t border-x":"text-slate-500 hover:text-sky-600 hover:bg-slate-50 border-transparent border-t border-x"}`,role:"tab","aria-selected":n,children:[t,S.jsx("span",{className:"ml-2",children:i})]}),b9=()=>{const{isLoading:n,error:e,isInitializing:t,initializationError:i,totalProductsInV2DB:r,countKeepaPresent:s,countMarketAnalysisPresent:o,countEbayProductDataPresent:u,countInitializedOnly:c,countTeilwertEstimated:f,countPdfLinksPresent:h,v2Statuses:y,v2AllSearchTerms:b,fetchV2Statuses:x,initializeV2Database:N,isBatchProcessing:T,batchProcessProgress:M,batchProcessError:k,batchProcessedCount:P,batchProcessSuccessMessage:O,batchGenerateMarketAnalysis:$,isBatchEstimatingTeilwert:q,batchTeilwertEstimationProgress:Z,batchTeilwertEstimationError:Q,batchTeilwertEstimatedCount:V,batchTeilwertSuccessMessage:X,batchGenerateTeilwertEstimations:le,isBatchRegeneratingPdfs:z,batchPdfRegenerationProgress:G,batchPdfRegenerationError:fe,batchPdfRegeneratedCount:ae,batchPdfRegenerationSuccessMessage:me,batchRegenerateAllPdfs:te,v2ProcessedKeepaData:ce,v2GeminiTeilwerte:ne,searchTermsPresence:de,keepaPresence:D,teilwertPresence:ye,pdfLinkPresence:R,isBatchGeneratingMissingPdfs:W,batchMissingPdfProgress:j,batchMissingPdfError:re,batchMissingPdfSuccessMessage:se,batchGenerateMissingPdfs:xe}=Wc(),{products:pe,isLoading:Te,fetchProducts:$e,filterOutETVZero:Ye,setFilterOutETVZeroPreference:et}=Hc(),[tt,xt]=ee.useState("10"),[Fe,ue]=ee.useState("5"),[bt,nt]=ee.useState(""),[Je,it]=ee.useState(""),[rt,je]=ee.useState(!1),ot=()=>{const Ke=parseInt(tt,10),Vt=bt.split(",").map(Pt=>Pt.trim()).filter(Pt=>Pt!=="");!isNaN(Ke)&&Ke>0?$(Ke,Vt.length>0?Vt:void 0):alert("Bitte gltige Anzahl (>0) fr Marktanalyse eingeben.")},Et=()=>{const Ke=parseInt(Fe,10),Vt=Je.split(",").map(Pt=>Pt.trim()).filter(Pt=>Pt!=="");!isNaN(Ke)&&Ke>0?le(Ke,Vt.length>0?Vt:void 0,rt):alert("Bitte gltige Anzahl (>0) fr Teilwertschtzung eingeben.")},$t=()=>{te()},It=()=>{xe()},Ot=async Ke=>{et(Ke.target.checked),await $e(),await x(!0)},Rt=ee.useMemo(()=>pe?pe.filter(Ke=>!de[Ke.id]).length:0,[pe,de]),vt=ee.useMemo(()=>pe?pe.filter(Ke=>{const Vt=y[Ke.id],Pt=!!de[Ke.id],hi=!ye[Ke.id],tn=!!D[Ke.id],gn=Vt==null?void 0:Vt.ebay,Li=gn===!0||Array.isArray(gn)&&gn.length>0;return Pt&&hi&&tn&&Li}).length:0,[pe,de,y,D,ye]),Ht=ee.useMemo(()=>pe?pe.filter(Ke=>{const Vt=y[Ke.id],Pt=Vt==null?void 0:Vt.ebay,hi=Pt===!0||Array.isArray(Pt)&&Pt.length>0;return!R[Ke.id]&&D[Ke.id]&&ye[Ke.id]&&hi}).length:0,[pe,R,D,ye,y]);return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-white p-6 rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-1",children:"Globale Produktfilter"}),S.jsx("p",{className:"text-sm text-slate-600",children:"Beeinflusst Laden und Anzeigen von Produkten."})]}),S.jsxs("label",{className:"flex items-center text-sm text-slate-700 mt-2 sm:mt-0 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer",children:[S.jsx("input",{type:"checkbox",checked:Ye,onChange:Ot,className:"mr-2 h-4 w-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500",disabled:n||Te||t||T||q}),S.jsx(JD,{className:"w-4 h-4 mr-1 text-sky-600"}),"Produkte mit ETV=0 ausschlieen"]})]}),S.jsx("hr",{className:"my-6 border-slate-200"}),S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Datenbank Initialisierung"}),S.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Sicherstellen, dass fr alle ",pe.length," Produkte ein Eintrag in `",Ws,"` existiert."]}),S.jsxs("button",{onClick:N,disabled:t||n||Te||pe.length===0||T||q,className:"px-6 py-3 btn-primary-base flex items-center bg-green-600 hover:bg-green-700 focus:ring-green-500 disabled:bg-green-300 disabled:text-green-100 disabled:cursor-not-allowed",children:[t?S.jsx(xi,{size:"sm",className:"mr-2 border-white"}):S.jsx(kS,{className:"w-5 h-5 mr-2"}),t?"Initialisiere...":`V2 Status fr ${pe.length} Produkte Initialisieren`]}),Te&&!t&&S.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Lade Produktliste..."}),i&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler Initialisierung:"}),S.jsx("p",{children:i})]}),!t&&!i&&c>0&&pe.length>0&&S.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center",children:[S.jsx(ga,{className:"w-5 h-5 mr-1"}),"Initialisierung scheint erfolgt."]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Batch-Marktanalyse Steuerung"}),S.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Starte Gemini Marktanalyse & eBay Suchbegriff-Erstellung."}),S.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Produkte fr Analyse: ",S.jsx("strong",{className:"text-slate-700",children:Rt})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[S.jsx("input",{type:"number",value:tt,onChange:Ke=>xt(Ke.target.value),placeholder:"Anzahl",min:"1",className:"form-input-base sm:w-40",disabled:T||t||q}),S.jsx("textarea",{value:bt,onChange:Ke=>nt(Ke.target.value),placeholder:"Prioritts-ASINs, komma-separiert",rows:2,className:"form-input-base sm:flex-1",disabled:T||t||q}),S.jsxs("button",{onClick:ot,disabled:T||t||q||parseInt(tt,10)<=0||Te||pe.length===0||Rt===0,className:"px-6 py-3 btn-primary-base flex items-center justify-center w-full sm:w-auto",children:[T?S.jsx(xi,{size:"sm",className:"mr-2 border-white"}):S.jsx(Zm,{className:"w-5 h-5 mr-2"}),T?"Verarbeite MA-Batch...":"MA-Batch Starten"]})]}),T&&M&&S.jsxs("div",{className:"mt-4 p-3 bg-sky-50 rounded-md text-sm text-sky-700",children:[S.jsx(xi,{size:"sm",className:"inline-block mr-2"}),"MA: Produkt ",M.current," von ",M.total,": ",S.jsx("strong",{className:"ml-1",children:M.productName})," (ASIN: ",M.asin,")"]}),k&&!T&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler MA-Batch:"}),S.jsx("p",{children:k})]}),O&&!T&&S.jsxs("div",{className:"mt-3 p-3 bg-green-100 border-l-4 border-green-500 text-green-700",children:[S.jsx("p",{className:"font-bold",children:"MA-Batch Abgeschlossen:"}),S.jsx("p",{children:O})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Batch Teilwertschtzung Steuerung"}),S.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Starte Gemini Teilwertschtzung fr Produkte mit abgeschlossener Marktanalyse und vorhandenen Detaildaten."}),S.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Hinweis: Batch prft MA-Daten (`",bm,"`), Keepa (`",kh,"`), eBay-Begriffe (`",Lc,"`) und eBay Ergebnisse (`",Uf,"`). Bei fehlenden Detail-Daten wird Produkt bersprungen (Eintrag in `",Pf,"`)."]}),S.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Produkte initial qualifiziert fr Teilwert (MA, Keepa & eBay vorhanden, Teilwert fehlt): ",S.jsx("strong",{className:"text-slate-700",children:vt})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 mt-4",children:[S.jsxs("label",{className:"flex items-center text-sm text-slate-700 p-2 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer",children:[S.jsx("input",{type:"checkbox",checked:rt,onChange:Ke=>je(Ke.target.checked),className:"mr-2 h-4 w-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500"}),"Keepa-Check fr Batch berspringen"]}),S.jsx("input",{type:"number",value:Fe,onChange:Ke=>ue(Ke.target.value),placeholder:"Anzahl",min:"1",className:"form-input-base sm:w-40",disabled:q||t||T}),S.jsx("textarea",{value:Je,onChange:Ke=>it(Ke.target.value),placeholder:"Prioritts-ASINs, komma-separiert",rows:2,className:"form-input-base sm:flex-1",disabled:q||t||T}),S.jsxs("button",{onClick:Et,disabled:q||t||T||parseInt(Fe,10)<=0||Te||pe.length===0||vt===0,className:"px-6 py-3 btn-primary-base flex items-center justify-center w-full sm:w-auto bg-emerald-600 hover:bg-emerald-700 focus:ring-emerald-500 disabled:bg-emerald-300 disabled:text-emerald-100 disabled:cursor-not-allowed",children:[q?S.jsx(xi,{size:"sm",className:"mr-2 border-white"}):S.jsx(Pa,{className:"w-5 h-5 mr-2"}),q?"Verarbeite Teilwert-Batch...":"Teilwert-Batch Starten"]})]}),q&&Z&&S.jsxs("div",{className:"mt-4 p-3 bg-emerald-50 rounded-md text-sm text-emerald-700",children:[S.jsxs("p",{className:"mb-2",children:[S.jsx(xi,{size:"sm",className:"inline-block mr-2"}),Z.phase==="pre-checking"?"Prfe Vorbedingungen fr Produkt ":Z.phase==="processing-pdf"?"PDF Verarbeitung fr Produkt ":"Teilwertschtzung fr Produkt ",Z.current," von ",Z.total,":",S.jsx("strong",{className:"ml-1",children:Z.productName||`ASIN: ${Z.asin}`}),Z.productName&&` (ASIN: ${Z.asin})`]}),Z.currentStepDetails&&S.jsx(Z1,{steps:Z.currentStepDetails})]}),Q&&!q&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler Teilwert-Batch:"}),S.jsx("p",{children:Q})]}),X&&!q&&S.jsxs("div",{className:"mt-3 p-3 bg-green-100 border-l-4 border-green-500 text-green-700",children:[S.jsx("p",{className:"font-bold",children:"Teilwert-Batch Abgeschlossen:"}),S.jsx("p",{children:X})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Fehlende PDFs generieren"}),S.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Erzeugt und ldt PDFs fr Produkte mit vorhandenen Daten, aber ohne PDF."}),S.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Produkte ohne PDF: ",S.jsx("strong",{className:"text-slate-700",children:Ht})]}),S.jsxs("button",{onClick:It,disabled:W||t||T||q||Ht===0,className:"px-6 py-3 btn-primary-base flex items-center justify-center w-full sm:w-auto bg-sky-600 hover:bg-sky-700 focus:ring-sky-500 disabled:bg-sky-300 disabled:text-sky-100 disabled:cursor-not-allowed",children:[W?S.jsx(xi,{size:"sm",className:"mr-2 border-white"}):S.jsx(el,{className:"w-5 h-5 mr-2"}),W?"Generiere PDFs...":"Fehlende PDFs generieren"]}),W&&j&&S.jsxs("div",{className:"mt-4 p-3 bg-sky-50 rounded-md text-sm text-sky-700",children:[S.jsx(xi,{size:"sm",className:"inline-block mr-2"}),"PDF ",j.current," von ",j.total,": ",S.jsx("strong",{className:"ml-1",children:j.productName})," (ASIN: ",j.asin,")"]}),re&&!W&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler fehlende PDF-Batch:"}),S.jsx("p",{children:re})]}),se&&!W&&S.jsxs("div",{className:"mt-3 p-3 bg-green-100 border-l-4 border-green-500 text-green-700",children:[S.jsx("p",{className:"font-bold",children:"Fehlende PDFs generiert:"}),S.jsx("p",{children:se})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Alle PDFs neu generieren"}),S.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Erzeugt fr alle Produkte mit vorhandenem PDF einen neuen Bericht und berschreibt die Datei in der Cloud."}),S.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Produkte mit PDF: ",S.jsx("strong",{className:"text-slate-700",children:h})]}),S.jsxs("button",{onClick:$t,disabled:z||t||T||q||h===0,className:"px-6 py-3 btn-primary-base flex items-center justify-center w-full sm:w-auto bg-cyan-600 hover:bg-cyan-700 focus:ring-cyan-500 disabled:bg-cyan-300 disabled:text-cyan-100 disabled:cursor-not-allowed",children:[z?S.jsx(xi,{size:"sm",className:"mr-2 border-white"}):S.jsx(el,{className:"w-5 h-5 mr-2"}),z?"Generiere PDFs...":"Alle PDFs neu generieren"]}),z&&G&&S.jsxs("div",{className:"mt-4 p-3 bg-cyan-50 rounded-md text-sm text-cyan-700",children:[S.jsx(xi,{size:"sm",className:"inline-block mr-2"}),"PDF ",G.current," von ",G.total,": ",S.jsx("strong",{className:"ml-1",children:G.productName})," (ASIN: ",G.asin,")"]}),fe&&!z&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler PDF-Batch:"}),S.jsx("p",{children:fe})]}),me&&!z&&S.jsxs("div",{className:"mt-3 p-3 bg-green-100 border-l-4 border-green-500 text-green-700",children:[S.jsx("p",{className:"font-bold",children:"PDF-Batch Abgeschlossen:"}),S.jsx("p",{children:me})]})]}),(n||Te)&&!e&&S.jsx("div",{className:"flex justify-center items-center h-40 bg-white p-6 rounded-lg shadow-md",children:S.jsx(xi,{text:"Lade V2 Prozess-Status & Produkte..."})}),!n&&!Te&&!e&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[S.jsx(Br,{title:"Produkte im System",value:pe.length,icon:S.jsx(MS,{className:"w-8 h-8"}),description:`${Ye?"(ETV=0 gefiltert)":""}.`,bgColor:"bg-slate-500",className:"md:col-span-1"}),S.jsx(Br,{title:"Produkte in V2 DB",value:r,icon:S.jsx(D2,{className:"w-8 h-8"}),description:`Eintrge in '${Ws}'.`,bgColor:"bg-indigo-500",className:"md:col-span-1"}),S.jsx(Br,{title:"Mit Teilwertschtzung",value:f||0,icon:S.jsx(Pa,{className:"w-8 h-8"}),description:"Abgeschlossene Teilwertschtzungen.",bgColor:"bg-emerald-500",className:"md:col-span-1"}),S.jsx(Br,{title:"PDF Links Vorhanden",value:h||0,icon:S.jsx(Qm,{className:"w-8 h-8"}),description:"Gespeicherte PDF Cloud Links.",bgColor:"bg-cyan-500",className:"md:col-span-1"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[S.jsx(Br,{title:"Mit Marktanalyse",value:o||0,icon:S.jsx(ga,{className:"w-8 h-8"}),description:"Mit Gemini MA & Suchbegriffen.",bgColor:"bg-green-500",className:"md:col-span-1"}),S.jsx(Br,{title:"Mit eBay Verkaufsdaten",value:u||0,icon:S.jsx(P2,{className:"w-8 h-8"}),description:"Mit produktbez. eBay-Verkaufsdaten.",bgColor:"bg-purple-500",className:"md:col-span-1"}),S.jsx(Br,{title:"Mit Keepa-Daten (v2)",value:s||0,icon:S.jsx(ga,{className:"w-8 h-8"}),description:`Verarbeitete Keepa-Daten in ${kh}.`,bgColor:"bg-teal-500",className:"md:col-span-1"}),S.jsx(Br,{title:"To Do",value:Ht,icon:S.jsx(Sb,{className:"w-8 h-8"}),description:"Produkte ohne PDF Link.",bgColor:"bg-sky-600",className:"md:col-span-1"})]})]}),!n&&!Te&&!e&&r===0&&pe.length>0&&S.jsx("div",{className:"p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700",children:S.jsxs("div",{className:"flex",children:[S.jsx("div",{className:"py-1",children:S.jsx(Sb,{className:"h-6 w-6 text-yellow-400 mr-3"})}),S.jsxs("div",{children:[S.jsx("p",{className:"font-bold",children:"Keine Daten in V2 Prozess-DB"}),S.jsxs("p",{className:"text-sm",children:["Keine Statusdaten in `",Ws,"`. Bitte initialisieren."]})]})]})})]})},w9=()=>{const{v2ApiToken:n,isConfigSet:e}=Vl(),{getProductById:t}=Hc(),{v2AllSearchTerms:i,v2Statuses:r,isLoading:s,fetchV2Statuses:o,fetchAllSearchTerms:u}=Wc(),[c,f]=ee.useState([]),[h,y]=ee.useState(!1),[b,x]=ee.useState(null),[N,T]=ee.useState(""),[M,k]=ee.useState(!1),[P,O]=ee.useState(null),[$,q]=ee.useState(1),[Z,Q]=ee.useState(""),[V,X]=ee.useState(null);ee.useEffect(()=>{if(y(!0),Object.keys(i).length===0&&e&&u(),Object.keys(i).length>0||!s){const ne=Object.entries(i).map(([de,D])=>{const ye=t(de),R=r[de],W=R==null?void 0:R.ebay,j=W===!0||Array.isArray(W)&&W.length>0?"Vorhanden":"Ausstehend";return{asin:de,productName:ye==null?void 0:ye.name,terms:D||[],ebayDataStatus:j}});f(ne.sort((de,D)=>(de.productName||de.asin).localeCompare(D.productName||D.asin))),y(!1)}else s&&f([])},[i,r,t,s]);const le=ne=>{x(ne.asin),T(ne.terms.join(", ")),O(null)},z=async()=>{if(!(!b||!n)){k(!0),O(null);try{const ne=N.split(",").map(D=>D.trim()).filter(D=>D.length>0),de=await mn.setKey(Lc,b,JSON.stringify(ne),n);if("error"in de)throw new Error(de.error);await o(!0),x(null),T("")}catch(ne){O(ne.message||"Fehler beim Speichern.")}finally{k(!1)}}},G=ee.useMemo(()=>c.filter(ne=>ne.asin.toLowerCase().includes(Z.toLowerCase())||ne.productName&&ne.productName.toLowerCase().includes(Z.toLowerCase())||ne.terms.some(de=>de.toLowerCase().includes(Z.toLowerCase()))),[c,Z]),fe=ee.useMemo(()=>{let ne=[...G];return V!==null&&ne.sort((de,D)=>{let ye,R;return V.key==="terms"?(ye=de.terms.join(", "),R=D.terms.join(", ")):(ye=de[V.key]??(V.direction==="asc"?1/0:-1/0),R=D[V.key]??(V.direction==="asc"?1/0:-1/0)),typeof ye=="string"&&typeof R=="string"?V.direction==="asc"?ye.localeCompare(R):R.localeCompare(ye):ye<R?V.direction==="asc"?-1:1:ye>R?V.direction==="asc"?1:-1:0}),ne},[G,V]),ae=ne=>{let de="asc";V&&V.key===ne&&V.direction==="asc"&&(de="desc"),X({key:ne,direction:de}),q(1)},me=ne=>!V||V.key!==ne?S.jsx("span",{className:"text-slate-400",children:""}):V.direction==="asc"?S.jsx("span",{className:"text-sky-600",children:""}):S.jsx("span",{className:"text-sky-600",children:""}),te=Math.ceil(fe.length/Da),ce=ee.useMemo(()=>{const ne=($-1)*Da;return fe.slice(ne,ne+Da)},[fe,$]);return ee.useEffect(()=>{q(1)},[Z]),h||s&&c.length===0?S.jsx("div",{className:"p-6",children:S.jsx(xi,{text:"Lade Suchbegriffsdaten..."})}):S.jsxs("div",{className:"p-6 bg-white rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200 space-y-4",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"eBay Suchbegriffe & Status"}),S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[S.jsx("input",{type:"text",placeholder:"ASIN, Name oder Begriff filtern...",value:Z,onChange:ne=>Q(ne.target.value),className:"form-input-base w-full sm:max-w-md"}),S.jsxs("button",{onClick:()=>{u(),o(!0)},className:"px-3 py-2 text-sm btn-secondary-base w-full sm:w-auto flex items-center justify-center",disabled:s||h||M,children:[S.jsx(el,{className:`w-4 h-4 mr-2 ${s||h?"animate-spin":""}`})," Daten Aktualisieren"]})]}),b&&S.jsxs("div",{className:"my-4 p-4 border border-sky-300 bg-sky-50 rounded-lg",children:[S.jsxs("h3",{className:"text-lg font-semibold text-sky-700 mb-2",children:["Bearbeite Begriffe fr ASIN: ",b]}),S.jsx("textarea",{value:N,onChange:ne=>T(ne.target.value),placeholder:"Begriffe, Komma-getrennt eingeben",rows:3,className:"form-input-base w-full mb-2"}),P&&S.jsx("p",{className:"text-xs text-red-600 mb-2",children:P}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:z,disabled:M,className:"px-4 py-2 text-sm btn-primary-base w-auto",children:[M?S.jsx(xi,{size:"sm"}):S.jsx(ga,{className:"w-4 h-4 mr-1"})," Speichern"]}),S.jsx("button",{onClick:()=>{x(null),O(null)},className:"px-4 py-2 text-sm btn-secondary-base w-auto",children:"Abbrechen"})]})]}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>ae("asin"),children:["ASIN ",me("asin")]}),S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>ae("productName"),children:["Produktname ",me("productName")]}),S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>ae("terms"),children:["Suchbegriffe ",me("terms")]}),S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>ae("ebayDataStatus"),children:["eBay Daten Status ",me("ebayDataStatus")]}),S.jsx("th",{className:"px-4 py-2 text-left font-medium text-slate-600",children:"Aktion"})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(ne=>S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700",children:S.jsx(Ra,{to:`/product/${ne.asin}`,className:"text-sky-600 hover:underline",children:ne.asin})}),S.jsx("td",{className:"px-4 py-2 text-slate-600 max-w-xs truncate",title:ne.productName,children:ne.productName||"N/A"}),S.jsx("td",{className:"px-4 py-2 text-slate-500 max-w-md truncate",title:ne.terms.join(", "),children:ne.terms.join(", ")||"-"}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:S.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ne.ebayDataStatus==="Vorhanden"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:ne.ebayDataStatus})}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:S.jsxs("button",{onClick:()=>le(ne),className:"text-sky-600 hover:text-sky-800 flex items-center text-xs",disabled:M,children:[S.jsx(AS,{className:"w-4 h-4 mr-1"})," Bearbeiten"]})})]},ne.asin))})]})}),fe.length===0&&!(h||s)&&S.jsx("p",{className:"text-center text-slate-500 py-4",children:"Keine Suchbegriffe gefunden oder Filter ergab kein Ergebnis."}),te>1&&S.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[S.jsxs("button",{onClick:()=>q(ne=>Math.max(1,ne-1)),disabled:$===1,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:[S.jsx(Ic,{className:"w-3 h-3 mr-1"})," Vorherige"]}),S.jsxs("span",{className:"text-xs text-slate-600",children:["Seite ",$," von ",te," (",fe.length," gesamt)"]}),S.jsxs("button",{onClick:()=>q(ne=>Math.min(te,ne+1)),disabled:$===te,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:["Nchste ",S.jsx(Hh,{className:"w-3 h-3 ml-1"})]})]})]})},_9=()=>{const{products:n,isLoading:e}=Hc(),{v2Statuses:t,isLoading:i,fetchV2Statuses:r}=Wc(),{v2ApiToken:s,isConfigSet:o}=Vl(),[u,c]=ee.useState({}),[f,h]=ee.useState(!1),[y,b]=ee.useState(null),x=ee.useCallback(async()=>{if(!o||!s)return;h(!0),b(null);const j=await mn.getAllStatuses(Lu,s);if("error"in j||!j.data)b(j.error||"Fehler beim Laden der Teilwertdaten."),c({});else{const re={};for(const se in j.data)try{const xe=JSON.parse(j.data[se]);typeof(xe==null?void 0:xe.Teilwert)=="number"&&(re[se]=xe.Teilwert)}catch{}c(re)}h(!1)},[o,s]);ee.useEffect(()=>{x()},[x]);const N=v2(),[T,M]=ee.useState(null),[k,P]=ee.useState(1),[O,$]=ee.useState(null),[q,Z]=ee.useState(null),[Q,V]=ee.useState(null),[X,le]=ee.useState(null),[z,G]=ee.useState(null),fe=ee.useRef(null),ae=ee.useRef(null),me=e||i||f,te=ee.useMemo(()=>{if(me||n.length===0)return[];M(null);try{return n.filter(j=>j.etv!==void 0&&j.etv!==null&&j.etv>0).map(j=>{var xe;const re=(xe=t[j.id])==null?void 0:xe.keepa,se=typeof re=="number"?re:Number(re);return{asin:j.id,productName:j.name,etv:j.etv,keepaValue:isNaN(se)?void 0:se,teilwertV1:j.externalTeilwert,teilwertV2:u[j.id]}})}catch(j){return M(j.message||"Fehler beim Aufbereiten der Vergleichsdaten."),[]}},[n,t,u,me]),ce=ee.useMemo(()=>{if(te.length===0)return null;const j=te,re=j.filter(je=>je.teilwertV1!==void 0&&je.etv!==void 0&&je.etv>0),se=re.reduce((je,ot)=>je+ot.teilwertV1,0),xe=re.reduce((je,ot)=>je+ot.etv,0),pe=xe>0?se/xe*100:0,Te=j.filter(je=>je.teilwertV2!==void 0&&je.etv!==void 0&&je.etv>0),$e=Te.reduce((je,ot)=>je+ot.teilwertV2,0),Ye=Te.reduce((je,ot)=>je+ot.etv,0),et=Ye>0?$e/Ye*100:0,tt=j.filter(je=>je.keepaValue!==void 0&&je.etv!==void 0&&je.etv>0),xt=tt.reduce((je,ot)=>je+ot.keepaValue,0),Fe=tt.reduce((je,ot)=>je+ot.etv,0),ue=Fe>0?xt/Fe*100:0;let bt=0,nt=0,Je=0,it=0,rt=0;return j.forEach(je=>{if(je.teilwertV1!==void 0&&je.teilwertV2!==void 0){const ot=je.teilwertV2-je.teilwertV1;it+=ot,rt++,je.teilwertV2>je.teilwertV1?bt++:je.teilwertV2<je.teilwertV1?nt++:Je++}}),{totalProducts:j.length,sumETV:j.reduce((je,ot)=>je+(ot.etv??0),0),sumDefinedTWv1:se,sumDefinedTWv2:$e,sumDefinedKeepa:xt,countProductsWithTWv1:re.length,countProductsWithTWv2:Te.length,countProductsWithKeepa:tt.length,ratioTWv1toETV:pe,ratioTWv2toETV:et,ratioKeepatoETV:ue,avgDiffV2V1:rt>0?it/rt:0,countV2GtV1:bt,countV2LtV1:nt,countV2EqV1:Je}},[te]),ne=()=>{Z(null),V(null),le(null),G(null)};ee.useEffect(()=>{if(fe.current&&te.length>0){ae.current&&ae.current.destroy();const j=fe.current.getContext("2d");if(j){const re=te.filter(se=>se.teilwertV1!==void 0&&se.teilwertV2!==void 0&&(q===null||se.teilwertV1>=q)&&(Q===null||se.teilwertV1<=Q)&&(X===null||se.teilwertV2>=X)&&(z===null||se.teilwertV2<=z)).map(se=>({x:se.teilwertV1,y:se.teilwertV2,asin:se.asin,name:se.productName||se.asin}));ae.current=new Wo(j,{type:"scatter",data:{datasets:[{label:"Teilwert v1 vs Teilwert v2",data:re,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",pointRadius:5,pointHoverRadius:7}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Teilwert v1 ()"}},y:{title:{display:!0,text:"Teilwert v2 ()"}}},plugins:{tooltip:{callbacks:{label:function(se){const xe=se.raw;return`${xe.name} (ASIN: ${xe.asin})`}}}},onClick:(se,xe)=>{if(xe.length>0){const pe=xe[0],Te=re[pe.index];Te&&Te.asin&&N(`/product/${Te.asin}`)}}}})}}return()=>{ae.current&&(ae.current.destroy(),ae.current=null)}},[te,N,q,Q,X,z]);const de=ee.useMemo(()=>{let j=[...te];return O!==null&&j.sort((re,se)=>{let xe,pe;if(O.key==="diffV2V1"?(xe=(re.teilwertV2??0)-(re.teilwertV1??0),pe=(se.teilwertV2??0)-(se.teilwertV1??0)):(xe=re[O.key],pe=se[O.key]),xe===void 0&&(xe=O.direction==="asc"?typeof pe=="string"?"":1/0:typeof pe=="string"?"zzzzzz":-1/0),pe===void 0&&(pe=O.direction==="asc"?typeof xe=="string"?"":1/0:typeof xe=="string"?"zzzzzz":-1/0),typeof xe=="string"&&typeof pe=="string")return O.direction==="asc"?xe.localeCompare(pe):pe.localeCompare(xe);if(typeof xe=="number"&&typeof pe=="number"){if(xe<pe)return O.direction==="asc"?-1:1;if(xe>pe)return O.direction==="asc"?1:-1}return 0}),j},[te,O]),D=j=>{let re="asc";O&&O.key===j&&O.direction==="asc"&&(re="desc"),$({key:j,direction:re})},ye=j=>!O||O.key!==j?S.jsx("span",{className:"text-slate-400",children:""}):O.direction==="asc"?S.jsx("span",{className:"text-sky-600",children:""}):S.jsx("span",{className:"text-sky-600",children:""}),R=Math.ceil(de.length/Da),W=ee.useMemo(()=>{const j=(k-1)*Da;return de.slice(j,j+Da)},[de,k]);return ee.useEffect(()=>{P(1)},[O]),me?S.jsx("div",{className:"p-6",children:S.jsx(xi,{text:"Lade Vergleichsdaten..."})}):T||y?S.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-md",children:T||y}):S.jsxs("div",{className:"p-6 bg-white rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200 space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Teilwertvergleich (Produkte mit ETV gr. 0)"}),S.jsxs("button",{onClick:()=>{r(!0),x()},className:"px-3 py-2 text-sm btn-secondary-base w-auto flex items-center",disabled:me,children:[S.jsx(el,{className:`w-4 h-4 mr-2 ${me?"animate-spin":""}`})," Aktualisieren"]})]}),ce&&S.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[S.jsxs("h3",{className:"text-lg font-semibold text-slate-700 mb-3 flex items-center",children:[S.jsx(R2,{className:"w-5 h-5 mr-2 text-sky-600"})," Zusammenfassende Statistiken"]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-sm",children:[S.jsx(Br,{title:"Produkte (ETV>0)",value:ce.totalProducts,smallValue:!0,className:"bg-sky-100 text-sky-800",icon:S.jsx(MS,{className:"w-6 h-6"}),description:`TWv1: ${ce.countProductsWithTWv1}, TWv2: ${ce.countProductsWithTWv2}, Keepa: ${ce.countProductsWithKeepa}`}),S.jsx(Br,{title:"Summe ETV",value:`${ce.sumETV.toFixed(0)}`,smallValue:!0,className:"bg-slate-100 text-slate-800",icon:S.jsx(Pa,{className:"w-6 h-6"})}),S.jsx(Br,{title:"Summe TW v1 (def.)",value:`${ce.sumDefinedTWv1.toFixed(0)}`,smallValue:!0,className:"bg-slate-100 text-slate-800",icon:S.jsx(Pa,{className:"w-6 h-6"}),description:`${ce.countProductsWithTWv1} Produkte`}),S.jsx(Br,{title:"Summe TW v2 (def.)",value:`${ce.sumDefinedTWv2.toFixed(0)}`,smallValue:!0,className:"bg-emerald-100 text-emerald-800",icon:S.jsx(Pa,{className:"w-6 h-6"}),description:`${ce.countProductsWithTWv2} Produkte`}),S.jsx(Br,{title:"Summe Keepa (def.)",value:`${ce.sumDefinedKeepa.toFixed(0)}`,smallValue:!0,className:"bg-teal-100 text-teal-800",icon:S.jsx(Pa,{className:"w-6 h-6"}),description:`${ce.countProductsWithKeepa} Produkte`}),S.jsx(Br,{title:"TW v1 / ETV",value:`${ce.ratioTWv1toETV.toFixed(1)}%`,smallValue:!0,className:"bg-slate-200 text-slate-800",description:"Fr Produkte mit TWv1"}),S.jsx(Br,{title:"TW v2 / ETV",value:`${ce.ratioTWv2toETV.toFixed(1)}%`,smallValue:!0,className:"bg-emerald-200 text-emerald-800",description:"Fr Produkte mit TWv2"}),S.jsx(Br,{title:"Keepa / ETV",value:`${ce.ratioKeepatoETV.toFixed(1)}%`,smallValue:!0,className:"bg-teal-200 text-teal-800",description:"Fr Produkte mit Keepa"}),S.jsx(Br,{title:" Diff. (v2-v1)",value:`${ce.avgDiffV2V1.toFixed(2)}`,smallValue:!0,className:"bg-indigo-100 text-indigo-800",description:"Fr Produkte mit TWv1 & TWv2"}),S.jsx(Br,{title:"v2 > v1",value:ce.countV2GtV1,smallValue:!0,className:"bg-green-100 text-green-800"}),S.jsx(Br,{title:"v2 < v1",value:ce.countV2LtV1,smallValue:!0,className:"bg-red-100 text-red-800"}),S.jsx(Br,{title:"v2 = v1",value:ce.countV2EqV1,smallValue:!0,className:"bg-gray-100 text-gray-800"})]})]}),S.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[S.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Streudiagramm: Teilwert v1 vs. Teilwert v2"}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 items-end mb-3 text-xs",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v1Min",className:"block font-medium text-slate-600",children:"V1 Min ()"}),S.jsx("input",{type:"number",id:"v1Min",value:q??"",onChange:j=>Z(j.target.value===""?null:Number(j.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v1Max",className:"block font-medium text-slate-600",children:"V1 Max ()"}),S.jsx("input",{type:"number",id:"v1Max",value:Q??"",onChange:j=>V(j.target.value===""?null:Number(j.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v2Min",className:"block font-medium text-slate-600",children:"V2 Min ()"}),S.jsx("input",{type:"number",id:"v2Min",value:X??"",onChange:j=>le(j.target.value===""?null:Number(j.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v2Max",className:"block font-medium text-slate-600",children:"V2 Max ()"}),S.jsx("input",{type:"number",id:"v2Max",value:z??"",onChange:j=>G(j.target.value===""?null:Number(j.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("button",{onClick:ne,className:"px-3 py-1.5 btn-secondary-base text-xs flex items-center justify-center h-[30px] w-full",children:[" ",S.jsx(el,{className:"w-3.5 h-3.5 mr-1"})," Zoom Zurcksetzen"]})]}),S.jsx("div",{style:{height:"400px",position:"relative"},children:S.jsx("canvas",{ref:fe})})]}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsxs("th",{className:"px-3 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>D("asin"),children:["ASIN",ye("asin")]}),S.jsxs("th",{className:"px-3 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>D("productName"),children:["Produktname",ye("productName")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>D("etv"),children:["ETV ()",ye("etv")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>D("keepaValue"),children:["Keepa ()",ye("keepaValue")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>D("teilwertV1"),children:["Teilwert v1 ()",ye("teilwertV1")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>D("teilwertV2"),children:["Teilwert v2 ()",ye("teilwertV2")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>D("diffV2V1"),children:["Differenz (v2-v1) ()",ye("diffV2V1")]})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:W.map(j=>{var xe,pe,Te,$e;const re=j.teilwertV2!==void 0&&j.teilwertV1!==void 0?j.teilwertV2-j.teilwertV1:void 0;let se="text-slate-500";return re!==void 0&&(re>.005?se="text-green-600 font-semibold":re<-.005?se="text-red-600 font-semibold":se="text-slate-700"),S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap",children:S.jsx(Ra,{to:`/product/${j.asin}`,className:"text-sky-600 hover:underline",children:j.asin})}),S.jsx("td",{className:"px-3 py-1.5 text-slate-600 max-w-xs truncate",title:j.productName,children:j.productName||"N/A"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-slate-500",children:((xe=j.etv)==null?void 0:xe.toFixed(2))??"-"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-teal-600",children:((pe=j.keepaValue)==null?void 0:pe.toFixed(2))??"-"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-slate-700 font-medium",children:((Te=j.teilwertV1)==null?void 0:Te.toFixed(2))??"-"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-emerald-600 font-medium",children:(($e=j.teilwertV2)==null?void 0:$e.toFixed(2))??"-"}),S.jsx("td",{className:`px-3 py-1.5 text-right ${se}`,children:(re==null?void 0:re.toFixed(2))??"-"})]},j.asin)})})]})}),te.length===0&&!me&&S.jsx("p",{className:"text-center text-slate-500 py-4",children:"Keine Daten fr Vergleich (ggf. keine Produkte mit ETV gr. 0)."}),R>1&&S.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[S.jsxs("button",{onClick:()=>P(j=>Math.max(1,j-1)),disabled:k===1,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:[S.jsx(Ic,{className:"w-3 h-3 mr-1"})," Vorherige"]}),S.jsxs("span",{className:"text-xs text-slate-600",children:["Seite ",k," von ",R]}),S.jsxs("button",{onClick:()=>P(j=>Math.min(R,j+1)),disabled:k===R,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:["Nchste ",S.jsx(Hh,{className:"w-3 h-3 ml-1"})]})]})]})},S9=()=>{const{v2ProductErrors:n,isLoadingErrors:e,errorsFetchError:t,fetchV2ProcessErrors:i}=Wc(),[r,s]=ee.useState(1);ee.useEffect(()=>{i()},[i]);const o=Math.ceil(n.length/Da),u=ee.useMemo(()=>{const c=(r-1)*Da;return n.slice(c,c+Da)},[n,r]);return e?S.jsx("div",{className:"p-6",children:S.jsx(xi,{text:"Lade Prozessfehler..."})}):t?S.jsxs("div",{className:"p-6 bg-red-100 text-red-700 rounded-md",children:["Fehler beim Laden der Prozessfehler: ",t]}):S.jsxs("div",{className:"p-6 bg-white rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200 space-y-4",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"V2 Prozessfehler"}),S.jsxs("button",{onClick:i,className:"px-3 py-2 text-sm btn-secondary-base w-auto flex items-center",disabled:e,children:[S.jsx(el,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`})," Aktualisieren"]})]}),n.length===0?S.jsx("p",{className:"text-center text-slate-500 py-4",children:"Keine Prozessfehler gefunden. Alles scheint in Ordnung!"}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Produkt (ASIN)"}),S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Fehlertyp"}),S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Nachricht"}),S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Zeitstempel"})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(c=>Object.entries(c.errors).map(([f,h])=>S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap",children:S.jsxs(Ra,{to:`/product/${c.asin}`,className:"text-sky-600 hover:underline",children:[c.productName," (",c.asin,")"]})}),S.jsx("td",{className:"px-3 py-1.5 text-orange-600 font-medium",children:h.type}),S.jsx("td",{className:"px-3 py-1.5 text-slate-600 max-w-md",title:h.message,children:h.message}),S.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap text-slate-500",children:new Date(h.timestamp).toLocaleString()})]},`${c.asin}-${f}`)))})]})}),o>1&&S.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[S.jsxs("button",{onClick:()=>s(c=>Math.max(1,c-1)),disabled:r===1,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:[S.jsx(Ic,{className:"w-3 h-3 mr-1"})," Vorherige"]}),S.jsxs("span",{className:"text-xs text-slate-600",children:["Seite ",r," von ",o]}),S.jsxs("button",{onClick:()=>s(c=>Math.min(o,c+1)),disabled:r===o,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:["Nchste ",S.jsx(Hh,{className:"w-3 h-3 ml-1"})]})]})]})]})},A9=()=>{const{isConfigSet:n,v2ApiToken:e}=Vl(),{fetchV2Statuses:t,isLoading:i,isInitializing:r,isBatchProcessing:s,isBatchEstimatingTeilwert:o}=Wc(),[u,c]=ee.useState("overview"),f=s||o;return S.jsxs("div",{className:"space-y-6",children:[S.jsx("header",{className:"bg-white p-6 rounded-xl shadow-lg",children:S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[S.jsx(NS,{className:"w-8 h-8 mr-3 text-sky-600"}),"V2 Prozess Dashboard"]}),S.jsx("div",{className:"flex items-center space-x-3",children:S.jsxs("button",{onClick:()=>{fetchAllSearchTerms(),t(!0)},disabled:i||r||f,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 disabled:opacity-70 flex items-center",children:[S.jsx(el,{className:`w-4 h-4 mr-2 ${i||r||f?"animate-spin":""}`}),"V2 Daten Aktualisieren"]})})]})}),S.jsx("div",{className:"border-b border-gray-200",children:S.jsxs("nav",{className:"-mb-px flex space-x-1 sm:space-x-2 md:space-x-4 overflow-x-auto","aria-label":"Tabs",children:[S.jsx(ym,{isActive:u==="overview",onClick:()=>c("overview"),icon:S.jsx(D2,{className:"w-5 h-5"}),label:"bersicht & Batch"}),S.jsx(ym,{isActive:u==="ebaySearchTerms",onClick:()=>c("ebaySearchTerms"),icon:S.jsx($D,{className:"w-5 h-5"}),label:"eBay Suchbegriffe"}),S.jsx(ym,{isActive:u==="teilwertComparison",onClick:()=>c("teilwertComparison"),icon:S.jsx(ES,{className:"w-5 h-5"}),label:"Teilwertvergleich"}),S.jsx(ym,{isActive:u==="processErrors",onClick:()=>c("processErrors"),icon:S.jsx(n7,{className:"w-5 h-5"}),label:"V2 Prozessfehler"})]})}),u==="overview"&&S.jsx(b9,{}),u==="ebaySearchTerms"&&S.jsx(w9,{}),u==="teilwertComparison"&&S.jsx(_9,{}),u==="processErrors"&&S.jsx(S9,{})]})},T9=()=>{const{saveConfig:n,isLoadingConfig:e,isConfigSet:t,...i}=Vl(),[r,s]=ee.useState(""),[o,u]=ee.useState(""),[c,f]=ee.useState(""),[h,y]=ee.useState(""),[b,x]=ee.useState(""),[N,T]=ee.useState(null),[M,k]=ee.useState(!1);ee.useEffect(()=>{i.v2ApiToken&&s(i.v2ApiToken),i.oracleWriteParUrl&&u(i.oracleWriteParUrl),i.geminiApiKey&&f(i.geminiApiKey),i.externalProductSourceUrl&&y(i.externalProductSourceUrl)},[i.v2ApiToken,i.oracleWriteParUrl,i.geminiApiKey,i.externalProductSourceUrl]);const P=async q=>{if(q.preventDefault(),T(null),!r||!o||!c||!h){T("Alle vier Felder mssen ausgefllt werden.");return}k(!0);try{await new Promise(Z=>setTimeout(Z,200)),n({v2ApiToken:r.trim(),oracleWriteParUrl:o.trim(),geminiApiKey:c.trim(),externalProductSourceUrl:h.trim()})}catch(Z){T(Z.message||"Fehler beim Speichern der Konfiguration.")}finally{k(!1)}},O=async q=>{if(q.preventDefault(),T(null),!b.trim()){T("Express Login Feld darf nicht leer sein.");return}const Z=b.trim().split("|");if(Z.length!==4){T("Ungltiges Express Login Format. Erwartet 4 Teile, getrennt durch '|'. Reihenfolge: V2 Token | Oracle PUT URL | Gemini API Key | Produktdatenbank URL");return}k(!0);try{await new Promise(Q=>setTimeout(Q,200)),n({v2ApiToken:Z[0].trim(),oracleWriteParUrl:Z[1].trim(),geminiApiKey:Z[2].trim(),externalProductSourceUrl:Z[3].trim()})}catch(Q){T(Q.message||"Fehler beim Speichern der Konfiguration via Express Login.")}finally{k(!1)}},$=q=>Z=>{q(Z.target.value),N&&T(null)};return e?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100",children:S.jsx(xi,{text:"Lade Konfiguration..."})}):S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-100 to-sky-100 p-4 pt-10 sm:pt-12",children:[S.jsxs("div",{className:"w-full max-w-lg bg-white shadow-2xl rounded-xl p-6 sm:p-8 space-y-6 border border-slate-200",children:[S.jsxs("div",{className:"text-center",children:[S.jsx(AS,{className:"w-16 h-16 text-sky-600 mx-auto mb-4"}),S.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Anwendungskonfiguration"}),S.jsx("p",{className:"text-slate-600 mt-2 text-sm sm:text-base",children:"Bitte geben Sie die erforderlichen Konfigurationswerte ein. Diese werden lokal in Ihrem Browser gespeichert."})]}),N&&S.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 p-4 rounded-md text-sm flex items-start",role:"alert",children:[S.jsx(Ho,{className:"w-5 h-5 mr-2.5 flex-shrink-0 mt-0.5"}),S.jsxs("div",{children:[S.jsx("p",{className:"font-semibold",children:"Konfigurationsfehler"}),S.jsx("p",{children:N})]})]}),S.jsxs("form",{onSubmit:O,className:"space-y-4 border-b border-slate-300 pb-6 mb-6",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center mb-1",children:[S.jsx(YD,{className:"w-5 h-5 mr-2 text-sky-500"})," Express Login"]}),S.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Fgen Sie hier den kombinierten Konfigurationsstring ein (getrennt durch '|'). Reihenfolge: V2 Token | Oracle PUT URL | Gemini Key | Produktdatenbank URL."}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"expressLogin",className:"sr-only",children:"Express Login String"}),S.jsx("input",{id:"expressLogin",type:"password",value:b,onChange:$(x),placeholder:"V2Token|OracleURL|GeminiKey|ProductDBURL",className:"form-input-base text-slate-900"})]}),S.jsxs("button",{type:"submit",disabled:M,className:"btn-primary-base bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",children:[M?S.jsx(xi,{size:"sm",className:"mr-2"}):S.jsx(ga,{className:"w-5 h-5 mr-2"}),"Express Konfiguration bernehmen"]})]}),S.jsxs("form",{onSubmit:P,className:"space-y-4",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center mb-1",children:[S.jsx(TS,{className:"w-5 h-5 mr-2 text-sky-500"})," Individuelle Eingabe"]}),S.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Oder geben Sie jeden Wert einzeln ein."}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v2Token",className:"form-label-base",children:"V2 Backend API Token"}),S.jsx("input",{id:"v2Token",type:"password",value:r,onChange:$(s),placeholder:"Ihr V2 API-Token",className:"form-input-base text-slate-900"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"oracleUrl",className:"form-label-base",children:"Oracle Cloud PUT PAR URL (fr PDF Upload)"}),S.jsx("input",{id:"oracleUrl",type:"password",value:o,onChange:$(u),placeholder:"Oracle PUT PAR URL",className:"form-input-base text-slate-900"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"geminiKey",className:"form-label-base",children:"Google Gemini API Key"}),S.jsx("input",{id:"geminiKey",type:"password",value:c,onChange:$(f),placeholder:"Ihr Gemini API Key",className:"form-input-base text-slate-900"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"productSourceUrl",className:"form-label-base",children:"Produktdatenbank URL"}),S.jsx("input",{id:"productSourceUrl",type:"password",value:h,onChange:$(y),placeholder:"URL zur Produktdatenbank",className:"form-input-base text-slate-900"})]}),S.jsxs("button",{type:"submit",disabled:M,className:"btn-primary-base",children:[M?S.jsx(xi,{size:"sm",className:"mr-2"}):S.jsx(ga,{className:"w-5 h-5 mr-2"}),"Konfiguration Speichern"]})]})]}),S.jsxs("footer",{className:"text-center text-sm text-slate-600 mt-6 pb-6",children:[" ",new Date().getFullYear()," Teilwertschtzung Pro."]})]})},C9=()=>{const{isConfigSet:n,clearConfig:e}=Vl();return S.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50",children:[S.jsx("header",{className:"bg-gradient-to-r from-sky-700 to-sky-900 text-white shadow-lg sticky top-0 z-50",children:S.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"flex items-center justify-between h-16",children:[S.jsx(Ra,{to:"/",className:"text-2xl font-bold tracking-tight hover:opacity-80 transition-opacity",children:"Teilwert-Analyse"}),S.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:n&&S.jsxs(S.Fragment,{children:[S.jsxs("nav",{className:"flex space-x-1 sm:space-x-2",children:[S.jsx(m1,{to:"/",icon:S.jsx(KD,{className:"w-5 h-5 mr-0 sm:mr-1"}),label:"Dashboard"}),S.jsx(m1,{to:"/statistics",icon:S.jsx(R2,{className:"w-5 h-5 mr-0 sm:mr-1"}),label:"Statistiken"}),S.jsx(m1,{to:"/v2-dashboard",icon:S.jsx(NS,{className:"w-5 h-5 mr-0 sm:mr-1"}),label:"V2 Dashboard"})]}),S.jsxs("button",{onClick:e,className:"flex items-center px-2 py-1.5 sm:px-3 sm:py-2 rounded-md text-xs sm:text-sm font-medium text-sky-100 bg-sky-800 hover:bg-red-600 hover:text-white transition-colors",title:"Konfiguration zurcksetzen und neu anmelden","aria-label":"Ausloggen und Konfiguration zurcksetzen",children:[S.jsx(TS,{className:"w-4 h-4 mr-0 sm:mr-1"}),S.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})})]})})}),S.jsx("main",{className:"flex-grow container mx-auto p-4 sm:p-6 lg:p-8",children:S.jsxs(F3,{children:[S.jsx(Nc,{path:"/",element:S.jsx(u7,{})}),S.jsx(Nc,{path:"/product/:productId",element:S.jsx(d7,{})}),S.jsx(Nc,{path:"/statistics",element:S.jsx(h7,{})}),S.jsx(Nc,{path:"/v2-dashboard",element:S.jsx(A9,{})}),S.jsx(Nc,{path:"/status-overview",element:S.jsx(u5,{to:"/v2-dashboard",replace:!0})}),S.jsx(Nc,{path:"*",element:S.jsx(u5,{to:"/",replace:!0})})]})}),S.jsxs("footer",{className:"bg-slate-800 text-slate-300 text-center p-4 text-sm",children:[" ",new Date().getFullYear()," Teilwert-Analyse. Alle Rechte vorbehalten."]})]})},N9=()=>{const{isConfigSet:n,isLoadingConfig:e}=Vl();return e?S.jsx("div",{className:"flex justify-center items-center min-h-screen"}):n?S.jsx(C9,{}):S.jsx(T9,{})},E9=()=>S.jsx(tR,{children:S.jsx(nR,{children:S.jsx(WD,{children:S.jsx(oC,{children:S.jsx(N9,{})})})})}),m1=({to:n,icon:e,label:t})=>S.jsxs(Ra,{to:n,className:"flex items-center px-2 py-2 sm:px-3 rounded-md text-sm font-medium text-sky-100 hover:bg-sky-700 hover:text-white transition-colors","aria-label":t,children:[e,S.jsx("span",{className:"hidden sm:inline",children:t})]}),kA=document.getElementById("root");if(!kA)throw new Error("Could not find root element to mount to");const k9=GT.createRoot(kA);k9.render(S.jsx(FT.StrictMode,{children:S.jsx(E9,{})}));export{oi as _,L9 as c,Yw as g};
