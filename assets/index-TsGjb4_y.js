var PT=Object.defineProperty;var RT=(n,e,t)=>e in n?PT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ot=(n,e,t)=>RT(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var L9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var N0={exports:{}},Zd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function DT(){if($v)return Zd;$v=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Zd.Fragment=e,Zd.jsx=t,Zd.jsxs=t,Zd}var Jv;function IT(){return Jv||(Jv=1,N0.exports=DT()),N0.exports}var S=IT(),E0={exports:{}},gn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function OT(){if(Zv)return gn;Zv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,T={};function M(z,me,R){this.props=z,this.context=me,this.refs=T,this.updater=R||x}M.prototype.isReactComponent={},M.prototype.setState=function(z,me){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,me,"setState")},M.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=M.prototype;function P(z,me,R){this.props=z,this.context=me,this.refs=T,this.updater=R||x}var I=P.prototype=new k;I.constructor=P,N(I,M.prototype),I.isPureReactComponent=!0;var J=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function ee(z,me,R,H,te,ue){return R=ue.ref,{$$typeof:n,type:z,key:me,ref:R!==void 0?R:null,props:ue}}function j(z,me){return ee(z.type,me,void 0,void 0,void 0,z.props)}function ie(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function le(z){var me={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(R){return me[R]})}var F=/\/+/g;function G(z,me){return typeof z=="object"&&z!==null&&z.key!=null?le(""+z.key):me.toString(36)}function fe(){}function ae(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(fe,fe):(z.status="pending",z.then(function(me){z.status==="pending"&&(z.status="fulfilled",z.value=me)},function(me){z.status==="pending"&&(z.status="rejected",z.reason=me)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function ge(z,me,R,H,te){var ue=typeof z;(ue==="undefined"||ue==="boolean")&&(z=null);var ce=!1;if(z===null)ce=!0;else switch(ue){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(z.$$typeof){case n:case e:ce=!0;break;case h:return ce=z._init,ge(ce(z._payload),me,R,H,te)}}if(ce)return te=te(z),ce=H===""?"."+G(z,0):H,J(te)?(R="",ce!=null&&(R=ce.replace(F,"$&/")+"/"),ge(te,me,R,"",function(Ce){return Ce})):te!=null&&(ie(te)&&(te=j(te,R+(te.key==null||z&&z.key===te.key?"":(""+te.key).replace(F,"$&/")+"/")+ce)),me.push(te)),1;ce=0;var Ae=H===""?".":H+":";if(J(z))for(var _e=0;_e<z.length;_e++)H=z[_e],ue=Ae+G(H,_e),ce+=ge(H,me,R,ue,te);else if(_e=b(z),typeof _e=="function")for(z=_e.call(z),_e=0;!(H=z.next()).done;)H=H.value,ue=Ae+G(H,_e++),ce+=ge(H,me,R,ue,te);else if(ue==="object"){if(typeof z.then=="function")return ge(ae(z),me,R,H,te);throw me=String(z),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return ce}function K(z,me,R){if(z==null)return z;var H=[],te=0;return ge(z,H,"","",function(ue){return me.call(R,ue,te++)}),H}function Q(z){if(z._status===-1){var me=z._result;me=me(),me.then(function(R){(z._status===0||z._status===-1)&&(z._status=1,z._result=R)},function(R){(z._status===0||z._status===-1)&&(z._status=2,z._result=R)}),z._status===-1&&(z._status=0,z._result=me)}if(z._status===1)return z._result.default;throw z._result}var Z=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function de(){}return gn.Children={map:K,forEach:function(z,me,R){K(z,function(){me.apply(this,arguments)},R)},count:function(z){var me=0;return K(z,function(){me++}),me},toArray:function(z){return K(z,function(me){return me})||[]},only:function(z){if(!ie(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},gn.Component=M,gn.Fragment=t,gn.Profiler=r,gn.PureComponent=P,gn.StrictMode=i,gn.Suspense=c,gn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,gn.__COMPILER_RUNTIME={__proto__:null,c:function(z){return q.H.useMemoCache(z)}},gn.cache=function(z){return function(){return z.apply(null,arguments)}},gn.cloneElement=function(z,me,R){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var H=N({},z.props),te=z.key,ue=void 0;if(me!=null)for(ce in me.ref!==void 0&&(ue=void 0),me.key!==void 0&&(te=""+me.key),me)!W.call(me,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&me.ref===void 0||(H[ce]=me[ce]);var ce=arguments.length-2;if(ce===1)H.children=R;else if(1<ce){for(var Ae=Array(ce),_e=0;_e<ce;_e++)Ae[_e]=arguments[_e+2];H.children=Ae}return ee(z.type,te,void 0,void 0,ue,H)},gn.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},gn.createElement=function(z,me,R){var H,te={},ue=null;if(me!=null)for(H in me.key!==void 0&&(ue=""+me.key),me)W.call(me,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(te[H]=me[H]);var ce=arguments.length-2;if(ce===1)te.children=R;else if(1<ce){for(var Ae=Array(ce),_e=0;_e<ce;_e++)Ae[_e]=arguments[_e+2];te.children=Ae}if(z&&z.defaultProps)for(H in ce=z.defaultProps,ce)te[H]===void 0&&(te[H]=ce[H]);return ee(z,ue,void 0,void 0,null,te)},gn.createRef=function(){return{current:null}},gn.forwardRef=function(z){return{$$typeof:u,render:z}},gn.isValidElement=ie,gn.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:Q}},gn.memo=function(z,me){return{$$typeof:f,type:z,compare:me===void 0?null:me}},gn.startTransition=function(z){var me=q.T,R={};q.T=R;try{var H=z(),te=q.S;te!==null&&te(R,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(de,Z)}catch(ue){Z(ue)}finally{q.T=me}},gn.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},gn.use=function(z){return q.H.use(z)},gn.useActionState=function(z,me,R){return q.H.useActionState(z,me,R)},gn.useCallback=function(z,me){return q.H.useCallback(z,me)},gn.useContext=function(z){return q.H.useContext(z)},gn.useDebugValue=function(){},gn.useDeferredValue=function(z,me){return q.H.useDeferredValue(z,me)},gn.useEffect=function(z,me,R){var H=q.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(z,me)},gn.useId=function(){return q.H.useId()},gn.useImperativeHandle=function(z,me,R){return q.H.useImperativeHandle(z,me,R)},gn.useInsertionEffect=function(z,me){return q.H.useInsertionEffect(z,me)},gn.useLayoutEffect=function(z,me){return q.H.useLayoutEffect(z,me)},gn.useMemo=function(z,me){return q.H.useMemo(z,me)},gn.useOptimistic=function(z,me){return q.H.useOptimistic(z,me)},gn.useReducer=function(z,me,R){return q.H.useReducer(z,me,R)},gn.useRef=function(z){return q.H.useRef(z)},gn.useState=function(z){return q.H.useState(z)},gn.useSyncExternalStore=function(z,me,R){return q.H.useSyncExternalStore(z,me,R)},gn.useTransition=function(){return q.H.useTransition()},gn.version="19.1.0",gn}var Xv;function p2(){return Xv||(Xv=1,E0.exports=OT()),E0.exports}var ne=p2();const FT=Yw(ne);var k0={exports:{}},Xd={},M0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function BT(){return Qv||(Qv=1,function(n){function e(K,Q){var Z=K.length;K.push(Q);e:for(;0<Z;){var de=Z-1>>>1,z=K[de];if(0<r(z,Q))K[de]=Q,K[Z]=z,Z=de;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var Q=K[0],Z=K.pop();if(Z!==Q){K[0]=Z;e:for(var de=0,z=K.length,me=z>>>1;de<me;){var R=2*(de+1)-1,H=K[R],te=R+1,ue=K[te];if(0>r(H,Z))te<z&&0>r(ue,H)?(K[de]=ue,K[te]=Z,de=te):(K[de]=H,K[R]=Z,de=R);else if(te<z&&0>r(ue,Z))K[de]=ue,K[te]=Z,de=te;else break e}}return Q}function r(K,Q){var Z=K.sortIndex-Q.sortIndex;return Z!==0?Z:K.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var c=[],f=[],h=1,v=null,b=3,x=!1,N=!1,T=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function J(K){for(var Q=t(f);Q!==null;){if(Q.callback===null)i(f);else if(Q.startTime<=K)i(f),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=t(f)}}function q(K){if(T=!1,J(K),!N)if(t(c)!==null)N=!0,W||(W=!0,G());else{var Q=t(f);Q!==null&&ge(q,Q.startTime-K)}}var W=!1,ee=-1,j=5,ie=-1;function le(){return M?!0:!(n.unstable_now()-ie<j)}function F(){if(M=!1,W){var K=n.unstable_now();ie=K;var Q=!0;try{e:{N=!1,T&&(T=!1,P(ee),ee=-1),x=!0;var Z=b;try{t:{for(J(K),v=t(c);v!==null&&!(v.expirationTime>K&&le());){var de=v.callback;if(typeof de=="function"){v.callback=null,b=v.priorityLevel;var z=de(v.expirationTime<=K);if(K=n.unstable_now(),typeof z=="function"){v.callback=z,J(K),Q=!0;break t}v===t(c)&&i(c),J(K)}else i(c);v=t(c)}if(v!==null)Q=!0;else{var me=t(f);me!==null&&ge(q,me.startTime-K),Q=!1}}break e}finally{v=null,b=Z,x=!1}Q=void 0}}finally{Q?G():W=!1}}}var G;if(typeof I=="function")G=function(){I(F)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ae=fe.port2;fe.port1.onmessage=F,G=function(){ae.postMessage(null)}}else G=function(){k(F,0)};function ge(K,Q){ee=k(function(){K(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(K){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var Z=b;b=Q;try{return K()}finally{b=Z}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(K,Q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Z=b;b=K;try{return Q()}finally{b=Z}},n.unstable_scheduleCallback=function(K,Q,Z){var de=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?de+Z:de):Z=de,K){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Z+z,K={id:h++,callback:Q,priorityLevel:K,startTime:Z,expirationTime:z,sortIndex:-1},Z>de?(K.sortIndex=Z,e(f,K),t(c)===null&&K===t(f)&&(T?(P(ee),ee=-1):T=!0,ge(q,Z-de))):(K.sortIndex=z,e(c,K),N||x||(N=!0,W||(W=!0,G()))),K},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(K){var Q=b;return function(){var Z=b;b=Q;try{return K.apply(this,arguments)}finally{b=Z}}}}(L0)),L0}var e5;function zT(){return e5||(e5=1,M0.exports=BT()),M0.exports}var P0={exports:{}},ss={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t5;function jT(){if(t5)return ss;t5=1;var n=p2();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,f,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:c,containerInfo:f,implementation:h}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ss.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ss.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,h)},ss.flushSync=function(c){var f=o.T,h=i.p;try{if(o.T=null,i.p=2,c)return c()}finally{o.T=f,i.p=h,i.d.f()}},ss.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},ss.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},ss.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,v=u(h,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:x}):h==="script"&&i.d.X(c,{crossOrigin:v,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ss.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},ss.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,v=u(h,f.crossOrigin);i.d.L(c,h,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ss.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},ss.requestFormReset=function(c){i.d.r(c)},ss.unstable_batchedUpdates=function(c,f){return c(f)},ss.useFormState=function(c,f,h){return o.H.useFormState(c,f,h)},ss.useFormStatus=function(){return o.H.useHostTransitionStatus()},ss.version="19.1.0",ss}var n5;function VT(){if(n5)return P0.exports;n5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),P0.exports=jT(),P0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5;function UT(){if(i5)return Xd;i5=1;var n=zT(),e=p2(),t=VT();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function c(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var d=a,p=l;;){var w=d.return;if(w===null)break;var A=w.alternate;if(A===null){if(p=w.return,p!==null){d=p;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===d)return u(w),a;if(A===p)return u(w),l;A=A.sibling}throw Error(i(188))}if(d.return!==p.return)d=w,p=A;else{for(var D=!1,$=w.child;$;){if($===d){D=!0,d=w,p=A;break}if($===p){D=!0,p=w,d=A;break}$=$.sibling}if(!D){for($=A.child;$;){if($===d){D=!0,d=A,p=w;break}if($===p){D=!0,p=A,d=w;break}$=$.sibling}if(!D)throw Error(i(189))}}if(d.alternate!==p)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var h=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),I=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var fe=Symbol.for("react.client.reference");function ae(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===fe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case M:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case W:return"SuspenseList";case ie:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case I:return(a.displayName||"Context")+".Provider";case P:return(a._context.displayName||"Context")+".Consumer";case J:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ee:return l=a.displayName||null,l!==null?l:ae(a.type)||"Memo";case j:l=a._payload,a=a._init;try{return ae(a(l))}catch{}}return null}var ge=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},de=[],z=-1;function me(a){return{current:a}}function R(a){0>z||(a.current=de[z],de[z]=null,z--)}function H(a,l){z++,de[z]=a.current,a.current=l}var te=me(null),ue=me(null),ce=me(null),Ae=me(null);function _e(a,l){switch(H(ce,l),H(ue,a),H(te,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Sv(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Sv(l),a=Av(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}R(te),H(te,a)}function Ce(){R(te),R(ue),R(ce)}function Be(a){a.memoizedState!==null&&H(Ae,a);var l=te.current,d=Av(l,a.type);l!==d&&(H(ue,a),H(te,d))}function We(a){ue.current===a&&(R(te),R(ue)),Ae.current===a&&(R(Ae),Wd._currentValue=Z)}var et=Object.prototype.hasOwnProperty,Qe=n.unstable_scheduleCallback,yt=n.unstable_cancelCallback,Re=n.unstable_shouldYield,se=n.unstable_requestPaint,ft=n.unstable_now,gt=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,nt=n.unstable_UserBlockingPriority,it=n.unstable_NormalPriority,rt=n.unstable_LowPriority,St=n.unstable_IdlePriority,Rt=n.log,Mt=n.unstable_setDisableYieldValue,kt=null,It=null;function Qt(a){if(typeof Rt=="function"&&Mt(a),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(kt,a)}catch{}}var lt=Math.clz32?Math.clz32:ii,qt=Math.log,ut=Math.LN2;function ii(a){return a>>>=0,a===0?32:31-(qt(a)/ut|0)|0}var cn=256,Ii=4194304;function zt(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Cn(a,l,d){var p=a.pendingLanes;if(p===0)return 0;var w=0,A=a.suspendedLanes,D=a.pingedLanes;a=a.warmLanes;var $=p&134217727;return $!==0?(p=$&~A,p!==0?w=zt(p):(D&=$,D!==0?w=zt(D):d||(d=$&~a,d!==0&&(w=zt(d))))):($=p&~A,$!==0?w=zt($):D!==0?w=zt(D):d||(d=p&~a,d!==0&&(w=zt(d)))),w===0?0:l!==0&&l!==w&&(l&A)===0&&(A=w&-w,d=l&-l,A>=d||A===32&&(d&4194048)!==0)?l:w}function wr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function fn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(){var a=cn;return cn<<=1,(cn&4194048)===0&&(cn=256),a}function Zn(){var a=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),a}function Sr(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Oi(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function qn(a,l,d,p,w,A){var D=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var $=a.entanglements,he=a.expirationTimes,Pe=a.hiddenUpdates;for(d=D&~d;0<d;){var je=31-lt(d),Ke=1<<je;$[je]=0,he[je]=-1;var De=Pe[je];if(De!==null)for(Pe[je]=null,je=0;je<De.length;je++){var Ie=De[je];Ie!==null&&(Ie.lane&=-536870913)}d&=~Ke}p!==0&&Lt(a,p,0),A!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=A&~(D&~l))}function Lt(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-lt(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|d&4194090}function on(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var p=31-lt(d),w=1<<p;w&l|a[p]&l&&(a[p]|=l),d&=~w}}function Fr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function nn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function mi(){var a=Q.p;return a!==0?a:(a=window.event,a===void 0?32:qv(a.type))}function cr(a,l){var d=Q.p;try{return Q.p=a,l()}finally{Q.p=d}}var vt=Math.random().toString(36).slice(2),Bn="__reactFiber$"+vt,Sn="__reactProps$"+vt,ri="__reactContainer$"+vt,Rn="__reactEvents$"+vt,Xn="__reactListeners$"+vt,gi="__reactHandles$"+vt,Wi="__reactResources$"+vt,Pr="__reactMarker$"+vt;function zn(a){delete a[Bn],delete a[Sn],delete a[Rn],delete a[Xn],delete a[gi]}function Ki(a){var l=a[Bn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[ri]||d[Bn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=Ev(a);a!==null;){if(d=a[Bn])return d;a=Ev(a)}return l}a=d,d=a.parentNode}return null}function Ot(a){if(a=a[Bn]||a[ri]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Fi(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function Yi(a){var l=a[Wi];return l||(l=a[Wi]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function In(a){a[Pr]=!0}var Qr=new Set,yi={};function $i(a,l){Ci(a,l),Ci(a+"Capture",l)}function Ci(a,l){for(yi[a]=l,a=0;a<l.length;a++)Qr.add(l[a])}var Bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ca={},ro={};function Yo(a){return et.call(ro,a)?!0:et.call(Ca,a)?!1:Bs.test(a)?ro[a]=!0:(Ca[a]=!0,!1)}function ps(a,l,d){if(Yo(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function As(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Bi(a,l,d,p){if(p===null)a.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+p)}}var xt,At;function yn(a){if(xt===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);xt=l&&l[1]||"",At=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+a+At}var rn=!1;function ti(a,l){if(!a||rn)return"";rn=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Ie){var De=Ie}Reflect.construct(a,[],Ke)}else{try{Ke.call()}catch(Ie){De=Ie}a.call(Ke.prototype)}}else{try{throw Error()}catch(Ie){De=Ie}(Ke=a())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Ie){if(Ie&&De&&typeof Ie.stack=="string")return[Ie.stack,De.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=p.DetermineComponentFrameRoot(),D=A[0],$=A[1];if(D&&$){var he=D.split(`
`),Pe=$.split(`
`);for(w=p=0;p<he.length&&!he[p].includes("DetermineComponentFrameRoot");)p++;for(;w<Pe.length&&!Pe[w].includes("DetermineComponentFrameRoot");)w++;if(p===he.length||w===Pe.length)for(p=he.length-1,w=Pe.length-1;1<=p&&0<=w&&he[p]!==Pe[w];)w--;for(;1<=p&&0<=w;p--,w--)if(he[p]!==Pe[w]){if(p!==1||w!==1)do if(p--,w--,0>w||he[p]!==Pe[w]){var je=`
`+he[p].replace(" at new "," at ");return a.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",a.displayName)),je}while(1<=p&&0<=w);break}}}finally{rn=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?yn(d):""}function bi(a){switch(a.tag){case 26:case 27:case 5:return yn(a.type);case 16:return yn("Lazy");case 13:return yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return ti(a.type,!1);case 11:return ti(a.type.render,!1);case 1:return ti(a.type,!0);case 31:return yn("Activity");default:return""}}function Ft(a){try{var l="";do l+=bi(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function pe(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ne(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ue(a){var l=Ne(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),p=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,A=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return w.call(this)},set:function(D){p=""+D,A.call(this,D)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ye(a){a._valueTracker||(a._valueTracker=Ue(a))}function Xe(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return a&&(p=Ne(a)?a.checked?"true":"false":a.value),a=p,a!==d?(l.setValue(a),!0):!1}function Ze(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ht=/[\n"\\]/g;function ct(a){return a.replace(ht,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function jt(a,l,d,p,w,A,D,$){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),l!=null?D==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+pe(l)):a.value!==""+pe(l)&&(a.value=""+pe(l)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),l!=null?hn(a,D,pe(l)):d!=null?hn(a,D,pe(d)):p!=null&&a.removeAttribute("value"),w==null&&A!=null&&(a.defaultChecked=!!A),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?a.name=""+pe($):a.removeAttribute("name")}function dn(a,l,d,p,w,A,D,$){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),l!=null||d!=null){if(!(A!=="submit"&&A!=="reset"||l!=null))return;d=d!=null?""+pe(d):"",l=l!=null?""+pe(l):d,$||l===a.value||(a.value=l),a.defaultValue=l}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=$?a.checked:!!p,a.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D)}function hn(a,l,d){l==="number"&&Ze(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Bt(a,l,d,p){if(a=a.options,l){l={};for(var w=0;w<d.length;w++)l["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=l.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&p&&(a[d].defaultSelected=!0)}else{for(d=""+pe(d),l=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,p&&(a[w].defaultSelected=!0);return}l!==null||a[w].disabled||(l=a[w])}l!==null&&(l.selected=!0)}}function sn(a,l,d){if(l!=null&&(l=""+pe(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+pe(d):""}function si(a,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(i(92));if(ge(p)){if(1<p.length)throw Error(i(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=pe(l),a.defaultValue=d,p=a.textContent,p===d&&p!==""&&p!==null&&(a.value=p)}function bn(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Qn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fi(a,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,d):typeof d!="number"||d===0||Qn.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Nn(a,l,d){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var w in l)p=l[w],l.hasOwnProperty(w)&&d[w]!==p&&fi(a,w,p)}else for(var A in l)l.hasOwnProperty(A)&&fi(a,A,l[A])}function Hn(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ln=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(a){return ln.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ei=null;function An(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ms=null,Ar=null;function Vt(a){var l=Ot(a);if(l&&(a=l.stateNode)){var d=a[Sn]||null;e:switch(a=l.stateNode,l.type){case"input":if(jt(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ct(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==a&&p.form===a.form){var w=p[Sn]||null;if(!w)throw Error(i(90));jt(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===a.form&&Xe(p)}break e;case"textarea":sn(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Bt(a,!!d.multiple,l,!1)}}}var so=!1;function $o(a,l,d){if(so)return a(l,d);so=!0;try{var p=a(l);return p}finally{if(so=!1,(ms!==null||Ar!==null)&&(Sp(),ms&&(l=ms,a=Ar,Ar=ms=null,Vt(l),a)))for(l=0;l<a.length;l++)Vt(a[l])}}function Rr(a,l){var d=a.stateNode;if(d===null)return null;var p=d[Sn]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,l,typeof d));return d}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ol=!1;if(Wr)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Ol=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Ol=!1}var Ts=null,qu=null,Fl=null;function Gc(){if(Fl)return Fl;var a,l=qu,d=l.length,p,w="value"in Ts?Ts.value:Ts.textContent,A=w.length;for(a=0;a<d&&l[a]===w[a];a++);var D=d-a;for(p=1;p<=D&&l[d-p]===w[A-p];p++);return Fl=w.slice(a,1<p?1-p:void 0)}function ao(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function sa(){return!0}function Na(){return!1}function Br(a){function l(d,p,w,A,D){this._reactName=d,this._targetInst=w,this.type=p,this.nativeEvent=A,this.target=D,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(d=a[$],this[$]=d?d(A):A[$]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?sa:Na,this.isPropagationStopped=Na,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),l}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Br(gs),aa=h({},gs,{view:0,detail:0}),Wc=Br(aa),Bl,zl,lo,ys=h({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==lo&&(lo&&a.type==="mousemove"?(Bl=a.screenX-lo.screenX,zl=a.screenY-lo.screenY):zl=Bl=0,lo=a),Bl)},movementY:function(a){return"movementY"in a?a.movementY:zl}}),oa=Br(ys),ud=h({},ys,{dataTransfer:0}),uo=Br(ud),zs=h({},aa,{relatedTarget:0}),Jo=Br(zs),Zo=h({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),cd=Br(Zo),jl=h({},gs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),fd=Br(jl),Hu=h({},gs,{data:0}),Vl=Br(Hu),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ul={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Gu[a])?!!l[a]:!1}function ql(){return Wu}var dd=h({},aa,{key:function(a){if(a.key){var l=Kc[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ao(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ul[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(a){return a.type==="keypress"?ao(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ao(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Hl=Br(dd),Xo=h({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gl=Br(Xo),co=h({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),Ku=Br(co),C=h({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=Br(C),oe=h({},ys,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ye=Br(oe),Ee=h({},gs,{newState:0,oldState:0}),Fe=Br(Ee),$e=[9,13,27,32],dt=Wr&&"CompositionEvent"in window,Tt=null;Wr&&"documentMode"in document&&(Tt=document.documentMode);var en=Wr&&"TextEvent"in window&&!Tt,Jt=Wr&&(!dt||Tt&&8<Tt&&11>=Tt),En=" ",wi=!1;function Ei(a,l){switch(a){case"keyup":return $e.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ji(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Zi=!1;function Tr(a,l){switch(a){case"compositionend":return Ji(l);case"keypress":return l.which!==32?null:(wi=!0,En);case"textInput":return a=l.data,a===En&&wi?null:a;default:return null}}function js(a,l){if(Zi)return a==="compositionend"||!dt&&Ei(a,l)?(a=Gc(),Fl=qu=Ts=null,Zi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Jt&&l.locale!=="ko"?null:l.data;default:return null}}var vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vs(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!vs[a.type]:l==="textarea"}function Yu(a,l,d,p){ms?Ar?Ar.push(p):Ar=[p]:ms=p,l=kp(l,"onChange"),0<l.length&&(d=new oo("onChange","change",null,d,p),a.push({event:d,listeners:l}))}var Ea=null,ka=null;function Wl(a){vv(a,0)}function fo(a){var l=Fi(a);if(Xe(l))return a}function Kl(a,l){if(a==="change")return l}var Qo=!1;if(Wr){var fr;if(Wr){var ho="oninput"in document;if(!ho){var el=document.createElement("div");el.setAttribute("oninput","return;"),ho=typeof el.oninput=="function"}fr=ho}else fr=!1;Qo=fr&&(!document.documentMode||9<document.documentMode)}function tl(){Ea&&(Ea.detachEvent("onpropertychange",Yl),ka=Ea=null)}function Yl(a){if(a.propertyName==="value"&&fo(ka)){var l=[];Yu(l,ka,a,An(a)),$o(Wl,l)}}function es(a,l,d){a==="focusin"?(tl(),Ea=l,ka=d,Ea.attachEvent("onpropertychange",Yl)):a==="focusout"&&tl()}function hd(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return fo(ka)}function $u(a,l){if(a==="click")return fo(l)}function Yc(a,l){if(a==="input"||a==="change")return fo(l)}function Cs(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Cr=typeof Object.is=="function"?Object.is:Cs;function po(a,l){if(Cr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var w=d[p];if(!et.call(l,w)||!Cr(a[w],l[w]))return!1}return!0}function Ju(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ma(a,l){var d=Ju(a);a=0;for(var p;d;){if(d.nodeType===3){if(p=a+d.textContent.length,a<=l&&p>=l)return{node:d,offset:l-a};a=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ju(d)}}function mo(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?mo(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Kr(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Ze(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Ze(a.document)}return l}function Dr(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var go=Wr&&"documentMode"in document&&11>=document.documentMode,ts=null,Us=null,la=null,qs=!1;function zi(a,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;qs||ts==null||ts!==Ze(p)||(p=ts,"selectionStart"in p&&Dr(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),la&&po(la,p)||(la=p,p=kp(Us,"onSelect"),0<p.length&&(l=new oo("onSelect","select",null,l,d),a.push({event:l,listeners:p}),l.target=ts)))}function Hs(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var ir={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},ns={},nl={};Wr&&(nl=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function ua(a){if(ns[a])return ns[a];if(!ir[a])return a;var l=ir[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in nl)return ns[a]=l[d];return a}var $l=ua("animationend"),yo=ua("animationiteration"),vo=ua("animationstart"),xo=ua("transitionrun"),il=ua("transitionstart"),Jl=ua("transitioncancel"),bo=ua("transitionend"),La=new Map,rl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rl.push("scrollEnd");function ji(a,l){La.set(a,l),$i(l,[a])}var xs=new WeakMap;function wn(a,l){if(typeof a=="object"&&a!==null){var d=xs.get(a);return d!==void 0?d:(l={value:a,source:l,stack:Ft(l)},xs.set(a,l),l)}return{value:a,source:l,stack:Ft(l)}}var _n=[],di=0,Xi=0;function Ns(){for(var a=di,l=Xi=di=0;l<a;){var d=_n[l];_n[l++]=null;var p=_n[l];_n[l++]=null;var w=_n[l];_n[l++]=null;var A=_n[l];if(_n[l++]=null,p!==null&&w!==null){var D=p.pending;D===null?w.next=w:(w.next=D.next,D.next=w),p.pending=w}A!==0&&$c(d,w,A)}}function wo(a,l,d,p){_n[di++]=a,_n[di++]=l,_n[di++]=d,_n[di++]=p,Xi|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function _o(a,l,d,p){return wo(a,l,d,p),sl(a)}function Pa(a,l){return wo(a,null,null,l),sl(a)}function $c(a,l,d){a.lanes|=d;var p=a.alternate;p!==null&&(p.lanes|=d);for(var w=!1,A=a.return;A!==null;)A.childLanes|=d,p=A.alternate,p!==null&&(p.childLanes|=d),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(w=!0)),a=A,A=A.return;return a.tag===3?(A=a.stateNode,w&&l!==null&&(w=31-lt(d),a=A.hiddenUpdates,p=a[w],p===null?a[w]=[l]:p.push(l),l.lane=d|536870912),A):null}function sl(a){if(50<Bd)throw Bd=0,Zg=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Nr={};function Es(a,l,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(a,l,d,p){return new Es(a,l,d,p)}function Zl(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ca(a,l){var d=a.alternate;return d===null?(d=zr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Zu(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function al(a,l,d,p,w,A){var D=0;if(p=a,typeof a=="function")Zl(a)&&(D=1);else if(typeof a=="string")D=xT(a,d,te.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case ie:return a=zr(31,d,l,w),a.elementType=ie,a.lanes=A,a;case N:return Ra(d.children,w,A,l);case T:D=8,w|=24;break;case M:return a=zr(12,d,l,w|2),a.elementType=M,a.lanes=A,a;case q:return a=zr(13,d,l,w),a.elementType=q,a.lanes=A,a;case W:return a=zr(19,d,l,w),a.elementType=W,a.lanes=A,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:case I:D=10;break e;case P:D=9;break e;case J:D=11;break e;case ee:D=14;break e;case j:D=16,p=null;break e}D=29,d=Error(i(130,a===null?"null":typeof a,"")),p=null}return l=zr(D,d,l,w),l.elementType=a,l.type=p,l.lanes=A,l}function Ra(a,l,d,p){return a=zr(7,a,p,l),a.lanes=d,a}function Jc(a,l,d){return a=zr(6,a,null,l),a.lanes=d,a}function Xu(a,l,d){return l=zr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var So=[],Da=0,Xl=null,Zc=0,ks=[],bs=0,ol=null,Ia=1,Oa="";function ll(a,l){So[Da++]=Zc,So[Da++]=Xl,Xl=a,Zc=l}function Kh(a,l,d){ks[bs++]=Ia,ks[bs++]=Oa,ks[bs++]=ol,ol=a;var p=Ia;a=Oa;var w=32-lt(p)-1;p&=~(1<<w),d+=1;var A=32-lt(l)+w;if(30<A){var D=w-w%5;A=(p&(1<<D)-1).toString(32),p>>=D,w-=D,Ia=1<<32-lt(l)+w|d<<w|p,Oa=A+a}else Ia=1<<A|d<<w|p,Oa=a}function Qu(a){a.return!==null&&(ll(a,1),Kh(a,1,0))}function ec(a){for(;a===Xl;)Xl=So[--Da],So[Da]=null,Zc=So[--Da],So[Da]=null;for(;a===ol;)ol=ks[--bs],ks[bs]=null,Oa=ks[--bs],ks[bs]=null,Ia=ks[--bs],ks[bs]=null}var dr=null,Vi=null,Gn=!1,Ao=null,fa=!1,pd=Error(i(519));function ul(a){var l=Error(i(418,""));throw Ql(wn(l,a)),pd}function Yh(a){var l=a.stateNode,d=a.type,p=a.memoizedProps;switch(l[Bn]=a,l[Sn]=p,d){case"dialog":Mn("cancel",l),Mn("close",l);break;case"iframe":case"object":case"embed":Mn("load",l);break;case"video":case"audio":for(d=0;d<jd.length;d++)Mn(jd[d],l);break;case"source":Mn("error",l);break;case"img":case"image":case"link":Mn("error",l),Mn("load",l);break;case"details":Mn("toggle",l);break;case"input":Mn("invalid",l),dn(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Ye(l);break;case"select":Mn("invalid",l);break;case"textarea":Mn("invalid",l),si(l,p.value,p.defaultValue,p.children),Ye(l)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||_v(l.textContent,d)?(p.popover!=null&&(Mn("beforetoggle",l),Mn("toggle",l)),p.onScroll!=null&&Mn("scroll",l),p.onScrollEnd!=null&&Mn("scrollend",l),p.onClick!=null&&(l.onclick=Mp),l=!0):l=!1,l||ul(a)}function Fa(a){for(dr=a.return;dr;)switch(dr.tag){case 5:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:dr=dr.return}}function Yr(a){if(a!==dr)return!1;if(!Gn)return Fa(a),Gn=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||h0(a.type,a.memoizedProps)),d=!d),d&&Vi&&ul(a),Fa(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){Vi=Ga(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}Vi=null}}else l===27?(l=Vi,gu(a.type)?(a=y0,y0=null,Vi=a):Vi=l):Vi=dr?Ga(a.stateNode.nextSibling):null;return!0}function ws(){Vi=dr=null,Gn=!1}function $h(){var a=Ao;return a!==null&&(Ps===null?Ps=a:Ps.push.apply(Ps,a),Ao=null),a}function Ql(a){Ao===null?Ao=[a]:Ao.push(a)}var da=me(null),Er=null,Ba=null;function To(a,l,d){H(da,l._currentValue),l._currentValue=d}function ha(a){a._currentValue=da.current,R(da)}function Xc(a,l,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===d)break;a=a.return}}function Qc(a,l,d,p){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var A=w.dependencies;if(A!==null){var D=w.child;A=A.firstContext;e:for(;A!==null;){var $=A;A=w;for(var he=0;he<l.length;he++)if($.context===l[he]){A.lanes|=d,$=A.alternate,$!==null&&($.lanes|=d),Xc(A.return,d,a),p||(D=null);break e}A=$.next}}else if(w.tag===18){if(D=w.return,D===null)throw Error(i(341));D.lanes|=d,A=D.alternate,A!==null&&(A.lanes|=d),Xc(D,d,a),D=null}else D=w.child;if(D!==null)D.return=w;else for(D=w;D!==null;){if(D===a){D=null;break}if(w=D.sibling,w!==null){w.return=D.return,D=w;break}D=D.return}w=D}}function eu(a,l,d,p){a=null;for(var w=l,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var D=w.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var $=w.type;Cr(w.pendingProps.value,D.value)||(a!==null?a.push($):a=[$])}}else if(w===Ae.current){if(D=w.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(Wd):a=[Wd])}w=w.return}a!==null&&Qc(l,a,d,p),l.flags|=262144}function ef(a){for(a=a.firstContext;a!==null;){if(!Cr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function pa(a){Er=a,Ba=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function hr(a){return tf(Er,a)}function Co(a,l){return Er===null&&pa(a),tf(a,l)}function tf(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ba===null){if(a===null)throw Error(i(308));Ba=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Ba=Ba.next=l;return d}var _g=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},Jh=n.unstable_scheduleCallback,Sg=n.unstable_NormalPriority,pr={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new _g,data:new Map,refCount:0}}function tc(a){a.refCount--,a.refCount===0&&Jh(Sg,function(){a.controller.abort()})}var nc=null,gd=0,cl=0,za=null;function Ag(a,l){if(nc===null){var d=nc=[];gd=0,cl=r0(),za={status:"pending",value:void 0,then:function(p){d.push(p)}}}return gd++,l.then(Zh,Zh),l}function Zh(){if(--gd===0&&nc!==null){za!==null&&(za.status="fulfilled");var a=nc;nc=null,cl=0,za=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Xh(a,l){var d=[],p={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var w=0;w<d.length;w++)(0,d[w])(l)},function(w){for(p.status="rejected",p.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),p}var y=K.S;K.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Ag(a,l),y!==null&&y(a,l)};var _=me(null);function E(){var a=_.current;return a!==null?a:Si.pooledCache}function L(a,l){l===null?H(_,_.current):H(_,l.pool)}function O(){var a=E();return a===null?null:{parent:pr._currentValue,pool:a}}var V=Error(i(460)),U=Error(i(474)),Y=Error(i(542)),X={then:function(){}};function re(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ve(){}function Le(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(ve,ve),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,He(a),a;default:if(typeof l.status=="string")l.then(ve,ve);else{if(a=Si,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=p}},function(p){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,He(a),a}throw ke=l,V}}var ke=null;function Se(){if(ke===null)throw Error(i(459));var a=ke;return ke=null,a}function He(a){if(a===V||a===Y)throw Error(i(483))}var Oe=!1;function xe(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function we(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ze(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ge(a,l,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(oi&2)!==0){var w=p.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),p.pending=l,l=sl(a),$c(a,null,d),l}return wo(a,p,l,d),sl(a)}function Ve(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,d|=p,l.lanes=d,on(a,d)}}function pt(a,l){var d=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var w=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};A===null?w=A=D:A=A.next=D,d=d.next}while(d!==null);A===null?w=A=l:A=A.next=l}else w=A=l;d={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:p.shared,callbacks:p.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var st=!1;function Nt(){if(st){var a=za;if(a!==null)throw a}}function at(a,l,d,p){st=!1;var w=a.updateQueue;Oe=!1;var A=w.firstBaseUpdate,D=w.lastBaseUpdate,$=w.shared.pending;if($!==null){w.shared.pending=null;var he=$,Pe=he.next;he.next=null,D===null?A=Pe:D.next=Pe,D=he;var je=a.alternate;je!==null&&(je=je.updateQueue,$=je.lastBaseUpdate,$!==D&&($===null?je.firstBaseUpdate=Pe:$.next=Pe,je.lastBaseUpdate=he))}if(A!==null){var Ke=w.baseState;D=0,je=Pe=he=null,$=A;do{var De=$.lane&-536870913,Ie=De!==$.lane;if(Ie?(Un&De)===De:(p&De)===De){De!==0&&De===cl&&(st=!0),je!==null&&(je=je.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Yt=a,Ut=$;De=l;var pi=d;switch(Ut.tag){case 1:if(Yt=Ut.payload,typeof Yt=="function"){Ke=Yt.call(pi,Ke,De);break e}Ke=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Ut.payload,De=typeof Yt=="function"?Yt.call(pi,Ke,De):Yt,De==null)break e;Ke=h({},Ke,De);break e;case 2:Oe=!0}}De=$.callback,De!==null&&(a.flags|=64,Ie&&(a.flags|=8192),Ie=w.callbacks,Ie===null?w.callbacks=[De]:Ie.push(De))}else Ie={lane:De,tag:$.tag,payload:$.payload,callback:$.callback,next:null},je===null?(Pe=je=Ie,he=Ke):je=je.next=Ie,D|=De;if($=$.next,$===null){if($=w.shared.pending,$===null)break;Ie=$,$=Ie.next,Ie.next=null,w.lastBaseUpdate=Ie,w.shared.pending=null}}while(!0);je===null&&(he=Ke),w.baseState=he,w.firstBaseUpdate=Pe,w.lastBaseUpdate=je,A===null&&(w.shared.lanes=0),du|=D,a.lanes=D,a.memoizedState=Ke}}function jn(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function Wn(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)jn(d[a],l)}var vn=me(null),mn=me(0);function ni(a,l){a=bl,H(mn,a),H(vn,l),bl=a|l.baseLanes}function Kn(){H(mn,bl),H(vn,vn.current)}function Zt(){bl=mn.current,R(vn),R(mn)}var ai=0,Pt=null,Wt=null,On=null,Vn=!1,kr=!1,mr=!1,Qi=0,er=0,rr=null,Ms=0;function Yn(){throw Error(i(321))}function sr(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Cr(a[d],l[d]))return!1;return!0}function Gs(a,l,d,p,w,A){return ai=A,Pt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,K.H=a===null||a.memoizedState===null?ny:iy,mr=!1,A=d(p,w),mr=!1,kr&&(A=fl(l,d,p,w)),No(a),A}function No(a){K.H=cp;var l=Wt!==null&&Wt.next!==null;if(ai=0,On=Wt=Pt=null,Vn=!1,er=0,rr=null,l)throw Error(i(300));a===null||jr||(a=a.dependencies,a!==null&&ef(a)&&(jr=!0))}function fl(a,l,d,p){Pt=a;var w=0;do{if(kr&&(rr=null),er=0,kr=!1,25<=w)throw Error(i(301));if(w+=1,On=Wt=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}K.H=MA,A=l(d,p)}while(kr);return A}function Eo(){var a=K.H,l=a.useState()[0];return l=typeof l.then=="function"?ko(l):l,a=a.useState()[0],(Wt!==null?Wt.memoizedState:null)!==a&&(Pt.flags|=1024),l}function _i(){var a=Qi!==0;return Qi=0,a}function ic(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function nf(a){if(Vn){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Vn=!1}ai=0,On=Wt=Pt=null,kr=!1,er=Qi=0,rr=null}function $r(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Pt.memoizedState=On=a:On=On.next=a,On}function ki(){if(Wt===null){var a=Pt.alternate;a=a!==null?a.memoizedState:null}else a=Wt.next;var l=On===null?Pt.memoizedState:On.next;if(l!==null)On=l,Wt=a;else{if(a===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));Wt=a,a={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},On===null?Pt.memoizedState=On=a:On=On.next=a}return On}function dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(a){var l=er;return er+=1,rr===null&&(rr=[]),a=Le(rr,a,l),l=Pt,(On===null?l.memoizedState:On.next)===null&&(l=l.alternate,K.H=l===null||l.memoizedState===null?ny:iy),a}function is(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ko(a);if(a.$$typeof===I)return hr(a)}throw Error(i(438,String(a)))}function Mo(a){var l=null,d=Pt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=Pt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=dl(),Pt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),p=0;p<a;p++)d[p]=le;return l.index++,d}function rs(a,l){return typeof l=="function"?l(a):l}function rc(a){var l=ki();return tu(l,Wt,a)}function tu(a,l,d){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=d;var w=a.baseQueue,A=p.pending;if(A!==null){if(w!==null){var D=w.next;w.next=A.next,A.next=D}l.baseQueue=w=A,p.pending=null}if(A=a.baseState,w===null)a.memoizedState=A;else{l=w.next;var $=D=null,he=null,Pe=l,je=!1;do{var Ke=Pe.lane&-536870913;if(Ke!==Pe.lane?(Un&Ke)===Ke:(ai&Ke)===Ke){var De=Pe.revertLane;if(De===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),Ke===cl&&(je=!0);else if((ai&De)===De){Pe=Pe.next,De===cl&&(je=!0);continue}else Ke={lane:0,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},he===null?($=he=Ke,D=A):he=he.next=Ke,Pt.lanes|=De,du|=De;Ke=Pe.action,mr&&d(A,Ke),A=Pe.hasEagerState?Pe.eagerState:d(A,Ke)}else De={lane:Ke,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},he===null?($=he=De,D=A):he=he.next=De,Pt.lanes|=Ke,du|=Ke;Pe=Pe.next}while(Pe!==null&&Pe!==l);if(he===null?D=A:he.next=$,!Cr(A,a.memoizedState)&&(jr=!0,je&&(d=za,d!==null)))throw d;a.memoizedState=A,a.baseState=D,a.baseQueue=he,p.lastRenderedState=A}return w===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function rf(a){var l=ki(),d=l.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var p=d.dispatch,w=d.pending,A=l.memoizedState;if(w!==null){d.pending=null;var D=w=w.next;do A=a(A,D.action),D=D.next;while(D!==w);Cr(A,l.memoizedState)||(jr=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),d.lastRenderedState=A}return[A,p]}function sc(a,l,d){var p=Pt,w=ki(),A=Gn;if(A){if(d===void 0)throw Error(i(407));d=d()}else d=l();var D=!Cr((Wt||w).memoizedState,d);D&&(w.memoizedState=d,jr=!0),w=w.queue;var $=nu.bind(null,p,w,a);if(su(2048,8,$,[a]),w.getSnapshot!==l||D||On!==null&&On.memoizedState.tag&1){if(p.flags|=2048,Va(9,uc(),ac.bind(null,p,w,d,l),null),Si===null)throw Error(i(349));A||(ai&124)!==0||sf(p,l,d)}return d}function sf(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Pt.updateQueue,l===null?(l=dl(),Pt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function ac(a,l,d,p){l.value=d,l.getSnapshot=p,Qh(l)&&ep(a)}function nu(a,l,d){return d(function(){Qh(l)&&ep(a)})}function Qh(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Cr(a,d)}catch{return!0}}function ep(a){var l=Pa(a,2);l!==null&&Zs(l,a,2)}function oc(a){var l=$r();if(typeof a=="function"){var d=a;if(a=d(),mr){Qt(!0);try{d()}finally{Qt(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},l}function ja(a,l,d,p){return a.baseState=d,tu(a,Wt,typeof p=="function"?p:rs)}function Tg(a,l,d,p,w){if(up(a))throw Error(i(485));if(a=l.action,a!==null){var A={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){A.listeners.push(D)}};K.T!==null?d(!0):A.isTransition=!1,p(A),d=l.pending,d===null?(A.next=l.pending=A,tp(l,A)):(A.next=d.next,l.pending=d.next=A)}}function tp(a,l){var d=l.action,p=l.payload,w=a.state;if(l.isTransition){var A=K.T,D={};K.T=D;try{var $=d(w,p),he=K.S;he!==null&&he(D,$),np(a,l,$)}catch(Pe){iu(a,l,Pe)}finally{K.T=A}}else try{A=d(w,p),np(a,l,A)}catch(Pe){iu(a,l,Pe)}}function np(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){yd(a,l,p)},function(p){return iu(a,l,p)}):yd(a,l,d)}function yd(a,l,d){l.status="fulfilled",l.value=d,vd(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,tp(a,d)))}function iu(a,l,d){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,vd(l),l=l.next;while(l!==p)}a.action=null}function vd(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function xd(a,l){return l}function lc(a,l){if(Gn){var d=Si.formState;if(d!==null){e:{var p=Pt;if(Gn){if(Vi){t:{for(var w=Vi,A=fa;w.nodeType!==8;){if(!A){w=null;break t}if(w=Ga(w.nextSibling),w===null){w=null;break t}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){Vi=Ga(w.nextSibling),p=w.data==="F!";break e}}ul(p)}p=!1}p&&(l=d[0])}}return d=$r(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:l},d.queue=p,d=Q2.bind(null,Pt,p),p.dispatch=d,p=oc(!1),A=Cg.bind(null,Pt,!1,p.queue),p=$r(),w={state:l,dispatch:null,action:a,pending:null},p.queue=w,d=Tg.bind(null,Pt,w,A,d),w.dispatch=d,p.memoizedState=a,[l,d,!1]}function af(a){var l=ki();return ru(l,Wt,a)}function ru(a,l,d){if(l=tu(a,l,xd)[0],a=rc(rs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=ko(l)}catch(D){throw D===V?Y:D}else p=l;l=ki();var w=l.queue,A=w.dispatch;return d!==l.memoizedState&&(Pt.flags|=2048,Va(9,uc(),ip.bind(null,w,d),null)),[p,A,a]}function ip(a,l){a.action=l}function rp(a){var l=ki(),d=Wt;if(d!==null)return ru(l,d,a);ki(),l=l.memoizedState,d=ki();var p=d.queue.dispatch;return d.memoizedState=a,[l,p,!1]}function Va(a,l,d,p){return a={tag:a,create:d,deps:p,inst:l,next:null},l=Pt.updateQueue,l===null&&(l=dl(),Pt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,l.lastEffect=a),a}function uc(){return{destroy:void 0,resource:void 0}}function of(){return ki().memoizedState}function Ws(a,l,d,p){var w=$r();p=p===void 0?null:p,Pt.flags|=a,w.memoizedState=Va(1|l,uc(),d,p)}function su(a,l,d,p){var w=ki();p=p===void 0?null:p;var A=w.memoizedState.inst;Wt!==null&&p!==null&&sr(p,Wt.memoizedState.deps)?w.memoizedState=Va(l,A,d,p):(Pt.flags|=a,w.memoizedState=Va(1|l,A,d,p))}function bd(a,l){Ws(8390656,8,a,l)}function sp(a,l){su(2048,8,a,l)}function wd(a,l){return su(4,2,a,l)}function hl(a,l){return su(4,4,a,l)}function ap(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function _d(a,l,d){d=d!=null?d.concat([a]):null,su(4,4,ap.bind(null,l,a),d)}function Sd(){}function Ad(a,l){var d=ki();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&sr(l,p[1])?p[0]:(d.memoizedState=[a,l],a)}function op(a,l){var d=ki();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&sr(l,p[1]))return p[0];if(p=a(),mr){Qt(!0);try{a()}finally{Qt(!1)}}return d.memoizedState=[p,l],p}function pl(a,l,d){return d===void 0||(ai&1073741824)!==0?a.memoizedState=l:(a.memoizedState=d,a=$y(),Pt.lanes|=a,du|=a,d)}function lf(a,l,d,p){return Cr(d,l)?d:vn.current!==null?(a=pl(a,d,p),Cr(a,l)||(jr=!0),a):(ai&42)===0?(jr=!0,a.memoizedState=d):(a=$y(),Pt.lanes|=a,du|=a,l)}function cc(a,l,d,p,w){var A=Q.p;Q.p=A!==0&&8>A?A:8;var D=K.T,$={};K.T=$,Cg(a,!1,l,d);try{var he=w(),Pe=K.S;if(Pe!==null&&Pe($,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var je=Xh(he,p);Ed(a,l,je,Js(a))}else Ed(a,l,p,Js(a))}catch(Ke){Ed(a,l,{then:function(){},status:"rejected",reason:Ke},Js())}finally{Q.p=A,K.T=D}}function Ua(){}function ma(a,l,d,p){if(a.tag!==5)throw Error(i(476));var w=qa(a).queue;cc(a,w,l,Z,d===null?Ua:function(){return fc(a),d(p)})}function qa(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:Z},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function fc(a){var l=qa(a).next.queue;Ed(a,l,{},Js())}function dc(){return hr(Wd)}function Td(){return ki().memoizedState}function lp(){return ki().memoizedState}function Cd(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=Js();a=ze(d);var p=Ge(l,a,d);p!==null&&(Zs(p,l,d),Ve(p,l,d)),l={cache:md()},a.payload=l;return}l=l.return}}function Nd(a,l,d){var p=Js();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},up(a)?ey(l,d):(d=_o(a,l,d,p),d!==null&&(Zs(d,a,p),ty(d,l,p)))}function Q2(a,l,d){var p=Js();Ed(a,l,d,p)}function Ed(a,l,d,p){var w={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(up(a))ey(l,w);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var D=l.lastRenderedState,$=A(D,d);if(w.hasEagerState=!0,w.eagerState=$,Cr($,D))return wo(a,l,w,0),Si===null&&Ns(),!1}catch{}finally{}if(d=_o(a,l,w,p),d!==null)return Zs(d,a,p),ty(d,l,p),!0}return!1}function Cg(a,l,d,p){if(p={lane:2,revertLane:r0(),action:p,hasEagerState:!1,eagerState:null,next:null},up(a)){if(l)throw Error(i(479))}else l=_o(a,d,p,2),l!==null&&Zs(l,a,2)}function up(a){var l=a.alternate;return a===Pt||l!==null&&l===Pt}function ey(a,l){kr=Vn=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function ty(a,l,d){if((d&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,d|=p,l.lanes=d,on(a,d)}}var cp={readContext:hr,use:is,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useLayoutEffect:Yn,useInsertionEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useSyncExternalStore:Yn,useId:Yn,useHostTransitionStatus:Yn,useFormState:Yn,useActionState:Yn,useOptimistic:Yn,useMemoCache:Yn,useCacheRefresh:Yn},ny={readContext:hr,use:is,useCallback:function(a,l){return $r().memoizedState=[a,l===void 0?null:l],a},useContext:hr,useEffect:bd,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Ws(4194308,4,ap.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Ws(4194308,4,a,l)},useInsertionEffect:function(a,l){Ws(4,2,a,l)},useMemo:function(a,l){var d=$r();l=l===void 0?null:l;var p=a();if(mr){Qt(!0);try{a()}finally{Qt(!1)}}return d.memoizedState=[p,l],p},useReducer:function(a,l,d){var p=$r();if(d!==void 0){var w=d(l);if(mr){Qt(!0);try{d(l)}finally{Qt(!1)}}}else w=l;return p.memoizedState=p.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},p.queue=a,a=a.dispatch=Nd.bind(null,Pt,a),[p.memoizedState,a]},useRef:function(a){var l=$r();return a={current:a},l.memoizedState=a},useState:function(a){a=oc(a);var l=a.queue,d=Q2.bind(null,Pt,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:Sd,useDeferredValue:function(a,l){var d=$r();return pl(d,a,l)},useTransition:function(){var a=oc(!1);return a=cc.bind(null,Pt,a.queue,!0,!1),$r().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var p=Pt,w=$r();if(Gn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=l(),Si===null)throw Error(i(349));(Un&124)!==0||sf(p,l,d)}w.memoizedState=d;var A={value:d,getSnapshot:l};return w.queue=A,bd(nu.bind(null,p,A,a),[a]),p.flags|=2048,Va(9,uc(),ac.bind(null,p,A,d,l),null),d},useId:function(){var a=$r(),l=Si.identifierPrefix;if(Gn){var d=Oa,p=Ia;d=(p&~(1<<32-lt(p)-1)).toString(32)+d,l="«"+l+"R"+d,d=Qi++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=Ms++,l="«"+l+"r"+d.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:dc,useFormState:lc,useActionState:lc,useOptimistic:function(a){var l=$r();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Cg.bind(null,Pt,!0,d),d.dispatch=l,[a,l]},useMemoCache:Mo,useCacheRefresh:function(){return $r().memoizedState=Cd.bind(null,Pt)}},iy={readContext:hr,use:is,useCallback:Ad,useContext:hr,useEffect:sp,useImperativeHandle:_d,useInsertionEffect:wd,useLayoutEffect:hl,useMemo:op,useReducer:rc,useRef:of,useState:function(){return rc(rs)},useDebugValue:Sd,useDeferredValue:function(a,l){var d=ki();return lf(d,Wt.memoizedState,a,l)},useTransition:function(){var a=rc(rs)[0],l=ki().memoizedState;return[typeof a=="boolean"?a:ko(a),l]},useSyncExternalStore:sc,useId:Td,useHostTransitionStatus:dc,useFormState:af,useActionState:af,useOptimistic:function(a,l){var d=ki();return ja(d,Wt,a,l)},useMemoCache:Mo,useCacheRefresh:lp},MA={readContext:hr,use:is,useCallback:Ad,useContext:hr,useEffect:sp,useImperativeHandle:_d,useInsertionEffect:wd,useLayoutEffect:hl,useMemo:op,useReducer:rf,useRef:of,useState:function(){return rf(rs)},useDebugValue:Sd,useDeferredValue:function(a,l){var d=ki();return Wt===null?pl(d,a,l):lf(d,Wt.memoizedState,a,l)},useTransition:function(){var a=rf(rs)[0],l=ki().memoizedState;return[typeof a=="boolean"?a:ko(a),l]},useSyncExternalStore:sc,useId:Td,useHostTransitionStatus:dc,useFormState:rp,useActionState:rp,useOptimistic:function(a,l){var d=ki();return Wt!==null?ja(d,Wt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:Mo,useCacheRefresh:lp},uf=null,kd=0;function fp(a){var l=kd;return kd+=1,uf===null&&(uf=[]),Le(uf,a,l)}function Md(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function dp(a,l){throw l.$$typeof===v?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function ry(a){var l=a._init;return l(a._payload)}function sy(a){function l(Te,be){if(a){var Me=Te.deletions;Me===null?(Te.deletions=[be],Te.flags|=16):Me.push(be)}}function d(Te,be){if(!a)return null;for(;be!==null;)l(Te,be),be=be.sibling;return null}function p(Te){for(var be=new Map;Te!==null;)Te.key!==null?be.set(Te.key,Te):be.set(Te.index,Te),Te=Te.sibling;return be}function w(Te,be){return Te=ca(Te,be),Te.index=0,Te.sibling=null,Te}function A(Te,be,Me){return Te.index=Me,a?(Me=Te.alternate,Me!==null?(Me=Me.index,Me<be?(Te.flags|=67108866,be):Me):(Te.flags|=67108866,be)):(Te.flags|=1048576,be)}function D(Te){return a&&Te.alternate===null&&(Te.flags|=67108866),Te}function $(Te,be,Me,qe){return be===null||be.tag!==6?(be=Jc(Me,Te.mode,qe),be.return=Te,be):(be=w(be,Me),be.return=Te,be)}function he(Te,be,Me,qe){var bt=Me.type;return bt===N?je(Te,be,Me.props.children,qe,Me.key):be!==null&&(be.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===j&&ry(bt)===be.type)?(be=w(be,Me.props),Md(be,Me),be.return=Te,be):(be=al(Me.type,Me.key,Me.props,null,Te.mode,qe),Md(be,Me),be.return=Te,be)}function Pe(Te,be,Me,qe){return be===null||be.tag!==4||be.stateNode.containerInfo!==Me.containerInfo||be.stateNode.implementation!==Me.implementation?(be=Xu(Me,Te.mode,qe),be.return=Te,be):(be=w(be,Me.children||[]),be.return=Te,be)}function je(Te,be,Me,qe,bt){return be===null||be.tag!==7?(be=Ra(Me,Te.mode,qe,bt),be.return=Te,be):(be=w(be,Me),be.return=Te,be)}function Ke(Te,be,Me){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Jc(""+be,Te.mode,Me),be.return=Te,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case b:return Me=al(be.type,be.key,be.props,null,Te.mode,Me),Md(Me,be),Me.return=Te,Me;case x:return be=Xu(be,Te.mode,Me),be.return=Te,be;case j:var qe=be._init;return be=qe(be._payload),Ke(Te,be,Me)}if(ge(be)||G(be))return be=Ra(be,Te.mode,Me,null),be.return=Te,be;if(typeof be.then=="function")return Ke(Te,fp(be),Me);if(be.$$typeof===I)return Ke(Te,Co(Te,be),Me);dp(Te,be)}return null}function De(Te,be,Me,qe){var bt=be!==null?be.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return bt!==null?null:$(Te,be,""+Me,qe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:return Me.key===bt?he(Te,be,Me,qe):null;case x:return Me.key===bt?Pe(Te,be,Me,qe):null;case j:return bt=Me._init,Me=bt(Me._payload),De(Te,be,Me,qe)}if(ge(Me)||G(Me))return bt!==null?null:je(Te,be,Me,qe,null);if(typeof Me.then=="function")return De(Te,be,fp(Me),qe);if(Me.$$typeof===I)return De(Te,be,Co(Te,Me),qe);dp(Te,Me)}return null}function Ie(Te,be,Me,qe,bt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Te=Te.get(Me)||null,$(be,Te,""+qe,bt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case b:return Te=Te.get(qe.key===null?Me:qe.key)||null,he(be,Te,qe,bt);case x:return Te=Te.get(qe.key===null?Me:qe.key)||null,Pe(be,Te,qe,bt);case j:var Tn=qe._init;return qe=Tn(qe._payload),Ie(Te,be,Me,qe,bt)}if(ge(qe)||G(qe))return Te=Te.get(Me)||null,je(be,Te,qe,bt,null);if(typeof qe.then=="function")return Ie(Te,be,Me,fp(qe),bt);if(qe.$$typeof===I)return Ie(Te,be,Me,Co(be,qe),bt);dp(be,qe)}return null}function Yt(Te,be,Me,qe){for(var bt=null,Tn=null,Et=be,Ht=be=0,Ur=null;Et!==null&&Ht<Me.length;Ht++){Et.index>Ht?(Ur=Et,Et=null):Ur=Et.sibling;var $n=De(Te,Et,Me[Ht],qe);if($n===null){Et===null&&(Et=Ur);break}a&&Et&&$n.alternate===null&&l(Te,Et),be=A($n,be,Ht),Tn===null?bt=$n:Tn.sibling=$n,Tn=$n,Et=Ur}if(Ht===Me.length)return d(Te,Et),Gn&&ll(Te,Ht),bt;if(Et===null){for(;Ht<Me.length;Ht++)Et=Ke(Te,Me[Ht],qe),Et!==null&&(be=A(Et,be,Ht),Tn===null?bt=Et:Tn.sibling=Et,Tn=Et);return Gn&&ll(Te,Ht),bt}for(Et=p(Et);Ht<Me.length;Ht++)Ur=Ie(Et,Te,Ht,Me[Ht],qe),Ur!==null&&(a&&Ur.alternate!==null&&Et.delete(Ur.key===null?Ht:Ur.key),be=A(Ur,be,Ht),Tn===null?bt=Ur:Tn.sibling=Ur,Tn=Ur);return a&&Et.forEach(function(wu){return l(Te,wu)}),Gn&&ll(Te,Ht),bt}function Ut(Te,be,Me,qe){if(Me==null)throw Error(i(151));for(var bt=null,Tn=null,Et=be,Ht=be=0,Ur=null,$n=Me.next();Et!==null&&!$n.done;Ht++,$n=Me.next()){Et.index>Ht?(Ur=Et,Et=null):Ur=Et.sibling;var wu=De(Te,Et,$n.value,qe);if(wu===null){Et===null&&(Et=Ur);break}a&&Et&&wu.alternate===null&&l(Te,Et),be=A(wu,be,Ht),Tn===null?bt=wu:Tn.sibling=wu,Tn=wu,Et=Ur}if($n.done)return d(Te,Et),Gn&&ll(Te,Ht),bt;if(Et===null){for(;!$n.done;Ht++,$n=Me.next())$n=Ke(Te,$n.value,qe),$n!==null&&(be=A($n,be,Ht),Tn===null?bt=$n:Tn.sibling=$n,Tn=$n);return Gn&&ll(Te,Ht),bt}for(Et=p(Et);!$n.done;Ht++,$n=Me.next())$n=Ie(Et,Te,Ht,$n.value,qe),$n!==null&&(a&&$n.alternate!==null&&Et.delete($n.key===null?Ht:$n.key),be=A($n,be,Ht),Tn===null?bt=$n:Tn.sibling=$n,Tn=$n);return a&&Et.forEach(function(LT){return l(Te,LT)}),Gn&&ll(Te,Ht),bt}function pi(Te,be,Me,qe){if(typeof Me=="object"&&Me!==null&&Me.type===N&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:e:{for(var bt=Me.key;be!==null;){if(be.key===bt){if(bt=Me.type,bt===N){if(be.tag===7){d(Te,be.sibling),qe=w(be,Me.props.children),qe.return=Te,Te=qe;break e}}else if(be.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===j&&ry(bt)===be.type){d(Te,be.sibling),qe=w(be,Me.props),Md(qe,Me),qe.return=Te,Te=qe;break e}d(Te,be);break}else l(Te,be);be=be.sibling}Me.type===N?(qe=Ra(Me.props.children,Te.mode,qe,Me.key),qe.return=Te,Te=qe):(qe=al(Me.type,Me.key,Me.props,null,Te.mode,qe),Md(qe,Me),qe.return=Te,Te=qe)}return D(Te);case x:e:{for(bt=Me.key;be!==null;){if(be.key===bt)if(be.tag===4&&be.stateNode.containerInfo===Me.containerInfo&&be.stateNode.implementation===Me.implementation){d(Te,be.sibling),qe=w(be,Me.children||[]),qe.return=Te,Te=qe;break e}else{d(Te,be);break}else l(Te,be);be=be.sibling}qe=Xu(Me,Te.mode,qe),qe.return=Te,Te=qe}return D(Te);case j:return bt=Me._init,Me=bt(Me._payload),pi(Te,be,Me,qe)}if(ge(Me))return Yt(Te,be,Me,qe);if(G(Me)){if(bt=G(Me),typeof bt!="function")throw Error(i(150));return Me=bt.call(Me),Ut(Te,be,Me,qe)}if(typeof Me.then=="function")return pi(Te,be,fp(Me),qe);if(Me.$$typeof===I)return pi(Te,be,Co(Te,Me),qe);dp(Te,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,be!==null&&be.tag===6?(d(Te,be.sibling),qe=w(be,Me),qe.return=Te,Te=qe):(d(Te,be),qe=Jc(Me,Te.mode,qe),qe.return=Te,Te=qe),D(Te)):d(Te,be)}return function(Te,be,Me,qe){try{kd=0;var bt=pi(Te,be,Me,qe);return uf=null,bt}catch(Et){if(Et===V||Et===Y)throw Et;var Tn=zr(29,Et,null,Te.mode);return Tn.lanes=qe,Tn.return=Te,Tn}finally{}}}var cf=sy(!0),ay=sy(!1),ga=me(null),Lo=null;function au(a){var l=a.alternate;H(Ir,Ir.current&1),H(ga,a),Lo===null&&(l===null||vn.current!==null||l.memoizedState!==null)&&(Lo=a)}function oy(a){if(a.tag===22){if(H(Ir,Ir.current),H(ga,a),Lo===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Lo=a)}}else ou()}function ou(){H(Ir,Ir.current),H(ga,ga.current)}function ml(a){R(ga),Lo===a&&(Lo=null),R(Ir)}var Ir=me(0);function hp(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||g0(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Ng(a,l,d,p){l=a.memoizedState,d=d(p,l),d=d==null?l:h({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Eg={enqueueSetState:function(a,l,d){a=a._reactInternals;var p=Js(),w=ze(p);w.payload=l,d!=null&&(w.callback=d),l=Ge(a,w,p),l!==null&&(Zs(l,a,p),Ve(l,a,p))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var p=Js(),w=ze(p);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=Ge(a,w,p),l!==null&&(Zs(l,a,p),Ve(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Js(),p=ze(d);p.tag=2,l!=null&&(p.callback=l),l=Ge(a,p,d),l!==null&&(Zs(l,a,d),Ve(l,a,d))}};function ly(a,l,d,p,w,A,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,A,D):l.prototype&&l.prototype.isPureReactComponent?!po(d,p)||!po(w,A):!0}function uy(a,l,d,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==a&&Eg.enqueueReplaceState(l,l.state,null)}function hc(a,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(a=a.defaultProps){d===l&&(d=h({},d));for(var w in a)d[w]===void 0&&(d[w]=a[w])}return d}var pp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function cy(a){pp(a)}function fy(a){console.error(a)}function dy(a){pp(a)}function mp(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function hy(a,l,d){try{var p=a.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function kg(a,l,d){return d=ze(d),d.tag=3,d.payload={element:null},d.callback=function(){mp(a,l)},d}function py(a){return a=ze(a),a.tag=3,a}function my(a,l,d,p){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var A=p.value;a.payload=function(){return w(A)},a.callback=function(){hy(l,d,p)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){hy(l,d,p),typeof w!="function"&&(hu===null?hu=new Set([this]):hu.add(this));var $=p.stack;this.componentDidCatch(p.value,{componentStack:$!==null?$:""})})}function LA(a,l,d,p,w){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&eu(l,d,w,!0),d=ga.current,d!==null){switch(d.tag){case 13:return Lo===null?Qg():d.alternate===null&&ar===0&&(ar=3),d.flags&=-257,d.flags|=65536,d.lanes=w,p===X?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),t0(a,p,w)),!1;case 22:return d.flags|=65536,p===X?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),t0(a,p,w)),!1}throw Error(i(435,d.tag))}return t0(a,p,w),Qg(),!1}if(Gn)return l=ga.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,p!==pd&&(a=Error(i(422),{cause:p}),Ql(wn(a,d)))):(p!==pd&&(l=Error(i(423),{cause:p}),Ql(wn(l,d))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,p=wn(p,d),w=kg(a.stateNode,p,w),pt(a,w),ar!==4&&(ar=2)),!1;var A=Error(i(520),{cause:p});if(A=wn(A,d),Fd===null?Fd=[A]:Fd.push(A),ar!==4&&(ar=2),l===null)return!0;p=wn(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=w&-w,d.lanes|=a,a=kg(d.stateNode,p,a),pt(d,a),!1;case 1:if(l=d.type,A=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(hu===null||!hu.has(A))))return d.flags|=65536,w&=-w,d.lanes|=w,w=py(w),my(w,a,d,p),pt(d,w),!1}d=d.return}while(d!==null);return!1}var gy=Error(i(461)),jr=!1;function Jr(a,l,d,p){l.child=a===null?ay(l,null,d,p):cf(l,a.child,d,p)}function yy(a,l,d,p,w){d=d.render;var A=l.ref;if("ref"in p){var D={};for(var $ in p)$!=="ref"&&(D[$]=p[$])}else D=p;return pa(l),p=Gs(a,l,d,D,A,w),$=_i(),a!==null&&!jr?(ic(a,l,w),gl(a,l,w)):(Gn&&$&&Qu(l),l.flags|=1,Jr(a,l,p,w),l.child)}function vy(a,l,d,p,w){if(a===null){var A=d.type;return typeof A=="function"&&!Zl(A)&&A.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=A,xy(a,l,A,p,w)):(a=al(d.type,null,p,l,l.mode,w),a.ref=l.ref,a.return=l,l.child=a)}if(A=a.child,!Fg(a,w)){var D=A.memoizedProps;if(d=d.compare,d=d!==null?d:po,d(D,p)&&a.ref===l.ref)return gl(a,l,w)}return l.flags|=1,a=ca(A,p),a.ref=l.ref,a.return=l,l.child=a}function xy(a,l,d,p,w){if(a!==null){var A=a.memoizedProps;if(po(A,p)&&a.ref===l.ref)if(jr=!1,l.pendingProps=p=A,Fg(a,w))(a.flags&131072)!==0&&(jr=!0);else return l.lanes=a.lanes,gl(a,l,w)}return Mg(a,l,d,p,w)}function by(a,l,d){var p=l.pendingProps,w=p.children,A=a!==null?a.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=A!==null?A.baseLanes|d:d,a!==null){for(w=l.child=a.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;l.childLanes=A&~p}else l.childLanes=0,l.child=null;return wy(a,l,p,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&L(l,A!==null?A.cachePool:null),A!==null?ni(l,A):Kn(),oy(l);else return l.lanes=l.childLanes=536870912,wy(a,l,A!==null?A.baseLanes|d:d,d)}else A!==null?(L(l,A.cachePool),ni(l,A),ou(),l.memoizedState=null):(a!==null&&L(l,null),Kn(),ou());return Jr(a,l,w,d),l.child}function wy(a,l,d,p){var w=E();return w=w===null?null:{parent:pr._currentValue,pool:w},l.memoizedState={baseLanes:d,cachePool:w},a!==null&&L(l,null),Kn(),oy(l),a!==null&&eu(a,l,p,!0),null}function gp(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function Mg(a,l,d,p,w){return pa(l),d=Gs(a,l,d,p,void 0,w),p=_i(),a!==null&&!jr?(ic(a,l,w),gl(a,l,w)):(Gn&&p&&Qu(l),l.flags|=1,Jr(a,l,d,w),l.child)}function _y(a,l,d,p,w,A){return pa(l),l.updateQueue=null,d=fl(l,p,d,w),No(a),p=_i(),a!==null&&!jr?(ic(a,l,A),gl(a,l,A)):(Gn&&p&&Qu(l),l.flags|=1,Jr(a,l,d,A),l.child)}function Sy(a,l,d,p,w){if(pa(l),l.stateNode===null){var A=Nr,D=d.contextType;typeof D=="object"&&D!==null&&(A=hr(D)),A=new d(p,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Eg,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=p,A.state=l.memoizedState,A.refs={},xe(l),D=d.contextType,A.context=typeof D=="object"&&D!==null?hr(D):Nr,A.state=l.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(Ng(l,d,D,p),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(D=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),D!==A.state&&Eg.enqueueReplaceState(A,A.state,null),at(l,p,A,w),Nt(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){A=l.stateNode;var $=l.memoizedProps,he=hc(d,$);A.props=he;var Pe=A.context,je=d.contextType;D=Nr,typeof je=="object"&&je!==null&&(D=hr(je));var Ke=d.getDerivedStateFromProps;je=typeof Ke=="function"||typeof A.getSnapshotBeforeUpdate=="function",$=l.pendingProps!==$,je||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($||Pe!==D)&&uy(l,A,p,D),Oe=!1;var De=l.memoizedState;A.state=De,at(l,p,A,w),Nt(),Pe=l.memoizedState,$||De!==Pe||Oe?(typeof Ke=="function"&&(Ng(l,d,Ke,p),Pe=l.memoizedState),(he=Oe||ly(l,d,he,p,De,Pe,D))?(je||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Pe),A.props=p,A.state=Pe,A.context=D,p=he):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{A=l.stateNode,we(a,l),D=l.memoizedProps,je=hc(d,D),A.props=je,Ke=l.pendingProps,De=A.context,Pe=d.contextType,he=Nr,typeof Pe=="object"&&Pe!==null&&(he=hr(Pe)),$=d.getDerivedStateFromProps,(Pe=typeof $=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(D!==Ke||De!==he)&&uy(l,A,p,he),Oe=!1,De=l.memoizedState,A.state=De,at(l,p,A,w),Nt();var Ie=l.memoizedState;D!==Ke||De!==Ie||Oe||a!==null&&a.dependencies!==null&&ef(a.dependencies)?(typeof $=="function"&&(Ng(l,d,$,p),Ie=l.memoizedState),(je=Oe||ly(l,d,je,p,De,Ie,he)||a!==null&&a.dependencies!==null&&ef(a.dependencies))?(Pe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Ie,he),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Ie,he)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||D===a.memoizedProps&&De===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&De===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Ie),A.props=p,A.state=Ie,A.context=he,p=je):(typeof A.componentDidUpdate!="function"||D===a.memoizedProps&&De===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&De===a.memoizedState||(l.flags|=1024),p=!1)}return A=p,gp(a,l),p=(l.flags&128)!==0,A||p?(A=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,a!==null&&p?(l.child=cf(l,a.child,null,w),l.child=cf(l,null,d,w)):Jr(a,l,d,w),l.memoizedState=A.state,a=l.child):a=gl(a,l,w),a}function Ay(a,l,d,p){return ws(),l.flags|=256,Jr(a,l,d,p),l.child}var Lg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pg(a){return{baseLanes:a,cachePool:O()}}function Rg(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=ya),a}function Ty(a,l,d){var p=l.pendingProps,w=!1,A=(l.flags&128)!==0,D;if((D=A)||(D=a!==null&&a.memoizedState===null?!1:(Ir.current&2)!==0),D&&(w=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,a===null){if(Gn){if(w?au(l):ou(),Gn){var $=Vi,he;if(he=$){e:{for(he=$,$=fa;he.nodeType!==8;){if(!$){$=null;break e}if(he=Ga(he.nextSibling),he===null){$=null;break e}}$=he}$!==null?(l.memoizedState={dehydrated:$,treeContext:ol!==null?{id:Ia,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},he=zr(18,null,null,0),he.stateNode=$,he.return=l,l.child=he,dr=l,Vi=null,he=!0):he=!1}he||ul(l)}if($=l.memoizedState,$!==null&&($=$.dehydrated,$!==null))return g0($)?l.lanes=32:l.lanes=536870912,null;ml(l)}return $=p.children,p=p.fallback,w?(ou(),w=l.mode,$=yp({mode:"hidden",children:$},w),p=Ra(p,w,d,null),$.return=l,p.return=l,$.sibling=p,l.child=$,w=l.child,w.memoizedState=Pg(d),w.childLanes=Rg(a,D,d),l.memoizedState=Lg,p):(au(l),Dg(l,$))}if(he=a.memoizedState,he!==null&&($=he.dehydrated,$!==null)){if(A)l.flags&256?(au(l),l.flags&=-257,l=Ig(a,l,d)):l.memoizedState!==null?(ou(),l.child=a.child,l.flags|=128,l=null):(ou(),w=p.fallback,$=l.mode,p=yp({mode:"visible",children:p.children},$),w=Ra(w,$,d,null),w.flags|=2,p.return=l,w.return=l,p.sibling=w,l.child=p,cf(l,a.child,null,d),p=l.child,p.memoizedState=Pg(d),p.childLanes=Rg(a,D,d),l.memoizedState=Lg,l=w);else if(au(l),g0($)){if(D=$.nextSibling&&$.nextSibling.dataset,D)var Pe=D.dgst;D=Pe,p=Error(i(419)),p.stack="",p.digest=D,Ql({value:p,source:null,stack:null}),l=Ig(a,l,d)}else if(jr||eu(a,l,d,!1),D=(d&a.childLanes)!==0,jr||D){if(D=Si,D!==null&&(p=d&-d,p=(p&42)!==0?1:Fr(p),p=(p&(D.suspendedLanes|d))!==0?0:p,p!==0&&p!==he.retryLane))throw he.retryLane=p,Pa(a,p),Zs(D,a,p),gy;$.data==="$?"||Qg(),l=Ig(a,l,d)}else $.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=he.treeContext,Vi=Ga($.nextSibling),dr=l,Gn=!0,Ao=null,fa=!1,a!==null&&(ks[bs++]=Ia,ks[bs++]=Oa,ks[bs++]=ol,Ia=a.id,Oa=a.overflow,ol=l),l=Dg(l,p.children),l.flags|=4096);return l}return w?(ou(),w=p.fallback,$=l.mode,he=a.child,Pe=he.sibling,p=ca(he,{mode:"hidden",children:p.children}),p.subtreeFlags=he.subtreeFlags&65011712,Pe!==null?w=ca(Pe,w):(w=Ra(w,$,d,null),w.flags|=2),w.return=l,p.return=l,p.sibling=w,l.child=p,p=w,w=l.child,$=a.child.memoizedState,$===null?$=Pg(d):(he=$.cachePool,he!==null?(Pe=pr._currentValue,he=he.parent!==Pe?{parent:Pe,pool:Pe}:he):he=O(),$={baseLanes:$.baseLanes|d,cachePool:he}),w.memoizedState=$,w.childLanes=Rg(a,D,d),l.memoizedState=Lg,p):(au(l),d=a.child,a=d.sibling,d=ca(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,a!==null&&(D=l.deletions,D===null?(l.deletions=[a],l.flags|=16):D.push(a)),l.child=d,l.memoizedState=null,d)}function Dg(a,l){return l=yp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function yp(a,l){return a=zr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Ig(a,l,d){return cf(l,a.child,null,d),a=Dg(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Cy(a,l,d){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Xc(a.return,l,d)}function Og(a,l,d,p,w){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:w}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=d,A.tailMode=w)}function Ny(a,l,d){var p=l.pendingProps,w=p.revealOrder,A=p.tail;if(Jr(a,l,p.children,d),p=Ir.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Cy(a,d,l);else if(a.tag===19)Cy(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}switch(H(Ir,p),w){case"forwards":for(d=l.child,w=null;d!==null;)a=d.alternate,a!==null&&hp(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=l.child,l.child=null):(w=d.sibling,d.sibling=null),Og(l,!1,w,d,A);break;case"backwards":for(d=null,w=l.child,l.child=null;w!==null;){if(a=w.alternate,a!==null&&hp(a)===null){l.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}Og(l,!0,d,null,A);break;case"together":Og(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function gl(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),du|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(eu(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,d=ca(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=ca(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Fg(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&ef(a)))}function PA(a,l,d){switch(l.tag){case 3:_e(l,l.stateNode.containerInfo),To(l,pr,a.memoizedState.cache),ws();break;case 27:case 5:Be(l);break;case 4:_e(l,l.stateNode.containerInfo);break;case 10:To(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(au(l),l.flags|=128,null):(d&l.child.childLanes)!==0?Ty(a,l,d):(au(l),a=gl(a,l,d),a!==null?a.sibling:null);au(l);break;case 19:var w=(a.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(eu(a,l,d,!1),p=(d&l.childLanes)!==0),w){if(p)return Ny(a,l,d);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),H(Ir,Ir.current),p)break;return null;case 22:case 23:return l.lanes=0,by(a,l,d);case 24:To(l,pr,a.memoizedState.cache)}return gl(a,l,d)}function Ey(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)jr=!0;else{if(!Fg(a,d)&&(l.flags&128)===0)return jr=!1,PA(a,l,d);jr=(a.flags&131072)!==0}else jr=!1,Gn&&(l.flags&1048576)!==0&&Kh(l,Zc,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var p=l.elementType,w=p._init;if(p=w(p._payload),l.type=p,typeof p=="function")Zl(p)?(a=hc(p,a),l.tag=1,l=Sy(null,l,p,a,d)):(l.tag=0,l=Mg(null,l,p,a,d));else{if(p!=null){if(w=p.$$typeof,w===J){l.tag=11,l=yy(null,l,p,a,d);break e}else if(w===ee){l.tag=14,l=vy(null,l,p,a,d);break e}}throw l=ae(p)||p,Error(i(306,l,""))}}return l;case 0:return Mg(a,l,l.type,l.pendingProps,d);case 1:return p=l.type,w=hc(p,l.pendingProps),Sy(a,l,p,w,d);case 3:e:{if(_e(l,l.stateNode.containerInfo),a===null)throw Error(i(387));p=l.pendingProps;var A=l.memoizedState;w=A.element,we(a,l),at(l,p,null,d);var D=l.memoizedState;if(p=D.cache,To(l,pr,p),p!==A.cache&&Qc(l,[pr],d,!0),Nt(),p=D.element,A.isDehydrated)if(A={element:p,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){l=Ay(a,l,p,d);break e}else if(p!==w){w=wn(Error(i(424)),l),Ql(w),l=Ay(a,l,p,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Vi=Ga(a.firstChild),dr=l,Gn=!0,Ao=null,fa=!0,d=ay(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ws(),p===w){l=gl(a,l,d);break e}Jr(a,l,p,d)}l=l.child}return l;case 26:return gp(a,l),a===null?(d=Pv(l.type,null,l.pendingProps,null))?l.memoizedState=d:Gn||(d=l.type,a=l.pendingProps,p=Lp(ce.current).createElement(d),p[Bn]=l,p[Sn]=a,Xr(p,d,a),In(p),l.stateNode=p):l.memoizedState=Pv(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Be(l),a===null&&Gn&&(p=l.stateNode=kv(l.type,l.pendingProps,ce.current),dr=l,fa=!0,w=Vi,gu(l.type)?(y0=w,Vi=Ga(p.firstChild)):Vi=w),Jr(a,l,l.pendingProps.children,d),gp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Gn&&((w=p=Vi)&&(p=aT(p,l.type,l.pendingProps,fa),p!==null?(l.stateNode=p,dr=l,Vi=Ga(p.firstChild),fa=!1,w=!0):w=!1),w||ul(l)),Be(l),w=l.type,A=l.pendingProps,D=a!==null?a.memoizedProps:null,p=A.children,h0(w,A)?p=null:D!==null&&h0(w,D)&&(l.flags|=32),l.memoizedState!==null&&(w=Gs(a,l,Eo,null,null,d),Wd._currentValue=w),gp(a,l),Jr(a,l,p,d),l.child;case 6:return a===null&&Gn&&((a=d=Vi)&&(d=oT(d,l.pendingProps,fa),d!==null?(l.stateNode=d,dr=l,Vi=null,a=!0):a=!1),a||ul(l)),null;case 13:return Ty(a,l,d);case 4:return _e(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=cf(l,null,p,d):Jr(a,l,p,d),l.child;case 11:return yy(a,l,l.type,l.pendingProps,d);case 7:return Jr(a,l,l.pendingProps,d),l.child;case 8:return Jr(a,l,l.pendingProps.children,d),l.child;case 12:return Jr(a,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,To(l,l.type,p.value),Jr(a,l,p.children,d),l.child;case 9:return w=l.type._context,p=l.pendingProps.children,pa(l),w=hr(w),p=p(w),l.flags|=1,Jr(a,l,p,d),l.child;case 14:return vy(a,l,l.type,l.pendingProps,d);case 15:return xy(a,l,l.type,l.pendingProps,d);case 19:return Ny(a,l,d);case 31:return p=l.pendingProps,d=l.mode,p={mode:p.mode,children:p.children},a===null?(d=yp(p,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=ca(a.child,p),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return by(a,l,d);case 24:return pa(l),p=hr(pr),a===null?(w=E(),w===null&&(w=Si,A=md(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=d),w=A),l.memoizedState={parent:p,cache:w},xe(l),To(l,pr,w)):((a.lanes&d)!==0&&(we(a,l),at(l,null,null,d),Nt()),w=a.memoizedState,A=l.memoizedState,w.parent!==p?(w={parent:p,cache:p},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),To(l,pr,p)):(p=A.cache,To(l,pr,p),p!==w.cache&&Qc(l,[pr],d,!0))),Jr(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function yl(a){a.flags|=4}function ky(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Fv(l)){if(l=ga.current,l!==null&&((Un&4194048)===Un?Lo!==null:(Un&62914560)!==Un&&(Un&536870912)===0||l!==Lo))throw ke=X,U;a.flags|=8192}}function vp(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Zn():536870912,a.lanes|=l,pf|=l)}function Ld(a,l){if(!Gn)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function tr(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(l)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=p,a.childLanes=d,l}function RA(a,l,d){var p=l.pendingProps;switch(ec(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(l),null;case 1:return tr(l),null;case 3:return d=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),ha(pr),Ce(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Yr(l)?yl(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,$h())),tr(l),null;case 26:return d=l.memoizedState,a===null?(yl(l),d!==null?(tr(l),ky(l,d)):(tr(l),l.flags&=-16777217)):d?d!==a.memoizedState?(yl(l),tr(l),ky(l,d)):(tr(l),l.flags&=-16777217):(a.memoizedProps!==p&&yl(l),tr(l),l.flags&=-16777217),null;case 27:We(l),d=ce.current;var w=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==p&&yl(l);else{if(!p){if(l.stateNode===null)throw Error(i(166));return tr(l),null}a=te.current,Yr(l)?Yh(l):(a=kv(w,p,d),l.stateNode=a,yl(l))}return tr(l),null;case 5:if(We(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&yl(l);else{if(!p){if(l.stateNode===null)throw Error(i(166));return tr(l),null}if(a=te.current,Yr(l))Yh(l);else{switch(w=Lp(ce.current),a){case 1:a=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=w.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof p.is=="string"?w.createElement("select",{is:p.is}):w.createElement("select"),p.multiple?a.multiple=!0:p.size&&(a.size=p.size);break;default:a=typeof p.is=="string"?w.createElement(d,{is:p.is}):w.createElement(d)}}a[Bn]=l,a[Sn]=p;e:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)a.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break e;for(;w.sibling===null;){if(w.return===null||w.return===l)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=a;e:switch(Xr(a,d,p),d){case"button":case"input":case"select":case"textarea":a=!!p.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&yl(l)}}return tr(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&yl(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(i(166));if(a=ce.current,Yr(l)){if(a=l.stateNode,d=l.memoizedProps,p=null,w=dr,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}a[Bn]=l,a=!!(a.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||_v(a.nodeValue,d)),a||ul(l)}else a=Lp(a).createTextNode(p),a[Bn]=l,l.stateNode=a}return tr(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=Yr(l),p!==null&&p.dehydrated!==null){if(a===null){if(!w)throw Error(i(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[Bn]=l}else ws(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;tr(l),w=!1}else w=$h(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(ml(l),l):(ml(l),null)}if(ml(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=p!==null,a=a!==null&&a.memoizedState!==null,d){p=l.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool);var A=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(A=p.memoizedState.cachePool.pool),A!==w&&(p.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),vp(l,l.updateQueue),tr(l),null;case 4:return Ce(),a===null&&l0(l.stateNode.containerInfo),tr(l),null;case 10:return ha(l.type),tr(l),null;case 19:if(R(Ir),w=l.memoizedState,w===null)return tr(l),null;if(p=(l.flags&128)!==0,A=w.rendering,A===null)if(p)Ld(w,!1);else{if(ar!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(A=hp(a),A!==null){for(l.flags|=128,Ld(w,!1),a=A.updateQueue,l.updateQueue=a,vp(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)Zu(d,a),d=d.sibling;return H(Ir,Ir.current&1|2),l.child}a=a.sibling}w.tail!==null&&ft()>wp&&(l.flags|=128,p=!0,Ld(w,!1),l.lanes=4194304)}else{if(!p)if(a=hp(A),a!==null){if(l.flags|=128,p=!0,a=a.updateQueue,l.updateQueue=a,vp(l,a),Ld(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!Gn)return tr(l),null}else 2*ft()-w.renderingStartTime>wp&&d!==536870912&&(l.flags|=128,p=!0,Ld(w,!1),l.lanes=4194304);w.isBackwards?(A.sibling=l.child,l.child=A):(a=w.last,a!==null?a.sibling=A:l.child=A,w.last=A)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=ft(),l.sibling=null,a=Ir.current,H(Ir,p?a&1|2:a&1),l):(tr(l),null);case 22:case 23:return ml(l),Zt(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(tr(l),l.subtreeFlags&6&&(l.flags|=8192)):tr(l),d=l.updateQueue,d!==null&&vp(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),a!==null&&R(_),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ha(pr),tr(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function DA(a,l){switch(ec(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ha(pr),Ce(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return We(l),null;case 13:if(ml(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));ws()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return R(Ir),null;case 4:return Ce(),null;case 10:return ha(l.type),null;case 22:case 23:return ml(l),Zt(),a!==null&&R(_),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ha(pr),null;case 25:return null;default:return null}}function My(a,l){switch(ec(l),l.tag){case 3:ha(pr),Ce();break;case 26:case 27:case 5:We(l);break;case 4:Ce();break;case 13:ml(l);break;case 19:R(Ir);break;case 10:ha(l.type);break;case 22:case 23:ml(l),Zt(),a!==null&&R(_);break;case 24:ha(pr)}}function Pd(a,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var w=p.next;d=w;do{if((d.tag&a)===a){p=void 0;var A=d.create,D=d.inst;p=A(),D.destroy=p}d=d.next}while(d!==w)}}catch($){vi(l,l.return,$)}}function lu(a,l,d){try{var p=l.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var A=w.next;p=A;do{if((p.tag&a)===a){var D=p.inst,$=D.destroy;if($!==void 0){D.destroy=void 0,w=l;var he=d,Pe=$;try{Pe()}catch(je){vi(w,he,je)}}}p=p.next}while(p!==A)}}catch(je){vi(l,l.return,je)}}function Ly(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{Wn(l,d)}catch(p){vi(a,a.return,p)}}}function Py(a,l,d){d.props=hc(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(p){vi(a,l,p)}}function Rd(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof d=="function"?a.refCleanup=d(p):d.current=p}}catch(w){vi(a,l,w)}}function Po(a,l){var d=a.ref,p=a.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(w){vi(a,l,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){vi(a,l,w)}else d.current=null}function Ry(a){var l=a.type,d=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(w){vi(a,a.return,w)}}function Bg(a,l,d){try{var p=a.stateNode;tT(p,a.type,d,l),p[Sn]=l}catch(w){vi(a,a.return,w)}}function Dy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&gu(a.type)||a.tag===4}function zg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Dy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&gu(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function jg(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Mp));else if(p!==4&&(p===27&&gu(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(jg(a,l,d),a=a.sibling;a!==null;)jg(a,l,d),a=a.sibling}function xp(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(p!==4&&(p===27&&gu(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(xp(a,l,d),a=a.sibling;a!==null;)xp(a,l,d),a=a.sibling}function Iy(a){var l=a.stateNode,d=a.memoizedProps;try{for(var p=a.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);Xr(l,p,d),l[Bn]=a,l[Sn]=d}catch(A){vi(a,a.return,A)}}var vl=!1,gr=!1,Vg=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Vr=null;function IA(a,l){if(a=a.containerInfo,f0=Fp,a=Kr(a),Dr(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var w=p.anchorOffset,A=p.focusNode;p=p.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var D=0,$=-1,he=-1,Pe=0,je=0,Ke=a,De=null;t:for(;;){for(var Ie;Ke!==d||w!==0&&Ke.nodeType!==3||($=D+w),Ke!==A||p!==0&&Ke.nodeType!==3||(he=D+p),Ke.nodeType===3&&(D+=Ke.nodeValue.length),(Ie=Ke.firstChild)!==null;)De=Ke,Ke=Ie;for(;;){if(Ke===a)break t;if(De===d&&++Pe===w&&($=D),De===A&&++je===p&&(he=D),(Ie=Ke.nextSibling)!==null)break;Ke=De,De=Ke.parentNode}Ke=Ie}d=$===-1||he===-1?null:{start:$,end:he}}else d=null}d=d||{start:0,end:0}}else d=null;for(d0={focusedElem:a,selectionRange:d},Fp=!1,Vr=l;Vr!==null;)if(l=Vr,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Vr=a;else for(;Vr!==null;){switch(l=Vr,A=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&A!==null){a=void 0,d=l,w=A.memoizedProps,A=A.memoizedState,p=d.stateNode;try{var Yt=hc(d.type,w,d.elementType===d.type);a=p.getSnapshotBeforeUpdate(Yt,A),p.__reactInternalSnapshotBeforeUpdate=a}catch(Ut){vi(d,d.return,Ut)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)m0(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":m0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,Vr=a;break}Vr=l.return}}function Fy(a,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:uu(a,d),p&4&&Pd(5,d);break;case 1:if(uu(a,d),p&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(D){vi(d,d.return,D)}else{var w=hc(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(w,l,a.__reactInternalSnapshotBeforeUpdate)}catch(D){vi(d,d.return,D)}}p&64&&Ly(d),p&512&&Rd(d,d.return);break;case 3:if(uu(a,d),p&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Wn(a,l)}catch(D){vi(d,d.return,D)}}break;case 27:l===null&&p&4&&Iy(d);case 26:case 5:uu(a,d),l===null&&p&4&&Ry(d),p&512&&Rd(d,d.return);break;case 12:uu(a,d);break;case 13:uu(a,d),p&4&&jy(a,d),p&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=HA.bind(null,d),lT(a,d))));break;case 22:if(p=d.memoizedState!==null||vl,!p){l=l!==null&&l.memoizedState!==null||gr,w=vl;var A=gr;vl=p,(gr=l)&&!A?cu(a,d,(d.subtreeFlags&8772)!==0):uu(a,d),vl=w,gr=A}break;case 30:break;default:uu(a,d)}}function By(a){var l=a.alternate;l!==null&&(a.alternate=null,By(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&zn(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ui=null,Ls=!1;function xl(a,l,d){for(d=d.child;d!==null;)zy(a,l,d),d=d.sibling}function zy(a,l,d){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(kt,d)}catch{}switch(d.tag){case 26:gr||Po(d,l),xl(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:gr||Po(d,l);var p=Ui,w=Ls;gu(d.type)&&(Ui=d.stateNode,Ls=!1),xl(a,l,d),Ud(d.stateNode),Ui=p,Ls=w;break;case 5:gr||Po(d,l);case 6:if(p=Ui,w=Ls,Ui=null,xl(a,l,d),Ui=p,Ls=w,Ui!==null)if(Ls)try{(Ui.nodeType===9?Ui.body:Ui.nodeName==="HTML"?Ui.ownerDocument.body:Ui).removeChild(d.stateNode)}catch(A){vi(d,l,A)}else try{Ui.removeChild(d.stateNode)}catch(A){vi(d,l,A)}break;case 18:Ui!==null&&(Ls?(a=Ui,Nv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Jd(a)):Nv(Ui,d.stateNode));break;case 4:p=Ui,w=Ls,Ui=d.stateNode.containerInfo,Ls=!0,xl(a,l,d),Ui=p,Ls=w;break;case 0:case 11:case 14:case 15:gr||lu(2,d,l),gr||lu(4,d,l),xl(a,l,d);break;case 1:gr||(Po(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&Py(d,l,p)),xl(a,l,d);break;case 21:xl(a,l,d);break;case 22:gr=(p=gr)||d.memoizedState!==null,xl(a,l,d),gr=p;break;default:xl(a,l,d)}}function jy(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Jd(a)}catch(d){vi(l,l.return,d)}}function OA(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Oy),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Oy),l;default:throw Error(i(435,a.tag))}}function Ug(a,l){var d=OA(a);l.forEach(function(p){var w=GA.bind(null,a,p);d.has(p)||(d.add(p),p.then(w,w))})}function Ks(a,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var w=d[p],A=a,D=l,$=D;e:for(;$!==null;){switch($.tag){case 27:if(gu($.type)){Ui=$.stateNode,Ls=!1;break e}break;case 5:Ui=$.stateNode,Ls=!1;break e;case 3:case 4:Ui=$.stateNode.containerInfo,Ls=!0;break e}$=$.return}if(Ui===null)throw Error(i(160));zy(A,D,w),Ui=null,Ls=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Vy(l,a),l=l.sibling}var Ha=null;function Vy(a,l){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ks(l,a),Ys(a),p&4&&(lu(3,a,a.return),Pd(3,a),lu(5,a,a.return));break;case 1:Ks(l,a),Ys(a),p&512&&(gr||d===null||Po(d,d.return)),p&64&&vl&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var w=Ha;if(Ks(l,a),Ys(a),p&512&&(gr||d===null||Po(d,d.return)),p&4){var A=d!==null?d.memoizedState:null;if(p=a.memoizedState,d===null)if(p===null)if(a.stateNode===null){e:{p=a.type,d=a.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":A=w.getElementsByTagName("title")[0],(!A||A[Pr]||A[Bn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(p),w.head.insertBefore(A,w.querySelector("head > title"))),Xr(A,p,d),A[Bn]=a,In(A),p=A;break e;case"link":var D=Iv("link","href",w).get(p+(d.href||""));if(D){for(var $=0;$<D.length;$++)if(A=D[$],A.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&A.getAttribute("rel")===(d.rel==null?null:d.rel)&&A.getAttribute("title")===(d.title==null?null:d.title)&&A.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice($,1);break t}}A=w.createElement(p),Xr(A,p,d),w.head.appendChild(A);break;case"meta":if(D=Iv("meta","content",w).get(p+(d.content||""))){for($=0;$<D.length;$++)if(A=D[$],A.getAttribute("content")===(d.content==null?null:""+d.content)&&A.getAttribute("name")===(d.name==null?null:d.name)&&A.getAttribute("property")===(d.property==null?null:d.property)&&A.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&A.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice($,1);break t}}A=w.createElement(p),Xr(A,p,d),w.head.appendChild(A);break;default:throw Error(i(468,p))}A[Bn]=a,In(A),p=A}a.stateNode=p}else Ov(w,a.type,a.stateNode);else a.stateNode=Dv(w,p,a.memoizedProps);else A!==p?(A===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):A.count--,p===null?Ov(w,a.type,a.stateNode):Dv(w,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Bg(a,a.memoizedProps,d.memoizedProps)}break;case 27:Ks(l,a),Ys(a),p&512&&(gr||d===null||Po(d,d.return)),d!==null&&p&4&&Bg(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Ks(l,a),Ys(a),p&512&&(gr||d===null||Po(d,d.return)),a.flags&32){w=a.stateNode;try{bn(w,"")}catch(Ie){vi(a,a.return,Ie)}}p&4&&a.stateNode!=null&&(w=a.memoizedProps,Bg(a,w,d!==null?d.memoizedProps:w)),p&1024&&(Vg=!0);break;case 6:if(Ks(l,a),Ys(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,d=a.stateNode;try{d.nodeValue=p}catch(Ie){vi(a,a.return,Ie)}}break;case 3:if(Dp=null,w=Ha,Ha=Pp(l.containerInfo),Ks(l,a),Ha=w,Ys(a),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Jd(l.containerInfo)}catch(Ie){vi(a,a.return,Ie)}Vg&&(Vg=!1,Uy(a));break;case 4:p=Ha,Ha=Pp(a.stateNode.containerInfo),Ks(l,a),Ys(a),Ha=p;break;case 12:Ks(l,a),Ys(a);break;case 13:Ks(l,a),Ys(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Yg=ft()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Ug(a,p)));break;case 22:w=a.memoizedState!==null;var he=d!==null&&d.memoizedState!==null,Pe=vl,je=gr;if(vl=Pe||w,gr=je||he,Ks(l,a),gr=je,vl=Pe,Ys(a),p&8192)e:for(l=a.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(d===null||he||vl||gr||pc(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){he=d=l;try{if(A=he.stateNode,w)D=A.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{$=he.stateNode;var Ke=he.memoizedProps.style,De=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;$.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Ie){vi(he,he.return,Ie)}}}else if(l.tag===6){if(d===null){he=l;try{he.stateNode.nodeValue=w?"":he.memoizedProps}catch(Ie){vi(he,he.return,Ie)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Ug(a,d))));break;case 19:Ks(l,a),Ys(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Ug(a,p)));break;case 30:break;case 21:break;default:Ks(l,a),Ys(a)}}function Ys(a){var l=a.flags;if(l&2){try{for(var d,p=a.return;p!==null;){if(Dy(p)){d=p;break}p=p.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var w=d.stateNode,A=zg(a);xp(a,A,w);break;case 5:var D=d.stateNode;d.flags&32&&(bn(D,""),d.flags&=-33);var $=zg(a);xp(a,$,D);break;case 3:case 4:var he=d.stateNode.containerInfo,Pe=zg(a);jg(a,Pe,he);break;default:throw Error(i(161))}}catch(je){vi(a,a.return,je)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Uy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Uy(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function uu(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Fy(a,l.alternate,l),l=l.sibling}function pc(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:lu(4,l,l.return),pc(l);break;case 1:Po(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Py(l,l.return,d),pc(l);break;case 27:Ud(l.stateNode);case 26:case 5:Po(l,l.return),pc(l);break;case 22:l.memoizedState===null&&pc(l);break;case 30:pc(l);break;default:pc(l)}a=a.sibling}}function cu(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,w=a,A=l,D=A.flags;switch(A.tag){case 0:case 11:case 15:cu(w,A,d),Pd(4,A);break;case 1:if(cu(w,A,d),p=A,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Pe){vi(p,p.return,Pe)}if(p=A,w=p.updateQueue,w!==null){var $=p.stateNode;try{var he=w.shared.hiddenCallbacks;if(he!==null)for(w.shared.hiddenCallbacks=null,w=0;w<he.length;w++)jn(he[w],$)}catch(Pe){vi(p,p.return,Pe)}}d&&D&64&&Ly(A),Rd(A,A.return);break;case 27:Iy(A);case 26:case 5:cu(w,A,d),d&&p===null&&D&4&&Ry(A),Rd(A,A.return);break;case 12:cu(w,A,d);break;case 13:cu(w,A,d),d&&D&4&&jy(w,A);break;case 22:A.memoizedState===null&&cu(w,A,d),Rd(A,A.return);break;case 30:break;default:cu(w,A,d)}l=l.sibling}}function qg(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&tc(d))}function Hg(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&tc(a))}function Ro(a,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)qy(a,l,d,p),l=l.sibling}function qy(a,l,d,p){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Ro(a,l,d,p),w&2048&&Pd(9,l);break;case 1:Ro(a,l,d,p);break;case 3:Ro(a,l,d,p),w&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&tc(a)));break;case 12:if(w&2048){Ro(a,l,d,p),a=l.stateNode;try{var A=l.memoizedProps,D=A.id,$=A.onPostCommit;typeof $=="function"&&$(D,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(he){vi(l,l.return,he)}}else Ro(a,l,d,p);break;case 13:Ro(a,l,d,p);break;case 23:break;case 22:A=l.stateNode,D=l.alternate,l.memoizedState!==null?A._visibility&2?Ro(a,l,d,p):Dd(a,l):A._visibility&2?Ro(a,l,d,p):(A._visibility|=2,ff(a,l,d,p,(l.subtreeFlags&10256)!==0)),w&2048&&qg(D,l);break;case 24:Ro(a,l,d,p),w&2048&&Hg(l.alternate,l);break;default:Ro(a,l,d,p)}}function ff(a,l,d,p,w){for(w=w&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var A=a,D=l,$=d,he=p,Pe=D.flags;switch(D.tag){case 0:case 11:case 15:ff(A,D,$,he,w),Pd(8,D);break;case 23:break;case 22:var je=D.stateNode;D.memoizedState!==null?je._visibility&2?ff(A,D,$,he,w):Dd(A,D):(je._visibility|=2,ff(A,D,$,he,w)),w&&Pe&2048&&qg(D.alternate,D);break;case 24:ff(A,D,$,he,w),w&&Pe&2048&&Hg(D.alternate,D);break;default:ff(A,D,$,he,w)}l=l.sibling}}function Dd(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,p=l,w=p.flags;switch(p.tag){case 22:Dd(d,p),w&2048&&qg(p.alternate,p);break;case 24:Dd(d,p),w&2048&&Hg(p.alternate,p);break;default:Dd(d,p)}l=l.sibling}}var Id=8192;function df(a){if(a.subtreeFlags&Id)for(a=a.child;a!==null;)Hy(a),a=a.sibling}function Hy(a){switch(a.tag){case 26:df(a),a.flags&Id&&a.memoizedState!==null&&wT(Ha,a.memoizedState,a.memoizedProps);break;case 5:df(a);break;case 3:case 4:var l=Ha;Ha=Pp(a.stateNode.containerInfo),df(a),Ha=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Id,Id=16777216,df(a),Id=l):df(a));break;default:df(a)}}function Gy(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Od(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Vr=p,Ky(p,a)}Gy(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Wy(a),a=a.sibling}function Wy(a){switch(a.tag){case 0:case 11:case 15:Od(a),a.flags&2048&&lu(9,a,a.return);break;case 3:Od(a);break;case 12:Od(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,bp(a)):Od(a);break;default:Od(a)}}function bp(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Vr=p,Ky(p,a)}Gy(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:lu(8,l,l.return),bp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,bp(l));break;default:bp(l)}a=a.sibling}}function Ky(a,l){for(;Vr!==null;){var d=Vr;switch(d.tag){case 0:case 11:case 15:lu(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:tc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Vr=p;else e:for(d=a;Vr!==null;){p=Vr;var w=p.sibling,A=p.return;if(By(p),p===d){Vr=null;break e}if(w!==null){w.return=A,Vr=w;break e}Vr=A}}}var FA={getCacheForType:function(a){var l=hr(pr),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},BA=typeof WeakMap=="function"?WeakMap:Map,oi=0,Si=null,kn=null,Un=0,li=0,$s=null,fu=!1,hf=!1,Gg=!1,bl=0,ar=0,du=0,mc=0,Wg=0,ya=0,pf=0,Fd=null,Ps=null,Kg=!1,Yg=0,wp=1/0,_p=null,hu=null,Zr=0,pu=null,mf=null,gf=0,$g=0,Jg=null,Yy=null,Bd=0,Zg=null;function Js(){if((oi&2)!==0&&Un!==0)return Un&-Un;if(K.T!==null){var a=cl;return a!==0?a:r0()}return mi()}function $y(){ya===0&&(ya=(Un&536870912)===0||Gn?_r():536870912);var a=ga.current;return a!==null&&(a.flags|=32),ya}function Zs(a,l,d){(a===Si&&(li===2||li===9)||a.cancelPendingCommit!==null)&&(yf(a,0),mu(a,Un,ya,!1)),Oi(a,d),((oi&2)===0||a!==Si)&&(a===Si&&((oi&2)===0&&(mc|=d),ar===4&&mu(a,Un,ya,!1)),Do(a))}function Jy(a,l,d){if((oi&6)!==0)throw Error(i(327));var p=!d&&(l&124)===0&&(l&a.expiredLanes)===0||wr(a,l),w=p?VA(a,l):e0(a,l,!0),A=p;do{if(w===0){hf&&!p&&mu(a,l,0,!1);break}else{if(d=a.current.alternate,A&&!zA(d)){w=e0(a,l,!1),A=!1;continue}if(w===2){if(A=l,a.errorRecoveryDisabledLanes&A)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var $=a;w=Fd;var he=$.current.memoizedState.isDehydrated;if(he&&(yf($,D).flags|=256),D=e0($,D,!1),D!==2){if(Gg&&!he){$.errorRecoveryDisabledLanes|=A,mc|=A,w=4;break e}A=Ps,Ps=w,A!==null&&(Ps===null?Ps=A:Ps.push.apply(Ps,A))}w=D}if(A=!1,w!==2)continue}}if(w===1){yf(a,0),mu(a,l,0,!0);break}e:{switch(p=a,A=w,A){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:mu(p,l,ya,!fu);break e;case 2:Ps=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(w=Yg+300-ft(),10<w)){if(mu(p,l,ya,!fu),Cn(p,0,!0)!==0)break e;p.timeoutHandle=Tv(Zy.bind(null,p,d,Ps,_p,Kg,l,ya,mc,pf,fu,A,2,-0,0),w);break e}Zy(p,d,Ps,_p,Kg,l,ya,mc,pf,fu,A,0,-0,0)}}break}while(!0);Do(a)}function Zy(a,l,d,p,w,A,D,$,he,Pe,je,Ke,De,Ie){if(a.timeoutHandle=-1,Ke=l.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&(Gd={stylesheets:null,count:0,unsuspend:bT},Hy(l),Ke=_T(),Ke!==null)){a.cancelPendingCommit=Ke(rv.bind(null,a,l,A,d,p,w,D,$,he,je,1,De,Ie)),mu(a,A,D,!Pe);return}rv(a,l,A,d,p,w,D,$,he)}function zA(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var w=d[p],A=w.getSnapshot;w=w.value;try{if(!Cr(A(),w))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function mu(a,l,d,p){l&=~Wg,l&=~mc,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var w=l;0<w;){var A=31-lt(w),D=1<<A;p[A]=-1,w&=~D}d!==0&&Lt(a,d,l)}function Sp(){return(oi&6)===0?(zd(0),!1):!0}function Xg(){if(kn!==null){if(li===0)var a=kn.return;else a=kn,Ba=Er=null,nf(a),uf=null,kd=0,a=kn;for(;a!==null;)My(a.alternate,a),a=a.return;kn=null}}function yf(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,iT(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Xg(),Si=a,kn=d=ca(a.current,null),Un=l,li=0,$s=null,fu=!1,hf=wr(a,l),Gg=!1,pf=ya=Wg=mc=du=ar=0,Ps=Fd=null,Kg=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var w=31-lt(p),A=1<<w;l|=a[w],p&=~A}return bl=l,Ns(),d}function Xy(a,l){Pt=null,K.H=cp,l===V||l===Y?(l=Se(),li=3):l===U?(l=Se(),li=4):li=l===gy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,$s=l,kn===null&&(ar=1,mp(a,wn(l,a.current)))}function Qy(){var a=K.H;return K.H=cp,a===null?cp:a}function ev(){var a=K.A;return K.A=FA,a}function Qg(){ar=4,fu||(Un&4194048)!==Un&&ga.current!==null||(hf=!0),(du&134217727)===0&&(mc&134217727)===0||Si===null||mu(Si,Un,ya,!1)}function e0(a,l,d){var p=oi;oi|=2;var w=Qy(),A=ev();(Si!==a||Un!==l)&&(_p=null,yf(a,l)),l=!1;var D=ar;e:do try{if(li!==0&&kn!==null){var $=kn,he=$s;switch(li){case 8:Xg(),D=6;break e;case 3:case 2:case 9:case 6:ga.current===null&&(l=!0);var Pe=li;if(li=0,$s=null,vf(a,$,he,Pe),d&&hf){D=0;break e}break;default:Pe=li,li=0,$s=null,vf(a,$,he,Pe)}}jA(),D=ar;break}catch(je){Xy(a,je)}while(!0);return l&&a.shellSuspendCounter++,Ba=Er=null,oi=p,K.H=w,K.A=A,kn===null&&(Si=null,Un=0,Ns()),D}function jA(){for(;kn!==null;)tv(kn)}function VA(a,l){var d=oi;oi|=2;var p=Qy(),w=ev();Si!==a||Un!==l?(_p=null,wp=ft()+500,yf(a,l)):hf=wr(a,l);e:do try{if(li!==0&&kn!==null){l=kn;var A=$s;t:switch(li){case 1:li=0,$s=null,vf(a,l,A,1);break;case 2:case 9:if(re(A)){li=0,$s=null,nv(l);break}l=function(){li!==2&&li!==9||Si!==a||(li=7),Do(a)},A.then(l,l);break e;case 3:li=7;break e;case 4:li=5;break e;case 7:re(A)?(li=0,$s=null,nv(l)):(li=0,$s=null,vf(a,l,A,7));break;case 5:var D=null;switch(kn.tag){case 26:D=kn.memoizedState;case 5:case 27:var $=kn;if(!D||Fv(D)){li=0,$s=null;var he=$.sibling;if(he!==null)kn=he;else{var Pe=$.return;Pe!==null?(kn=Pe,Ap(Pe)):kn=null}break t}}li=0,$s=null,vf(a,l,A,5);break;case 6:li=0,$s=null,vf(a,l,A,6);break;case 8:Xg(),ar=6;break e;default:throw Error(i(462))}}UA();break}catch(je){Xy(a,je)}while(!0);return Ba=Er=null,K.H=p,K.A=w,oi=d,kn!==null?0:(Si=null,Un=0,Ns(),ar)}function UA(){for(;kn!==null&&!Re();)tv(kn)}function tv(a){var l=Ey(a.alternate,a,bl);a.memoizedProps=a.pendingProps,l===null?Ap(a):kn=l}function nv(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=_y(d,l,l.pendingProps,l.type,void 0,Un);break;case 11:l=_y(d,l,l.pendingProps,l.type.render,l.ref,Un);break;case 5:nf(l);default:My(d,l),l=kn=Zu(l,bl),l=Ey(d,l,bl)}a.memoizedProps=a.pendingProps,l===null?Ap(a):kn=l}function vf(a,l,d,p){Ba=Er=null,nf(l),uf=null,kd=0;var w=l.return;try{if(LA(a,w,l,d,Un)){ar=1,mp(a,wn(d,a.current)),kn=null;return}}catch(A){if(w!==null)throw kn=w,A;ar=1,mp(a,wn(d,a.current)),kn=null;return}l.flags&32768?(Gn||p===1?a=!0:hf||(Un&536870912)!==0?a=!1:(fu=a=!0,(p===2||p===9||p===3||p===6)&&(p=ga.current,p!==null&&p.tag===13&&(p.flags|=16384))),iv(l,a)):Ap(l)}function Ap(a){var l=a;do{if((l.flags&32768)!==0){iv(l,fu);return}a=l.return;var d=RA(l.alternate,l,bl);if(d!==null){kn=d;return}if(l=l.sibling,l!==null){kn=l;return}kn=l=a}while(l!==null);ar===0&&(ar=5)}function iv(a,l){do{var d=DA(a.alternate,a);if(d!==null){d.flags&=32767,kn=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){kn=a;return}kn=a=d}while(a!==null);ar=6,kn=null}function rv(a,l,d,p,w,A,D,$,he){a.cancelPendingCommit=null;do Tp();while(Zr!==0);if((oi&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(A=l.lanes|l.childLanes,A|=Xi,qn(a,d,A,D,$,he),a===Si&&(kn=Si=null,Un=0),mf=l,pu=a,gf=d,$g=A,Jg=w,Yy=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,WA(it,function(){return uv(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=K.T,K.T=null,w=Q.p,Q.p=2,D=oi,oi|=4;try{IA(a,l,d)}finally{oi=D,Q.p=w,K.T=p}}Zr=1,sv(),av(),ov()}}function sv(){if(Zr===1){Zr=0;var a=pu,l=mf,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=K.T,K.T=null;var p=Q.p;Q.p=2;var w=oi;oi|=4;try{Vy(l,a);var A=d0,D=Kr(a.containerInfo),$=A.focusedElem,he=A.selectionRange;if(D!==$&&$&&$.ownerDocument&&mo($.ownerDocument.documentElement,$)){if(he!==null&&Dr($)){var Pe=he.start,je=he.end;if(je===void 0&&(je=Pe),"selectionStart"in $)$.selectionStart=Pe,$.selectionEnd=Math.min(je,$.value.length);else{var Ke=$.ownerDocument||document,De=Ke&&Ke.defaultView||window;if(De.getSelection){var Ie=De.getSelection(),Yt=$.textContent.length,Ut=Math.min(he.start,Yt),pi=he.end===void 0?Ut:Math.min(he.end,Yt);!Ie.extend&&Ut>pi&&(D=pi,pi=Ut,Ut=D);var Te=Ma($,Ut),be=Ma($,pi);if(Te&&be&&(Ie.rangeCount!==1||Ie.anchorNode!==Te.node||Ie.anchorOffset!==Te.offset||Ie.focusNode!==be.node||Ie.focusOffset!==be.offset)){var Me=Ke.createRange();Me.setStart(Te.node,Te.offset),Ie.removeAllRanges(),Ut>pi?(Ie.addRange(Me),Ie.extend(be.node,be.offset)):(Me.setEnd(be.node,be.offset),Ie.addRange(Me))}}}}for(Ke=[],Ie=$;Ie=Ie.parentNode;)Ie.nodeType===1&&Ke.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Ke.length;$++){var qe=Ke[$];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Fp=!!f0,d0=f0=null}finally{oi=w,Q.p=p,K.T=d}}a.current=l,Zr=2}}function av(){if(Zr===2){Zr=0;var a=pu,l=mf,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=K.T,K.T=null;var p=Q.p;Q.p=2;var w=oi;oi|=4;try{Fy(a,l.alternate,l)}finally{oi=w,Q.p=p,K.T=d}}Zr=3}}function ov(){if(Zr===4||Zr===3){Zr=0,se();var a=pu,l=mf,d=gf,p=Yy;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Zr=5:(Zr=0,mf=pu=null,lv(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(hu=null),nn(d),l=l.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(kt,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=K.T,w=Q.p,Q.p=2,K.T=null;try{for(var A=a.onRecoverableError,D=0;D<p.length;D++){var $=p[D];A($.value,{componentStack:$.stack})}}finally{K.T=l,Q.p=w}}(gf&3)!==0&&Tp(),Do(a),w=a.pendingLanes,(d&4194090)!==0&&(w&42)!==0?a===Zg?Bd++:(Bd=0,Zg=a):Bd=0,zd(0)}}function lv(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,tc(l)))}function Tp(a){return sv(),av(),ov(),uv()}function uv(){if(Zr!==5)return!1;var a=pu,l=$g;$g=0;var d=nn(gf),p=K.T,w=Q.p;try{Q.p=32>d?32:d,K.T=null,d=Jg,Jg=null;var A=pu,D=gf;if(Zr=0,mf=pu=null,gf=0,(oi&6)!==0)throw Error(i(331));var $=oi;if(oi|=4,Wy(A.current),qy(A,A.current,D,d),oi=$,zd(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(kt,A)}catch{}return!0}finally{Q.p=w,K.T=p,lv(a,l)}}function cv(a,l,d){l=wn(d,l),l=kg(a.stateNode,l,2),a=Ge(a,l,2),a!==null&&(Oi(a,2),Do(a))}function vi(a,l,d){if(a.tag===3)cv(a,a,d);else for(;l!==null;){if(l.tag===3){cv(l,a,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(hu===null||!hu.has(p))){a=wn(d,a),d=py(2),p=Ge(l,d,2),p!==null&&(my(d,p,l,a),Oi(p,2),Do(p));break}}l=l.return}}function t0(a,l,d){var p=a.pingCache;if(p===null){p=a.pingCache=new BA;var w=new Set;p.set(l,w)}else w=p.get(l),w===void 0&&(w=new Set,p.set(l,w));w.has(d)||(Gg=!0,w.add(d),a=qA.bind(null,a,l,d),l.then(a,a))}function qA(a,l,d){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Si===a&&(Un&d)===d&&(ar===4||ar===3&&(Un&62914560)===Un&&300>ft()-Yg?(oi&2)===0&&yf(a,0):Wg|=d,pf===Un&&(pf=0)),Do(a)}function fv(a,l){l===0&&(l=Zn()),a=Pa(a,l),a!==null&&(Oi(a,l),Do(a))}function HA(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),fv(a,d)}function GA(a,l){var d=0;switch(a.tag){case 13:var p=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(l),fv(a,d)}function WA(a,l){return Qe(a,l)}var Cp=null,xf=null,n0=!1,Np=!1,i0=!1,gc=0;function Do(a){a!==xf&&a.next===null&&(xf===null?Cp=xf=a:xf=xf.next=a),Np=!0,n0||(n0=!0,YA())}function zd(a,l){if(!i0&&Np){i0=!0;do for(var d=!1,p=Cp;p!==null;){if(a!==0){var w=p.pendingLanes;if(w===0)var A=0;else{var D=p.suspendedLanes,$=p.pingedLanes;A=(1<<31-lt(42|a)+1)-1,A&=w&~(D&~$),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(d=!0,mv(p,A))}else A=Un,A=Cn(p,p===Si?A:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(A&3)===0||wr(p,A)||(d=!0,mv(p,A));p=p.next}while(d);i0=!1}}function KA(){dv()}function dv(){Np=n0=!1;var a=0;gc!==0&&(nT()&&(a=gc),gc=0);for(var l=ft(),d=null,p=Cp;p!==null;){var w=p.next,A=hv(p,l);A===0?(p.next=null,d===null?Cp=w:d.next=w,w===null&&(xf=d)):(d=p,(a!==0||(A&3)!==0)&&(Np=!0)),p=w}zd(a)}function hv(a,l){for(var d=a.suspendedLanes,p=a.pingedLanes,w=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var D=31-lt(A),$=1<<D,he=w[D];he===-1?(($&d)===0||($&p)!==0)&&(w[D]=fn($,l)):he<=l&&(a.expiredLanes|=$),A&=~$}if(l=Si,d=Un,d=Cn(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,d===0||a===l&&(li===2||li===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&yt(p),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||wr(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(p!==null&&yt(p),nn(d)){case 2:case 8:d=nt;break;case 32:d=it;break;case 268435456:d=St;break;default:d=it}return p=pv.bind(null,a),d=Qe(d,p),a.callbackPriority=l,a.callbackNode=d,l}return p!==null&&p!==null&&yt(p),a.callbackPriority=2,a.callbackNode=null,2}function pv(a,l){if(Zr!==0&&Zr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Tp()&&a.callbackNode!==d)return null;var p=Un;return p=Cn(a,a===Si?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Jy(a,p,l),hv(a,ft()),a.callbackNode!=null&&a.callbackNode===d?pv.bind(null,a):null)}function mv(a,l){if(Tp())return null;Jy(a,l,!0)}function YA(){rT(function(){(oi&6)!==0?Qe(Je,KA):dv()})}function r0(){return gc===0&&(gc=_r()),gc}function gv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ni(""+a)}function yv(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function $A(a,l,d,p,w){if(l==="submit"&&d&&d.stateNode===w){var A=gv((w[Sn]||null).action),D=p.submitter;D&&(l=(l=D[Sn]||null)?gv(l.formAction):D.getAttribute("formAction"),l!==null&&(A=l,D=null));var $=new oo("action","action",null,p,w);a.push({event:$,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(gc!==0){var he=D?yv(w,D):new FormData(w);ma(d,{pending:!0,data:he,method:w.method,action:A},null,he)}}else typeof A=="function"&&($.preventDefault(),he=D?yv(w,D):new FormData(w),ma(d,{pending:!0,data:he,method:w.method,action:A},A,he))},currentTarget:w}]})}}for(var s0=0;s0<rl.length;s0++){var a0=rl[s0],JA=a0.toLowerCase(),ZA=a0[0].toUpperCase()+a0.slice(1);ji(JA,"on"+ZA)}ji($l,"onAnimationEnd"),ji(yo,"onAnimationIteration"),ji(vo,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(xo,"onTransitionRun"),ji(il,"onTransitionStart"),ji(Jl,"onTransitionCancel"),ji(bo,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jd));function vv(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var p=a[d],w=p.event;p=p.listeners;e:{var A=void 0;if(l)for(var D=p.length-1;0<=D;D--){var $=p[D],he=$.instance,Pe=$.currentTarget;if($=$.listener,he!==A&&w.isPropagationStopped())break e;A=$,w.currentTarget=Pe;try{A(w)}catch(je){pp(je)}w.currentTarget=null,A=he}else for(D=0;D<p.length;D++){if($=p[D],he=$.instance,Pe=$.currentTarget,$=$.listener,he!==A&&w.isPropagationStopped())break e;A=$,w.currentTarget=Pe;try{A(w)}catch(je){pp(je)}w.currentTarget=null,A=he}}}}function Mn(a,l){var d=l[Rn];d===void 0&&(d=l[Rn]=new Set);var p=a+"__bubble";d.has(p)||(xv(l,a,2,!1),d.add(p))}function o0(a,l,d){var p=0;l&&(p|=4),xv(d,a,p,l)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function l0(a){if(!a[Ep]){a[Ep]=!0,Qr.forEach(function(d){d!=="selectionchange"&&(XA.has(d)||o0(d,!1,a),o0(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Ep]||(l[Ep]=!0,o0("selectionchange",!1,l))}}function xv(a,l,d,p){switch(qv(l)){case 2:var w=TT;break;case 8:w=CT;break;default:w=_0}d=w.bind(null,l,d,a),w=void 0,!Ol||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),p?w!==void 0?a.addEventListener(l,d,{capture:!0,passive:w}):a.addEventListener(l,d,!0):w!==void 0?a.addEventListener(l,d,{passive:w}):a.addEventListener(l,d,!1)}function u0(a,l,d,p,w){var A=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var $=p.stateNode.containerInfo;if($===w)break;if(D===4)for(D=p.return;D!==null;){var he=D.tag;if((he===3||he===4)&&D.stateNode.containerInfo===w)return;D=D.return}for(;$!==null;){if(D=Ki($),D===null)return;if(he=D.tag,he===5||he===6||he===26||he===27){p=A=D;continue e}$=$.parentNode}}p=p.return}$o(function(){var Pe=A,je=An(d),Ke=[];e:{var De=La.get(a);if(De!==void 0){var Ie=oo,Yt=a;switch(a){case"keypress":if(ao(d)===0)break e;case"keydown":case"keyup":Ie=Hl;break;case"focusin":Yt="focus",Ie=Jo;break;case"focusout":Yt="blur",Ie=Jo;break;case"beforeblur":case"afterblur":Ie=Jo;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Ku;break;case $l:case yo:case vo:Ie=cd;break;case bo:Ie=B;break;case"scroll":case"scrollend":Ie=Wc;break;case"wheel":Ie=ye;break;case"copy":case"cut":case"paste":Ie=fd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Gl;break;case"toggle":case"beforetoggle":Ie=Fe}var Ut=(l&4)!==0,pi=!Ut&&(a==="scroll"||a==="scrollend"),Te=Ut?De!==null?De+"Capture":null:De;Ut=[];for(var be=Pe,Me;be!==null;){var qe=be;if(Me=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Me===null||Te===null||(qe=Rr(be,Te),qe!=null&&Ut.push(Vd(be,qe,Me))),pi)break;be=be.return}0<Ut.length&&(De=new Ie(De,Yt,null,d,je),Ke.push({event:De,listeners:Ut}))}}if((l&7)===0){e:{if(De=a==="mouseover"||a==="pointerover",Ie=a==="mouseout"||a==="pointerout",De&&d!==ei&&(Yt=d.relatedTarget||d.fromElement)&&(Ki(Yt)||Yt[ri]))break e;if((Ie||De)&&(De=je.window===je?je:(De=je.ownerDocument)?De.defaultView||De.parentWindow:window,Ie?(Yt=d.relatedTarget||d.toElement,Ie=Pe,Yt=Yt?Ki(Yt):null,Yt!==null&&(pi=s(Yt),Ut=Yt.tag,Yt!==pi||Ut!==5&&Ut!==27&&Ut!==6)&&(Yt=null)):(Ie=null,Yt=Pe),Ie!==Yt)){if(Ut=oa,qe="onMouseLeave",Te="onMouseEnter",be="mouse",(a==="pointerout"||a==="pointerover")&&(Ut=Gl,qe="onPointerLeave",Te="onPointerEnter",be="pointer"),pi=Ie==null?De:Fi(Ie),Me=Yt==null?De:Fi(Yt),De=new Ut(qe,be+"leave",Ie,d,je),De.target=pi,De.relatedTarget=Me,qe=null,Ki(je)===Pe&&(Ut=new Ut(Te,be+"enter",Yt,d,je),Ut.target=Me,Ut.relatedTarget=pi,qe=Ut),pi=qe,Ie&&Yt)t:{for(Ut=Ie,Te=Yt,be=0,Me=Ut;Me;Me=bf(Me))be++;for(Me=0,qe=Te;qe;qe=bf(qe))Me++;for(;0<be-Me;)Ut=bf(Ut),be--;for(;0<Me-be;)Te=bf(Te),Me--;for(;be--;){if(Ut===Te||Te!==null&&Ut===Te.alternate)break t;Ut=bf(Ut),Te=bf(Te)}Ut=null}else Ut=null;Ie!==null&&bv(Ke,De,Ie,Ut,!1),Yt!==null&&pi!==null&&bv(Ke,pi,Yt,Ut,!0)}}e:{if(De=Pe?Fi(Pe):window,Ie=De.nodeName&&De.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&De.type==="file")var bt=Kl;else if(Vs(De))if(Qo)bt=Yc;else{bt=hd;var Tn=es}else Ie=De.nodeName,!Ie||Ie.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Pe&&Hn(Pe.elementType)&&(bt=Kl):bt=$u;if(bt&&(bt=bt(a,Pe))){Yu(Ke,bt,d,je);break e}Tn&&Tn(a,De,Pe),a==="focusout"&&Pe&&De.type==="number"&&Pe.memoizedProps.value!=null&&hn(De,"number",De.value)}switch(Tn=Pe?Fi(Pe):window,a){case"focusin":(Vs(Tn)||Tn.contentEditable==="true")&&(ts=Tn,Us=Pe,la=null);break;case"focusout":la=Us=ts=null;break;case"mousedown":qs=!0;break;case"contextmenu":case"mouseup":case"dragend":qs=!1,zi(Ke,d,je);break;case"selectionchange":if(go)break;case"keydown":case"keyup":zi(Ke,d,je)}var Et;if(dt)e:{switch(a){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else Zi?Ei(a,d)&&(Ht="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ht="onCompositionStart");Ht&&(Jt&&d.locale!=="ko"&&(Zi||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Zi&&(Et=Gc()):(Ts=je,qu="value"in Ts?Ts.value:Ts.textContent,Zi=!0)),Tn=kp(Pe,Ht),0<Tn.length&&(Ht=new Vl(Ht,a,null,d,je),Ke.push({event:Ht,listeners:Tn}),Et?Ht.data=Et:(Et=Ji(d),Et!==null&&(Ht.data=Et)))),(Et=en?Tr(a,d):js(a,d))&&(Ht=kp(Pe,"onBeforeInput"),0<Ht.length&&(Tn=new Vl("onBeforeInput","beforeinput",null,d,je),Ke.push({event:Tn,listeners:Ht}),Tn.data=Et)),$A(Ke,a,Pe,d,je)}vv(Ke,l)})}function Vd(a,l,d){return{instance:a,listener:l,currentTarget:d}}function kp(a,l){for(var d=l+"Capture",p=[];a!==null;){var w=a,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=Rr(a,d),w!=null&&p.unshift(Vd(a,w,A)),w=Rr(a,l),w!=null&&p.push(Vd(a,w,A))),a.tag===3)return p;a=a.return}return[]}function bf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function bv(a,l,d,p,w){for(var A=l._reactName,D=[];d!==null&&d!==p;){var $=d,he=$.alternate,Pe=$.stateNode;if($=$.tag,he!==null&&he===p)break;$!==5&&$!==26&&$!==27||Pe===null||(he=Pe,w?(Pe=Rr(d,A),Pe!=null&&D.unshift(Vd(d,Pe,he))):w||(Pe=Rr(d,A),Pe!=null&&D.push(Vd(d,Pe,he)))),d=d.return}D.length!==0&&a.push({event:l,listeners:D})}var QA=/\r\n?/g,eT=/\u0000|\uFFFD/g;function wv(a){return(typeof a=="string"?a:""+a).replace(QA,`
`).replace(eT,"")}function _v(a,l){return l=wv(l),wv(a)===l}function Mp(){}function hi(a,l,d,p,w,A){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||bn(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&bn(a,""+p);break;case"className":As(a,"class",p);break;case"tabIndex":As(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":As(a,d,p);break;case"style":Nn(a,p,A);break;case"data":if(l!=="object"){As(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=Ni(""+p),a.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(d==="formAction"?(l!=="input"&&hi(a,l,"name",w.name,w,null),hi(a,l,"formEncType",w.formEncType,w,null),hi(a,l,"formMethod",w.formMethod,w,null),hi(a,l,"formTarget",w.formTarget,w,null)):(hi(a,l,"encType",w.encType,w,null),hi(a,l,"method",w.method,w,null),hi(a,l,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=Ni(""+p),a.setAttribute(d,p);break;case"onClick":p!=null&&(a.onclick=Mp);break;case"onScroll":p!=null&&Mn("scroll",a);break;case"onScrollEnd":p!=null&&Mn("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(w.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}d=Ni(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""+p):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":p===!0?a.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,p):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(d,p):a.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(d):a.setAttribute(d,p);break;case"popover":Mn("beforetoggle",a),Mn("toggle",a),ps(a,"popover",p);break;case"xlinkActuate":Bi(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Bi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Bi(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Bi(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Bi(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Bi(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Bi(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Bi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Bi(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":ps(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Dt.get(d)||d,ps(a,d,p))}}function c0(a,l,d,p,w,A){switch(d){case"style":Nn(a,p,A);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(w.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof p=="string"?bn(a,p):(typeof p=="number"||typeof p=="bigint")&&bn(a,""+p);break;case"onScroll":p!=null&&Mn("scroll",a);break;case"onScrollEnd":p!=null&&Mn("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Mp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yi.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),l=d.slice(2,w?d.length-7:void 0),A=a[Sn]||null,A=A!=null?A[d]:null,typeof A=="function"&&a.removeEventListener(l,A,w),typeof p=="function")){typeof A!="function"&&A!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,p,w);break e}d in a?a[d]=p:p===!0?a.setAttribute(d,""):ps(a,d,p)}}}function Xr(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mn("error",a),Mn("load",a);var p=!1,w=!1,A;for(A in d)if(d.hasOwnProperty(A)){var D=d[A];if(D!=null)switch(A){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:hi(a,l,A,D,d,null)}}w&&hi(a,l,"srcSet",d.srcSet,d,null),p&&hi(a,l,"src",d.src,d,null);return;case"input":Mn("invalid",a);var $=A=D=w=null,he=null,Pe=null;for(p in d)if(d.hasOwnProperty(p)){var je=d[p];if(je!=null)switch(p){case"name":w=je;break;case"type":D=je;break;case"checked":he=je;break;case"defaultChecked":Pe=je;break;case"value":A=je;break;case"defaultValue":$=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,l));break;default:hi(a,l,p,je,d,null)}}dn(a,A,$,he,Pe,D,w,!1),Ye(a);return;case"select":Mn("invalid",a),p=D=A=null;for(w in d)if(d.hasOwnProperty(w)&&($=d[w],$!=null))switch(w){case"value":A=$;break;case"defaultValue":D=$;break;case"multiple":p=$;default:hi(a,l,w,$,d,null)}l=A,d=D,a.multiple=!!p,l!=null?Bt(a,!!p,l,!1):d!=null&&Bt(a,!!p,d,!0);return;case"textarea":Mn("invalid",a),A=w=p=null;for(D in d)if(d.hasOwnProperty(D)&&($=d[D],$!=null))switch(D){case"value":p=$;break;case"defaultValue":w=$;break;case"children":A=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:hi(a,l,D,$,d,null)}si(a,p,w,A),Ye(a);return;case"option":for(he in d)if(d.hasOwnProperty(he)&&(p=d[he],p!=null))switch(he){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:hi(a,l,he,p,d,null)}return;case"dialog":Mn("beforetoggle",a),Mn("toggle",a),Mn("cancel",a),Mn("close",a);break;case"iframe":case"object":Mn("load",a);break;case"video":case"audio":for(p=0;p<jd.length;p++)Mn(jd[p],a);break;case"image":Mn("error",a),Mn("load",a);break;case"details":Mn("toggle",a);break;case"embed":case"source":case"link":Mn("error",a),Mn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in d)if(d.hasOwnProperty(Pe)&&(p=d[Pe],p!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:hi(a,l,Pe,p,d,null)}return;default:if(Hn(l)){for(je in d)d.hasOwnProperty(je)&&(p=d[je],p!==void 0&&c0(a,l,je,p,d,void 0));return}}for($ in d)d.hasOwnProperty($)&&(p=d[$],p!=null&&hi(a,l,$,p,d,null))}function tT(a,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,D=null,$=null,he=null,Pe=null,je=null;for(Ie in d){var Ke=d[Ie];if(d.hasOwnProperty(Ie)&&Ke!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":he=Ke;default:p.hasOwnProperty(Ie)||hi(a,l,Ie,null,p,Ke)}}for(var De in p){var Ie=p[De];if(Ke=d[De],p.hasOwnProperty(De)&&(Ie!=null||Ke!=null))switch(De){case"type":A=Ie;break;case"name":w=Ie;break;case"checked":Pe=Ie;break;case"defaultChecked":je=Ie;break;case"value":D=Ie;break;case"defaultValue":$=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,l));break;default:Ie!==Ke&&hi(a,l,De,Ie,p,Ke)}}jt(a,D,$,he,Pe,je,A,w);return;case"select":Ie=D=$=De=null;for(A in d)if(he=d[A],d.hasOwnProperty(A)&&he!=null)switch(A){case"value":break;case"multiple":Ie=he;default:p.hasOwnProperty(A)||hi(a,l,A,null,p,he)}for(w in p)if(A=p[w],he=d[w],p.hasOwnProperty(w)&&(A!=null||he!=null))switch(w){case"value":De=A;break;case"defaultValue":$=A;break;case"multiple":D=A;default:A!==he&&hi(a,l,w,A,p,he)}l=$,d=D,p=Ie,De!=null?Bt(a,!!d,De,!1):!!p!=!!d&&(l!=null?Bt(a,!!d,l,!0):Bt(a,!!d,d?[]:"",!1));return;case"textarea":Ie=De=null;for($ in d)if(w=d[$],d.hasOwnProperty($)&&w!=null&&!p.hasOwnProperty($))switch($){case"value":break;case"children":break;default:hi(a,l,$,null,p,w)}for(D in p)if(w=p[D],A=d[D],p.hasOwnProperty(D)&&(w!=null||A!=null))switch(D){case"value":De=w;break;case"defaultValue":Ie=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==A&&hi(a,l,D,w,p,A)}sn(a,De,Ie);return;case"option":for(var Yt in d)if(De=d[Yt],d.hasOwnProperty(Yt)&&De!=null&&!p.hasOwnProperty(Yt))switch(Yt){case"selected":a.selected=!1;break;default:hi(a,l,Yt,null,p,De)}for(he in p)if(De=p[he],Ie=d[he],p.hasOwnProperty(he)&&De!==Ie&&(De!=null||Ie!=null))switch(he){case"selected":a.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:hi(a,l,he,De,p,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in d)De=d[Ut],d.hasOwnProperty(Ut)&&De!=null&&!p.hasOwnProperty(Ut)&&hi(a,l,Ut,null,p,De);for(Pe in p)if(De=p[Pe],Ie=d[Pe],p.hasOwnProperty(Pe)&&De!==Ie&&(De!=null||Ie!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,l));break;default:hi(a,l,Pe,De,p,Ie)}return;default:if(Hn(l)){for(var pi in d)De=d[pi],d.hasOwnProperty(pi)&&De!==void 0&&!p.hasOwnProperty(pi)&&c0(a,l,pi,void 0,p,De);for(je in p)De=p[je],Ie=d[je],!p.hasOwnProperty(je)||De===Ie||De===void 0&&Ie===void 0||c0(a,l,je,De,p,Ie);return}}for(var Te in d)De=d[Te],d.hasOwnProperty(Te)&&De!=null&&!p.hasOwnProperty(Te)&&hi(a,l,Te,null,p,De);for(Ke in p)De=p[Ke],Ie=d[Ke],!p.hasOwnProperty(Ke)||De===Ie||De==null&&Ie==null||hi(a,l,Ke,De,p,Ie)}var f0=null,d0=null;function Lp(a){return a.nodeType===9?a:a.ownerDocument}function Sv(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Av(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function h0(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var p0=null;function nT(){var a=window.event;return a&&a.type==="popstate"?a===p0?!1:(p0=a,!0):(p0=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(a){return Cv.resolve(null).then(a).catch(sT)}:Tv;function sT(a){setTimeout(function(){throw a})}function gu(a){return a==="head"}function Nv(a,l){var d=l,p=0,w=0;do{var A=d.nextSibling;if(a.removeChild(d),A&&A.nodeType===8)if(d=A.data,d==="/$"){if(0<p&&8>p){d=p;var D=a.ownerDocument;if(d&1&&Ud(D.documentElement),d&2&&Ud(D.body),d&4)for(d=D.head,Ud(d),D=d.firstChild;D;){var $=D.nextSibling,he=D.nodeName;D[Pr]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=$}}if(w===0){a.removeChild(A),Jd(l);return}w--}else d==="$"||d==="$?"||d==="$!"?w++:p=d.charCodeAt(0)-48;else p=0;d=A}while(d);Jd(l)}function m0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":m0(d),zn(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function aT(a,l,d,p){for(;a.nodeType===1;){var w=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Pr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=Ga(a.nextSibling),a===null)break}return null}function oT(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Ga(a.nextSibling),a===null))return null;return a}function g0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function lT(a,l){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Ga(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var y0=null;function Ev(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function kv(a,l,d){switch(l=Lp(d),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Ud(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);zn(a)}var va=new Map,Mv=new Set;function Pp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var wl=Q.d;Q.d={f:uT,r:cT,D:fT,C:dT,L:hT,m:pT,X:gT,S:mT,M:yT};function uT(){var a=wl.f(),l=Sp();return a||l}function cT(a){var l=Ot(a);l!==null&&l.tag===5&&l.type==="form"?fc(l):wl.r(a)}var wf=typeof document>"u"?null:document;function Lv(a,l,d){var p=wf;if(p&&typeof l=="string"&&l){var w=ct(l);w='link[rel="'+a+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),Mv.has(w)||(Mv.add(w),a={rel:a,crossOrigin:d,href:l},p.querySelector(w)===null&&(l=p.createElement("link"),Xr(l,"link",a),In(l),p.head.appendChild(l)))}}function fT(a){wl.D(a),Lv("dns-prefetch",a,null)}function dT(a,l){wl.C(a,l),Lv("preconnect",a,l)}function hT(a,l,d){wl.L(a,l,d);var p=wf;if(p&&a&&l){var w='link[rel="preload"][as="'+ct(l)+'"]';l==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+ct(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+ct(d.imageSizes)+'"]')):w+='[href="'+ct(a)+'"]';var A=w;switch(l){case"style":A=_f(a);break;case"script":A=Sf(a)}va.has(A)||(a=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),va.set(A,a),p.querySelector(w)!==null||l==="style"&&p.querySelector(qd(A))||l==="script"&&p.querySelector(Hd(A))||(l=p.createElement("link"),Xr(l,"link",a),In(l),p.head.appendChild(l)))}}function pT(a,l){wl.m(a,l);var d=wf;if(d&&a){var p=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+ct(p)+'"][href="'+ct(a)+'"]',A=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Sf(a)}if(!va.has(A)&&(a=h({rel:"modulepreload",href:a},l),va.set(A,a),d.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Hd(A)))return}p=d.createElement("link"),Xr(p,"link",a),In(p),d.head.appendChild(p)}}}function mT(a,l,d){wl.S(a,l,d);var p=wf;if(p&&a){var w=Yi(p).hoistableStyles,A=_f(a);l=l||"default";var D=w.get(A);if(!D){var $={loading:0,preload:null};if(D=p.querySelector(qd(A)))$.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":l},d),(d=va.get(A))&&v0(a,d);var he=D=p.createElement("link");In(he),Xr(he,"link",a),he._p=new Promise(function(Pe,je){he.onload=Pe,he.onerror=je}),he.addEventListener("load",function(){$.loading|=1}),he.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Rp(D,l,p)}D={type:"stylesheet",instance:D,count:1,state:$},w.set(A,D)}}}function gT(a,l){wl.X(a,l);var d=wf;if(d&&a){var p=Yi(d).hoistableScripts,w=Sf(a),A=p.get(w);A||(A=d.querySelector(Hd(w)),A||(a=h({src:a,async:!0},l),(l=va.get(w))&&x0(a,l),A=d.createElement("script"),In(A),Xr(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(w,A))}}function yT(a,l){wl.M(a,l);var d=wf;if(d&&a){var p=Yi(d).hoistableScripts,w=Sf(a),A=p.get(w);A||(A=d.querySelector(Hd(w)),A||(a=h({src:a,async:!0,type:"module"},l),(l=va.get(w))&&x0(a,l),A=d.createElement("script"),In(A),Xr(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(w,A))}}function Pv(a,l,d,p){var w=(w=ce.current)?Pp(w):null;if(!w)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=_f(d.href),d=Yi(w).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=_f(d.href);var A=Yi(w).hoistableStyles,D=A.get(a);if(D||(w=w.ownerDocument||w,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,D),(A=w.querySelector(qd(a)))&&!A._p&&(D.instance=A,D.state.loading=5),va.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},va.set(a,d),A||vT(w,a,d,D.state))),l&&p===null)throw Error(i(528,""));return D}if(l&&p!==null)throw Error(i(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Sf(d),d=Yi(w).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function _f(a){return'href="'+ct(a)+'"'}function qd(a){return'link[rel="stylesheet"]['+a+"]"}function Rv(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function vT(a,l,d,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Xr(l,"link",d),In(l),a.head.appendChild(l))}function Sf(a){return'[src="'+ct(a)+'"]'}function Hd(a){return"script[async]"+a}function Dv(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+ct(d.href)+'"]');if(p)return l.instance=p,In(p),p;var w=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),In(p),Xr(p,"style",w),Rp(p,d.precedence,a),l.instance=p;case"stylesheet":w=_f(d.href);var A=a.querySelector(qd(w));if(A)return l.state.loading|=4,l.instance=A,In(A),A;p=Rv(d),(w=va.get(w))&&v0(p,w),A=(a.ownerDocument||a).createElement("link"),In(A);var D=A;return D._p=new Promise(function($,he){D.onload=$,D.onerror=he}),Xr(A,"link",p),l.state.loading|=4,Rp(A,d.precedence,a),l.instance=A;case"script":return A=Sf(d.src),(w=a.querySelector(Hd(A)))?(l.instance=w,In(w),w):(p=d,(w=va.get(A))&&(p=h({},d),x0(p,w)),a=a.ownerDocument||a,w=a.createElement("script"),In(w),Xr(w,"link",p),a.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Rp(p,d.precedence,a));return l.instance}function Rp(a,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,A=w,D=0;D<p.length;D++){var $=p[D];if($.dataset.precedence===l)A=$;else if(A!==w)break}A?A.parentNode.insertBefore(a,A.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function v0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function x0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Dp=null;function Iv(a,l,d){if(Dp===null){var p=new Map,w=Dp=new Map;w.set(d,p)}else w=Dp,p=w.get(d),p||(p=new Map,w.set(d,p));if(p.has(a))return p;for(p.set(a,null),d=d.getElementsByTagName(a),w=0;w<d.length;w++){var A=d[w];if(!(A[Pr]||A[Bn]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var D=A.getAttribute(l)||"";D=a+D;var $=p.get(D);$?$.push(A):p.set(D,[A])}}return p}function Ov(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function xT(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Fv(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Gd=null;function bT(){}function wT(a,l,d){if(Gd===null)throw Error(i(475));var p=Gd;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var w=_f(d.href),A=a.querySelector(qd(w));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(p.count++,p=Ip.bind(p),a.then(p,p)),l.state.loading|=4,l.instance=A,In(A);return}A=a.ownerDocument||a,d=Rv(d),(w=va.get(w))&&v0(d,w),A=A.createElement("link"),In(A);var D=A;D._p=new Promise(function($,he){D.onload=$,D.onerror=he}),Xr(A,"link",d),l.instance=A}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=Ip.bind(p),a.addEventListener("load",l),a.addEventListener("error",l))}}function _T(){if(Gd===null)throw Error(i(475));var a=Gd;return a.stylesheets&&a.count===0&&b0(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&b0(a,a.stylesheets),a.unsuspend){var p=a.unsuspend;a.unsuspend=null,p()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function Ip(){if(this.count--,this.count===0){if(this.stylesheets)b0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Op=null;function b0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Op=new Map,l.forEach(ST,a),Op=null,Ip.call(a))}function ST(a,l){if(!(l.state.loading&4)){var d=Op.get(a);if(d)var p=d.get(null);else{d=new Map,Op.set(a,d);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var D=w[A];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),p=D)}p&&d.set(null,p)}w=l.instance,D=w.getAttribute("data-precedence"),A=d.get(D)||p,A===p&&d.set(null,w),d.set(D,w),this.count++,p=Ip.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),A?A.parentNode.insertBefore(w,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),l.state.loading|=4}}var Wd={$$typeof:I,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function AT(a,l,d,p,w,A,D,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function Bv(a,l,d,p,w,A,D,$,he,Pe,je,Ke){return a=new AT(a,l,d,D,$,he,Pe,Ke),l=1,A===!0&&(l|=24),A=zr(3,null,null,l),a.current=A,A.stateNode=a,l=md(),l.refCount++,a.pooledCache=l,l.refCount++,A.memoizedState={element:p,isDehydrated:d,cache:l},xe(A),a}function zv(a){return a?(a=Nr,a):Nr}function jv(a,l,d,p,w,A){w=zv(w),p.context===null?p.context=w:p.pendingContext=w,p=ze(l),p.payload={element:d},A=A===void 0?null:A,A!==null&&(p.callback=A),d=Ge(a,p,l),d!==null&&(Zs(d,a,l),Ve(d,a,l))}function Vv(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function w0(a,l){Vv(a,l),(a=a.alternate)&&Vv(a,l)}function Uv(a){if(a.tag===13){var l=Pa(a,67108864);l!==null&&Zs(l,a,67108864),w0(a,67108864)}}var Fp=!0;function TT(a,l,d,p){var w=K.T;K.T=null;var A=Q.p;try{Q.p=2,_0(a,l,d,p)}finally{Q.p=A,K.T=w}}function CT(a,l,d,p){var w=K.T;K.T=null;var A=Q.p;try{Q.p=8,_0(a,l,d,p)}finally{Q.p=A,K.T=w}}function _0(a,l,d,p){if(Fp){var w=S0(p);if(w===null)u0(a,l,p,Bp,d),Hv(a,p);else if(ET(w,a,l,d,p))p.stopPropagation();else if(Hv(a,p),l&4&&-1<NT.indexOf(a)){for(;w!==null;){var A=Ot(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var D=zt(A.pendingLanes);if(D!==0){var $=A;for($.pendingLanes|=2,$.entangledLanes|=2;D;){var he=1<<31-lt(D);$.entanglements[1]|=he,D&=~he}Do(A),(oi&6)===0&&(wp=ft()+500,zd(0))}}break;case 13:$=Pa(A,2),$!==null&&Zs($,A,2),Sp(),w0(A,2)}if(A=S0(p),A===null&&u0(a,l,p,Bp,d),A===w)break;w=A}w!==null&&p.stopPropagation()}else u0(a,l,p,null,d)}}function S0(a){return a=An(a),A0(a)}var Bp=null;function A0(a){if(Bp=null,a=Ki(a),a!==null){var l=s(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=o(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Bp=a,null}function qv(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case Je:return 2;case nt:return 8;case it:case rt:return 32;case St:return 268435456;default:return 32}default:return 32}}var T0=!1,yu=null,vu=null,xu=null,Kd=new Map,Yd=new Map,bu=[],NT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hv(a,l){switch(a){case"focusin":case"focusout":yu=null;break;case"dragenter":case"dragleave":vu=null;break;case"mouseover":case"mouseout":xu=null;break;case"pointerover":case"pointerout":Kd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yd.delete(l.pointerId)}}function $d(a,l,d,p,w,A){return a===null||a.nativeEvent!==A?(a={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:A,targetContainers:[w]},l!==null&&(l=Ot(l),l!==null&&Uv(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),a)}function ET(a,l,d,p,w){switch(l){case"focusin":return yu=$d(yu,a,l,d,p,w),!0;case"dragenter":return vu=$d(vu,a,l,d,p,w),!0;case"mouseover":return xu=$d(xu,a,l,d,p,w),!0;case"pointerover":var A=w.pointerId;return Kd.set(A,$d(Kd.get(A)||null,a,l,d,p,w)),!0;case"gotpointercapture":return A=w.pointerId,Yd.set(A,$d(Yd.get(A)||null,a,l,d,p,w)),!0}return!1}function Gv(a){var l=Ki(a.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){a.blockedOn=l,cr(a.priority,function(){if(d.tag===13){var p=Js();p=Fr(p);var w=Pa(d,p);w!==null&&Zs(w,d,p),w0(d,p)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function zp(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=S0(a.nativeEvent);if(d===null){d=a.nativeEvent;var p=new d.constructor(d.type,d);ei=p,d.target.dispatchEvent(p),ei=null}else return l=Ot(d),l!==null&&Uv(l),a.blockedOn=d,!1;l.shift()}return!0}function Wv(a,l,d){zp(a)&&d.delete(l)}function kT(){T0=!1,yu!==null&&zp(yu)&&(yu=null),vu!==null&&zp(vu)&&(vu=null),xu!==null&&zp(xu)&&(xu=null),Kd.forEach(Wv),Yd.forEach(Wv)}function jp(a,l){a.blockedOn===l&&(a.blockedOn=null,T0||(T0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kT)))}var Vp=null;function Kv(a){Vp!==a&&(Vp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vp===a&&(Vp=null);for(var l=0;l<a.length;l+=3){var d=a[l],p=a[l+1],w=a[l+2];if(typeof p!="function"){if(A0(p||d)===null)continue;break}var A=Ot(d);A!==null&&(a.splice(l,3),l-=3,ma(A,{pending:!0,data:w,method:d.method,action:p},p,w))}}))}function Jd(a){function l(he){return jp(he,a)}yu!==null&&jp(yu,a),vu!==null&&jp(vu,a),xu!==null&&jp(xu,a),Kd.forEach(l),Yd.forEach(l);for(var d=0;d<bu.length;d++){var p=bu[d];p.blockedOn===a&&(p.blockedOn=null)}for(;0<bu.length&&(d=bu[0],d.blockedOn===null);)Gv(d),d.blockedOn===null&&bu.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var w=d[p],A=d[p+1],D=w[Sn]||null;if(typeof A=="function")D||Kv(d);else if(D){var $=null;if(A&&A.hasAttribute("formAction")){if(w=A,D=A[Sn]||null)$=D.formAction;else if(A0(w)!==null)continue}else $=D.action;typeof $=="function"?d[p+1]=$:(d.splice(p,3),p-=3),Kv(d)}}}function C0(a){this._internalRoot=a}Up.prototype.render=C0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var d=l.current,p=Js();jv(d,p,a,l,null,null)},Up.prototype.unmount=C0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;jv(a.current,2,null,a,null,null),Sp(),l[ri]=null}};function Up(a){this._internalRoot=a}Up.prototype.unstable_scheduleHydration=function(a){if(a){var l=mi();a={blockedOn:null,target:a,priority:l};for(var d=0;d<bu.length&&l!==0&&l<bu[d].priority;d++);bu.splice(d,0,a),d===0&&Gv(a)}};var Yv=e.version;if(Yv!=="19.1.0")throw Error(i(527,Yv,"19.1.0"));Q.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=c(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var MT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{kt=qp.inject(MT),It=qp}catch{}}return Xd.createRoot=function(a,l){if(!r(a))throw Error(i(299));var d=!1,p="",w=cy,A=fy,D=dy,$=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks)),l=Bv(a,1,!1,null,null,d,p,w,A,D,$,null),a[ri]=l.current,l0(a),new C0(l)},Xd.hydrateRoot=function(a,l,d){if(!r(a))throw Error(i(299));var p=!1,w="",A=cy,D=fy,$=dy,he=null,Pe=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(A=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&($=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(he=d.unstable_transitionCallbacks),d.formState!==void 0&&(Pe=d.formState)),l=Bv(a,1,!0,l,d??null,p,w,A,D,$,he,Pe),l.context=zv(null),d=l.current,p=Js(),p=Fr(p),w=ze(p),w.callback=null,Ge(d,w,p),d=p,l.current.lanes=d,Oi(l,d),Do(l),a[ri]=l.current,l0(a),new Up(l)},Xd.version="19.1.0",Xd}var r5;function qT(){if(r5)return k0.exports;r5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),k0.exports=UT(),k0.exports}var HT=qT();const GT=Yw(HT);var Qd={},s5;function WT(){if(s5)return Qd;s5=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.parse=o,Qd.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function o(b,x){const N=new s,T=b.length;if(T<2)return N;const M=(x==null?void 0:x.decode)||h;let k=0;do{const P=b.indexOf("=",k);if(P===-1)break;const I=b.indexOf(";",k),J=I===-1?T:I;if(P>J){k=b.lastIndexOf(";",P-1)+1;continue}const q=u(b,k,P),W=c(b,P,q),ee=b.slice(q,W);if(N[ee]===void 0){let j=u(b,P+1,J),ie=c(b,J,j);const le=M(b.slice(j,ie));N[ee]=le}k=J+1}while(k<T);return N}function u(b,x,N){do{const T=b.charCodeAt(x);if(T!==32&&T!==9)return x}while(++x<N);return N}function c(b,x,N){for(;x>N;){const T=b.charCodeAt(--x);if(T!==32&&T!==9)return x+1}return N}function f(b,x,N){const T=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=T(x);if(!e.test(M))throw new TypeError(`argument val is invalid: ${x}`);let k=b+"="+M;if(!N)return k;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);k+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);k+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);k+="; Path="+N.path}if(N.expires){if(!v(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);k+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(k+="; HttpOnly"),N.secure&&(k+="; Secure"),N.partitioned&&(k+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return k}function h(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return r.call(b)==="[object Date]"}return Qd}WT();var a5="popstate";function KT(n={}){function e(r,s){let{pathname:o="/",search:u="",hash:c=""}=jc(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),g1("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let c=r.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof s=="string"?s:kh(s))}function i(r,s){Aa(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return $T(e,t,i,n)}function Gi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Aa(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YT(){return Math.random().toString(36).substring(2,10)}function o5(n,e){return{usr:n.state,key:n.key,idx:e}}function g1(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?jc(e):e,state:t,key:e&&e.key||i||YT()}}function kh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function jc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function $T(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,u="POP",c=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function v(){u="POP";let M=h(),k=M==null?null:M-f;f=M,c&&c({action:u,location:T.location,delta:k})}function b(M,k){u="PUSH";let P=g1(T.location,M,k);t&&t(P,M),f=h()+1;let I=o5(P,f),J=T.createHref(P);try{o.pushState(I,"",J)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;r.location.assign(J)}s&&c&&c({action:u,location:T.location,delta:1})}function x(M,k){u="REPLACE";let P=g1(T.location,M,k);t&&t(P,M),f=h();let I=o5(P,f),J=T.createHref(P);o.replaceState(I,"",J),s&&c&&c({action:u,location:T.location,delta:0})}function N(M){return JT(M)}let T={get action(){return u},get location(){return n(r,o)},listen(M){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(a5,v),c=M,()=>{r.removeEventListener(a5,v),c=null}},createHref(M){return e(r,M)},createURL:N,encodeLocation(M){let k=N(M);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:x,go(M){return o.go(M)}};return T}function JT(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Gi(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:kh(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function $w(n,e,t="/"){return ZT(n,e,t,!1)}function ZT(n,e,t,i){let r=typeof e=="string"?jc(e):e,s=Rl(r.pathname||"/",t);if(s==null)return null;let o=Jw(n);XT(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let f=u3(s);u=o3(o[c],f,i)}return u}function Jw(n,e=[],t=[],i=""){let r=(s,o,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Gi(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let f=Pl([i,c.relativePath]),h=t.concat(c);s.children&&s.children.length>0&&(Gi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Jw(s.children,e,h,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:s3(f,s.index),routesMeta:h})};return n.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,o);else for(let c of Zw(s.path))r(s,o,c)}),e}function Zw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Zw(i.join("/")),u=[];return u.push(...o.map(c=>c===""?s:[s,c].join("/"))),r&&u.push(...o),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function XT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:a3(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var QT=/^:[\w-]+$/,e3=3,t3=2,n3=1,i3=10,r3=-2,l5=n=>n==="*";function s3(n,e){let t=n.split("/"),i=t.length;return t.some(l5)&&(i+=r3),e&&(i+=t3),t.filter(r=>!l5(r)).reduce((r,s)=>r+(QT.test(s)?e3:s===""?n3:i3),i)}function a3(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function o3(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let u=0;u<i.length;++u){let c=i[u],f=u===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",v=Fm({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),b=c.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=Fm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!v)return null;Object.assign(r,v.params),o.push({params:r,pathname:Pl([s,v.pathname]),pathnameBase:h3(Pl([s,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(s=Pl([s,v.pathnameBase]))}return o}function Fm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=l3(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:h,isOptional:v},b)=>{if(h==="*"){let N=u[b]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const x=u[b];return v&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:n}}function l3(n,e=!1,t=!0){Aa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function u3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Aa(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function c3(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?jc(n):n;return{pathname:t?t.startsWith("/")?t:f3(t,e):e,search:p3(i),hash:m3(r)}}function f3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function R0(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function m2(n){let e=d3(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function g2(n,e,t,i=!1){let r;typeof n=="string"?r=jc(n):(r={...n},Gi(!r.pathname||!r.pathname.includes("?"),R0("?","pathname","search",r)),Gi(!r.pathname||!r.pathname.includes("#"),R0("#","pathname","hash",r)),Gi(!r.search||!r.search.includes("#"),R0("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,u;if(o==null)u=t;else{let v=e.length-1;if(!i&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}u=v>=0?e[v]:"/"}let c=c3(r,u),f=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Pl=n=>n.join("/").replace(/\/\/+/g,"/"),h3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),p3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,m3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function g3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Xw=["POST","PUT","PATCH","DELETE"];new Set(Xw);var y3=["GET",...Xw];new Set(y3);var sd=ne.createContext(null);sd.displayName="DataRouter";var og=ne.createContext(null);og.displayName="DataRouterState";var Qw=ne.createContext({isTransitioning:!1});Qw.displayName="ViewTransition";var v3=ne.createContext(new Map);v3.displayName="Fetchers";var x3=ne.createContext(null);x3.displayName="Await";var eo=ne.createContext(null);eo.displayName="Navigation";var jh=ne.createContext(null);jh.displayName="Location";var to=ne.createContext({outlet:null,matches:[],isDataRoute:!1});to.displayName="Route";var y2=ne.createContext(null);y2.displayName="RouteError";function b3(n,{relative:e}={}){Gi(ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=ne.useContext(eo),{hash:r,pathname:s,search:o}=Vh(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Pl([t,s])),i.createHref({pathname:u,search:o,hash:r})}function ad(){return ne.useContext(jh)!=null}function Bu(){return Gi(ad(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(jh).location}var e_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t_(n){ne.useContext(eo).static||ne.useLayoutEffect(n)}function v2(){let{isDataRoute:n}=ne.useContext(to);return n?D3():w3()}function w3(){Gi(ad(),"useNavigate() may be used only in the context of a <Router> component.");let n=ne.useContext(sd),{basename:e,navigator:t}=ne.useContext(eo),{matches:i}=ne.useContext(to),{pathname:r}=Bu(),s=JSON.stringify(m2(i)),o=ne.useRef(!1);return t_(()=>{o.current=!0}),ne.useCallback((c,f={})=>{if(Aa(o.current,e_),!o.current)return;if(typeof c=="number"){t.go(c);return}let h=g2(c,JSON.parse(s),r,f.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Pl([e,h.pathname])),(f.replace?t.replace:t.push)(h,f.state,f)},[e,t,s,r,n])}ne.createContext(null);function _3(){let{matches:n}=ne.useContext(to),e=n[n.length-1];return e?e.params:{}}function Vh(n,{relative:e}={}){let{matches:t}=ne.useContext(to),{pathname:i}=Bu(),r=JSON.stringify(m2(t));return ne.useMemo(()=>g2(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function S3(n,e){return n_(n,e)}function n_(n,e,t,i){var k;Gi(ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=ne.useContext(eo),{matches:s}=ne.useContext(to),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let P=h&&h.path||"";i_(c,!h||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=Bu(),b;if(e){let P=typeof e=="string"?jc(e):e;Gi(f==="/"||((k=P.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=v;let x=b.pathname||"/",N=x;if(f!=="/"){let P=f.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=$w(n,{pathname:N});Aa(h||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Aa(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=E3(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Pl([f,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:Pl([f,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,t,i);return e&&M?ne.createElement(jh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function A3(){let n=R3(),e=g3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=ne.createElement(ne.Fragment,null,ne.createElement("p",null,"💿 Hey developer 👋"),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:s},"ErrorBoundary")," or"," ",ne.createElement("code",{style:s},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),t?ne.createElement("pre",{style:r},t):null,o)}var T3=ne.createElement(A3,null),C3=class extends ne.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ne.createElement(to.Provider,{value:this.props.routeContext},ne.createElement(y2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N3({routeContext:n,match:e,children:t}){let i=ne.useContext(sd);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ne.createElement(to.Provider,{value:n},t)}function E3(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,s=t==null?void 0:t.errors;if(s!=null){let c=r.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Gi(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let o=!1,u=-1;if(t)for(let c=0;c<r.length;c++){let f=r[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:v}=t,b=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){o=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((c,f,h)=>{let v,b=!1,x=null,N=null;t&&(v=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||T3,o&&(u<0&&h===0?(i_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):u===h&&(b=!0,N=f.route.hydrateFallbackElement||null)));let T=e.concat(r.slice(0,h+1)),M=()=>{let k;return v?k=x:b?k=N:f.route.Component?k=ne.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=c,ne.createElement(N3,{match:f,routeContext:{outlet:c,matches:T,isDataRoute:t!=null},children:k})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?ne.createElement(C3,{location:t.location,revalidation:t.revalidation,component:x,error:v,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):M()},null)}function x2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k3(n){let e=ne.useContext(sd);return Gi(e,x2(n)),e}function M3(n){let e=ne.useContext(og);return Gi(e,x2(n)),e}function L3(n){let e=ne.useContext(to);return Gi(e,x2(n)),e}function b2(n){let e=L3(n),t=e.matches[e.matches.length-1];return Gi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function P3(){return b2("useRouteId")}function R3(){var i;let n=ne.useContext(y2),e=M3("useRouteError"),t=b2("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function D3(){let{router:n}=k3("useNavigate"),e=b2("useNavigate"),t=ne.useRef(!1);return t_(()=>{t.current=!0}),ne.useCallback(async(r,s={})=>{Aa(t.current,e_),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var u5={};function i_(n,e,t){!e&&!u5[n]&&(u5[n]=!0,Aa(!1,t))}ne.memo(I3);function I3({routes:n,future:e,state:t}){return n_(n,void 0,t,e)}function c5({to:n,replace:e,state:t,relative:i}){Gi(ad(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=ne.useContext(eo);Aa(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ne.useContext(to),{pathname:o}=Bu(),u=v2(),c=g2(n,m2(s),o,i==="path"),f=JSON.stringify(c);return ne.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:i})},[u,f,i,e,t]),null}function Sc(n){Gi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O3({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){Gi(!ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),u=ne.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=jc(t));let{pathname:c="/",search:f="",hash:h="",state:v=null,key:b="default"}=t,x=ne.useMemo(()=>{let N=Rl(c,o);return N==null?null:{location:{pathname:N,search:f,hash:h,state:v,key:b},navigationType:i}},[o,c,f,h,v,b,i]);return Aa(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:ne.createElement(eo.Provider,{value:u},ne.createElement(jh.Provider,{children:e,value:x}))}function F3({children:n,location:e}){return S3(y1(n),e)}function y1(n,e=[]){let t=[];return ne.Children.forEach(n,(i,r)=>{if(!ne.isValidElement(i))return;let s=[...e,r];if(i.type===ne.Fragment){t.push.apply(t,y1(i.props.children,s));return}Gi(i.type===Sc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=y1(i.props.children,s)),t.push(o)}),t}var vm="get",xm="application/x-www-form-urlencoded";function lg(n){return n!=null&&typeof n.tagName=="string"}function B3(n){return lg(n)&&n.tagName.toLowerCase()==="button"}function z3(n){return lg(n)&&n.tagName.toLowerCase()==="form"}function j3(n){return lg(n)&&n.tagName.toLowerCase()==="input"}function V3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function U3(n,e){return n.button===0&&(!e||e==="_self")&&!V3(n)}var Hp=null;function q3(){if(Hp===null)try{new FormData(document.createElement("form"),0),Hp=!1}catch{Hp=!0}return Hp}var H3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function D0(n){return n!=null&&!H3.has(n)?(Aa(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xm}"`),null):n}function G3(n,e){let t,i,r,s,o;if(z3(n)){let u=n.getAttribute("action");i=u?Rl(u,e):null,t=n.getAttribute("method")||vm,r=D0(n.getAttribute("enctype"))||xm,s=new FormData(n)}else if(B3(n)||j3(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(i=c?Rl(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||vm,r=D0(n.getAttribute("formenctype"))||D0(u.getAttribute("enctype"))||xm,s=new FormData(u,n),!q3()){let{name:f,type:h,value:v}=n;if(h==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,v)}}else{if(lg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vm,i=null,r=xm,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}function w2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function W3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Y3(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await W3(s,t);return o.links?o.links():[]}return[]}));return X3(i.flat(1).filter(K3).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function f5(n,e,t,i,r,s){let o=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,u=(c,f)=>{var h;return t[f].pathname!==c.pathname||((h=t[f].route.path)==null?void 0:h.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,f)=>o(c,f)||u(c,f)):s==="data"?e.filter((c,f)=>{var v;let h=i.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let b=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $3(n,e,{includeHydrateFallback:t}={}){return J3(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function J3(n){return[...new Set(n)]}function Z3(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function X3(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(Z3(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q3=new Set([100,101,204,205]);function eC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Rl(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function r_(){let n=ne.useContext(sd);return w2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tC(){let n=ne.useContext(og);return w2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _2=ne.createContext(void 0);_2.displayName="FrameworkContext";function s_(){let n=ne.useContext(_2);return w2(n,"You must render this element inside a <HydratedRouter> element"),n}function nC(n,e){let t=ne.useContext(_2),[i,r]=ne.useState(!1),[s,o]=ne.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:v}=e,b=ne.useRef(null);ne.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let T=k=>{k.forEach(P=>{o(P.isIntersecting)})},M=new IntersectionObserver(T,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[n]),ne.useEffect(()=>{if(i){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[i]);let x=()=>{r(!0)},N=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,b,{}]:[s,b,{onFocus:eh(u,x),onBlur:eh(c,N),onMouseEnter:eh(f,x),onMouseLeave:eh(h,N),onTouchStart:eh(v,x)}]:[!1,b,{}]}function eh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function iC({page:n,...e}){let{router:t}=r_(),i=ne.useMemo(()=>$w(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?ne.createElement(sC,{page:n,matches:i,...e}):null}function rC(n){let{manifest:e,routeModules:t}=s_(),[i,r]=ne.useState([]);return ne.useEffect(()=>{let s=!1;return Y3(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function sC({page:n,matches:e,...t}){let i=Bu(),{manifest:r,routeModules:s}=s_(),{basename:o}=r_(),{loaderData:u,matches:c}=tC(),f=ne.useMemo(()=>f5(n,e,c,r,i,"data"),[n,e,c,r,i]),h=ne.useMemo(()=>f5(n,e,c,r,i,"assets"),[n,e,c,r,i]),v=ne.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,T=!1;if(e.forEach(k=>{var I;let P=r.routes[k.route.id];!P||!P.hasLoader||(!f.some(J=>J.route.id===k.route.id)&&k.route.id in u&&((I=s[k.route.id])!=null&&I.shouldRevalidate)||P.hasClientLoader?T=!0:N.add(k.route.id))}),N.size===0)return[];let M=eC(n,o);return T&&N.size>0&&M.searchParams.set("_routes",e.filter(k=>N.has(k.route.id)).map(k=>k.route.id).join(",")),[M.pathname+M.search]},[o,u,i,r,f,e,n,s]),b=ne.useMemo(()=>$3(h,r),[h,r]),x=rC(h);return ne.createElement(ne.Fragment,null,v.map(N=>ne.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>ne.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),x.map(({key:N,link:T})=>ne.createElement("link",{key:N,...T})))}function aC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var a_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a_&&(window.__reactRouterVersion="7.6.2")}catch{}function oC({basename:n,children:e,window:t}){let i=ne.useRef();i.current==null&&(i.current=KT({window:t,v5Compat:!0}));let r=i.current,[s,o]=ne.useState({action:r.action,location:r.location}),u=ne.useCallback(c=>{ne.startTransition(()=>o(c))},[o]);return ne.useLayoutEffect(()=>r.listen(u),[r,u]),ne.createElement(O3,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var o_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_a=ne.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:u,target:c,to:f,preventScrollReset:h,viewTransition:v,...b},x){let{basename:N}=ne.useContext(eo),T=typeof f=="string"&&o_.test(f),M,k=!1;if(typeof f=="string"&&T&&(M=f,a_))try{let ie=new URL(window.location.href),le=f.startsWith("//")?new URL(ie.protocol+f):new URL(f),F=Rl(le.pathname,N);le.origin===ie.origin&&F!=null?f=F+le.search+le.hash:k=!0}catch{Aa(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=b3(f,{relative:r}),[I,J,q]=nC(i,b),W=fC(f,{replace:o,state:u,target:c,preventScrollReset:h,relative:r,viewTransition:v});function ee(ie){e&&e(ie),ie.defaultPrevented||W(ie)}let j=ne.createElement("a",{...b,...q,href:M||P,onClick:k||s?e:ee,ref:aC(x,J),target:c,"data-discover":!T&&t==="render"?"true":void 0});return I&&!T?ne.createElement(ne.Fragment,null,j,ne.createElement(iC,{page:P})):j});_a.displayName="Link";var lC=ne.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:u,children:c,...f},h){let v=Vh(o,{relative:f.relative}),b=Bu(),x=ne.useContext(og),{navigator:N,basename:T}=ne.useContext(eo),M=x!=null&&gC(v)&&u===!0,k=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,P=b.pathname,I=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(P=P.toLowerCase(),I=I?I.toLowerCase():null,k=k.toLowerCase()),I&&T&&(I=Rl(I,T)||I);const J=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let q=P===k||!r&&P.startsWith(k)&&P.charAt(J)==="/",W=I!=null&&(I===k||!r&&I.startsWith(k)&&I.charAt(k.length)==="/"),ee={isActive:q,isPending:W,isTransitioning:M},j=q?e:void 0,ie;typeof i=="function"?ie=i(ee):ie=[i,q?"active":null,W?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let le=typeof s=="function"?s(ee):s;return ne.createElement(_a,{...f,"aria-current":j,className:ie,ref:h,style:le,to:o,viewTransition:u},typeof c=="function"?c(ee):c)});lC.displayName="NavLink";var uC=ne.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=vm,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:v,...b},x)=>{let N=pC(),T=mC(u,{relative:f}),M=o.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&o_.test(u),P=I=>{if(c&&c(I),I.defaultPrevented)return;I.preventDefault();let J=I.nativeEvent.submitter,q=(J==null?void 0:J.getAttribute("formmethod"))||o;N(J||I.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:r,state:s,relative:f,preventScrollReset:h,viewTransition:v})};return ne.createElement("form",{ref:x,method:M,action:T,onSubmit:i?c:P,...b,"data-discover":!k&&n==="render"?"true":void 0})});uC.displayName="Form";function cC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l_(n){let e=ne.useContext(sd);return Gi(e,cC(n)),e}function fC(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let u=v2(),c=Bu(),f=Vh(n,{relative:s});return ne.useCallback(h=>{if(U3(h,e)){h.preventDefault();let v=t!==void 0?t:kh(c)===kh(f);u(n,{replace:v,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[c,u,f,t,i,e,n,r,s,o])}var dC=0,hC=()=>`__${String(++dC)}__`;function pC(){let{router:n}=l_("useSubmit"),{basename:e}=ne.useContext(eo),t=P3();return ne.useCallback(async(i,r={})=>{let{action:s,method:o,encType:u,formData:c,body:f}=G3(i,e);if(r.navigate===!1){let h=r.fetcherKey||hC();await n.fetch(h,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||o,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||o,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function mC(n,{relative:e}={}){let{basename:t}=ne.useContext(eo),i=ne.useContext(to);Gi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Vh(n||".",{relative:e})},o=Bu();if(n==null){s.search=o.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(v=>v).forEach(v=>u.append("index",v));let h=u.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Pl([t,s.pathname])),kh(s)}function gC(n,e={}){let t=ne.useContext(Qw);Gi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=l_("useViewTransitionState"),r=Vh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Rl(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Rl(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Fm(r.pathname,o)!=null||Fm(r.pathname,s)!=null}[...Q3];var or=(n=>(n.NEW="Neu (Extern Geladen)",n.AWAITING_KEEPA="Wartet auf Keepa-Daten (Objekt)",n.READY_FOR_MARKET_RESEARCH="Bereit für Marktrecherche",n.MARKET_RESEARCH_IN_PROGRESS="Marktrecherche läuft...",n.MARKET_RESEARCH_COMPLETED="Marktrecherche abgeschlossen",n.READY_FOR_EBAY_SEARCH_TERMS="Bereit für eBay Suchbegriffe",n.EBAY_SEARCH_TERMS_IN_PROGRESS="eBay Suchbegriffe werden generiert...",n.EBAY_SEARCH_TERMS_COMPLETED="eBay Suchbegriffe generiert",n.AWAITING_EBAY_DATA="Wartet auf eBay-Daten",n.EBAY_DATA_RECEIVED="eBay-Daten empfangen",n.READY_FOR_VALUATION="Bereit für Teilwertschätzung",n.VALUATION_IN_PROGRESS="Teilwertschätzung läuft...",n.VALUATION_COMPLETED="Teilwertschätzung abgeschlossen",n.REPORT_READY="Bericht bereit",n.ERROR_MARKET_RESEARCH="Fehler: Marktrecherche",n.ERROR_EBAY_SEARCH_TERMS="Fehler: eBay Suchbegriffe",n.ERROR_VALUATION="Fehler: Teilwertschätzung",n.ERROR_UNKNOWN="Unbekannter Fehler",n.LOADED_FROM_EXTERNAL="Extern Geladen",n))(or||{});const d5="gemini-2.5-flash-preview-04-17",yC="https://m.media-amazon.com/images/I/",Sa=20,vC="https://hutauf.pythonanywhere.com/api/",Ds="v2processstatus",Nc="v2searchterms",jf="v2ebayresults",bm="v2marketAnalysisData",kc="v2TeilwertData",Vf="v2keepa",Lf="v2processErrors",Af="v2pdf",Gp="appConfigV2Token",Wp="appConfigOracleWriteUrl",Kp="appConfigGeminiApiKey",Yp="appConfigProductSourceUrl",u_={[or.LOADED_FROM_EXTERNAL]:{bg:"bg-green-100",text:"text-green-700",border:"border-green-400"},[or.NEW]:{bg:"bg-gray-200",text:"text-gray-700",border:"border-gray-400"},[or.AWAITING_KEEPA]:{bg:"bg-yellow-100",text:"text-yellow-700",border:"border-yellow-400"},[or.READY_FOR_MARKET_RESEARCH]:{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-400"},[or.MARKET_RESEARCH_IN_PROGRESS]:{bg:"bg-blue-200",text:"text-blue-800",border:"border-blue-500"},[or.MARKET_RESEARCH_COMPLETED]:{bg:"bg-green-100",text:"text-green-700",border:"border-green-400"},[or.READY_FOR_EBAY_SEARCH_TERMS]:{bg:"bg-indigo-100",text:"text-indigo-700",border:"border-indigo-400"},[or.EBAY_SEARCH_TERMS_IN_PROGRESS]:{bg:"bg-indigo-200",text:"text-indigo-800",border:"border-indigo-500"},[or.EBAY_SEARCH_TERMS_COMPLETED]:{bg:"bg-purple-100",text:"text-purple-700",border:"border-purple-400"},[or.AWAITING_EBAY_DATA]:{bg:"bg-pink-100",text:"text-pink-700",border:"border-pink-400"},[or.EBAY_DATA_RECEIVED]:{bg:"bg-teal-100",text:"text-teal-700",border:"border-teal-400"},[or.READY_FOR_VALUATION]:{bg:"bg-cyan-100",text:"text-cyan-700",border:"border-cyan-400"},[or.VALUATION_IN_PROGRESS]:{bg:"bg-cyan-200",text:"text-cyan-800",border:"border-cyan-500"},[or.VALUATION_COMPLETED]:{bg:"bg-emerald-100",text:"text-emerald-700",border:"border-emerald-400"},[or.REPORT_READY]:{bg:"bg-lime-100",text:"text-lime-700",border:"border-lime-400"},[or.ERROR_MARKET_RESEARCH]:{bg:"bg-red-100",text:"text-red-700",border:"border-red-400"},[or.ERROR_EBAY_SEARCH_TERMS]:{bg:"bg-red-100",text:"text-red-700",border:"border-red-400"},[or.ERROR_VALUATION]:{bg:"bg-red-100",text:"text-red-700",border:"border-red-400"},[or.ERROR_UNKNOWN]:{bg:"bg-red-200",text:"text-red-800",border:"border-red-500"}};var Jn;(function(n){n.assertEqual=r=>{};function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{const s={};for(const o of r)s[o]=o;return s},n.getValidEnumValues=r=>{const s=n.objectKeys(r).filter(u=>typeof r[r[u]]!="number"),o={};for(const u of s)o[u]=r[u];return n.objectValues(o)},n.objectValues=r=>n.objectKeys(r).map(function(s){return r[s]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.push(o);return s},n.find=(r,s)=>{for(const o of r)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function i(r,s=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=i,n.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(Jn||(Jn={}));var h5;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(h5||(h5={}));const _t=Jn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Au=n=>{switch(typeof n){case"undefined":return _t.undefined;case"string":return _t.string;case"number":return Number.isNaN(n)?_t.nan:_t.number;case"boolean":return _t.boolean;case"function":return _t.function;case"bigint":return _t.bigint;case"symbol":return _t.symbol;case"object":return Array.isArray(n)?_t.array:n===null?_t.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?_t.promise:typeof Map<"u"&&n instanceof Map?_t.map:typeof Set<"u"&&n instanceof Set?_t.set:typeof Date<"u"&&n instanceof Date?_t.date:_t.object;default:return _t.unknown}},tt=Jn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Dl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},i={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)i._errors.push(t(o));else{let u=i,c=0;for(;c<o.path.length;){const f=o.path[c];c===o.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(o))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return r(this),i}static assert(e){if(!(e instanceof Dl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Jn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}Dl.create=n=>new Dl(n);const v1=(n,e)=>{let t;switch(n.code){case tt.invalid_type:n.received===_t.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case tt.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Jn.jsonStringifyReplacer)}`;break;case tt.unrecognized_keys:t=`Unrecognized key(s) in object: ${Jn.joinValues(n.keys,", ")}`;break;case tt.invalid_union:t="Invalid input";break;case tt.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Jn.joinValues(n.options)}`;break;case tt.invalid_enum_value:t=`Invalid enum value. Expected ${Jn.joinValues(n.options)}, received '${n.received}'`;break;case tt.invalid_arguments:t="Invalid function arguments";break;case tt.invalid_return_type:t="Invalid function return type";break;case tt.invalid_date:t="Invalid date";break;case tt.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Jn.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case tt.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case tt.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case tt.custom:t="Invalid input";break;case tt.invalid_intersection_types:t="Intersection results could not be merged";break;case tt.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case tt.not_finite:t="Number must be finite";break;default:t=e.defaultError,Jn.assertNever(n)}return{message:t}};let xC=v1;function bC(){return xC}const wC=n=>{const{data:e,path:t,errorMaps:i,issueData:r}=n,s=[...t,...r.path||[]],o={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(o,{data:e,defaultError:u}).message;return{...r,path:s,message:u}};function mt(n,e){const t=bC(),i=wC({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===v1?void 0:v1].filter(r=>!!r)});n.common.issues.push(i)}class Ss{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const r of t){if(r.status==="aborted")return tn;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const r of t){const s=await r.key,o=await r.value;i.push({key:s,value:o})}return Ss.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const r of t){const{key:s,value:o}=r;if(s.status==="aborted"||o.status==="aborted")return tn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(i[s.value]=o.value)}return{status:e.value,value:i}}}const tn=Object.freeze({status:"aborted"}),dh=n=>({status:"dirty",value:n}),Ta=n=>({status:"valid",value:n}),p5=n=>n.status==="aborted",m5=n=>n.status==="dirty",Jf=n=>n.status==="valid",Bm=n=>typeof Promise<"u"&&n instanceof Promise;var Ct;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ct||(Ct={}));class Wo{constructor(e,t,i,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const g5=(n,e)=>{if(Jf(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Dl(n.common.issues);return this._error=t,this._error}}};function xn(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:r}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,u)=>{const{message:c}=n;return o.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:o.code!=="invalid_type"?{message:u.defaultError}:{message:c??t??u.defaultError}},description:r}}class Fn{get description(){return this._def.description}_getType(e){return Au(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Au(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ss,ctx:{common:e.parent.common,data:e.data,parsedType:Au(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Bm(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Au(e)},r=this._parseSync({data:e,path:i.path,parent:i});return g5(i,r)}"~validate"(e){var i,r;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Au(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:t});return Jf(s)?{value:s.value}:{issues:t.common.issues}}catch(s){(r=(i=s==null?void 0:s.message)==null?void 0:i.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>Jf(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Au(e)},r=this._parse({data:e,path:i.path,parent:i}),s=await(Bm(r)?r:Promise.resolve(r));return g5(i,s)}refine(e,t){const i=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,s)=>{const o=e(r),u=()=>s.addIssue({code:tt.custom,...i(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,t){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof t=="function"?t(i,r):t),!1))}_refinement(e){return new Qf({schema:this,typeName:Xt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Mu.create(this,this._def)}nullable(){return ed.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qo.create(this)}promise(){return qm.create(this,this._def)}or(e){return jm.create([this,e],this._def)}and(e){return Vm.create(this,e,this._def)}transform(e){return new Qf({...xn(this._def),schema:this,typeName:Xt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new _1({...xn(this._def),innerType:this,defaultValue:t,typeName:Xt.ZodDefault})}brand(){return new HC({typeName:Xt.ZodBranded,type:this,...xn(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new S1({...xn(this._def),innerType:this,catchValue:t,typeName:Xt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return S2.create(this,e)}readonly(){return A1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _C=/^c[^\s-]{8,}$/i,SC=/^[0-9a-z]+$/,AC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,TC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,CC=/^[a-z0-9_-]{21}$/i,NC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,EC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,MC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let I0;const LC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,RC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,DC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,OC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,c_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FC=new RegExp(`^${c_}$`);function f_(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function BC(n){return new RegExp(`^${f_(n)}$`)}function zC(n){let e=`${c_}T${f_(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function jC(n,e){return!!((e==="v4"||!e)&&LC.test(n)||(e==="v6"||!e)&&RC.test(n))}function VC(n,e){if(!NC.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function UC(n,e){return!!((e==="v4"||!e)&&PC.test(n)||(e==="v6"||!e)&&DC.test(n))}class jo extends Fn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_t.string){const s=this._getOrReturnCtx(e);return mt(s,{code:tt.invalid_type,expected:_t.string,received:s.parsedType}),tn}const i=new Ss;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),mt(r,{code:tt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),mt(r,{code:tt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,u=e.data.length<s.value;(o||u)&&(r=this._getOrReturnCtx(e,r),o?mt(r,{code:tt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&mt(r,{code:tt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")kC.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"email",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")I0||(I0=new RegExp(MC,"u")),I0.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"emoji",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")TC.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"uuid",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")CC.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"nanoid",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")_C.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"cuid",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")SC.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"cuid2",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")AC.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"ulid",code:tt.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),mt(r,{validation:"url",code:tt.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"regex",code:tt.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),mt(r,{code:tt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),mt(r,{code:tt.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),mt(r,{code:tt.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?zC(s).test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{code:tt.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?FC.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{code:tt.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?BC(s).test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{code:tt.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?EC.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"duration",code:tt.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?jC(e.data,s.version)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"ip",code:tt.invalid_string,message:s.message}),i.dirty()):s.kind==="jwt"?VC(e.data,s.alg)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"jwt",code:tt.invalid_string,message:s.message}),i.dirty()):s.kind==="cidr"?UC(e.data,s.version)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"cidr",code:tt.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?IC.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"base64",code:tt.invalid_string,message:s.message}),i.dirty()):s.kind==="base64url"?OC.test(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{validation:"base64url",code:tt.invalid_string,message:s.message}),i.dirty()):Jn.assertNever(s);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(r=>e.test(r),{validation:t,code:tt.invalid_string,...Ct.errToObj(i)})}_addCheck(e){return new jo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ct.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ct.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ct.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ct.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ct.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ct.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ct.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ct.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ct.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ct.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ct.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ct.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ct.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ct.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ct.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ct.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ct.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Ct.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ct.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ct.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ct.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ct.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ct.errToObj(t)})}nonempty(e){return this.min(1,Ct.errToObj(e))}trim(){return new jo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}jo.create=n=>new jo({checks:[],typeName:Xt.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...xn(n)});function qC(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=t>i?t:i,s=Number.parseInt(n.toFixed(r).replace(".","")),o=Number.parseInt(e.toFixed(r).replace(".",""));return s%o/10**r}class Ic extends Fn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_t.number){const s=this._getOrReturnCtx(e);return mt(s,{code:tt.invalid_type,expected:_t.number,received:s.parsedType}),tn}let i;const r=new Ss;for(const s of this._def.checks)s.kind==="int"?Jn.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:tt.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),mt(i,{code:tt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),mt(i,{code:tt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?qC(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),mt(i,{code:tt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:tt.not_finite,message:s.message}),r.dirty()):Jn.assertNever(s);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ct.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ct.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ct.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ct.toString(t))}setLimit(e,t,i,r){return new Ic({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Ct.toString(r)}]})}_addCheck(e){return new Ic({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ct.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ct.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ct.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ct.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ct.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ct.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Jn.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ic.create=n=>new Ic({checks:[],typeName:Xt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...xn(n)});class Oc extends Fn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_t.bigint)return this._getInvalidInput(e);let i;const r=new Ss;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),mt(i,{code:tt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),mt(i,{code:tt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),mt(i,{code:tt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):Jn.assertNever(s);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return mt(t,{code:tt.invalid_type,expected:_t.bigint,received:t.parsedType}),tn}gte(e,t){return this.setLimit("min",e,!0,Ct.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ct.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ct.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ct.toString(t))}setLimit(e,t,i,r){return new Oc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Ct.toString(r)}]})}_addCheck(e){return new Oc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ct.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ct.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Oc.create=n=>new Oc({checks:[],typeName:Xt.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...xn(n)});class zm extends Fn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_t.boolean){const i=this._getOrReturnCtx(e);return mt(i,{code:tt.invalid_type,expected:_t.boolean,received:i.parsedType}),tn}return Ta(e.data)}}zm.create=n=>new zm({typeName:Xt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...xn(n)});class Zf extends Fn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_t.date){const s=this._getOrReturnCtx(e);return mt(s,{code:tt.invalid_type,expected:_t.date,received:s.parsedType}),tn}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return mt(s,{code:tt.invalid_date}),tn}const i=new Ss;let r;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(r=this._getOrReturnCtx(e,r),mt(r,{code:tt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(r=this._getOrReturnCtx(e,r),mt(r,{code:tt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):Jn.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zf({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ct.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ct.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Zf.create=n=>new Zf({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Xt.ZodDate,...xn(n)});class y5 extends Fn{_parse(e){if(this._getType(e)!==_t.symbol){const i=this._getOrReturnCtx(e);return mt(i,{code:tt.invalid_type,expected:_t.symbol,received:i.parsedType}),tn}return Ta(e.data)}}y5.create=n=>new y5({typeName:Xt.ZodSymbol,...xn(n)});class v5 extends Fn{_parse(e){if(this._getType(e)!==_t.undefined){const i=this._getOrReturnCtx(e);return mt(i,{code:tt.invalid_type,expected:_t.undefined,received:i.parsedType}),tn}return Ta(e.data)}}v5.create=n=>new v5({typeName:Xt.ZodUndefined,...xn(n)});class x5 extends Fn{_parse(e){if(this._getType(e)!==_t.null){const i=this._getOrReturnCtx(e);return mt(i,{code:tt.invalid_type,expected:_t.null,received:i.parsedType}),tn}return Ta(e.data)}}x5.create=n=>new x5({typeName:Xt.ZodNull,...xn(n)});class b5 extends Fn{constructor(){super(...arguments),this._any=!0}_parse(e){return Ta(e.data)}}b5.create=n=>new b5({typeName:Xt.ZodAny,...xn(n)});class x1 extends Fn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ta(e.data)}}x1.create=n=>new x1({typeName:Xt.ZodUnknown,...xn(n)});class Pu extends Fn{_parse(e){const t=this._getOrReturnCtx(e);return mt(t,{code:tt.invalid_type,expected:_t.never,received:t.parsedType}),tn}}Pu.create=n=>new Pu({typeName:Xt.ZodNever,...xn(n)});class w5 extends Fn{_parse(e){if(this._getType(e)!==_t.undefined){const i=this._getOrReturnCtx(e);return mt(i,{code:tt.invalid_type,expected:_t.void,received:i.parsedType}),tn}return Ta(e.data)}}w5.create=n=>new w5({typeName:Xt.ZodVoid,...xn(n)});class qo extends Fn{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),r=this._def;if(t.parsedType!==_t.array)return mt(t,{code:tt.invalid_type,expected:_t.array,received:t.parsedType}),tn;if(r.exactLength!==null){const o=t.data.length>r.exactLength.value,u=t.data.length<r.exactLength.value;(o||u)&&(mt(t,{code:o?tt.too_big:tt.too_small,minimum:u?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(mt(t,{code:tt.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(mt(t,{code:tt.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((o,u)=>r.type._parseAsync(new Wo(t,o,t.path,u)))).then(o=>Ss.mergeArray(i,o));const s=[...t.data].map((o,u)=>r.type._parseSync(new Wo(t,o,t.path,u)));return Ss.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new qo({...this._def,minLength:{value:e,message:Ct.toString(t)}})}max(e,t){return new qo({...this._def,maxLength:{value:e,message:Ct.toString(t)}})}length(e,t){return new qo({...this._def,exactLength:{value:e,message:Ct.toString(t)}})}nonempty(e){return this.min(1,e)}}qo.create=(n,e)=>new qo({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Xt.ZodArray,...xn(e)});function Pf(n){if(n instanceof Lr){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=Mu.create(Pf(i))}return new Lr({...n._def,shape:()=>e})}else return n instanceof qo?new qo({...n._def,type:Pf(n.element)}):n instanceof Mu?Mu.create(Pf(n.unwrap())):n instanceof ed?ed.create(Pf(n.unwrap())):n instanceof Fc?Fc.create(n.items.map(e=>Pf(e))):n}class Lr extends Fn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Jn.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==_t.object){const f=this._getOrReturnCtx(e);return mt(f,{code:tt.invalid_type,expected:_t.object,received:f.parsedType}),tn}const{status:i,ctx:r}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof Pu&&this._def.unknownKeys==="strip"))for(const f in r.data)o.includes(f)||u.push(f);const c=[];for(const f of o){const h=s[f],v=r.data[f];c.push({key:{status:"valid",value:f},value:h._parse(new Wo(r,v,r.path,f)),alwaysSet:f in r.data})}if(this._def.catchall instanceof Pu){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of u)c.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(f==="strict")u.length>0&&(mt(r,{code:tt.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of u){const v=r.data[h];c.push({key:{status:"valid",value:h},value:f._parse(new Wo(r,v,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of c){const v=await h.key,b=await h.value;f.push({key:v,value:b,alwaysSet:h.alwaysSet})}return f}).then(f=>Ss.mergeObjectSync(i,f)):Ss.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return Ct.errToObj,new Lr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var s,o;const r=((o=(s=this._def).errorMap)==null?void 0:o.call(s,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:Ct.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new Lr({...this._def,unknownKeys:"strip"})}passthrough(){return new Lr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Lr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Lr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Lr({...this._def,catchall:e})}pick(e){const t={};for(const i of Jn.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new Lr({...this._def,shape:()=>t})}omit(e){const t={};for(const i of Jn.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new Lr({...this._def,shape:()=>t})}deepPartial(){return Pf(this)}partial(e){const t={};for(const i of Jn.objectKeys(this.shape)){const r=this.shape[i];e&&!e[i]?t[i]=r:t[i]=r.optional()}return new Lr({...this._def,shape:()=>t})}required(e){const t={};for(const i of Jn.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof Mu;)s=s._def.innerType;t[i]=s}return new Lr({...this._def,shape:()=>t})}keyof(){return d_(Jn.objectKeys(this.shape))}}Lr.create=(n,e)=>new Lr({shape:()=>n,unknownKeys:"strip",catchall:Pu.create(),typeName:Xt.ZodObject,...xn(e)});Lr.strictCreate=(n,e)=>new Lr({shape:()=>n,unknownKeys:"strict",catchall:Pu.create(),typeName:Xt.ZodObject,...xn(e)});Lr.lazycreate=(n,e)=>new Lr({shape:n,unknownKeys:"strip",catchall:Pu.create(),typeName:Xt.ZodObject,...xn(e)});class jm extends Fn{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function r(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const o=s.map(u=>new Dl(u.ctx.common.issues));return mt(t,{code:tt.invalid_union,unionErrors:o}),tn}if(t.common.async)return Promise.all(i.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(r);{let s;const o=[];for(const c of i){const f={...t,common:{...t.common,issues:[]},parent:null},h=c._parseSync({data:t.data,path:t.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const u=o.map(c=>new Dl(c));return mt(t,{code:tt.invalid_union,unionErrors:u}),tn}}get options(){return this._def.options}}jm.create=(n,e)=>new jm({options:n,typeName:Xt.ZodUnion,...xn(e)});function b1(n,e){const t=Au(n),i=Au(e);if(n===e)return{valid:!0,data:n};if(t===_t.object&&i===_t.object){const r=Jn.objectKeys(e),s=Jn.objectKeys(n).filter(u=>r.indexOf(u)!==-1),o={...n,...e};for(const u of s){const c=b1(n[u],e[u]);if(!c.valid)return{valid:!1};o[u]=c.data}return{valid:!0,data:o}}else if(t===_t.array&&i===_t.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let s=0;s<n.length;s++){const o=n[s],u=e[s],c=b1(o,u);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return t===_t.date&&i===_t.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Vm extends Fn{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=(s,o)=>{if(p5(s)||p5(o))return tn;const u=b1(s.value,o.value);return u.valid?((m5(s)||m5(o))&&t.dirty(),{status:t.value,value:u.data}):(mt(i,{code:tt.invalid_intersection_types}),tn)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>r(s,o)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Vm.create=(n,e,t)=>new Vm({left:n,right:e,typeName:Xt.ZodIntersection,...xn(t)});class Fc extends Fn{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.array)return mt(i,{code:tt.invalid_type,expected:_t.array,received:i.parsedType}),tn;if(i.data.length<this._def.items.length)return mt(i,{code:tt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tn;!this._def.rest&&i.data.length>this._def.items.length&&(mt(i,{code:tt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...i.data].map((o,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Wo(i,o,i.path,u)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>Ss.mergeArray(t,o)):Ss.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Fc({...this._def,rest:e})}}Fc.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fc({items:n,typeName:Xt.ZodTuple,rest:null,...xn(e)})};class Um extends Fn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.object)return mt(i,{code:tt.invalid_type,expected:_t.object,received:i.parsedType}),tn;const r=[],s=this._def.keyType,o=this._def.valueType;for(const u in i.data)r.push({key:s._parse(new Wo(i,u,i.path,u)),value:o._parse(new Wo(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?Ss.mergeObjectAsync(t,r):Ss.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof Fn?new Um({keyType:e,valueType:t,typeName:Xt.ZodRecord,...xn(i)}):new Um({keyType:jo.create(),valueType:e,typeName:Xt.ZodRecord,...xn(t)})}}class _5 extends Fn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.map)return mt(i,{code:tt.invalid_type,expected:_t.map,received:i.parsedType}),tn;const r=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([u,c],f)=>({key:r._parse(new Wo(i,u,i.path,[f,"key"])),value:s._parse(new Wo(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of o){const f=await c.key,h=await c.value;if(f.status==="aborted"||h.status==="aborted")return tn;(f.status==="dirty"||h.status==="dirty")&&t.dirty(),u.set(f.value,h.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const c of o){const f=c.key,h=c.value;if(f.status==="aborted"||h.status==="aborted")return tn;(f.status==="dirty"||h.status==="dirty")&&t.dirty(),u.set(f.value,h.value)}return{status:t.value,value:u}}}}_5.create=(n,e,t)=>new _5({valueType:e,keyType:n,typeName:Xt.ZodMap,...xn(t)});class Mh extends Fn{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.set)return mt(i,{code:tt.invalid_type,expected:_t.set,received:i.parsedType}),tn;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(mt(i,{code:tt.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(mt(i,{code:tt.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const s=this._def.valueType;function o(c){const f=new Set;for(const h of c){if(h.status==="aborted")return tn;h.status==="dirty"&&t.dirty(),f.add(h.value)}return{status:t.value,value:f}}const u=[...i.data.values()].map((c,f)=>s._parse(new Wo(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>o(c)):o(u)}min(e,t){return new Mh({...this._def,minSize:{value:e,message:Ct.toString(t)}})}max(e,t){return new Mh({...this._def,maxSize:{value:e,message:Ct.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Mh.create=(n,e)=>new Mh({valueType:n,minSize:null,maxSize:null,typeName:Xt.ZodSet,...xn(e)});class w1 extends Fn{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}w1.create=(n,e)=>new w1({getter:n,typeName:Xt.ZodLazy,...xn(e)});class S5 extends Fn{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return mt(t,{received:t.data,code:tt.invalid_literal,expected:this._def.value}),tn}return{status:"valid",value:e.data}}get value(){return this._def.value}}S5.create=(n,e)=>new S5({value:n,typeName:Xt.ZodLiteral,...xn(e)});function d_(n,e){return new Xf({values:n,typeName:Xt.ZodEnum,...xn(e)})}class Xf extends Fn{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return mt(t,{expected:Jn.joinValues(i),received:t.parsedType,code:tt.invalid_type}),tn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return mt(t,{received:t.data,code:tt.invalid_enum_value,options:i}),tn}return Ta(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Xf.create(e,{...this._def,...t})}exclude(e,t=this._def){return Xf.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}Xf.create=d_;class A5 extends Fn{_parse(e){const t=Jn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==_t.string&&i.parsedType!==_t.number){const r=Jn.objectValues(t);return mt(i,{expected:Jn.joinValues(r),received:i.parsedType,code:tt.invalid_type}),tn}if(this._cache||(this._cache=new Set(Jn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Jn.objectValues(t);return mt(i,{received:i.data,code:tt.invalid_enum_value,options:r}),tn}return Ta(e.data)}get enum(){return this._def.values}}A5.create=(n,e)=>new A5({values:n,typeName:Xt.ZodNativeEnum,...xn(e)});class qm extends Fn{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_t.promise&&t.common.async===!1)return mt(t,{code:tt.invalid_type,expected:_t.promise,received:t.parsedType}),tn;const i=t.parsedType===_t.promise?t.data:Promise.resolve(t.data);return Ta(i.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}qm.create=(n,e)=>new qm({type:n,typeName:Xt.ZodPromise,...xn(e)});class Qf extends Fn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:o=>{mt(i,o),o.fatal?t.abort():t.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const o=r.transform(i.data,s);if(i.common.async)return Promise.resolve(o).then(async u=>{if(t.value==="aborted")return tn;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?tn:c.status==="dirty"||t.value==="dirty"?dh(c.value):c});{if(t.value==="aborted")return tn;const u=this._def.schema._parseSync({data:o,path:i.path,parent:i});return u.status==="aborted"?tn:u.status==="dirty"||t.value==="dirty"?dh(u.value):u}}if(r.type==="refinement"){const o=u=>{const c=r.refinement(u,s);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?tn:(u.status==="dirty"&&t.dirty(),o(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?tn:(u.status==="dirty"&&t.dirty(),o(u.value).then(()=>({status:t.value,value:u.value}))))}if(r.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Jf(o))return tn;const u=r.transform(o.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>Jf(o)?Promise.resolve(r.transform(o.value,s)).then(u=>({status:t.value,value:u})):tn);Jn.assertNever(r)}}Qf.create=(n,e,t)=>new Qf({schema:n,typeName:Xt.ZodEffects,effect:e,...xn(t)});Qf.createWithPreprocess=(n,e,t)=>new Qf({schema:e,effect:{type:"preprocess",transform:n},typeName:Xt.ZodEffects,...xn(t)});class Mu extends Fn{_parse(e){return this._getType(e)===_t.undefined?Ta(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mu.create=(n,e)=>new Mu({innerType:n,typeName:Xt.ZodOptional,...xn(e)});class ed extends Fn{_parse(e){return this._getType(e)===_t.null?Ta(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ed.create=(n,e)=>new ed({innerType:n,typeName:Xt.ZodNullable,...xn(e)});class _1 extends Fn{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===_t.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}_1.create=(n,e)=>new _1({innerType:n,typeName:Xt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xn(e)});class S1 extends Fn{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Bm(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Dl(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Dl(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}S1.create=(n,e)=>new S1({innerType:n,typeName:Xt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xn(e)});class T5 extends Fn{_parse(e){if(this._getType(e)!==_t.nan){const i=this._getOrReturnCtx(e);return mt(i,{code:tt.invalid_type,expected:_t.nan,received:i.parsedType}),tn}return{status:"valid",value:e.data}}}T5.create=n=>new T5({typeName:Xt.ZodNaN,...xn(n)});class HC extends Fn{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class S2 extends Fn{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?tn:s.status==="dirty"?(t.dirty(),dh(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?tn:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,t){return new S2({in:e,out:t,typeName:Xt.ZodPipeline})}}class A1 extends Fn{_parse(e){const t=this._def.innerType._parse(e),i=r=>(Jf(r)&&(r.value=Object.freeze(r.value)),r);return Bm(t)?t.then(r=>i(r)):i(t)}unwrap(){return this._def.innerType}}A1.create=(n,e)=>new A1({innerType:n,typeName:Xt.ZodReadonly,...xn(e)});var Xt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Xt||(Xt={}));const yc=jo.create,C5=Ic.create;Oc.create;const GC=zm.create;Zf.create;const N5=x1.create;Pu.create;const hh=qo.create,WC=Lr.create,KC=jm.create;Vm.create;Fc.create;const YC=Um.create,$C=w1.create,JC=Xf.create;qm.create;Mu.create;ed.create;const Tf={string:n=>jo.create({...n,coerce:!0}),number:n=>Ic.create({...n,coerce:!0}),boolean:n=>zm.create({...n,coerce:!0}),bigint:n=>Oc.create({...n,coerce:!0}),date:n=>Zf.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ZC,XC;function QC(){return{geminiUrl:ZC,vertexUrl:XC}}function e4(n,e,t){var i,r,s;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){const o=QC();return n.vertexai?(r=o.vertexUrl)!==null&&r!==void 0?r:e:(s=o.geminiUrl)!==null&&s!==void 0?s:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class od{}function $t(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(n,e,t){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const u=o.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const h=c[f];g(h,e.slice(s+1),t[f])}else for(const f of c)g(f,e.slice(s+1),t)}return}else if(o.endsWith("[0]")){const u=o.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];g(c[0],e.slice(s+1),t);return}(!n[o]||typeof n[o]!="object")&&(n[o]={}),n=n[o]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function m(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in n){const s=n[r];return Array.isArray(s)?s.map(o=>m(o,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var E5;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(E5||(E5={}));var k5;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(k5||(k5={}));var Vo;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Vo||(Vo={}));var M5;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(M5||(M5={}));var L5;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(L5||(L5={}));var P5;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(P5||(P5={}));var R5;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(R5||(R5={}));var D5;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(D5||(D5={}));var I5;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(I5||(I5={}));var O5;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(O5||(O5={}));var F5;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(F5||(F5={}));var B5;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(B5||(B5={}));var z5;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(z5||(z5={}));var Hm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Hm||(Hm={}));var j5;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(j5||(j5={}));var T1;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(T1||(T1={}));var V5;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(V5||(V5={}));var U5;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(U5||(U5={}));var q5;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(q5||(q5={}));var H5;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(H5||(H5={}));var G5;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(G5||(G5={}));var W5;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(W5||(W5={}));var K5;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(K5||(K5={}));var Y5;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Y5||(Y5={}));var $5;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})($5||($5={}));var J5;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(J5||(J5={}));var Z5;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Z5||(Z5={}));var X5;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(X5||(X5={}));var Q5;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Q5||(Q5={}));var ex;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(ex||(ex={}));var tx;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(tx||(tx={}));var nx;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(nx||(nx={}));var ix;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ix||(ix={}));var rx;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rx||(rx={}));var sx;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(sx||(sx={}));var ax;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ax||(ax={}));var ox;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(ox||(ox={}));var lx;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lx||(lx={}));var Of;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Of||(Of={}));class th{get text(){var e,t,i,r,s,o,u,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const v=[];for(const b of(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[x,N]of Object.entries(b))x!=="text"&&x!=="thought"&&(N!==null||N!==void 0)&&v.push(x);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;h=!0,f+=b.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,t,i,r,s,o,u,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const v of(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[b,x]of Object.entries(v))b!=="inlineData"&&(x!==null||x!==void 0)&&h.push(b);v.inlineData&&typeof v.inlineData.data=="string"&&(f+=atob(v.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,r,s,o,u,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,r,s,o,u,c,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,r,s,o,u,c,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class ux{}class cx{}class t4{}class n4{}class fx{}class dx{}class hx{}class i4{}class px{}class mx{}class gx{}class r4{}class C1{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class s4{}class a4{}class o4{get text(){var e,t,i;let r="",s=!1;const o=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&o.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,r+=u.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(o))u!=="inlineData"&&c!==null&&s.push(u);o.inlineData&&typeof o.inlineData.data=="string"&&(r+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class l4{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ti(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function h_(n,e){const t=Ti(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function p_(n,e){return Array.isArray(e)?e.map(t=>Gm(n,t)):[Gm(n,e)]}function Gm(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function u4(n,e){const t=Gm(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function c4(n,e){const t=Gm(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function yx(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function m_(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>yx(n,t)):[yx(n,e)]}function N1(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function vx(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function xx(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function _s(n,e){if(e==null)throw new Error("ContentUnion is required");return N1(e)?e:{role:"user",parts:m_(n,e)}}function g_(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=_s(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=_s(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>_s(n,t)):[_s(n,e)]}function Za(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(vx(e)||xx(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_s(n,e)]}const t=[],i=[],r=N1(e[0]);for(const s of e){const o=N1(s);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(s);else{if(vx(s)||xx(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(s)}}return r||t.push({role:"user",parts:m_(n,i)}),t}const f4=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),bx=JC(["string","number","integer","object","array","boolean","null"]),d4=KC([bx,hh(bx)]);function h4(n=!0){const e=$C(()=>{const t=WC({type:d4.optional(),format:yc().optional(),title:yc().optional(),description:yc().optional(),default:N5().optional(),items:e.optional(),minItems:Tf.string().optional(),maxItems:Tf.string().optional(),enum:hh(N5()).optional(),properties:YC(yc(),e).optional(),required:hh(yc()).optional(),minProperties:Tf.string().optional(),maxProperties:Tf.string().optional(),propertyOrdering:hh(yc()).optional(),minimum:C5().optional(),maximum:C5().optional(),minLength:Tf.string().optional(),maxLength:Tf.string().optional(),pattern:yc().optional(),anyOf:hh(e).optional(),additionalProperties:GC().optional()});return n?t.strict():t});return e}function p4(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Vo).includes(t[0].toUpperCase())?t[0].toUpperCase():Vo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Vo).includes(i.toUpperCase())?i.toUpperCase():Vo.TYPE_UNSPECIFIED})}}function Uf(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&p4(n.type,e);for(const[o,u]of Object.entries(n))if(u!=null)if(o=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Vo).includes(u.toUpperCase())?u.toUpperCase():Vo.TYPE_UNSPECIFIED}else if(t.includes(o))e[o]=Uf(u);else if(i.includes(o)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Uf(f))}e[o]=c}else if(r.includes(o)){const c={};for(const[f,h]of Object.entries(u))c[f]=Uf(h);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=u}return e}function Wm(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=h4().parse(e);return Uf(t)}else return Uf(e)}function y_(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function A2(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Uh(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Wm(n,t.parameters)),t.response&&(t.response=Wm(n,t.response));return e}function qh(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function m4(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function zu(n,e){if(typeof e!="string")throw new Error("name must be a string");return m4(n,e,"cachedContents")}function v_(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ju(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function g4(n){return n!=null&&typeof n=="object"&&"name"in n}function y4(n){return n!=null&&typeof n=="object"&&"video"in n}function v4(n){return n!=null&&typeof n=="object"&&"uri"in n}function x_(n,e){var t;let i;if(g4(e)&&(i=e.name),!(v4(e)&&(i=e.uri,i===void 0))&&!(y4(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const s=i.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${i}`);i=s[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function b_(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function w_(n,e){for(const t of["models","tunedModels","publisherModels"])if(x4(e,t))return e[t];return[]}function x4(n,e){return n!==null&&typeof n=="object"&&e in n}function b4(n,e={}){const t=n,i={name:t.name,description:t.description,parameters:Uf(ug(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function w4(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const o=b4(r,e);o.functionDeclarations&&t.push(...o.functionDeclarations)}return{functionDeclarations:t}}function _4(n){const e=[];for(const t of n)e.push(ug(t));return e}function S4(n){const e={};for(const[t,i]of Object.entries(n)){const r=i;e[t]=ug(r)}return e}function ug(n){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),r={};for(const[s,o]of Object.entries(n))if(e.has(s))r[s]=ug(o);else if(t.has(s))r[s]=_4(o);else if(i.has(s))r[s]=S4(o);else if(s==="type"){const u=o.toUpperCase();r[s]=Object.values(Vo).includes(u)?u:Vo.TYPE_UNSPECIFIED}else f4.has(s)&&(r[s]=o);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A4(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function T4(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function C4(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function N4(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],A4(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],T4(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],C4(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function wx(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>N4(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function E4(n,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const r=m(e,["description"]);r!=null&&g(t,["description"],r);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const o=m(e,["parameters"]);o!=null&&g(t,["parameters"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function k4(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function M4(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],k4(n,i)),t}function L4(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function P4(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],L4(n,i)),t}function R4(){return{}}function D4(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>E4(n,f))),g(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&g(t,["googleSearch"],M4(n,r));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],P4(n,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],R4());const u=m(e,["codeExecution"]);return u!=null&&g(t,["codeExecution"],u),t}function I4(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&g(t,["allowedFunctionNames"],r),t}function O4(n,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&g(t,["longitude"],r),t}function F4(n,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],O4(n,i));const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function B4(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],I4(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&g(t,["retrievalConfig"],F4(n,r)),t}function z4(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&g(t,["ttl"],r);const s=m(e,["expireTime"]);t!==void 0&&s!=null&&g(t,["expireTime"],s);const o=m(e,["displayName"]);t!==void 0&&o!=null&&g(t,["displayName"],o);const u=m(e,["contents"]);if(t!==void 0&&u!=null){let v=Za(n,u);Array.isArray(v)&&(v=v.map(b=>wx(n,b))),g(t,["contents"],v)}const c=m(e,["systemInstruction"]);t!==void 0&&c!=null&&g(t,["systemInstruction"],wx(n,_s(n,c)));const f=m(e,["tools"]);if(t!==void 0&&f!=null){let v=f;Array.isArray(v)&&(v=v.map(b=>D4(n,b))),g(t,["tools"],v)}const h=m(e,["toolConfig"]);if(t!==void 0&&h!=null&&g(t,["toolConfig"],B4(n,h)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function j4(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],h_(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],z4(n,r,t)),t}function V4(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],zu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function U4(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],zu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function q4(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&g(t,["ttl"],r);const s=m(e,["expireTime"]);return t!==void 0&&s!=null&&g(t,["expireTime"],s),i}function H4(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],zu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],q4(n,r,t)),t}function G4(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function W4(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],G4(n,i,t)),t}function K4(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function Y4(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["data"]);r!=null&&g(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function $4(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&g(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function J4(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],K4(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],Y4(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],$4(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function _x(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>J4(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function Z4(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const r=m(e,["name"]);r!=null&&g(t,["name"],r);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const o=m(e,["response"]);return o!=null&&g(t,["response"],o),t}function X4(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function Q4(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],X4(n,i)),t}function eN(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function tN(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],eN(n,i)),t}function nN(){return{}}function iN(n,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function rN(n,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],iN(n,i));const r=m(e,["authType"]);r!=null&&g(t,["authType"],r);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(t,["httpBasicAuthConfig"],o);const u=m(e,["oauthConfig"]);u!=null&&g(t,["oauthConfig"],u);const c=m(e,["oidcConfig"]);return c!=null&&g(t,["oidcConfig"],c),t}function sN(n,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],rN(n,i)),t}function aN(){return{}}function oN(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>Z4(n,b))),g(t,["functionDeclarations"],v)}const r=m(e,["retrieval"]);r!=null&&g(t,["retrieval"],r);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],Q4(n,s));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(t,["googleSearchRetrieval"],tN(n,o)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],nN());const c=m(e,["googleMaps"]);c!=null&&g(t,["googleMaps"],sN(n,c)),m(e,["urlContext"])!=null&&g(t,["urlContext"],aN());const h=m(e,["codeExecution"]);return h!=null&&g(t,["codeExecution"],h),t}function lN(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&g(t,["allowedFunctionNames"],r),t}function uN(n,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&g(t,["longitude"],r),t}function cN(n,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],uN(n,i));const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function fN(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],lN(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&g(t,["retrievalConfig"],cN(n,r)),t}function dN(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&g(t,["ttl"],r);const s=m(e,["expireTime"]);t!==void 0&&s!=null&&g(t,["expireTime"],s);const o=m(e,["displayName"]);t!==void 0&&o!=null&&g(t,["displayName"],o);const u=m(e,["contents"]);if(t!==void 0&&u!=null){let b=Za(n,u);Array.isArray(b)&&(b=b.map(x=>_x(n,x))),g(t,["contents"],b)}const c=m(e,["systemInstruction"]);t!==void 0&&c!=null&&g(t,["systemInstruction"],_x(n,_s(n,c)));const f=m(e,["tools"]);if(t!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(x=>oN(n,x))),g(t,["tools"],b)}const h=m(e,["toolConfig"]);t!==void 0&&h!=null&&g(t,["toolConfig"],fN(n,h));const v=m(e,["kmsKeyName"]);return t!==void 0&&v!=null&&g(t,["encryption_spec","kmsKeyName"],v),i}function hN(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],h_(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],dN(n,r,t)),t}function pN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],zu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function mN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],zu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function gN(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&g(t,["ttl"],r);const s=m(e,["expireTime"]);return t!==void 0&&s!=null&&g(t,["expireTime"],s),i}function yN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],zu(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],gN(n,r,t)),t}function vN(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function xN(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],vN(n,i,t)),t}function wm(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["model"]);s!=null&&g(t,["model"],s);const o=m(e,["createTime"]);o!=null&&g(t,["createTime"],o);const u=m(e,["updateTime"]);u!=null&&g(t,["updateTime"],u);const c=m(e,["expireTime"]);c!=null&&g(t,["expireTime"],c);const f=m(e,["usageMetadata"]);return f!=null&&g(t,["usageMetadata"],f),t}function bN(){return{}}function wN(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>wm(n,o))),g(t,["cachedContents"],s)}return t}function _m(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["model"]);s!=null&&g(t,["model"],s);const o=m(e,["createTime"]);o!=null&&g(t,["createTime"],o);const u=m(e,["updateTime"]);u!=null&&g(t,["updateTime"],u);const c=m(e,["expireTime"]);c!=null&&g(t,["expireTime"],c);const f=m(e,["usageMetadata"]);return f!=null&&g(t,["usageMetadata"],f),t}function _N(){return{}}function SN(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>_m(n,o))),g(t,["cachedContents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var td;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(td||(td={}));class cg{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};i?typeof i=="object"?o=Object.assign({},i):o=i:o={config:{}},o.config&&(o.config.pageToken=t.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(r=o.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AN extends od{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new cg(td.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=hN(this.apiClient,e);return u=$t("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>_m(this.apiClient,h))}else{const f=j4(this.apiClient,e);return u=$t("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>wm(this.apiClient,h))}}async get(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=pN(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>_m(this.apiClient,h))}else{const f=V4(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>wm(this.apiClient,h))}}async delete(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=mN(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=_N(),v=new mx;return Object.assign(v,h),v})}else{const f=U4(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(()=>{const h=bN(),v=new mx;return Object.assign(v,h),v})}}async update(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=yN(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>_m(this.apiClient,h))}else{const f=H4(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>wm(this.apiClient,h))}}async listInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=xN(this.apiClient,e);return u=$t("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const v=SN(this.apiClient,h),b=new gx;return Object.assign(b,v),b})}else{const f=W4(this.apiClient,e);return u=$t("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const v=wN(this.apiClient,h),b=new gx;return Object.assign(b,v),b})}}}function Sx(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mi(n){return this instanceof Mi?(this.v=n,this):new Mi(n)}function qf(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(x){return function(N){return Promise.resolve(N).then(x,v)}}function u(x,N){i[x]&&(r[x]=function(T){return new Promise(function(M,k){s.push([x,T,M,k])>1||c(x,T)})},N&&(r[x]=N(r[x])))}function c(x,N){try{f(i[x](N))}catch(T){b(s[0][3],T)}}function f(x){x.value instanceof Mi?Promise.resolve(x.value.v).then(h,v):b(s[0][2],x)}function h(x){c("next",x)}function v(x){c("throw",x)}function b(x,N){x(N),s.shift(),s.length&&c(s[0][0],s[0][1])}}function bh(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Sx=="function"?Sx(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(u,c){o=n[s](o),r(u,c,o.done,o.value)})}}function r(s,o,u,c){Promise.resolve(c).then(function(f){s({value:f,done:u})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TN(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:__(t)}function __(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function CN(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ax(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!__(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class NN{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new EN(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class EN{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),CN(s)}async sendMessage(e){var t;await this.sendPromise;const i=_s(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,o,u;const c=await r,f=(o=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,h=c.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let b=[];h!=null&&(b=(u=h.slice(v))!==null&&u!==void 0?u:[]);const x=f?[f]:[];this.recordHistory(i,x,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=_s(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?Ax(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return qf(this,arguments,function*(){var o,u,c,f;const h=[];try{for(var v=!0,b=bh(e),x;x=yield Mi(b.next()),o=x.done,!o;v=!0){f=x.value,v=!1;const N=f;if(TN(N)){const T=(r=(i=N.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;T!==void 0&&h.push(T)}yield yield Mi(N)}}catch(N){u={error:N}}finally{try{!v&&!o&&(c=b.return)&&(yield Mi(c.call(b)))}finally{if(u)throw u.error}}this.recordHistory(t,h)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Ax(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kN(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function MN(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],kN(n,i,t)),t}function LN(n,e){const t={},i=m(e,["details"]);i!=null&&g(t,["details"],i);const r=m(e,["message"]);r!=null&&g(t,["message"],r);const s=m(e,["code"]);return s!=null&&g(t,["code"],s),t}function PN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["mimeType"]);s!=null&&g(t,["mimeType"],s);const o=m(e,["sizeBytes"]);o!=null&&g(t,["sizeBytes"],o);const u=m(e,["createTime"]);u!=null&&g(t,["createTime"],u);const c=m(e,["expirationTime"]);c!=null&&g(t,["expirationTime"],c);const f=m(e,["updateTime"]);f!=null&&g(t,["updateTime"],f);const h=m(e,["sha256Hash"]);h!=null&&g(t,["sha256Hash"],h);const v=m(e,["uri"]);v!=null&&g(t,["uri"],v);const b=m(e,["downloadUri"]);b!=null&&g(t,["downloadUri"],b);const x=m(e,["state"]);x!=null&&g(t,["state"],x);const N=m(e,["source"]);N!=null&&g(t,["source"],N);const T=m(e,["videoMetadata"]);T!=null&&g(t,["videoMetadata"],T);const M=m(e,["error"]);return M!=null&&g(t,["error"],LN(n,M)),t}function RN(n,e){const t={},i=m(e,["file"]);i!=null&&g(t,["file"],PN(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function DN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","file"],x_(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function IN(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","file"],x_(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function ON(n,e){const t={},i=m(e,["details"]);i!=null&&g(t,["details"],i);const r=m(e,["message"]);r!=null&&g(t,["message"],r);const s=m(e,["code"]);return s!=null&&g(t,["code"],s),t}function E1(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["mimeType"]);s!=null&&g(t,["mimeType"],s);const o=m(e,["sizeBytes"]);o!=null&&g(t,["sizeBytes"],o);const u=m(e,["createTime"]);u!=null&&g(t,["createTime"],u);const c=m(e,["expirationTime"]);c!=null&&g(t,["expirationTime"],c);const f=m(e,["updateTime"]);f!=null&&g(t,["updateTime"],f);const h=m(e,["sha256Hash"]);h!=null&&g(t,["sha256Hash"],h);const v=m(e,["uri"]);v!=null&&g(t,["uri"],v);const b=m(e,["downloadUri"]);b!=null&&g(t,["downloadUri"],b);const x=m(e,["state"]);x!=null&&g(t,["state"],x);const N=m(e,["source"]);N!=null&&g(t,["source"],N);const T=m(e,["videoMetadata"]);T!=null&&g(t,["videoMetadata"],T);const M=m(e,["error"]);return M!=null&&g(t,["error"],ON(n,M)),t}function FN(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>E1(n,o))),g(t,["files"],s)}return t}function BN(){return{}}function zN(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jN extends od{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new cg(td.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>E1(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=MN(this.apiClient,e);return s=$t("files",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=FN(this.apiClient,c),h=new r4;return Object.assign(h,f),h})}}async createInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RN(this.apiClient,e);return s=$t("upload/v1beta/files",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(()=>{const c=BN(),f=new s4;return Object.assign(f,c),f})}}async get(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DN(this.apiClient,e);return s=$t("files/{file}",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>E1(this.apiClient,c))}}async delete(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IN(this.apiClient,e);return s=$t("files/{file}",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(()=>{const c=zN(),f=new a4;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VN(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function UN(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function S_(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],VN(n,i)),t}function qN(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],UN(n,i)),t}function HN(n,e){const t={},i=m(e,["speaker"]);i!=null&&g(t,["speaker"],i);const r=m(e,["voiceConfig"]);return r!=null&&g(t,["voiceConfig"],S_(n,r)),t}function GN(n,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>HN(n,s))),g(t,["speakerVoiceConfigs"],r)}return t}function WN(n,e){const t={},i=m(e,["voiceConfig"]);i!=null&&g(t,["voiceConfig"],S_(n,i));const r=m(e,["multiSpeakerVoiceConfig"]);r!=null&&g(t,["multiSpeakerVoiceConfig"],GN(n,r));const s=m(e,["languageCode"]);return s!=null&&g(t,["languageCode"],s),t}function KN(n,e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&g(t,["voiceConfig"],qN(n,i)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function YN(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function $N(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function JN(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function ZN(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["data"]);r!=null&&g(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function XN(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function QN(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&g(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function eE(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],YN(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],JN(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],XN(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function tE(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],$N(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],ZN(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],QN(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function nE(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>eE(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function iE(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>tE(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function rE(n,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const r=m(e,["description"]);r!=null&&g(t,["description"],r);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const o=m(e,["parameters"]);o!=null&&g(t,["parameters"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function sE(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const r=m(e,["name"]);r!=null&&g(t,["name"],r);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const o=m(e,["response"]);return o!=null&&g(t,["response"],o),t}function aE(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function oE(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function lE(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],aE(n,i)),t}function uE(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],oE(n,i)),t}function cE(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function fE(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function dE(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],cE(n,i)),t}function hE(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],fE(n,i)),t}function pE(){return{}}function mE(n,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function gE(n,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],mE(n,i));const r=m(e,["authType"]);r!=null&&g(t,["authType"],r);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(t,["httpBasicAuthConfig"],o);const u=m(e,["oauthConfig"]);u!=null&&g(t,["oauthConfig"],u);const c=m(e,["oidcConfig"]);return c!=null&&g(t,["oidcConfig"],c),t}function yE(n,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],gE(n,i)),t}function vE(){return{}}function xE(){return{}}function bE(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>rE(n,f))),g(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&g(t,["googleSearch"],lE(n,r));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],dE(n,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],vE());const u=m(e,["codeExecution"]);return u!=null&&g(t,["codeExecution"],u),t}function wE(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>sE(n,b))),g(t,["functionDeclarations"],v)}const r=m(e,["retrieval"]);r!=null&&g(t,["retrieval"],r);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],uE(n,s));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(t,["googleSearchRetrieval"],hE(n,o)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],pE());const c=m(e,["googleMaps"]);c!=null&&g(t,["googleMaps"],yE(n,c)),m(e,["urlContext"])!=null&&g(t,["urlContext"],xE());const h=m(e,["codeExecution"]);return h!=null&&g(t,["codeExecution"],h),t}function _E(n,e){const t={},i=m(e,["handle"]);if(i!=null&&g(t,["handle"],i),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function SE(n,e){const t={},i=m(e,["handle"]);i!=null&&g(t,["handle"],i);const r=m(e,["transparent"]);return r!=null&&g(t,["transparent"],r),t}function Tx(){return{}}function Cx(){return{}}function AE(n,e){const t={},i=m(e,["disabled"]);i!=null&&g(t,["disabled"],i);const r=m(e,["startOfSpeechSensitivity"]);r!=null&&g(t,["startOfSpeechSensitivity"],r);const s=m(e,["endOfSpeechSensitivity"]);s!=null&&g(t,["endOfSpeechSensitivity"],s);const o=m(e,["prefixPaddingMs"]);o!=null&&g(t,["prefixPaddingMs"],o);const u=m(e,["silenceDurationMs"]);return u!=null&&g(t,["silenceDurationMs"],u),t}function TE(n,e){const t={},i=m(e,["disabled"]);i!=null&&g(t,["disabled"],i);const r=m(e,["startOfSpeechSensitivity"]);r!=null&&g(t,["startOfSpeechSensitivity"],r);const s=m(e,["endOfSpeechSensitivity"]);s!=null&&g(t,["endOfSpeechSensitivity"],s);const o=m(e,["prefixPaddingMs"]);o!=null&&g(t,["prefixPaddingMs"],o);const u=m(e,["silenceDurationMs"]);return u!=null&&g(t,["silenceDurationMs"],u),t}function CE(n,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&g(t,["automaticActivityDetection"],AE(n,i));const r=m(e,["activityHandling"]);r!=null&&g(t,["activityHandling"],r);const s=m(e,["turnCoverage"]);return s!=null&&g(t,["turnCoverage"],s),t}function NE(n,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&g(t,["automaticActivityDetection"],TE(n,i));const r=m(e,["activityHandling"]);r!=null&&g(t,["activityHandling"],r);const s=m(e,["turnCoverage"]);return s!=null&&g(t,["turnCoverage"],s),t}function EE(n,e){const t={},i=m(e,["targetTokens"]);return i!=null&&g(t,["targetTokens"],i),t}function kE(n,e){const t={},i=m(e,["targetTokens"]);return i!=null&&g(t,["targetTokens"],i),t}function ME(n,e){const t={},i=m(e,["triggerTokens"]);i!=null&&g(t,["triggerTokens"],i);const r=m(e,["slidingWindow"]);return r!=null&&g(t,["slidingWindow"],EE(n,r)),t}function LE(n,e){const t={},i=m(e,["triggerTokens"]);i!=null&&g(t,["triggerTokens"],i);const r=m(e,["slidingWindow"]);return r!=null&&g(t,["slidingWindow"],kE(n,r)),t}function PE(n,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&g(t,["proactiveAudio"],i),t}function RE(n,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&g(t,["proactiveAudio"],i),t}function DE(n,e,t){const i={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&g(t,["setup","generationConfig"],r);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&g(t,["setup","generationConfig","responseModalities"],s);const o=m(e,["temperature"]);t!==void 0&&o!=null&&g(t,["setup","generationConfig","temperature"],o);const u=m(e,["topP"]);t!==void 0&&u!=null&&g(t,["setup","generationConfig","topP"],u);const c=m(e,["topK"]);t!==void 0&&c!=null&&g(t,["setup","generationConfig","topK"],c);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&g(t,["setup","generationConfig","maxOutputTokens"],f);const h=m(e,["mediaResolution"]);t!==void 0&&h!=null&&g(t,["setup","generationConfig","mediaResolution"],h);const v=m(e,["seed"]);t!==void 0&&v!=null&&g(t,["setup","generationConfig","seed"],v);const b=m(e,["speechConfig"]);t!==void 0&&b!=null&&g(t,["setup","generationConfig","speechConfig"],WN(n,A2(n,b)));const x=m(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&g(t,["setup","generationConfig","enableAffectiveDialog"],x);const N=m(e,["systemInstruction"]);t!==void 0&&N!=null&&g(t,["setup","systemInstruction"],nE(n,_s(n,N)));const T=m(e,["tools"]);if(t!==void 0&&T!=null){let W=qh(n,T);Array.isArray(W)&&(W=W.map(ee=>bE(n,Uh(n,ee)))),g(t,["setup","tools"],W)}const M=m(e,["sessionResumption"]);t!==void 0&&M!=null&&g(t,["setup","sessionResumption"],_E(n,M));const k=m(e,["inputAudioTranscription"]);t!==void 0&&k!=null&&g(t,["setup","inputAudioTranscription"],Tx());const P=m(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&g(t,["setup","outputAudioTranscription"],Tx());const I=m(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&g(t,["setup","realtimeInputConfig"],CE(n,I));const J=m(e,["contextWindowCompression"]);t!==void 0&&J!=null&&g(t,["setup","contextWindowCompression"],ME(n,J));const q=m(e,["proactivity"]);return t!==void 0&&q!=null&&g(t,["setup","proactivity"],PE(n,q)),i}function IE(n,e,t){const i={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&g(t,["setup","generationConfig"],r);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&g(t,["setup","generationConfig","responseModalities"],s);const o=m(e,["temperature"]);t!==void 0&&o!=null&&g(t,["setup","generationConfig","temperature"],o);const u=m(e,["topP"]);t!==void 0&&u!=null&&g(t,["setup","generationConfig","topP"],u);const c=m(e,["topK"]);t!==void 0&&c!=null&&g(t,["setup","generationConfig","topK"],c);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&g(t,["setup","generationConfig","maxOutputTokens"],f);const h=m(e,["mediaResolution"]);t!==void 0&&h!=null&&g(t,["setup","generationConfig","mediaResolution"],h);const v=m(e,["seed"]);t!==void 0&&v!=null&&g(t,["setup","generationConfig","seed"],v);const b=m(e,["speechConfig"]);t!==void 0&&b!=null&&g(t,["setup","generationConfig","speechConfig"],KN(n,A2(n,b)));const x=m(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&g(t,["setup","generationConfig","enableAffectiveDialog"],x);const N=m(e,["systemInstruction"]);t!==void 0&&N!=null&&g(t,["setup","systemInstruction"],iE(n,_s(n,N)));const T=m(e,["tools"]);if(t!==void 0&&T!=null){let W=qh(n,T);Array.isArray(W)&&(W=W.map(ee=>wE(n,Uh(n,ee)))),g(t,["setup","tools"],W)}const M=m(e,["sessionResumption"]);t!==void 0&&M!=null&&g(t,["setup","sessionResumption"],SE(n,M));const k=m(e,["inputAudioTranscription"]);t!==void 0&&k!=null&&g(t,["setup","inputAudioTranscription"],Cx());const P=m(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&g(t,["setup","outputAudioTranscription"],Cx());const I=m(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&g(t,["setup","realtimeInputConfig"],NE(n,I));const J=m(e,["contextWindowCompression"]);t!==void 0&&J!=null&&g(t,["setup","contextWindowCompression"],LE(n,J));const q=m(e,["proactivity"]);return t!==void 0&&q!=null&&g(t,["setup","proactivity"],RE(n,q)),i}function OE(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["setup","model"],Ti(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],DE(n,r,t)),t}function FE(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["setup","model"],Ti(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],IE(n,r,t)),t}function BE(){return{}}function zE(){return{}}function jE(){return{}}function VE(){return{}}function UE(n,e){const t={},i=m(e,["media"]);i!=null&&g(t,["mediaChunks"],p_(n,i));const r=m(e,["audio"]);r!=null&&g(t,["audio"],c4(n,r));const s=m(e,["audioStreamEnd"]);s!=null&&g(t,["audioStreamEnd"],s);const o=m(e,["video"]);o!=null&&g(t,["video"],u4(n,o));const u=m(e,["text"]);return u!=null&&g(t,["text"],u),m(e,["activityStart"])!=null&&g(t,["activityStart"],BE()),m(e,["activityEnd"])!=null&&g(t,["activityEnd"],jE()),t}function qE(n,e){const t={},i=m(e,["media"]);if(i!=null&&g(t,["mediaChunks"],p_(n,i)),m(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=m(e,["audioStreamEnd"]);if(r!=null&&g(t,["audioStreamEnd"],r),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(e,["activityStart"])!=null&&g(t,["activityStart"],zE()),m(e,["activityEnd"])!=null&&g(t,["activityEnd"],VE()),t}function A_(n,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const r=m(e,["weight"]);return r!=null&&g(t,["weight"],r),t}function HE(n,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>A_(n,s))),g(t,["weightedPrompts"],r)}return t}function T_(n,e){const t={},i=m(e,["temperature"]);i!=null&&g(t,["temperature"],i);const r=m(e,["topK"]);r!=null&&g(t,["topK"],r);const s=m(e,["seed"]);s!=null&&g(t,["seed"],s);const o=m(e,["guidance"]);o!=null&&g(t,["guidance"],o);const u=m(e,["bpm"]);u!=null&&g(t,["bpm"],u);const c=m(e,["density"]);c!=null&&g(t,["density"],c);const f=m(e,["brightness"]);f!=null&&g(t,["brightness"],f);const h=m(e,["scale"]);h!=null&&g(t,["scale"],h);const v=m(e,["muteBass"]);v!=null&&g(t,["muteBass"],v);const b=m(e,["muteDrums"]);b!=null&&g(t,["muteDrums"],b);const x=m(e,["onlyBassAndDrums"]);return x!=null&&g(t,["onlyBassAndDrums"],x),t}function GE(n,e){const t={},i=m(e,["musicGenerationConfig"]);return i!=null&&g(t,["musicGenerationConfig"],T_(n,i)),t}function C_(n,e){const t={},i=m(e,["model"]);return i!=null&&g(t,["model"],i),t}function N_(n,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>A_(n,s))),g(t,["weightedPrompts"],r)}return t}function k1(n,e){const t={},i=m(e,["setup"]);i!=null&&g(t,["setup"],C_(n,i));const r=m(e,["clientContent"]);r!=null&&g(t,["clientContent"],N_(n,r));const s=m(e,["musicGenerationConfig"]);s!=null&&g(t,["musicGenerationConfig"],T_(n,s));const o=m(e,["playbackControl"]);return o!=null&&g(t,["playbackControl"],o),t}function WE(){return{}}function KE(){return{}}function YE(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function $E(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function JE(n,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function ZE(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["data"]);r!=null&&g(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function XE(n,e){const t={},i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function QE(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&g(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function ek(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],YE(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],JE(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],XE(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function tk(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],$E(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],ZE(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],QE(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function nk(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>ek(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function ik(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>tk(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function Nx(n,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const r=m(e,["finished"]);return r!=null&&g(t,["finished"],r),t}function Ex(n,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const r=m(e,["finished"]);return r!=null&&g(t,["finished"],r),t}function rk(n,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&g(t,["retrievedUrl"],i);const r=m(e,["urlRetrievalStatus"]);return r!=null&&g(t,["urlRetrievalStatus"],r),t}function sk(n,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>rk(n,s))),g(t,["urlMetadata"],r)}return t}function ak(n,e){const t={},i=m(e,["modelTurn"]);i!=null&&g(t,["modelTurn"],nk(n,i));const r=m(e,["turnComplete"]);r!=null&&g(t,["turnComplete"],r);const s=m(e,["interrupted"]);s!=null&&g(t,["interrupted"],s);const o=m(e,["groundingMetadata"]);o!=null&&g(t,["groundingMetadata"],o);const u=m(e,["generationComplete"]);u!=null&&g(t,["generationComplete"],u);const c=m(e,["inputTranscription"]);c!=null&&g(t,["inputTranscription"],Nx(n,c));const f=m(e,["outputTranscription"]);f!=null&&g(t,["outputTranscription"],Nx(n,f));const h=m(e,["urlContextMetadata"]);return h!=null&&g(t,["urlContextMetadata"],sk(n,h)),t}function ok(n,e){const t={},i=m(e,["modelTurn"]);i!=null&&g(t,["modelTurn"],ik(n,i));const r=m(e,["turnComplete"]);r!=null&&g(t,["turnComplete"],r);const s=m(e,["interrupted"]);s!=null&&g(t,["interrupted"],s);const o=m(e,["groundingMetadata"]);o!=null&&g(t,["groundingMetadata"],o);const u=m(e,["generationComplete"]);u!=null&&g(t,["generationComplete"],u);const c=m(e,["inputTranscription"]);c!=null&&g(t,["inputTranscription"],Ex(n,c));const f=m(e,["outputTranscription"]);return f!=null&&g(t,["outputTranscription"],Ex(n,f)),t}function lk(n,e){const t={},i=m(e,["id"]);i!=null&&g(t,["id"],i);const r=m(e,["args"]);r!=null&&g(t,["args"],r);const s=m(e,["name"]);return s!=null&&g(t,["name"],s),t}function uk(n,e){const t={},i=m(e,["args"]);i!=null&&g(t,["args"],i);const r=m(e,["name"]);return r!=null&&g(t,["name"],r),t}function ck(n,e){const t={},i=m(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>lk(n,s))),g(t,["functionCalls"],r)}return t}function fk(n,e){const t={},i=m(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>uk(n,s))),g(t,["functionCalls"],r)}return t}function dk(n,e){const t={},i=m(e,["ids"]);return i!=null&&g(t,["ids"],i),t}function hk(n,e){const t={},i=m(e,["ids"]);return i!=null&&g(t,["ids"],i),t}function $p(n,e){const t={},i=m(e,["modality"]);i!=null&&g(t,["modality"],i);const r=m(e,["tokenCount"]);return r!=null&&g(t,["tokenCount"],r),t}function Jp(n,e){const t={},i=m(e,["modality"]);i!=null&&g(t,["modality"],i);const r=m(e,["tokenCount"]);return r!=null&&g(t,["tokenCount"],r),t}function pk(n,e){const t={},i=m(e,["promptTokenCount"]);i!=null&&g(t,["promptTokenCount"],i);const r=m(e,["cachedContentTokenCount"]);r!=null&&g(t,["cachedContentTokenCount"],r);const s=m(e,["responseTokenCount"]);s!=null&&g(t,["responseTokenCount"],s);const o=m(e,["toolUsePromptTokenCount"]);o!=null&&g(t,["toolUsePromptTokenCount"],o);const u=m(e,["thoughtsTokenCount"]);u!=null&&g(t,["thoughtsTokenCount"],u);const c=m(e,["totalTokenCount"]);c!=null&&g(t,["totalTokenCount"],c);const f=m(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(N=>$p(n,N))),g(t,["promptTokensDetails"],x)}const h=m(e,["cacheTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(N=>$p(n,N))),g(t,["cacheTokensDetails"],x)}const v=m(e,["responseTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(N=>$p(n,N))),g(t,["responseTokensDetails"],x)}const b=m(e,["toolUsePromptTokensDetails"]);if(b!=null){let x=b;Array.isArray(x)&&(x=x.map(N=>$p(n,N))),g(t,["toolUsePromptTokensDetails"],x)}return t}function mk(n,e){const t={},i=m(e,["promptTokenCount"]);i!=null&&g(t,["promptTokenCount"],i);const r=m(e,["cachedContentTokenCount"]);r!=null&&g(t,["cachedContentTokenCount"],r);const s=m(e,["candidatesTokenCount"]);s!=null&&g(t,["responseTokenCount"],s);const o=m(e,["toolUsePromptTokenCount"]);o!=null&&g(t,["toolUsePromptTokenCount"],o);const u=m(e,["thoughtsTokenCount"]);u!=null&&g(t,["thoughtsTokenCount"],u);const c=m(e,["totalTokenCount"]);c!=null&&g(t,["totalTokenCount"],c);const f=m(e,["promptTokensDetails"]);if(f!=null){let N=f;Array.isArray(N)&&(N=N.map(T=>Jp(n,T))),g(t,["promptTokensDetails"],N)}const h=m(e,["cacheTokensDetails"]);if(h!=null){let N=h;Array.isArray(N)&&(N=N.map(T=>Jp(n,T))),g(t,["cacheTokensDetails"],N)}const v=m(e,["candidatesTokensDetails"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(T=>Jp(n,T))),g(t,["responseTokensDetails"],N)}const b=m(e,["toolUsePromptTokensDetails"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(T=>Jp(n,T))),g(t,["toolUsePromptTokensDetails"],N)}const x=m(e,["trafficType"]);return x!=null&&g(t,["trafficType"],x),t}function gk(n,e){const t={},i=m(e,["timeLeft"]);return i!=null&&g(t,["timeLeft"],i),t}function yk(n,e){const t={},i=m(e,["timeLeft"]);return i!=null&&g(t,["timeLeft"],i),t}function vk(n,e){const t={},i=m(e,["newHandle"]);i!=null&&g(t,["newHandle"],i);const r=m(e,["resumable"]);r!=null&&g(t,["resumable"],r);const s=m(e,["lastConsumedClientMessageIndex"]);return s!=null&&g(t,["lastConsumedClientMessageIndex"],s),t}function xk(n,e){const t={},i=m(e,["newHandle"]);i!=null&&g(t,["newHandle"],i);const r=m(e,["resumable"]);r!=null&&g(t,["resumable"],r);const s=m(e,["lastConsumedClientMessageIndex"]);return s!=null&&g(t,["lastConsumedClientMessageIndex"],s),t}function bk(n,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],WE());const r=m(e,["serverContent"]);r!=null&&g(t,["serverContent"],ak(n,r));const s=m(e,["toolCall"]);s!=null&&g(t,["toolCall"],ck(n,s));const o=m(e,["toolCallCancellation"]);o!=null&&g(t,["toolCallCancellation"],dk(n,o));const u=m(e,["usageMetadata"]);u!=null&&g(t,["usageMetadata"],pk(n,u));const c=m(e,["goAway"]);c!=null&&g(t,["goAway"],gk(n,c));const f=m(e,["sessionResumptionUpdate"]);return f!=null&&g(t,["sessionResumptionUpdate"],vk(n,f)),t}function wk(n,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],KE());const r=m(e,["serverContent"]);r!=null&&g(t,["serverContent"],ok(n,r));const s=m(e,["toolCall"]);s!=null&&g(t,["toolCall"],fk(n,s));const o=m(e,["toolCallCancellation"]);o!=null&&g(t,["toolCallCancellation"],hk(n,o));const u=m(e,["usageMetadata"]);u!=null&&g(t,["usageMetadata"],mk(n,u));const c=m(e,["goAway"]);c!=null&&g(t,["goAway"],yk(n,c));const f=m(e,["sessionResumptionUpdate"]);return f!=null&&g(t,["sessionResumptionUpdate"],xk(n,f)),t}function _k(){return{}}function Sk(n,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const r=m(e,["weight"]);return r!=null&&g(t,["weight"],r),t}function Ak(n,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Sk(n,s))),g(t,["weightedPrompts"],r)}return t}function Tk(n,e){const t={},i=m(e,["temperature"]);i!=null&&g(t,["temperature"],i);const r=m(e,["topK"]);r!=null&&g(t,["topK"],r);const s=m(e,["seed"]);s!=null&&g(t,["seed"],s);const o=m(e,["guidance"]);o!=null&&g(t,["guidance"],o);const u=m(e,["bpm"]);u!=null&&g(t,["bpm"],u);const c=m(e,["density"]);c!=null&&g(t,["density"],c);const f=m(e,["brightness"]);f!=null&&g(t,["brightness"],f);const h=m(e,["scale"]);h!=null&&g(t,["scale"],h);const v=m(e,["muteBass"]);v!=null&&g(t,["muteBass"],v);const b=m(e,["muteDrums"]);b!=null&&g(t,["muteDrums"],b);const x=m(e,["onlyBassAndDrums"]);return x!=null&&g(t,["onlyBassAndDrums"],x),t}function Ck(n,e){const t={},i=m(e,["clientContent"]);i!=null&&g(t,["clientContent"],Ak(n,i));const r=m(e,["musicGenerationConfig"]);return r!=null&&g(t,["musicGenerationConfig"],Tk(n,r)),t}function Nk(n,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);r!=null&&g(t,["mimeType"],r);const s=m(e,["sourceMetadata"]);return s!=null&&g(t,["sourceMetadata"],Ck(n,s)),t}function Ek(n,e){const t={},i=m(e,["audioChunks"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Nk(n,s))),g(t,["audioChunks"],r)}return t}function kk(n,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const r=m(e,["filteredReason"]);return r!=null&&g(t,["filteredReason"],r),t}function Mk(n,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],_k());const r=m(e,["serverContent"]);r!=null&&g(t,["serverContent"],Ek(n,r));const s=m(e,["filteredPrompt"]);return s!=null&&g(t,["filteredPrompt"],kk(n,s)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lk(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function Pk(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function Rk(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function Dk(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],Lk(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],Pk(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],Rk(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function fg(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Dk(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function Ik(n,e){const t={},i=m(e,["anyOf"]);i!=null&&g(t,["anyOf"],i);const r=m(e,["default"]);r!=null&&g(t,["default"],r);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const o=m(e,["enum"]);o!=null&&g(t,["enum"],o);const u=m(e,["example"]);u!=null&&g(t,["example"],u);const c=m(e,["format"]);c!=null&&g(t,["format"],c);const f=m(e,["items"]);f!=null&&g(t,["items"],f);const h=m(e,["maxItems"]);h!=null&&g(t,["maxItems"],h);const v=m(e,["maxLength"]);v!=null&&g(t,["maxLength"],v);const b=m(e,["maxProperties"]);b!=null&&g(t,["maxProperties"],b);const x=m(e,["maximum"]);x!=null&&g(t,["maximum"],x);const N=m(e,["minItems"]);N!=null&&g(t,["minItems"],N);const T=m(e,["minLength"]);T!=null&&g(t,["minLength"],T);const M=m(e,["minProperties"]);M!=null&&g(t,["minProperties"],M);const k=m(e,["minimum"]);k!=null&&g(t,["minimum"],k);const P=m(e,["nullable"]);P!=null&&g(t,["nullable"],P);const I=m(e,["pattern"]);I!=null&&g(t,["pattern"],I);const J=m(e,["properties"]);J!=null&&g(t,["properties"],J);const q=m(e,["propertyOrdering"]);q!=null&&g(t,["propertyOrdering"],q);const W=m(e,["required"]);W!=null&&g(t,["required"],W);const ee=m(e,["title"]);ee!=null&&g(t,["title"],ee);const j=m(e,["type"]);return j!=null&&g(t,["type"],j),t}function Ok(n,e){const t={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(e,["category"]);i!=null&&g(t,["category"],i);const r=m(e,["threshold"]);return r!=null&&g(t,["threshold"],r),t}function Fk(n,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const r=m(e,["description"]);r!=null&&g(t,["description"],r);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const o=m(e,["parameters"]);o!=null&&g(t,["parameters"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function Bk(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function zk(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],Bk(n,i)),t}function jk(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function Vk(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],jk(n,i)),t}function Uk(){return{}}function qk(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Fk(n,f))),g(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&g(t,["googleSearch"],zk(n,r));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],Vk(n,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],Uk());const u=m(e,["codeExecution"]);return u!=null&&g(t,["codeExecution"],u),t}function Hk(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&g(t,["allowedFunctionNames"],r),t}function Gk(n,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&g(t,["longitude"],r),t}function Wk(n,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],Gk(n,i));const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function Kk(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],Hk(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&g(t,["retrievalConfig"],Wk(n,r)),t}function Yk(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function E_(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],Yk(n,i)),t}function $k(n,e){const t={},i=m(e,["speaker"]);i!=null&&g(t,["speaker"],i);const r=m(e,["voiceConfig"]);return r!=null&&g(t,["voiceConfig"],E_(n,r)),t}function Jk(n,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>$k(n,s))),g(t,["speakerVoiceConfigs"],r)}return t}function Zk(n,e){const t={},i=m(e,["voiceConfig"]);i!=null&&g(t,["voiceConfig"],E_(n,i));const r=m(e,["multiSpeakerVoiceConfig"]);r!=null&&g(t,["multiSpeakerVoiceConfig"],Jk(n,r));const s=m(e,["languageCode"]);return s!=null&&g(t,["languageCode"],s),t}function Xk(n,e){const t={},i=m(e,["includeThoughts"]);i!=null&&g(t,["includeThoughts"],i);const r=m(e,["thinkingBudget"]);return r!=null&&g(t,["thinkingBudget"],r),t}function Qk(n,e,t){const i={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&g(t,["systemInstruction"],fg(n,_s(n,r)));const s=m(e,["temperature"]);s!=null&&g(i,["temperature"],s);const o=m(e,["topP"]);o!=null&&g(i,["topP"],o);const u=m(e,["topK"]);u!=null&&g(i,["topK"],u);const c=m(e,["candidateCount"]);c!=null&&g(i,["candidateCount"],c);const f=m(e,["maxOutputTokens"]);f!=null&&g(i,["maxOutputTokens"],f);const h=m(e,["stopSequences"]);h!=null&&g(i,["stopSequences"],h);const v=m(e,["responseLogprobs"]);v!=null&&g(i,["responseLogprobs"],v);const b=m(e,["logprobs"]);b!=null&&g(i,["logprobs"],b);const x=m(e,["presencePenalty"]);x!=null&&g(i,["presencePenalty"],x);const N=m(e,["frequencyPenalty"]);N!=null&&g(i,["frequencyPenalty"],N);const T=m(e,["seed"]);T!=null&&g(i,["seed"],T);const M=m(e,["responseMimeType"]);M!=null&&g(i,["responseMimeType"],M);const k=m(e,["responseSchema"]);if(k!=null&&g(i,["responseSchema"],Ik(n,Wm(n,k))),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=m(e,["safetySettings"]);if(t!==void 0&&P!=null){let le=P;Array.isArray(le)&&(le=le.map(F=>Ok(n,F))),g(t,["safetySettings"],le)}const I=m(e,["tools"]);if(t!==void 0&&I!=null){let le=qh(n,I);Array.isArray(le)&&(le=le.map(F=>qk(n,Uh(n,F)))),g(t,["tools"],le)}const J=m(e,["toolConfig"]);if(t!==void 0&&J!=null&&g(t,["toolConfig"],Kk(n,J)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=m(e,["cachedContent"]);t!==void 0&&q!=null&&g(t,["cachedContent"],zu(n,q));const W=m(e,["responseModalities"]);W!=null&&g(i,["responseModalities"],W);const ee=m(e,["mediaResolution"]);ee!=null&&g(i,["mediaResolution"],ee);const j=m(e,["speechConfig"]);if(j!=null&&g(i,["speechConfig"],Zk(n,y_(n,j))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=m(e,["thinkingConfig"]);return ie!=null&&g(i,["thinkingConfig"],Xk(n,ie)),i}function kx(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["contents"]);if(r!=null){let o=Za(n,r);Array.isArray(o)&&(o=o.map(u=>fg(n,u))),g(t,["contents"],o)}const s=m(e,["config"]);return s!=null&&g(t,["generationConfig"],Qk(n,s,t)),t}function eM(n,e,t){const i={},r=m(e,["taskType"]);t!==void 0&&r!=null&&g(t,["requests[]","taskType"],r);const s=m(e,["title"]);t!==void 0&&s!=null&&g(t,["requests[]","title"],s);const o=m(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&g(t,["requests[]","outputDimensionality"],o),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function tM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["contents"]);r!=null&&g(t,["requests[]","content"],g_(n,r));const s=m(e,["config"]);s!=null&&g(t,["config"],eM(n,s,t));const o=m(e,["model"]);return o!==void 0&&g(t,["requests[]","model"],Ti(n,o)),t}function nM(n,e,t){const i={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(e,["numberOfImages"]);t!==void 0&&r!=null&&g(t,["parameters","sampleCount"],r);const s=m(e,["aspectRatio"]);t!==void 0&&s!=null&&g(t,["parameters","aspectRatio"],s);const o=m(e,["guidanceScale"]);if(t!==void 0&&o!=null&&g(t,["parameters","guidanceScale"],o),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=m(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&g(t,["parameters","safetySetting"],u);const c=m(e,["personGeneration"]);t!==void 0&&c!=null&&g(t,["parameters","personGeneration"],c);const f=m(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&g(t,["parameters","includeSafetyAttributes"],f);const h=m(e,["includeRaiReason"]);t!==void 0&&h!=null&&g(t,["parameters","includeRaiReason"],h);const v=m(e,["language"]);t!==void 0&&v!=null&&g(t,["parameters","language"],v);const b=m(e,["outputMimeType"]);t!==void 0&&b!=null&&g(t,["parameters","outputOptions","mimeType"],b);const x=m(e,["outputCompressionQuality"]);if(t!==void 0&&x!=null&&g(t,["parameters","outputOptions","compressionQuality"],x),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function iM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["prompt"]);r!=null&&g(t,["instances[0]","prompt"],r);const s=m(e,["config"]);return s!=null&&g(t,["config"],nM(n,s,t)),t}function rM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],Ti(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function sM(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const o=m(e,["filter"]);t!==void 0&&o!=null&&g(t,["_query","filter"],o);const u=m(e,["queryBase"]);return t!==void 0&&u!=null&&g(t,["_url","models_url"],b_(n,u)),i}function aM(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],sM(n,i,t)),t}function oM(n,e,t){const i={},r=m(e,["displayName"]);t!==void 0&&r!=null&&g(t,["displayName"],r);const s=m(e,["description"]);t!==void 0&&s!=null&&g(t,["description"],s);const o=m(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&g(t,["defaultCheckpointId"],o),i}function lM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],Ti(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],oM(n,r,t)),t}function uM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],Ti(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function cM(n,e){const t={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function fM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["contents"]);if(r!=null){let o=Za(n,r);Array.isArray(o)&&(o=o.map(u=>fg(n,u))),g(t,["contents"],o)}const s=m(e,["config"]);return s!=null&&g(t,["config"],cM(n,s)),t}function dM(n,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["imageBytes"]);i!=null&&g(t,["bytesBase64Encoded"],ju(n,i));const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function hM(n,e,t){const i={},r=m(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&g(t,["parameters","sampleCount"],r),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(e,["durationSeconds"]);if(t!==void 0&&s!=null&&g(t,["parameters","durationSeconds"],s),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(e,["aspectRatio"]);if(t!==void 0&&o!=null&&g(t,["parameters","aspectRatio"],o),m(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=m(e,["personGeneration"]);if(t!==void 0&&u!=null&&g(t,["parameters","personGeneration"],u),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=m(e,["negativePrompt"]);t!==void 0&&c!=null&&g(t,["parameters","negativePrompt"],c);const f=m(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&g(t,["parameters","enhancePrompt"],f),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function pM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["prompt"]);r!=null&&g(t,["instances[0]","prompt"],r);const s=m(e,["image"]);s!=null&&g(t,["instances[0]","image"],dM(n,s));const o=m(e,["config"]);return o!=null&&g(t,["config"],hM(n,o,t)),t}function mM(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function gM(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["data"]);r!=null&&g(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function yM(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&g(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function vM(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],mM(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],gM(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],yM(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function ld(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>vM(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function xM(n,e){const t={},i=m(e,["anyOf"]);i!=null&&g(t,["anyOf"],i);const r=m(e,["default"]);r!=null&&g(t,["default"],r);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const o=m(e,["enum"]);o!=null&&g(t,["enum"],o);const u=m(e,["example"]);u!=null&&g(t,["example"],u);const c=m(e,["format"]);c!=null&&g(t,["format"],c);const f=m(e,["items"]);f!=null&&g(t,["items"],f);const h=m(e,["maxItems"]);h!=null&&g(t,["maxItems"],h);const v=m(e,["maxLength"]);v!=null&&g(t,["maxLength"],v);const b=m(e,["maxProperties"]);b!=null&&g(t,["maxProperties"],b);const x=m(e,["maximum"]);x!=null&&g(t,["maximum"],x);const N=m(e,["minItems"]);N!=null&&g(t,["minItems"],N);const T=m(e,["minLength"]);T!=null&&g(t,["minLength"],T);const M=m(e,["minProperties"]);M!=null&&g(t,["minProperties"],M);const k=m(e,["minimum"]);k!=null&&g(t,["minimum"],k);const P=m(e,["nullable"]);P!=null&&g(t,["nullable"],P);const I=m(e,["pattern"]);I!=null&&g(t,["pattern"],I);const J=m(e,["properties"]);J!=null&&g(t,["properties"],J);const q=m(e,["propertyOrdering"]);q!=null&&g(t,["propertyOrdering"],q);const W=m(e,["required"]);W!=null&&g(t,["required"],W);const ee=m(e,["title"]);ee!=null&&g(t,["title"],ee);const j=m(e,["type"]);return j!=null&&g(t,["type"],j),t}function bM(n,e){const t={},i=m(e,["featureSelectionPreference"]);return i!=null&&g(t,["featureSelectionPreference"],i),t}function wM(n,e){const t={},i=m(e,["method"]);i!=null&&g(t,["method"],i);const r=m(e,["category"]);r!=null&&g(t,["category"],r);const s=m(e,["threshold"]);return s!=null&&g(t,["threshold"],s),t}function _M(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const r=m(e,["name"]);r!=null&&g(t,["name"],r);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const o=m(e,["response"]);return o!=null&&g(t,["response"],o),t}function SM(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function AM(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],SM(n,i)),t}function TM(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function CM(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],TM(n,i)),t}function NM(){return{}}function EM(n,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function kM(n,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],EM(n,i));const r=m(e,["authType"]);r!=null&&g(t,["authType"],r);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(t,["httpBasicAuthConfig"],o);const u=m(e,["oauthConfig"]);u!=null&&g(t,["oauthConfig"],u);const c=m(e,["oidcConfig"]);return c!=null&&g(t,["oidcConfig"],c),t}function MM(n,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],kM(n,i)),t}function LM(){return{}}function k_(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>_M(n,b))),g(t,["functionDeclarations"],v)}const r=m(e,["retrieval"]);r!=null&&g(t,["retrieval"],r);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],AM(n,s));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(t,["googleSearchRetrieval"],CM(n,o)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],NM());const c=m(e,["googleMaps"]);c!=null&&g(t,["googleMaps"],MM(n,c)),m(e,["urlContext"])!=null&&g(t,["urlContext"],LM());const h=m(e,["codeExecution"]);return h!=null&&g(t,["codeExecution"],h),t}function PM(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&g(t,["allowedFunctionNames"],r),t}function RM(n,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&g(t,["longitude"],r),t}function DM(n,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],RM(n,i));const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function IM(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],PM(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&g(t,["retrievalConfig"],DM(n,r)),t}function OM(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function FM(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],OM(n,i)),t}function BM(n,e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&g(t,["voiceConfig"],FM(n,i)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=m(e,["languageCode"]);return r!=null&&g(t,["languageCode"],r),t}function zM(n,e){const t={},i=m(e,["includeThoughts"]);i!=null&&g(t,["includeThoughts"],i);const r=m(e,["thinkingBudget"]);return r!=null&&g(t,["thinkingBudget"],r),t}function jM(n,e,t){const i={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&g(t,["systemInstruction"],ld(n,_s(n,r)));const s=m(e,["temperature"]);s!=null&&g(i,["temperature"],s);const o=m(e,["topP"]);o!=null&&g(i,["topP"],o);const u=m(e,["topK"]);u!=null&&g(i,["topK"],u);const c=m(e,["candidateCount"]);c!=null&&g(i,["candidateCount"],c);const f=m(e,["maxOutputTokens"]);f!=null&&g(i,["maxOutputTokens"],f);const h=m(e,["stopSequences"]);h!=null&&g(i,["stopSequences"],h);const v=m(e,["responseLogprobs"]);v!=null&&g(i,["responseLogprobs"],v);const b=m(e,["logprobs"]);b!=null&&g(i,["logprobs"],b);const x=m(e,["presencePenalty"]);x!=null&&g(i,["presencePenalty"],x);const N=m(e,["frequencyPenalty"]);N!=null&&g(i,["frequencyPenalty"],N);const T=m(e,["seed"]);T!=null&&g(i,["seed"],T);const M=m(e,["responseMimeType"]);M!=null&&g(i,["responseMimeType"],M);const k=m(e,["responseSchema"]);k!=null&&g(i,["responseSchema"],xM(n,Wm(n,k)));const P=m(e,["routingConfig"]);P!=null&&g(i,["routingConfig"],P);const I=m(e,["modelSelectionConfig"]);I!=null&&g(i,["modelConfig"],bM(n,I));const J=m(e,["safetySettings"]);if(t!==void 0&&J!=null){let ae=J;Array.isArray(ae)&&(ae=ae.map(ge=>wM(n,ge))),g(t,["safetySettings"],ae)}const q=m(e,["tools"]);if(t!==void 0&&q!=null){let ae=qh(n,q);Array.isArray(ae)&&(ae=ae.map(ge=>k_(n,Uh(n,ge)))),g(t,["tools"],ae)}const W=m(e,["toolConfig"]);t!==void 0&&W!=null&&g(t,["toolConfig"],IM(n,W));const ee=m(e,["labels"]);t!==void 0&&ee!=null&&g(t,["labels"],ee);const j=m(e,["cachedContent"]);t!==void 0&&j!=null&&g(t,["cachedContent"],zu(n,j));const ie=m(e,["responseModalities"]);ie!=null&&g(i,["responseModalities"],ie);const le=m(e,["mediaResolution"]);le!=null&&g(i,["mediaResolution"],le);const F=m(e,["speechConfig"]);F!=null&&g(i,["speechConfig"],BM(n,y_(n,F)));const G=m(e,["audioTimestamp"]);G!=null&&g(i,["audioTimestamp"],G);const fe=m(e,["thinkingConfig"]);return fe!=null&&g(i,["thinkingConfig"],zM(n,fe)),i}function Mx(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["contents"]);if(r!=null){let o=Za(n,r);Array.isArray(o)&&(o=o.map(u=>ld(n,u))),g(t,["contents"],o)}const s=m(e,["config"]);return s!=null&&g(t,["generationConfig"],jM(n,s,t)),t}function VM(n,e,t){const i={},r=m(e,["taskType"]);t!==void 0&&r!=null&&g(t,["instances[]","task_type"],r);const s=m(e,["title"]);t!==void 0&&s!=null&&g(t,["instances[]","title"],s);const o=m(e,["outputDimensionality"]);t!==void 0&&o!=null&&g(t,["parameters","outputDimensionality"],o);const u=m(e,["mimeType"]);t!==void 0&&u!=null&&g(t,["instances[]","mimeType"],u);const c=m(e,["autoTruncate"]);return t!==void 0&&c!=null&&g(t,["parameters","autoTruncate"],c),i}function UM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["contents"]);r!=null&&g(t,["instances[]","content"],g_(n,r));const s=m(e,["config"]);return s!=null&&g(t,["config"],VM(n,s,t)),t}function qM(n,e,t){const i={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&g(t,["parameters","storageUri"],r);const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&g(t,["parameters","negativePrompt"],s);const o=m(e,["numberOfImages"]);t!==void 0&&o!=null&&g(t,["parameters","sampleCount"],o);const u=m(e,["aspectRatio"]);t!==void 0&&u!=null&&g(t,["parameters","aspectRatio"],u);const c=m(e,["guidanceScale"]);t!==void 0&&c!=null&&g(t,["parameters","guidanceScale"],c);const f=m(e,["seed"]);t!==void 0&&f!=null&&g(t,["parameters","seed"],f);const h=m(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&g(t,["parameters","safetySetting"],h);const v=m(e,["personGeneration"]);t!==void 0&&v!=null&&g(t,["parameters","personGeneration"],v);const b=m(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&g(t,["parameters","includeSafetyAttributes"],b);const x=m(e,["includeRaiReason"]);t!==void 0&&x!=null&&g(t,["parameters","includeRaiReason"],x);const N=m(e,["language"]);t!==void 0&&N!=null&&g(t,["parameters","language"],N);const T=m(e,["outputMimeType"]);t!==void 0&&T!=null&&g(t,["parameters","outputOptions","mimeType"],T);const M=m(e,["outputCompressionQuality"]);t!==void 0&&M!=null&&g(t,["parameters","outputOptions","compressionQuality"],M);const k=m(e,["addWatermark"]);t!==void 0&&k!=null&&g(t,["parameters","addWatermark"],k);const P=m(e,["enhancePrompt"]);return t!==void 0&&P!=null&&g(t,["parameters","enhancePrompt"],P),i}function HM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["prompt"]);r!=null&&g(t,["instances[0]","prompt"],r);const s=m(e,["config"]);return s!=null&&g(t,["config"],qM(n,s,t)),t}function T2(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["gcsUri"],i);const r=m(e,["imageBytes"]);r!=null&&g(t,["bytesBase64Encoded"],ju(n,r));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function GM(n,e){const t={},i=m(e,["maskMode"]);i!=null&&g(t,["maskMode"],i);const r=m(e,["segmentationClasses"]);r!=null&&g(t,["maskClasses"],r);const s=m(e,["maskDilation"]);return s!=null&&g(t,["dilation"],s),t}function WM(n,e){const t={},i=m(e,["controlType"]);i!=null&&g(t,["controlType"],i);const r=m(e,["enableControlImageComputation"]);return r!=null&&g(t,["computeControl"],r),t}function KM(n,e){const t={},i=m(e,["styleDescription"]);return i!=null&&g(t,["styleDescription"],i),t}function YM(n,e){const t={},i=m(e,["subjectType"]);i!=null&&g(t,["subjectType"],i);const r=m(e,["subjectDescription"]);return r!=null&&g(t,["subjectDescription"],r),t}function $M(n,e){const t={},i=m(e,["referenceImage"]);i!=null&&g(t,["referenceImage"],T2(n,i));const r=m(e,["referenceId"]);r!=null&&g(t,["referenceId"],r);const s=m(e,["referenceType"]);s!=null&&g(t,["referenceType"],s);const o=m(e,["maskImageConfig"]);o!=null&&g(t,["maskImageConfig"],GM(n,o));const u=m(e,["controlImageConfig"]);u!=null&&g(t,["controlImageConfig"],WM(n,u));const c=m(e,["styleImageConfig"]);c!=null&&g(t,["styleImageConfig"],KM(n,c));const f=m(e,["subjectImageConfig"]);return f!=null&&g(t,["subjectImageConfig"],YM(n,f)),t}function JM(n,e,t){const i={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&g(t,["parameters","storageUri"],r);const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&g(t,["parameters","negativePrompt"],s);const o=m(e,["numberOfImages"]);t!==void 0&&o!=null&&g(t,["parameters","sampleCount"],o);const u=m(e,["aspectRatio"]);t!==void 0&&u!=null&&g(t,["parameters","aspectRatio"],u);const c=m(e,["guidanceScale"]);t!==void 0&&c!=null&&g(t,["parameters","guidanceScale"],c);const f=m(e,["seed"]);t!==void 0&&f!=null&&g(t,["parameters","seed"],f);const h=m(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&g(t,["parameters","safetySetting"],h);const v=m(e,["personGeneration"]);t!==void 0&&v!=null&&g(t,["parameters","personGeneration"],v);const b=m(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&g(t,["parameters","includeSafetyAttributes"],b);const x=m(e,["includeRaiReason"]);t!==void 0&&x!=null&&g(t,["parameters","includeRaiReason"],x);const N=m(e,["language"]);t!==void 0&&N!=null&&g(t,["parameters","language"],N);const T=m(e,["outputMimeType"]);t!==void 0&&T!=null&&g(t,["parameters","outputOptions","mimeType"],T);const M=m(e,["outputCompressionQuality"]);t!==void 0&&M!=null&&g(t,["parameters","outputOptions","compressionQuality"],M);const k=m(e,["editMode"]);t!==void 0&&k!=null&&g(t,["parameters","editMode"],k);const P=m(e,["baseSteps"]);return t!==void 0&&P!=null&&g(t,["parameters","editConfig","baseSteps"],P),i}function ZM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["prompt"]);r!=null&&g(t,["instances[0]","prompt"],r);const s=m(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>$M(n,c))),g(t,["instances[0]","referenceImages"],u)}const o=m(e,["config"]);return o!=null&&g(t,["config"],JM(n,o,t)),t}function XM(n,e,t){const i={},r=m(e,["includeRaiReason"]);t!==void 0&&r!=null&&g(t,["parameters","includeRaiReason"],r);const s=m(e,["outputMimeType"]);t!==void 0&&s!=null&&g(t,["parameters","outputOptions","mimeType"],s);const o=m(e,["outputCompressionQuality"]);t!==void 0&&o!=null&&g(t,["parameters","outputOptions","compressionQuality"],o);const u=m(e,["numberOfImages"]);t!==void 0&&u!=null&&g(t,["parameters","sampleCount"],u);const c=m(e,["mode"]);return t!==void 0&&c!=null&&g(t,["parameters","mode"],c),i}function QM(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["image"]);r!=null&&g(t,["instances[0]","image"],T2(n,r));const s=m(e,["upscaleFactor"]);s!=null&&g(t,["parameters","upscaleConfig","upscaleFactor"],s);const o=m(e,["config"]);return o!=null&&g(t,["config"],XM(n,o,t)),t}function e6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],Ti(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function t6(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const o=m(e,["filter"]);t!==void 0&&o!=null&&g(t,["_query","filter"],o);const u=m(e,["queryBase"]);return t!==void 0&&u!=null&&g(t,["_url","models_url"],b_(n,u)),i}function n6(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],t6(n,i,t)),t}function i6(n,e,t){const i={},r=m(e,["displayName"]);t!==void 0&&r!=null&&g(t,["displayName"],r);const s=m(e,["description"]);t!==void 0&&s!=null&&g(t,["description"],s);const o=m(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&g(t,["defaultCheckpointId"],o),i}function r6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],i6(n,r,t)),t}function s6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],Ti(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function a6(n,e,t){const i={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&g(t,["systemInstruction"],ld(n,_s(n,r)));const s=m(e,["tools"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>k_(n,c))),g(t,["tools"],u)}const o=m(e,["generationConfig"]);return t!==void 0&&o!=null&&g(t,["generationConfig"],o),i}function o6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["contents"]);if(r!=null){let o=Za(n,r);Array.isArray(o)&&(o=o.map(u=>ld(n,u))),g(t,["contents"],o)}const s=m(e,["config"]);return s!=null&&g(t,["config"],a6(n,s,t)),t}function l6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["contents"]);if(r!=null){let o=Za(n,r);Array.isArray(o)&&(o=o.map(u=>ld(n,u))),g(t,["contents"],o)}const s=m(e,["config"]);return s!=null&&g(t,["config"],s),t}function u6(n,e,t){const i={},r=m(e,["numberOfVideos"]);t!==void 0&&r!=null&&g(t,["parameters","sampleCount"],r);const s=m(e,["outputGcsUri"]);t!==void 0&&s!=null&&g(t,["parameters","storageUri"],s);const o=m(e,["fps"]);t!==void 0&&o!=null&&g(t,["parameters","fps"],o);const u=m(e,["durationSeconds"]);t!==void 0&&u!=null&&g(t,["parameters","durationSeconds"],u);const c=m(e,["seed"]);t!==void 0&&c!=null&&g(t,["parameters","seed"],c);const f=m(e,["aspectRatio"]);t!==void 0&&f!=null&&g(t,["parameters","aspectRatio"],f);const h=m(e,["resolution"]);t!==void 0&&h!=null&&g(t,["parameters","resolution"],h);const v=m(e,["personGeneration"]);t!==void 0&&v!=null&&g(t,["parameters","personGeneration"],v);const b=m(e,["pubsubTopic"]);t!==void 0&&b!=null&&g(t,["parameters","pubsubTopic"],b);const x=m(e,["negativePrompt"]);t!==void 0&&x!=null&&g(t,["parameters","negativePrompt"],x);const N=m(e,["enhancePrompt"]);t!==void 0&&N!=null&&g(t,["parameters","enhancePrompt"],N);const T=m(e,["generateAudio"]);return t!==void 0&&T!=null&&g(t,["parameters","generateAudio"],T),i}function c6(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],Ti(n,i));const r=m(e,["prompt"]);r!=null&&g(t,["instances[0]","prompt"],r);const s=m(e,["image"]);s!=null&&g(t,["instances[0]","image"],T2(n,s));const o=m(e,["config"]);return o!=null&&g(t,["config"],u6(n,o,t)),t}function f6(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function d6(n,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function h6(n,e){const t={},i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function p6(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],f6(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],d6(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],h6(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function m6(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>p6(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function g6(n,e){const t={},i=m(e,["citationSources"]);return i!=null&&g(t,["citations"],i),t}function y6(n,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&g(t,["retrievedUrl"],i);const r=m(e,["urlRetrievalStatus"]);return r!=null&&g(t,["urlRetrievalStatus"],r),t}function v6(n,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>y6(n,s))),g(t,["urlMetadata"],r)}return t}function x6(n,e){const t={},i=m(e,["content"]);i!=null&&g(t,["content"],m6(n,i));const r=m(e,["citationMetadata"]);r!=null&&g(t,["citationMetadata"],g6(n,r));const s=m(e,["tokenCount"]);s!=null&&g(t,["tokenCount"],s);const o=m(e,["finishReason"]);o!=null&&g(t,["finishReason"],o);const u=m(e,["urlContextMetadata"]);u!=null&&g(t,["urlContextMetadata"],v6(n,u));const c=m(e,["avgLogprobs"]);c!=null&&g(t,["avgLogprobs"],c);const f=m(e,["groundingMetadata"]);f!=null&&g(t,["groundingMetadata"],f);const h=m(e,["index"]);h!=null&&g(t,["index"],h);const v=m(e,["logprobsResult"]);v!=null&&g(t,["logprobsResult"],v);const b=m(e,["safetyRatings"]);return b!=null&&g(t,["safetyRatings"],b),t}function Lx(n,e){const t={},i=m(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>x6(n,c))),g(t,["candidates"],u)}const r=m(e,["modelVersion"]);r!=null&&g(t,["modelVersion"],r);const s=m(e,["promptFeedback"]);s!=null&&g(t,["promptFeedback"],s);const o=m(e,["usageMetadata"]);return o!=null&&g(t,["usageMetadata"],o),t}function b6(n,e){const t={},i=m(e,["values"]);return i!=null&&g(t,["values"],i),t}function w6(){return{}}function _6(n,e){const t={},i=m(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>b6(n,o))),g(t,["embeddings"],s)}return m(e,["metadata"])!=null&&g(t,["metadata"],w6()),t}function S6(n,e){const t={},i=m(e,["bytesBase64Encoded"]);i!=null&&g(t,["imageBytes"],ju(n,i));const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function M_(n,e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&g(t,["categories"],i);const r=m(e,["safetyAttributes","scores"]);r!=null&&g(t,["scores"],r);const s=m(e,["contentType"]);return s!=null&&g(t,["contentType"],s),t}function A6(n,e){const t={},i=m(e,["_self"]);i!=null&&g(t,["image"],S6(n,i));const r=m(e,["raiFilteredReason"]);r!=null&&g(t,["raiFilteredReason"],r);const s=m(e,["_self"]);return s!=null&&g(t,["safetyAttributes"],M_(n,s)),t}function T6(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>A6(n,o))),g(t,["generatedImages"],s)}const r=m(e,["positivePromptSafetyAttributes"]);return r!=null&&g(t,["positivePromptSafetyAttributes"],M_(n,r)),t}function C6(n,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const r=m(e,["createTime"]);r!=null&&g(t,["createTime"],r);const s=m(e,["updateTime"]);return s!=null&&g(t,["updateTime"],s),t}function M1(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const o=m(e,["version"]);o!=null&&g(t,["version"],o);const u=m(e,["_self"]);u!=null&&g(t,["tunedModelInfo"],C6(n,u));const c=m(e,["inputTokenLimit"]);c!=null&&g(t,["inputTokenLimit"],c);const f=m(e,["outputTokenLimit"]);f!=null&&g(t,["outputTokenLimit"],f);const h=m(e,["supportedGenerationMethods"]);return h!=null&&g(t,["supportedActions"],h),t}function N6(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["_self"]);if(r!=null){let s=w_(n,r);Array.isArray(s)&&(s=s.map(o=>M1(n,o))),g(t,["models"],s)}return t}function E6(){return{}}function k6(n,e){const t={},i=m(e,["totalTokens"]);i!=null&&g(t,["totalTokens"],i);const r=m(e,["cachedContentTokenCount"]);return r!=null&&g(t,["cachedContentTokenCount"],r),t}function M6(n,e){const t={},i=m(e,["video","uri"]);i!=null&&g(t,["uri"],i);const r=m(e,["video","encodedVideo"]);r!=null&&g(t,["videoBytes"],ju(n,r));const s=m(e,["encoding"]);return s!=null&&g(t,["mimeType"],s),t}function L6(n,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],M6(n,i)),t}function P6(n,e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>L6(n,u))),g(t,["generatedVideos"],o)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&g(t,["raiMediaFilteredCount"],r);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function R6(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["metadata"]);r!=null&&g(t,["metadata"],r);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const o=m(e,["error"]);o!=null&&g(t,["error"],o);const u=m(e,["response","generateVideoResponse"]);return u!=null&&g(t,["response"],P6(n,u)),t}function D6(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function I6(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["data"]);r!=null&&g(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function O6(n,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&g(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function F6(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],D6(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],I6(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],O6(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function B6(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>F6(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function z6(n,e){const t={},i=m(e,["citations"]);return i!=null&&g(t,["citations"],i),t}function j6(n,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&g(t,["retrievedUrl"],i);const r=m(e,["urlRetrievalStatus"]);return r!=null&&g(t,["urlRetrievalStatus"],r),t}function V6(n,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>j6(n,s))),g(t,["urlMetadata"],r)}return t}function U6(n,e){const t={},i=m(e,["content"]);i!=null&&g(t,["content"],B6(n,i));const r=m(e,["citationMetadata"]);r!=null&&g(t,["citationMetadata"],z6(n,r));const s=m(e,["finishMessage"]);s!=null&&g(t,["finishMessage"],s);const o=m(e,["finishReason"]);o!=null&&g(t,["finishReason"],o);const u=m(e,["urlContextMetadata"]);u!=null&&g(t,["urlContextMetadata"],V6(n,u));const c=m(e,["avgLogprobs"]);c!=null&&g(t,["avgLogprobs"],c);const f=m(e,["groundingMetadata"]);f!=null&&g(t,["groundingMetadata"],f);const h=m(e,["index"]);h!=null&&g(t,["index"],h);const v=m(e,["logprobsResult"]);v!=null&&g(t,["logprobsResult"],v);const b=m(e,["safetyRatings"]);return b!=null&&g(t,["safetyRatings"],b),t}function Px(n,e){const t={},i=m(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>U6(n,h))),g(t,["candidates"],f)}const r=m(e,["createTime"]);r!=null&&g(t,["createTime"],r);const s=m(e,["responseId"]);s!=null&&g(t,["responseId"],s);const o=m(e,["modelVersion"]);o!=null&&g(t,["modelVersion"],o);const u=m(e,["promptFeedback"]);u!=null&&g(t,["promptFeedback"],u);const c=m(e,["usageMetadata"]);return c!=null&&g(t,["usageMetadata"],c),t}function q6(n,e){const t={},i=m(e,["truncated"]);i!=null&&g(t,["truncated"],i);const r=m(e,["token_count"]);return r!=null&&g(t,["tokenCount"],r),t}function H6(n,e){const t={},i=m(e,["values"]);i!=null&&g(t,["values"],i);const r=m(e,["statistics"]);return r!=null&&g(t,["statistics"],q6(n,r)),t}function G6(n,e){const t={},i=m(e,["billableCharacterCount"]);return i!=null&&g(t,["billableCharacterCount"],i),t}function W6(n,e){const t={},i=m(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>H6(n,o))),g(t,["embeddings"],s)}const r=m(e,["metadata"]);return r!=null&&g(t,["metadata"],G6(n,r)),t}function K6(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["gcsUri"],i);const r=m(e,["bytesBase64Encoded"]);r!=null&&g(t,["imageBytes"],ju(n,r));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function L_(n,e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&g(t,["categories"],i);const r=m(e,["safetyAttributes","scores"]);r!=null&&g(t,["scores"],r);const s=m(e,["contentType"]);return s!=null&&g(t,["contentType"],s),t}function C2(n,e){const t={},i=m(e,["_self"]);i!=null&&g(t,["image"],K6(n,i));const r=m(e,["raiFilteredReason"]);r!=null&&g(t,["raiFilteredReason"],r);const s=m(e,["_self"]);s!=null&&g(t,["safetyAttributes"],L_(n,s));const o=m(e,["prompt"]);return o!=null&&g(t,["enhancedPrompt"],o),t}function Y6(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>C2(n,o))),g(t,["generatedImages"],s)}const r=m(e,["positivePromptSafetyAttributes"]);return r!=null&&g(t,["positivePromptSafetyAttributes"],L_(n,r)),t}function $6(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>C2(n,s))),g(t,["generatedImages"],r)}return t}function J6(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>C2(n,s))),g(t,["generatedImages"],r)}return t}function Z6(n,e){const t={},i=m(e,["endpoint"]);i!=null&&g(t,["name"],i);const r=m(e,["deployedModelId"]);return r!=null&&g(t,["deployedModelId"],r),t}function X6(n,e){const t={},i=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&g(t,["baseModel"],i);const r=m(e,["createTime"]);r!=null&&g(t,["createTime"],r);const s=m(e,["updateTime"]);return s!=null&&g(t,["updateTime"],s),t}function Q6(n,e){const t={},i=m(e,["checkpointId"]);i!=null&&g(t,["checkpointId"],i);const r=m(e,["epoch"]);r!=null&&g(t,["epoch"],r);const s=m(e,["step"]);return s!=null&&g(t,["step"],s),t}function L1(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["displayName"]);r!=null&&g(t,["displayName"],r);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const o=m(e,["versionId"]);o!=null&&g(t,["version"],o);const u=m(e,["deployedModels"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(x=>Z6(n,x))),g(t,["endpoints"],b)}const c=m(e,["labels"]);c!=null&&g(t,["labels"],c);const f=m(e,["_self"]);f!=null&&g(t,["tunedModelInfo"],X6(n,f));const h=m(e,["defaultCheckpointId"]);h!=null&&g(t,["defaultCheckpointId"],h);const v=m(e,["checkpoints"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(x=>Q6(n,x))),g(t,["checkpoints"],b)}return t}function eL(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["_self"]);if(r!=null){let s=w_(n,r);Array.isArray(s)&&(s=s.map(o=>L1(n,o))),g(t,["models"],s)}return t}function tL(){return{}}function nL(n,e){const t={},i=m(e,["totalTokens"]);return i!=null&&g(t,["totalTokens"],i),t}function iL(n,e){const t={},i=m(e,["tokensInfo"]);return i!=null&&g(t,["tokensInfo"],i),t}function rL(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["uri"],i);const r=m(e,["bytesBase64Encoded"]);r!=null&&g(t,["videoBytes"],ju(n,r));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function sL(n,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],rL(n,i)),t}function aL(n,e){const t={},i=m(e,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>sL(n,u))),g(t,["generatedVideos"],o)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&g(t,["raiMediaFilteredCount"],r);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function oL(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["metadata"]);r!=null&&g(t,["metadata"],r);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const o=m(e,["error"]);o!=null&&g(t,["error"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],aL(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lL="Content-Type",uL="X-Server-Timeout",cL="User-Agent",P1="x-goog-api-client",fL="1.4.0",dL=`google-genai-sdk/${fL}`,hL="v1beta1",pL="v1beta",Rx=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class P_ extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class R1 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class mL{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:hL,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:pL,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[o,u]of Object.entries(e.queryParams))r.searchParams.append(o,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const r=new AbortController,s=r.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>r.abort(),t.timeout),i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=s}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await Dx(r),new C1(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await Dx(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return qf(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let o="";for(;;){const{done:u,value:c}=yield Mi(r.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c);try{const v=JSON.parse(f);if("error"in v){const b=JSON.parse(JSON.stringify(v.error)),x=b.status,N=b.code,T=`got status: ${x}. ${JSON.stringify(v)}`;if(N>=400&&N<500)throw new P_(T);if(N>=500&&N<600)throw new R1(T)}}catch(v){const b=v;if(b.name==="ClientError"||b.name==="ServerError")throw v}o+=f;let h=o.match(Rx);for(;h;){const v=h[1];try{const b=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Mi(new C1(b)),o=o.slice(h[0].length),h=o.match(Rx)}catch(b){throw new Error(`exception parsing stream chunk ${v}. ${b}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=dL+" "+this.clientOptions.userAgentExtra;return e[cL]=t,e[P1]=t,e[lL]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))t.append(i,r);e.timeout&&e.timeout>0&&t.append(uL,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);r.sizeBytes=String(o.size);const u=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c=await this.fetchUploadUrl(r,t);return s.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let r={};t!=null&&t.httpOptions?r=t.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},o=await this.request({path:$t("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:r});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=o==null?void 0:o.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Dx(n){var e;if(n===void 0)throw new R1("response is undefined");if(!n.ok){const t=n.status,i=n.statusText;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=`got status: ${t} ${i}. ${JSON.stringify(r)}`;throw t>=400&&t<500?new P_(s):t>=500&&t<600?new R1(s):new Error(s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gL="mcp_used/unknown";function R_(n){for(const e of n)if(N2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function D_(n){var e;const t=(e=n[P1])!==null&&e!==void 0?e:"";n[P1]=(t+` ${gL}`).trimStart()}function yL(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>N2(r)))!==null&&i!==void 0?i:!1}function vL(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>!N2(r)))!==null&&i!==void 0?i:!1}function N2(n){return n!==null&&typeof n=="object"&&n instanceof E2}function xL(n,e=100){return qf(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield Mi(n.listTools({cursor:i}));for(const o of s.tools)yield yield Mi(o),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class E2{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new E2(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},o=[];for(const h of this.mcpClients)try{for(var u=!0,c=(t=void 0,bh(xL(h))),f;f=await c.next(),e=f.done,!e;u=!0){r=f.value,u=!1;const v=r;o.push(v);const b=v.name;if(s[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);s[b]=h}}catch(v){t={error:v}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(t)throw t.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),w4(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=await this.functionNameToMcpClient[i.name].callTool({name:i.name,arguments:i.args});t.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bL(n,e,t){const i=new l4;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data);const s=Mk(n,r);Object.assign(i,s),e(i)}class wL{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=AL(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(I=>{f=I}),v=e.callbacks,b=function(){f({})},x=this.apiClient,N={onopen:b,onmessage:I=>{bL(x,v.onmessage,I)},onerror:(t=v==null?void 0:v.onerror)!==null&&t!==void 0?t:function(I){},onclose:(i=v==null?void 0:v.onclose)!==null&&i!==void 0?i:function(I){}},T=this.webSocketFactory.create(c,SL(o),N);T.connect(),await h;const M=Ti(this.apiClient,e.model),k=C_(this.apiClient,{model:M}),P=k1(this.apiClient,{setup:k});return T.send(JSON.stringify(P)),new _L(T,this.apiClient)}}class _L{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=HE(this.apiClient,e),i=N_(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=GE(this.apiClient,e),i=k1(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=k1(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Of.PLAY)}pause(){this.sendPlaybackControl(Of.PAUSE)}stop(){this.sendPlaybackControl(Of.STOP)}resetContext(){this.sendPlaybackControl(Of.RESET_CONTEXT)}close(){this.conn.close()}}function SL(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function AL(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TL="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function CL(n,e,t){const i=new o4;let r;if(t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),n.isVertexAI()){const s=wk(n,r);Object.assign(i,s)}else{const s=bk(n,r);Object.assign(i,s)}e(i)}class NL{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new wL(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,o,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const v=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&R_(e.config.tools)&&D_(v);const b=LL(v);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b);else{const ie=this.apiClient.getApiKey();let le="BidiGenerateContent",F="key";ie!=null&&ie.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),le="BidiGenerateContentConstrained",F="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${le}?${F}=${ie}`}let x=()=>{};const N=new Promise(ie=>{x=ie}),T=e.callbacks,M=function(){var ie;(ie=T==null?void 0:T.onopen)===null||ie===void 0||ie.call(T),x({})},k=this.apiClient,P={onopen:M,onmessage:ie=>{CL(k,T.onmessage,ie)},onerror:(t=T==null?void 0:T.onerror)!==null&&t!==void 0?t:function(ie){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(ie){}},I=this.webSocketFactory.create(h,ML(b),P);I.connect(),await N;let J=Ti(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const ie=this.apiClient.getProject(),le=this.apiClient.getLocation();J=`projects/${ie}/locations/${le}/`+J}let q={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Hm.AUDIO]}:e.config.responseModalities=[Hm.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(u=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[],ee=[];for(const ie of W)if(this.isCallableTool(ie)){const le=ie;ee.push(await le.tool())}else ee.push(ie);ee.length>0&&(e.config.tools=ee);const j={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=FE(this.apiClient,j):q=OE(this.apiClient,j),delete q.config,I.send(JSON.stringify(q)),new kL(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const EL={turnComplete:!0};class kL{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Za(e,t.turns),e.isVertexAI()?i=i.map(r=>ld(e,r)):i=i.map(r=>fg(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(TL)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},EL),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:qE(this.apiClient,e)}:t={realtimeInput:UE(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function ML(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function LL(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ix=10;function Ox(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const o of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Sm(o)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Sm(n){return"callTool"in n&&typeof n.callTool=="function"}function Fx(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PL extends od{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,o,u;const c=await this.processParamsForMcpUsage(t);if(!yL(t)||Ox(t.config))return await this.generateContentInternal(c);if(vL(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const v=Za(this.apiClient,c.contents),b=(s=(r=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:Ix;let x=0;for(;x<b&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const N=f.candidates[0].content,T=[];for(const M of(u=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[])if(Sm(M)){const P=await M.callTool(f.functionCalls);T.push(...P)}x++,h={role:"user",parts:T},c.contents=Za(this.apiClient,c.contents),c.contents.push(N),c.contents.push(h),Fx(c.config)&&(v.push(N),v.push(h))}return Fx(c.config)&&(f.automaticFunctionCallingHistory=v),f},this.generateContentStream=async t=>{if(Ox(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const o=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:o.push(c);let u;return s?u={generatedImages:o,positivePromptSafetyAttributes:s}:u={generatedImages:o},u}),this.list=async t=>{var i;const o={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((i=o.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new cg(td.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(o),o)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const o=await Promise.all(s.map(async c=>Sm(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(u.config.tools=o,e.config&&e.config.tools&&R_(e.config.tools)){const c=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),D_(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const o of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Sm(o)){const u=o,c=await u.tool();for(const f of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Ix;let o=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,h,v){var b,x;return qf(this,arguments,function*(){for(var N,T,M,k;u<s;){o&&(u++,o=!1);const q=yield Mi(f.processParamsForMcpUsage(v)),W=yield Mi(f.generateContentStreamInternal(q)),ee=[],j=[];try{for(var P=!0,I=(T=void 0,bh(W)),J;J=yield Mi(I.next()),N=J.done,!N;P=!0){k=J.value,P=!1;const ie=k;if(yield yield Mi(ie),ie.candidates&&(!((b=ie.candidates[0])===null||b===void 0)&&b.content)){j.push(ie.candidates[0].content);for(const le of(x=ie.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(u<s&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(le.functionCall.name)){const F=yield Mi(h.get(le.functionCall.name).callTool([le.functionCall]));ee.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(ie){T={error:ie}}finally{try{!P&&!N&&(M=I.return)&&(yield Mi(M.call(I)))}finally{if(T)throw T.error}}if(ee.length>0){o=!0;const ie=new th;ie.candidates=[{content:{role:"user",parts:ee}}],yield yield Mi(ie);const le=[];le.push(...j),le.push({role:"user",parts:ee});const F=Za(f.apiClient,v.contents).concat(le);v.contents=F}else break}})}(this,c,e)}async generateContentInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=Mx(this.apiClient,e);return u=$t("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const v=Px(this.apiClient,h),b=new th;return Object.assign(b,v),b})}else{const f=kx(this.apiClient,e);return u=$t("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const v=Lx(this.apiClient,h),b=new th;return Object.assign(b,v),b})}}async generateContentStreamInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=Mx(this.apiClient,e);u=$t("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return o=h.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(v){return qf(this,arguments,function*(){var b,x,N,T;try{for(var M=!0,k=bh(v),P;P=yield Mi(k.next()),b=P.done,!b;M=!0){T=P.value,M=!1;const J=Px(h,yield Mi(T.json())),q=new th;Object.assign(q,J),yield yield Mi(q)}}catch(I){x={error:I}}finally{try{!M&&!b&&(N=k.return)&&(yield Mi(N.call(k)))}finally{if(x)throw x.error}}})})}else{const f=kx(this.apiClient,e);u=$t("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return o=h.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(v){return qf(this,arguments,function*(){var b,x,N,T;try{for(var M=!0,k=bh(v),P;P=yield Mi(k.next()),b=P.done,!b;M=!0){T=P.value,M=!1;const J=Lx(h,yield Mi(T.json())),q=new th;Object.assign(q,J),yield yield Mi(q)}}catch(I){x={error:I}}finally{try{!M&&!b&&(N=k.return)&&(yield Mi(N.call(k)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=UM(this.apiClient,e);return u=$t("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const v=W6(this.apiClient,h),b=new ux;return Object.assign(b,v),b})}else{const f=tM(this.apiClient,e);return u=$t("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const v=_6(this.apiClient,h),b=new ux;return Object.assign(b,v),b})}}async generateImagesInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=HM(this.apiClient,e);return u=$t("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const v=Y6(this.apiClient,h),b=new cx;return Object.assign(b,v),b})}else{const f=iM(this.apiClient,e);return u=$t("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const v=T6(this.apiClient,h),b=new cx;return Object.assign(b,v),b})}}async editImageInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=ZM(this.apiClient,e);return s=$t("{model}:predict",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=$6(this.apiClient,c),h=new t4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=QM(this.apiClient,e);return s=$t("{model}:predict",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=J6(this.apiClient,c),h=new n4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=e6(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>L1(this.apiClient,h))}else{const f=rM(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>M1(this.apiClient,h))}}async listInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=n6(this.apiClient,e);return u=$t("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const v=eL(this.apiClient,h),b=new fx;return Object.assign(b,v),b})}else{const f=aM(this.apiClient,e);return u=$t("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const v=N6(this.apiClient,h),b=new fx;return Object.assign(b,v),b})}}async update(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=r6(this.apiClient,e);return u=$t("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>L1(this.apiClient,h))}else{const f=lM(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>M1(this.apiClient,h))}}async delete(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=s6(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=tL(),v=new dx;return Object.assign(v,h),v})}else{const f=uM(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(()=>{const h=E6(),v=new dx;return Object.assign(v,h),v})}}async countTokens(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=o6(this.apiClient,e);return u=$t("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const v=nL(this.apiClient,h),b=new hx;return Object.assign(b,v),b})}else{const f=fM(this.apiClient,e);return u=$t("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const v=k6(this.apiClient,h),b=new hx;return Object.assign(b,v),b})}}async computeTokens(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=l6(this.apiClient,e);return s=$t("{model}:computeTokens",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=iL(this.apiClient,c),h=new i4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=c6(this.apiClient,e);return u=$t("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>oL(this.apiClient,h))}else{const f=pM(this.apiClient,e);return u=$t("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>R6(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RL(n,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["_url","operationName"],i);const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function DL(n,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["_url","operationName"],i);const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function IL(n,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["operationName"],i);const r=m(e,["resourceName"]);r!=null&&g(t,["_url","resourceName"],r);const s=m(e,["config"]);return s!=null&&g(t,["config"],s),t}function OL(n,e){const t={},i=m(e,["video","uri"]);i!=null&&g(t,["uri"],i);const r=m(e,["video","encodedVideo"]);r!=null&&g(t,["videoBytes"],ju(n,r));const s=m(e,["encoding"]);return s!=null&&g(t,["mimeType"],s),t}function FL(n,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],OL(n,i)),t}function BL(n,e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>FL(n,u))),g(t,["generatedVideos"],o)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&g(t,["raiMediaFilteredCount"],r);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function zL(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["metadata"]);r!=null&&g(t,["metadata"],r);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const o=m(e,["error"]);o!=null&&g(t,["error"],o);const u=m(e,["response","generateVideoResponse"]);return u!=null&&g(t,["response"],BL(n,u)),t}function jL(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["uri"],i);const r=m(e,["bytesBase64Encoded"]);r!=null&&g(t,["videoBytes"],ju(n,r));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function VL(n,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],jL(n,i)),t}function UL(n,e){const t={},i=m(e,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>VL(n,u))),g(t,["generatedVideos"],o)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&g(t,["raiMediaFilteredCount"],r);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function Bx(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["metadata"]);r!=null&&g(t,["metadata"],r);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const o=m(e,["error"]);o!=null&&g(t,["error"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],UL(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qL extends od{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;return i&&"httpOptions"in i&&(s=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=DL(this.apiClient,e);return u=$t("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Bx(this.apiClient,h))}else{const f=RL(this.apiClient,e);return u=$t("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>zL(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=IL(this.apiClient,e);return s=$t("{resourceName}:fetchPredictOperation",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>Bx(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HL(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function I_(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],HL(n,i)),t}function GL(n,e){const t={},i=m(e,["speaker"]);i!=null&&g(t,["speaker"],i);const r=m(e,["voiceConfig"]);return r!=null&&g(t,["voiceConfig"],I_(n,r)),t}function WL(n,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>GL(n,s))),g(t,["speakerVoiceConfigs"],r)}return t}function KL(n,e){const t={},i=m(e,["voiceConfig"]);i!=null&&g(t,["voiceConfig"],I_(n,i));const r=m(e,["multiSpeakerVoiceConfig"]);r!=null&&g(t,["multiSpeakerVoiceConfig"],WL(n,r));const s=m(e,["languageCode"]);return s!=null&&g(t,["languageCode"],s),t}function YL(n,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&g(t,["endOffset"],r);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function $L(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function JL(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function ZL(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],YL(n,i));const r=m(e,["thought"]);r!=null&&g(t,["thought"],r);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],$L(n,s));const o=m(e,["fileData"]);o!=null&&g(t,["fileData"],JL(n,o));const u=m(e,["thoughtSignature"]);u!=null&&g(t,["thoughtSignature"],u);const c=m(e,["codeExecutionResult"]);c!=null&&g(t,["codeExecutionResult"],c);const f=m(e,["executableCode"]);f!=null&&g(t,["executableCode"],f);const h=m(e,["functionCall"]);h!=null&&g(t,["functionCall"],h);const v=m(e,["functionResponse"]);v!=null&&g(t,["functionResponse"],v);const b=m(e,["text"]);return b!=null&&g(t,["text"],b),t}function XL(n,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>ZL(n,o))),g(t,["parts"],s)}const r=m(e,["role"]);return r!=null&&g(t,["role"],r),t}function QL(n,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const r=m(e,["description"]);r!=null&&g(t,["description"],r);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const o=m(e,["parameters"]);o!=null&&g(t,["parameters"],o);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function eP(n,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&g(t,["endTime"],r),t}function tP(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],eP(n,i)),t}function nP(n,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&g(t,["dynamicThreshold"],r),t}function iP(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],nP(n,i)),t}function rP(){return{}}function sP(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>QL(n,f))),g(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&g(t,["googleSearch"],tP(n,r));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],iP(n,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],rP());const u=m(e,["codeExecution"]);return u!=null&&g(t,["codeExecution"],u),t}function aP(n,e){const t={},i=m(e,["handle"]);if(i!=null&&g(t,["handle"],i),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function zx(){return{}}function oP(n,e){const t={},i=m(e,["disabled"]);i!=null&&g(t,["disabled"],i);const r=m(e,["startOfSpeechSensitivity"]);r!=null&&g(t,["startOfSpeechSensitivity"],r);const s=m(e,["endOfSpeechSensitivity"]);s!=null&&g(t,["endOfSpeechSensitivity"],s);const o=m(e,["prefixPaddingMs"]);o!=null&&g(t,["prefixPaddingMs"],o);const u=m(e,["silenceDurationMs"]);return u!=null&&g(t,["silenceDurationMs"],u),t}function lP(n,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&g(t,["automaticActivityDetection"],oP(n,i));const r=m(e,["activityHandling"]);r!=null&&g(t,["activityHandling"],r);const s=m(e,["turnCoverage"]);return s!=null&&g(t,["turnCoverage"],s),t}function uP(n,e){const t={},i=m(e,["targetTokens"]);return i!=null&&g(t,["targetTokens"],i),t}function cP(n,e){const t={},i=m(e,["triggerTokens"]);i!=null&&g(t,["triggerTokens"],i);const r=m(e,["slidingWindow"]);return r!=null&&g(t,["slidingWindow"],uP(n,r)),t}function fP(n,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&g(t,["proactiveAudio"],i),t}function dP(n,e,t){const i={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&g(t,["setup","generationConfig"],r);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&g(t,["setup","generationConfig","responseModalities"],s);const o=m(e,["temperature"]);t!==void 0&&o!=null&&g(t,["setup","generationConfig","temperature"],o);const u=m(e,["topP"]);t!==void 0&&u!=null&&g(t,["setup","generationConfig","topP"],u);const c=m(e,["topK"]);t!==void 0&&c!=null&&g(t,["setup","generationConfig","topK"],c);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&g(t,["setup","generationConfig","maxOutputTokens"],f);const h=m(e,["mediaResolution"]);t!==void 0&&h!=null&&g(t,["setup","generationConfig","mediaResolution"],h);const v=m(e,["seed"]);t!==void 0&&v!=null&&g(t,["setup","generationConfig","seed"],v);const b=m(e,["speechConfig"]);t!==void 0&&b!=null&&g(t,["setup","generationConfig","speechConfig"],KL(n,A2(n,b)));const x=m(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&g(t,["setup","generationConfig","enableAffectiveDialog"],x);const N=m(e,["systemInstruction"]);t!==void 0&&N!=null&&g(t,["setup","systemInstruction"],XL(n,_s(n,N)));const T=m(e,["tools"]);if(t!==void 0&&T!=null){let W=qh(n,T);Array.isArray(W)&&(W=W.map(ee=>sP(n,Uh(n,ee)))),g(t,["setup","tools"],W)}const M=m(e,["sessionResumption"]);t!==void 0&&M!=null&&g(t,["setup","sessionResumption"],aP(n,M));const k=m(e,["inputAudioTranscription"]);t!==void 0&&k!=null&&g(t,["setup","inputAudioTranscription"],zx());const P=m(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&g(t,["setup","outputAudioTranscription"],zx());const I=m(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&g(t,["setup","realtimeInputConfig"],lP(n,I));const J=m(e,["contextWindowCompression"]);t!==void 0&&J!=null&&g(t,["setup","contextWindowCompression"],cP(n,J));const q=m(e,["proactivity"]);return t!==void 0&&q!=null&&g(t,["setup","proactivity"],fP(n,q)),i}function hP(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["setup","model"],Ti(n,i));const r=m(e,["config"]);return r!=null&&g(t,["config"],dP(n,r,t)),t}function pP(n,e,t){const i={},r=m(e,["expireTime"]);t!==void 0&&r!=null&&g(t,["expireTime"],r);const s=m(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&g(t,["newSessionExpireTime"],s);const o=m(e,["uses"]);t!==void 0&&o!=null&&g(t,["uses"],o);const u=m(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&g(t,["bidiGenerateContentSetup"],hP(n,u));const c=m(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&g(t,["fieldMask"],c),i}function mP(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],pP(n,i,t)),t}function gP(n,e){const t={},i=m(e,["name"]);return i!=null&&g(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yP(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function vP(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=yP(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(f=>o.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class xP extends od{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=mP(this.apiClient,e);s=$t("auth_tokens",u._url),o=u._query,delete u.config,delete u._url,delete u._query;const c=vP(u,e.config);return r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>gP(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bP(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],i);const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function wP(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const o=m(e,["filter"]);return t!==void 0&&o!=null&&g(t,["_query","filter"],o),i}function _P(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],wP(n,i,t)),t}function SP(n,e){const t={},i=m(e,["textInput"]);i!=null&&g(t,["textInput"],i);const r=m(e,["output"]);return r!=null&&g(t,["output"],r),t}function AP(n,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>SP(n,s))),g(t,["examples","examples"],r)}return t}function TP(n,e,t){const i={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=m(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&g(t,["displayName"],r),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(e,["epochCount"]);t!==void 0&&s!=null&&g(t,["tuningTask","hyperparameters","epochCount"],s);const o=m(e,["learningRateMultiplier"]);if(o!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=m(e,["batchSize"]);t!==void 0&&u!=null&&g(t,["tuningTask","hyperparameters","batchSize"],u);const c=m(e,["learningRate"]);return t!==void 0&&c!=null&&g(t,["tuningTask","hyperparameters","learningRate"],c),i}function CP(n,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const r=m(e,["trainingDataset"]);r!=null&&g(t,["tuningTask","trainingData"],AP(n,r));const s=m(e,["config"]);return s!=null&&g(t,["config"],TP(n,s,t)),t}function NP(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],i);const r=m(e,["config"]);return r!=null&&g(t,["config"],r),t}function EP(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&g(t,["_query","pageSize"],r);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const o=m(e,["filter"]);return t!==void 0&&o!=null&&g(t,["_query","filter"],o),i}function kP(n,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],EP(n,i,t)),t}function MP(n,e,t){const i={},r=m(e,["gcsUri"]);if(t!==void 0&&r!=null&&g(t,["supervisedTuningSpec","trainingDatasetUri"],r),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function LP(n,e){const t={},i=m(e,["gcsUri"]);return i!=null&&g(t,["validationDatasetUri"],i),t}function PP(n,e,t){const i={},r=m(e,["validationDataset"]);t!==void 0&&r!=null&&g(t,["supervisedTuningSpec"],LP(n,r));const s=m(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&g(t,["tunedModelDisplayName"],s);const o=m(e,["description"]);t!==void 0&&o!=null&&g(t,["description"],o);const u=m(e,["epochCount"]);t!==void 0&&u!=null&&g(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=m(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&g(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=m(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&g(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const h=m(e,["adapterSize"]);if(t!==void 0&&h!=null&&g(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function RP(n,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const r=m(e,["trainingDataset"]);r!=null&&g(t,["supervisedTuningSpec","trainingDatasetUri"],MP(n,r,t));const s=m(e,["config"]);return s!=null&&g(t,["config"],PP(n,s,t)),t}function DP(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["model"],i);const r=m(e,["name"]);return r!=null&&g(t,["endpoint"],r),t}function O_(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["state"]);r!=null&&g(t,["state"],v_(n,r));const s=m(e,["createTime"]);s!=null&&g(t,["createTime"],s);const o=m(e,["tuningTask","startTime"]);o!=null&&g(t,["startTime"],o);const u=m(e,["tuningTask","completeTime"]);u!=null&&g(t,["endTime"],u);const c=m(e,["updateTime"]);c!=null&&g(t,["updateTime"],c);const f=m(e,["description"]);f!=null&&g(t,["description"],f);const h=m(e,["baseModel"]);h!=null&&g(t,["baseModel"],h);const v=m(e,["_self"]);v!=null&&g(t,["tunedModel"],DP(n,v));const b=m(e,["distillationSpec"]);b!=null&&g(t,["distillationSpec"],b);const x=m(e,["experiment"]);x!=null&&g(t,["experiment"],x);const N=m(e,["labels"]);N!=null&&g(t,["labels"],N);const T=m(e,["pipelineJob"]);T!=null&&g(t,["pipelineJob"],T);const M=m(e,["serviceAccount"]);M!=null&&g(t,["serviceAccount"],M);const k=m(e,["tunedModelDisplayName"]);return k!=null&&g(t,["tunedModelDisplayName"],k),t}function IP(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>O_(n,o))),g(t,["tuningJobs"],s)}return t}function OP(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["metadata"]);r!=null&&g(t,["metadata"],r);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const o=m(e,["error"]);return o!=null&&g(t,["error"],o),t}function FP(n,e){const t={},i=m(e,["checkpointId"]);i!=null&&g(t,["checkpointId"],i);const r=m(e,["epoch"]);r!=null&&g(t,["epoch"],r);const s=m(e,["step"]);s!=null&&g(t,["step"],s);const o=m(e,["endpoint"]);return o!=null&&g(t,["endpoint"],o),t}function BP(n,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],i);const r=m(e,["endpoint"]);r!=null&&g(t,["endpoint"],r);const s=m(e,["checkpoints"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>FP(n,u))),g(t,["checkpoints"],o)}return t}function D1(n,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const r=m(e,["state"]);r!=null&&g(t,["state"],v_(n,r));const s=m(e,["createTime"]);s!=null&&g(t,["createTime"],s);const o=m(e,["startTime"]);o!=null&&g(t,["startTime"],o);const u=m(e,["endTime"]);u!=null&&g(t,["endTime"],u);const c=m(e,["updateTime"]);c!=null&&g(t,["updateTime"],c);const f=m(e,["error"]);f!=null&&g(t,["error"],f);const h=m(e,["description"]);h!=null&&g(t,["description"],h);const v=m(e,["baseModel"]);v!=null&&g(t,["baseModel"],v);const b=m(e,["tunedModel"]);b!=null&&g(t,["tunedModel"],BP(n,b));const x=m(e,["supervisedTuningSpec"]);x!=null&&g(t,["supervisedTuningSpec"],x);const N=m(e,["tuningDataStats"]);N!=null&&g(t,["tuningDataStats"],N);const T=m(e,["encryptionSpec"]);T!=null&&g(t,["encryptionSpec"],T);const M=m(e,["partnerModelTuningSpec"]);M!=null&&g(t,["partnerModelTuningSpec"],M);const k=m(e,["distillationSpec"]);k!=null&&g(t,["distillationSpec"],k);const P=m(e,["experiment"]);P!=null&&g(t,["experiment"],P);const I=m(e,["labels"]);I!=null&&g(t,["labels"],I);const J=m(e,["pipelineJob"]);J!=null&&g(t,["pipelineJob"],J);const q=m(e,["serviceAccount"]);q!=null&&g(t,["serviceAccount"],q);const W=m(e,["tunedModelDisplayName"]);return W!=null&&g(t,["tunedModelDisplayName"],W),t}function zP(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const r=m(e,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>D1(n,o))),g(t,["tuningJobs"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jP extends od{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new cg(td.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:T1.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=NP(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>D1(this.apiClient,h))}else{const f=bP(this.apiClient,e);return u=$t("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>O_(this.apiClient,h))}}async listInternal(e){var t,i,r,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=kP(this.apiClient,e);return u=$t("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const v=zP(this.apiClient,h),b=new px;return Object.assign(b,v),b})}else{const f=_P(this.apiClient,e);return u=$t("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const v=IP(this.apiClient,h),b=new px;return Object.assign(b,v),b})}}async tuneInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const u=RP(this.apiClient,e);return s=$t("tuningJobs",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>D1(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CP(this.apiClient,e);return s=$t("tunedModels",u._url),o=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>OP(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VP{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const UP=1024*1024*8,qP=3,HP=1e3,GP=2,O0="x-goog-upload-status";async function WP(n,e,t){var i,r,s;let o=0,u=0,c=new C1(new Response),f="upload";for(o=n.size;u<o;){const v=Math.min(UP,o-u),b=n.slice(u,u+v);u+v>=o&&(f+=", finalize");let x=0,N=HP;for(;x<qP&&(c=await t.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(v)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[O0]));)x++,await YP(N),N=N*GP;if(u+=v,((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[O0])!=="active")break;if(o<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(c==null?void 0:c.json());if(((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[O0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function KP(n){return{size:n.size,type:n.type}}function YP(n){return new Promise(e=>setTimeout(e,n))}class $P{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WP(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KP(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JP{create(e,t,i){return new ZP(e,t,i)}}class ZP{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jx="x-goog-api-key";class XP{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(jx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QP="gl-node/";class F_{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=e4(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new XP(this.apiKey);this.apiClient=new mL({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:QP+"web",uploader:new $P,downloader:new VP}),this.models=new PL(this.apiClient),this.live=new NL(this.apiClient,r,new JP),this.chats=new NN(this.models,this.apiClient),this.caches=new AN(this.apiClient),this.files=new jN(this.apiClient),this.operations=new qL(this.apiClient),this.authTokens=new xP(this.apiClient),this.tunings=new jP(this.apiClient)}}let Ff=null,Bf=null;function F0(n){if(n&&n!==Bf)try{return Ff=new F_({apiKey:n}),Bf=n,console.log("Gemini Service Initialized with new API Key."),!0}catch(e){return console.error("Failed to initialize Gemini Service with API Key:",e),Ff=null,Bf=null,!1}else if(!n)return Ff=null,Bf=null,console.warn("Gemini Service API Key cleared or not provided. Service is inactive."),!1;return Ff!==null}function Vx(){return Ff||(console.warn("Gemini Service accessed before API key was properly initialized. Using placeholder."),new F_({apiKey:"PLACEHOLDER_API_KEY_NOT_INITIALIZED"}))}function Ux(n){let e=n.trim();const t=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,i=e.match(t);i&&i[2]&&(e=i[2].trim());try{return JSON.parse(e)}catch(r){return console.error("Failed to parse JSON response from Gemini:",r,"Original text:",n),{error:"Ungültige JSON-Antwort von der KI."}}}const eR=`
### Herleitung der Vorgehensweise zur Bewertung von privat genutzten Wirtschaftsgütern von Selbstständigen

Die Bewertung privat entnommener Wirtschaftsgüter ist gemäß § 6 Abs. 1 Nr. 4 Satz 1 EStG vorzunehmen [3], wobei diese gewinnerhöhend mit dem Teilwert im Zeitpunkt der Entnahme zu erfassen sind, wie auch die aktuelle Verwaltungsauffassung am Beispiel digital agierender Steuerpflichtiger bestätigt [8]. Zwar kommt Entnahmen bei Selbständigen eine ähnliche Funktion zu wie Sachbezügen bei Arbeitnehmern, jedoch kann aufgrund der unterschiedlichen gesetzlichen Regelungen nicht die Bewertung des geldwerten Vorteils nach § 8 EStG für Arbeitnehmer herangezogen werden, vielmehr ist der Teilwert maßgeblich [7]. Der Teilwert selbst ist definiert als der Betrag, den ein fiktiver Erwerber des gesamten Unternehmens im Rahmen des Gesamtkaufpreises für das einzelne Wirtschaftsgut ansetzen würde, unter der Prämisse der Unternehmensfortführung (§ 10 Satz 2 BewG) [1]. Da die hier betrachteten Güter durch Gebrauch oder Öffnung in ihrer ursprünglichen Beschaffenheit verändert wurden und somit die Anschaffungs- oder Herstellungskosten nicht mehr als Bewertungsmaßstab dienen können – analog zur Orientierung an der aktuellen Beschaffenheit gemäß § 9 Abs. 2 BewG für den gemeinen Wert [4] – ist eine Schätzung des Teilwerts unumgänglich, die auf objektiven Maßstäben und nicht willkürlichem Ermessen beruht [5].

Die Bandbreite des Teilwerts wird durch die Wiederbeschaffungskosten als Obergrenze und den Einzelveräußerungspreis als Untergrenze bestimmt [2]. Für Wirtschaftsgüter, die – wie im vorliegenden Fall nach einem Produkttest – keinen direkten weiteren betrieblichen Nutzen mehr stiften und somit für einen potenziellen Unternehmenserwerber primär unter dem Aspekt der Weiterveräußerbarkeit relevant wären, rückt der Einzelveräußerungspreis in den Fokus. Ein solcher Erwerber würde für diese spezifischen Güter keine Wiederbeschaffungskosten ansetzen, da sie nicht mehr dem ursprünglichen Betriebszweck in gleicher Weise dienen. Diese Orientierung am Veräußerungserlös, gegebenenfalls unter Abzug noch anfallender Kosten oder Gewinnmargen, wie es analog auch bei der Bewertung von im Wert gemindertem Vorratsvermögen nach R 6.8 Abs. 2 Satz 3 EStR [6] zum Tragen kommt, spiegelt die wirtschaftliche Realität für solche Güter wider.

Zur Konkretisierung dieses am Einzelveräußerungspreis orientierten Teilwerts erfolgt eine systematische Recherche auf gängigen Online-Handelsplattformen für gebrauchte Waren. Dabei werden die Preise für identische oder zumindest artgleiche und zustandsähnliche Produkte ermittelt. Diese empirisch gewonnenen Marktdaten bilden die Basis für eine nachvollziehbare Schätzung [5], die den Grundsätzen einer ordnungsgemäßen Buchführung entspricht. Durch logische Argumentation und unter Berücksichtigung der spezifischen Umstände des entnommenen Gutes (z.B. genauer Zustand, Vollständigkeit, Alter) wird aus diesen Daten der anzusetzende Teilwert abgeleitet. Hierbei ist stets zu beachten, dass der so ermittelte Teilwert den gemeinen Wert des Wirtschaftsgutes nicht übersteigen darf, wie in § 6 Abs. 1 Nr. 4 Satz 1 Halbsatz 2 EStG explizit gefordert [3].

---
**Quellen:**
[1] § 10 Bewertungsgesetz (BewG) - Teilwert
[2] Wikipedia-Artikel "Teilwert", Abschnitt "Bewertung" (https://de.wikipedia.org/wiki/Teilwert)
[3] § 6 Einkommensteuergesetz (EStG) - Bewertung
[4] § 9 Bewertungsgesetz (BewG) - Gemeiner Wert
[5] Gabler Wirtschaftslexikon, Definition "Teilwert" (https://wirtschaftslexikon.gabler.de/definition/teilwert-49526)
[6] R 6.8 Abs. 2 Satz 3 Einkommensteuer-Richtlinien (EStR) - Bewertung des Vorratsvermögens
[7] BFH Urteil vom 21. April 2010, X R 43/08, Rz. 21 f.
[8] Finanzministerium des Landes Schleswig-Holstein v. 02.07.2024 - VI 3010 - S 2240 - 190 (Einkommensteuer-Kurzinformation Nr. 2024/9)
`,qx={getMarketAnalysisAndEbaySearchTerms:async(n,e)=>{const t=Vx();if(!Bf)return{error:"Gemini API Key nicht konfiguriert."};const i=["System: Sie sind ein Experte für Marktanalysen und E-Commerce-Strategien. Erstellen Sie eine detaillierte Analyse für das angegebene Produkt. Alle textuellen Inhalte in der JSON-Antwort, einschließlich Zusammenfassungen, Beschreibungen und Bewertungen, müssen auf Deutsch sein.","Produktinformationen:",`Name: ${n.name}`,`ASIN: ${n.id}`];n.description&&i.push(`Beschreibung: ${n.description}`),n.category&&i.push(`Kategorie: ${n.category}`),n.etv&&i.push(`Ursprünglicher ETV (Neupreis): ${n.etv} EUR`),e&&i.push(`Aktueller verarbeiteter Preis (z.B. von Keepa): ${e} EUR`),i.push(`
Ihre Aufgabe: Liefern Sie die folgenden Informationen in einem strukturierten JSON-Format. Stellen Sie sicher, dass das Array ebaySearchTerms genau 3 deutsche Suchbegriffe enthält.
      Für bekannte Produkte (z.B. iPhone 15) verwenden Sie den spezifischen Produktnamen als Suchbegriff.
      Für generische oder weniger bekannte Produkte (z.B. ein Milchaufschäumer einer generischen Marke) verwenden Sie breitere Kategoriebegriffe.
      Das Ziel dieser Suchbegriffe ist es, die Marktnachfrage und typische Verkaufspreise für ähnliche Artikel auf eBay Deutschland zu verstehen.

      JSON Struktur (alle textuellen Werte müssen auf Deutsch sein):
      {
        "marketAnalysis": {
          "summary": "Prägnante allgemeine Marktzusammenfassung (max. 150 Wörter, auf Deutsch).",
          "competitors": ["Listen Sie bis zu 3 Hauptkonkurrenzprodukte oder -marken auf, falls vorhanden. Leeres Array, wenn keine signifikanten vorhanden sind (auf Deutsch)."],
          "salesPerformance": "Beschreiben Sie die typische Verkaufsleistung (z.B. 'Hohes Volumen', 'Nische aber stabil', 'Saisonal', 'Rückläufig', auf Deutsch).",
          "marketSentiment": "Beschreiben Sie die Marktstimmung (z.B. 'Gehyptes Produkt', 'Stabile Nachfrage', 'Umstritten', 'Generell positiv', auf Deutsch')."
        },
        "pricingAndSourcing": {
          "typicalNewPrice": "Geschätzte typische Neupreisspanne am Markt in EUR (z.B. '€90-€110', oder 'N/A' wenn schwer zu bestimmen, auf Deutsch).",
          "farEastSourcingPotential": "Bewerten Sie das Potenzial für die Beschaffung aus Fernost (z.B. 'Hoch', 'Mittel', 'Niedrig', 'Unwahrscheinlich', 'Üblicherweise von dort bezogen', auf Deutsch)."
        },
        "durabilityAndRisk": {
          "durability": "Allgemeine Einschätzung der Produkthaltbarkeit (z.B. 'Robust und langlebig', 'Durchschnittliche Lebensdauer', 'Anfällig für spezifische Probleme nach X Zeit', auf Deutsch).",
          "commonIssues": ["Listen Sie bis zu 3 häufige Probleme, Defekte oder Beschwerdegründe auf, falls bekannt. Leeres Array, wenn keine signifikanten vorhanden sind (auf Deutsch)."]
        },
        "ebaySearchTerms": ["deutscherBegriff1", "deutscherBegriff2", "deutscherBegriff3"]
      }
      Antworten Sie NUR mit diesem JSON-Objekt. Fügen Sie keinen anderen Text, Begrüßungen oder Markdown-Formatierungen um das JSON herum ein.`);const r=i.join(`
`);try{const s=await t.models.generateContent({model:d5,contents:[{role:"user",parts:[{text:r}]}],config:{responseMimeType:"application/json",temperature:.4}}),o=Ux(s.text);if("error"in o)return{error:o.error};if(!o.ebaySearchTerms||o.ebaySearchTerms.length!==3)for(console.warn("Gemini hat nicht genau 3 eBay-Suchbegriffe zurückgegeben. Erhalten:",o.ebaySearchTerms),o.ebaySearchTerms=(o.ebaySearchTerms||[]).slice(0,3);o.ebaySearchTerms.length<3;)o.ebaySearchTerms.push(n.name||"Produkt");return{analysis:o}}catch(s){return console.error("Error in getMarketAnalysisAndEbaySearchTerms:",s),{error:s instanceof Error?s.message:"KI-Marktanalyse und Suchbegrifferstellung fehlgeschlagen."}}},estimateTeilwertForReport:async(n,e,t,i)=>{var v,b;const r=Vx();if(!Bf)return{error:"Gemini API Key nicht konfiguriert."};let s=[`Produktname: ${n.name}`,`ASIN: ${n.id}`];n.description&&s.push(`Beschreibung: ${n.description}`),n.category&&s.push(`Kategorie: ${n.category}`),n.etv&&s.push(`Ursprünglicher ETV (Neupreis): ${n.etv} EUR`);let o="Keine verarbeiteten Preisinformationen (z.B. von Keepa) für dieses Produkt übergeben.";if(i&&(o=`Relevanter verarbeiteter Preis (Quelle: ${i.priceSource}): ${i.price.toFixed(2)} EUR.`,i.allPrices)){let x=[];i.allPrices.amazonCurrent!==void 0&&x.push(`Amazon Aktuell: ${i.allPrices.amazonCurrent.toFixed(2)} EUR`),i.allPrices.newCurrent!==void 0&&x.push(`Marketplace Neu Aktuell: ${i.allPrices.newCurrent.toFixed(2)} EUR`),i.allPrices.usedCurrent!==void 0&&x.push(`Marketplace Gebraucht Aktuell: ${i.allPrices.usedCurrent.toFixed(2)} EUR`),x.length>0&&(o+=` Weitere verfügbare Preise: ${x.join("; ")}.`)}s.push(o);let u="Keine Marktanalyse verfügbar.";e&&(u=`Marktanalyse Zusammenfassung: ${e.marketAnalysis.summary}
Wettbewerber: ${((v=e.marketAnalysis.competitors)==null?void 0:v.join(", "))||"N/A"}
Verkaufsperformance: ${e.marketAnalysis.salesPerformance}
Marktstimmung: ${e.marketAnalysis.marketSentiment}
Typischer Neupreis: ${e.pricingAndSourcing.typicalNewPrice}
Haltbarkeit: ${e.durabilityAndRisk.durability}
Häufige Probleme: ${((b=e.durabilityAndRisk.commonIssues)==null?void 0:b.join(", "))||"N/A"}`);let c="Keine eBay Suchergebnisse verfügbar oder Suche nicht durchgeführt.";if(t&&Object.keys(t).length>0){c=`Ergebnisse der eBay-Recherche (pro Suchbegriff):
`;for(const x in t){const N=t[x];N.listings&&N.listings.length>0?(c+=`  Suchbegriff "${x}":
`,N.listings.slice(0,3).forEach(T=>{c+=`    - Name: ${T.name}, Verkauft am: ${T.sold_date}, Preis: ${T.price}€, Zustand: ${T.condition}
`}),N.listings.length>3&&(c+=`    ... und ${N.listings.length-3} weitere.
`)):N.rawValue&&N.rawValue.trim()!==""&&N.rawValue.trim()!=='""'?c+=`  Suchbegriff "${x}": Rohdaten vorhanden, aber nicht als strukturierte Liste geparst.
`:c+=`  Suchbegriff "${x}": Keine relevanten Verkäufe gefunden oder Daten ausstehend.
`}}const f=i?`Für das Produkt wurde ein relevanter Preis von ${i.price.toFixed(2)} EUR (Quelle: ${i.priceSource}) ermittelt.`:"Keine spezifischen Preisinformationen (z.B. von Keepa) für dieses Produkt verfügbar.",h=`
System: Sie sind ein KI-Experte für deutsches Steuerrecht, spezialisiert auf die Ermittlung des Teilwerts von gebrauchten Wirtschaftsgütern für die Entnahme aus einem Betriebsvermögen. Ihre Antworten müssen präzise, gut begründet und im angeforderten JSON-Format sein. Die Sprache aller textuellen Inhalte muss Deutsch sein.

Rechtliche Grundlagen zur Teilwertermittlung:
${eR}

Ihre Aufgabe ist die Erstellung eines Berichts zur Teilwertschätzung.
Folgende Informationen sind über das Produkt bereits bekannt:
${s.join(`
`)}

Marktanalyse (falls vorhanden):
${u}

eBay Suchergebnisse (falls vorhanden):
${c}

Erstellen Sie eine Begründung für eine Teilwertschätzung, die tatsächliche Teilwertschätzung (als Zahl) und ein Fazit für einen Bericht im JSON-Format.
Der Output MUSS exakt folgendes JSON-Format haben (kein Text davor oder danach, keine Markdown-Formatierung um das JSON-Objekt selbst):
{
  "Begruendung_Teilwert": "Ausführliche Begründung, ggf. mit Berechnungen, im Markdown-Format (ohne Überschriften). Gehen Sie auf die Verkaufbarkeit, vergleichbare Angebote, Zustand und mögliche Abschläge ein. Wenn sinnvoll, erklären Sie, dass im Teilwert kein Unternehmergewinn enthalten ist sowie etwaige Lagerkosten abgezogen werden müssten.",
  "Teilwert": 123.45,
  "mlFazit": "Kurzes Fazit der Schätzung im Markdown-Format (ohne Überschriften).",
  "keepa_Bericht": "Fassen Sie die verfügbaren Preisinformationen (die vermutlich von Diensten wie Keepa stammen und hier als '${f}' referenziert werden) im Freitext zusammen und bewerten Sie deren Relevanz für die Teilwertschätzung des gebrauchten Produkts."
}

Wichtige Hinweise:
- Der Teilwert kann 0.0 sein, wenn das Produkt nach einem Test typischerweise nicht mehr verkauft werden kann (z.B. Kosmetik, Lebensmittel).
- Wenn das Produkt oder die Marke in den eBay-Suchergebnissen nicht zu finden ist, deutet dies auf schlechte Verkaufsaussichten hin.
- Die "Begruendung_Teilwert" und das "mlFazit" sollen für einen PDF-Bericht geeignet sein und daher Markdown für Formatierungen wie Fettung oder Listen nutzen. Verwenden Sie KEINE Markdown-Überschriften (wie #, ##).
- Alle textuellen Inhalte müssen auf Deutsch sein.
`;try{const x=await r.models.generateContent({model:d5,contents:[{role:"user",parts:[{text:h}]}],config:{responseMimeType:"application/json",temperature:.2}}),N=Ux(x.text);return"error"in N?{error:N.error}:(N.Teilwert=Math.max(0,Number(N.Teilwert)||0),{estimation:N})}catch(x){return console.error("Error in estimateTeilwertForReport:",x),{error:x instanceof Error?x.message:"KI-Teilwertschätzung für Bericht fehlgeschlagen."}}}},B_=ne.createContext(void 0),tR=({children:n})=>{const[e,t]=ne.useState(null),[i,r]=ne.useState(null),[s,o]=ne.useState(null),[u,c]=ne.useState(null),[f,h]=ne.useState(!1),[v,b]=ne.useState(!0);ne.useEffect(()=>{b(!0);const T=localStorage.getItem(Gp),M=localStorage.getItem(Wp),k=localStorage.getItem(Kp),P=localStorage.getItem(Yp);t(T),r(M),o(k),c(P),T&&M&&k&&P?(F0(k),h(!0)):h(!1),b(!1)},[]);const x=ne.useCallback(T=>{T.v2ApiToken?localStorage.setItem(Gp,T.v2ApiToken):localStorage.removeItem(Gp),T.oracleWriteParUrl?localStorage.setItem(Wp,T.oracleWriteParUrl):localStorage.removeItem(Wp),T.geminiApiKey?localStorage.setItem(Kp,T.geminiApiKey):localStorage.removeItem(Kp),T.externalProductSourceUrl?localStorage.setItem(Yp,T.externalProductSourceUrl):localStorage.removeItem(Yp),t(T.v2ApiToken),r(T.oracleWriteParUrl),o(T.geminiApiKey),c(T.externalProductSourceUrl),T.v2ApiToken&&T.oracleWriteParUrl&&T.geminiApiKey&&T.externalProductSourceUrl?(F0(T.geminiApiKey),h(!0)):h(!1)},[]),N=ne.useCallback(()=>{localStorage.removeItem(Gp),localStorage.removeItem(Wp),localStorage.removeItem(Kp),localStorage.removeItem(Yp),t(null),r(null),o(null),c(null),F0(""),h(!1)},[]);return S.jsx(B_.Provider,{value:{v2ApiToken:e,oracleWriteParUrl:i,geminiApiKey:s,externalProductSourceUrl:u,isConfigSet:f,isLoadingConfig:v,saveConfig:x,clearConfig:N},children:n})},Vu=()=>{const n=ne.useContext(B_);if(n===void 0)throw new Error("useConfig must be used within a ConfigProvider");return n},Hx="appFilterOutETVZero",z_=ne.createContext(void 0),nR=({children:n})=>{const{externalProductSourceUrl:e,isConfigSet:t}=Vu(),[i,r]=ne.useState([]),[s,o]=ne.useState(!1),[u,c]=ne.useState(null),[f,h]=ne.useState(()=>{const T=localStorage.getItem(Hx);return T?JSON.parse(T):!1}),v=ne.useCallback(T=>{localStorage.setItem(Hx,JSON.stringify(T)),h(T)},[]),b=ne.useCallback(T=>or.LOADED_FROM_EXTERNAL,[]),x=ne.useCallback(async()=>{if(!t||!e){r([]),c("Konfiguration für Produktdatenquelle nicht geladen."),o(!1);return}o(!0),c(null);try{const T=await fetch(e);if(!T.ok)throw new Error(`Failed to fetch from external source (${e}): ${T.status} ${T.statusText}`);const M=await T.json();if(!M.asins||!Array.isArray(M.asins)){r([]),o(!1),console.warn("External data source did not provide a valid 'asins' array."),c("Externe Datenquelle lieferte keine gültigen Produktdaten.");return}let k=M.asins;f&&(k=M.asins.filter(I=>I.ETV!==0));const P=k.map(I=>(I.ASIN||console.warn("External item missing ASIN, assigning placeholder ID:",I),{id:I.ASIN||`unknown_id_${Math.random().toString(36).substr(2,9)}`,name:I.name||"Unbekannter Name",etv:I.ETV,externalImageFilename:I.imageURL,imageUrl:I.imageURL?`${yC}${I.imageURL}`:void 0,externalKeepaPrice:I.keepa,externalTeilwert:I.Teilwert,externalPdfUrl:I.pdf,externalSourceStatus:I.status,status:b(I)})).sort((I,J)=>I.name.localeCompare(J.name));r(P)}catch(T){c(`Ein Fehler ist beim Laden der Produkte aufgetreten: ${T.message}`),r([])}finally{o(!1)}},[t,e,b,f]);ne.useEffect(()=>{t&&e?x():(r([]),t&&(e||c("Produktdaten-URL fehlt in der Konfiguration.")))},[x,t,e]);const N=ne.useCallback(T=>i.find(M=>M.id===T),[i]);return S.jsx(z_.Provider,{value:{products:i,isLoading:s,error:u,fetchProducts:x,getProductById:N,filterOutETVZero:f,setFilterOutETVZeroPreference:v},children:n})},Vc=()=>{const n=ne.useContext(z_);if(n===void 0)throw new Error("useProducts must be used within a ProductProvider");return n};async function Cf(n,e){var t,i,r;if(!e.token)return console.error("V2 API call attempted without a token for endpoint:",n),{error:"V2 API-Token nicht gesetzt."};try{const s=await fetch(`${vC}${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)try{const o=await s.json();if(s.status===401&&((t=o.error)!=null&&t.toLowerCase().includes("invalid token")||(i=o.error)!=null&&i.toLowerCase().includes("token missing")))return{error:"Ungültiger oder fehlender V2 API-Token."};if(s.status===404&&((r=o.error)!=null&&r.toLowerCase().includes("key not found"))){if(n==="get")return{key:e.key,value:null};if(n==="delete_key")return{message:"Key not found, effectively deleted.",key:e.key}}return o}catch{return{error:`V2 API Fehler: ${s.status} ${s.statusText}`}}return s.json()}catch(s){return console.error(`Netzwerk- oder anderer Fehler in fetchV2Api für Endpoint ${n}:`,s),{error:s instanceof Error?s.message:"Ein unbekannter Netzwerkfehler ist aufgetreten"}}}const un={getAllStatuses:async(n,e)=>Cf("get_all",{database:n,token:e}),setManyStatuses:async(n,e,t)=>Cf("set_many",{token:t,database:n,data:e}),getKey:async(n,e,t)=>Cf("get",{database:n,key:e,token:t}),setKey:async(n,e,t,i)=>Cf("set",{database:n,key:e,value:t,token:i}),listKeys:async(n,e)=>Cf("list_keys",{database:n,token:e}),deleteKey:async(n,e,t)=>Cf("delete_key",{database:n,key:e,token:t})},iR="https://objectstorage.eu-frankfurt-1.oraclecloud.com/p/XBhdyIB8tZZK2IOWzPl4GKJ5_AoHTeFHIHoTbAk8k6ypbRugFOzMxLeUeCSYz96-/n/frlwfg9yseap/b/bucket-20240714-1645/o/",Gx={uploadPdfToOracle:async(n,e,t)=>{if(!t)throw new Error("Oracle Cloud Write PAR URL is not configured.");const i=`Teilwert_v2_${e}.pdf`,s=`${t.endsWith("/")?t:t+"/"}${i}`,o={"Content-Type":"application/pdf","Content-Disposition":`attachment; filename="${i}"`};try{const u=await fetch(s,{method:"PUT",headers:o,body:n});if(!u.ok){const f=await u.text();throw new Error(`Oracle Cloud upload failed: ${u.status} ${u.statusText}. Details: ${f}`)}return{publicUrl:`${iR}${i}`}}catch(u){throw console.error("Error uploading PDF to Oracle Cloud:",u),u}}},rR="modulepreload",sR=function(n){return"/"+n},Wx={},I1=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=o(t.map(f=>{if(f=sR(f),f in Wx)return;Wx[f]=!0;const h=f.endsWith(".css"),v=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":rR,h||(b.as="script"),b.crossOrigin="",b.href=f,c&&b.setAttribute("nonce",c),document.head.appendChild(b),h)return new Promise((x,N)=>{b.addEventListener("load",x),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return r.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function ci(n){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(n)}var fs=Uint8Array,ia=Uint16Array,k2=Int32Array,dg=new fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hg=new fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O1=new fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j_=function(n,e){for(var t=new ia(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new k2(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return{b:t,r}},V_=j_(dg,2),U_=V_.b,F1=V_.r;U_[28]=258,F1[258]=28;var q_=j_(hg,0),aR=q_.b,Kx=q_.r,B1=new ia(32768);for(var Pi=0;Pi<32768;++Pi){var _u=(Pi&43690)>>1|(Pi&21845)<<1;_u=(_u&52428)>>2|(_u&13107)<<2,_u=(_u&61680)>>4|(_u&3855)<<4,B1[Pi]=((_u&65280)>>8|(_u&255)<<8)>>1}var Ho=function(n,e,t){for(var i=n.length,r=0,s=new ia(e);r<i;++r)n[r]&&++s[n[r]-1];var o=new ia(e);for(r=1;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var u;if(t){u=new ia(1<<e);var c=15-e;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],h=e-n[r],v=o[n[r]-1]++<<h,b=v|(1<<h)-1;v<=b;++v)u[B1[v]>>c]=f}else for(u=new ia(i),r=0;r<i;++r)n[r]&&(u[r]=B1[o[n[r]-1]++]>>15-n[r]);return u},Ru=new fs(288);for(var Pi=0;Pi<144;++Pi)Ru[Pi]=8;for(var Pi=144;Pi<256;++Pi)Ru[Pi]=9;for(var Pi=256;Pi<280;++Pi)Ru[Pi]=7;for(var Pi=280;Pi<288;++Pi)Ru[Pi]=8;var Lh=new fs(32);for(var Pi=0;Pi<32;++Pi)Lh[Pi]=5;var oR=Ho(Ru,9,0),lR=Ho(Ru,9,1),uR=Ho(Lh,5,0),cR=Ho(Lh,5,1),B0=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Wa=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},z0=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},M2=function(n){return(n+7)/8|0},H_=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new fs(n.subarray(e,t))},fR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$a=function(n,e,t){var i=new Error(e||fR[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,$a),!t)throw i;return i},dR=function(n,e,t,i){var r=n.length,s=0;if(!r||e.f&&!e.l)return t||new fs(0);var o=!t,u=o||e.i!=2,c=e.i;o&&(t=new fs(r*3));var f=function(We){var et=t.length;if(We>et){var Qe=new fs(Math.max(et*2,We));Qe.set(t),t=Qe}},h=e.f||0,v=e.p||0,b=e.b||0,x=e.l,N=e.d,T=e.m,M=e.n,k=r*8;do{if(!x){h=Wa(n,v,1);var P=Wa(n,v+1,3);if(v+=3,P)if(P==1)x=lR,N=cR,T=9,M=5;else if(P==2){var W=Wa(n,v,31)+257,ee=Wa(n,v+10,15)+4,j=W+Wa(n,v+5,31)+1;v+=14;for(var ie=new fs(j),le=new fs(19),F=0;F<ee;++F)le[O1[F]]=Wa(n,v+F*3,7);v+=ee*3;for(var G=B0(le),fe=(1<<G)-1,ae=Ho(le,G,1),F=0;F<j;){var ge=ae[Wa(n,v,fe)];v+=ge&15;var I=ge>>4;if(I<16)ie[F++]=I;else{var K=0,Q=0;for(I==16?(Q=3+Wa(n,v,3),v+=2,K=ie[F-1]):I==17?(Q=3+Wa(n,v,7),v+=3):I==18&&(Q=11+Wa(n,v,127),v+=7);Q--;)ie[F++]=K}}var Z=ie.subarray(0,W),de=ie.subarray(W);T=B0(Z),M=B0(de),x=Ho(Z,T,1),N=Ho(de,M,1)}else $a(1);else{var I=M2(v)+4,J=n[I-4]|n[I-3]<<8,q=I+J;if(q>r){c&&$a(0);break}u&&f(b+J),t.set(n.subarray(I,q),b),e.b=b+=J,e.p=v=q*8,e.f=h;continue}if(v>k){c&&$a(0);break}}u&&f(b+131072);for(var z=(1<<T)-1,me=(1<<M)-1,R=v;;R=v){var K=x[z0(n,v)&z],H=K>>4;if(v+=K&15,v>k){c&&$a(0);break}if(K||$a(2),H<256)t[b++]=H;else if(H==256){R=v,x=null;break}else{var te=H-254;if(H>264){var F=H-257,ue=dg[F];te=Wa(n,v,(1<<ue)-1)+U_[F],v+=ue}var ce=N[z0(n,v)&me],Ae=ce>>4;ce||$a(3),v+=ce&15;var de=aR[Ae];if(Ae>3){var ue=hg[Ae];de+=z0(n,v)&(1<<ue)-1,v+=ue}if(v>k){c&&$a(0);break}u&&f(b+131072);var _e=b+te;if(b<de){var Ce=s-de,Be=Math.min(de,_e);for(Ce+b<0&&$a(3);b<Be;++b)t[b]=i[Ce+b]}for(;b<_e;++b)t[b]=t[b-de]}}e.l=x,e.p=R,e.b=b,e.f=h,x&&(h=1,e.m=T,e.d=N,e.n=M)}while(!h);return b!=t.length&&o?H_(t,0,b):t.subarray(0,b)},_l=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},nh=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},j0=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,s=t.slice();if(!r)return{t:W_,l:0};if(r==1){var o=new fs(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(q,W){return q.f-W.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],f=0,h=1,v=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};h!=r-1;)u=t[t[f].f<t[v].f?f++:v++],c=t[f!=h&&t[f].f<t[v].f?f++:v++],t[h++]={s:-1,f:u.f+c.f,l:u,r:c};for(var b=s[0].s,i=1;i<r;++i)s[i].s>b&&(b=s[i].s);var x=new ia(b+1),N=z1(t[h-1],x,0);if(N>e){var i=0,T=0,M=N-e,k=1<<M;for(s.sort(function(W,ee){return x[ee.s]-x[W.s]||W.f-ee.f});i<r;++i){var P=s[i].s;if(x[P]>e)T+=k-(1<<N-x[P]),x[P]=e;else break}for(T>>=M;T>0;){var I=s[i].s;x[I]<e?T-=1<<e-x[I]++-1:++i}for(;i>=0&&T;--i){var J=s[i].s;x[J]==e&&(--x[J],++T)}N=e}return{t:new fs(x),l:N}},z1=function(n,e,t){return n.s==-1?Math.max(z1(n.l,e,t+1),z1(n.r,e,t+1)):e[n.s]=t},Yx=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ia(++e),i=0,r=n[0],s=1,o=function(c){t[i++]=c},u=1;u<=e;++u)if(n[u]==r&&u!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[u]}return{c:t.subarray(0,i),n:e}},ih=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},G_=function(n,e,t){var i=t.length,r=M2(e+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=t[s];return(r+4+i)*8},$x=function(n,e,t,i,r,s,o,u,c,f,h){_l(e,h++,t),++r[256];for(var v=j0(r,15),b=v.t,x=v.l,N=j0(s,15),T=N.t,M=N.l,k=Yx(b),P=k.c,I=k.n,J=Yx(T),q=J.c,W=J.n,ee=new ia(19),j=0;j<P.length;++j)++ee[P[j]&31];for(var j=0;j<q.length;++j)++ee[q[j]&31];for(var ie=j0(ee,7),le=ie.t,F=ie.l,G=19;G>4&&!le[O1[G-1]];--G);var fe=f+5<<3,ae=ih(r,Ru)+ih(s,Lh)+o,ge=ih(r,b)+ih(s,T)+o+14+3*G+ih(ee,le)+2*ee[16]+3*ee[17]+7*ee[18];if(c>=0&&fe<=ae&&fe<=ge)return G_(e,h,n.subarray(c,c+f));var K,Q,Z,de;if(_l(e,h,1+(ge<ae)),h+=2,ge<ae){K=Ho(b,x,0),Q=b,Z=Ho(T,M,0),de=T;var z=Ho(le,F,0);_l(e,h,I-257),_l(e,h+5,W-1),_l(e,h+10,G-4),h+=14;for(var j=0;j<G;++j)_l(e,h+3*j,le[O1[j]]);h+=3*G;for(var me=[P,q],R=0;R<2;++R)for(var H=me[R],j=0;j<H.length;++j){var te=H[j]&31;_l(e,h,z[te]),h+=le[te],te>15&&(_l(e,h,H[j]>>5&127),h+=H[j]>>12)}}else K=oR,Q=Ru,Z=uR,de=Lh;for(var j=0;j<u;++j){var ue=i[j];if(ue>255){var te=ue>>18&31;nh(e,h,K[te+257]),h+=Q[te+257],te>7&&(_l(e,h,ue>>23&31),h+=dg[te]);var ce=ue&31;nh(e,h,Z[ce]),h+=de[ce],ce>3&&(nh(e,h,ue>>5&8191),h+=hg[ce])}else nh(e,h,K[ue]),h+=Q[ue]}return nh(e,h,K[256]),h+Q[256]},hR=new k2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),W_=new fs(0),pR=function(n,e,t,i,r,s){var o=s.z||n.length,u=new fs(i+o+5*(1+Math.ceil(o/7e3))+r),c=u.subarray(i,u.length-r),f=s.l,h=(s.r||0)&7;if(e){h&&(c[0]=s.r>>3);for(var v=hR[e-1],b=v>>13,x=v&8191,N=(1<<t)-1,T=s.p||new ia(32768),M=s.h||new ia(N+1),k=Math.ceil(t/3),P=2*k,I=function(yt){return(n[yt]^n[yt+1]<<k^n[yt+2]<<P)&N},J=new k2(25e3),q=new ia(288),W=new ia(32),ee=0,j=0,ie=s.i||0,le=0,F=s.w||0,G=0;ie+2<o;++ie){var fe=I(ie),ae=ie&32767,ge=M[fe];if(T[ae]=ge,M[fe]=ae,F<=ie){var K=o-ie;if((ee>7e3||le>24576)&&(K>423||!f)){h=$x(n,c,0,J,q,W,j,le,G,ie-G,h),le=ee=j=0,G=ie;for(var Q=0;Q<286;++Q)q[Q]=0;for(var Q=0;Q<30;++Q)W[Q]=0}var Z=2,de=0,z=x,me=ae-ge&32767;if(K>2&&fe==I(ie-me))for(var R=Math.min(b,K)-1,H=Math.min(32767,ie),te=Math.min(258,K);me<=H&&--z&&ae!=ge;){if(n[ie+Z]==n[ie+Z-me]){for(var ue=0;ue<te&&n[ie+ue]==n[ie+ue-me];++ue);if(ue>Z){if(Z=ue,de=me,ue>R)break;for(var ce=Math.min(me,ue-2),Ae=0,Q=0;Q<ce;++Q){var _e=ie-me+Q&32767,Ce=T[_e],Be=_e-Ce&32767;Be>Ae&&(Ae=Be,ge=_e)}}}ae=ge,ge=T[ae],me+=ae-ge&32767}if(de){J[le++]=268435456|F1[Z]<<18|Kx[de];var We=F1[Z]&31,et=Kx[de]&31;j+=dg[We]+hg[et],++q[257+We],++W[et],F=ie+Z,++ee}else J[le++]=n[ie],++q[n[ie]]}}for(ie=Math.max(ie,F);ie<o;++ie)J[le++]=n[ie],++q[n[ie]];h=$x(n,c,f,J,q,W,j,le,G,ie-G,h),f||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=M,s.p=T,s.i=ie,s.w=F)}else{for(var ie=s.w||0;ie<o+f;ie+=65535){var Qe=ie+65535;Qe>=o&&(c[h/8|0]=f,Qe=o),h=G_(c,h+1,n.subarray(ie,Qe))}s.i=o}return H_(u,0,i+M2(h)+r)},K_=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,s=t.length|0,o=0;o!=s;){for(var u=Math.min(o+2655,s);o<u;++o)r+=i+=t[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},mR=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new fs(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return pR(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,r)},Y_=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},gR=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=K_();r.p(e.dictionary),Y_(n,2,r.d())}},yR=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&$a(6,"invalid zlib data"),(n[1]>>5&1)==1&&$a(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function j1(n,e){e||(e={});var t=K_();t.p(n);var i=mR(n,e,e.dictionary?6:2,4);return gR(i,e),Y_(i,i.length-4,t.d()),i}function vR(n,e){return dR(n.subarray(yR(n),-4),{i:2},e,e)}var xR=typeof TextDecoder<"u"&&new TextDecoder,bR=0;try{xR.decode(W_,{stream:!0}),bR=1}catch{}var Kt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function V0(){Kt.console&&typeof Kt.console.log=="function"&&Kt.console.log.apply(Kt.console,arguments)}var xi={log:V0,warn:function(n){Kt.console&&(typeof Kt.console.warn=="function"?Kt.console.warn.apply(Kt.console,arguments):V0.call(null,arguments))},error:function(n){Kt.console&&(typeof Kt.console.error=="function"?Kt.console.error.apply(Kt.console,arguments):V0(n))}};function U0(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Ac(i.response,e,t)},i.onerror=function(){xi.error("could not download file")},i.send()}function Jx(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Zp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var wh,V1,Ac=Kt.saveAs||((typeof window>"u"?"undefined":ci(window))!=="object"||window!==Kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=Kt.URL||Kt.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?Jx(r.href)?U0(n,e,t):Zp(r,r.target="_blank"):Zp(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Zp(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Jx(n))U0(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Zp(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:ci(s)!=="object"&&(xi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return U0(n,e,t);var r=n.type==="application/octet-stream",s=/constructor/i.test(Kt.HTMLElement)||Kt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":ci(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var h=u.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location=h,i=null},u.readAsDataURL(n)}else{var c=Kt.URL||Kt.webkitURL,f=c.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $_(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,s=t[i].process,o=r.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+u+c+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function q0(n,e){var t=n[0],i=n[1],r=n[2],s=n[3];t=as(t,i,r,s,e[0],7,-680876936),s=as(s,t,i,r,e[1],12,-389564586),r=as(r,s,t,i,e[2],17,606105819),i=as(i,r,s,t,e[3],22,-1044525330),t=as(t,i,r,s,e[4],7,-176418897),s=as(s,t,i,r,e[5],12,1200080426),r=as(r,s,t,i,e[6],17,-1473231341),i=as(i,r,s,t,e[7],22,-45705983),t=as(t,i,r,s,e[8],7,1770035416),s=as(s,t,i,r,e[9],12,-1958414417),r=as(r,s,t,i,e[10],17,-42063),i=as(i,r,s,t,e[11],22,-1990404162),t=as(t,i,r,s,e[12],7,1804603682),s=as(s,t,i,r,e[13],12,-40341101),r=as(r,s,t,i,e[14],17,-1502002290),t=os(t,i=as(i,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=os(s,t,i,r,e[6],9,-1069501632),r=os(r,s,t,i,e[11],14,643717713),i=os(i,r,s,t,e[0],20,-373897302),t=os(t,i,r,s,e[5],5,-701558691),s=os(s,t,i,r,e[10],9,38016083),r=os(r,s,t,i,e[15],14,-660478335),i=os(i,r,s,t,e[4],20,-405537848),t=os(t,i,r,s,e[9],5,568446438),s=os(s,t,i,r,e[14],9,-1019803690),r=os(r,s,t,i,e[3],14,-187363961),i=os(i,r,s,t,e[8],20,1163531501),t=os(t,i,r,s,e[13],5,-1444681467),s=os(s,t,i,r,e[2],9,-51403784),r=os(r,s,t,i,e[7],14,1735328473),t=ls(t,i=os(i,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=ls(s,t,i,r,e[8],11,-2022574463),r=ls(r,s,t,i,e[11],16,1839030562),i=ls(i,r,s,t,e[14],23,-35309556),t=ls(t,i,r,s,e[1],4,-1530992060),s=ls(s,t,i,r,e[4],11,1272893353),r=ls(r,s,t,i,e[7],16,-155497632),i=ls(i,r,s,t,e[10],23,-1094730640),t=ls(t,i,r,s,e[13],4,681279174),s=ls(s,t,i,r,e[0],11,-358537222),r=ls(r,s,t,i,e[3],16,-722521979),i=ls(i,r,s,t,e[6],23,76029189),t=ls(t,i,r,s,e[9],4,-640364487),s=ls(s,t,i,r,e[12],11,-421815835),r=ls(r,s,t,i,e[15],16,530742520),t=us(t,i=ls(i,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=us(s,t,i,r,e[7],10,1126891415),r=us(r,s,t,i,e[14],15,-1416354905),i=us(i,r,s,t,e[5],21,-57434055),t=us(t,i,r,s,e[12],6,1700485571),s=us(s,t,i,r,e[3],10,-1894986606),r=us(r,s,t,i,e[10],15,-1051523),i=us(i,r,s,t,e[1],21,-2054922799),t=us(t,i,r,s,e[8],6,1873313359),s=us(s,t,i,r,e[15],10,-30611744),r=us(r,s,t,i,e[6],15,-1560198380),i=us(i,r,s,t,e[13],21,1309151649),t=us(t,i,r,s,e[4],6,-145523070),s=us(s,t,i,r,e[11],10,-1120210379),r=us(r,s,t,i,e[2],15,718787259),i=us(i,r,s,t,e[9],21,-343485551),n[0]=Tu(t,n[0]),n[1]=Tu(i,n[1]),n[2]=Tu(r,n[2]),n[3]=Tu(s,n[3])}function pg(n,e,t,i,r,s){return e=Tu(Tu(e,n),Tu(i,s)),Tu(e<<r|e>>>32-r,t)}function as(n,e,t,i,r,s,o){return pg(e&t|~e&i,n,e,r,s,o)}function os(n,e,t,i,r,s,o){return pg(e&i|t&~i,n,e,r,s,o)}function ls(n,e,t,i,r,s,o){return pg(e^t^i,n,e,r,s,o)}function us(n,e,t,i,r,s,o){return pg(t^(e|~i),n,e,r,s,o)}function J_(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)q0(i,wR(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(q0(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,q0(i,r),i}function wR(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}wh=Kt.atob.bind(Kt),V1=Kt.btoa.bind(Kt);var Zx="0123456789abcdef".split("");function _R(n){for(var e="",t=0;t<4;t++)e+=Zx[n>>8*t+4&15]+Zx[n>>8*t&15];return e}function SR(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function U1(n){return J_(n).map(SR).join("")}var AR=function(n){for(var e=0;e<n.length;e++)n[e]=_R(n[e]);return n.join("")}(J_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Tu(n,e){if(AR){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q1(n,e){var t,i,r,s;if(n!==t){for(var o=(r=n,s=1+(256/n.length>>0),new Array(s+1).join(r)),u=[],c=0;c<256;c++)u[c]=c;var f=0;for(c=0;c<256;c++){var h=u[c];f=(f+h+o.charCodeAt(c))%256,u[c]=u[f],u[f]=h}t=n,i=u}else u=i;var v=e.length,b=0,x=0,N="";for(c=0;c<v;c++)x=(x+(h=u[b=(b+1)%256]))%256,u[b]=u[x],u[x]=h,o=u[(u[b]+u[x])%256],N+=String.fromCharCode(e.charCodeAt(c)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Xx={print:4,modify:8,copy:16,"annot-forms":32};function Rf(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(u){if(Xx.perm!==void 0)throw new Error("Invalid permission: "+u);r+=Xx[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=U1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=q1(this.encryptionKey,this.padding)}function Df(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=n[i]}return e}function Qx(n){if(ci(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!r],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,i)}catch(u){Kt.console&&xi.error("jsPDF PubSub Error",u.message,u)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Km(n){if(!(this instanceof Km))return new Km(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Z_(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ec(n,e,t,i,r){if(!(this instanceof Ec))return new Ec(n,e,t,i,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,Z_.call(this,i,r)}function zf(n,e,t,i,r){if(!(this instanceof zf))return new zf(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Z_.call(this,i,r)}function Gt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],u=1,c=16,f="S",h=null;ci(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",t=(""+(t||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,b={},x={internal:{},__private__:{}};x.__private__.PubSub=Qx;var N="1.3",T=x.__private__.getPdfVersion=function(){return N};x.__private__.setPdfVersion=function(C){N=C};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return M};var k=x.__private__.getPageFormat=function(C){return M[C]};r=r||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},I=P.COMPAT;function J(){this.saveGraphicsState(),se(new vt(ut,0,0,-ut,0,co()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),f="n",I=P.ADVANCED}function q(){this.restoreGraphicsState(),f="S",I=P.COMPAT}var W=x.__private__.combineFontStyleAndFontWeight=function(C,B){if(C=="bold"&&B=="normal"||C=="bold"&&B==400||C=="normal"&&B=="italic"||C=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(C=B==400||B==="normal"?C==="italic"?"italic":"normal":B!=700&&B!=="bold"||C!=="normal"?(B==700?"bold":B)+""+C:"bold"),C};x.advancedAPI=function(C){var B=I===P.COMPAT;return B&&J.call(this),typeof C!="function"||(C(this),B&&q.call(this)),this},x.compatAPI=function(C){var B=I===P.ADVANCED;return B&&q.call(this),typeof C!="function"||(C(this),B&&J.call(this)),this},x.isAdvancedAPI=function(){return I===P.ADVANCED};var ee,j=function(C){if(I!==P.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ie=x.roundToPrecision=x.__private__.roundToPrecision=function(C,B){var oe=e||B;if(isNaN(C)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(oe).replace(/0+$/,"")};ee=x.hpf=x.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(C,16)};var le=x.f2=x.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return ie(C,2)},F=x.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return ie(C,3)},G=x.scale=x.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return I===P.COMPAT?C*ut:I===P.ADVANCED?C:void 0},fe=function(C){return I===P.COMPAT?co()-C:I===P.ADVANCED?C:void 0},ae=function(C){return G(fe(C))};x.__private__.setPrecision=x.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var ge,K="00000000000000000000000000000000",Q=x.__private__.getFileId=function(){return K},Z=x.__private__.setFileId=function(C){return K=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(An=new Rf(h.userPermissions,h.userPassword,h.ownerPassword,K)),K};x.setFileId=function(C){return Z(C),this},x.getFileId=function(){return Q()};var de=x.__private__.convertDateToPDFDate=function(C){var B=C.getTimezoneOffset(),oe=B<0?"+":"-",ye=Math.floor(Math.abs(B/60)),Ee=Math.abs(B%60),Fe=[oe,te(ye),"'",te(Ee),"'"].join("");return["D:",C.getFullYear(),te(C.getMonth()+1),te(C.getDate()),te(C.getHours()),te(C.getMinutes()),te(C.getSeconds()),Fe].join("")},z=x.__private__.convertPDFDateToDate=function(C){var B=parseInt(C.substr(2,4),10),oe=parseInt(C.substr(6,2),10)-1,ye=parseInt(C.substr(8,2),10),Ee=parseInt(C.substr(10,2),10),Fe=parseInt(C.substr(12,2),10),$e=parseInt(C.substr(14,2),10);return new Date(B,oe,ye,Ee,Fe,$e,0)},me=x.__private__.setCreationDate=function(C){var B;if(C===void 0&&(C=new Date),C instanceof Date)B=de(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=C}return ge=B},R=x.__private__.getCreationDate=function(C){var B=ge;return C==="jsDate"&&(B=z(ge)),B};x.setCreationDate=function(C){return me(C),this},x.getCreationDate=function(C){return R(C)};var H,te=x.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},ue=x.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},ce=0,Ae=[],_e=[],Ce=0,Be=[],We=[],et=!1,Qe=_e,yt=function(){ce=0,Ce=0,_e=[],Ae=[],Be=[],Pr=Xn(),zn=Xn()};x.__private__.setCustomOutputDestination=function(C){et=!0,Qe=C};var Re=function(C){et||(Qe=C)};x.__private__.resetCustomOutputDestination=function(){et=!1,Qe=_e};var se=x.__private__.out=function(C){return C=C.toString(),Ce+=C.length+1,Qe.push(C),Qe},ft=x.__private__.write=function(C){return se(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},gt=x.__private__.getArrayBuffer=function(C){for(var B=C.length,oe=new ArrayBuffer(B),ye=new Uint8Array(oe);B--;)ye[B]=C.charCodeAt(B);return oe},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Je};var nt=n.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(C){return nt=I===P.ADVANCED?C/ut:C,this};var it,rt=x.__private__.getFontSize=x.getFontSize=function(){return I===P.COMPAT?nt:nt*ut},St=n.R2L||!1;x.__private__.setR2L=x.setR2L=function(C){return St=C,this},x.__private__.getR2L=x.getR2L=function(){return St};var Rt,Mt=x.__private__.setZoomMode=function(C){var B=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))it=C;else if(isNaN(C)){if(B.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');it=C}else it=parseInt(C,10)};x.__private__.getZoomMode=function(){return it};var kt,It=x.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Rt=C};x.__private__.getPageMode=function(){return Rt};var Qt=x.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');kt=C};x.__private__.getLayoutMode=function(){return kt},x.__private__.setDisplayMode=x.setDisplayMode=function(C,B,oe){return Mt(C),Qt(B),It(oe),this};var lt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(C){if(Object.keys(lt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return lt[C]},x.__private__.getDocumentProperties=function(){return lt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(C){for(var B in lt)lt.hasOwnProperty(B)&&C[B]&&(lt[B]=C[B]);return this},x.__private__.setDocumentProperty=function(C,B){if(Object.keys(lt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return lt[C]=B};var qt,ut,ii,cn,Ii,zt={},Cn={},wr=[],fn={},_r={},Zn={},Sr={},Oi=null,qn=0,Lt=[],on=new Qx(x),Fr=n.hotfixes||[],nn={},mi={},cr=[],vt=function C(B,oe,ye,Ee,Fe,$e){if(!(this instanceof C))return new C(B,oe,ye,Ee,Fe,$e);isNaN(B)&&(B=1),isNaN(oe)&&(oe=0),isNaN(ye)&&(ye=0),isNaN(Ee)&&(Ee=1),isNaN(Fe)&&(Fe=0),isNaN($e)&&($e=0),this._matrix=[B,oe,ye,Ee,Fe,$e]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ee).join(C)},vt.prototype.multiply=function(C){var B=C.sx*this.sx+C.shy*this.shx,oe=C.sx*this.shy+C.shy*this.sy,ye=C.shx*this.sx+C.sy*this.shx,Ee=C.shx*this.shy+C.sy*this.sy,Fe=C.tx*this.sx+C.ty*this.shx+this.tx,$e=C.tx*this.shy+C.ty*this.sy+this.ty;return new vt(B,oe,ye,Ee,Fe,$e)},vt.prototype.decompose=function(){var C=this.sx,B=this.shy,oe=this.shx,ye=this.sy,Ee=this.tx,Fe=this.ty,$e=Math.sqrt(C*C+B*B),dt=(C/=$e)*oe+(B/=$e)*ye;oe-=C*dt,ye-=B*dt;var Tt=Math.sqrt(oe*oe+ye*ye);return dt/=Tt,C*(ye/=Tt)<B*(oe/=Tt)&&(C=-C,B=-B,dt=-dt,$e=-$e),{scale:new vt($e,0,0,Tt,0,0),translate:new vt(1,0,0,1,Ee,Fe),rotate:new vt(C,B,-B,C,0,0),skew:new vt(1,0,dt,1,0,0)}},vt.prototype.toString=function(C){return this.join(" ")},vt.prototype.inversed=function(){var C=this.sx,B=this.shy,oe=this.shx,ye=this.sy,Ee=this.tx,Fe=this.ty,$e=1/(C*ye-B*oe),dt=ye*$e,Tt=-B*$e,en=-oe*$e,Jt=C*$e;return new vt(dt,Tt,en,Jt,-dt*Ee-en*Fe,-Tt*Ee-Jt*Fe)},vt.prototype.applyToPoint=function(C){var B=C.x*this.sx+C.y*this.shx+this.tx,oe=C.x*this.shy+C.y*this.sy+this.ty;return new Ul(B,oe)},vt.prototype.applyToRectangle=function(C){var B=this.applyToPoint(C),oe=this.applyToPoint(new Ul(C.x+C.w,C.y+C.h));return new Gu(B.x,B.y,oe.x-B.x,oe.y-B.y)},vt.prototype.clone=function(){var C=this.sx,B=this.shy,oe=this.shx,ye=this.sy,Ee=this.tx,Fe=this.ty;return new vt(C,B,oe,ye,Ee,Fe)},x.Matrix=vt;var Bn=x.matrixMult=function(C,B){return B.multiply(C)},Sn=new vt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Sn;var ri=function(C,B){if(!_r[C]){var oe=(B instanceof Ec?"Sh":"P")+(Object.keys(fn).length+1).toString(10);B.id=oe,_r[C]=oe,fn[oe]=B,on.publish("addPattern",B)}};x.ShadingPattern=Ec,x.TilingPattern=zf,x.addShadingPattern=function(C,B){return j("addShadingPattern()"),ri(C,B),this},x.beginTilingPattern=function(C){j("beginTilingPattern()"),ql(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},x.endTilingPattern=function(C,B){j("endTilingPattern()"),B.stream=We[H].join(`
`),ri(C,B),on.publish("endTilingPattern",B),cr.pop().restore()};var Rn=x.__private__.newObject=function(){var C=Xn();return gi(C,!0),C},Xn=x.__private__.newObjectDeferred=function(){return ce++,Ae[ce]=function(){return Ce},ce},gi=function(C,B){return B=typeof B=="boolean"&&B,Ae[C]=Ce,B&&se(C+" 0 obj"),C},Wi=x.__private__.newAdditionalObject=function(){var C={objId:Xn(),content:""};return Be.push(C),C},Pr=Xn(),zn=Xn(),Ki=x.__private__.decodeColorString=function(C){var B=C.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length===5&&(B[4]==="k"||B[4]==="K")&&(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var oe=parseFloat(B[0]);B=[oe,oe,oe,"r"]}for(var ye="#",Ee=0;Ee<3;Ee++)ye+=("0"+Math.floor(255*parseFloat(B[Ee])).toString(16)).slice(-2);return ye},Ot=x.__private__.encodeColorString=function(C){var B;typeof C=="string"&&(C={ch1:C});var oe=C.ch1,ye=C.ch2,Ee=C.ch3,Fe=C.ch4,$e=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var dt=new $_(oe);if(dt.ok)oe=dt.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var Tt=parseInt(oe.substr(1),16);oe=Tt>>16&255,ye=Tt>>8&255,Ee=255&Tt}if(ye===void 0||Fe===void 0&&oe===ye&&ye===Ee)if(typeof oe=="string")B=oe+" "+$e[0];else switch(C.precision){case 2:B=le(oe/255)+" "+$e[0];break;case 3:default:B=F(oe/255)+" "+$e[0]}else if(Fe===void 0||ci(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return B=["1.","1.","1.",$e[1]].join(" ");if(typeof oe=="string")B=[oe,ye,Ee,$e[1]].join(" ");else switch(C.precision){case 2:B=[le(oe/255),le(ye/255),le(Ee/255),$e[1]].join(" ");break;default:case 3:B=[F(oe/255),F(ye/255),F(Ee/255),$e[1]].join(" ")}}else if(typeof oe=="string")B=[oe,ye,Ee,Fe,$e[2]].join(" ");else switch(C.precision){case 2:B=[le(oe),le(ye),le(Ee),le(Fe),$e[2]].join(" ");break;case 3:default:B=[F(oe),F(ye),F(Ee),F(Fe),$e[2]].join(" ")}return B},Fi=x.__private__.getFilters=function(){return o},Yi=x.__private__.putStream=function(C){var B=(C=C||{}).data||"",oe=C.filters||Fi(),ye=C.alreadyAppliedFilters||[],Ee=C.addLength1||!1,Fe=B.length,$e=C.objectId,dt=function(Zi){return Zi};if(h!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(dt=An.encryptor($e,0));var Tt={};oe===!0&&(oe=["FlateEncode"]);var en=C.additionalKeyValues||[],Jt=(Tt=Gt.API.processDataByFilters!==void 0?Gt.API.processDataByFilters(B,oe):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(Tt.data.length!==0&&(en.push({key:"Length",value:Tt.data.length}),Ee===!0&&en.push({key:"Length1",value:Fe})),Jt.length!=0)if(Jt.split("/").length-1==1)en.push({key:"Filter",value:Jt});else{en.push({key:"Filter",value:"["+Jt+"]"});for(var En=0;En<en.length;En+=1)if(en[En].key==="DecodeParms"){for(var wi=[],Ei=0;Ei<Tt.reverseChain.split("/").length-1;Ei+=1)wi.push("null");wi.push(en[En].value),en[En].value="["+wi.join(" ")+"]"}}se("<<");for(var Ji=0;Ji<en.length;Ji++)se("/"+en[Ji].key+" "+en[Ji].value);se(">>"),Tt.data.length!==0&&(se("stream"),se(dt(Tt.data)),se("endstream"))},In=x.__private__.putPage=function(C){var B=C.number,oe=C.data,ye=C.objId,Ee=C.contentsObjId;gi(ye,!0),se("<</Type /Page"),se("/Parent "+C.rootDictionaryObjId+" 0 R"),se("/Resources "+C.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(ee(C.mediaBox.bottomLeftX))+" "+parseFloat(ee(C.mediaBox.bottomLeftY))+" "+ee(C.mediaBox.topRightX)+" "+ee(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&se("/CropBox ["+ee(C.cropBox.bottomLeftX)+" "+ee(C.cropBox.bottomLeftY)+" "+ee(C.cropBox.topRightX)+" "+ee(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&se("/BleedBox ["+ee(C.bleedBox.bottomLeftX)+" "+ee(C.bleedBox.bottomLeftY)+" "+ee(C.bleedBox.topRightX)+" "+ee(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&se("/TrimBox ["+ee(C.trimBox.bottomLeftX)+" "+ee(C.trimBox.bottomLeftY)+" "+ee(C.trimBox.topRightX)+" "+ee(C.trimBox.topRightY)+"]"),C.artBox!==null&&se("/ArtBox ["+ee(C.artBox.bottomLeftX)+" "+ee(C.artBox.bottomLeftY)+" "+ee(C.artBox.topRightX)+" "+ee(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&se("/UserUnit "+C.userUnit),on.publish("putPage",{objId:ye,pageContext:Lt[B],pageNumber:B,page:oe}),se("/Contents "+Ee+" 0 R"),se(">>"),se("endobj");var Fe=oe.join(`
`);return I===P.ADVANCED&&(Fe+=`
Q`),gi(Ee,!0),Yi({data:Fe,filters:Fi(),objectId:Ee}),se("endobj"),ye},Qr=x.__private__.putPages=function(){var C,B,oe=[];for(C=1;C<=qn;C++)Lt[C].objId=Xn(),Lt[C].contentsObjId=Xn();for(C=1;C<=qn;C++)oe.push(In({number:C,data:We[C],objId:Lt[C].objId,contentsObjId:Lt[C].contentsObjId,mediaBox:Lt[C].mediaBox,cropBox:Lt[C].cropBox,bleedBox:Lt[C].bleedBox,trimBox:Lt[C].trimBox,artBox:Lt[C].artBox,userUnit:Lt[C].userUnit,rootDictionaryObjId:Pr,resourceDictionaryObjId:zn}));gi(Pr,!0),se("<</Type /Pages");var ye="/Kids [";for(B=0;B<qn;B++)ye+=oe[B]+" 0 R ";se(ye+"]"),se("/Count "+qn),se(">>"),se("endobj"),on.publish("postPutPages")},yi=function(C){on.publish("putFont",{font:C,out:se,newObject:Rn,putStream:Yi}),C.isAlreadyPutted!==!0&&(C.objectNumber=Rn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Df(C.postScriptName)),se("/Subtype /Type1"),typeof C.encoding=="string"&&se("/Encoding /"+C.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},$i=function(){for(var C in zt)zt.hasOwnProperty(C)&&(v===!1||v===!0&&b.hasOwnProperty(C))&&yi(zt[C])},Ci=function(C){C.objectNumber=Rn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[ee(C.x),ee(C.y),ee(C.x+C.width),ee(C.y+C.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var oe=C.pages[1].join(`
`);Yi({data:oe,additionalKeyValues:B,objectId:C.objectNumber}),se("endobj")},Bs=function(){for(var C in nn)nn.hasOwnProperty(C)&&Ci(nn[C])},Ca=function(C,B){var oe,ye=[],Ee=1/(B-1);for(oe=0;oe<1;oe+=Ee)ye.push(oe);if(ye.push(1),C[0].offset!=0){var Fe={offset:0,color:C[0].color};C.unshift(Fe)}if(C[C.length-1].offset!=1){var $e={offset:1,color:C[C.length-1].color};C.push($e)}for(var dt="",Tt=0,en=0;en<ye.length;en++){for(oe=ye[en];oe>C[Tt+1].offset;)Tt++;var Jt=C[Tt].offset,En=(oe-Jt)/(C[Tt+1].offset-Jt),wi=C[Tt].color,Ei=C[Tt+1].color;dt+=ue(Math.round((1-En)*wi[0]+En*Ei[0]).toString(16))+ue(Math.round((1-En)*wi[1]+En*Ei[1]).toString(16))+ue(Math.round((1-En)*wi[2]+En*Ei[2]).toString(16))}return dt.trim()},ro=function(C,B){B||(B=21);var oe=Rn(),ye=Ca(C.colors,B),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+B+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yi({data:ye,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),se("endobj"),C.objectNumber=Rn(),se("<< /ShadingType "+C.type),se("/ColorSpace /DeviceRGB");var Fe="/Coords ["+ee(parseFloat(C.coords[0]))+" "+ee(parseFloat(C.coords[1]))+" ";C.type===2?Fe+=ee(parseFloat(C.coords[2]))+" "+ee(parseFloat(C.coords[3])):Fe+=ee(parseFloat(C.coords[2]))+" "+ee(parseFloat(C.coords[3]))+" "+ee(parseFloat(C.coords[4]))+" "+ee(parseFloat(C.coords[5])),se(Fe+="]"),C.matrix&&se("/Matrix ["+C.matrix.toString()+"]"),se("/Function "+oe+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Yo=function(C,B){var oe=Xn(),ye=Rn();B.push({resourcesOid:oe,objectOid:ye}),C.objectNumber=ye;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+C.boundingBox.map(ee).join(" ")+"]"}),Ee.push({key:"XStep",value:ee(C.xStep)}),Ee.push({key:"YStep",value:ee(C.yStep)}),Ee.push({key:"Resources",value:oe+" 0 R"}),C.matrix&&Ee.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Yi({data:C.stream,additionalKeyValues:Ee,objectId:C.objectNumber}),se("endobj")},ps=function(C){var B;for(B in fn)fn.hasOwnProperty(B)&&(fn[B]instanceof Ec?ro(fn[B]):fn[B]instanceof zf&&Yo(fn[B],C))},As=function(C){for(var B in C.objectNumber=Rn(),se("<<"),C)switch(B){case"opacity":se("/ca "+le(C[B]));break;case"stroke-opacity":se("/CA "+le(C[B]))}se(">>"),se("endobj")},Bi=function(){var C;for(C in Zn)Zn.hasOwnProperty(C)&&As(Zn[C])},xt=function(){for(var C in se("/XObject <<"),nn)nn.hasOwnProperty(C)&&nn[C].objectNumber>=0&&se("/"+C+" "+nn[C].objectNumber+" 0 R");on.publish("putXobjectDict"),se(">>")},At=function(){An.oid=Rn(),se("<<"),se("/Filter /Standard"),se("/V "+An.v),se("/R "+An.r),se("/U <"+An.toHexString(An.U)+">"),se("/O <"+An.toHexString(An.O)+">"),se("/P "+An.P),se(">>"),se("endobj")},yn=function(){for(var C in se("/Font <<"),zt)zt.hasOwnProperty(C)&&(v===!1||v===!0&&b.hasOwnProperty(C))&&se("/"+C+" "+zt[C].objectNumber+" 0 R");se(">>")},rn=function(){if(Object.keys(fn).length>0){for(var C in se("/Shading <<"),fn)fn.hasOwnProperty(C)&&fn[C]instanceof Ec&&fn[C].objectNumber>=0&&se("/"+C+" "+fn[C].objectNumber+" 0 R");on.publish("putShadingPatternDict"),se(">>")}},ti=function(C){if(Object.keys(fn).length>0){for(var B in se("/Pattern <<"),fn)fn.hasOwnProperty(B)&&fn[B]instanceof x.TilingPattern&&fn[B].objectNumber>=0&&fn[B].objectNumber<C&&se("/"+B+" "+fn[B].objectNumber+" 0 R");on.publish("putTilingPatternDict"),se(">>")}},bi=function(){if(Object.keys(Zn).length>0){var C;for(C in se("/ExtGState <<"),Zn)Zn.hasOwnProperty(C)&&Zn[C].objectNumber>=0&&se("/"+C+" "+Zn[C].objectNumber+" 0 R");on.publish("putGStateDict"),se(">>")}},Ft=function(C){gi(C.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),yn(),rn(),ti(C.objectOid),bi(),xt(),se(">>"),se("endobj")},pe=function(){var C=[];$i(),Bi(),Bs(),ps(C),on.publish("putResources"),C.forEach(Ft),Ft({resourcesOid:zn,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources")},Ne=function(){on.publish("putAdditionalObjects");for(var C=0;C<Be.length;C++){var B=Be[C];gi(B.objId,!0),se(B.content),se("endobj")}on.publish("postPutAdditionalObjects")},Ue=function(C){Cn[C.fontName]=Cn[C.fontName]||{},Cn[C.fontName][C.fontStyle]=C.id},Ye=function(C,B,oe,ye,Ee){var Fe={id:"F"+(Object.keys(zt).length+1).toString(10),postScriptName:C,fontName:B,fontStyle:oe,encoding:ye,isStandardFont:Ee||!1,metadata:{}};return on.publish("addFont",{font:Fe,instance:this}),zt[Fe.id]=Fe,Ue(Fe),Fe.id},Xe=function(C){for(var B=0,oe=Je.length;B<oe;B++){var ye=Ye.call(this,C[B][0],C[B][1],C[B][2],Je[B][3],!0);v===!1&&(b[ye]=!0);var Ee=C[B][0].split("-");Ue({id:ye,fontName:Ee[0],fontStyle:Ee[1]||""})}on.publish("addFonts",{fonts:zt,dictionary:Cn})},Ze=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(ye){var B=ye.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var oe="Error in function "+B.split(`
`)[0].split("<")[0]+": "+ye.message;if(!Kt.console)throw new Error(oe);Kt.console.error(oe,ye),Kt.alert&&alert(oe)}},C.foo.bar=C,C.foo},ht=function(C,B){var oe,ye,Ee,Fe,$e,dt,Tt,en,Jt;if(Ee=(B=B||{}).sourceEncoding||"Unicode",$e=B.outputEncoding,(B.autoencode||$e)&&zt[qt].metadata&&zt[qt].metadata[Ee]&&zt[qt].metadata[Ee].encoding&&(Fe=zt[qt].metadata[Ee].encoding,!$e&&zt[qt].encoding&&($e=zt[qt].encoding),!$e&&Fe.codePages&&($e=Fe.codePages[0]),typeof $e=="string"&&($e=Fe[$e]),$e)){for(Tt=!1,dt=[],oe=0,ye=C.length;oe<ye;oe++)(en=$e[C.charCodeAt(oe)])?dt.push(String.fromCharCode(en)):dt.push(C[oe]),dt[oe].charCodeAt(0)>>8&&(Tt=!0);C=dt.join("")}for(oe=C.length;Tt===void 0&&oe!==0;)C.charCodeAt(oe-1)>>8&&(Tt=!0),oe--;if(!Tt)return C;for(dt=B.noBOM?[]:[254,255],oe=0,ye=C.length;oe<ye;oe++){if((Jt=(en=C.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dt.push(Jt),dt.push(en-(Jt<<8))}return String.fromCharCode.apply(void 0,dt)},ct=x.__private__.pdfEscape=x.pdfEscape=function(C,B){return ht(C,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jt=x.__private__.beginPage=function(C){We[++qn]=[],Lt[qn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},Bt(qn),Re(We[H])},dn=function(C,B){var oe,ye,Ee;switch(t=B||t,typeof C=="string"&&(oe=k(C.toLowerCase()),Array.isArray(oe)&&(ye=oe[0],Ee=oe[1])),Array.isArray(C)&&(ye=C[0]*ut,Ee=C[1]*ut),isNaN(ye)&&(ye=r[0],Ee=r[1]),(ye>14400||Ee>14400)&&(xi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Ee=Math.min(14400,Ee)),r=[ye,Ee],t.substr(0,1)){case"l":Ee>ye&&(r=[Ee,ye]);break;case"p":ye>Ee&&(r=[Ee,ye])}jt(r),Wc(oo),se(zs),Hu!==0&&se(Hu+" J"),Vl!==0&&se(Vl+" j"),on.publish("addPage",{pageNumber:qn})},hn=function(C){C>0&&C<=qn&&(We.splice(C,1),Lt.splice(C,1),qn--,H>qn&&(H=qn),this.setPage(H))},Bt=function(C){C>0&&C<=qn&&(H=C)},sn=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return We.length-1},si=function(C,B,oe){var ye,Ee=void 0;return oe=oe||{},C=C!==void 0?C:zt[qt].fontName,B=B!==void 0?B:zt[qt].fontStyle,ye=C.toLowerCase(),Cn[ye]!==void 0&&Cn[ye][B]!==void 0?Ee=Cn[ye][B]:Cn[C]!==void 0&&Cn[C][B]!==void 0?Ee=Cn[C][B]:oe.disableWarning===!1&&xi.warn("Unable to look up font label for font '"+C+"', '"+B+"'. Refer to getFontList() for available fonts."),Ee||oe.noFallback||(Ee=Cn.times[B])==null&&(Ee=Cn.times.normal),Ee},bn=x.__private__.putInfo=function(){var C=Rn(),B=function(ye){return ye};for(var oe in h!==null&&(B=An.encryptor(C,0)),se("<<"),se("/Producer ("+ct(B("jsPDF "+Gt.version))+")"),lt)lt.hasOwnProperty(oe)&&lt[oe]&&se("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+ct(B(lt[oe]))+")");se("/CreationDate ("+ct(B(ge))+")"),se(">>"),se("endobj")},Qn=x.__private__.putCatalog=function(C){var B=(C=C||{}).rootDictionaryObjId||Pr;switch(Rn(),se("<<"),se("/Type /Catalog"),se("/Pages "+B+" 0 R"),it||(it="fullwidth"),it){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+it;oe.substr(oe.length-1)==="%"&&(it=parseInt(it)/100),typeof it=="number"&&se("/OpenAction [3 0 R /XYZ null null "+le(it)+"]")}switch(kt||(kt="continuous"),kt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Rt&&se("/PageMode /"+Rt),on.publish("putCatalog"),se(">>"),se("endobj")},fi=x.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ce+1)),se("/Root "+ce+" 0 R"),se("/Info "+(ce-1)+" 0 R"),h!==null&&se("/Encrypt "+An.oid+" 0 R"),se("/ID [ <"+K+"> <"+K+"> ]"),se(">>")},Nn=x.__private__.putHeader=function(){se("%PDF-"+N),se("%ºß¬à")},Hn=x.__private__.putXRef=function(){var C="0000000000";se("xref"),se("0 "+(ce+1)),se("0000000000 65535 f ");for(var B=1;B<=ce;B++)typeof Ae[B]=="function"?se((C+Ae[B]()).slice(-10)+" 00000 n "):Ae[B]!==void 0?se((C+Ae[B]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Dt=x.__private__.buildDocument=function(){yt(),Re(_e),on.publish("buildDocument"),Nn(),Qr(),Ne(),pe(),h!==null&&At(),bn(),Qn();var C=Ce;return Hn(),fi(),se("startxref"),se(""+C),se("%%EOF"),Re(We[H]),_e.join(`
`)},ln=x.__private__.getBlob=function(C){return new Blob([gt(C)],{type:"application/pdf"})},Ni=x.output=x.__private__.output=Ze(function(C,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",C){case void 0:return Dt();case"save":x.save(B.filename);break;case"arraybuffer":return gt(Dt());case"blob":return ln(Dt());case"bloburi":case"bloburl":if(Kt.URL!==void 0&&typeof Kt.URL.createObjectURL=="function")return Kt.URL&&Kt.URL.createObjectURL(ln(Dt()))||void 0;xi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",ye=Dt();try{oe=V1(ye)}catch{oe=V1(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+B.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(Ee=B.pdfObjectUrl,Fe="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",dt=Kt.open();return dt!==null&&dt.document.write($e),dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',en=Kt.open();if(en!==null){en.document.write(Tt);var Jt=this;en.document.documentElement.querySelector("#pdfViewer").onload=function(){en.document.title=B.filename,en.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Jt.output("bloburl"))}}return en}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var En='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',wi=Kt.open();if(wi!==null&&(wi.document.write(En),wi.document.title=B.filename),wi||typeof safari>"u")return wi;break;case"datauri":case"dataurl":return Kt.document.location.href=this.output("datauristring",B);default:return null}}),ei=function(C){return Array.isArray(Fr)===!0&&Fr.indexOf(C)>-1};switch(i){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=ei("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ut=i}var An=null;me(),Z();var ms=function(C){return h!==null?An.encryptor(C,0):function(B){return B}},Ar=x.__private__.getPageInfo=x.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Lt[C].objId,pageNumber:C,pageContext:Lt[C]}},Vt=x.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in Lt)if(Lt[B].objId===C)break;return Ar(B)},so=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Lt[H].objId,pageNumber:H,pageContext:Lt[H]}};x.addPage=function(){return dn.apply(this,arguments),this},x.setPage=function(){return Bt.apply(this,arguments),Re.call(this,We[H]),this},x.insertPage=function(C){return this.addPage(),this.movePage(H,C),this},x.movePage=function(C,B){var oe,ye;if(C>B){oe=We[C],ye=Lt[C];for(var Ee=C;Ee>B;Ee--)We[Ee]=We[Ee-1],Lt[Ee]=Lt[Ee-1];We[B]=oe,Lt[B]=ye,this.setPage(B)}else if(C<B){oe=We[C],ye=Lt[C];for(var Fe=C;Fe<B;Fe++)We[Fe]=We[Fe+1],Lt[Fe]=Lt[Fe+1];We[B]=oe,Lt[B]=ye,this.setPage(B)}return this},x.deletePage=function(){return hn.apply(this,arguments),this},x.__private__.text=x.text=function(C,B,oe,ye,Ee){var Fe,$e,dt,Tt,en,Jt,En,wi,Ei,Ji=(ye=ye||{}).scope||this;if(typeof C=="number"&&typeof B=="number"&&(typeof oe=="string"||Array.isArray(oe))){var Zi=oe;oe=B,B=C,C=Zi}if(arguments[3]instanceof vt?(j("The transform parameter of text() with a Matrix value"),Ei=Ee):(dt=arguments[4],Tt=arguments[5],ci(En=arguments[3])==="object"&&En!==null||(typeof dt=="string"&&(Tt=dt,dt=null),typeof En=="string"&&(Tt=En,En=null),typeof En=="number"&&(dt=En,En=null),ye={flags:En,angle:dt,align:Tt})),isNaN(B)||isNaN(oe)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Ji;var Tr="",js=!1,vs=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:gs,Vs=Ji.internal.scaleFactor;function Yu(wn){return wn=wn.split("	").join(Array(ye.TabLen||9).join(" ")),ct(wn,En)}function Ea(wn){for(var _n,di=wn.concat(),Xi=[],Ns=di.length;Ns--;)typeof(_n=di.shift())=="string"?Xi.push(_n):Array.isArray(wn)&&(_n.length===1||_n[1]===void 0&&_n[2]===void 0)?Xi.push(_n[0]):Xi.push([_n[0],_n[1],_n[2]]);return Xi}function ka(wn,_n){var di;if(typeof wn=="string")di=_n(wn)[0];else if(Array.isArray(wn)){for(var Xi,Ns,wo=wn.concat(),_o=[],Pa=wo.length;Pa--;)typeof(Xi=wo.shift())=="string"?_o.push(_n(Xi)[0]):Array.isArray(Xi)&&typeof Xi[0]=="string"&&(Ns=_n(Xi[0],Xi[1],Xi[2]),_o.push([Ns[0],Ns[1],Ns[2]]));di=_o}return di}var Wl=!1,fo=!0;if(typeof C=="string")Wl=!0;else if(Array.isArray(C)){var Kl=C.concat();$e=[];for(var Qo,fr=Kl.length;fr--;)(typeof(Qo=Kl.shift())!="string"||Array.isArray(Qo)&&typeof Qo[0]!="string")&&(fo=!1);Wl=fo}if(Wl===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var ho=nt/Ji.internal.scaleFactor,el=ho*(vs-1);switch(ye.baseline){case"bottom":oe-=el;break;case"top":oe+=ho-el;break;case"hanging":oe+=ho-2*el;break;case"middle":oe+=ho/2-el}if((Jt=ye.maxWidth||0)>0&&(typeof C=="string"?C=Ji.splitTextToSize(C,Jt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(wn,_n){return wn.concat(Ji.splitTextToSize(_n,Jt))},[]))),Fe={text:C,x:B,y:oe,options:ye,mutex:{pdfEscape:ct,activeFontKey:qt,fonts:zt,activeFontSize:nt}},on.publish("preProcessText",Fe),C=Fe.text,dt=(ye=Fe.options).angle,!(Ei instanceof vt)&&dt&&typeof dt=="number"){dt*=Math.PI/180,ye.rotationDirection===0&&(dt=-dt),I===P.ADVANCED&&(dt=-dt);var tl=Math.cos(dt),Yl=Math.sin(dt);Ei=new vt(tl,Yl,-Yl,tl,0,0)}else dt&&dt instanceof vt&&(Ei=dt);I!==P.ADVANCED||Ei||(Ei=Sn),(en=ye.charSpace||jl)!==void 0&&(Tr+=ee(G(en))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wi=ye.horizontalScale)!==void 0&&(Tr+=ee(100*wi)+` Tz
`),ye.lang;var es=-1,hd=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,$u=Ji.internal.getCurrentPageInfo().pageContext;switch(hd){case 0:case!1:case"fill":es=0;break;case 1:case!0:case"stroke":es=1;break;case 2:case"fillThenStroke":es=2;break;case 3:case"invisible":es=3;break;case 4:case"fillAndAddForClipping":es=4;break;case 5:case"strokeAndAddPathForClipping":es=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":es=6;break;case 7:case"addToPathForClipping":es=7}var Yc=$u.usedRenderingMode!==void 0?$u.usedRenderingMode:-1;es!==-1?Tr+=es+` Tr
`:Yc!==-1&&(Tr+=`0 Tr
`),es!==-1&&($u.usedRenderingMode=es),Tt=ye.align||"left";var Cs,Cr=nt*vs,po=Ji.internal.pageSize.getWidth(),Ju=zt[qt];en=ye.charSpace||jl,Jt=ye.maxWidth||0,En=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var Ma=[],mo=function(wn){return Ji.getStringUnitWidth(wn,{font:Ju,charSpace:en,fontSize:nt,doKerning:!1})*nt/Vs};if(Object.prototype.toString.call(C)==="[object Array]"){var Kr;$e=Ea(C),Tt!=="left"&&(Cs=$e.map(mo));var Dr,go=0;if(Tt==="right"){B-=Cs[0],C=[],fr=$e.length;for(var ts=0;ts<fr;ts++)ts===0?(Dr=ys(B),Kr=oa(oe)):(Dr=G(go-Cs[ts]),Kr=-Cr),C.push([$e[ts],Dr,Kr]),go=Cs[ts]}else if(Tt==="center"){B-=Cs[0]/2,C=[],fr=$e.length;for(var Us=0;Us<fr;Us++)Us===0?(Dr=ys(B),Kr=oa(oe)):(Dr=G((go-Cs[Us])/2),Kr=-Cr),C.push([$e[Us],Dr,Kr]),go=Cs[Us]}else if(Tt==="left"){C=[],fr=$e.length;for(var la=0;la<fr;la++)C.push($e[la])}else if(Tt==="justify"&&Ju.encoding==="Identity-H"){C=[],fr=$e.length,Jt=Jt!==0?Jt:po;for(var qs=0,zi=0;zi<fr;zi++)if(Kr=zi===0?oa(oe):-Cr,Dr=zi===0?ys(B):qs,zi<fr-1){var Hs=G((Jt-Cs[zi])/($e[zi].split(" ").length-1)),ir=$e[zi].split(" ");C.push([ir[0]+" ",Dr,Kr]),qs=0;for(var ns=1;ns<ir.length;ns++){var nl=(mo(ir[ns-1]+" "+ir[ns])-mo(ir[ns]))*Vs+Hs;ns==ir.length-1?C.push([ir[ns],nl,0]):C.push([ir[ns]+" ",nl,0]),qs-=nl}}else C.push([$e[zi],Dr,Kr]);C.push(["",qs,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],fr=$e.length,Jt=Jt!==0?Jt:po,zi=0;zi<fr;zi++)Kr=zi===0?oa(oe):-Cr,Dr=zi===0?ys(B):0,zi<fr-1?Ma.push(ee(G((Jt-Cs[zi])/($e[zi].split(" ").length-1)))):Ma.push(0),C.push([$e[zi],Dr,Kr])}}var ua=typeof ye.R2L=="boolean"?ye.R2L:St;ua===!0&&(C=ka(C,function(wn,_n,di){return[wn.split("").reverse().join(""),_n,di]})),Fe={text:C,x:B,y:oe,options:ye,mutex:{pdfEscape:ct,activeFontKey:qt,fonts:zt,activeFontSize:nt}},on.publish("postProcessText",Fe),C=Fe.text,js=Fe.mutex.isHex||!1;var $l=zt[qt].encoding;$l!=="WinAnsiEncoding"&&$l!=="StandardEncoding"||(C=ka(C,function(wn,_n,di){return[Yu(wn),_n,di]})),$e=Ea(C),C=[];for(var yo,vo,xo,il=0,Jl=1,bo=Array.isArray($e[0])?Jl:il,La="",rl=function(wn,_n,di){var Xi="";return di instanceof vt?(di=typeof ye.angle=="number"?Bn(di,new vt(1,0,0,1,wn,_n)):Bn(new vt(1,0,0,1,wn,_n),di),I===P.ADVANCED&&(di=Bn(new vt(1,0,0,-1,0,0),di)),Xi=di.join(" ")+` Tm
`):Xi=ee(wn)+" "+ee(_n)+` Td
`,Xi},ji=0;ji<$e.length;ji++){switch(La="",bo){case Jl:xo=(js?"<":"(")+$e[ji][0]+(js?">":")"),yo=parseFloat($e[ji][1]),vo=parseFloat($e[ji][2]);break;case il:xo=(js?"<":"(")+$e[ji]+(js?">":")"),yo=ys(B),vo=oa(oe)}Ma!==void 0&&Ma[ji]!==void 0&&(La=Ma[ji]+` Tw
`),ji===0?C.push(La+rl(yo,vo,Ei)+xo):bo===il?C.push(La+xo):bo===Jl&&C.push(La+rl(yo,vo,Ei)+xo)}C=bo===il?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var xs=`BT
/`;return xs+=qt+" "+nt+` Tf
`,xs+=ee(nt*vs)+` TL
`,xs+=Zo+`
`,xs+=Tr,xs+=C,se(xs+="ET"),b[qt]=!0,Ji};var $o=x.__private__.clip=x.clip=function(C){return se(C==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return $o("evenodd")},x.__private__.discardPath=x.discardPath=function(){return se("n"),this};var Rr=x.__private__.isValidStyle=function(C){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(B=!0),B};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(C){return Rr(C)&&(f=C),this};var Wr=x.__private__.getStyle=x.getStyle=function(C){var B=f;switch(C){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=C}return B},Ol=x.close=function(){return se("h"),this};x.stroke=function(){return se("S"),this},x.fill=function(C){return ra("f",C),this},x.fillEvenOdd=function(C){return ra("f*",C),this},x.fillStroke=function(C){return ra("B",C),this},x.fillStrokeEvenOdd=function(C){return ra("B*",C),this};var ra=function(C,B){ci(B)==="object"?Fl(B,C):se(C)},Ts=function(C){C===null||I===P.ADVANCED&&C===void 0||(C=Wr(C),se(C))};function qu(C,B,oe,ye,Ee){var Fe=new zf(B||this.boundingBox,oe||this.xStep,ye||this.yStep,this.gState,Ee||this.matrix);Fe.stream=this.stream;var $e=C+"$$"+this.cloneIndex+++"$$";return ri($e,Fe),Fe}var Fl=function(C,B){var oe=_r[C.key],ye=fn[oe];if(ye instanceof Ec)se("q"),se(Gc(B)),ye.gState&&x.setGState(ye.gState),se(C.matrix.toString()+" cm"),se("/"+oe+" sh"),se("Q");else if(ye instanceof zf){var Ee=new vt(1,0,0,-1,0,co());C.matrix&&(Ee=Ee.multiply(C.matrix||Sn),oe=qu.call(ye,C.key,C.boundingBox,C.xStep,C.yStep,Ee).id),se("q"),se("/Pattern cs"),se("/"+oe+" scn"),ye.gState&&x.setGState(ye.gState),se(B),se("Q")}},Gc=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ao=x.moveTo=function(C,B){return se(ee(G(C))+" "+ee(ae(B))+" m"),this},sa=x.lineTo=function(C,B){return se(ee(G(C))+" "+ee(ae(B))+" l"),this},Na=x.curveTo=function(C,B,oe,ye,Ee,Fe){return se([ee(G(C)),ee(ae(B)),ee(G(oe)),ee(ae(ye)),ee(G(Ee)),ee(ae(Fe)),"c"].join(" ")),this};x.__private__.line=x.line=function(C,B,oe,ye,Ee){if(isNaN(C)||isNaN(B)||isNaN(oe)||isNaN(ye)||!Rr(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return I===P.COMPAT?this.lines([[oe-C,ye-B]],C,B,[1,1],Ee||"S"):this.lines([[oe-C,ye-B]],C,B,[1,1]).stroke()},x.__private__.lines=x.lines=function(C,B,oe,ye,Ee,Fe){var $e,dt,Tt,en,Jt,En,wi,Ei,Ji,Zi,Tr,js;if(typeof C=="number"&&(js=oe,oe=B,B=C,C=js),ye=ye||[1,1],Fe=Fe||!1,isNaN(B)||isNaN(oe)||!Array.isArray(C)||!Array.isArray(ye)||!Rr(Ee)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ao(B,oe),$e=ye[0],dt=ye[1],en=C.length,Zi=B,Tr=oe,Tt=0;Tt<en;Tt++)(Jt=C[Tt]).length===2?(Zi=Jt[0]*$e+Zi,Tr=Jt[1]*dt+Tr,sa(Zi,Tr)):(En=Jt[0]*$e+Zi,wi=Jt[1]*dt+Tr,Ei=Jt[2]*$e+Zi,Ji=Jt[3]*dt+Tr,Zi=Jt[4]*$e+Zi,Tr=Jt[5]*dt+Tr,Na(En,wi,Ei,Ji,Zi,Tr));return Fe&&Ol(),Ts(Ee),this},x.path=function(C){for(var B=0;B<C.length;B++){var oe=C[B],ye=oe.c;switch(oe.op){case"m":ao(ye[0],ye[1]);break;case"l":sa(ye[0],ye[1]);break;case"c":Na.apply(this,ye);break;case"h":Ol()}}return this},x.__private__.rect=x.rect=function(C,B,oe,ye,Ee){if(isNaN(C)||isNaN(B)||isNaN(oe)||isNaN(ye)||!Rr(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return I===P.COMPAT&&(ye=-ye),se([ee(G(C)),ee(ae(B)),ee(G(oe)),ee(G(ye)),"re"].join(" ")),Ts(Ee),this},x.__private__.triangle=x.triangle=function(C,B,oe,ye,Ee,Fe,$e){if(isNaN(C)||isNaN(B)||isNaN(oe)||isNaN(ye)||isNaN(Ee)||isNaN(Fe)||!Rr($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-C,ye-B],[Ee-oe,Fe-ye],[C-Ee,B-Fe]],C,B,[1,1],$e,!0),this},x.__private__.roundedRect=x.roundedRect=function(C,B,oe,ye,Ee,Fe,$e){if(isNaN(C)||isNaN(B)||isNaN(oe)||isNaN(ye)||isNaN(Ee)||isNaN(Fe)||!Rr($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*oe),Fe=Math.min(Fe,.5*ye),this.lines([[oe-2*Ee,0],[Ee*dt,0,Ee,Fe-Fe*dt,Ee,Fe],[0,ye-2*Fe],[0,Fe*dt,-Ee*dt,Fe,-Ee,Fe],[2*Ee-oe,0],[-Ee*dt,0,-Ee,-Fe*dt,-Ee,-Fe],[0,2*Fe-ye],[0,-Fe*dt,Ee*dt,-Fe,Ee,-Fe]],C+Ee,B,[1,1],$e,!0),this},x.__private__.ellipse=x.ellipse=function(C,B,oe,ye,Ee){if(isNaN(C)||isNaN(B)||isNaN(oe)||isNaN(ye)||!Rr(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*oe,$e=4/3*(Math.SQRT2-1)*ye;return ao(C+oe,B),Na(C+oe,B-$e,C+Fe,B-ye,C,B-ye),Na(C-Fe,B-ye,C-oe,B-$e,C-oe,B),Na(C-oe,B+$e,C-Fe,B+ye,C,B+ye),Na(C+Fe,B+ye,C+oe,B+$e,C+oe,B),Ts(Ee),this},x.__private__.circle=x.circle=function(C,B,oe,ye){if(isNaN(C)||isNaN(B)||isNaN(oe)||!Rr(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,B,oe,oe,ye)},x.setFont=function(C,B,oe){return oe&&(B=W(B,oe)),qt=si(C,B,{disableWarning:!1}),this};var Br=x.__private__.getFont=x.getFont=function(){return zt[si.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var C,B,oe={};for(C in Cn)if(Cn.hasOwnProperty(C))for(B in oe[C]=[],Cn[C])Cn[C].hasOwnProperty(B)&&oe[C].push(B);return oe},x.addFont=function(C,B,oe,ye,Ee){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(oe=W(oe,ye)),Ee=Ee||"Identity-H",Ye.call(this,C,B,oe,Ee)};var gs,oo=n.lineWidth||.200025,aa=x.__private__.getLineWidth=x.getLineWidth=function(){return oo},Wc=x.__private__.setLineWidth=x.setLineWidth=function(C){return oo=C,se(ee(G(C))+" w"),this};x.__private__.setLineDash=Gt.API.setLineDash=Gt.API.setLineDashPattern=function(C,B){if(C=C||[],B=B||0,isNaN(B)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(oe){return ee(G(oe))}).join(" "),B=ee(G(B)),se("["+C+"] "+B+" d"),this};var Bl=x.__private__.getLineHeight=x.getLineHeight=function(){return nt*gs};x.__private__.getLineHeight=x.getLineHeight=function(){return nt*gs};var zl=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(gs=C),this},lo=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return gs};zl(n.lineHeight);var ys=x.__private__.getHorizontalCoordinate=function(C){return G(C)},oa=x.__private__.getVerticalCoordinate=function(C){return I===P.ADVANCED?C:Lt[H].mediaBox.topRightY-Lt[H].mediaBox.bottomLeftY-G(C)},ud=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(C){return ee(ys(C))},uo=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(C){return ee(oa(C))},zs=n.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Ki(zs)},x.__private__.setStrokeColor=x.setDrawColor=function(C,B,oe,ye){return zs=Ot({ch1:C,ch2:B,ch3:oe,ch4:ye,pdfColorType:"draw",precision:2}),se(zs),this};var Jo=n.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Ki(Jo)},x.__private__.setFillColor=x.setFillColor=function(C,B,oe,ye){return Jo=Ot({ch1:C,ch2:B,ch3:oe,ch4:ye,pdfColorType:"fill",precision:2}),se(Jo),this};var Zo=n.textColor||"0 g",cd=x.__private__.getTextColor=x.getTextColor=function(){return Ki(Zo)};x.__private__.setTextColor=x.setTextColor=function(C,B,oe,ye){return Zo=Ot({ch1:C,ch2:B,ch3:oe,ch4:ye,pdfColorType:"text",precision:3}),this};var jl=n.charSpace,fd=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(jl||0)};x.__private__.setCharSpace=x.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jl=C,this};var Hu=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(C){var B=x.CapJoinStyles[C];if(B===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hu=B,se(B+" J"),this};var Vl=0;x.__private__.setLineJoin=x.setLineJoin=function(C){var B=x.CapJoinStyles[C];if(B===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vl=B,se(B+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(ee(G(C))+" M"),this},x.GState=Km,x.setGState=function(C){(C=typeof C=="string"?Zn[Sr[C]]:Kc(null,C)).equals(Oi)||(se("/"+C.id+" gs"),Oi=C)};var Kc=function(C,B){if(!C||!Sr[C]){var oe=!1;for(var ye in Zn)if(Zn.hasOwnProperty(ye)&&Zn[ye].equals(B)){oe=!0;break}if(oe)B=Zn[ye];else{var Ee="GS"+(Object.keys(Zn).length+1).toString(10);Zn[Ee]=B,B.id=Ee}return C&&(Sr[C]=B.id),on.publish("addGState",B),B}};x.addGState=function(C,B){return Kc(C,B),this},x.saveGraphicsState=function(){return se("q"),wr.push({key:qt,size:nt,color:Zo}),this},x.restoreGraphicsState=function(){se("Q");var C=wr.pop();return qt=C.key,nt=C.size,Zo=C.color,Oi=null,this},x.setCurrentTransformationMatrix=function(C){return se(C.toString()+" cm"),this},x.comment=function(C){return se("#"+C),this};var Ul=function(C,B){var oe=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Fe){isNaN(Fe)||(oe=parseFloat(Fe))}});var ye=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Fe){isNaN(Fe)||(ye=parseFloat(Fe))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Fe){Ee=Fe.toString()}}),this},Gu=function(C,B,oe,ye){Ul.call(this,C,B),this.type="rect";var Ee=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function($e){isNaN($e)||(Ee=parseFloat($e))}});var Fe=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function($e){isNaN($e)||(Fe=parseFloat($e))}}),this},Wu=function(){this.page=qn,this.currentPage=H,this.pages=We.slice(0),this.pagesContext=Lt.slice(0),this.x=ii,this.y=cn,this.matrix=Ii,this.width=Xo(H),this.height=co(H),this.outputDestination=Qe,this.id="",this.objectNumber=-1};Wu.prototype.restore=function(){qn=this.page,H=this.currentPage,Lt=this.pagesContext,We=this.pages,ii=this.x,cn=this.y,Ii=this.matrix,Gl(H,this.width),Ku(H,this.height),Qe=this.outputDestination};var ql=function(C,B,oe,ye,Ee){cr.push(new Wu),qn=H=0,We=[],ii=C,cn=B,Ii=Ee,jt([oe,ye])},dd=function(C){if(mi[C])cr.pop().restore();else{var B=new Wu,oe="Xo"+(Object.keys(nn).length+1).toString(10);B.id=oe,mi[C]=oe,nn[oe]=B,on.publish("addFormObject",B),cr.pop().restore()}};for(var Hl in x.beginFormObject=function(C,B,oe,ye,Ee){return ql(C,B,oe,ye,Ee),this},x.endFormObject=function(C){return dd(C),this},x.doFormObject=function(C,B){var oe=nn[mi[C]];return se("q"),se(B.toString()+" cm"),se("/"+oe.id+" Do"),se("Q"),this},x.getFormObject=function(C){var B=nn[mi[C]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},x.save=function(C,B){return C=C||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Ac(ln(Dt()),C),typeof Ac.unload=="function"&&Kt.setTimeout&&setTimeout(Ac.unload,911),this):new Promise(function(oe,ye){try{var Ee=Ac(ln(Dt()),C);typeof Ac.unload=="function"&&Kt.setTimeout&&setTimeout(Ac.unload,911),oe(Ee)}catch(Fe){ye(Fe.message)}})},Gt.API)Gt.API.hasOwnProperty(Hl)&&(Hl==="events"&&Gt.API.events.length?function(C,B){var oe,ye,Ee;for(Ee=B.length-1;Ee!==-1;Ee--)oe=B[Ee][0],ye=B[Ee][1],C.subscribe.apply(C,[oe].concat(typeof ye=="function"?[ye]:ye))}(on,Gt.API.events):x[Hl]=Gt.API[Hl]);var Xo=x.getPageWidth=function(C){return(Lt[C=C||H].mediaBox.topRightX-Lt[C].mediaBox.bottomLeftX)/ut},Gl=x.setPageWidth=function(C,B){Lt[C].mediaBox.topRightX=B*ut+Lt[C].mediaBox.bottomLeftX},co=x.getPageHeight=function(C){return(Lt[C=C||H].mediaBox.topRightY-Lt[C].mediaBox.bottomLeftY)/ut},Ku=x.setPageHeight=function(C,B){Lt[C].mediaBox.topRightY=B*ut+Lt[C].mediaBox.bottomLeftY};return x.internal={pdfEscape:ct,getStyle:Wr,getFont:Br,getFontSize:rt,getCharSpace:fd,getTextColor:cd,getLineHeight:Bl,getLineHeightFactor:lo,getLineWidth:aa,write:ft,getHorizontalCoordinate:ys,getVerticalCoordinate:oa,getCoordinateString:ud,getVerticalCoordinateString:uo,collections:{},newObject:Rn,newAdditionalObject:Wi,newObjectDeferred:Xn,newObjectDeferredBegin:gi,getFilters:Fi,putStream:Yi,events:on,scaleFactor:ut,pageSize:{getWidth:function(){return Xo(H)},setWidth:function(C){Gl(H,C)},getHeight:function(){return co(H)},setHeight:function(C){Ku(H,C)}},encryptionOptions:h,encryption:An,getEncryptor:ms,output:Ni,getNumberOfPages:sn,pages:We,out:se,f2:le,f3:F,getPageInfo:Ar,getPageInfoByObjId:Vt,getCurrentPageInfo:so,getPDFVersion:T,Point:Ul,Rectangle:Gu,Matrix:vt,hasHotfix:ei},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Xo(H)},set:function(C){Gl(H,C)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return co(H)},set:function(C){Ku(H,C)},enumerable:!0,configurable:!0}),Xe.call(x,Je),qt="F1",dn(r,t),on.publish("initialized"),x}Rf.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Rf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Rf.prototype.processOwnerPassword=function(n,e){return q1(U1(e).substr(0,5),n)},Rf.prototype.encryptor=function(n,e){var t=U1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return q1(t,i)}},Km.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||ci(n)!==ci(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Gt.API={events:[]},Gt.version="3.0.1";var lr=Gt.API,L2=1,Uc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},an=function(n){return n.toFixed(2)},Su=function(n){return n.toFixed(5)};lr.__acroform__={};var Fs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},eb=function(n){return n*L2},Io=function(n){var e=new Q_,t=wt.internal.getHeight(n)||0,i=wt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(an(i)),Number(an(t))],e},TR=lr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},CR=lr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},NR=lr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},yr=lr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return NR(n,e-1)},vr=lr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return TR(n,e-1)},xr=lr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return CR(n,e-1)},ER=lr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],u=n[3],c={};return c.lowerLeft_X=t(r)||0,c.lowerLeft_Y=i(s+u)||0,c.upperRight_X=t(r+o)||0,c.upperRight_Y=i(s)||0,[Number(an(c.lowerLeft_X)),Number(an(c.lowerLeft_Y)),Number(an(c.upperRight_X)),Number(an(c.upperRight_Y))]},kR=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=H1(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+an(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Io(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},H1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(F){return F.split(`
`)}):r.map(function(F){return[F]});var s=t,o=wt.internal.getHeight(n)||0;o=o<0?-o:o;var u=wt.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(F,G,fe){if(F+1<r.length){var ae=G+" "+r[F+1][0];return Xp(ae,n,fe).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var f,h,v=Xp("3",n,s).height,b=n.multiline?o-s:(o-v)/2,x=b+=2,N=0,T=0,M=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xp(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var k="",P=0,I=0;I<r.length;I++)if(r.hasOwnProperty(I)){var J=!1;if(r[I].length!==1&&M!==r[I].length-1){if((v+2)*(P+2)+2>o)continue e;k+=r[I][M],J=!0,T=I,I--}else{k=(k+=r[I][M]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var q=parseInt(I),W=c(q,k,s),ee=I>=r.length-1;if(W&&!ee){k+=" ",M=0;continue}if(W||ee){if(ee)T=q;else if(n.multiline&&(v+2)*(P+2)+2>o)continue e}else{if(!n.multiline||(v+2)*(P+2)+2>o)continue e;T=q}}for(var j="",ie=N;ie<=T;ie++){var le=r[ie];if(n.multiline){if(ie===T){j+=le[M]+" ",M=(M+1)%le.length;continue}if(ie===N){j+=le[le.length-1]+" ";continue}}j+=le[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,h=Xp(j,n,s).width,n.textAlign){case"right":f=u-h-2;break;case"center":f=(u-h)/2;break;case"left":default:f=2}e+=an(f)+" "+an(x)+` Td
`,e+="("+Uc(j)+`) Tj
`,e+=-an(f)+` 0 Td
`,x=-(s+2),h=0,N=J?T:T+1,P++,k=""}break}return i.text=e,i.fontSize=s,i},Xp=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},MR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LR=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},PR=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var i=t,r=n[t];e.internal.newObjectDeferredBegin(r.objId,!0),ci(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},RR=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(no.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(MR)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");L2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new eS,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&LR(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var u=i[o],c=[],f=u.Rect;if(u.Rect&&(u.Rect=ER(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=wt.createDefaultAppearanceStream(u),ci(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var h=kR(u);c.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(u.appearanceStreamContent){var v="";for(var b in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(b)){var x=u.appearanceStreamContent[b];if(v+="/"+b+" ",v+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var o in x)if(x.hasOwnProperty(o)){var N=x[o];typeof N=="function"&&(N=N.call(r,u)),v+="/"+o+" "+N+" ",r.internal.acroformPlugin.xForms.indexOf(N)>=0||r.internal.acroformPlugin.xForms.push(N)}}else typeof(N=x)=="function"&&(N=N.call(r,u)),v+="/"+o+" "+N,r.internal.acroformPlugin.xForms.indexOf(N)>=0||r.internal.acroformPlugin.xForms.push(N);v+=">>"}c.push({key:"AP",value:`<<
`+v+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:u.objId}),r.internal.out("endobj")}s&&PR(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},X_=lr.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),ci(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),r+="("+Uc(i(n[s].toString()))+")"):r+=n[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},H0=function(n,e,t){var i=function(r){return r};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Uc(i(n))+")"},Uo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Uo.prototype.toString=function(){return this.objId+" 0 R"},Uo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Uo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:X_(r,this.objId,this.scope)}):r instanceof Uo?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var Q_=function(){Uo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Fs(Q_,Uo);var eS=function(){Uo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Uc(t(n))+")"}},set:function(t){n=t}})};Fs(eS,Uo);var no=function n(){Uo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yr(e,3)},set:function(k){k?this.F=vr(e,3):this.F=xr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(k){i=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(k){i[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(k){i[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(k){i[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(k){i[3]=k}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ym)return;s="FieldObject"+n.FieldNum++}var k=function(P){return P};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Uc(k(s))+")"},set:function(k){s=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(k){s=k}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(k){o=k}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/L2:f},set:function(k){f=k}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof Ym||this instanceof Lc))return H0(v,this.objId,this.scope)},set:function(k){k=k.toString(),v=k}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Hr?b:H0(b,this.objId,this.scope)},set:function(k){k=k.toString(),b=this instanceof Hr?k:k.substr(0,1)==="("?Nf(k.substr(1,k.length-2)):Nf(k)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hr?Nf(b.substr(1,b.length-1)):b},set:function(k){k=k.toString(),b=this instanceof Hr?"/"+k:k}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Hr?x:H0(x,this.objId,this.scope)},set:function(k){k=k.toString(),x=this instanceof Hr?k:k.substr(0,1)==="("?Nf(k.substr(1,k.length-2)):Nf(k)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hr?Nf(x.substr(1,x.length-1)):x},set:function(k){k=k.toString(),x=this instanceof Hr?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(k){k=!!k,T=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(k){N=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,1)},set:function(k){k?this.Ff=vr(this.Ff,1):this.Ff=xr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,2)},set:function(k){k?this.Ff=vr(this.Ff,2):this.Ff=xr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,3)},set:function(k){k?this.Ff=vr(this.Ff,3):this.Ff=xr(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');M=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(M){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};Fs(no,Uo);var Hf=function(){no.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return X_(e,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=function(s,o,u){u||(u=1);for(var c,f=[];c=o.exec(s);)f.push(c[u]);return f}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,18)},set:function(t){t?this.Ff=vr(this.Ff,18):this.Ff=xr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=vr(this.Ff,19):this.Ff=xr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,20)},set:function(t){t?(this.Ff=vr(this.Ff,20),e.sort()):this.Ff=xr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,22)},set:function(t){t?this.Ff=vr(this.Ff,22):this.Ff=xr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(t){t?this.Ff=vr(this.Ff,23):this.Ff=xr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,27)},set:function(t){t?this.Ff=vr(this.Ff,27):this.Ff=xr(this.Ff,27)}}),this.hasAppearanceStream=!1};Fs(Hf,no);var Gf=function(){Hf.call(this),this.fontName="helvetica",this.combo=!1};Fs(Gf,Hf);var Wf=function(){Gf.call(this),this.combo=!0};Fs(Wf,Gf);var Am=function(){Wf.call(this),this.edit=!0};Fs(Am,Wf);var Hr=function(){no.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,15)},set:function(t){t?this.Ff=vr(this.Ff,15):this.Ff=xr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,16)},set:function(t){t?this.Ff=vr(this.Ff,16):this.Ff=xr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,17)},set:function(t){t?this.Ff=vr(this.Ff,17):this.Ff=xr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(t){t?this.Ff=vr(this.Ff,26):this.Ff=xr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+Uc(t(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){ci(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Fs(Hr,no);var Tm=function(){Hr.call(this),this.pushButton=!0};Fs(Tm,Hr);var Kf=function(){Hr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Fs(Kf,Hr);var Ym=function(){var n,e;no.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+Uc(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){ci(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fs(Ym,no),Kf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Kf.prototype.createOption=function(n){var e=new Ym;return e.Parent=this,e.optionName=n,this.Kids.push(e),DR.call(this.scope,e),e};var Cm=function(){Hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};Fs(Cm,Hr);var Lc=function(){no.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,13)},set:function(e){e?this.Ff=vr(this.Ff,13):this.Ff=xr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,21)},set:function(e){e?this.Ff=vr(this.Ff,21):this.Ff=xr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(e){e?this.Ff=vr(this.Ff,23):this.Ff=xr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,24)},set:function(e){e?this.Ff=vr(this.Ff,24):this.Ff=xr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,25)},set:function(e){e?this.Ff=vr(this.Ff,25):this.Ff=xr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(e){e?this.Ff=vr(this.Ff,26):this.Ff=xr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fs(Lc,no);var Nm=function(){Lc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,14)},set:function(n){n?this.Ff=vr(this.Ff,14):this.Ff=xr(this.Ff,14)}}),this.password=!0};Fs(Nm,Lc);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=H1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+an(wt.internal.getWidth(n))+" "+an(wt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+an(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Io(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=wt.internal.getHeight(n),o=wt.internal.getWidth(n),u=H1(n,n.caption);return r.push("1 g"),r.push("0 0 "+an(o)+" "+an(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+an(o-1)+" "+an(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+an(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(wt.internal.getWidth(n))+" "+an(wt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=wt.RadioButton.Circle.YesNormal,e.D[n]=wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Io(n);e.scope=n.scope;var t=[],i=wt.internal.getWidth(n)<=wt.internal.getHeight(n)?wt.internal.getWidth(n)/4:wt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=wt.internal.Bezier_C,s=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Su(wt.internal.getWidth(n)/2)+" "+Su(wt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[],i=wt.internal.getWidth(n)<=wt.internal.getHeight(n)?wt.internal.getWidth(n)/4:wt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*wt.internal.Bezier_C).toFixed(5)),o=Number((i*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Su(wt.internal.getWidth(n)/2)+" "+Su(wt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Su(wt.internal.getWidth(n)/2)+" "+Su(wt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[],i=wt.internal.getWidth(n)<=wt.internal.getHeight(n)?wt.internal.getWidth(n)/4:wt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Su(wt.internal.getWidth(n)/2)+" "+Su(wt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=wt.RadioButton.Cross.YesNormal,e.D[n]=wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Io(n);e.scope=n.scope;var t=[],i=wt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+an(wt.internal.getWidth(n)-2)+" "+an(wt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(an(i.x1.x)+" "+an(i.x1.y)+" m"),t.push(an(i.x2.x)+" "+an(i.x2.y)+" l"),t.push(an(i.x4.x)+" "+an(i.x4.y)+" m"),t.push(an(i.x3.x)+" "+an(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=wt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+an(wt.internal.getWidth(n))+" "+an(wt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+an(wt.internal.getWidth(n)-2)+" "+an(wt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(an(t.x1.x)+" "+an(t.x1.y)+" m"),i.push(an(t.x2.x)+" "+an(t.x2.y)+" l"),i.push(an(t.x4.x)+" "+an(t.x4.y)+" m"),i.push(an(t.x3.x)+" "+an(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Io(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(wt.internal.getWidth(n))+" "+an(wt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};wt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=wt.internal.getWidth(n),t=wt.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},wt.internal.getWidth=function(n){var e=0;return ci(n)==="object"&&(e=eb(n.Rect[2])),e},wt.internal.getHeight=function(n){var e=0;return ci(n)==="object"&&(e=eb(n.Rect[3])),e};var DR=lr.addField=function(n){if(RR(this,n),!(n instanceof no))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};lr.AcroFormChoiceField=Hf,lr.AcroFormListBox=Gf,lr.AcroFormComboBox=Wf,lr.AcroFormEditBox=Am,lr.AcroFormButton=Hr,lr.AcroFormPushButton=Tm,lr.AcroFormRadioButton=Kf,lr.AcroFormCheckBox=Cm,lr.AcroFormTextField=Lc,lr.AcroFormPasswordField=Nm,lr.AcroFormAppearance=wt,lr.AcroForm={ChoiceField:Hf,ListBox:Gf,ComboBox:Wf,EditBox:Am,Button:Hr,PushButton:Tm,RadioButton:Kf,CheckBox:Cm,TextField:Lc,PasswordField:Nm,Appearance:wt},Gt.AcroForm={ChoiceField:Hf,ListBox:Gf,ComboBox:Wf,EditBox:Am,Button:Hr,PushButton:Tm,RadioButton:Kf,CheckBox:Cm,TextField:Lc,PasswordField:Nm,Appearance:wt};Gt.AcroForm;function tS(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(F,G){var fe,ae,ge,K,Q,Z=e;if((G=G||e)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(W(F))for(Q in t)for(ge=t[Q],fe=0;fe<ge.length;fe+=1){for(K=!0,ae=0;ae<ge[fe].length;ae+=1)if(ge[fe][ae]!==void 0&&ge[fe][ae]!==F[ae]){K=!1;break}if(K===!0){Z=Q;break}}else for(Q in t)for(ge=t[Q],fe=0;fe<ge.length;fe+=1){for(K=!0,ae=0;ae<ge[fe].length;ae+=1)if(ge[fe][ae]!==void 0&&ge[fe][ae]!==F.charCodeAt(ae)){K=!1;break}if(K===!0){Z=Q;break}}return Z===e&&G!==e&&(Z=G),Z},r=function F(G){for(var fe=this.internal.write,ae=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:G.width}),K.push({key:"Height",value:G.height}),G.colorSpace===M.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===M.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var Q="",Z=0,de=G.transparency.length;Z<de;Z++)Q+=G.transparency[Z]+" "+G.transparency[Z]+" ";K.push({key:"Mask",value:"["+Q+"]"})}G.sMask!==void 0&&K.push({key:"SMask",value:G.objectId+1+" 0 R"});var z=G.filter!==void 0?["/"+G.filter]:void 0;if(ae({data:G.data,additionalKeyValues:K,alreadyAppliedFilters:z,objectId:G.objectId}),fe("endobj"),"sMask"in G&&G.sMask!==void 0){var me="/Predictor "+G.predictor+" /Colors 1 /BitsPerComponent "+G.bitsPerComponent+" /Columns "+G.width,R={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:me,data:G.sMask};"filter"in G&&(R.filter=G.filter),F.call(this,R)}if(G.colorSpace===M.INDEXED){var H=this.internal.newObject();ae({data:j(new Uint8Array(G.palette)),objectId:H}),fe("endobj")}},s=function(){var F=this.internal.collections.addImage_images;for(var G in F)r.call(this,F[G])},o=function(){var F,G=this.internal.collections.addImage_images,fe=this.internal.write;for(var ae in G)fe("/I"+(F=G[ae]).index,F.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var F=this.internal.collections.addImage_images;return u.call(this),F},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(F){return typeof n["process"+F.toUpperCase()]=="function"},v=function(F){return ci(F)==="object"&&F.nodeType===1},b=function(F,G){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var fe=""+F.getAttribute("src");if(fe.indexOf("data:image/")===0)return wh(unescape(fe).split("base64,").pop());var ae=n.loadFile(fe,!0);if(ae!==void 0)return ae}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var ge;switch(G){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;case"JPEG":case"JPG":default:ge="image/jpeg"}return wh(F.toDataURL(ge,1).split("base64,").pop())}},x=function(F){var G=this.internal.collections.addImage_images;if(G){for(var fe in G)if(F===G[fe].alias)return G[fe]}},N=function(F,G,fe){return F||G||(F=-96,G=-96),F<0&&(F=-1*fe.width*72/F/this.internal.scaleFactor),G<0&&(G=-1*fe.height*72/G/this.internal.scaleFactor),F===0&&(F=G*fe.width/fe.height),G===0&&(G=F*fe.height/fe.width),[F,G]},T=function(F,G,fe,ae,ge,K){var Q=N.call(this,fe,ae,ge),Z=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,z=c.call(this);if(fe=Q[0],ae=Q[1],z[ge.index]=ge,K){K*=Math.PI/180;var me=Math.cos(K),R=Math.sin(K),H=function(ue){return ue.toFixed(4)},te=[H(me),H(R),H(-1*R),H(me),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,Z(F),de(G+ae),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([Z(fe),"0","0",Z(ae),"0","0","cm"].join(" "))):this.internal.write([Z(fe),"0","0",Z(ae),Z(F),de(G+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},M=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=n.__addimage__.sHashCode=function(F){var G,fe,ae=0;if(typeof F=="string")for(fe=F.length,G=0;G<fe;G++)ae=(ae<<5)-ae+F.charCodeAt(G),ae|=0;else if(W(F))for(fe=F.byteLength/2,G=0;G<fe;G++)ae=(ae<<5)-ae+F[G],ae|=0;return ae},I=n.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var G=!0;return F.length===0&&(G=!1),F.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(G=!1),G},J=n.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var G=F.indexOf(",");return G<0?null:F.substring(0,G).trim().endsWith("base64")?F.substring(G+1):null},q=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(F){return q()&&F instanceof ArrayBuffer};var W=n.__addimage__.isArrayBufferView=function(F){return q()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},ee=n.__addimage__.binaryStringToUint8Array=function(F){for(var G=F.length,fe=new Uint8Array(G),ae=0;ae<G;ae++)fe[ae]=F.charCodeAt(ae);return fe},j=n.__addimage__.arrayBufferToBinaryString=function(F){for(var G="",fe=W(F)?F:new Uint8Array(F),ae=0;ae<fe.length;ae+=8192)G+=String.fromCharCode.apply(null,fe.subarray(ae,ae+8192));return G};n.addImage=function(){var F,G,fe,ae,ge,K,Q,Z,de;if(typeof arguments[1]=="number"?(G=e,fe=arguments[1],ae=arguments[2],ge=arguments[3],K=arguments[4],Q=arguments[5],Z=arguments[6],de=arguments[7]):(G=arguments[1],fe=arguments[2],ae=arguments[3],ge=arguments[4],K=arguments[5],Q=arguments[6],Z=arguments[7],de=arguments[8]),ci(F=arguments[0])==="object"&&!v(F)&&"imageData"in F){var z=F;F=z.imageData,G=z.format||G||e,fe=z.x||fe||0,ae=z.y||ae||0,ge=z.w||z.width||ge,K=z.h||z.height||K,Q=z.alias||Q,Z=z.compression||Z,de=z.rotation||z.angle||de}var me=this.internal.getFilters();if(Z===void 0&&me.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(fe)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var R=ie.call(this,F,G,Q,Z);return T.call(this,fe,ae,ge,K,R,de),this};var ie=function(F,G,fe,ae){var ge,K,Q;if(typeof F=="string"&&i(F)===e){F=unescape(F);var Z=le(F,!1);(Z!==""||(Z=n.loadFile(F,!0))!==void 0)&&(F=Z)}if(v(F)&&(F=b(F,G)),G=i(F,G),!h(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((Q=fe)==null||Q.length===0)&&(fe=function(de){return typeof de=="string"||W(de)?P(de):W(de.data)?P(de.data):null}(F)),(ge=x.call(this,fe))||(q()&&(F instanceof Uint8Array||G==="RGBA"||(K=F,F=ee(F))),ge=this["process"+G.toUpperCase()](F,f.call(this),fe,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in n.image_compression?de:k.NONE}(ae),K)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},le=n.__addimage__.convertBase64ToBinaryString=function(F,G){G=typeof G!="boolean"||G;var fe,ae="";if(typeof F=="string"){var ge;fe=(ge=J(F))!==null&&ge!==void 0?ge:F;try{ae=wh(fe)}catch(K){if(G)throw I(fe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};n.getImageProperties=function(F){var G,fe,ae="";if(v(F)&&(F=b(F)),typeof F=="string"&&i(F)===e&&((ae=le(F,!1))===""&&(ae=n.loadFile(F)||""),F=ae),fe=i(F),!h(fe))throw new Error("addImage does not support files of type '"+fe+"', please ensure that a plugin for '"+fe+"' support is added.");if(!q()||F instanceof Uint8Array||(F=ee(F)),!(G=this["process"+fe.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=fe,G}})(Gt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Gt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,s,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,h=!1,v=0;v<f.length&&!h;v++)switch((i=f[v]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){i=f[b];var x=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(T.objId),P=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+x(k(i.contents))+")",s+=" /Popup "+M.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+x(k(P))+") >>",T.content=s;var I=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+I,i.open&&(s+=" /Open true"),s+=" >>",M.content=s,this.internal.write(T.objId,"0 R",M.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var J=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+x(N(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+J+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var q=this.annotations._nameMap[i.options.name];i.options.pageNumber=q.page,i.options.top=q.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+x(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var W=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+W+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,s,o){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(t),y:f(i),w:c(t+r),h:f(i+s)},options:o,type:"link"})},n.textWithLink=function(t,i,r,s){var o,u,c=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var h=this.splitTextToSize(t,u).length;o=Math.ceil(f*h)}else u=c,o=f;return this.text(t,i,r,s),r+=.2*f,s.align==="center"&&(i-=c/2),s.align==="right"&&(i-=c),this.link(i,r-f,u,o,s),c},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(Gt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},u=n.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&r.indexOf(T.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(T){var M=0,k=t,P="",I=0;for(M=0;M<T.length;M+=1)k[T.charCodeAt(M)]!==void 0?(I++,typeof(k=k[T.charCodeAt(M)])=="number"&&(P+=String.fromCharCode(k),k=t,I=0),M===T.length-1&&(k=t,P+=T.charAt(M-(I-1)),M-=I-1,I=0)):(k=t,P+=T.charAt(M-I),M-=I,I=0);return P};n.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&i[T.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(T,M,k){return o(T)?s(T)===!1?-1:!f(T)||!o(M)&&!o(k)||!o(k)&&u(M)||u(T)&&!o(M)||u(T)&&c(M)||u(T)&&u(M)?0:h(T)&&o(M)&&!u(M)&&o(k)&&f(k)?3:u(T)||!o(k)?1:2:-1},x=function(T){var M=0,k=0,P=0,I="",J="",q="",W=(T=T||"").split("\\s+"),ee=[];for(M=0;M<W.length;M+=1){for(ee.push(""),k=0;k<W[M].length;k+=1)I=W[M][k],J=W[M][k-1],q=W[M][k+1],o(I)?(P=b(I,J,q),ee[M]+=P!==-1?String.fromCharCode(e[I.charCodeAt(0)][P]):I):ee[M]+=I;ee[M]=v(ee[M])}return ee.join(" ")},N=n.__arabicParser__.processArabic=n.processArabic=function(){var T,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(M)){var P=0;for(k=[],P=0;P<M.length;P+=1)Array.isArray(M[P])?k.push([x(M[P][0]),M[P][1],M[P][2]]):k.push([x(M[P])]);T=k}else T=x(M);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};n.events.push(["preProcessText",N])}(Gt.API),Gt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Gt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(T){c=T}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(T){f=T}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(T){v=T}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(T){b=T}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(T){x=T}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(T){N=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,f){i.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,x=0,N=0,T=0,M=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var k=f.maxWidth;k>0?typeof c=="string"?c=this.splitTextToSize(c,k):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(I,J){return I.concat(M.splitTextToSize(J,k))},[])):c=Array.isArray(c)?c:[c];for(var P=0;P<c.length;P++)x<(T=this.getStringUnitWidth(c[P],{font:v})*h)&&(x=T);return x!==0&&(N=c.length),{w:x/=b,h:Math.max((N*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=v.top,x&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};n.table=function(c,f,h,v,b){if(i.call(this),!h)throw new Error("No data for PDF table.");var x,N,T,M,k=[],P=[],I=[],J={},q={},W=[],ee=[],j=(b=b||{}).autoSize||!1,ie=b.printHeaders!==!1,le=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,F=b.margins||Object.assign({width:this.getPageWidth()},e),G=typeof b.padding=="number"?b.padding:3,fe=b.headerBackgroundColor||"#c8c8c8",ae=b.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=ie,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=le,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=fe,this.internal.__cell__.headerTextColor=ae,this.setFontSize(le),v==null)P=k=Object.keys(h[0]),I=k.map(function(){return"left"});else if(Array.isArray(v)&&ci(v[0])==="object")for(k=v.map(function(z){return z.name}),P=v.map(function(z){return z.prompt||z.name||""}),I=v.map(function(z){return z.align||"left"}),x=0;x<v.length;x+=1)q[v[x].name]=v[x].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(P=k=v,I=k.map(function(){return"left"}));if(j||Array.isArray(v)&&typeof v[0]=="string")for(x=0;x<k.length;x+=1){for(J[M=k[x]]=h.map(function(z){return z[M]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(P[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=J[M],this.setFont(void 0,"normal"),T=0;T<N.length;T+=1)W.push(this.getTextDimensions(N[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[M]=Math.max.apply(null,W)+G+G,W=[]}if(ie){var ge={};for(x=0;x<k.length;x+=1)ge[k[x]]={},ge[k[x]].text=P[x],ge[k[x]].align=I[x];var K=u.call(this,ge,q);ee=k.map(function(z){return new s(c,f,q[z],K,ge[z].text,void 0,ge[z].align)}),this.setTableHeaderRow(ee),this.printHeaderRow(1,!1)}var Q=v.reduce(function(z,me){return z[me.name]=me.align,z},{});for(x=0;x<h.length;x+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:x,data:h[x]},this);var Z=u.call(this,h[x],q);for(T=0;T<k.length;T+=1){var de=h[x][k[T]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:x,col:T,data:de},this),o.call(this,new s(c,f,q[k[T]],Z,de,x+2,Q[k[T]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var u=function(c,f){var h=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(x){var N=c[x];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*v/b+h+h},this).reduce(function(x,N){return Math.max(x,N)},0)};n.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,b.push(h)),h.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(N)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(Gt.API);var nS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},iS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G1=tS(iS),rS=[100,200,300,400,500,600,700,800,900],IR=tS(rS);function W1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return nS[s=s||"normal"]?s:"normal"}(n.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(s){return typeof G1[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function tb(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var OR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},nb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ib(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function FR(n,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",r=Object.assign({},OR,t.genericFontFamilies||{}),s=null,o=null,u=0;u<e.length;++u)if(r[(s=W1(e[u])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+ib(s)+"' and default family '"+i+"'.");if(o=function(c,f){if(f[c])return f[c];var h=G1[c],v=h<=G1.normal?-1:1,b=tb(f,iS,h,v);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(s.stretch,o),o=function(c,f){if(f[c])return f[c];for(var h=nS[c],v=0;v<h.length;++v)if(f[h[v]])return f[h[v]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,f){if(f[c])return f[c];if(c===400&&f[500])return f[500];if(c===500&&f[400])return f[400];var h=IR[c],v=tb(f,rS,h,c<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+c);return v}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+ib(s)+"'.");return o}function rb(n){return n.trimLeft()}function BR(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function zR(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Qp,sb,ab,G0=["times"];(function(n){var e,t,i,r,s,o,u,c,f,h=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,f=new h}]);var v=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=R;Object.defineProperty(this,"pdf",{get:function(){return H}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Re){te=!!Re}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Re){ue=!!Re}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Re){isNaN(Re)||(ce=Re)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(Re){isNaN(Re)||(Ae=Re)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Re){var se;typeof Re=="number"?se=[Re,Re,Re,Re]:((se=new Array(4))[0]=Re[0],se[1]=Re.length>=2?Re[1]:se[0],se[2]=Re.length>=3?Re[2]:se[0],se[3]=Re.length>=4?Re[3]:se[1]),f.margin=se}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(Re){_e=Re}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Re){Ce=Re}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(Re){Be=Re}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Re){Re instanceof h&&(f=Re)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Re){f.path=Re}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(Re){We=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var se;se=b(Re),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var se=b(Re);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var et=null;function Qe(Re,se){if(et===null){var ft=function(gt){var Je=[];return Object.keys(gt).forEach(function(nt){gt[nt].forEach(function(it){var rt=null;switch(it){case"bold":rt={family:nt,weight:"bold"};break;case"italic":rt={family:nt,style:"italic"};break;case"bolditalic":rt={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:nt}}rt!==null&&(rt.ref={name:nt,style:it},Je.push(rt))})}),Je}(Re.getFontList());et=function(gt){for(var Je={},nt=0;nt<gt.length;++nt){var it=W1(gt[nt]),rt=it.family,St=it.stretch,Rt=it.style,Mt=it.weight;Je[rt]=Je[rt]||{},Je[rt][St]=Je[rt][St]||{},Je[rt][St][Rt]=Je[rt][St][Rt]||{},Je[rt][St][Rt][Mt]=it}return Je}(ft.concat(se))}return et}var yt=null;Object.defineProperty(this,"fontFaces",{get:function(){return yt},set:function(Re){et=null,yt=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var se;if(this.ctx.font=Re,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var ft=se[1];se[2];var gt=se[3],Je=se[4];se[5];var nt=se[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(it==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var rt=function(lt){var qt,ut,ii=[],cn=lt.trim();if(cn==="")return G0;if(cn in nb)return[nb[cn]];for(;cn!=="";){switch(ut=null,qt=(cn=rb(cn)).charAt(0)){case'"':case"'":ut=BR(cn.substring(1),qt);break;default:ut=zR(cn)}if(ut===null||(ii.push(ut[0]),(cn=rb(ut[1]))!==""&&cn.charAt(0)!==","))return G0;cn=cn.replace(/^,/,"")}return ii}(nt);if(this.fontFaces){var St=FR(Qe(this.pdf,this.fontFaces),rt.map(function(lt){return{family:lt,stretch:"normal",weight:gt,style:ft}}));this.pdf.setFont(St.ref.name,St.ref.style)}else{var Rt="";(gt==="bold"||parseInt(gt,10)>=700||ft==="bold")&&(Rt="bold"),ft==="italic"&&(Rt+="italic"),Rt.length===0&&(Rt="normal");for(var Mt="",kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},It=0;It<rt.length;It++){if(this.pdf.internal.getFont(rt[It],Rt,{noFallback:!0,disableWarning:!0})!==void 0){Mt=rt[It];break}if(Rt==="bolditalic"&&this.pdf.internal.getFont(rt[It],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=rt[It],Rt="bold";else if(this.pdf.internal.getFont(rt[It],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=rt[It],Rt="normal";break}}if(Mt===""){for(var Qt=0;Qt<rt.length;Qt++)if(kt[rt[Qt]]){Mt=kt[rt[Qt]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,Rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};v.prototype.setLineDash=function(R){this.lineDash=R},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){J.call(this,"fill",!1)},v.prototype.stroke=function(){J.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(R,H){if(isNaN(R)||isNaN(H))throw xi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(R,H));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(R,H)},v.prototype.closePath=function(){var R=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&ci(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){R=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},v.prototype.lineTo=function(R,H){if(isNaN(R)||isNaN(H))throw xi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(R,H));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),J.call(this,null,!0)},v.prototype.quadraticCurveTo=function(R,H,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(R)||isNaN(H))throw xi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(te,ue)),Ae=this.ctx.transform.applyToPoint(new o(R,H));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},v.prototype.bezierCurveTo=function(R,H,te,ue,ce,Ae){if(isNaN(ce)||isNaN(Ae)||isNaN(R)||isNaN(H)||isNaN(te)||isNaN(ue))throw xi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new o(ce,Ae)),Ce=this.ctx.transform.applyToPoint(new o(R,H)),Be=this.ctx.transform.applyToPoint(new o(te,ue));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Be.x,y2:Be.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new o(_e.x,_e.y)},v.prototype.arc=function(R,H,te,ue,ce,Ae){if(isNaN(R)||isNaN(H)||isNaN(te)||isNaN(ue)||isNaN(ce))throw xi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new o(R,H));R=_e.x,H=_e.y;var Ce=this.ctx.transform.applyToPoint(new o(0,te)),Be=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(Ce.x-Be.x,2)+Math.pow(Ce.y-Be.y,2))}Math.abs(ce-ue)>=2*Math.PI&&(ue=0,ce=2*Math.PI),this.path.push({type:"arc",x:R,y:H,radius:te,startAngle:ue,endAngle:ce,counterclockwise:Ae})},v.prototype.arcTo=function(R,H,te,ue,ce){throw new Error("arcTo not implemented.")},v.prototype.rect=function(R,H,te,ue){if(isNaN(R)||isNaN(H)||isNaN(te)||isNaN(ue))throw xi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,H),this.lineTo(R+te,H),this.lineTo(R+te,H+ue),this.lineTo(R,H+ue),this.lineTo(R,H),this.lineTo(R+te,H),this.lineTo(R,H)},v.prototype.fillRect=function(R,H,te,ue){if(isNaN(R)||isNaN(H)||isNaN(te)||isNaN(ue))throw xi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,H,te,ue),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},v.prototype.strokeRect=function(R,H,te,ue){if(isNaN(R)||isNaN(H)||isNaN(te)||isNaN(ue))throw xi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(R,H,te,ue),this.stroke())},v.prototype.clearRect=function(R,H,te,ue){if(isNaN(R)||isNaN(H)||isNaN(te)||isNaN(ue))throw xi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,H,te,ue))},v.prototype.save=function(R){R=typeof R!="boolean"||R;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},v.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(H),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(R){var H,te,ue,ce;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))H=0,te=0,ue=0,ce=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(Ae!==null)H=parseInt(Ae[1]),te=parseInt(Ae[2]),ue=parseInt(Ae[3]),ce=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)H=parseInt(Ae[1]),te=parseInt(Ae[2]),ue=parseInt(Ae[3]),ce=parseFloat(Ae[4]);else{if(ce=1,typeof R=="string"&&R.charAt(0)!=="#"){var _e=new $_(R);R=_e.ok?_e.toHex():"#000000"}R.length===4?(H=R.substring(1,2),H+=H,te=R.substring(2,3),te+=te,ue=R.substring(3,4),ue+=ue):(H=R.substring(1,3),te=R.substring(3,5),ue=R.substring(5,7)),H=parseInt(H,16),te=parseInt(te,16),ue=parseInt(ue,16)}}return{r:H,g:te,b:ue,a:ce,style:R}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(R,H,te,ue){if(isNaN(H)||isNaN(te)||typeof R!="string")throw xi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!x.call(this)){var ce=Z(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;G.call(this,{text:R,x:H,y:te,scale:Ae,angle:ce,align:this.textAlign,maxWidth:ue})}},v.prototype.strokeText=function(R,H,te,ue){if(isNaN(H)||isNaN(te)||typeof R!="string")throw xi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){ue=isNaN(ue)?void 0:ue;var ce=Z(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;G.call(this,{text:R,x:H,y:te,scale:Ae,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ue})}},v.prototype.measureText=function(R){if(typeof R!="string")throw xi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,te=this.pdf.internal.scaleFactor,ue=H.internal.getFontSize(),ce=H.getStringUnitWidth(R)*ue/H.internal.scaleFactor,Ae=function(_e){var Ce=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this};return new Ae({width:ce*=Math.round(96*te/72*1e4)/1e4})},v.prototype.scale=function(R,H){if(isNaN(R)||isNaN(H))throw xi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new c(R,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},v.prototype.rotate=function(R){if(isNaN(R))throw xi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},v.prototype.translate=function(R,H){if(isNaN(R)||isNaN(H))throw xi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new c(1,0,0,1,R,H);this.ctx.transform=this.ctx.transform.multiply(te)},v.prototype.transform=function(R,H,te,ue,ce,Ae){if(isNaN(R)||isNaN(H)||isNaN(te)||isNaN(ue)||isNaN(ce)||isNaN(Ae))throw xi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new c(R,H,te,ue,ce,Ae);this.ctx.transform=this.ctx.transform.multiply(_e)},v.prototype.setTransform=function(R,H,te,ue,ce,Ae){R=isNaN(R)?1:R,H=isNaN(H)?0:H,te=isNaN(te)?0:te,ue=isNaN(ue)?1:ue,ce=isNaN(ce)?0:ce,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c(R,H,te,ue,ce,Ae)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(R,H,te,ue,ce,Ae,_e,Ce,Be){var We=this.pdf.getImageProperties(R),et=1,Qe=1,yt=1,Re=1;ue!==void 0&&Ce!==void 0&&(yt=Ce/ue,Re=Be/ce,et=We.width/ue*Ce/ue,Qe=We.height/ce*Be/ce),Ae===void 0&&(Ae=H,_e=te,H=0,te=0),ue!==void 0&&Ce===void 0&&(Ce=ue,Be=ce),ue===void 0&&Ce===void 0&&(Ce=We.width,Be=We.height);for(var se,ft=this.ctx.transform.decompose(),gt=Z(ft.rotate.shx),Je=new c,nt=(Je=(Je=(Je=Je.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new u(Ae-H*yt,_e-te*Re,ue*et,ce*Qe)),it=M.call(this,nt),rt=[],St=0;St<it.length;St+=1)rt.indexOf(it[St])===-1&&rt.push(it[St]);if(I(rt),this.autoPaging)for(var Rt=rt[0],Mt=rt[rt.length-1],kt=Rt;kt<Mt+1;kt++){this.pdf.setPage(kt);var It=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=kt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=kt===1?0:lt+(kt-2)*qt;if(this.ctx.clip_path.length!==0){var ii=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(se,this.posX+this.margin[3],-ut+Qt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=ii}var cn=JSON.parse(JSON.stringify(nt));cn=P([cn],this.posX+this.margin[3],-ut+Qt+this.ctx.prevPageLastElemOffset)[0];var Ii=(kt>Rt||kt<Mt)&&T.call(this);Ii&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,qt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",cn.x,cn.y,cn.w,cn.h,null,null,gt),Ii&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,gt)};var M=function(R,H,te){var ue=[];H=H||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ue.push(Math.floor((R.y+ce)/te)+1);break;case"arc":ue.push(Math.floor((R.y+ce-R.radius)/te)+1),ue.push(Math.floor((R.y+ce+R.radius)/te)+1);break;case"qct":var Ae=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ue.push(Math.floor((Ae.y+ce)/te)+1),ue.push(Math.floor((Ae.y+Ae.h+ce)/te)+1);break;case"bct":var _e=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ue.push(Math.floor((_e.y+ce)/te)+1),ue.push(Math.floor((_e.y+_e.h+ce)/te)+1);break;case"rect":ue.push(Math.floor((R.y+ce)/te)+1),ue.push(Math.floor((R.y+R.h+ce)/te)+1)}for(var Ce=0;Ce<ue.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Ce];)k.call(this);return ue},k=function(){var R=this.fillStyle,H=this.strokeStyle,te=this.font,ue=this.lineCap,ce=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=H,this.font=te,this.lineCap=ue,this.lineWidth=ce,this.lineJoin=Ae},P=function(R,H,te){for(var ue=0;ue<R.length;ue++)switch(R[ue].type){case"bct":R[ue].x2+=H,R[ue].y2+=te;case"qct":R[ue].x1+=H,R[ue].y1+=te;case"mt":case"lt":case"arc":default:R[ue].x+=H,R[ue].y+=te}return R},I=function(R){return R.sort(function(H,te){return H-te})},J=function(R,H){for(var te,ue,ce=this.fillStyle,Ae=this.strokeStyle,_e=this.lineCap,Ce=this.lineWidth,Be=Math.abs(Ce*this.ctx.transform.scaleX),We=this.lineJoin,et=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),yt=[],Re=0;Re<Qe.length;Re++)if(Qe[Re].x!==void 0)for(var se=M.call(this,Qe[Re]),ft=0;ft<se.length;ft+=1)yt.indexOf(se[ft])===-1&&yt.push(se[ft]);for(var gt=0;gt<yt.length;gt++)for(;this.pdf.internal.getNumberOfPages()<yt[gt];)k.call(this);if(I(yt),this.autoPaging)for(var Je=yt[0],nt=yt[yt.length-1],it=Je;it<nt+1;it++){this.pdf.setPage(it),this.fillStyle=ce,this.strokeStyle=Ae,this.lineCap=_e,this.lineWidth=Be,this.lineJoin=We;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=it===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=it===1?0:Rt+(it-2)*Mt;if(this.ctx.clip_path.length!==0){var It=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(te,this.posX+this.margin[3],-kt+St+this.ctx.prevPageLastElemOffset),q.call(this,R,!0),this.path=It}if(ue=JSON.parse(JSON.stringify(et)),this.path=P(ue,this.posX+this.margin[3],-kt+St+this.ctx.prevPageLastElemOffset),H===!1||it===0){var Qt=(it>Je||it<nt)&&T.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Mt,null).clip().discardPath()),q.call(this,R,H),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=Be,q.call(this,R,H),this.lineWidth=Ce;this.path=et},q=function(R,H){if((R!=="stroke"||H||!N.call(this))&&(R==="stroke"||H||!x.call(this))){for(var te,ue,ce=[],Ae=this.path,_e=0;_e<Ae.length;_e++){var Ce=Ae[_e];switch(Ce.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Be=ce.length;if(Ae[_e-1]&&!isNaN(Ae[_e-1].x)&&(te=[Ce.x-Ae[_e-1].x,Ce.y-Ae[_e-1].y],Be>0)){for(;Be>=0;Be--)if(ce[Be-1].close!==!0&&ce[Be-1].begin!==!0){ce[Be-1].deltas.push(te),ce[Be-1].abs.push(Ce);break}}break;case"bct":te=[Ce.x1-Ae[_e-1].x,Ce.y1-Ae[_e-1].y,Ce.x2-Ae[_e-1].x,Ce.y2-Ae[_e-1].y,Ce.x-Ae[_e-1].x,Ce.y-Ae[_e-1].y],ce[ce.length-1].deltas.push(te);break;case"qct":var We=Ae[_e-1].x+2/3*(Ce.x1-Ae[_e-1].x),et=Ae[_e-1].y+2/3*(Ce.y1-Ae[_e-1].y),Qe=Ce.x+2/3*(Ce.x1-Ce.x),yt=Ce.y+2/3*(Ce.y1-Ce.y),Re=Ce.x,se=Ce.y;te=[We-Ae[_e-1].x,et-Ae[_e-1].y,Qe-Ae[_e-1].x,yt-Ae[_e-1].y,Re-Ae[_e-1].x,se-Ae[_e-1].y],ce[ce.length-1].deltas.push(te);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ce)}}ue=H?null:R==="stroke"?"stroke":"fill";for(var ft=!1,gt=0;gt<ce.length;gt++)if(ce[gt].arc)for(var Je=ce[gt].abs,nt=0;nt<Je.length;nt++){var it=Je[nt];it.type==="arc"?j.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,H,!ft):fe.call(this,it.x,it.y),ft=!0}else if(ce[gt].close===!0)this.pdf.internal.out("h"),ft=!1;else if(ce[gt].begin!==!0){var rt=ce[gt].start.x,St=ce[gt].start.y;ae.call(this,ce[gt].deltas,rt,St),ft=!0}ue&&ie.call(this,ue),H&&le.call(this)}},W=function(R){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-te;case"top":return R+H-te;case"hanging":return R+H-2*te;case"middle":return R+H/2-te;case"ideographic":return R;case"alphabetic":default:return R}},ee=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(H,te){this.colorStops.push([H,te])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(R,H,te,ue,ce,Ae,_e,Ce,Be){for(var We=K.call(this,te,ue,ce,Ae),et=0;et<We.length;et++){var Qe=We[et];et===0&&(Be?F.call(this,Qe.x1+R,Qe.y1+H):fe.call(this,Qe.x1+R,Qe.y1+H)),ge.call(this,R,H,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}Ce?le.call(this):ie.call(this,_e)},ie=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},le=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(R,H){this.pdf.internal.out(t(R)+" "+i(H)+" m")},G=function(R){var H;switch(R.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var te=this.pdf.getTextDimensions(R.text),ue=W.call(this,R.y),ce=ee.call(this,ue)-te.h,Ae=this.ctx.transform.applyToPoint(new o(R.x,ue)),_e=this.ctx.transform.decompose(),Ce=new c;Ce=(Ce=(Ce=Ce.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Be,We,et,Qe=this.ctx.transform.applyToRectangle(new u(R.x,ue,te.w,te.h)),yt=Ce.applyToRectangle(new u(R.x,ce,te.w,te.h)),Re=M.call(this,yt),se=[],ft=0;ft<Re.length;ft+=1)se.indexOf(Re[ft])===-1&&se.push(Re[ft]);if(I(se),this.autoPaging)for(var gt=se[0],Je=se[se.length-1],nt=gt;nt<Je+1;nt++){this.pdf.setPage(nt);var it=nt===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],Rt=St-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],kt=Mt-this.margin[3],It=nt===1?0:rt+(nt-2)*Rt;if(this.ctx.clip_path.length!==0){var Qt=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Be,this.posX+this.margin[3],-1*It+it),q.call(this,"fill",!0),this.path=Qt}var lt=P([JSON.parse(JSON.stringify(yt))],this.posX+this.margin[3],-It+it+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*R.scale),et=this.lineWidth,this.lineWidth=et*R.scale);var qt=this.autoPaging!=="text";if(qt||lt.y+lt.h<=St){if(qt||lt.y>=it&&lt.x<=Mt){var ut=qt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Mt-lt.x)[0],ii=P([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-It+it+this.ctx.prevPageLastElemOffset)[0],cn=qt&&(nt>gt||nt<Je)&&T.call(this);cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,Rt,null).clip().discardPath()),this.pdf.text(ut,ii.x,ii.y,{angle:R.angle,align:H,renderingMode:R.renderingMode}),cn&&this.pdf.restoreGraphicsState()}}else lt.y<St&&(this.ctx.prevPageLastElemOffset+=St-lt.y);R.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=et)}else R.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*R.scale),et=this.lineWidth,this.lineWidth=et*R.scale),this.pdf.text(R.text,Ae.x+this.posX,Ae.y+this.posY,{angle:R.angle,align:H,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=et)},fe=function(R,H,te,ue){te=te||0,ue=ue||0,this.pdf.internal.out(t(R+te)+" "+i(H+ue)+" l")},ae=function(R,H,te){return this.pdf.lines(R,H,te,null,null)},ge=function(R,H,te,ue,ce,Ae,_e,Ce){this.pdf.internal.out([e(r(te+R)),e(s(ue+H)),e(r(ce+R)),e(s(Ae+H)),e(r(_e+R)),e(s(Ce+H)),"c"].join(" "))},K=function(R,H,te,ue){for(var ce=2*Math.PI,Ae=Math.PI/2;H>te;)H-=ce;var _e=Math.abs(te-H);_e<ce&&ue&&(_e=ce-_e);for(var Ce=[],Be=ue?-1:1,We=H;_e>1e-5;){var et=We+Be*Math.min(_e,Ae);Ce.push(Q.call(this,R,We,et)),_e-=Math.abs(et-We),We=et}return Ce},Q=function(R,H,te){var ue=(te-H)/2,ce=R*Math.cos(ue),Ae=R*Math.sin(ue),_e=ce,Ce=-Ae,Be=_e*_e+Ce*Ce,We=Be+_e*ce+Ce*Ae,et=4/3*(Math.sqrt(2*Be*We)-We)/(_e*Ae-Ce*ce),Qe=_e-et*Ce,yt=Ce+et*_e,Re=Qe,se=-yt,ft=ue+H,gt=Math.cos(ft),Je=Math.sin(ft);return{x1:R*Math.cos(H),y1:R*Math.sin(H),x2:Qe*gt-yt*Je,y2:Qe*Je+yt*gt,x3:Re*gt-se*Je,y3:Re*Je+se*gt,x4:R*Math.cos(te),y4:R*Math.sin(te)}},Z=function(R){return 180*R/Math.PI},de=function(R,H,te,ue,ce,Ae){var _e=R+.5*(te-R),Ce=H+.5*(ue-H),Be=ce+.5*(te-ce),We=Ae+.5*(ue-Ae),et=Math.min(R,ce,_e,Be),Qe=Math.max(R,ce,_e,Be),yt=Math.min(H,Ae,Ce,We),Re=Math.max(H,Ae,Ce,We);return new u(et,yt,Qe-et,Re-yt)},z=function(R,H,te,ue,ce,Ae,_e,Ce){var Be,We,et,Qe,yt,Re,se,ft,gt,Je,nt,it,rt,St,Rt=te-R,Mt=ue-H,kt=ce-te,It=Ae-ue,Qt=_e-ce,lt=Ce-Ae;for(We=0;We<41;We++)gt=(se=(et=R+(Be=We/40)*Rt)+Be*((yt=te+Be*kt)-et))+Be*(yt+Be*(ce+Be*Qt-yt)-se),Je=(ft=(Qe=H+Be*Mt)+Be*((Re=ue+Be*It)-Qe))+Be*(Re+Be*(Ae+Be*lt-Re)-ft),We==0?(nt=gt,it=Je,rt=gt,St=Je):(nt=Math.min(nt,gt),it=Math.min(it,Je),rt=Math.max(rt,gt),St=Math.max(St,Je));return new u(Math.round(nt),Math.round(it),Math.round(rt-nt),Math.round(St-it))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,H,te=(R=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:H}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Gt.API),function(n){var e=function(s){var o,u,c,f,h,v,b,x,N,T;for(u=[],c=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>c;c+=4)(h=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(v=(h=((h=((h=((h=(h-(T=h%85))/85)-(N=h%85))/85)-(x=h%85))/85)-(b=h%85))/85)%85,u.push(v+33,b+33,x+33,N+33,T+33)):u.push(122);return function(M,k){for(var P=k;P>0;P--)M.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},t=function(s){var o,u,c,f,h,v=String,b="length",x=255,N="charCodeAt",T="slice",M="replace";for(s[T](-2),s=s[T](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),c=[],f=0,h=(s+=o="uuuuu"[T](s[b]%5||5))[b];h>f;f+=5)u=52200625*(s[N](f)-33)+614125*(s[N](f+1)-33)+7225*(s[N](f+2)-33)+85*(s[N](f+3)-33)+(s[N](f+4)-33),c.push(x&u>>24,x&u>>16,x&u>>8,x&u);return function(k,P){for(var I=P;I>0;I--)k.pop()}(c,o[b]),v.fromCharCode.apply(v,c)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var u="",c=0;c<s.length;c+=2)u+=String.fromCharCode("0x"+(s[c]+s[c+1]));return u},r=function(s){for(var o=new Uint8Array(s.length),u=s.length;u--;)o[u]=s.charCodeAt(u);return s=(o=j1(o)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};n.processDataByFilters=function(s,o){var u=0,c=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=r(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(Gt.API),function(n){n.loadFile=function(e,t,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(c,f,h){var v=new XMLHttpRequest,b=0,x=function(N){var T=N.length,M=[],k=String.fromCharCode;for(b=0;b<T;b+=1)M.push(k(255&N.charCodeAt(b)));return M.join("")};if(v.open("GET",c,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?h(x(this.responseText)):h(void 0)}),v.send(null),f&&v.status===200)return x(v.responseText)}(r,s,o)}catch{}return u}(e,t,i)},n.loadImageFile=n.loadFile}(Gt.API),function(n){function e(){return(Kt.html2canvas?Promise.resolve(Kt.html2canvas):I1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Kt.DOMPurify?Promise.resolve(Kt.DOMPurify):I1(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var u=ci(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},r=function(o,u){var c=document.createElement(o);for(var f in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[f]=u.style[f];return c},s=function o(u){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),c);return f=(f=f.setProgress(1,o,1,[o])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,u){return o.__proto__=u||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(f,h){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)h!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||v.appendChild(c(b,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var c=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var b=0;b<f.length;++b){var x=f[b],N=x.src.find(function(T){return T.format==="truetype"});N&&c.addFont(N.url,x.ref.name,x.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,c.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},s.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var u=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(o,u){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return u?u(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function u(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(o=o||Gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,u,c,f){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,u,c,f){return this.setProgress(o?this.progress.val+o:null,u||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,u){var c=this;return this.thenCore(o,u,function(f,h){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return c.updateProgress(null,f),v}).then(f,h).then(function(v){return c.updateProgress(1),v})})},s.prototype.thenCore=function(o,u,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=c.call(f,o,u);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},s.prototype.thenList=function(o){var u=this;return o.forEach(function(c){u=u.thenCore(c)}),u},s.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return s.convert(u,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Gt.getPageSize=function(o,u,c){if(ci(o)==="object"){var f=o;o=f.orientation,u=f.unit||u,c=f.format||c}u=u||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,v=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+u}var x,N=0,T=0;if(b.hasOwnProperty(v))N=b[v][1]/h,T=b[v][0]/h;else try{N=c[1],T=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",T>N&&(x=T,T=N,N=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>T&&(x=T,T=N,N=x)}return{width:T,height:N,unit:u,k:h,orientation:o}},n.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(W1):null;var c=new s(u);return u.worker?c:c.from(o).doCallback()}}(Gt.API),Gt.API.addJS=function(n){return ab=n,this.internal.events.subscribe("postPutResources",function(){Qp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ab+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Qp!==void 0&&sb!==void 0&&this.internal.out("/Names <</JavaScript "+Qp+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],u=i.exec(o);if(u!=null){var c=u[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(s=0;s<f;s++){var v=t.internal.newObject();h.push(v);var b=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var x=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+x+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(Gt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,s,o,u){var c,f=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(v){for(var b,x=256*v.charCodeAt(4)+v.charCodeAt(5),N=v.length,T={width:0,height:0,numcomponents:1},M=4;M<N;M+=2){if(M+=x,e.indexOf(v.charCodeAt(M+1))!==-1){b=256*v.charCodeAt(M+5)+v.charCodeAt(M+6),T={width:256*v.charCodeAt(M+7)+v.charCodeAt(M+8),height:b,numcomponents:v.charCodeAt(M+9)};break}x=256*v.charCodeAt(M+2)+v.charCodeAt(M+3)}return T}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return h}}(Gt.API);var Ef,em,ob,lb,ub,jR=function(){var n,e,t;function i(s){var o,u,c,f,h,v,b,x,N,T,M,k,P,I;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(o=this.readUInt32(),N=(function(){var J,q;for(q=[],J=0;J<4;++J)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,v.delay=1e3*h/f,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),s=(v!=null?v.data:void 0)||this.imgData,k=0;0<=o?k<o:k>o;0<=o?++k:--k)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((T=c-this.transparency.indexed.length)>0)for(P=0;0<=T?P<T:P>T;0<=T?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":b=(M=this.read(o)).indexOf(0),x=String.fromCharCode.apply(String,M.slice(0,b)),this.text[x]=String.fromCharCode.apply(String,M.slice(b+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(I=this.colorType)===4||I===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,u;for(u=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),c=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(v,b,x,N){var T,M,k,P,I,J,q,W,ee,j,ie,le,F,G,fe,ae,ge,K,Q,Z,de,z=Math.ceil((f.width-v)/x),me=Math.ceil((f.height-b)/N),R=f.width==z&&f.height==me;for(G=o*z,le=R?u:new Uint8Array(G*me),J=s.length,F=0,M=0;F<me&&c<J;){switch(s[c++]){case 0:for(P=ge=0;ge<G;P=ge+=1)le[M++]=s[c++];break;case 1:for(P=K=0;K<G;P=K+=1)T=s[c++],I=P<o?0:le[M-o],le[M++]=(T+I)%256;break;case 2:for(P=Q=0;Q<G;P=Q+=1)T=s[c++],k=(P-P%o)/o,fe=F&&le[(F-1)*G+k*o+P%o],le[M++]=(fe+T)%256;break;case 3:for(P=Z=0;Z<G;P=Z+=1)T=s[c++],k=(P-P%o)/o,I=P<o?0:le[M-o],fe=F&&le[(F-1)*G+k*o+P%o],le[M++]=(T+Math.floor((I+fe)/2))%256;break;case 4:for(P=de=0;de<G;P=de+=1)T=s[c++],k=(P-P%o)/o,I=P<o?0:le[M-o],F===0?fe=ae=0:(fe=le[(F-1)*G+k*o+P%o],ae=k&&le[(F-1)*G+(k-1)*o+P%o]),q=I+fe-ae,W=Math.abs(q-I),j=Math.abs(q-fe),ie=Math.abs(q-ae),ee=W<=j&&W<=ie?I:j<=ie?fe:ae,le[M++]=(T+ee)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!R){var H=((b+F*N)*f.width+v)*o,te=F*G;for(P=0;P<z;P+=1){for(var ue=0;ue<o;ue+=1)u[H++]=le[te++];H+=(x-1)*o}}F++}}return s=vR(s),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),u},i.prototype.decodePalette=function(){var s,o,u,c,f,h,v,b,x;for(u=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+u.length),c=0,s=0,o=v=0,b=u.length;v<b;o=v+=3)f[c++]=u[o],f[c++]=u[o+1],f[c++]=u[o+2],f[c++]=(x=h[s++])!=null?x:255;return f},i.prototype.copyToImageData=function(s,o){var u,c,f,h,v,b,x,N,T,M,k;if(c=this.colors,T=null,u=this.hasAlphaChannel,this.palette.length&&(T=(k=this._decodedPalette)!=null?k:this._decodedPalette=this.decodePalette(),c=4,u=!0),N=(f=s.data||s).length,v=T||o,h=b=0,c===1)for(;h<N;)x=T?4*o[h/4]:b,M=v[x++],f[h++]=M,f[h++]=M,f[h++]=M,f[h++]=u?v[x++]:255,b=x;else for(;h<N;)x=T?4*o[h/4]:b,f[h++]=v[x++],f[h++]=v[x++],f[h++]=v[x++],f[h++]=u?v[x++]:255,b=x},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Kt)==="[object Window]"){try{e=Kt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(r()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,u,c,f,h,v,b,x;if(this.animation){for(x=[],u=h=0,v=(b=this.animation.frames).length;h<v;u=++h)o=b[u],c=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,f),o.imageData=c,x.push(o.image=n(c));return x}},i.prototype.renderFrame=function(s,o){var u,c,f;return u=(c=this.animation.frames)[o],f=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(s){var o,u,c,f,h,v,b=this;return u=0,v=this.animation,f=v.numFrames,c=v.frames,h=v.numPlays,(o=function(){var x,N;if(x=u++%f,N=c[x],b.renderFrame(s,x),f>1&&u/f<h)return b.animation._timeout=setTimeout(o,N.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function VR(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],s=r>>7,o=1<<(7&r)+1;n[e++],n[e++];var u=null,c=null;s&&(u=e,c=o,e+=3*o);var f=!0,h=[],v=0,b=null,x=0,N=null;for(this.width=t,this.height=i;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,N=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((F=n[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=n[e++];v=n[e++]|n[e++]<<8,b=n[e++],(1&T)==0&&(b=null),x=T>>2&7,e++;break;case 254:for(;;){if(!((F=n[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var M=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,J=n[e++],q=J>>6&1,W=1<<(7&J)+1,ee=u,j=c,ie=!1;J>>7&&(ie=!0,ee=e,j=W,e+=3*W);var le=e;for(e++;;){var F;if(!((F=n[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}h.push({x:M,y:k,width:P,height:I,has_local_palette:ie,palette_offset:ee,palette_size:j,data_offset:le,data_length:e-le,transparent_index:b,interlaced:!!q,delay:v,disposal:x});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return N},this.frameInfo=function(G){if(G<0||G>=h.length)throw new Error("Frame index out of range.");return h[G]},this.decodeAndBlitFrameBGRA=function(G,fe){var ae=this.frameInfo(G),ge=ae.width*ae.height,K=new Uint8Array(ge);cb(n,ae.data_offset,K,ge);var Q=ae.palette_offset,Z=ae.transparent_index;Z===null&&(Z=256);var de=ae.width,z=t-de,me=de,R=4*(ae.y*t+ae.x),H=4*((ae.y+ae.height)*t+ae.x),te=R,ue=4*z;ae.interlaced===!0&&(ue+=4*t*7);for(var ce=8,Ae=0,_e=K.length;Ae<_e;++Ae){var Ce=K[Ae];if(me===0&&(me=de,(te+=ue)>=H&&(ue=4*z+4*t*(ce-1),te=R+(de+z)*(ce<<1),ce>>=1)),Ce===Z)te+=4;else{var Be=n[Q+3*Ce],We=n[Q+3*Ce+1],et=n[Q+3*Ce+2];fe[te++]=et,fe[te++]=We,fe[te++]=Be,fe[te++]=255}--me}},this.decodeAndBlitFrameRGBA=function(G,fe){var ae=this.frameInfo(G),ge=ae.width*ae.height,K=new Uint8Array(ge);cb(n,ae.data_offset,K,ge);var Q=ae.palette_offset,Z=ae.transparent_index;Z===null&&(Z=256);var de=ae.width,z=t-de,me=de,R=4*(ae.y*t+ae.x),H=4*((ae.y+ae.height)*t+ae.x),te=R,ue=4*z;ae.interlaced===!0&&(ue+=4*t*7);for(var ce=8,Ae=0,_e=K.length;Ae<_e;++Ae){var Ce=K[Ae];if(me===0&&(me=de,(te+=ue)>=H&&(ue=4*z+4*t*(ce-1),te=R+(de+z)*(ce<<1),ce>>=1)),Ce===Z)te+=4;else{var Be=n[Q+3*Ce],We=n[Q+3*Ce+1],et=n[Q+3*Ce+2];fe[te++]=Be,fe[te++]=We,fe[te++]=et,fe[te++]=255}--me}}}function cb(n,e,t,i){for(var r=n[e++],s=1<<r,o=s+1,u=o+1,c=r+1,f=(1<<c)-1,h=0,v=0,b=0,x=n[e++],N=new Int32Array(4096),T=null;;){for(;h<16&&x!==0;)v|=n[e++]<<h,h+=8,x===1?x=n[e++]:--x;if(h<c)break;var M=v&f;if(v>>=c,h-=c,M!==s){if(M===o)break;for(var k=M<u?M:T,P=0,I=k;I>s;)I=N[I]>>8,++P;var J=I;if(b+P+(k!==M?1:0)>i)return void xi.log("Warning, gif stream longer than expected.");t[b++]=J;var q=b+=P;for(k!==M&&(t[b++]=J),I=k;P--;)I=N[I],t[--q]=255&I,I>>=8;T!==null&&u<4096&&(N[u++]=T<<8|J,u>=f+1&&c<12&&(++c,f=f<<1|1)),T=M}else u=o+1,f=(1<<(c=r+1))-1,T=null}return b!==i&&xi.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function W0(n){var e,t,i,r,s,o=Math.floor,u=new Array(64),c=new Array(64),f=new Array(64),h=new Array(64),v=new Array(65535),b=new Array(65535),x=new Array(64),N=new Array(64),T=[],M=0,k=7,P=new Array(64),I=new Array(64),J=new Array(64),q=new Array(256),W=new Array(2048),ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],fe=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(R,H){for(var te=0,ue=0,ce=new Array,Ae=1;Ae<=16;Ae++){for(var _e=1;_e<=R[Ae];_e++)ce[H[ue]]=[],ce[H[ue]][0]=te,ce[H[ue]][1]=Ae,ue++,te++;te*=2}return ce}function Q(R){for(var H=R[0],te=R[1]-1;te>=0;)H&1<<te&&(M|=1<<k),te--,--k<0&&(M==255?(Z(255),Z(0)):Z(M),k=7,M=0)}function Z(R){T.push(R)}function de(R){Z(R>>8&255),Z(255&R)}function z(R,H,te,ue,ce){for(var Ae,_e=ce[0],Ce=ce[240],Be=function(Je,nt){var it,rt,St,Rt,Mt,kt,It,Qt,lt,qt,ut=0;for(lt=0;lt<8;++lt){it=Je[ut],rt=Je[ut+1],St=Je[ut+2],Rt=Je[ut+3],Mt=Je[ut+4],kt=Je[ut+5],It=Je[ut+6];var ii=it+(Qt=Je[ut+7]),cn=it-Qt,Ii=rt+It,zt=rt-It,Cn=St+kt,wr=St-kt,fn=Rt+Mt,_r=Rt-Mt,Zn=ii+fn,Sr=ii-fn,Oi=Ii+Cn,qn=Ii-Cn;Je[ut]=Zn+Oi,Je[ut+4]=Zn-Oi;var Lt=.707106781*(qn+Sr);Je[ut+2]=Sr+Lt,Je[ut+6]=Sr-Lt;var on=.382683433*((Zn=_r+wr)-(qn=zt+cn)),Fr=.5411961*Zn+on,nn=1.306562965*qn+on,mi=.707106781*(Oi=wr+zt),cr=cn+mi,vt=cn-mi;Je[ut+5]=vt+Fr,Je[ut+3]=vt-Fr,Je[ut+1]=cr+nn,Je[ut+7]=cr-nn,ut+=8}for(ut=0,lt=0;lt<8;++lt){it=Je[ut],rt=Je[ut+8],St=Je[ut+16],Rt=Je[ut+24],Mt=Je[ut+32],kt=Je[ut+40],It=Je[ut+48];var Bn=it+(Qt=Je[ut+56]),Sn=it-Qt,ri=rt+It,Rn=rt-It,Xn=St+kt,gi=St-kt,Wi=Rt+Mt,Pr=Rt-Mt,zn=Bn+Wi,Ki=Bn-Wi,Ot=ri+Xn,Fi=ri-Xn;Je[ut]=zn+Ot,Je[ut+32]=zn-Ot;var Yi=.707106781*(Fi+Ki);Je[ut+16]=Ki+Yi,Je[ut+48]=Ki-Yi;var In=.382683433*((zn=Pr+gi)-(Fi=Rn+Sn)),Qr=.5411961*zn+In,yi=1.306562965*Fi+In,$i=.707106781*(Ot=gi+Rn),Ci=Sn+$i,Bs=Sn-$i;Je[ut+40]=Bs+Qr,Je[ut+24]=Bs-Qr,Je[ut+8]=Ci+yi,Je[ut+56]=Ci-yi,ut++}for(lt=0;lt<64;++lt)qt=Je[lt]*nt[lt],x[lt]=qt>0?qt+.5|0:qt-.5|0;return x}(R,H),We=0;We<64;++We)N[ee[We]]=Be[We];var et=N[0]-te;te=N[0],et==0?Q(ue[0]):(Q(ue[b[Ae=32767+et]]),Q(v[Ae]));for(var Qe=63;Qe>0&&N[Qe]==0;)Qe--;if(Qe==0)return Q(_e),te;for(var yt,Re=1;Re<=Qe;){for(var se=Re;N[Re]==0&&Re<=Qe;)++Re;var ft=Re-se;if(ft>=16){yt=ft>>4;for(var gt=1;gt<=yt;++gt)Q(Ce);ft&=15}Ae=32767+N[Re],Q(ce[(ft<<4)+b[Ae]]),Q(v[Ae]),Re++}return Qe!=63&&Q(_e),te}function me(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(H){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var ce=o((te[ue]*H+50)/100);ce=Math.min(Math.max(ce,1),255),u[ee[ue]]=ce}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var Ce=o((Ae[_e]*H+50)/100);Ce=Math.min(Math.max(Ce,1),255),c[ee[_e]]=Ce}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,et=0;et<8;et++)for(var Qe=0;Qe<8;Qe++)f[We]=1/(u[ee[We]]*Be[et]*Be[Qe]*8),h[We]=1/(c[ee[We]]*Be[et]*Be[Qe]*8),We++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,H){H&&me(H),T=new Array,M=0,k=7,de(65496),de(65504),de(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),de(1),de(1),Z(0),Z(0),function(){de(65499),de(132),Z(0);for(var rt=0;rt<64;rt++)Z(u[rt]);Z(1);for(var St=0;St<64;St++)Z(c[St])}(),function(rt,St){de(65472),de(17),Z(8),de(St),de(rt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(R.width,R.height),function(){de(65476),de(418),Z(0);for(var rt=0;rt<16;rt++)Z(j[rt+1]);for(var St=0;St<=11;St++)Z(ie[St]);Z(16);for(var Rt=0;Rt<16;Rt++)Z(le[Rt+1]);for(var Mt=0;Mt<=161;Mt++)Z(F[Mt]);Z(1);for(var kt=0;kt<16;kt++)Z(G[kt+1]);for(var It=0;It<=11;It++)Z(fe[It]);Z(17);for(var Qt=0;Qt<16;Qt++)Z(ae[Qt+1]);for(var lt=0;lt<=161;lt++)Z(ge[lt])}(),de(65498),de(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var te=0,ue=0,ce=0;M=0,k=7,this.encode.displayName="_encode_";for(var Ae,_e,Ce,Be,We,et,Qe,yt,Re,se=R.data,ft=R.width,gt=R.height,Je=4*ft,nt=0;nt<gt;){for(Ae=0;Ae<Je;){for(We=Je*nt+Ae,Qe=-1,yt=0,Re=0;Re<64;Re++)et=We+(yt=Re>>3)*Je+(Qe=4*(7&Re)),nt+yt>=gt&&(et-=Je*(nt+1+yt-gt)),Ae+Qe>=Je&&(et-=Ae+Qe-Je+4),_e=se[et++],Ce=se[et++],Be=se[et++],P[Re]=(W[_e]+W[Ce+256>>0]+W[Be+512>>0]>>16)-128,I[Re]=(W[_e+768>>0]+W[Ce+1024>>0]+W[Be+1280>>0]>>16)-128,J[Re]=(W[_e+1280>>0]+W[Ce+1536>>0]+W[Be+1792>>0]>>16)-128;te=z(P,f,te,e,i),ue=z(I,h,ue,t,r),ce=z(J,h,ce,t,r),Ae+=32}nt+=8}if(k>=0){var it=[];it[1]=k+1,it[0]=(1<<k+1)-1,Q(it)}return de(65497),new Uint8Array(T)},n=n||50,function(){for(var R=String.fromCharCode,H=0;H<256;H++)q[H]=R(H)}(),e=K(j,ie),t=K(G,fe),i=K(le,F),r=K(ae,ge),function(){for(var R=1,H=2,te=1;te<=15;te++){for(var ue=R;ue<H;ue++)b[32767+ue]=te,v[32767+ue]=[],v[32767+ue][1]=te,v[32767+ue][0]=ue;for(var ce=-(H-1);ce<=-R;ce++)b[32767+ce]=te,v[32767+ce]=[],v[32767+ce][1]=te,v[32767+ce][0]=H-1+ce;R<<=1,H<<=1}}(),function(){for(var R=0;R<256;R++)W[R]=19595*R,W[R+256>>0]=38470*R,W[R+512>>0]=7471*R+32768,W[R+768>>0]=-11059*R,W[R+1024>>0]=-21709*R,W[R+1280>>0]=32768*R+8421375,W[R+1536>>0]=-27439*R,W[R+1792>>0]=-5329*R}(),me(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ka(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function fb(n){function e(j){if(!j)throw Error("assert :P")}function t(j,ie,le){for(var F=0;4>F;F++)if(j[ie+F]!=le.charCodeAt(F))return!0;return!1}function i(j,ie,le,F,G){for(var fe=0;fe<G;fe++)j[ie+fe]=le[F+fe]}function r(j,ie,le,F){for(var G=0;G<F;G++)j[ie+G]=le}function s(j){return new Int32Array(j)}function o(j,ie){for(var le=[],F=0;F<j;F++)le.push(new ie);return le}function u(j,ie){var le=[];return function F(G,fe,ae){for(var ge=ae[fe],K=0;K<ge&&(G.push(ae.length>fe+1?[]:new ie),!(ae.length<fe+1));K++)F(G[K],fe+1,ae)}(le,0,j),le}var c=function(){var j=this;function ie(y,_){for(var E=1<<_-1>>>0;y&E;)E>>>=1;return E?(y&E-1)+E:y}function le(y,_,E,L,O){e(!(L%E));do y[_+(L-=E)]=O;while(0<L)}function F(y,_,E,L,O){if(e(2328>=O),512>=O)var V=s(512);else if((V=s(O))==null)return 0;return function(U,Y,X,re,ve,Le){var ke,Se,He=Y,Oe=1<<X,xe=s(16),we=s(16);for(e(ve!=0),e(re!=null),e(U!=null),e(0<X),Se=0;Se<ve;++Se){if(15<re[Se])return 0;++xe[re[Se]]}if(xe[0]==ve)return 0;for(we[1]=0,ke=1;15>ke;++ke){if(xe[ke]>1<<ke)return 0;we[ke+1]=we[ke]+xe[ke]}for(Se=0;Se<ve;++Se)ke=re[Se],0<re[Se]&&(Le[we[ke]++]=Se);if(we[15]==1)return(re=new G).g=0,re.value=Le[0],le(U,He,1,Oe,re),Oe;var ze,Ge=-1,Ve=Oe-1,pt=0,st=1,Nt=1,at=1<<X;for(Se=0,ke=1,ve=2;ke<=X;++ke,ve<<=1){if(st+=Nt<<=1,0>(Nt-=xe[ke]))return 0;for(;0<xe[ke];--xe[ke])(re=new G).g=ke,re.value=Le[Se++],le(U,He+pt,ve,at,re),pt=ie(pt,ke)}for(ke=X+1,ve=2;15>=ke;++ke,ve<<=1){if(st+=Nt<<=1,0>(Nt-=xe[ke]))return 0;for(;0<xe[ke];--xe[ke]){if(re=new G,(pt&Ve)!=Ge){for(He+=at,ze=1<<(Ge=ke)-X;15>Ge&&!(0>=(ze-=xe[Ge]));)++Ge,ze<<=1;Oe+=at=1<<(ze=Ge-X),U[Y+(Ge=pt&Ve)].g=ze+X,U[Y+Ge].value=He-Y-Ge}re.g=ke-X,re.value=Le[Se++],le(U,He+(pt>>X),ve,at,re),pt=ie(pt,ke)}}return st!=2*we[15]-1?0:Oe}(y,_,E,L,O,V)}function G(){this.value=this.g=0}function fe(){this.value=this.g=0}function ae(){this.G=o(5,G),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(fr,fe)}function ge(y,_,E,L){e(y!=null),e(_!=null),e(2147483648>L),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=_,y.pa=E,y.Jd=_,y.Yc=E+L,y.Zc=4<=L?E+L-4+1:E,Ae(y)}function K(y,_){for(var E=0;0<_--;)E|=Ce(y,128)<<_;return E}function Q(y,_){var E=K(y,_);return _e(y)?-E:E}function Z(y,_,E,L){var O,V=0;for(e(y!=null),e(_!=null),e(4294967288>L),y.Sb=L,y.Ra=0,y.u=0,y.h=0,4<L&&(L=4),O=0;O<L;++O)V+=_[E+O]<<8*O;y.Ra=V,y.bb=L,y.oa=_,y.pa=E}function de(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<tl-8>>>0,++y.bb,y.u-=8;te(y)&&(y.h=1,y.u=0)}function z(y,_){if(e(0<=_),!y.h&&_<=el){var E=H(y)&ho[_];return y.u+=_,de(y),E}return y.h=1,y.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(y){return y.Ra>>>(y.u&tl-1)>>>0}function te(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>tl}function ue(y,_){y.u=_,y.h=te(y)}function ce(y){y.u>=Yl&&(e(y.u>=Yl),de(y))}function Ae(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function _e(y){return K(y,1)}function Ce(y,_){var E=y.Ca;0>y.b&&Ae(y);var L=y.b,O=E*_>>>8,V=(y.I>>>L>O)+0;for(V?(E-=O,y.I-=O+1<<L>>>0):E=O+1,L=E,O=0;256<=L;)O+=8,L>>=8;return L=7^O+es[L],y.b-=L,y.Ca=(E<<L)-1,V}function Be(y,_,E){y[_+0]=E>>24&255,y[_+1]=E>>16&255,y[_+2]=E>>8&255,y[_+3]=E>>0&255}function We(y,_){return y[_+0]<<0|y[_+1]<<8}function et(y,_){return We(y,_)|y[_+2]<<16}function Qe(y,_){return We(y,_)|We(y,_+2)<<16}function yt(y,_){var E=1<<_;return e(y!=null),e(0<_),y.X=s(E),y.X==null?0:(y.Mb=32-_,y.Xa=_,1)}function Re(y,_){e(y!=null),e(_!=null),e(y.Xa==_.Xa),i(_.X,0,y.X,0,1<<_.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function ft(y,_,E,L){e(E!=null),e(L!=null);var O=E[0],V=L[0];return O==0&&(O=(y*V+_/2)/_),V==0&&(V=(_*O+y/2)/y),0>=O||0>=V?0:(E[0]=O,L[0]=V,1)}function gt(y,_){return y+(1<<_)-1>>>_}function Je(y,_){return((4278255360&y)+(4278255360&_)>>>0&4278255360)+((16711935&y)+(16711935&_)>>>0&16711935)>>>0}function nt(y,_){j[_]=function(E,L,O,V,U,Y,X){var re;for(re=0;re<U;++re){var ve=j[y](Y[X+re-1],O,V+re);Y[X+re]=Je(E[L+re],ve)}}}function it(){this.ud=this.hd=this.jd=0}function rt(y,_){return((4278124286&(y^_))>>>1)+(y&_)>>>0}function St(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Rt(y,_){return St(y+(y-_+.5>>1))}function Mt(y,_,E){return Math.abs(_-E)-Math.abs(y-E)}function kt(y,_,E,L,O,V,U){for(L=V[U-1],E=0;E<O;++E)V[U+E]=L=Je(y[_+E],L)}function It(y,_,E,L,O){var V;for(V=0;V<E;++V){var U=y[_+V],Y=U>>8&255,X=16711935&(X=(X=16711935&U)+((Y<<16)+Y));L[O+V]=(4278255360&U)+X>>>0}}function Qt(y,_){_.jd=y>>0&255,_.hd=y>>8&255,_.ud=y>>16&255}function lt(y,_,E,L,O,V){var U;for(U=0;U<L;++U){var Y=_[E+U],X=Y>>>8,re=Y,ve=255&(ve=(ve=Y>>>16)+((y.jd<<24>>24)*(X<<24>>24)>>>5));re=255&(re=(re=re+((y.hd<<24>>24)*(X<<24>>24)>>>5))+((y.ud<<24>>24)*(ve<<24>>24)>>>5)),O[V+U]=(4278255360&Y)+(ve<<16)+re}}function qt(y,_,E,L,O){j[_]=function(V,U,Y,X,re,ve,Le,ke,Se){for(X=Le;X<ke;++X)for(Le=0;Le<Se;++Le)re[ve++]=O(Y[L(V[U++])])},j[y]=function(V,U,Y,X,re,ve,Le){var ke=8>>V.b,Se=V.Ea,He=V.K[0],Oe=V.w;if(8>ke)for(V=(1<<V.b)-1,Oe=(1<<ke)-1;U<Y;++U){var xe,we=0;for(xe=0;xe<Se;++xe)xe&V||(we=L(X[re++])),ve[Le++]=O(He[we&Oe]),we>>=ke}else j["VP8LMapColor"+E](X,re,He,Oe,ve,Le,U,Y,Se)}}function ut(y,_,E,L,O){for(E=_+E;_<E;){var V=y[_++];L[O++]=V>>16&255,L[O++]=V>>8&255,L[O++]=V>>0&255}}function ii(y,_,E,L,O){for(E=_+E;_<E;){var V=y[_++];L[O++]=V>>16&255,L[O++]=V>>8&255,L[O++]=V>>0&255,L[O++]=V>>24&255}}function cn(y,_,E,L,O){for(E=_+E;_<E;){var V=(U=y[_++])>>16&240|U>>12&15,U=U>>0&240|U>>28&15;L[O++]=V,L[O++]=U}}function Ii(y,_,E,L,O){for(E=_+E;_<E;){var V=(U=y[_++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;L[O++]=V,L[O++]=U}}function zt(y,_,E,L,O){for(E=_+E;_<E;){var V=y[_++];L[O++]=V>>0&255,L[O++]=V>>8&255,L[O++]=V>>16&255}}function Cn(y,_,E,L,O,V){if(V==0)for(E=_+E;_<E;)Be(L,((V=y[_++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),O+=32;else i(L,O,y,_,E)}function wr(y,_){j[_][0]=j[y+"0"],j[_][1]=j[y+"1"],j[_][2]=j[y+"2"],j[_][3]=j[y+"3"],j[_][4]=j[y+"4"],j[_][5]=j[y+"5"],j[_][6]=j[y+"6"],j[_][7]=j[y+"7"],j[_][8]=j[y+"8"],j[_][9]=j[y+"9"],j[_][10]=j[y+"10"],j[_][11]=j[y+"11"],j[_][12]=j[y+"12"],j[_][13]=j[y+"13"],j[_][14]=j[y+"0"],j[_][15]=j[y+"0"]}function fn(y){return y==Xu||y==So||y==Da||y==Xl}function _r(){this.eb=[],this.size=this.A=this.fb=0}function Zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _r,this.f.kb=new Zn,this.sd=null}function Oi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Lt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function on(y,_){var E=y.T,L=_.ba.f.RGBA,O=L.eb,V=L.fb+y.ka*L.A,U=Er[_.ba.S],Y=y.y,X=y.O,re=y.f,ve=y.N,Le=y.ea,ke=y.W,Se=_.cc,He=_.dc,Oe=_.Mc,xe=_.Nc,we=y.ka,ze=y.ka+y.T,Ge=y.U,Ve=Ge+1>>1;for(we==0?U(Y,X,null,null,re,ve,Le,ke,re,ve,Le,ke,O,V,null,null,Ge):(U(_.ec,_.fc,Y,X,Se,He,Oe,xe,re,ve,Le,ke,O,V-L.A,O,V,Ge),++E);we+2<ze;we+=2)Se=re,He=ve,Oe=Le,xe=ke,ve+=y.Rc,ke+=y.Rc,V+=2*L.A,U(Y,(X+=2*y.fa)-y.fa,Y,X,Se,He,Oe,xe,re,ve,Le,ke,O,V-L.A,O,V,Ge);return X+=y.fa,y.j+ze<y.o?(i(_.ec,_.fc,Y,X,Ge),i(_.cc,_.dc,re,ve,Ve),i(_.Mc,_.Nc,Le,ke,Ve),E--):1&ze||U(Y,X,null,null,re,ve,Le,ke,re,ve,Le,ke,O,V+L.A,null,null,Ge),E}function Fr(y,_,E){var L=y.F,O=[y.J];if(L!=null){var V=y.U,U=_.ba.S,Y=U==al||U==Da;_=_.ba.f.RGBA;var X=[0],re=y.ka;X[0]=y.T,y.Kb&&(re==0?--X[0]:(--re,O[0]-=y.width),y.j+y.ka+y.T==y.o&&(X[0]=y.o-y.j-re));var ve=_.eb;re=_.fb+re*_.A,y=_n(L,O[0],y.width,V,X,ve,re+(Y?0:3),_.A),e(E==X),y&&fn(U)&&xs(ve,re,Y,V,X,_.A)}return 0}function nn(y){var _=y.ma,E=_.ba.S,L=11>E,O=E==Zl||E==Zu||E==al||E==Ra||E==12||fn(E);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!fo(_.Oa,y,O?11:12))return 0;if(O&&fn(E)&&$e(),y.da)alert("todo:use_scaling");else{if(L){if(_.Ib=Lt,y.Kb){if(E=y.U+1>>1,_.memory=s(y.U+2*E),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+y.U,_.Mc=_.cc,_.Nc=_.dc+E,_.Ib=on,$e()}}else alert("todo:EmitYUV");O&&(_.Jb=Fr,L&&Ee())}if(L&&!Jh){for(y=0;256>y;++y)Sg[y]=89858*(y-128)+hr>>pa,tc[y]=-22014*(y-128)+hr,md[y]=-45773*(y-128),pr[y]=113618*(y-128)+hr>>pa;for(y=Co;y<tf;++y)_=76283*(y-16)+hr>>pa,nc[y-Co]=vs(_,255),gd[y-Co]=vs(_+8>>4,15);Jh=1}return 1}function mi(y){var _=y.ma,E=y.U,L=y.T;return e(!(1&y.ka)),0>=E||0>=L?0:(E=_.Ib(y,_),_.Jb!=null&&_.Jb(y,_,E),_.Dc+=E,1)}function cr(y){y.ma.memory=null}function vt(y,_,E,L){return z(y,8)!=47?0:(_[0]=z(y,14)+1,E[0]=z(y,14)+1,L[0]=z(y,1),z(y,3)!=0?0:!y.h)}function Bn(y,_){if(4>y)return y+1;var E=y-2>>1;return(2+(1&y)<<E)+z(_,E)+1}function Sn(y,_){return 120<_?_-120:1<=(E=((E=Oa[_-1])>>4)*y+(8-(15&E)))?E:1;var E}function ri(y,_,E){var L=H(E),O=y[_+=255&L].g-8;return 0<O&&(ue(E,E.u+8),L=H(E),_+=y[_].value,_+=L&(1<<O)-1),ue(E,E.u+y[_].g),y[_].value}function Rn(y,_,E){return E.g+=y.g,E.value+=y.value<<_>>>0,e(8>=E.g),y.g}function Xn(y,_,E){var L=y.xc;return e((_=L==0?0:y.vc[y.md*(E>>L)+(_>>L)])<y.Wb),y.Ya[_]}function gi(y,_,E,L){var O=y.ab,V=y.c*_,U=y.C;_=U+_;var Y=E,X=L;for(L=y.Ta,E=y.Ua;0<O--;){var re=y.gc[O],ve=U,Le=_,ke=Y,Se=X,He=(X=L,Y=E,re.Ea);switch(e(ve<Le),e(Le<=re.nc),re.hc){case 2:Yc(ke,Se,(Le-ve)*He,X,Y);break;case 0:var Oe=ve,xe=Le,we=X,ze=Y,Ge=(at=re).Ea;Oe==0&&(hd(ke,Se,null,null,1,we,ze),kt(ke,Se+1,0,0,Ge-1,we,ze+1),Se+=Ge,ze+=Ge,++Oe);for(var Ve=1<<at.b,pt=Ve-1,st=gt(Ge,at.b),Nt=at.K,at=at.w+(Oe>>at.b)*st;Oe<xe;){var jn=Nt,Wn=at,vn=1;for($u(ke,Se,we,ze-Ge,1,we,ze);vn<Ge;){var mn=(vn&~pt)+Ve;mn>Ge&&(mn=Ge),(0,Ma[jn[Wn++]>>8&15])(ke,Se+ +vn,we,ze+vn-Ge,mn-vn,we,ze+vn),vn=mn}Se+=Ge,ze+=Ge,++Oe&pt||(at+=st)}Le!=re.nc&&i(X,Y-He,X,Y+(Le-ve-1)*He,He);break;case 1:for(He=ke,xe=Se,Ge=(ke=re.Ea)-(ze=ke&~(we=(Se=1<<re.b)-1)),Oe=gt(ke,re.b),Ve=re.K,re=re.w+(ve>>re.b)*Oe;ve<Le;){for(pt=Ve,st=re,Nt=new it,at=xe+ze,jn=xe+ke;xe<at;)Qt(pt[st++],Nt),mo(Nt,He,xe,Se,X,Y),xe+=Se,Y+=Se;xe<jn&&(Qt(pt[st++],Nt),mo(Nt,He,xe,Ge,X,Y),xe+=Ge,Y+=Ge),++ve&we||(re+=Oe)}break;case 3:if(ke==X&&Se==Y&&0<re.b){for(xe=X,ke=He=Y+(Le-ve)*He-(ze=(Le-ve)*gt(re.Ea,re.b)),Se=X,we=Y,Oe=[],ze=(Ge=ze)-1;0<=ze;--ze)Oe[ze]=Se[we+ze];for(ze=Ge-1;0<=ze;--ze)xe[ke+ze]=Oe[ze];Cs(re,ve,Le,X,He,X,Y)}else Cs(re,ve,Le,ke,Se,X,Y)}Y=L,X=E}X!=E&&i(L,E,Y,X,V)}function Wi(y,_){var E=y.V,L=y.Ba+y.c*y.C,O=_-y.C;if(e(_<=y.l.o),e(16>=O),0<O){var V=y.l,U=y.Ta,Y=y.Ua,X=V.width;if(gi(y,O,E,L),O=Y=[Y],e((E=y.C)<(L=_)),e(V.v<V.va),L>V.o&&(L=V.o),E<V.j){var re=V.j-E;E=V.j,O[0]+=re*X}if(E>=L?E=0:(O[0]+=4*V.v,V.ka=E-V.j,V.U=V.va-V.v,V.T=L-E,E=1),E){if(Y=Y[0],11>(E=y.ca).S){var ve=E.f.RGBA,Le=(L=E.S,O=V.U,V=V.T,re=ve.eb,ve.A),ke=V;for(ve=ve.fb+y.Ma*ve.A;0<ke--;){var Se=U,He=Y,Oe=O,xe=re,we=ve;switch(L){case zr:Kr(Se,He,Oe,xe,we);break;case Zl:Dr(Se,He,Oe,xe,we);break;case Xu:Dr(Se,He,Oe,xe,we),xs(xe,we,0,Oe,1,0);break;case ca:Us(Se,He,Oe,xe,we);break;case Zu:Cn(Se,He,Oe,xe,we,1);break;case So:Cn(Se,He,Oe,xe,we,1),xs(xe,we,0,Oe,1,0);break;case al:Cn(Se,He,Oe,xe,we,0);break;case Da:Cn(Se,He,Oe,xe,we,0),xs(xe,we,1,Oe,1,0);break;case Ra:go(Se,He,Oe,xe,we);break;case Xl:go(Se,He,Oe,xe,we),wn(xe,we,Oe,1,0);break;case Jc:ts(Se,He,Oe,xe,we);break;default:e(0)}Y+=X,ve+=Le}y.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=E.height)}}y.C=_,e(y.C<=y.i)}function Pr(y){var _;if(0<y.ua)return 0;for(_=0;_<y.Wb;++_){var E=y.Ya[_].G,L=y.Ya[_].H;if(0<E[1][L[1]+0].g||0<E[2][L[2]+0].g||0<E[3][L[3]+0].g)return 0}return 1}function zn(y,_,E,L,O,V){if(y.Z!=0){var U=y.qd,Y=y.rd;for(e(da[y.Z]!=null);_<E;++_)da[y.Z](U,Y,L,O,L,O,V),U=L,Y=O,O+=V;y.qd=U,y.rd=Y}}function Ki(y,_){var E=y.l.ma,L=E.Z==0||E.Z==1?y.l.j:y.C;if(L=y.C<L?L:y.C,e(_<=y.l.o),_>L){var O=y.l.width,V=E.ca,U=E.tb+O*L,Y=y.V,X=y.Ba+y.c*L,re=y.gc;e(y.ab==1),e(re[0].hc==3),po(re[0],L,_,Y,X,V,U),zn(E,L,_,V,U,O)}y.C=y.Ma=_}function Ot(y,_,E,L,O,V,U){var Y=y.$/L,X=y.$%L,re=y.m,ve=y.s,Le=E+y.$,ke=Le;O=E+L*O;var Se=E+L*V,He=280+ve.ua,Oe=y.Pb?Y:16777216,xe=0<ve.ua?ve.Wa:null,we=ve.wc,ze=Le<Se?Xn(ve,X,Y):null;e(y.C<V),e(Se<=O);var Ge=!1;e:for(;;){for(;Ge||Le<Se;){var Ve=0;if(Y>=Oe){var pt=Le-E;e((Oe=y).Pb),Oe.wd=Oe.m,Oe.xd=pt,0<Oe.s.ua&&Re(Oe.s.Wa,Oe.s.vb),Oe=Y+Kh}if(X&we||(ze=Xn(ve,X,Y)),e(ze!=null),ze.Qb&&(_[Le]=ze.qb,Ge=!0),!Ge)if(ce(re),ze.jc){Ve=re,pt=_;var st=Le,Nt=ze.pd[H(Ve)&fr-1];e(ze.jc),256>Nt.g?(ue(Ve,Ve.u+Nt.g),pt[st]=Nt.value,Ve=0):(ue(Ve,Ve.u+Nt.g-256),e(256<=Nt.value),Ve=Nt.value),Ve==0&&(Ge=!0)}else Ve=ri(ze.G[0],ze.H[0],re);if(re.h)break;if(Ge||256>Ve){if(!Ge)if(ze.nd)_[Le]=(ze.qb|Ve<<8)>>>0;else{if(ce(re),Ge=ri(ze.G[1],ze.H[1],re),ce(re),pt=ri(ze.G[2],ze.H[2],re),st=ri(ze.G[3],ze.H[3],re),re.h)break;_[Le]=(st<<24|Ge<<16|Ve<<8|pt)>>>0}if(Ge=!1,++Le,++X>=L&&(X=0,++Y,U!=null&&Y<=V&&!(Y%16)&&U(y,Y),xe!=null))for(;ke<Le;)Ve=_[ke++],xe.X[(506832829*Ve&4294967295)>>>xe.Mb]=Ve}else if(280>Ve){if(Ve=Bn(Ve-256,re),pt=ri(ze.G[4],ze.H[4],re),ce(re),pt=Sn(L,pt=Bn(pt,re)),re.h)break;if(Le-E<pt||O-Le<Ve)break e;for(st=0;st<Ve;++st)_[Le+st]=_[Le+st-pt];for(Le+=Ve,X+=Ve;X>=L;)X-=L,++Y,U!=null&&Y<=V&&!(Y%16)&&U(y,Y);if(e(Le<=O),X&we&&(ze=Xn(ve,X,Y)),xe!=null)for(;ke<Le;)Ve=_[ke++],xe.X[(506832829*Ve&4294967295)>>>xe.Mb]=Ve}else{if(!(Ve<He))break e;for(Ge=Ve-280,e(xe!=null);ke<Le;)Ve=_[ke++],xe.X[(506832829*Ve&4294967295)>>>xe.Mb]=Ve;Ve=Le,e(!(Ge>>>(pt=xe).Xa)),_[Ve]=pt.X[Ge],Ge=!0}Ge||e(re.h==te(re))}if(y.Pb&&re.h&&Le<O)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Re(y.s.vb,y.s.Wa);else{if(re.h)break e;U!=null&&U(y,Y>V?V:Y),y.a=0,y.$=Le-E}return 1}return y.a=3,0}function Fi(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var _=y.Wa;_!=null&&(_.X=null),y.vb=null,e(y!=null)}function Yi(){var y=new dd;return y==null?null:(y.a=0,y.xb=Ql,wr("Predictor","VP8LPredictors"),wr("Predictor","VP8LPredictors_C"),wr("PredictorAdd","VP8LPredictorsAdd"),wr("PredictorAdd","VP8LPredictorsAdd_C"),Yc=It,mo=lt,Kr=ut,Dr=ii,go=cn,ts=Ii,Us=zt,j.VP8LMapColor32b=Cr,j.VP8LMapColor8b=Ju,y)}function In(y,_,E,L,O){var V=1,U=[y],Y=[_],X=L.m,re=L.s,ve=null,Le=0;e:for(;;){if(E)for(;V&&z(X,1);){var ke=U,Se=Y,He=L,Oe=1,xe=He.m,we=He.gc[He.ab],ze=z(xe,2);if(He.Oc&1<<ze)V=0;else{switch(He.Oc|=1<<ze,we.hc=ze,we.Ea=ke[0],we.nc=Se[0],we.K=[null],++He.ab,e(4>=He.ab),ze){case 0:case 1:we.b=z(xe,3)+2,Oe=In(gt(we.Ea,we.b),gt(we.nc,we.b),0,He,we.K),we.K=we.K[0];break;case 3:var Ge,Ve=z(xe,8)+1,pt=16<Ve?0:4<Ve?1:2<Ve?2:3;if(ke[0]=gt(we.Ea,pt),we.b=pt,Ge=Oe=In(Ve,1,0,He,we.K)){var st,Nt=Ve,at=we,jn=1<<(8>>at.b),Wn=s(jn);if(Wn==null)Ge=0;else{var vn=at.K[0],mn=at.w;for(Wn[0]=at.K[0][0],st=1;st<1*Nt;++st)Wn[st]=Je(vn[mn+st],Wn[st-1]);for(;st<4*jn;++st)Wn[st]=0;at.K[0]=null,at.K[0]=Wn,Ge=1}}Oe=Ge;break;case 2:break;default:e(0)}V=Oe}}if(U=U[0],Y=Y[0],V&&z(X,1)&&!(V=1<=(Le=z(X,4))&&11>=Le)){L.a=3;break e}var ni;if(ni=V)t:{var Kn,Zt,ai,Pt=L,Wt=U,On=Y,Vn=Le,kr=E,mr=Pt.m,Qi=Pt.s,er=[null],rr=1,Ms=0,Yn=ll[Vn];n:for(;;){if(kr&&z(mr,1)){var sr=z(mr,3)+2,Gs=gt(Wt,sr),No=gt(On,sr),fl=Gs*No;if(!In(Gs,No,0,Pt,er))break n;for(er=er[0],Qi.xc=sr,Kn=0;Kn<fl;++Kn){var Eo=er[Kn]>>8&65535;er[Kn]=Eo,Eo>=rr&&(rr=Eo+1)}}if(mr.h)break n;for(Zt=0;5>Zt;++Zt){var _i=bs[Zt];!Zt&&0<Vn&&(_i+=1<<Vn),Ms<_i&&(Ms=_i)}var ic=o(rr*Yn,G),nf=rr,$r=o(nf,ae);if($r==null)var ki=null;else e(65536>=nf),ki=$r;var dl=s(Ms);if(ki==null||dl==null||ic==null){Pt.a=1;break n}var ko=ic;for(Kn=ai=0;Kn<rr;++Kn){var is=ki[Kn],Mo=is.G,rs=is.H,rc=0,tu=1,rf=0;for(Zt=0;5>Zt;++Zt){_i=bs[Zt],Mo[Zt]=ko,rs[Zt]=ai,!Zt&&0<Vn&&(_i+=1<<Vn);r:{var sc,sf=_i,ac=Pt,nu=dl,Qh=ko,ep=ai,oc=0,ja=ac.m,Tg=z(ja,1);if(r(nu,0,0,sf),Tg){var tp=z(ja,1)+1,np=z(ja,1),yd=z(ja,np==0?1:8);nu[yd]=1,tp==2&&(nu[yd=z(ja,8)]=1);var iu=1}else{var vd=s(19),xd=z(ja,4)+4;if(19<xd){ac.a=3;var lc=0;break r}for(sc=0;sc<xd;++sc)vd[Ia[sc]]=z(ja,3);var af=void 0,ru=void 0,ip=ac,rp=vd,Va=sf,uc=nu,of=0,Ws=ip.m,su=8,bd=o(128,G);i:for(;F(bd,0,7,rp,19);){if(z(Ws,1)){var sp=2+2*z(Ws,3);if((af=2+z(Ws,sp))>Va)break i}else af=Va;for(ru=0;ru<Va&&af--;){ce(Ws);var wd=bd[0+(127&H(Ws))];ue(Ws,Ws.u+wd.g);var hl=wd.value;if(16>hl)uc[ru++]=hl,hl!=0&&(su=hl);else{var ap=hl==16,_d=hl-16,Sd=ks[_d],Ad=z(Ws,Zc[_d])+Sd;if(ru+Ad>Va)break i;for(var op=ap?su:0;0<Ad--;)uc[ru++]=op}}of=1;break i}of||(ip.a=3),iu=of}(iu=iu&&!ja.h)&&(oc=F(Qh,ep,8,nu,sf)),iu&&oc!=0?lc=oc:(ac.a=3,lc=0)}if(lc==0)break n;if(tu&&ol[Zt]==1&&(tu=ko[ai].g==0),rc+=ko[ai].g,ai+=lc,3>=Zt){var pl,lf=dl[0];for(pl=1;pl<_i;++pl)dl[pl]>lf&&(lf=dl[pl]);rf+=lf}}if(is.nd=tu,is.Qb=0,tu&&(is.qb=(Mo[3][rs[3]+0].value<<24|Mo[1][rs[1]+0].value<<16|Mo[2][rs[2]+0].value)>>>0,rc==0&&256>Mo[0][rs[0]+0].value&&(is.Qb=1,is.qb+=Mo[0][rs[0]+0].value<<8)),is.jc=!is.Qb&&6>rf,is.jc){var cc,Ua=is;for(cc=0;cc<fr;++cc){var ma=cc,qa=Ua.pd[ma],fc=Ua.G[0][Ua.H[0]+ma];256<=fc.value?(qa.g=fc.g+256,qa.value=fc.value):(qa.g=0,qa.value=0,ma>>=Rn(fc,8,qa),ma>>=Rn(Ua.G[1][Ua.H[1]+ma],16,qa),ma>>=Rn(Ua.G[2][Ua.H[2]+ma],0,qa),Rn(Ua.G[3][Ua.H[3]+ma],24,qa))}}}Qi.vc=er,Qi.Wb=rr,Qi.Ya=ki,Qi.yc=ic,ni=1;break t}ni=0}if(!(V=ni)){L.a=3;break e}if(0<Le){if(re.ua=1<<Le,!yt(re.Wa,Le)){L.a=1,V=0;break e}}else re.ua=0;var dc=L,Td=U,lp=Y,Cd=dc.s,Nd=Cd.xc;if(dc.c=Td,dc.i=lp,Cd.md=gt(Td,Nd),Cd.wc=Nd==0?-1:(1<<Nd)-1,E){L.xb=$h;break e}if((ve=s(U*Y))==null){L.a=1,V=0;break e}V=(V=Ot(L,ve,0,U,Y,Y,null))&&!X.h;break e}return V?(O!=null?O[0]=ve:(e(ve==null),e(E)),L.$=0,E||Fi(re)):Fi(re),V}function Qr(y,_){var E=y.c*y.i,L=E+_+16*_;return e(y.c<=_),y.V=s(L),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+E+_,1)}function yi(y,_){var E=y.C,L=_-E,O=y.V,V=y.Ba+y.c*E;for(e(_<=y.l.o);0<L;){var U=16<L?16:L,Y=y.l.ma,X=y.l.width,re=X*U,ve=Y.ca,Le=Y.tb+X*E,ke=y.Ta,Se=y.Ua;gi(y,U,O,V),di(ke,Se,ve,Le,re),zn(Y,E,E+U,ve,Le,X),L-=U,O+=U*y.c,E+=U}e(E==_),y.C=y.Ma=_}function $i(){this.ub=this.yd=this.td=this.Rb=0}function Ci(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ca(){this.Yb=function(){var y=[];return function _(E,L,O){for(var V=O[L],U=0;U<V&&(E.push(O.length>L+1?[]:0),!(O.length<L+1));U++)_(E[U],L+1,O)}(y,0,[3,11]),y}()}function ro(){this.jb=s(3),this.Wc=u([4,8],Ca),this.Xc=u([4,17],Ca)}function Yo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ps(){this.ld=this.La=this.dd=this.tc=0}function As(){this.Na=this.la=0}function Bi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function At(){this.uc=this.M=this.Nb=0,this.wa=Array(new ps),this.Y=0,this.ya=Array(new xt),this.aa=0,this.l=new ti}function yn(){this.y=s(16),this.f=s(8),this.ea=s(8)}function rn(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new $i,this.Kc=new Ci,this.ed=new Yo,this.Qa=new Bs,this.Ic=this.$c=this.Aa=0,this.D=new At,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,Bi),this.Pa=new ro,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yn),this.Hd=0,this.rb=Array(new As),this.sb=0,this.wa=Array(new ps),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xt),this.L=this.aa=0,this.gd=u([4,2],ps),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ti(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bi(){var y=new rn;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,dr||(dr=Ue)),y}function Ft(y,_,E){return y.a==0&&(y.a=_,y.sc=E,y.cb=0),0}function pe(y,_,E){return 3<=E&&y[_+0]==157&&y[_+1]==1&&y[_+2]==42}function Ne(y,_){if(y==null)return 0;if(y.a=0,y.sc="OK",_==null)return Ft(y,2,"null VP8Io passed to VP8GetHeaders()");var E=_.data,L=_.w,O=_.ha;if(4>O)return Ft(y,7,"Truncated header.");var V=E[L+0]|E[L+1]<<8|E[L+2]<<16,U=y.Od;if(U.Rb=!(1&V),U.td=V>>1&7,U.yd=V>>4&1,U.ub=V>>5,3<U.td)return Ft(y,3,"Incorrect keyframe parameters.");if(!U.yd)return Ft(y,4,"Frame not displayable.");L+=3,O-=3;var Y=y.Kc;if(U.Rb){if(7>O)return Ft(y,7,"cannot parse picture header");if(!pe(E,L,O))return Ft(y,3,"Bad code word");Y.c=16383&(E[L+4]<<8|E[L+3]),Y.Td=E[L+4]>>6,Y.i=16383&(E[L+6]<<8|E[L+5]),Y.Ud=E[L+6]>>6,L+=7,O-=7,y.za=Y.c+15>>4,y.Ub=Y.i+15>>4,_.width=Y.c,_.height=Y.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r((V=y.Pa).jb,0,255,V.jb.length),e((V=y.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,r(V.Zb,0,0,V.Zb.length),r(V.Lb,0,0,V.Lb)}if(U.ub>O)return Ft(y,7,"bad partition length");ge(V=y.m,E,L,U.ub),L+=U.ub,O-=U.ub,U.Rb&&(Y.Ld=_e(V),Y.Kd=_e(V)),Y=y.Qa;var X,re=y.Pa;if(e(V!=null),e(Y!=null),Y.Cb=_e(V),Y.Cb){if(Y.Bb=_e(V),_e(V)){for(Y.Fb=_e(V),X=0;4>X;++X)Y.Zb[X]=_e(V)?Q(V,7):0;for(X=0;4>X;++X)Y.Lb[X]=_e(V)?Q(V,6):0}if(Y.Bb)for(X=0;3>X;++X)re.jb[X]=_e(V)?K(V,8):255}else Y.Bb=0;if(V.Ka)return Ft(y,3,"cannot parse segment header");if((Y=y.ed).zd=_e(V),Y.Tb=K(V,6),Y.wb=K(V,3),Y.Pc=_e(V),Y.Pc&&_e(V)){for(re=0;4>re;++re)_e(V)&&(Y.vd[re]=Q(V,6));for(re=0;4>re;++re)_e(V)&&(Y.od[re]=Q(V,6))}if(y.L=Y.Tb==0?0:Y.zd?1:2,V.Ka)return Ft(y,3,"cannot parse filter header");var ve=O;if(O=X=L,L=X+ve,Y=ve,y.Xb=(1<<K(y.m,2))-1,ve<3*(re=y.Xb))E=7;else{for(X+=3*re,Y-=3*re,ve=0;ve<re;++ve){var Le=E[O+0]|E[O+1]<<8|E[O+2]<<16;Le>Y&&(Le=Y),ge(y.Jc[+ve],E,X,Le),X+=Le,Y-=Le,O+=3}ge(y.Jc[+re],E,X,Y),E=X<L?0:5}if(E!=0)return Ft(y,E,"cannot parse partitions");for(E=K(X=y.m,7),O=_e(X)?Q(X,4):0,L=_e(X)?Q(X,4):0,Y=_e(X)?Q(X,4):0,re=_e(X)?Q(X,4):0,X=_e(X)?Q(X,4):0,ve=y.Qa,Le=0;4>Le;++Le){if(ve.Cb){var ke=ve.Zb[Le];ve.Fb||(ke+=E)}else{if(0<Le){y.pb[Le]=y.pb[0];continue}ke=E}var Se=y.pb[Le];Se.Sc[0]=Qu[vs(ke+O,127)],Se.Sc[1]=ec[vs(ke+0,127)],Se.Eb[0]=2*Qu[vs(ke+L,127)],Se.Eb[1]=101581*ec[vs(ke+Y,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Qu[vs(ke+re,117)],Se.Qc[1]=ec[vs(ke+X,127)],Se.lc=ke+X}if(!U.Rb)return Ft(y,4,"Not a key frame.");for(_e(V),U=y.Pa,E=0;4>E;++E){for(O=0;8>O;++O)for(L=0;3>L;++L)for(Y=0;11>Y;++Y)re=Ce(V,ul[E][O][L][Y])?K(V,8):fa[E][O][L][Y],U.Wc[E][O].Yb[L][Y]=re;for(O=0;17>O;++O)U.Xc[E][O]=U.Wc[E][Yh[O]]}return y.kc=_e(V),y.kc&&(y.Bd=K(V,8)),y.cb=1}function Ue(y,_,E,L,O,V,U){var Y=_[O].Yb[E];for(E=0;16>O;++O){if(!Ce(y,Y[E+0]))return O;for(;!Ce(y,Y[E+1]);)if(Y=_[++O].Yb[0],E=0,O==16)return 16;var X=_[O+1].Yb;if(Ce(y,Y[E+2])){var re=y,ve=0;if(Ce(re,(ke=Y)[(Le=E)+3]))if(Ce(re,ke[Le+6])){for(Y=0,Le=2*(ve=Ce(re,ke[Le+8]))+(ke=Ce(re,ke[Le+9+ve])),ve=0,ke=Vi[Le];ke[Y];++Y)ve+=ve+Ce(re,ke[Y]);ve+=3+(8<<Le)}else Ce(re,ke[Le+7])?(ve=7+2*Ce(re,165),ve+=Ce(re,145)):ve=5+Ce(re,159);else ve=Ce(re,ke[Le+4])?3+Ce(re,ke[Le+5]):2;Y=X[2]}else ve=1,Y=X[1];X=U+Gn[O],0>(re=y).b&&Ae(re);var Le,ke=re.b,Se=(Le=re.Ca>>1)-(re.I>>ke)>>31;--re.b,re.Ca+=Se,re.Ca|=1,re.I-=(Le+1&Se)<<ke,V[X]=((ve^Se)-Se)*L[(0<O)+0]}return 16}function Ye(y){var _=y.rb[y.sb-1];_.la=0,_.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function Xe(y,_){if(y==null)return 0;if(_==null)return Ft(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!Ne(y,_))return 0;if(e(y.cb),_.ac==null||_.ac(_)){_.ob&&(y.L=0);var E=za[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=_.v-E>>4,y.zb=_.j-E>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=_.o+15+E>>4,y.Hb=_.va+15+E>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var L=y.ed;for(E=0;4>E;++E){var O;if(y.Qa.Cb){var V=y.Qa.Lb[E];y.Qa.Fb||(V+=L.Tb)}else V=L.Tb;for(O=0;1>=O;++O){var U=y.gd[E][O],Y=V;if(L.Pc&&(Y+=L.vd[0],O&&(Y+=L.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var X=Y;0<L.wb&&(X=4<L.wb?X>>2:X>>1)>9-L.wb&&(X=9-L.wb),1>X&&(X=1),U.dd=X,U.tc=2*Y+X,U.ld=40<=Y?2:15<=Y?1:0}else U.tc=0;U.La=O}}}E=0}else Ft(y,6,"Frame setup failed"),E=y.a;if(E=E==0){if(E){y.$c=0,0<y.Aa||(y.Ic=Zh);e:{E=y.Ic,L=4*(X=y.za);var re=32*X,ve=X+1,Le=0<y.L?X*(0<y.Aa?2:1):0,ke=(y.Aa==2?2:1)*X;if((U=L+832+(O=3*(16*E+za[y.L])/2*re)+(V=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=U)E=0;else{if(U>y.Vb){if(y.Vb=0,y.Ec=s(U),y.Fc=0,y.Ec==null){E=Ft(y,1,"no memory during frame initialization.");break e}y.Vb=U}U=y.Ec,Y=y.Fc,y.Ac=U,y.Bc=Y,Y+=L,y.Gd=o(re,yn),y.Hd=0,y.rb=o(ve+1,As),y.sb=1,y.wa=Le?o(Le,ps):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=X),e(!0),y.oc=U,y.pc=Y,Y+=832,y.ya=o(ke,xt),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=X),y.R=16*X,y.B=8*X,X=(re=za[y.L])*y.R,re=re/2*y.B,y.sa=U,y.ta=Y+X,y.qa=y.sa,y.ra=y.ta+16*E*y.R+re,y.Ha=y.qa,y.Ia=y.ra+8*E*y.B+re,y.$c=0,Y+=O,y.mb=V?U:null,y.nb=V?Y:null,e(Y+V<=y.Fc+y.Vb),Ye(y),r(y.Ac,y.Bc,0,L),E=1}}if(E){if(_.ka=0,_.y=y.sa,_.O=y.ta,_.f=y.qa,_.N=y.ra,_.ea=y.Ha,_.Vd=y.Ia,_.fa=y.R,_.Rc=y.B,_.F=null,_.J=0,!Pa){for(E=-255;255>=E;++E)Xi[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)Ns[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)wo[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)_o[255+E]=0>E?0:255<E?255:E;Pa=1}la=bn,qs=hn,Hs=Bt,ir=sn,ns=si,zi=dn,nl=Jo,ua=Zo,$l=fd,yo=Hu,vo=cd,xo=jl,il=Vl,Jl=Kc,bo=lo,La=ys,rl=oa,ji=ud,Yr[0]=Rr,Yr[1]=fi,Yr[2]=so,Yr[3]=$o,Yr[4]=Wr,Yr[5]=ra,Yr[6]=Ol,Yr[7]=Ts,Yr[8]=Fl,Yr[9]=qu,Fa[0]=ei,Fa[1]=Hn,Fa[2]=Dt,Fa[3]=ln,Fa[4]=An,Fa[5]=ms,Fa[6]=Ar,ws[0]=Na,ws[1]=Nn,ws[2]=Gc,ws[3]=ao,ws[4]=gs,ws[5]=Br,ws[6]=oo,E=1}else E=0}E&&(E=function(Se,He){for(Se.M=0;Se.M<Se.Va;++Se.M){var Oe,xe=Se.Jc[Se.M&Se.Xb],we=Se.m,ze=Se;for(Oe=0;Oe<ze.za;++Oe){var Ge=we,Ve=ze,pt=Ve.Ac,st=Ve.Bc+4*Oe,Nt=Ve.zc,at=Ve.ya[Ve.aa+Oe];if(Ve.Qa.Bb?at.$b=Ce(Ge,Ve.Pa.jb[0])?2+Ce(Ge,Ve.Pa.jb[2]):Ce(Ge,Ve.Pa.jb[1]):at.$b=0,Ve.kc&&(at.Ad=Ce(Ge,Ve.Bd)),at.Za=!Ce(Ge,145)+0,at.Za){var jn=at.Ob,Wn=0;for(Ve=0;4>Ve;++Ve){var vn,mn=Nt[0+Ve];for(vn=0;4>vn;++vn){mn=pd[pt[st+vn]][mn];for(var ni=Ao[Ce(Ge,mn[0])];0<ni;)ni=Ao[2*ni+Ce(Ge,mn[ni])];mn=-ni,pt[st+vn]=mn}i(jn,Wn,pt,st,4),Wn+=4,Nt[0+Ve]=mn}}else mn=Ce(Ge,156)?Ce(Ge,128)?1:3:Ce(Ge,163)?2:0,at.Ob[0]=mn,r(pt,st,mn,4),r(Nt,0,mn,4);at.Dd=Ce(Ge,142)?Ce(Ge,114)?Ce(Ge,183)?1:3:2:0}if(ze.m.Ka)return Ft(Se,7,"Premature end-of-partition0 encountered.");for(;Se.ja<Se.za;++Se.ja){if(ze=xe,Ge=(we=Se).rb[we.sb-1],pt=we.rb[we.sb+we.ja],Oe=we.ya[we.aa+we.ja],st=we.kc?Oe.Ad:0)Ge.la=pt.la=0,Oe.Za||(Ge.Na=pt.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var Kn,Zt;if(Ge=pt,pt=ze,st=we.Pa.Xc,Nt=we.ya[we.aa+we.ja],at=we.pb[Nt.$b],Ve=Nt.ad,jn=0,Wn=we.rb[we.sb-1],mn=vn=0,r(Ve,jn,0,384),Nt.Za)var ai=0,Pt=st[3];else{ni=s(16);var Wt=Ge.Na+Wn.Na;if(Wt=dr(pt,st[1],Wt,at.Eb,0,ni,0),Ge.Na=Wn.Na=(0<Wt)+0,1<Wt)la(ni,0,Ve,jn);else{var On=ni[0]+3>>3;for(ni=0;256>ni;ni+=16)Ve[jn+ni]=On}ai=1,Pt=st[0]}var Vn=15&Ge.la,kr=15&Wn.la;for(ni=0;4>ni;++ni){var mr=1&kr;for(On=Zt=0;4>On;++On)Vn=Vn>>1|(mr=(Wt=dr(pt,Pt,Wt=mr+(1&Vn),at.Sc,ai,Ve,jn))>ai)<<7,Zt=Zt<<2|(3<Wt?3:1<Wt?2:Ve[jn+0]!=0),jn+=16;Vn>>=4,kr=kr>>1|mr<<7,vn=(vn<<8|Zt)>>>0}for(Pt=Vn,ai=kr>>4,Kn=0;4>Kn;Kn+=2){for(Zt=0,Vn=Ge.la>>4+Kn,kr=Wn.la>>4+Kn,ni=0;2>ni;++ni){for(mr=1&kr,On=0;2>On;++On)Wt=mr+(1&Vn),Vn=Vn>>1|(mr=0<(Wt=dr(pt,st[2],Wt,at.Qc,0,Ve,jn)))<<3,Zt=Zt<<2|(3<Wt?3:1<Wt?2:Ve[jn+0]!=0),jn+=16;Vn>>=2,kr=kr>>1|mr<<5}mn|=Zt<<4*Kn,Pt|=Vn<<4<<Kn,ai|=(240&kr)<<Kn}Ge.la=Pt,Wn.la=ai,Nt.Hc=vn,Nt.Gc=mn,Nt.ia=43690&mn?0:at.ia,st=!(vn|mn)}if(0<we.L&&(we.wa[we.Y+we.ja]=we.gd[Oe.$b][Oe.Za],we.wa[we.Y+we.ja].La|=!st),ze.Ka)return Ft(Se,7,"Premature end-of-file encountered.")}if(Ye(Se),we=He,ze=1,Oe=(xe=Se).D,Ge=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(Oe.M=xe.M,Oe.uc=Ge,ka(xe,Oe),ze=1,Oe=(Zt=xe.D).Nb,Ge=(mn=za[xe.L])*xe.R,pt=mn/2*xe.B,ni=16*Oe*xe.R,On=8*Oe*xe.B,st=xe.sa,Nt=xe.ta-Ge+ni,at=xe.qa,Ve=xe.ra-pt+On,jn=xe.Ha,Wn=xe.Ia-pt+On,kr=(Vn=Zt.M)==0,vn=Vn>=xe.Va-1,xe.Aa==2&&ka(xe,Zt),Zt.uc)for(mr=(Wt=xe).D.M,e(Wt.D.uc),Zt=Wt.yb;Zt<Wt.Hb;++Zt){ai=Zt,Pt=mr;var Qi=(er=(_i=Wt).D).Nb;Kn=_i.R;var er=er.wa[er.Y+ai],rr=_i.sa,Ms=_i.ta+16*Qi*Kn+16*ai,Yn=er.dd,sr=er.tc;if(sr!=0)if(e(3<=sr),_i.L==1)0<ai&&La(rr,Ms,Kn,sr+4),er.La&&ji(rr,Ms,Kn,sr),0<Pt&&bo(rr,Ms,Kn,sr+4),er.La&&rl(rr,Ms,Kn,sr);else{var Gs=_i.B,No=_i.qa,fl=_i.ra+8*Qi*Gs+8*ai,Eo=_i.Ha,_i=_i.Ia+8*Qi*Gs+8*ai;Qi=er.ld,0<ai&&(ua(rr,Ms,Kn,sr+4,Yn,Qi),yo(No,fl,Eo,_i,Gs,sr+4,Yn,Qi)),er.La&&(xo(rr,Ms,Kn,sr,Yn,Qi),Jl(No,fl,Eo,_i,Gs,sr,Yn,Qi)),0<Pt&&(nl(rr,Ms,Kn,sr+4,Yn,Qi),$l(No,fl,Eo,_i,Gs,sr+4,Yn,Qi)),er.La&&(vo(rr,Ms,Kn,sr,Yn,Qi),il(No,fl,Eo,_i,Gs,sr,Yn,Qi))}}if(xe.ia&&alert("todo:DitherRow"),we.put!=null){if(Zt=16*Vn,Vn=16*(Vn+1),kr?(we.y=xe.sa,we.O=xe.ta+ni,we.f=xe.qa,we.N=xe.ra+On,we.ea=xe.Ha,we.W=xe.Ia+On):(Zt-=mn,we.y=st,we.O=Nt,we.f=at,we.N=Ve,we.ea=jn,we.W=Wn),vn||(Vn-=mn),Vn>we.o&&(Vn=we.o),we.F=null,we.J=null,xe.Fa!=null&&0<xe.Fa.length&&Zt<Vn&&(we.J=Ku(xe,we,Zt,Vn-Zt),we.F=xe.mb,we.F==null&&we.F.length==0)){ze=Ft(xe,3,"Could not decode alpha data.");break e}Zt<we.j&&(mn=we.j-Zt,Zt=we.j,e(!(1&mn)),we.O+=xe.R*mn,we.N+=xe.B*(mn>>1),we.W+=xe.B*(mn>>1),we.F!=null&&(we.J+=we.width*mn)),Zt<Vn&&(we.O+=we.v,we.N+=we.v>>1,we.W+=we.v>>1,we.F!=null&&(we.J+=we.v),we.ka=Zt-we.j,we.U=we.va-we.v,we.T=Vn-Zt,ze=we.put(we))}Oe+1!=xe.Ic||vn||(i(xe.sa,xe.ta-Ge,st,Nt+16*xe.R,Ge),i(xe.qa,xe.ra-pt,at,Ve+8*xe.B,pt),i(xe.Ha,xe.Ia-pt,jn,Wn+8*xe.B,pt))}if(!ze)return Ft(Se,6,"Output aborted.")}return 1}(y,_)),_.bc!=null&&_.bc(_),E&=1}return E?(y.cb=0,E):0}function Ze(y,_,E,L,O){O=y[_+E+32*L]+(O>>3),y[_+E+32*L]=-256&O?0>O?0:255:O}function ht(y,_,E,L,O,V){Ze(y,_,0,E,L+O),Ze(y,_,1,E,L+V),Ze(y,_,2,E,L-V),Ze(y,_,3,E,L-O)}function ct(y){return(20091*y>>16)+y}function jt(y,_,E,L){var O,V=0,U=s(16);for(O=0;4>O;++O){var Y=y[_+0]+y[_+8],X=y[_+0]-y[_+8],re=(35468*y[_+4]>>16)-ct(y[_+12]),ve=ct(y[_+4])+(35468*y[_+12]>>16);U[V+0]=Y+ve,U[V+1]=X+re,U[V+2]=X-re,U[V+3]=Y-ve,V+=4,_++}for(O=V=0;4>O;++O)Y=(y=U[V+0]+4)+U[V+8],X=y-U[V+8],re=(35468*U[V+4]>>16)-ct(U[V+12]),Ze(E,L,0,0,Y+(ve=ct(U[V+4])+(35468*U[V+12]>>16))),Ze(E,L,1,0,X+re),Ze(E,L,2,0,X-re),Ze(E,L,3,0,Y-ve),V++,L+=32}function dn(y,_,E,L){var O=y[_+0]+4,V=35468*y[_+4]>>16,U=ct(y[_+4]),Y=35468*y[_+1]>>16;ht(E,L,0,O+U,y=ct(y[_+1]),Y),ht(E,L,1,O+V,y,Y),ht(E,L,2,O-V,y,Y),ht(E,L,3,O-U,y,Y)}function hn(y,_,E,L,O){jt(y,_,E,L),O&&jt(y,_+16,E,L+4)}function Bt(y,_,E,L){qs(y,_+0,E,L,1),qs(y,_+32,E,L+128,1)}function sn(y,_,E,L){var O;for(y=y[_+0]+4,O=0;4>O;++O)for(_=0;4>_;++_)Ze(E,L,_,O,y)}function si(y,_,E,L){y[_+0]&&ir(y,_+0,E,L),y[_+16]&&ir(y,_+16,E,L+4),y[_+32]&&ir(y,_+32,E,L+128),y[_+48]&&ir(y,_+48,E,L+128+4)}function bn(y,_,E,L){var O,V=s(16);for(O=0;4>O;++O){var U=y[_+0+O]+y[_+12+O],Y=y[_+4+O]+y[_+8+O],X=y[_+4+O]-y[_+8+O],re=y[_+0+O]-y[_+12+O];V[0+O]=U+Y,V[8+O]=U-Y,V[4+O]=re+X,V[12+O]=re-X}for(O=0;4>O;++O)U=(y=V[0+4*O]+3)+V[3+4*O],Y=V[1+4*O]+V[2+4*O],X=V[1+4*O]-V[2+4*O],re=y-V[3+4*O],E[L+0]=U+Y>>3,E[L+16]=re+X>>3,E[L+32]=U-Y>>3,E[L+48]=re-X>>3,L+=64}function Qn(y,_,E){var L,O=_-32,V=Nr,U=255-y[O-1];for(L=0;L<E;++L){var Y,X=V,re=U+y[_-1];for(Y=0;Y<E;++Y)y[_+Y]=X[re+y[O+Y]];_+=32}}function fi(y,_){Qn(y,_,4)}function Nn(y,_){Qn(y,_,8)}function Hn(y,_){Qn(y,_,16)}function Dt(y,_){var E;for(E=0;16>E;++E)i(y,_+32*E,y,_-32,16)}function ln(y,_){var E;for(E=16;0<E;--E)r(y,_,y[_-1],16),_+=32}function Ni(y,_,E){var L;for(L=0;16>L;++L)r(_,E+32*L,y,16)}function ei(y,_){var E,L=16;for(E=0;16>E;++E)L+=y[_-1+32*E]+y[_+E-32];Ni(L>>5,y,_)}function An(y,_){var E,L=8;for(E=0;16>E;++E)L+=y[_-1+32*E];Ni(L>>4,y,_)}function ms(y,_){var E,L=8;for(E=0;16>E;++E)L+=y[_+E-32];Ni(L>>4,y,_)}function Ar(y,_){Ni(128,y,_)}function Vt(y,_,E){return y+2*_+E+2>>2}function so(y,_){var E,L=_-32;for(L=new Uint8Array([Vt(y[L-1],y[L+0],y[L+1]),Vt(y[L+0],y[L+1],y[L+2]),Vt(y[L+1],y[L+2],y[L+3]),Vt(y[L+2],y[L+3],y[L+4])]),E=0;4>E;++E)i(y,_+32*E,L,0,L.length)}function $o(y,_){var E=y[_-1],L=y[_-1+32],O=y[_-1+64],V=y[_-1+96];Be(y,_+0,16843009*Vt(y[_-1-32],E,L)),Be(y,_+32,16843009*Vt(E,L,O)),Be(y,_+64,16843009*Vt(L,O,V)),Be(y,_+96,16843009*Vt(O,V,V))}function Rr(y,_){var E,L=4;for(E=0;4>E;++E)L+=y[_+E-32]+y[_-1+32*E];for(L>>=3,E=0;4>E;++E)r(y,_+32*E,L,4)}function Wr(y,_){var E=y[_-1+0],L=y[_-1+32],O=y[_-1+64],V=y[_-1-32],U=y[_+0-32],Y=y[_+1-32],X=y[_+2-32],re=y[_+3-32];y[_+0+96]=Vt(L,O,y[_-1+96]),y[_+1+96]=y[_+0+64]=Vt(E,L,O),y[_+2+96]=y[_+1+64]=y[_+0+32]=Vt(V,E,L),y[_+3+96]=y[_+2+64]=y[_+1+32]=y[_+0+0]=Vt(U,V,E),y[_+3+64]=y[_+2+32]=y[_+1+0]=Vt(Y,U,V),y[_+3+32]=y[_+2+0]=Vt(X,Y,U),y[_+3+0]=Vt(re,X,Y)}function Ol(y,_){var E=y[_+1-32],L=y[_+2-32],O=y[_+3-32],V=y[_+4-32],U=y[_+5-32],Y=y[_+6-32],X=y[_+7-32];y[_+0+0]=Vt(y[_+0-32],E,L),y[_+1+0]=y[_+0+32]=Vt(E,L,O),y[_+2+0]=y[_+1+32]=y[_+0+64]=Vt(L,O,V),y[_+3+0]=y[_+2+32]=y[_+1+64]=y[_+0+96]=Vt(O,V,U),y[_+3+32]=y[_+2+64]=y[_+1+96]=Vt(V,U,Y),y[_+3+64]=y[_+2+96]=Vt(U,Y,X),y[_+3+96]=Vt(Y,X,X)}function ra(y,_){var E=y[_-1+0],L=y[_-1+32],O=y[_-1+64],V=y[_-1-32],U=y[_+0-32],Y=y[_+1-32],X=y[_+2-32],re=y[_+3-32];y[_+0+0]=y[_+1+64]=V+U+1>>1,y[_+1+0]=y[_+2+64]=U+Y+1>>1,y[_+2+0]=y[_+3+64]=Y+X+1>>1,y[_+3+0]=X+re+1>>1,y[_+0+96]=Vt(O,L,E),y[_+0+64]=Vt(L,E,V),y[_+0+32]=y[_+1+96]=Vt(E,V,U),y[_+1+32]=y[_+2+96]=Vt(V,U,Y),y[_+2+32]=y[_+3+96]=Vt(U,Y,X),y[_+3+32]=Vt(Y,X,re)}function Ts(y,_){var E=y[_+0-32],L=y[_+1-32],O=y[_+2-32],V=y[_+3-32],U=y[_+4-32],Y=y[_+5-32],X=y[_+6-32],re=y[_+7-32];y[_+0+0]=E+L+1>>1,y[_+1+0]=y[_+0+64]=L+O+1>>1,y[_+2+0]=y[_+1+64]=O+V+1>>1,y[_+3+0]=y[_+2+64]=V+U+1>>1,y[_+0+32]=Vt(E,L,O),y[_+1+32]=y[_+0+96]=Vt(L,O,V),y[_+2+32]=y[_+1+96]=Vt(O,V,U),y[_+3+32]=y[_+2+96]=Vt(V,U,Y),y[_+3+64]=Vt(U,Y,X),y[_+3+96]=Vt(Y,X,re)}function qu(y,_){var E=y[_-1+0],L=y[_-1+32],O=y[_-1+64],V=y[_-1+96];y[_+0+0]=E+L+1>>1,y[_+2+0]=y[_+0+32]=L+O+1>>1,y[_+2+32]=y[_+0+64]=O+V+1>>1,y[_+1+0]=Vt(E,L,O),y[_+3+0]=y[_+1+32]=Vt(L,O,V),y[_+3+32]=y[_+1+64]=Vt(O,V,V),y[_+3+64]=y[_+2+64]=y[_+0+96]=y[_+1+96]=y[_+2+96]=y[_+3+96]=V}function Fl(y,_){var E=y[_-1+0],L=y[_-1+32],O=y[_-1+64],V=y[_-1+96],U=y[_-1-32],Y=y[_+0-32],X=y[_+1-32],re=y[_+2-32];y[_+0+0]=y[_+2+32]=E+U+1>>1,y[_+0+32]=y[_+2+64]=L+E+1>>1,y[_+0+64]=y[_+2+96]=O+L+1>>1,y[_+0+96]=V+O+1>>1,y[_+3+0]=Vt(Y,X,re),y[_+2+0]=Vt(U,Y,X),y[_+1+0]=y[_+3+32]=Vt(E,U,Y),y[_+1+32]=y[_+3+64]=Vt(L,E,U),y[_+1+64]=y[_+3+96]=Vt(O,L,E),y[_+1+96]=Vt(V,O,L)}function Gc(y,_){var E;for(E=0;8>E;++E)i(y,_+32*E,y,_-32,8)}function ao(y,_){var E;for(E=0;8>E;++E)r(y,_,y[_-1],8),_+=32}function sa(y,_,E){var L;for(L=0;8>L;++L)r(_,E+32*L,y,8)}function Na(y,_){var E,L=8;for(E=0;8>E;++E)L+=y[_+E-32]+y[_-1+32*E];sa(L>>4,y,_)}function Br(y,_){var E,L=4;for(E=0;8>E;++E)L+=y[_+E-32];sa(L>>3,y,_)}function gs(y,_){var E,L=4;for(E=0;8>E;++E)L+=y[_-1+32*E];sa(L>>3,y,_)}function oo(y,_){sa(128,y,_)}function aa(y,_,E){var L=y[_-E],O=y[_+0],V=3*(O-L)+$c[1020+y[_-2*E]-y[_+E]],U=sl[112+(V+4>>3)];y[_-E]=Nr[255+L+sl[112+(V+3>>3)]],y[_+0]=Nr[255+O-U]}function Wc(y,_,E,L){var O=y[_+0],V=y[_+E];return Es[255+y[_-2*E]-y[_-E]]>L||Es[255+V-O]>L}function Bl(y,_,E,L){return 4*Es[255+y[_-E]-y[_+0]]+Es[255+y[_-2*E]-y[_+E]]<=L}function zl(y,_,E,L,O){var V=y[_-3*E],U=y[_-2*E],Y=y[_-E],X=y[_+0],re=y[_+E],ve=y[_+2*E],Le=y[_+3*E];return 4*Es[255+Y-X]+Es[255+U-re]>L?0:Es[255+y[_-4*E]-V]<=O&&Es[255+V-U]<=O&&Es[255+U-Y]<=O&&Es[255+Le-ve]<=O&&Es[255+ve-re]<=O&&Es[255+re-X]<=O}function lo(y,_,E,L){var O=2*L+1;for(L=0;16>L;++L)Bl(y,_+L,E,O)&&aa(y,_+L,E)}function ys(y,_,E,L){var O=2*L+1;for(L=0;16>L;++L)Bl(y,_+L*E,1,O)&&aa(y,_+L*E,1)}function oa(y,_,E,L){var O;for(O=3;0<O;--O)lo(y,_+=4*E,E,L)}function ud(y,_,E,L){var O;for(O=3;0<O;--O)ys(y,_+=4,E,L)}function uo(y,_,E,L,O,V,U,Y){for(V=2*V+1;0<O--;){if(zl(y,_,E,V,U))if(Wc(y,_,E,Y))aa(y,_,E);else{var X=y,re=_,ve=E,Le=X[re-2*ve],ke=X[re-ve],Se=X[re+0],He=X[re+ve],Oe=X[re+2*ve],xe=27*(ze=$c[1020+3*(Se-ke)+$c[1020+Le-He]])+63>>7,we=18*ze+63>>7,ze=9*ze+63>>7;X[re-3*ve]=Nr[255+X[re-3*ve]+ze],X[re-2*ve]=Nr[255+Le+we],X[re-ve]=Nr[255+ke+xe],X[re+0]=Nr[255+Se-xe],X[re+ve]=Nr[255+He-we],X[re+2*ve]=Nr[255+Oe-ze]}_+=L}}function zs(y,_,E,L,O,V,U,Y){for(V=2*V+1;0<O--;){if(zl(y,_,E,V,U))if(Wc(y,_,E,Y))aa(y,_,E);else{var X=y,re=_,ve=E,Le=X[re-ve],ke=X[re+0],Se=X[re+ve],He=sl[112+((Oe=3*(ke-Le))+4>>3)],Oe=sl[112+(Oe+3>>3)],xe=He+1>>1;X[re-2*ve]=Nr[255+X[re-2*ve]+xe],X[re-ve]=Nr[255+Le+Oe],X[re+0]=Nr[255+ke-He],X[re+ve]=Nr[255+Se-xe]}_+=L}}function Jo(y,_,E,L,O,V){uo(y,_,E,1,16,L,O,V)}function Zo(y,_,E,L,O,V){uo(y,_,1,E,16,L,O,V)}function cd(y,_,E,L,O,V){var U;for(U=3;0<U;--U)zs(y,_+=4*E,E,1,16,L,O,V)}function jl(y,_,E,L,O,V){var U;for(U=3;0<U;--U)zs(y,_+=4,1,E,16,L,O,V)}function fd(y,_,E,L,O,V,U,Y){uo(y,_,O,1,8,V,U,Y),uo(E,L,O,1,8,V,U,Y)}function Hu(y,_,E,L,O,V,U,Y){uo(y,_,1,O,8,V,U,Y),uo(E,L,1,O,8,V,U,Y)}function Vl(y,_,E,L,O,V,U,Y){zs(y,_+4*O,O,1,8,V,U,Y),zs(E,L+4*O,O,1,8,V,U,Y)}function Kc(y,_,E,L,O,V,U,Y){zs(y,_+4,1,O,8,V,U,Y),zs(E,L+4,1,O,8,V,U,Y)}function Ul(){this.ba=new Sr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Gu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Wu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ql(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new G}function dd(){this.xb=this.a=0,this.l=new ti,this.ca=new Sr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ql,this.ab=0,this.gc=o(4,Wu),this.Oc=0}function Hl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ti,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xo(y,_,E,L,O,V,U){for(y=y==null?0:y[_+0],_=0;_<U;++_)O[V+_]=y+E[L+_]&255,y=O[V+_]}function Gl(y,_,E,L,O,V,U){var Y;if(y==null)Xo(null,null,E,L,O,V,U);else for(Y=0;Y<U;++Y)O[V+Y]=y[_+Y]+E[L+Y]&255}function co(y,_,E,L,O,V,U){if(y==null)Xo(null,null,E,L,O,V,U);else{var Y,X=y[_+0],re=X,ve=X;for(Y=0;Y<U;++Y)re=ve+(X=y[_+Y])-re,ve=E[L+Y]+(-256&re?0>re?0:255:re)&255,re=X,O[V+Y]=ve}}function Ku(y,_,E,L){var O=_.width,V=_.o;if(e(y!=null&&_!=null),0>E||0>=L||E+L>V)return null;if(!y.Cc){if(y.ga==null){var U;if(y.ga=new Hl,(U=y.ga==null)||(U=_.width*_.o,e(y.Gb.length==0),y.Gb=s(U),y.Uc=0,y.Gb==null?U=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,U=1),U=!U),!U){U=y.ga;var Y=y.Fa,X=y.P,re=y.qc,ve=y.mb,Le=y.nb,ke=X+1,Se=re-1,He=U.l;if(e(Y!=null&&ve!=null&&_!=null),da[0]=null,da[1]=Xo,da[2]=Gl,da[3]=co,U.ca=ve,U.tb=Le,U.c=_.width,U.i=_.height,e(0<U.c&&0<U.i),1>=re)_=0;else if(U.$a=Y[X+0]>>0&3,U.Z=Y[X+0]>>2&3,U.Lc=Y[X+0]>>4&3,X=Y[X+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||X)_=0;else if(He.put=mi,He.ac=nn,He.bc=cr,He.ma=U,He.width=_.width,He.height=_.height,He.Da=_.Da,He.v=_.v,He.va=_.va,He.j=_.j,He.o=_.o,U.$a)e:{e(U.$a==1),_=Yi();t:for(;;){if(_==null){_=0;break e}if(e(U!=null),U.mc=_,_.c=U.c,_.i=U.i,_.l=U.l,_.l.ma=U,_.l.width=U.c,_.l.height=U.i,_.a=0,Z(_.m,Y,ke,Se),!In(U.c,U.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Pr(_.s)?(U.ic=1,Y=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(Y),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(U.ic=0,_=Qr(_,U.c)),!_))break t;_=1;break e}U.mc=null,_=0}else _=Se>=U.c*U.i;U=!_}if(U)return null;y.ga.Lc!=1?y.Ga=0:L=V-E}e(y.ga!=null),e(E+L<=V);e:{if(_=(Y=y.ga).c,V=Y.l.o,Y.$a==0){if(ke=y.rc,Se=y.Vc,He=y.Fa,X=y.P+1+E*_,re=y.mb,ve=y.nb+E*_,e(X<=y.P+y.qc),Y.Z!=0)for(e(da[Y.Z]!=null),U=0;U<L;++U)da[Y.Z](ke,Se,He,X,re,ve,_),ke=re,Se=ve,ve+=_,X+=_;else for(U=0;U<L;++U)i(re,ve,He,X,_),ke=re,Se=ve,ve+=_,X+=_;y.rc=ke,y.Vc=Se}else{if(e(Y.mc!=null),_=E+L,e((U=Y.mc)!=null),e(_<=U.i),U.C>=_)_=1;else if(Y.ic||Ee(),Y.ic){Y=U.V,ke=U.Ba,Se=U.c;var Oe=U.i,xe=(He=1,X=U.$/Se,re=U.$%Se,ve=U.m,Le=U.s,U.$),we=Se*Oe,ze=Se*_,Ge=Le.wc,Ve=xe<ze?Xn(Le,re,X):null;e(xe<=we),e(_<=Oe),e(Pr(Le));t:for(;;){for(;!ve.h&&xe<ze;){if(re&Ge||(Ve=Xn(Le,re,X)),e(Ve!=null),ce(ve),256>(Oe=ri(Ve.G[0],Ve.H[0],ve)))Y[ke+xe]=Oe,++xe,++re>=Se&&(re=0,++X<=_&&!(X%16)&&Ki(U,X));else{if(!(280>Oe)){He=0;break t}Oe=Bn(Oe-256,ve);var pt,st=ri(Ve.G[4],Ve.H[4],ve);if(ce(ve),!(xe>=(st=Sn(Se,st=Bn(st,ve)))&&we-xe>=Oe)){He=0;break t}for(pt=0;pt<Oe;++pt)Y[ke+xe+pt]=Y[ke+xe+pt-st];for(xe+=Oe,re+=Oe;re>=Se;)re-=Se,++X<=_&&!(X%16)&&Ki(U,X);xe<ze&&re&Ge&&(Ve=Xn(Le,re,X))}e(ve.h==te(ve))}Ki(U,X>_?_:X);break t}!He||ve.h&&xe<we?(He=0,U.a=ve.h?5:3):U.$=xe,_=He}else _=Ot(U,U.V,U.Ba,U.c,U.i,_,yi);if(!_){L=0;break e}}E+L>=V&&(y.Cc=1),L=1}if(!L)return null;if(y.Cc&&((L=y.ga)!=null&&(L.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+E*O}function C(y,_,E,L,O,V){for(;0<O--;){var U,Y=y,X=_+(E?1:0),re=y,ve=_+(E?0:3);for(U=0;U<L;++U){var Le=re[ve+4*U];Le!=255&&(Le*=32897,Y[X+4*U+0]=Y[X+4*U+0]*Le>>23,Y[X+4*U+1]=Y[X+4*U+1]*Le>>23,Y[X+4*U+2]=Y[X+4*U+2]*Le>>23)}_+=V}}function B(y,_,E,L,O){for(;0<L--;){var V;for(V=0;V<E;++V){var U=y[_+2*V+0],Y=15&(re=y[_+2*V+1]),X=4369*Y,re=(240&re|re>>4)*X>>16;y[_+2*V+0]=(240&U|U>>4)*X>>16&240|(15&U|U<<4)*X>>16>>4&15,y[_+2*V+1]=240&re|Y}_+=O}}function oe(y,_,E,L,O,V,U,Y){var X,re,ve=255;for(re=0;re<O;++re){for(X=0;X<L;++X){var Le=y[_+X];V[U+4*X]=Le,ve&=Le}_+=E,U+=Y}return ve!=255}function ye(y,_,E,L,O){var V;for(V=0;V<O;++V)E[L+V]=y[_+V]>>8}function Ee(){xs=C,wn=B,_n=oe,di=ye}function Fe(y,_,E){j[y]=function(L,O,V,U,Y,X,re,ve,Le,ke,Se,He,Oe,xe,we,ze,Ge){var Ve,pt=Ge-1>>1,st=Y[X+0]|re[ve+0]<<16,Nt=Le[ke+0]|Se[He+0]<<16;e(L!=null);var at=3*st+Nt+131074>>2;for(_(L[O+0],255&at,at>>16,Oe,xe),V!=null&&(at=3*Nt+st+131074>>2,_(V[U+0],255&at,at>>16,we,ze)),Ve=1;Ve<=pt;++Ve){var jn=Y[X+Ve]|re[ve+Ve]<<16,Wn=Le[ke+Ve]|Se[He+Ve]<<16,vn=st+jn+Nt+Wn+524296,mn=vn+2*(jn+Nt)>>3;at=mn+st>>1,st=(vn=vn+2*(st+Wn)>>3)+jn>>1,_(L[O+2*Ve-1],255&at,at>>16,Oe,xe+(2*Ve-1)*E),_(L[O+2*Ve-0],255&st,st>>16,Oe,xe+(2*Ve-0)*E),V!=null&&(at=vn+Nt>>1,st=mn+Wn>>1,_(V[U+2*Ve-1],255&at,at>>16,we,ze+(2*Ve-1)*E),_(V[U+2*Ve+0],255&st,st>>16,we,ze+(2*Ve+0)*E)),st=jn,Nt=Wn}1&Ge||(at=3*st+Nt+131074>>2,_(L[O+Ge-1],255&at,at>>16,Oe,xe+(Ge-1)*E),V!=null&&(at=3*Nt+st+131074>>2,_(V[U+Ge-1],255&at,at>>16,we,ze+(Ge-1)*E)))}}function $e(){Er[zr]=Ba,Er[Zl]=ha,Er[ca]=To,Er[Zu]=Xc,Er[al]=Qc,Er[Ra]=eu,Er[Jc]=ef,Er[Xu]=ha,Er[So]=Xc,Er[Da]=Qc,Er[Xl]=eu}function dt(y){return y&-16384?0>y?0:255:y>>_g}function Tt(y,_){return dt((19077*y>>8)+(26149*_>>8)-14234)}function en(y,_,E){return dt((19077*y>>8)-(6419*_>>8)-(13320*E>>8)+8708)}function Jt(y,_){return dt((19077*y>>8)+(33050*_>>8)-17685)}function En(y,_,E,L,O){L[O+0]=Tt(y,E),L[O+1]=en(y,_,E),L[O+2]=Jt(y,_)}function wi(y,_,E,L,O){L[O+0]=Jt(y,_),L[O+1]=en(y,_,E),L[O+2]=Tt(y,E)}function Ei(y,_,E,L,O){var V=en(y,_,E);_=V<<3&224|Jt(y,_)>>3,L[O+0]=248&Tt(y,E)|V>>5,L[O+1]=_}function Ji(y,_,E,L,O){var V=240&Jt(y,_)|15;L[O+0]=240&Tt(y,E)|en(y,_,E)>>4,L[O+1]=V}function Zi(y,_,E,L,O){L[O+0]=255,En(y,_,E,L,O+1)}function Tr(y,_,E,L,O){wi(y,_,E,L,O),L[O+3]=255}function js(y,_,E,L,O){En(y,_,E,L,O),L[O+3]=255}function vs(y,_){return 0>y?0:y>_?_:y}function Vs(y,_,E){j[y]=function(L,O,V,U,Y,X,re,ve,Le){for(var ke=ve+(-2&Le)*E;ve!=ke;)_(L[O+0],V[U+0],Y[X+0],re,ve),_(L[O+1],V[U+0],Y[X+0],re,ve+E),O+=2,++U,++X,ve+=2*E;1&Le&&_(L[O+0],V[U+0],Y[X+0],re,ve)}}function Yu(y,_,E){return E==0?y==0?_==0?6:5:_==0?4:0:E}function Ea(y,_,E,L,O){switch(y>>>30){case 3:qs(_,E,L,O,0);break;case 2:zi(_,E,L,O);break;case 1:ir(_,E,L,O)}}function ka(y,_){var E,L,O=_.M,V=_.Nb,U=y.oc,Y=y.pc+40,X=y.oc,re=y.pc+584,ve=y.oc,Le=y.pc+600;for(E=0;16>E;++E)U[Y+32*E-1]=129;for(E=0;8>E;++E)X[re+32*E-1]=129,ve[Le+32*E-1]=129;for(0<O?U[Y-1-32]=X[re-1-32]=ve[Le-1-32]=129:(r(U,Y-32-1,127,21),r(X,re-32-1,127,9),r(ve,Le-32-1,127,9)),L=0;L<y.za;++L){var ke=_.ya[_.aa+L];if(0<L){for(E=-1;16>E;++E)i(U,Y+32*E-4,U,Y+32*E+12,4);for(E=-1;8>E;++E)i(X,re+32*E-4,X,re+32*E+4,4),i(ve,Le+32*E-4,ve,Le+32*E+4,4)}var Se=y.Gd,He=y.Hd+L,Oe=ke.ad,xe=ke.Hc;if(0<O&&(i(U,Y-32,Se[He].y,0,16),i(X,re-32,Se[He].f,0,8),i(ve,Le-32,Se[He].ea,0,8)),ke.Za){var we=U,ze=Y-32+16;for(0<O&&(L>=y.za-1?r(we,ze,Se[He].y[15],4):i(we,ze,Se[He+1].y,0,4)),E=0;4>E;E++)we[ze+128+E]=we[ze+256+E]=we[ze+384+E]=we[ze+0+E];for(E=0;16>E;++E,xe<<=2)we=U,ze=Y+cl[E],Yr[ke.Ob[E]](we,ze),Ea(xe,Oe,16*+E,we,ze)}else if(we=Yu(L,O,ke.Ob[0]),Fa[we](U,Y),xe!=0)for(E=0;16>E;++E,xe<<=2)Ea(xe,Oe,16*+E,U,Y+cl[E]);for(E=ke.Gc,we=Yu(L,O,ke.Dd),ws[we](X,re),ws[we](ve,Le),xe=Oe,we=X,ze=re,255&(ke=E>>0)&&(170&ke?Hs(xe,256,we,ze):ns(xe,256,we,ze)),ke=ve,xe=Le,255&(E>>=8)&&(170&E?Hs(Oe,320,ke,xe):ns(Oe,320,ke,xe)),O<y.Ub-1&&(i(Se[He].y,0,U,Y+480,16),i(Se[He].f,0,X,re+224,8),i(Se[He].ea,0,ve,Le+224,8)),E=8*V*y.B,Se=y.sa,He=y.ta+16*L+16*V*y.R,Oe=y.qa,ke=y.ra+8*L+E,xe=y.Ha,we=y.Ia+8*L+E,E=0;16>E;++E)i(Se,He+E*y.R,U,Y+32*E,16);for(E=0;8>E;++E)i(Oe,ke+E*y.B,X,re+32*E,8),i(xe,we+E*y.B,ve,Le+32*E,8)}}function Wl(y,_,E,L,O,V,U,Y,X){var re=[0],ve=[0],Le=0,ke=X!=null?X.kd:0,Se=X??new Gu;if(y==null||12>E)return 7;Se.data=y,Se.w=_,Se.ha=E,_=[_],E=[E],Se.gb=[Se.gb];e:{var He=_,Oe=E,xe=Se.gb;if(e(y!=null),e(Oe!=null),e(xe!=null),xe[0]=0,12<=Oe[0]&&!t(y,He[0],"RIFF")){if(t(y,He[0]+8,"WEBP")){xe=3;break e}var we=Qe(y,He[0]+4);if(12>we||4294967286<we){xe=3;break e}if(ke&&we>Oe[0]-8){xe=7;break e}xe[0]=we,He[0]+=12,Oe[0]-=12}xe=0}if(xe!=0)return xe;for(we=0<Se.gb[0],E=E[0];;){e:{var ze=y;Oe=_,xe=E;var Ge=re,Ve=ve,pt=He=[0];if((at=Le=[Le])[0]=0,8>xe[0])xe=7;else{if(!t(ze,Oe[0],"VP8X")){if(Qe(ze,Oe[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var st=Qe(ze,Oe[0]+8),Nt=1+et(ze,Oe[0]+12);if(2147483648<=Nt*(ze=1+et(ze,Oe[0]+15))){xe=3;break e}pt!=null&&(pt[0]=st),Ge!=null&&(Ge[0]=Nt),Ve!=null&&(Ve[0]=ze),Oe[0]+=18,xe[0]-=18,at[0]=1}xe=0}}if(Le=Le[0],He=He[0],xe!=0)return xe;if(Oe=!!(2&He),!we&&Le)return 3;if(V!=null&&(V[0]=!!(16&He)),U!=null&&(U[0]=Oe),Y!=null&&(Y[0]=0),U=re[0],He=ve[0],Le&&Oe&&X==null){xe=0;break}if(4>E){xe=7;break}if(we&&Le||!we&&!Le&&!t(y,_[0],"ALPH")){E=[E],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{st=y,xe=_,we=E;var at=Se.gb;Ge=Se.na,Ve=Se.P,pt=Se.Sa,Nt=22,e(st!=null),e(we!=null),ze=xe[0];var jn=we[0];for(e(Ge!=null),e(pt!=null),Ge[0]=null,Ve[0]=null,pt[0]=0;;){if(xe[0]=ze,we[0]=jn,8>jn){xe=7;break e}var Wn=Qe(st,ze+4);if(4294967286<Wn){xe=3;break e}var vn=8+Wn+1&-2;if(Nt+=vn,0<at&&Nt>at){xe=3;break e}if(!t(st,ze,"VP8 ")||!t(st,ze,"VP8L")){xe=0;break e}if(jn[0]<vn){xe=7;break e}t(st,ze,"ALPH")||(Ge[0]=st,Ve[0]=ze+8,pt[0]=Wn),ze+=vn,jn-=vn}}if(E=E[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],xe!=0)break}E=[E],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(at=y,xe=_,we=E,Ge=Se.gb[0],Ve=Se.Ja,pt=Se.xa,st=xe[0],ze=!t(at,st,"VP8 "),Nt=!t(at,st,"VP8L"),e(at!=null),e(we!=null),e(Ve!=null),e(pt!=null),8>we[0])xe=7;else{if(ze||Nt){if(at=Qe(at,st+4),12<=Ge&&at>Ge-12){xe=3;break e}if(ke&&at>we[0]-8){xe=7;break e}Ve[0]=at,xe[0]+=8,we[0]-=8,pt[0]=Nt}else pt[0]=5<=we[0]&&at[st+0]==47&&!(at[st+4]>>5),Ve[0]=we[0];xe=0}if(E=E[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],_=_[0],xe!=0)break;if(4294967286<Se.Ja)return 3;if(Y==null||Oe||(Y[0]=Se.xa?2:1),U=[U],He=[He],Se.xa){if(5>E){xe=7;break}Y=U,ke=He,Oe=V,y==null||5>E?y=0:5<=E&&y[_+0]==47&&!(y[_+4]>>5)?(we=[0],at=[0],Ge=[0],Z(Ve=new R,y,_,E),vt(Ve,we,at,Ge)?(Y!=null&&(Y[0]=we[0]),ke!=null&&(ke[0]=at[0]),Oe!=null&&(Oe[0]=Ge[0]),y=1):y=0):y=0}else{if(10>E){xe=7;break}Y=He,y==null||10>E||!pe(y,_+3,E-3)?y=0:(ke=y[_+0]|y[_+1]<<8|y[_+2]<<16,Oe=16383&(y[_+7]<<8|y[_+6]),y=16383&(y[_+9]<<8|y[_+8]),1&ke||3<(ke>>1&7)||!(ke>>4&1)||ke>>5>=Se.Ja||!Oe||!y?y=0:(U&&(U[0]=Oe),Y&&(Y[0]=y),y=1))}if(!y||(U=U[0],He=He[0],Le&&(re[0]!=U||ve[0]!=He)))return 3;X!=null&&(X[0]=Se,X.offset=_-X.w,e(4294967286>_-X.w),e(X.offset==X.ha-E));break}return xe==0||xe==7&&Le&&X==null?(V!=null&&(V[0]|=Se.na!=null&&0<Se.na.length),L!=null&&(L[0]=U),O!=null&&(O[0]=He),0):xe}function fo(y,_,E){var L=_.width,O=_.height,V=0,U=0,Y=L,X=O;if(_.Da=y!=null&&0<y.Da,_.Da&&(Y=y.cd,X=y.bd,V=y.v,U=y.j,11>E||(V&=-2,U&=-2),0>V||0>U||0>=Y||0>=X||V+Y>L||U+X>O))return 0;if(_.v=V,_.j=U,_.va=V+Y,_.o=U+X,_.U=Y,_.T=X,_.da=y!=null&&0<y.da,_.da){if(!ft(Y,X,E=[y.ib],V=[y.hb]))return 0;_.ib=E[0],_.hb=V[0]}return _.ob=y!=null&&y.ob,_.Kb=y==null||!y.Sd,_.da&&(_.ob=_.ib<3*L/4&&_.hb<3*O/4,_.Kb=0),1}function Kl(y){if(y==null)return 2;if(11>y.S){var _=y.f.RGBA;_.fb+=(y.height-1)*_.A,_.A=-_.A}else _=y.f.kb,y=y.height,_.O+=(y-1)*_.fa,_.fa=-_.fa,_.N+=(y-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(y-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(y-1)*_.lb,_.lb=-_.lb);return 0}function Qo(y,_,E,L){if(L==null||0>=y||0>=_)return 2;if(E!=null){if(E.Da){var O=E.cd,V=E.bd,U=-2&E.v,Y=-2&E.j;if(0>U||0>Y||0>=O||0>=V||U+O>y||Y+V>_)return 2;y=O,_=V}if(E.da){if(!ft(y,_,O=[E.ib],V=[E.hb]))return 2;y=O[0],_=V[0]}}L.width=y,L.height=_;e:{var X=L.width,re=L.height;if(y=L.S,0>=X||0>=re||!(y>=zr&&13>y))y=2;else{if(0>=L.Rd&&L.sd==null){U=V=O=_=0;var ve=(Y=X*Xh[y])*re;if(11>y||(V=(re+1)/2*(_=(X+1)/2),y==12&&(U=(O=X)*re)),(re=s(ve+2*V+U))==null){y=1;break e}L.sd=re,11>y?((X=L.f.RGBA).eb=re,X.fb=0,X.A=Y,X.size=ve):((X=L.f.kb).y=re,X.O=0,X.fa=Y,X.Fd=ve,X.f=re,X.N=0+ve,X.Ab=_,X.Cd=V,X.ea=re,X.W=0+ve+V,X.Db=_,X.Ed=V,y==12&&(X.F=re,X.J=0+ve+2*V),X.Tc=U,X.lb=O)}if(_=1,O=L.S,V=L.width,U=L.height,O>=zr&&13>O)if(11>O)y=L.f.RGBA,_&=(Y=Math.abs(y.A))*(U-1)+V<=y.size,_&=Y>=V*Xh[O],_&=y.eb!=null;else{y=L.f.kb,Y=(V+1)/2,ve=(U+1)/2,X=Math.abs(y.fa),re=Math.abs(y.Ab);var Le=Math.abs(y.Db),ke=Math.abs(y.lb),Se=ke*(U-1)+V;_&=X*(U-1)+V<=y.Fd,_&=re*(ve-1)+Y<=y.Cd,_=(_&=Le*(ve-1)+Y<=y.Ed)&X>=V&re>=Y&Le>=Y,_&=y.y!=null,_&=y.f!=null,_&=y.ea!=null,O==12&&(_&=ke>=V,_&=Se<=y.Tc,_&=y.F!=null)}else _=0;y=_?0:2}}return y!=0||E!=null&&E.fd&&(y=Kl(L)),y}var fr=64,ho=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],el=24,tl=32,Yl=8,es=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(y){return y},j.Predictor2=function(y,_,E){return _[E+0]},j.Predictor3=function(y,_,E){return _[E+1]},j.Predictor4=function(y,_,E){return _[E-1]},j.Predictor5=function(y,_,E){return rt(rt(y,_[E+1]),_[E+0])},j.Predictor6=function(y,_,E){return rt(y,_[E-1])},j.Predictor7=function(y,_,E){return rt(y,_[E+0])},j.Predictor8=function(y,_,E){return rt(_[E-1],_[E+0])},j.Predictor9=function(y,_,E){return rt(_[E+0],_[E+1])},j.Predictor10=function(y,_,E){return rt(rt(y,_[E-1]),rt(_[E+0],_[E+1]))},j.Predictor11=function(y,_,E){var L=_[E+0];return 0>=Mt(L>>24&255,y>>24&255,(_=_[E-1])>>24&255)+Mt(L>>16&255,y>>16&255,_>>16&255)+Mt(L>>8&255,y>>8&255,_>>8&255)+Mt(255&L,255&y,255&_)?L:y},j.Predictor12=function(y,_,E){var L=_[E+0];return(St((y>>24&255)+(L>>24&255)-((_=_[E-1])>>24&255))<<24|St((y>>16&255)+(L>>16&255)-(_>>16&255))<<16|St((y>>8&255)+(L>>8&255)-(_>>8&255))<<8|St((255&y)+(255&L)-(255&_)))>>>0},j.Predictor13=function(y,_,E){var L=_[E-1];return(Rt((y=rt(y,_[E+0]))>>24&255,L>>24&255)<<24|Rt(y>>16&255,L>>16&255)<<16|Rt(y>>8&255,L>>8&255)<<8|Rt(y>>0&255,L>>0&255))>>>0};var hd=j.PredictorAdd0;j.PredictorAdd1=kt,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var $u=j.PredictorAdd2;qt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Yc,Cs=j.ColorIndexInverseTransform,Cr=j.MapARGB,po=j.VP8LColorIndexInverseTransformAlpha,Ju=j.MapAlpha,Ma=j.VP8LPredictorsAdd=[];Ma.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var mo,Kr,Dr,go,ts,Us,la,qs,zi,Hs,ir,ns,nl,ua,$l,yo,vo,xo,il,Jl,bo,La,rl,ji,xs,wn,_n,di,Xi=s(511),Ns=s(2041),wo=s(225),_o=s(767),Pa=0,$c=Ns,sl=wo,Nr=_o,Es=Xi,zr=0,Zl=1,ca=2,Zu=3,al=4,Ra=5,Jc=6,Xu=7,So=8,Da=9,Xl=10,Zc=[2,3,7],ks=[3,3,11],bs=[280,256,256,256,40],ol=[0,1,1,1,0],Ia=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Oa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ll=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kh=8,Qu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ec=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dr=null,Vi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ao=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ul=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Yh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fa=[],Yr=[],ws=[],$h=1,Ql=2,da=[],Er=[];Fe("UpsampleRgbLinePair",En,3),Fe("UpsampleBgrLinePair",wi,3),Fe("UpsampleRgbaLinePair",js,4),Fe("UpsampleBgraLinePair",Tr,4),Fe("UpsampleArgbLinePair",Zi,4),Fe("UpsampleRgba4444LinePair",Ji,2),Fe("UpsampleRgb565LinePair",Ei,2);var Ba=j.UpsampleRgbLinePair,To=j.UpsampleBgrLinePair,ha=j.UpsampleRgbaLinePair,Xc=j.UpsampleBgraLinePair,Qc=j.UpsampleArgbLinePair,eu=j.UpsampleRgba4444LinePair,ef=j.UpsampleRgb565LinePair,pa=16,hr=1<<pa-1,Co=-227,tf=482,_g=6,Jh=0,Sg=s(256),pr=s(256),md=s(256),tc=s(256),nc=s(tf-Co),gd=s(tf-Co);Vs("YuvToRgbRow",En,3),Vs("YuvToBgrRow",wi,3),Vs("YuvToRgbaRow",js,4),Vs("YuvToBgraRow",Tr,4),Vs("YuvToArgbRow",Zi,4),Vs("YuvToRgba4444Row",Ji,2),Vs("YuvToRgb565Row",Ei,2);var cl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],za=[0,2,8],Ag=[8,7,6,4,4,2,2,2,1,1,1,1],Zh=1;this.WebPDecodeRGBA=function(y,_,E,L,O){var V=Zl,U=new Ul,Y=new Sr;U.ba=Y,Y.S=V,Y.width=[Y.width],Y.height=[Y.height];var X=Y.width,re=Y.height,ve=new Oi;if(ve==null||y==null)var Le=2;else e(ve!=null),Le=Wl(y,_,E,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Le!=0?X=0:(X!=null&&(X[0]=ve.width[0]),re!=null&&(re[0]=ve.height[0]),X=1),X){Y.width=Y.width[0],Y.height=Y.height[0],L!=null&&(L[0]=Y.width),O!=null&&(O[0]=Y.height);e:{if(L=new ti,(O=new Gu).data=y,O.w=_,O.ha=E,O.kd=1,_=[0],e(O!=null),((y=Wl(O.data,O.w,O.ha,null,null,null,_,null,O))==0||y==7)&&_[0]&&(y=4),(_=y)==0){if(e(U!=null),L.data=O.data,L.w=O.w+O.offset,L.ha=O.ha-O.offset,L.put=mi,L.ac=nn,L.bc=cr,L.ma=U,O.xa){if((y=Yi())==null){U=1;break e}if(function(ke,Se){var He=[0],Oe=[0],xe=[0];t:for(;;){if(ke==null)return 0;if(Se==null)return ke.a=2,0;if(ke.l=Se,ke.a=0,Z(ke.m,Se.data,Se.w,Se.ha),!vt(ke.m,He,Oe,xe)){ke.a=3;break t}if(ke.xb=Ql,Se.width=He[0],Se.height=Oe[0],!In(He[0],Oe[0],1,ke,null))break t;return 1}return e(ke.a!=0),0}(y,L)){if(L=(_=Qo(L.width,L.height,U.Oa,U.ba))==0){t:{L=y;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((E=L.l)!=null),e((O=E.ma)!=null),L.xb!=0){if(L.ca=O.ba,L.tb=O.tb,e(L.ca!=null),!fo(O.Oa,E,Zu)){L.a=2;break n}if(!Qr(L,E.width)||E.da)break n;if((E.da||fn(L.ca.S))&&Ee(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Ee()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!yt(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!Ot(L,L.V,L.Ba,L.c,L.i,E.o,Wi))break n;O.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(_=y.a)}else _=y.a}else{if((y=new bi)==null){U=1;break e}if(y.Fa=O.na,y.P=O.P,y.qc=O.Sa,Ne(y,L)){if((_=Qo(L.width,L.height,U.Oa,U.ba))==0){if(y.Aa=0,E=U.Oa,e((O=y)!=null),E!=null){if(0<(X=0>(X=E.Md)?0:100<X?255:255*X/100)){for(re=ve=0;4>re;++re)12>(Le=O.pb[re]).lc&&(Le.ia=X*Ag[0>Le.lc?0:Le.lc]>>3),ve|=Le.ia;ve&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=E.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}Xe(y,L)||(_=y.a)}}else _=y.a}_==0&&U.Oa!=null&&U.Oa.fd&&(_=Kl(U.ba))}U=_}V=U!=0?null:11>V?Y.f.RGBA.eb:Y.f.kb.y}else V=null;return V};var Xh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(j,ie){for(var le="",F=0;F<4;F++)le+=String.fromCharCode(j[ie++]);return le}function h(j,ie){return(j[ie+0]<<0|j[ie+1]<<8|j[ie+2]<<16)>>>0}function v(j,ie){return(j[ie+0]<<0|j[ie+1]<<8|j[ie+2]<<16|j[ie+3]<<24)>>>0}new c;var b=[0],x=[0],N=[],T=new c,M=n,k=function(j,ie){var le={},F=0,G=!1,fe=0,ae=0;if(le.frames=[],!function(H,te,ue,ce){for(var Ae=0;Ae<ce;Ae++)if(H[te+Ae]!=ue.charCodeAt(Ae))return!0;return!1}(j,ie,"RIFF",4)){for(v(j,ie+=4),ie+=8;ie<j.length;){var ge=f(j,ie),K=v(j,ie+=4);ie+=4;var Q=K+(1&K);switch(ge){case"VP8 ":case"VP8L":le.frames[F]===void 0&&(le.frames[F]={}),(z=le.frames[F]).src_off=G?ae:ie-8,z.src_size=fe+K+8,F++,G&&(G=!1,fe=0,ae=0);break;case"VP8X":(z=le.header={}).feature_flags=j[ie];var Z=ie+4;z.canvas_width=1+h(j,Z),Z+=3,z.canvas_height=1+h(j,Z),Z+=3;break;case"ALPH":G=!0,fe=Q+8,ae=ie-8;break;case"ANIM":(z=le.header).bgcolor=v(j,ie),Z=ie+4,z.loop_count=(me=j)[(R=Z)+0]<<0|me[R+1]<<8,Z+=2;break;case"ANMF":var de,z;(z=le.frames[F]={}).offset_x=2*h(j,ie),ie+=3,z.offset_y=2*h(j,ie),ie+=3,z.width=1+h(j,ie),ie+=3,z.height=1+h(j,ie),ie+=3,z.duration=h(j,ie),ie+=3,de=j[ie++],z.dispose=1&de,z.blend=de>>1&1}ge!="ANMF"&&(ie+=Q)}var me,R;return le}}(M,0);k.response=M,k.rgbaoutput=!0,k.dataurl=!1;var P=k.header?k.header:null,I=k.frames?k.frames:null;if(P){P.loop_counter=P.loop_count,b=[P.canvas_height],x=[P.canvas_width];for(var J=0;J<I.length&&I[J].blend!=0;J++);}var q=I[0],W=T.WebPDecodeRGBA(M,q.src_off,q.src_size,x,b);q.rgba=W,q.imgwidth=x[0],q.imgheight=b[0];for(var ee=0;ee<x[0]*b[0]*4;ee++)N[ee]=W[ee];return this.width=x,this.height=b,this.data=N,this}(function(n){var e=function(){return typeof j1=="function"},t=function(b,x,N,T){var M=4,k=o;switch(T){case n.image_compression.FAST:M=1,k=s;break;case n.image_compression.MEDIUM:M=6,k=u;break;case n.image_compression.SLOW:M=9,k=c}b=i(b,x,N,k);var P=j1(b,{level:M});return n.__addimage__.arrayBufferToBinaryString(P)},i=function(b,x,N,T){for(var M,k,P,I=b.length/x,J=new Uint8Array(b.length+I),q=h(),W=0;W<I;W+=1){if(P=W*x,M=b.subarray(P,P+x),T)J.set(T(M,N,k),P+W);else{for(var ee,j=q.length,ie=[];ee<j;ee+=1)ie[ee]=q[ee](M,N,k);var le=v(ie.concat());J.set(ie[le],P+W)}k=M}return J},r=function(b){var x=Array.apply([],b);return x.unshift(0),x},s=function(b,x){var N,T=[],M=b.length;T[0]=1;for(var k=0;k<M;k+=1)N=b[k-x]||0,T[k+1]=b[k]-N+256&255;return T},o=function(b,x,N){var T,M=[],k=b.length;M[0]=2;for(var P=0;P<k;P+=1)T=N&&N[P]||0,M[P+1]=b[P]-T+256&255;return M},u=function(b,x,N){var T,M,k=[],P=b.length;k[0]=3;for(var I=0;I<P;I+=1)T=b[I-x]||0,M=N&&N[I]||0,k[I+1]=b[I]+256-(T+M>>>1)&255;return k},c=function(b,x,N){var T,M,k,P,I=[],J=b.length;I[0]=4;for(var q=0;q<J;q+=1)T=b[q-x]||0,M=N&&N[q]||0,k=N&&N[q-x]||0,P=f(T,M,k),I[q+1]=b[q]-P+256&255;return I},f=function(b,x,N){if(b===x&&x===N)return b;var T=Math.abs(x-N),M=Math.abs(b-N),k=Math.abs(b+x-N-N);return T<=M&&T<=k?b:M<=k?x:N},h=function(){return[r,s,o,u,c]},v=function(b){var x=b.map(function(N){return N.reduce(function(T,M){return T+Math.abs(M)},0)});return x.indexOf(Math.min.apply(null,x))};n.processPNG=function(b,x,N,T){var M,k,P,I,J,q,W,ee,j,ie,le,F,G,fe,ae,ge=this.decode.FLATE_DECODE,K="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(P=new jR(b)).imgData,k=P.bits,M=P.colorSpace,J=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){j=(ee=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,le=new Uint8Array(j*P.colors),ie=new Uint8Array(j);var Q,Z=P.pixelBitlength-P.bits;for(fe=0,ae=0;fe<j;fe++){for(G=ee[fe],Q=0;Q<Z;)le[ae++]=G>>>Q&255,Q+=P.bits;ie[fe]=G>>>Q&255}}if(P.bits===16){j=(ee=new Uint32Array(P.decodePixels().buffer)).length,le=new Uint8Array(j*(32/P.pixelBitlength)*P.colors),ie=new Uint8Array(j*(32/P.pixelBitlength)),F=P.colors>1,fe=0,ae=0;for(var de=0;fe<j;)G=ee[fe++],le[ae++]=G>>>0&255,F&&(le[ae++]=G>>>16&255,G=ee[fe++],le[ae++]=G>>>0&255),ie[de++]=G>>>16&255;k=8}T!==n.image_compression.NONE&&e()?(b=t(le,P.width*P.colors,P.colors,T),W=t(ie,P.width,1,T)):(b=le,W=ie,ge=void 0)}if(P.colorType===3&&(M=this.color_spaces.INDEXED,q=P.palette,P.transparency.indexed)){var z=P.transparency.indexed,me=0;for(fe=0,j=z.length;fe<j;++fe)me+=z[fe];if((me/=255)===j-1&&z.indexOf(0)!==-1)I=[z.indexOf(0)];else if(me!==j){for(ee=P.decodePixels(),ie=new Uint8Array(ee.length),fe=0,j=ee.length;fe<j;fe++)ie[fe]=z[ee[fe]];W=t(ie,P.width,1)}}var R=function(H){var te;switch(H){case n.image_compression.FAST:te=11;break;case n.image_compression.MEDIUM:te=13;break;case n.image_compression.SLOW:te=14;break;default:te=12}return te}(T);return ge===this.decode.FLATE_DECODE&&(K="/Predictor "+R+" "),K+="/Colors "+J+" /BitsPerComponent "+k+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(W&&this.__addimage__.isArrayBuffer(W)||this.__addimage__.isArrayBufferView(W))&&(W=this.__addimage__.arrayBufferToBinaryString(W)),{alias:N,data:b,index:x,filter:ge,decodeParameters:K,transparency:I,palette:q,sMask:W,predictor:R,width:P.width,height:P.height,bitsPerComponent:k,colorSpace:M}}}})(Gt.API),function(n){n.processGIF89A=function(e,t,i,r){var s=new VR(e),o=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:o,height:u},h=new W0(100).encode(f,100);return n.processJPEG.call(this,h,t,i,r)},n.processGIF87A=n.processGIF89A}(Gt.API),Ka.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ka.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){xi.log("bit decode error:"+t)}},Ka.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[o+4*u]=c.blue,this.data[o+4*u+1]=c.green,this.data[o+4*u+2]=c.red,this.data[o+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Ka.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,u=s>>4,c=15&s,f=this.palette[u];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*r+1>=this.width)break;f=this.palette[c],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ka.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Ka.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,h=i*this.width*4+4*r;this.data[h]=c,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=f}this.pos+=n}},Ka.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,f=(o>>11)/e*255|0,h=r*this.width*4+4*s;this.data[h]=f,this.data[h+1]=c,this.data[h+2]=u,this.data[h+3]=255}this.pos+=n}},Ka.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Ka.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=o}},Ka.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,i,r){var s=new Ka(e,!1),o=s.width,u=s.height,c={data:s.getData(),width:o,height:u},f=new W0(100).encode(c,100);return n.processJPEG.call(this,f,t,i,r)}}(Gt.API),fb.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,i,r){var s=new fb(e),o=s.width,u=s.height,c={data:s.getData(),width:o,height:u},f=new W0(100).encode(c,100);return n.processJPEG.call(this,f,t,i,r)}}(Gt.API),Gt.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),u=0,c=0,f=0;f<r;f+=4){var h=i[f],v=i[f+1],b=i[f+2],x=i[f+3];s[u++]=h,s[u++]=v,s[u++]=b,o[c++]=x}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Gt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ef=Gt.API,em=Ef.getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:r.metadata.Unicode.widths,c=u.fof?u.fof:1,f=e.kerning?e.kerning:r.metadata.Unicode.kerning,h=f.fof?f.fof:1,v=e.doKerning!==!1,b=0,x=n.length,N=0,T=u[0]||c,M=[];for(t=0;t<x;t++)i=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?M.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(b=v&&ci(f[i])==="object"&&!isNaN(parseInt(f[i][N],10))?f[i][N]/h:0,M.push((u[i]||T)/c+b)),N=i;return M},ob=Ef.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Ef.processArabic&&(n=Ef.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,r)/t:em.apply(this,arguments).reduce(function(s,o){return s+o},0)},lb=function(n,e,t,i){for(var r=[],s=0,o=n.length,u=0;s!==o&&u+e[s]<t;)u+=e[s],s++;r.push(n.slice(0,s));var c=s;for(u=0;s!==o;)u+e[s]>i&&(r.push(n.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&r.push(n.slice(c,s)),r},ub=function(n,e,t){t||(t={});var i,r,s,o,u,c,f,h=[],v=[h],b=t.textIndent||0,x=0,N=0,T=n.split(" "),M=em.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?T[0].length+2:t.lineIndent||0){var k=Array(c).join(" "),P=[];T.map(function(J){(J=J.split(/\s*\n/)).length>1?P=P.concat(J.map(function(q,W){return(W&&q.length?`
`:"")+q})):P.push(J[0])}),T=P,c=ob.apply(this,[k,t])}for(s=0,o=T.length;s<o;s++){var I=0;if(i=T[s],c&&i[0]==`
`&&(i=i.substr(1),I=1),b+x+(N=(r=em.apply(this,[i,t])).reduce(function(J,q){return J+q},0))>e||I){if(N>e){for(u=lb.apply(this,[i,r,e-(b+x),e]),h.push(u.shift()),h=[u.pop()];u.length;)v.push([u.shift()]);N=r.slice(i.length-(h[0]?h[0].length:0)).reduce(function(J,q){return J+q},0)}else h=[i];v.push(h),b=N+c,x=M}else h.push(i),b+=x+N,x=M}return f=c?function(J,q){return(q?k:"")+J.join(" ")}:function(J){return J.join(" ")},v.map(f)},Ef.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var v=this.internal.getFont(h.fontName,h.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var u,c,f=[];for(u=0,c=i.length;u<c;u++)f=f.concat(ub.apply(this,[i[u],o,s]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},r=0;r<e.length;r++)t[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var s=function(v){return"0x"+parseInt(v,10).toString(16)},o=n.__fontmetrics__.compress=function(v){var b,x,N,T,M=["{"];for(var k in v){if(b=v[k],isNaN(parseInt(k,10))?x="'"+k+"'":(k=parseInt(k,10),x=(x=s(k).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof b=="number")b<0?(N=s(b).slice(3),T="-"):(N=s(b).slice(2),T=""),N=T+N.slice(0,-1)+i[N.slice(-1)];else{if(ci(b)!=="object")throw new Error("Don't know what to do with value type "+ci(b)+".");N=o(b)}M.push(x+N)}return M.push("}"),M.join("")},u=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,x,N,T,M={},k=1,P=M,I=[],J="",q="",W=v.length-1,ee=1;ee<W;ee+=1)(T=v[ee])=="'"?b?(N=b.join(""),b=void 0):b=[]:b?b.push(T):T=="{"?(I.push([P,N]),P={},N=void 0):T=="}"?((x=I.pop())[0][x[1]]=P,N=void 0,P=x[0]):T=="-"?k=-1:N===void 0?t.hasOwnProperty(T)?(J+=t[T],N=parseInt(J,16)*k,k=1,J=""):J+=T:t.hasOwnProperty(T)?(q+=t[T],P[N]=parseInt(q,16)*k,k=1,N=void 0,q=""):q+=T;return M},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var b=v.font,x=h.Unicode[b.postScriptName];x&&(b.metadata.Unicode={},b.metadata.Unicode.widths=x.widths,b.metadata.Unicode.kerning=x.kerning);var N=f.Unicode[b.postScriptName];N&&(b.metadata.Unicode.encoding=N,b.encoding=N.codePages[0])}])}(Gt.API),function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=t.charCodeAt(s);return r};n.API.events.push(["addFont",function(t){var i=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(wh(u)),o.metadata=n.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(Gt),function(n){function e(){return(Kt.canvg?Promise.resolve(Kt.canvg):I1(()=>import("./index.es-krRbHJC1.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Gt.API.addSvgAsImage=function(t,i,r,s,o,u,c,f){if(isNaN(i)||isNaN(r))throw xi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw xi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var v=h.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,h.width,h.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return e().then(function(N){return N.fromString(v,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(b)}).then(function(){x.addImage(h.toDataURL("image/jpeg",1),i,r,s,o,c,f)})}}(),Gt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},Gt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),c=[],f=0,h=0,v=0;function b(N,T){var M,k=!1;for(M=0;M<N.length;M+=1)N[M]===T&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var x=u.length;for(v=0;v<x;v+=1)t[u[v]].value=t[u[v]].defaultValue,t[u[v]].explicitSet=!1}if(ci(n)==="object"){for(r in n)if(s=n[r],b(u,r)&&s!==void 0){if(t[r].type==="boolean"&&typeof s=="boolean")t[r].value=s;else if(t[r].type==="name"&&b(t[r].valueSet,s))t[r].value=s;else if(t[r].type==="integer"&&Number.isInteger(s))t[r].value=s;else if(t[r].type==="array"){for(f=0;f<s.length;f+=1)if(i=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(h=0;h<s[f].length;h+=1)typeof s[f][h]!="number"&&(i=!1);i===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}t[r].value="["+c.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,T=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?T.push("/"+N+" /"+t[N].value):T.push("/"+N+" "+t[N].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+u.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+u+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Gt.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var u,c=o.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],v=0,b=s.length;v<b;++v){if(u=o.metadata.characterToGlyph(s.charCodeAt(v)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=s.charCodeAt(v),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return h.join("");u=u.toString(16),h.push(f[4-u.length],u)}return h.join("")},i=function(s){var o,u,c,f,h,v,b;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],v=0,b=(u=Object.keys(s).sort(function(x,N){return x-N})).length;v<b;v++)o=u[v],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+f+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var u=o.font,c=o.out,f=o.newObject,h=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var v=u.metadata.Unicode.widths,b=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),x="",N=0;N<b.length;N++)x+=String.fromCharCode(b[N]);var T=f();h({data:x,addLength1:!0,objectId:T}),c("endobj");var M=f();h({data:i(u.metadata.toUnicode),addLength1:!0,objectId:M}),c("endobj");var k=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Df(u.fontName)),c("/FontFile2 "+T+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var P=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+Df(u.fontName)),c("/FontDescriptor "+k+" 0 R"),c("/W "+n.API.PDFObject.convert(v)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+M+" 0 R"),c("/BaseFont /"+Df(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+P+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var u=o.font,c=o.out,f=o.newObject,h=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var v=u.metadata.rawData,b="",x=0;x<v.length;x++)b+=String.fromCharCode(v[x]);var N=f();h({data:b,addLength1:!0,objectId:N}),c("endobj");var T=f();h({data:i(u.metadata.toUnicode),addLength1:!0,objectId:T}),c("endobj");var M=f();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+Df(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=f();for(var k=0;k<u.metadata.hmtx.widths.length;k++)u.metadata.hmtx.widths[k]=parseInt(u.metadata.hmtx.widths[k]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+Df(u.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,u=s.text||"",c=s.x,f=s.y,h=s.options||{},v=s.mutex||{},b=v.pdfEscape,x=v.activeFontKey,N=v.fonts,T=x,M="",k=0,P="",I=N[T].encoding;if(N[T].encoding!=="Identity-H")return{text:u,x:c,y:f,options:h,mutex:v};for(P=u,T=x,Array.isArray(u)&&(P=u[0]),k=0;k<P.length;k+=1)N[T].metadata.hasOwnProperty("cmap")&&(o=N[T].metadata.cmap.unicode.codeMap[P[k].charCodeAt(0)]),o||P[k].charCodeAt(0)<256&&N[T].metadata.hasOwnProperty("Unicode")?M+=P[k]:M+="";var J="";return parseInt(T.slice(1))<14||I==="WinAnsiEncoding"?J=b(M,T).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(J=t(M,N[T])),v.isHex=!0,{text:J,x:c,y:f,options:h,mutex:v}};e.events.push(["postProcessText",function(s){var o=s.text||"",u=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?u.push([r(Object.assign({},c,{text:o[f][0]})).text,o[f][1],o[f][2]]):u.push(r(Object.assign({},c,{text:o[f]})).text);s.text=u}else s.text=r(Object.assign({},c,{text:o})).text}])}(Gt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Gt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,u,c,f,h,v=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,I=0;this.__bidiEngine__={};var J=function(F){var G=F.charCodeAt(),fe=G>>8,ae=T[fe];return ae!==void 0?v[256*ae+(255&G)]:fe===252||fe===253?"AL":k.test(fe)?"L":fe===8?"R":"N"},q=function(F){for(var G,fe=0;fe<F.length;fe++){if((G=J(F.charAt(fe)))==="L")return!1;if(G==="R")return!0}return!1},W=function(F,G,fe,ae){var ge,K,Q,Z,de=G[ae];switch(de){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(de="AN");break;case"AL":P=!0,de="R";break;case"WS":de="N";break;case"CS":ae<1||ae+1>=G.length||(ge=fe[ae-1])!=="EN"&&ge!=="AN"||(K=G[ae+1])!=="EN"&&K!=="AN"?de="N":P&&(K="AN"),de=K===ge?K:"N";break;case"ES":de=(ge=ae>0?fe[ae-1]:"B")==="EN"&&ae+1<G.length&&G[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&fe[ae-1]==="EN"){de="EN";break}if(P){de="N";break}for(Q=ae+1,Z=G.length;Q<Z&&G[Q]==="ET";)Q++;de=Q<Z&&G[Q]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(Z=G.length,Q=ae+1;Q<Z&&G[Q]==="NSM";)Q++;if(Q<Z){var z=F[ae],me=z>=1425&&z<=2303||z===64286;if(ge=G[Q],me&&(ge==="R"||ge==="AL")){de="R";break}}}de=ae<1||(ge=G[ae-1])==="B"?"N":fe[ae-1];break;case"B":P=!1,r=!0,de=I;break;case"S":s=!0,de="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":de="N"}return de},ee=function(F,G,fe){var ae=F.split("");return fe&&j(ae,fe,{hiLevel:I}),ae.reverse(),G&&G.reverse(),ae.join("")},j=function(F,G,fe){var ae,ge,K,Q,Z,de=-1,z=F.length,me=0,R=[],H=I?x:b,te=[];for(P=!1,r=!1,s=!1,ge=0;ge<z;ge++)te[ge]=J(F[ge]);for(K=0;K<z;K++){if(Z=me,R[K]=W(F,te,R,K),ae=240&(me=H[Z][N[R[K]]]),me&=15,G[K]=Q=H[me][5],ae>0)if(ae===16){for(ge=de;ge<K;ge++)G[ge]=1;de=-1}else de=-1;if(H[me][6])de===-1&&(de=K);else if(de>-1){for(ge=de;ge<K;ge++)G[ge]=Q;de=-1}te[K]==="B"&&(G[K]=0),fe.hiLevel|=Q}s&&function(ue,ce,Ae){for(var _e=0;_e<Ae;_e++)if(ue[_e]==="S"){ce[_e]=I;for(var Ce=_e-1;Ce>=0&&ue[Ce]==="WS";Ce--)ce[Ce]=I}}(te,G,z)},ie=function(F,G,fe,ae,ge){if(!(ge.hiLevel<F)){if(F===1&&I===1&&!r)return G.reverse(),void(fe&&fe.reverse());for(var K,Q,Z,de,z=G.length,me=0;me<z;){if(ae[me]>=F){for(Z=me+1;Z<z&&ae[Z]>=F;)Z++;for(de=me,Q=Z-1;de<Q;de++,Q--)K=G[de],G[de]=G[Q],G[Q]=K,fe&&(K=fe[de],fe[de]=fe[Q],fe[Q]=K);me=Z}me++}}},le=function(F,G,fe){var ae=F.split(""),ge={hiLevel:I};return fe||(fe=[]),j(ae,fe,ge),function(K,Q,Z){if(Z.hiLevel!==0&&h)for(var de,z=0;z<K.length;z++)Q[z]===1&&(de=M.indexOf(K[z]))>=0&&(K[z]=M[de+1])}(ae,fe,ge),ie(2,ae,G,fe,ge),ie(1,ae,G,fe,ge),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(F,G,fe){if(function(ge,K){if(K)for(var Q=0;Q<ge.length;Q++)K[Q]=Q;u===void 0&&(u=q(ge)),f===void 0&&(f=q(ge))}(F,G),o||!c||f)if(o&&c&&u^f)I=u?1:0,F=ee(F,G,fe);else if(!o&&c&&f)I=u?1:0,F=le(F,G,fe),F=ee(F,G);else if(!o||u||c||f){if(o&&!c&&u^f)F=ee(F,G),u?(I=0,F=le(F,G,fe)):(I=1,F=le(F,G,fe),F=ee(F,G));else if(o&&u&&!c&&f)I=1,F=le(F,G,fe),F=ee(F,G);else if(!o&&!c&&u^f){var ae=h;u?(I=1,F=le(F,G,fe),I=0,h=!1,F=le(F,G,fe),h=ae):(I=0,F=le(F,G,fe),F=ee(F,G),I=1,h=!1,F=le(F,G,fe),h=ae,F=ee(F,G))}}else I=0,F=le(F,G,fe);else I=u?1:0,F=le(F,G,fe);return F},this.__bidiEngine__.setOptions=function(F){F&&(o=F.isInputVisual,c=F.isOutputVisual,u=F.isInputRtl,f=F.isOutputRtl,h=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var u=0;for(o=[],u=0;u<r.length;u+=1)Object.prototype.toString.call(r[u])==="[object Array]"?o.push([t.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):o.push([t.doBidiReorder(r[u])]);i.text=o}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(Gt),Gt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Du(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new n7(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new UR(this.contents),this.head=new HR(this),this.name=new $R(this),this.cmap=new sS(this),this.toUnicode={},this.hhea=new GR(this),this.maxp=new JR(this),this.hmtx=new ZR(this),this.post=new KR(this),this.os2=new WR(this),this.loca=new t7(this),this.glyf=new XR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,c,f;for(f=[],o=0,u=(c=this.bbox).length;o<u;o++)e=c[o],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(t=r>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,s,o,u;for(o=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)r=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n}();var io,Du=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,s,o,u,c;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*s+65536*o+256*u+c},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)t=e[i],s.push(this.writeByte(t));return s},n}(),UR=function(){var n;function e(t){var i,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,s,o,u,c,f,h,v,b,x,N,T;for(T in x=Object.keys(t).length,c=Math.log(2),v=16*Math.floor(Math.log(x)/c),o=Math.floor(v/c),h=16*x-v,(r=new Du).writeInt(this.scalarType),r.writeShort(x),r.writeShort(v),r.writeShort(o),r.writeShort(h),s=16*x,f=r.pos+s,u=null,N=[],t)for(b=t[T],r.writeString(T),r.writeInt(n(b)),r.writeInt(f),r.writeInt(b.length),N=N.concat(b),T==="head"&&(u=f),f+=b.length;f%4;)N.push(0),f++;return r.write(N),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(t){var i,r,s,o;for(t=aS.call(t);t.length%4;)t.push(0);for(s=new Du(t),r=0,i=0,o=t.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),qR={}.hasOwnProperty,Ko=function(n,e){for(var t in e)qR.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};io=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var HR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new Du).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),db=function(){function n(e,t){var i,r,s,o,u,c,f,h,v,b,x,N,T,M,k,P,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(x=e.readUInt16(),b=x/2,e.pos+=6,s=function(){var J,q;for(q=[],c=J=0;0<=b?J<b:J>b;c=0<=b?++J:--J)q.push(e.readUInt16());return q}(),e.pos+=2,T=function(){var J,q;for(q=[],c=J=0;0<=b?J<b:J>b;c=0<=b?++J:--J)q.push(e.readUInt16());return q}(),f=function(){var J,q;for(q=[],c=J=0;0<=b?J<b:J>b;c=0<=b?++J:--J)q.push(e.readUInt16());return q}(),h=function(){var J,q;for(q=[],c=J=0;0<=b?J<b:J>b;c=0<=b?++J:--J)q.push(e.readUInt16());return q}(),r=(this.length-e.pos+this.offset)/2,u=function(){var J,q;for(q=[],c=J=0;0<=r?J<r:J>r;c=0<=r?++J:--J)q.push(e.readUInt16());return q}(),c=k=0,I=s.length;k<I;c=++k)for(M=s[c],i=P=N=T[c];N<=M?P<=M:P>=M;i=N<=M?++P:--P)h[c]===0?o=i+f[c]:(o=u[h[c]/2+(i-N)-(b-c)]||0)!==0&&(o+=f[c]),this.codeMap[i]=65535&o}e.pos=v}return n.encode=function(e,t){var i,r,s,o,u,c,f,h,v,b,x,N,T,M,k,P,I,J,q,W,ee,j,ie,le,F,G,fe,ae,ge,K,Q,Z,de,z,me,R,H,te,ue,ce,Ae,_e,Ce,Be,We,et;switch(ae=new Du,o=Object.keys(e).sort(function(Qe,yt){return Qe-yt}),t){case"macroman":for(T=0,M=function(){var Qe=[];for(N=0;N<256;++N)Qe.push(0);return Qe}(),P={0:0},s={},ge=0,de=o.length;ge<de;ge++)P[Ce=e[r=o[ge]]]==null&&(P[Ce]=++T),s[r]={old:e[r],new:P[e[r]]},M[r]=P[e[r]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(M),{charMap:s,subtable:ae.data,maxGlyphID:T+1};case"unicode":for(G=[],v=[],I=0,P={},i={},k=f=null,K=0,z=o.length;K<z;K++)P[q=e[r=o[K]]]==null&&(P[q]=++I),i[r]={old:q,new:P[q]},u=P[q]-r,k!=null&&u===f||(k&&v.push(k),G.push(r),f=u),k=r;for(k&&v.push(k),v.push(65535),G.push(65535),le=2*(ie=G.length),j=2*Math.pow(Math.log(ie)/Math.LN2,2),b=Math.log(j/2)/Math.LN2,ee=2*ie-j,c=[],W=[],x=[],N=Q=0,me=G.length;Q<me;N=++Q){if(F=G[N],h=v[N],F===65535){c.push(0),W.push(0);break}if(F-(fe=i[F].new)>=32768)for(c.push(0),W.push(2*(x.length+ie-N)),r=Z=F;F<=h?Z<=h:Z>=h;r=F<=h?++Z:--Z)x.push(i[r].new);else c.push(fe-F),W.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*ie+2*x.length),ae.writeUInt16(0),ae.writeUInt16(le),ae.writeUInt16(j),ae.writeUInt16(b),ae.writeUInt16(ee),Ae=0,R=v.length;Ae<R;Ae++)r=v[Ae],ae.writeUInt16(r);for(ae.writeUInt16(0),_e=0,H=G.length;_e<H;_e++)r=G[_e],ae.writeUInt16(r);for(Be=0,te=c.length;Be<te;Be++)u=c[Be],ae.writeUInt16(u);for(We=0,ue=W.length;We<ue;We++)J=W[We],ae.writeUInt16(J);for(et=0,ce=x.length;et<ce;et++)T=x[et],ae.writeUInt16(T);return{charMap:i,subtable:ae.data,maxGlyphID:I+1}}},n}(),sS=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new db(t,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(t,i){var r,s;return i==null&&(i="macroman"),r=db.encode(t,i),(s=new Du).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),GR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),WR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(t.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),KR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="post",e.prototype.parse=function(t){var i,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)i=t.readByte(),s.push(this.names.push(t.readString(i)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 196608:break;case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(t.readUInt32());return f}).call(this)}},e}(),YR=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$R=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="name",e.prototype.parse=function(t){var i,r,s,o,u,c,f,h,v,b,x;for(t.pos=this.offset,t.readShort(),i=t.readShort(),c=t.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(f={},o=v=0,b=r.length;v<b;o=++v)s=r[o],t.pos=s.offset,h=t.readString(s.length),u=new YR(h,s),f[x=s.nameID]==null&&(f[x]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),JR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),ZR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,r,s,o,u,c,f;for(t.pos=this.offset,this.metrics=[],i=0,c=this.file.hhea.numberOfMetrics;0<=c?i<c:i>c;i=0<=c?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,v;for(v=[],i=h=0;0<=s?h<s:h>s;i=0<=s?++h:--h)v.push(t.readInt16());return v}(),this.widths=(function(){var h,v,b,x;for(x=[],h=0,v=(b=this.metrics).length;h<v;h++)o=b[h],x.push(o.advance);return x}).call(this),r=this.widths[this.widths.length-1],f=[],i=u=0;0<=s?u<s:u>s;i=0<=s?++u:--u)f.push(this.widths.push(r));return f},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),aS=[].slice,XR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,r,s,o,u,c,f,h,v,b;return t in this.cache?this.cache[t]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(i.pos=this.offset+r,u=(c=new Du(i.read(s))).readShort(),h=c.readShort(),b=c.readShort(),f=c.readShort(),v=c.readShort(),this.cache[t]=u===-1?new e7(c,h,b,f,v):new QR(c,u,h,b,f,v),this.cache[t]))},e.prototype.encode=function(t,i,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=i.length;c<f;c++)s=t[i[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},e}(),QR=function(){function n(e,t,i,r,s,o){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),e7=function(){function n(e,t,i,r,s){var o,u;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new Du(aS.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),t7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,io),e.prototype.tag="loca",e.prototype.parse=function(t){var i,r;return t.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<i.length&&i[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var h=new Array(4*r.length),v=0;v<r.length;++v)h[4*v+3]=255&r[v],h[4*v+2]=(65280&r[v])>>8,h[4*v+1]=(16711680&r[v])>>16,h[4*v]=(4278190080&r[v])>>24;return h},e}(),n7=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[t],e[t]=r[i];return e},n.prototype.glyphsFor=function(e){var t,i,r,s,o,u,c;for(r={},o=0,u=e.length;o<u;o++)r[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(i=r[s])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))i=c[s],r[s]=i;return r},n.prototype.encode=function(e,t){var i,r,s,o,u,c,f,h,v,b,x,N,T,M,k;for(r in i=sS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),x={0:0},k=i.charMap)x[(c=k[r]).old]=c.new;for(N in b=i.maxGlyphID,o)N in x||(x[N]=b++);return h=function(P){var I,J;for(I in J={},P)J[P[I]]=I;return J}(x),v=Object.keys(h).sort(function(P,I){return P-I}),T=function(){var P,I,J;for(J=[],P=0,I=v.length;P<I;P++)u=v[P],J.push(h[u]);return J}(),s=this.font.glyf.encode(o,T,x),f=this.font.loca.encode(s.offsets,T),M={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},n}();Gt.API.PDFObject=function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,r,s,o;if(Array.isArray(t))return"["+function(){var u,c,f;for(f=[],u=0,c=t.length;u<c;u++)i=t[u],f.push(e.convert(i));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in s=["<<"],t)o=t[r],s.push("/"+r+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();function oS(n,e,t,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,u=r.internal.getFontSize()/o,c=r.getLineHeightFactor?r.getLineHeightFactor():s,f=u*c,h=/\r\n|\r|\n/g,v="",b=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(v=typeof n=="string"?n.split(h):n,b=v.length||1),t+=u*(2-s),i.valign==="middle"?t-=b/2*f:i.valign==="bottom"&&(t-=b*f),i.halign==="center"||i.halign==="right"){var x=u;if(i.halign==="center"&&(x*=.5),v&&b>=1){for(var N=0;N<v.length;N++)r.text(v[N],e-r.getStringUnitWidth(v[N])*x,t),t+=f;return r}e-=r.getStringUnitWidth(n)*x}return i.halign==="justify"?r.text(n,e,t,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,e,t),r}var hb={},Yf=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:hb=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var i,r,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),u=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){u=e.fontStyle;var f=this.getFontList()[c];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(c,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var h=n.unifyColor(e.fillColor);h&&(i=this.jsPDFDocument).setFillColor.apply(i,h),h=n.unifyColor(e.textColor),h&&(r=this.jsPDFDocument).setTextColor.apply(r,h),h=n.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,i){return this.jsPDFDocument.splitTextToSize(e,t,i)},n.prototype.rect=function(e,t,i,r,s){return this.jsPDFDocument.rect(e,t,i,r,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return hb||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),K1=function(n,e){return K1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},K1(n,e)};function lS(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");K1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var uS=function(n){lS(e,n);function e(t){var i=n.call(this)||this;return i._element=t,i}return e}(Array);function i7(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function r7(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function $m(n,e,t){t.applyStyles(e,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(s){return t.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function cS(n,e,t,i){var r=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:s});var o=fS(r,!1);o&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),i.y-t.y,o)}function fS(n,e){var t=n>0,i=e||e===0;return t&&i?"DF":t?"S":i?"F":null}function mg(n,e){var t,i,r,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(i=n.top)!==null&&i!==void 0?i:e,right:(r=n.right)!==null&&r!==void 0?r:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function dS(n,e){var t=mg(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function s7(n,e,t,i,r){var s={},o=1.3333333333333333,u=K0(e,function(I){return r.getComputedStyle(I).backgroundColor});u!=null&&(s.fillColor=u);var c=K0(e,function(I){return r.getComputedStyle(I).color});c!=null&&(s.textColor=c);var f=o7(i,t);f&&(s.cellPadding=f);var h="borderTopColor",v=o*t,b=i.borderTopWidth;if(i.borderBottomWidth===b&&i.borderRightWidth===b&&i.borderLeftWidth===b){var x=(parseFloat(b)||0)/v;x&&(s.lineWidth=x)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/v,right:(parseFloat(i.borderRightWidth)||0)/v,bottom:(parseFloat(i.borderBottomWidth)||0)/v,left:(parseFloat(i.borderLeftWidth)||0)/v},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var N=K0(e,function(I){return r.getComputedStyle(I)[h]});N!=null&&(s.lineColor=N);var T=["left","right","center","justify"];T.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),T=["middle","bottom","top"],T.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var M=parseInt(i.fontSize||"");isNaN(M)||(s.fontSize=M/o);var k=a7(i);k&&(s.fontStyle=k);var P=(i.fontFamily||"").toLowerCase();return n.indexOf(P)!==-1&&(s.font=P),s}function a7(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function K0(n,e){var t=hS(n,e);if(!t)return null;var i=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function hS(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:hS(n.parentElement,e):t}function o7(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/e),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(u){return parseInt(u||"0")/i}),o=mg(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function pS(n,e,t,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var c=Object.keys(n.getFontList()),f=n.scaleFactor(),h=[],v=[],b=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:h,body:v,foot:b};for(var x=0;x<u.rows.length;x++){var N=u.rows[x],T=(o=(s=N==null?void 0:N.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),M=l7(c,f,t,N,i,r);M&&(T==="thead"?h.push(M):T==="tfoot"?b.push(M):v.push(M))}return{head:h,body:v,foot:b}}function l7(n,e,t,i,r,s){for(var o=new uS(i),u=0;u<i.cells.length;u++){var c=i.cells[u],f=t.getComputedStyle(c);if(r||f.display!=="none"){var h=void 0;s&&(h=s7(n,c,e,f,t)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:u7(c)})}}var v=t.getComputedStyle(i);if(o.length>0&&(r||v.display!=="none"))return o}function u7(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function c7(n,e,t){for(var i=0,r=[n,e,t];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function El(n,e,t,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),o=1;o<arguments.length;o++){var u=arguments[o];if(u!=null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(s[c]=u[c])}return s}function mS(n,e){var t=new Yf(n),i=t.getDocumentOptions(),r=t.getGlobalOptions();c7(r,i,e);var s=El({},r,i,e),o;typeof window<"u"&&(o=window);var u=f7(r,i,e),c=d7(r,i,e),f=h7(t,s),h=m7(t,s,o);return{id:e.tableId,content:h,hooks:c,styles:u,settings:f}}function f7(n,e,t){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(c){if(c==="columnStyles"){var f=n[c],h=e[c],v=t[c];i.columnStyles=El({},f,h,v)}else{var b=[n,e,t],x=b.map(function(N){return N[c]||{}});i[c]=El({},x[0],x[1],x[2])}},s=0,o=Object.keys(i);s<o.length;s++){var u=o[s];r(u)}return i}function d7(n,e,t){for(var i=[n,e,t],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var u=o[s];u.didParseCell&&r.didParseCell.push(u.didParseCell),u.willDrawCell&&r.willDrawCell.push(u.willDrawCell),u.didDrawCell&&r.didDrawCell.push(u.didDrawCell),u.willDrawPage&&r.willDrawPage.push(u.willDrawPage),u.didDrawPage&&r.didDrawPage.push(u.didDrawPage)}return r}function h7(n,e){var t,i,r,s,o,u,c,f,h,v,b,x,N=mg(e.margin,40/n.scaleFactor()),T=(t=p7(n,e.startY))!==null&&t!==void 0?t:N.top,M;e.showFoot===!0?M="everyPage":e.showFoot===!1?M="never":M=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var k;e.showHead===!0?k="everyPage":e.showHead===!1?k="never":k=(r=e.showHead)!==null&&r!==void 0?r:"everyPage";var P=(s=e.useCss)!==null&&s!==void 0?s:!1,I=e.theme||(P?"plain":"striped"),J=!!e.horizontalPageBreak,q=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:P,theme:I,startY:T,margin:N,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:k,showFoot:M,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:J,horizontalPageBreakRepeat:q,horizontalPageBreakBehaviour:(x=e.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function p7(n,e){var t=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var o=t.startPageNumber+t.pageNumber-1;s=o===r}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/i:null}function m7(n,e,t){var i=e.head||[],r=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(t){var u=pS(n,e.html,t,o,e.useCss)||{};i=u.head||i,r=u.body||i,s=u.foot||i}else console.error("Cannot parse html in non browser environment")}var c=e.columns||g7(i,r,s);return{columns:c,head:i,body:r,foot:s}}function g7(n,e,t){var i=n[0]||e[0]||t[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,u;Array.isArray(i)?u=i[parseInt(s)]:u=i[s],typeof u=="object"&&!Array.isArray(u)&&(o=(u==null?void 0:u.colSpan)||1);for(var c=0;c<o;c++){var f=void 0;Array.isArray(i)?f=r.length:f=s+(c>0?"_".concat(c):"");var h={dataKey:f};r.push(h)}}),r}var Y1=function(){function n(e,t,i){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=i,this.doc=e.getDocument()}return n}(),y7=function(n){lS(e,n);function e(t,i,r,s,o,u){var c=n.call(this,t,i,u)||this;return c.cell=r,c.row=s,c.column=o,c.section=s.section,c}return e}(Y1),v7=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,i,r,s,o){for(var u=0,c=t;u<c.length;u++){var f=c[u],h=new y7(e,this,i,r,s,o),v=f(h)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],v)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new Y1(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new Y1(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return t}else{var i=this.settings.margin;return e-i.left-i.right}},n}(),gS=function(){function n(e,t,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof uS&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=i,this.cells=r,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(i,r){var s;return Math.max(i,((s=t.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(i){var r=t.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var i=this;return e.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var u=t.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),f=c+u;return f>r?f:r},0)},n}(),yS=function(){function n(e,t,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=i,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(r=e.content)!==null&&r!==void 0?r:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",u=/\r\n|\r|\n/g;this.text=o.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/e*t,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=mg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),x7=function(){function n(e,t,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=i}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,i=0,r=e.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(t=Math.max(t,o.styles.cellWidth))}return t},n}();function b7(n,e){w7(n,e);var t=[],i=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,t.push(s)),i+=s.width});var r=e.getWidth(n.pageSize().width)-i;r&&(r=$1(t,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=$1(t,r,function(s){return s.minWidth})),r=Math.abs(r),!e.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),S7(e),A7(e,n),_7(e)}function w7(n,e){var t=n.scaleFactor(),i=e.settings.horizontalPageBreak,r=dS(n,e);e.allRows().forEach(function(s){for(var o=0,u=e.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f){var h=e.hooks.didParseCell;e.callCellHooks(n,h,f,s,c,null);var v=f.padding("horizontal");f.contentWidth=$m(f.text,f.styles,n)+v;var b=$m(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=b+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>r?(f.minWidth=r,f.wrappedWidth=r):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var x=10/t;f.minWidth=f.styles.minCellWidth||x,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,u=e.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f&&f.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,f.wrappedWidth),c.minWidth=Math.max(c.minWidth,f.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,f.minReadableWidth);else{var h=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},v=h.cellWidth||h.minCellWidth;v&&typeof v=="number"&&(c.minWidth=v,c.wrappedWidth=v)}f&&(f.colSpan>1&&!c.minWidth&&(c.minWidth=f.minWidth),f.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=f.minWidth))}})}function $1(n,e,t){for(var i=e,r=n.reduce(function(x,N){return x+N.wrappedWidth},0),s=0;s<n.length;s++){var o=n[s],u=o.wrappedWidth/r,c=i*u,f=o.width+c,h=t(o),v=f<h?h:f;e-=v-o.width,o.width=v}if(e=Math.round(e*1e10)/1e10,e){var b=n.filter(function(x){return e<0?x.width>t(x):!0});b.length&&(e=$1(b,e,t))}return e}function _7(n){for(var e={},t=1,i=n.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,u=n.columns;o<u.length;o++){var c=u[o],f=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(f)f.cell.height+=s.height,t=f.cell.colSpan,delete s.cells[c.index],f.left--,f.left<=1&&delete e[c.index];else{var h=s.cells[c.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var v=i.length-r,b=h.rowSpan>v?v:h.rowSpan;e[c.index]={cell:h,left:b,row:s}}}}}function S7(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var i=e[t],r=null,s=0,o=0,u=0;u<n.columns.length;u++){var c=n.columns[u];if(o-=1,o>1&&n.columns[u+1])s+=c.width,delete i.cells[c.index];else if(r){var f=r;delete i.cells[c.index],r=null,f.width=c.width+s}else{var f=i.cells[c.index];if(!f)continue;if(o=f.colSpan,s=0,f.colSpan>1){r=f,s+=c.width;continue}f.width=c.width+s}}}function A7(n,e){for(var t={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var s=r[i],o=0,u=n.columns;o<u.length;o++){var c=u[o],f=s.cells[c.index];if(f){e.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,h+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=pb(f.text,h,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=pb(f.text,h,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var v=f.styles.overflow(f.text,h);typeof v=="string"?f.text=[v]:f.text=v}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<b*f.rowSpan?t={height:b,count:f.rowSpan}:t&&t.count>0&&t.height>b&&(b=t.height),b>s.height&&(s.height=b)}}t.count--}}function pb(n,e,t,i,r){return n.map(function(s){return T7(s,e,t,i,r)})}function T7(n,e,t,i,r){var s=1e4*i.scaleFactor();if(e=Math.ceil(e*s)/s,e>=$m(n,t,i))return n;for(;e<$m(n+r,t,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function vS(n,e){var t=new Yf(n),i=C7(e,t.scaleFactor()),r=new v7(e,i);return b7(t,r),t.applyStyles(t.userStyles),r}function C7(n,e){var t=n.content,i=E7(t.columns);if(t.head.length===0){var r=mb(i,"head");r&&t.head.push(r)}if(t.foot.length===0){var r=mb(i,"foot");r&&t.foot.push(r)}var s=n.settings.theme,o=n.styles;return{columns:i,head:Y0("head",t.head,i,o,s,e),body:Y0("body",t.body,i,o,s,e),foot:Y0("foot",t.foot,i,o,s,e)}}function Y0(n,e,t,i,r,s){var o={},u=e.map(function(c,f){for(var h=0,v={},b=0,x=0,N=0,T=t;N<T.length;N++){var M=T[N];if(o[M.index]==null||o[M.index].left===0)if(x===0){var k=void 0;Array.isArray(c)?k=c[M.index-b-h]:k=c[M.dataKey];var P={};typeof k=="object"&&!Array.isArray(k)&&(P=(k==null?void 0:k.styles)||{});var I=k7(n,M,f,r,i,s,P),J=new yS(k,I,n);v[M.dataKey]=J,v[M.index]=J,x=J.colSpan-1,o[M.index]={left:J.rowSpan-1,times:x}}else x--,b++;else o[M.index].left--,x=o[M.index].times,h++}return new gS(c,f,n,v)});return u}function mb(n,e){var t={};return n.forEach(function(i){if(i.raw!=null){var r=N7(e,i.raw);r!=null&&(t[i.dataKey]=r)}}),Object.keys(t).length>0?t:null}function N7(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function E7(n){return n.map(function(e,t){var i,r;return typeof e=="object"?r=(i=e.dataKey)!==null&&i!==void 0?i:t:r=t,new x7(r,e,t)})}function k7(n,e,t,i,r,s,o){var u=r7(i),c;n==="head"?c=r.headStyles:n==="body"?c=r.bodyStyles:n==="foot"&&(c=r.footStyles);var f=El({},u.table,u[n],r.styles,c),h=r.columnStyles[e.dataKey]||r.columnStyles[e.index]||{},v=n==="body"?h:{},b=n==="body"&&t%2===0?El({},u.alternateRow,r.alternateRowStyles):{},x=i7(s),N=El({},x,f,b,v);return El(N,o)}function M7(n,e,t){var i;t===void 0&&(t={});var r=dS(n,e),s=new Map,o=[],u=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(b){var x=e.columns.find(function(N){return N.dataKey===b||N.index===b});x&&!s.has(x.index)&&(s.set(x.index,!0),o.push(x.index),u.push(e.columns[x.index]),r-=x.wrappedWidth)});for(var f=!0,h=(i=t==null?void 0:t.start)!==null&&i!==void 0?i:0;h<e.columns.length;){if(s.has(h)){h++;continue}var v=e.columns[h].wrappedWidth;if(f||r>=v)f=!1,o.push(h),u.push(e.columns[h]),r-=v;else break;h++}return{colIndexes:o,columns:u,lastIndex:h-1}}function L7(n,e){for(var t=[],i=0;i<e.columns.length;i++){var r=M7(n,e,{start:i});r.columns.length&&(t.push(r),i=r.lastIndex)}return t}function xS(n,e){var t=e.settings,i=t.startY,r=t.margin,s={x:r.left,y:i},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=i+r.bottom+o;if(t.pageBreak==="avoid"){var c=e.body,f=c.reduce(function(b,x){return b+x.height},0);u+=f}var h=new Yf(n);(t.pageBreak==="always"||t.startY!=null&&u>h.pageSize().height)&&(wS(h),s.y=r.top),e.callWillDrawPageHooks(h,s);var v=El({},s);e.startPageNumber=h.pageNumber(),t.horizontalPageBreak?P7(h,e,v,s):(h.applyStyles(h.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(b){return Il(h,e,b,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(b,x){var N=x===e.body.length-1;Jm(h,e,b,N,v,s,e.columns)}),h.applyStyles(h.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(b){return Il(h,e,b,s,e.columns)})),cS(h,e,v,s),e.callEndPageHooks(h,s),e.finalY=s.y,n.lastAutoTable=e,h.applyStyles(h.userStyles)}function P7(n,e,t,i){var r=L7(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(f,h){n.applyStyles(n.userStyles),h>0?_h(n,e,t,i,f.columns,!0):gb(n,e,i,f.columns),R7(n,e,t,i,f.columns),$0(n,e,i,f.columns)});else for(var o=-1,u=r[0],c=function(){var f=o;if(u){n.applyStyles(n.userStyles);var h=u.columns;o>=0?_h(n,e,t,i,h,!0):gb(n,e,i,h),f=yb(n,e,o+1,i,h),$0(n,e,i,h)}var v=f-o;r.slice(1).forEach(function(b){n.applyStyles(n.userStyles),_h(n,e,t,i,b.columns,!0),yb(n,e,o+1,i,b.columns,v),$0(n,e,i,b.columns)}),o=f};o<e.body.length-1;)c()}function gb(n,e,t,i){var r=e.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(s){return Il(n,e,s,t,i)})}function R7(n,e,t,i,r){n.applyStyles(n.userStyles),e.body.forEach(function(s,o){var u=o===e.body.length-1;Jm(n,e,s,u,t,i,r)})}function yb(n,e,t,i,r,s){n.applyStyles(n.userStyles),s=s??e.body.length;var o=Math.min(t+s,e.body.length),u=-1;return e.body.slice(t,o).forEach(function(c,f){var h=t+f===e.body.length-1,v=bS(n,e,h,i);c.canEntireRowFit(v,r)&&(Il(n,e,c,i,r),u=t+f)}),u}function $0(n,e,t,i){var r=e.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(s){return Il(n,e,s,t,i)})}function D7(n,e,t){var i=t.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),s=Math.floor((e-r)/i);return Math.max(0,s)}function I7(n,e,t,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var s=0,o=0,u=t.columns;o<u.length;o++){var c=u[o],f=n.cells[c.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new yS(f.raw,f.styles,f.section);h=El(h,f),h.text=[];var v=D7(f,e,i);f.text.length>v&&(h.text=f.text.splice(v,f.text.length));var b=i.scaleFactor(),x=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(b,x),f.contentHeight>=e&&(f.contentHeight=e,h.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),h.contentHeight=h.getContentHeight(b,x),h.contentHeight>s&&(s=h.contentHeight),r[c.index]=h}}var N=new gS(n.raw,-1,n.section,r,!0);N.height=s;for(var T=0,M=t.columns;T<M.length;T++){var c=M[T],h=N.cells[c.index];h&&(h.height=N.height);var f=n.cells[c.index];f&&(f.height=n.height)}return N}function O7(n,e,t,i){var r=n.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,u=r-o;e.section==="body"&&(u-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var c=e.getMinimumRowHeight(i.columns,n),f=c<t;if(c>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=e.hasRowSpan(i.columns),v=e.getMaxCellHeight(i.columns)>u;return v?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||i.settings.rowPageBreak==="avoid")}function Jm(n,e,t,i,r,s,o){var u=bS(n,e,i,s);if(t.canEntireRowFit(u,o))Il(n,e,t,s,o);else if(O7(n,t,u,e)){var c=I7(t,u,e,n);Il(n,e,t,s,o),_h(n,e,r,s,o),Jm(n,e,c,i,r,s,o)}else _h(n,e,r,s,o),Jm(n,e,t,i,r,s,o)}function Il(n,e,t,i,r){i.x=e.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var u=o[s],c=t.cells[u.index];if(!c){i.x+=u.width;continue}n.applyStyles(c.styles),c.x=i.x,c.y=i.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,c,t,u,i);if(f===!1){i.x+=u.width;continue}F7(n,c,i);var h=c.getTextPos();oS(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,u,i),i.x+=u.width}i.y+=t.height}function F7(n,e,t){var i=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=fS(i.lineWidth,i.fillColor);r&&n.rect(e.x,t.y,e.width,e.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),B7(n,e,t,i.lineWidth))}function B7(n,e,t,i){var r,s,o,u;i.top&&(r=t.x,s=t.y,o=t.x+e.width,u=t.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),c(i.top,r,s,o,u)),i.bottom&&(r=t.x,s=t.y+e.height,o=t.x+e.width,u=t.y+e.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),c(i.bottom,r,s,o,u)),i.left&&(r=t.x,s=t.y,o=t.x,u=t.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(u+=.5*i.bottom),c(i.left,r,s,o,u)),i.right&&(r=t.x+e.width,s=t.y,o=t.x+e.width,u=t.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(u+=.5*i.bottom),c(i.right,r,s,o,u));function c(f,h,v,b,x){n.getDocument().setLineWidth(f),n.getDocument().line(h,v,b,x,"S")}}function bS(n,e,t,i){var r=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(r+=e.getFootHeight(e.columns)),n.pageSize().height-i.y-r}function _h(n,e,t,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(u){return Il(n,e,u,i,r)}),e.callEndPageHooks(n,i);var o=e.settings.margin;cS(n,e,t,i),wS(n),e.pageNumber++,i.x=o.left,i.y=o.top,t.y=o.top,e.callWillDrawPageHooks(n,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return Il(n,e,u,i,r)}),n.applyStyles(n.userStyles))}function wS(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function z7(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],r=mS(this,i),s=vS(this,r);return xS(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,i,r){oS(e,t,i,r,this)},n.API.autoTableSetDefaults=function(e){return Yf.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Yf.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var i;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Yf(this),s=pS(r,e,window,t,!1),o=s.head,u=s.body,c=((i=o[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:c,rows:u,data:u}}}var J0;function j7(n,e){var t=mS(n,e),i=vS(n,t);xS(n,i)}try{if(typeof window<"u"&&window){var vb=window,xb=vb.jsPDF||((J0=vb.jspdf)===null||J0===void 0?void 0:J0.jsPDF);xb&&z7(xb)}}catch(n){console.error("Could not apply autoTable plugin",n)}const ea=15,bb=16,Z0=14,ba=10,tm=8,Is=1.5,vc=10,Ya=6,_S=4;let Ln,Li,Sh;async function V7(n){try{const e=await fetch(n);if(!e.ok)throw new Error(`Network response was not ok for image: ${e.status} ${e.statusText}`);const t=await e.blob();return new Promise((i,r)=>{const s=new FileReader;s.onloadend=()=>i(s.result),s.onerror=r,s.readAsDataURL(t)})}catch(e){return console.error("Error fetching or converting image:",e),null}}function qr(n=20){Ln+n>Li.internal.pageSize.height-ea&&(Li.addPage(),Ln=ea)}function nm(n){qr(Z0*Is+Ya),Li.setFontSize(Z0),Li.setFont(void 0,"bold"),Li.text(n,ea,Ln),Ln+=Z0*Is/Li.internal.scaleFactor,Ln+=Ya/2,Li.setFontSize(ba),Li.setFont(void 0,"normal")}function Xs(n,e=0,t={}){const{fontStyle:i="normal",fontSize:r=ba}=t;Li.setFont(void 0,i),Li.setFontSize(r),(Array.isArray(n)?n:Li.splitTextToSize(n,Sh-e)).forEach(o=>{qr(r*Is/Li.internal.scaleFactor),Li.text(o,ea+e,Ln),Ln+=r*Is/Li.internal.scaleFactor})}function U7(n,e=0){Li.setFontSize(ba),Li.setFont(void 0,"normal");let t=n.replace(/\r\n/g,`
`);const i="%%PARAGRAPH_BREAK%%";t=t.replace(/\n{2,}/g,i),t=t.replace(new RegExp("(?<![%\\n])\\n(?![%\\n])","g")," "),t.split(i).forEach(s=>{let o=s.trim();if(o===""){Ln+=ba*Is/Li.internal.scaleFactor*.5,qr(5);return}let u="",c=e;o.match(/^[-*+]\s+/)&&(u="•  ",o=o.replace(/^[-*+]\s+/,""),c=e+Li.getTextWidth(u)),o=o.replace(/(\*\*|__)(.*?)(\*\*|__)/g,"$2"),o=o.replace(/(\*|_)(.*?)(\*|_)/g,"$2"),Li.splitTextToSize(o,Sh-c).forEach((h,v)=>{qr(ba*Is/Li.internal.scaleFactor),v===0&&u&&Li.text(u,ea+e,Ln),Li.text(h,ea+c,Ln),Ln+=ba*Is/Li.internal.scaleFactor}),Ln+=_S/2})}function q7(n){if(!n)return"N/A";let e=n;return e=e.replace("Marketplace New Current","Marketplace Neu"),e=e.replace("Marketplace Used Current","Marketplace Gebraucht"),e=e.replace("Amazon Current","Amazon"),e=e.replace(" Current",""),e}async function J1(n,e,t,i,r,s){const o=new Gt;if(Li=o,Ln=ea,Sh=o.internal.pageSize.width-2*ea,o.setFontSize(bb),o.setFont(void 0,"bold"),o.text("Teilwertschätzungsprotokoll",o.internal.pageSize.width/2,Ln,{align:"center"}),Ln+=bb*Is/o.internal.scaleFactor+vc/2,o.setFontSize(ba),o.setFont(void 0,"normal"),o.splitTextToSize(`Produkt: ${n.name}`,Sh).forEach(j=>{qr(ba*Is/o.internal.scaleFactor),o.text(j,ea,Ln),Ln+=ba*Is/o.internal.scaleFactor}),Xs([`ASIN: ${n.id}`,`Teilwertschätzung erstellt am: ${new Date().toLocaleDateString("de-DE")}`]),Ln+=vc,qr(),n.imageUrl)try{const j=await V7(n.imageUrl);if(j){const ie=o.getImageProperties(j);let le=ie.width,F=ie.height;le>80&&(F=F*80/le,le=80),F>60&&(le=le*60/F,F=60);const G=(o.internal.pageSize.width-le)/2;qr(F+vc),o.addImage(j,ie.fileType,G,Ln,le,F),Ln+=F+vc,qr()}}catch{}nm("1. Basisdaten");const c=[];if(c.push(`ETV (Einkaufswert/Neupreis): ${n.etv!==void 0&&n.etv!==null?`€${n.etv.toFixed(2)}`:"N/A"}`),e){const j=q7(e.priceSource);c.push(`Referenzpreis (Keepa): €${e.price.toFixed(2)} (Quelle: ${j})`)}else c.push("Referenzpreis (Keepa): Nicht verfügbar");Xs(c,5),Ln+=Ya,qr(30);const f="Geschätzter Teilwert:",h=`€${s.Teilwert.toFixed(2)}`,v=ba+4;o.setFontSize(v),o.setFont(void 0,"bold");const b=o.getTextWidth(f),x=o.getTextWidth(h),N=b+x+5,T=5,M=N+2*T,k=v*Is/o.internal.scaleFactor+2*T,P=(o.internal.pageSize.width-M)/2,I=Ln;o.setDrawColor(100,100,100),o.setFillColor(240,240,240),o.rect(P,I,M,k,"FD");const J=P+T,q=I+T+v*(Is-.5)/o.internal.scaleFactor;if(o.setTextColor(0,0,0),o.text(f,J,q),o.setTextColor(0,100,0),o.text(h,J+b+5,q),o.setTextColor(0,0,0),Ln+=k+vc,o.setFontSize(ba),o.setFont(void 0,"normal"),qr(),t){nm("2. Marktanalyse");const j=(ie,le)=>{if(!le||Array.isArray(le)&&le.length===0&&typeof le!="string")return;qr(15),o.setFont(void 0,"bold"),Xs(ie+":",5),o.setFont(void 0,"normal");const F=Array.isArray(le)?le.join(", "):typeof le=="string"?le:"N/A";Xs(Li.splitTextToSize(F,Sh-15),10),Ln+=Ya/2};j("Zusammenfassung",t.marketAnalysis.summary),j("Wettbewerber",t.marketAnalysis.competitors),j("Verkaufsperformance",t.marketAnalysis.salesPerformance),j("Marktstimmung",t.marketAnalysis.marketSentiment),j("Typischer Neupreis",t.pricingAndSourcing.typicalNewPrice),j("Fernost-Beschaffungspotenzial",t.pricingAndSourcing.farEastSourcingPotential),j("Haltbarkeit",t.durabilityAndRisk.durability),j("Bekannte Probleme",t.durabilityAndRisk.commonIssues),Ln+=vc,qr()}nm("3. eBay Strategie & Ergebnisse"),i&&i.length>0?(o.setFont(void 0,"bold"),Xs("Verwendete eBay Suchbegriffe:",5),o.setFont(void 0,"normal"),i.forEach(j=>Xs(`•  ${j}`,10)),Ln+=Ya,qr(),i.forEach(j=>{qr(15),o.setFont(void 0,"bold"),Xs(`Ergebnisse für Suchbegriff: '${j}'`,5),o.setFont(void 0,"normal"),Ln+=_S/2;const ie=r[j];if(ie&&ie.value)try{const le=JSON.parse(ie.value);if(Array.isArray(le)&&le.length>0){qr(40);const F={0:{cellWidth:"auto",overflow:"linebreak"},1:{cellWidth:30},2:{halign:"right",cellWidth:30}},G=[["Artikelname","Verkaufsdatum","Preis (€)"]],fe=le.slice(0,5),ae=fe.map(ge=>[ge.name||"N/A",ge.sold_date||"N/A",typeof ge.price=="number"?ge.price.toFixed(2):"N/A"]);j7(o,{head:G,body:ae,startY:Ln,theme:"grid",styles:{fontSize:tm,cellPadding:1.5,halign:"left"},headStyles:{fillColor:[230,230,230],textColor:[0,0,0],fontStyle:"bold"},columnStyles:F,didDrawPage:ge=>{ge.cursor&&(Ln=ge.cursor.y)}}),o.lastAutoTable&&o.lastAutoTable.finalY?Ln=o.lastAutoTable.finalY+Ya:Ln+=(fe.length+1)*(tm*Is*1.5)+Ya,le.length>5&&(Xs(`... und ${le.length-5} weitere für diesen Begriff.`,10,{fontSize:tm}),Ln+=Ya/2)}else Xs("Keine strukturierten Verkaufsdaten für diesen Begriff gefunden.",10)}catch{Xs("Fehler beim Verarbeiten der Ergebnisse für diesen Begriff.",10)}else Xs("Keine Daten für diesen Begriff abgerufen oder vorhanden.",10);Ln+=Ya,qr()})):Xs("Keine spezifischen eBay Suchbegriffe definiert.",5),Ln+=vc,qr(),nm("4. Teilwertschätzung"),Ln+=Ya;const W=(j,ie)=>{qr(20),o.setFont(void 0,"bold"),Xs(j+":",5),Ln+=ba*Is/o.internal.scaleFactor*.2,o.setFont(void 0,"normal"),U7(ie,5),Ln+=Ya/2};W("Begründung des Teilwerts",s.Begruendung_Teilwert),W("Keepa Daten",s.keepa_Bericht),W("Fazit",s.mlFazit);const ee=o.internal.getNumberOfPages();for(let j=1;j<=ee;j++){o.setPage(j),o.setFontSize(tm),o.setTextColor(100);const ie=`Protokoll erstellt am ${new Date().toLocaleString("de-DE")}`,le=`Seite ${j} von ${ee}`;o.text(ie,ea,o.internal.pageSize.height-ea+7),o.text(le,o.internal.pageSize.width-ea-o.getTextWidth(le),o.internal.pageSize.height-ea+7)}return o.output("blob")}const SS=ne.createContext(void 0),H7=[{key:"preCheckKeepa",label:"Prüfe Keepa Daten (v2keepa)",status:"pending"},{key:"preCheckMarketAnalysis",label:"Prüfe Marktanalyse (v2marketAnalysisData)",status:"pending"},{key:"preCheckEbayTerms",label:"Prüfe eBay Suchbegriffe",status:"pending"},{key:"preCheckEbayResults",label:"Prüfe eBay Ergebnisse (Detail DB)",status:"pending"}],G7=[{key:"dataProvidedKeepa",label:"Keepa Daten (v2keepa)",status:"pending"},{key:"dataProvidedMarketAnalysis",label:"Marktanalyse (v2marketAnalysisData)",status:"pending"},{key:"dataProvidedEbay",label:"eBay Suchbegriffe & Ergebnisse",status:"pending"},{key:"callGeminiTeilwert",label:"Frage Gemini für Teilwertschätzung",status:"pending"},{key:"storeTeilwertResult",label:"Speichere Teilwert Ergebnis",status:"pending"},{key:"generatePdfReport",label:"Generiere PDF Bericht",status:"pending"},{key:"uploadPdfToCloud",label:"Lade PDF in Cloud hoch",status:"pending"},{key:"storePdfLinkInDb",label:"Speichere PDF Link",status:"pending"}],rh=(n,e)=>{const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const r of t){const s=n[r],o=e[r];if(Array.isArray(s)&&Array.isArray(o)){if(s.length!==o.length||!s.every((u,c)=>u===o[c]))return!1}else if(typeof s=="object"&&s!==null&&typeof o=="object"&&o!==null){const u=Object.keys(s),c=Object.keys(o);if(u.length!==c.length)return!1;for(const f of u)if(s[f]!==o[f])return!1}else if(s!==o||!Object.prototype.hasOwnProperty.call(e,r))return!1}return!0};function X0(n){if(!n)return null;const e={},t=[],i=[{rawKey:"amazon",detail:n.amazon,name:"Amazon"},{rawKey:"mnew",detail:n.mnew,name:"Marketplace New"},{rawKey:"mused",detail:n.mused,name:"Marketplace Used"}];for(const r of i)if(r.detail&&typeof r.detail=="object"){const s=r.detail,o=s.current;if(o&&typeof o.val=="number"&&o.val>0){const c=o.val/100;r.rawKey==="amazon"?e.amazonCurrent=c:r.rawKey==="mnew"?e.newCurrent=c:r.rawKey==="mused"&&(e.usedCurrent=c),t.push({price:c,sourceName:`${r.name} Current`})}const u=s.avg30;if(u&&typeof u.val=="number"&&u.val>0){const c=u.val/100;r.rawKey==="amazon"?e.amazonAvg30=c:r.rawKey==="mnew"?e.newAvg30=c:r.rawKey==="mused"&&(e.usedAvg30=c)}}if(t.length>0){const r=t.sort((s,o)=>{const u=c=>c.startsWith("Amazon")?1:c.startsWith("Marketplace New")?2:3;return u(s.sourceName)-u(o.sourceName)});return{price:r[0].price,priceSource:r[0].sourceName,allPrices:Object.keys(e).length>0?e:void 0}}return null}const W7=({children:n})=>{const{products:e,getProductById:t}=Vc(),{v2ApiToken:i,oracleWriteParUrl:r,geminiApiKey:s,isConfigSet:o}=Vu(),[u,c]=ne.useState({}),[f,h]=ne.useState({}),[v,b]=ne.useState(new Set),[x,N]=ne.useState({}),[T,M]=ne.useState({}),[k,P]=ne.useState({}),[I,J]=ne.useState(!1),[q,W]=ne.useState(null),[ee,j]=ne.useState(!1),[ie,le]=ne.useState(null),[F,G]=ne.useState(0),[fe,ae]=ne.useState(0),[ge,K]=ne.useState(0),[Q,Z]=ne.useState(0),[de,z]=ne.useState(0),[me,R]=ne.useState(0),[H,te]=ne.useState(0),[ue,ce]=ne.useState({}),[Ae,_e]=ne.useState({}),[Ce,Be]=ne.useState({}),[We,et]=ne.useState({}),[Qe,yt]=ne.useState(!1),[Re,se]=ne.useState(null),[ft,gt]=ne.useState(null),[Je,nt]=ne.useState(0),[it,rt]=ne.useState(null),[St,Rt]=ne.useState({}),[Mt,kt]=ne.useState({}),[It,Qt]=ne.useState(!1),[lt,qt]=ne.useState(null),[ut,ii]=ne.useState(null),[cn,Ii]=ne.useState(0),[zt,Cn]=ne.useState(null),[wr,fn]=ne.useState([]),[_r,Zn]=ne.useState(!1),[Sr,Oi]=ne.useState(null),[qn,Lt]=ne.useState({}),[on,Fr]=ne.useState({}),[nn,mi]=ne.useState({}),[cr,vt]=ne.useState({}),Bn=ne.useCallback(pe=>{c(Ne=>rh(Ne,pe)?Ne:pe)},[]),Sn=ne.useCallback(pe=>{h(Ne=>rh(Ne,pe)?Ne:pe),b(new Set(Object.keys(pe)))},[]),ri=ne.useCallback(pe=>{N(Ne=>rh(Ne,pe)?Ne:pe)},[]),Rn=ne.useCallback(pe=>{M(Ne=>rh(Ne,pe)?Ne:pe)},[]),Xn=ne.useCallback(pe=>{P(Ne=>rh(Ne,pe)?Ne:pe)},[]),gi=ne.useCallback(async(pe,Ne,Ue)=>{if(!i)return;const Ye={type:Ne,message:Ue,timestamp:new Date().toISOString()},Xe=await un.getKey(Lf,pe,i);let Ze={};if(!("error"in Xe)&&Xe.value)try{Ze=JSON.parse(Xe.value)}catch{}Ze[Ne]=Ye,await un.setKey(Lf,pe,JSON.stringify(Ze),i)},[i]),Wi=ne.useCallback(async pe=>i?!("error"in await un.deleteKey(Lf,pe,i)):!1,[i]),Pr=ne.useCallback(async pe=>{if(!i)return null;const Ne=await un.getKey(Lf,pe,i);if("error"in Ne||!Ne.value)return null;try{return JSON.parse(Ne.value)}catch{return null}},[i]),zn=ne.useCallback(async()=>{if(!i||!o){Oi("V2 API Token oder Konfiguration nicht gesetzt."),fn([]);return}Zn(!0),Oi(null);const pe=await un.getAllStatuses(Lf,i);if("error"in pe)Oi(pe.error),fn([]);else if(pe.data){const Ne=[];for(const Ue in pe.data){const Ye=t(Ue);try{const Xe=JSON.parse(pe.data[Ue]);Object.keys(Xe).length>0&&Ne.push({asin:Ue,productName:(Ye==null?void 0:Ye.name)||`ASIN: ${Ue}`,errors:Xe})}catch{}}fn(Ne.sort((Ue,Ye)=>Ue.productName.localeCompare(Ye.productName)))}else fn([]);Zn(!1)},[i,o,t]),Ki=pe=>{if(typeof pe.ebay=="string")try{const Ne=JSON.parse(pe.ebay);if(Array.isArray(Ne)&&(Ne.length===0||Ne.length>0&&typeof Ne[0]=="object"))return{...pe,ebay:Ne}}catch{}return pe},Ot=ne.useCallback((pe,Ne,Ue,Ye,Xe,Ze=v,ht=v2KeepaKeysInternal,ct=v2TeilwertKeysInternal,jt=v2PdfLinkKeysInternal)=>{let dn=0,hn=0,Bt=0,sn=0,si=0,bn=0,Qn=0;const fi={};for(const Nn in pe){Qn++;let Hn=pe[Nn];if(Hn){Hn=Ki(Hn),fi[Nn]=Hn;const Dt=Hn.ebay;(Dt===!0||Array.isArray(Dt)&&Dt.length>0)&&Bt++}else fi[Nn]=null}dn=ht.size,si=ct.size,hn=Ze.size,sn=0;for(const Nn in pe){const Hn=pe[Nn],Dt=Object.prototype.hasOwnProperty.call(Ne,Nn),ln=Object.prototype.hasOwnProperty.call(Ue,Nn),Ni=Object.prototype.hasOwnProperty.call(Ye,Nn);(Hn&&Object.keys(Hn).length===0&&!Dt&&!ln&&!Ni||Hn&&!ln&&!Ni&&!Hn.ebay&&!Dt)&&sn++}bn=jt.size,Bn(fi),Sn(Ne),Rn(Ue),Xn(Ye),ri(Xe),ae(dn),K(hn),Z(Bt),z(sn),R(si),te(bn),G(Qn)},[Bn,Sn,ri,Rn,Xn]);ne.useCallback((pe,Ne,Ue,Ye,Xe)=>{const Ze={};for(const dn in pe)try{let hn=JSON.parse(pe[dn]);if(Object.prototype.hasOwnProperty.call(hn,"marketAnalysisData")&&i){console.warn(`Migrating marketAnalysisData for ASIN ${dn}`);const{marketAnalysisData:Bt,...sn}=hn;hn=sn,un.setKey(Ds,dn,JSON.stringify(sn),i).catch(si=>console.error(`Error migrating marketAnalysisData for ${dn}:`,si))}Ze[dn]=hn}catch{Ze[dn]=null}const ht={};for(const dn in Ne)try{ht[dn]=X0(JSON.parse(Ne[dn]))}catch{ht[dn]=null}const ct={};for(const dn in Ue)try{ct[dn]=JSON.parse(Ue[dn])}catch{ct[dn]=null}const jt=new Set(Object.keys(Ye));b(jt),Ot(Ze,Ye,ht,ct,Xe,jt,v2KeepaKeysInternal,v2TeilwertKeysInternal,v2PdfLinkKeysInternal)},[i,Ot]);const Fi=ne.useCallback(async(pe=!0)=>{if(!o||!i||!s){W("Konfiguration unvollständig (Token, Gemini Key, etc.)."),Ot({},{},{},{},{}),pe&&zn();return}J(!0),W(null);const[Ne,Ue,Ye,Xe,Ze]=await Promise.all([un.getAllStatuses(Ds,i),un.listKeys(Nc,i),un.listKeys(Vf,i),un.listKeys(kc,i),pe?un.listKeys(Af,i):Promise.resolve(null)]),ht=!("error"in Ue)&&Ue.keys?Ue.keys:[],ct=!("error"in Ye)&&Ye.keys?Ye.keys:[],jt=!("error"in Xe)&&Xe.keys?Xe.keys:[],dn=pe&&Ze&&!("error"in Ze)&&Ze.keys?Ze.keys:[],hn={};if(!("error"in Ne)&&Ne.data)for(const Dt in Ne.data)try{hn[Dt]=JSON.parse(Ne.data[Dt])}catch{hn[Dt]=null}else"error"in Ne&&W(Ne.error);const Bt={};ht.forEach(Dt=>{f[Dt]?Bt[Dt]=f[Dt]:Bt[Dt]=[]});const sn={};ct.forEach(Dt=>{T[Dt]&&(sn[Dt]=T[Dt])});const si={};jt.forEach(Dt=>{k[Dt]&&(si[Dt]=k[Dt])});const bn={};dn.forEach(Dt=>{x[Dt]?bn[Dt]=x[Dt]:bn[Dt]=null});const Qn=new Set(ht),fi=new Set(ct),Nn=new Set(jt),Hn=new Set(dn);b(Qn),setV2KeepaKeysInternal(fi),setV2TeilwertKeysInternal(Nn),pe&&setV2PdfLinkKeysInternal(Hn),Ot(hn,Bt,sn,si,bn,Qn,fi,Nn,Hn),J(!1),pe&&await zn()},[i,o,s,zn,f,x,T,k]);ne.useEffect(()=>{o?Fi(!0):(c({}),h({}),N({}),M({}),P({}),Ot({},{},{},{},{}),fn([]),W(null),Oi(null),G(0),ae(0),K(0),Z(0),z(0),R(0),te(0))},[o,Fi,Ot]);const Yi=ne.useCallback(async()=>{if(!o||!i){le("Konfiguration (z.B. Token) nicht gesetzt.");return}if(e.length===0){le("Keine Produkte zum Initialisieren.");return}j(!0),le(null);const pe=e.map(Ue=>({key:Ue.id,value:JSON.stringify({})})),Ne=await un.setManyStatuses(Ds,pe,i);"error"in Ne?le(Ne.error):Ne.success?await Fi():le("Fehler bei der Initialisierung."),j(!1)},[i,o,e,Fi]),In=ne.useCallback(async pe=>{var Ne;if(!o||!i||!s)return _e(Ue=>({...Ue,[pe.id]:"Konfiguration (Token/Gemini Key) nicht gesetzt."})),!1;ce(Ue=>({...Ue,[pe.id]:!0})),_e(Ue=>({...Ue,[pe.id]:null}));try{const Ue=(Ne=T[pe.id])==null?void 0:Ne.price,Ye=await qx.getMarketAnalysisAndEbaySearchTerms(pe,Ue);if(Ye.error||!Ye.analysis)throw new Error(Ye.error||"Keine Analyse von Gemini.");const{analysis:Xe}=Ye;await un.setKey(bm,pe.id,JSON.stringify(Xe),i),await un.setKey(Nc,pe.id,JSON.stringify(Xe.ebaySearchTerms),i);const Ze=new Set(v);if(Ze.add(pe.id),b(Ze),Xe.ebaySearchTerms.length>0){const ct=Xe.ebaySearchTerms.map(jt=>({key:jt,value:JSON.stringify("")}));await un.setManyStatuses(jf,ct,i)}const ht={...u[pe.id]||{}};return delete ht.marketAnalysisData,delete ht.ebay,await un.setKey(Ds,pe.id,JSON.stringify(ht),i),Ot({...u,[pe.id]:ht},{...f,[pe.id]:Xe.ebaySearchTerms},T,k,x,Ze,v2KeepaKeysInternal,v2TeilwertKeysInternal,v2PdfLinkKeysInternal),ce(ct=>({...ct,[pe.id]:!1})),!0}catch(Ue){return _e(Ye=>({...Ye,[pe.id]:Ue.message||"Unbek. Fehler."})),ce(Ye=>({...Ye,[pe.id]:!1})),!1}},[i,o,s,u,f,x,T,k,Ot]),Qr=ne.useCallback(async pe=>{if(!o||!i)return et(Ne=>({...Ne,[pe]:"Token nicht gesetzt."})),!1;Be(Ne=>({...Ne,[pe]:!0})),et(Ne=>({...Ne,[pe]:null}));try{await un.deleteKey(bm,pe,i);let Ne=f[pe]||[];await un.deleteKey(Nc,pe,i);for(const Ze of Ne)await un.deleteKey(jf,Ze,i);let Ue={...u[pe]||{}};delete Ue.marketAnalysisData,delete Ue.ebay,await un.setKey(Ds,pe,JSON.stringify(Ue),i);const Ye={...f};delete Ye[pe];const Xe=new Set(v);return Xe.delete(pe),b(Xe),Ot({...u,[pe]:Ue},Ye,T,k,x,Xe,v2KeepaKeysInternal,v2TeilwertKeysInternal,v2PdfLinkKeysInternal),await Wi(pe),Be(Ze=>({...Ze,[pe]:!1})),!0}catch(Ne){return et(Ue=>({...Ue,[pe]:Ne.message||"Unbek. Fehler."})),Be(Ue=>({...Ue,[pe]:!1})),!1}},[i,o,u,f,x,T,k,Ot,Wi]),yi=ne.useCallback(async pe=>{if(!o||!i||!s){gt("Konfiguration unvollständig.");return}if(pe<=0){gt("Anzahl > 0.");return}yt(!0),gt(null),se(null),nt(0),rt(null);const Ne=e.filter(ht=>!f[ht.id]||f[ht.id].length===0);if(Ne.length===0){rt("Keine Produkte für Analyse."),yt(!1);return}const Ue=[...Ne].sort(()=>.5-Math.random()).slice(0,pe);let Ye=0,Xe=!1;for(let ht=0;ht<Ue.length;ht++){const ct=Ue[ht];se({current:ht+1,total:Ue.length,asin:ct.id,productName:ct.name}),await In(ct)?Ye++:Xe=!0}nt(Ye);const Ze=`Batch fertig. ${Ye} von ${Ue.length} analysiert.`;Xe?gt(Ze+" Einige Analysen fehlgeschlagen."):rt(Ze),yt(!1),se(null),await zn()},[i,o,s,e,f,In,zn]),$i=ne.useCallback(async pe=>{if(!o||!i)return null;k[pe];const Ne=await un.getKey(bm,pe,i);if("error"in Ne||!Ne.value)return null;try{return JSON.parse(Ne.value)}catch{return null}},[o,i,k]),Ci=ne.useCallback(async pe=>{if(!o||!i)return null;if(T[pe])return T[pe];const Ne=await un.getKey(Vf,pe,i);if("error"in Ne||!Ne.value)return null;try{const Ue=JSON.parse(Ne.value);return X0(Ue)}catch{return null}},[o,i,T]),Bs=ne.useCallback(async pe=>{if(!o||!i)return null;const Ne=await un.getKey(Nc,pe,i);if("error"in Ne||!Ne.value)return null;try{const Ue=JSON.parse(Ne.value);h(Xe=>({...Xe,[pe]:Ue}));const Ye=new Set(v);return Ye.add(pe),b(Ye),Ot(u,{...f,[pe]:Ue},T,k,x,Ye,v2KeepaKeysInternal,v2TeilwertKeysInternal,v2PdfLinkKeysInternal),Ue}catch{return null}},[o,i,f,u,T,k,x,Ot]),Ca=ne.useCallback(async pe=>{if(!o||!i)return null;const Ne=await un.getKey(Af,pe,i);if("error"in Ne||!Ne.value)return null;N(Ye=>({...Ye,[pe]:Ne.value}));const Ue=new Set(v2PdfLinkKeysInternal);return Ue.add(pe),setV2PdfLinkKeysInternal(Ue),Ot(u,f,T,k,{...x,[pe]:Ne.value},v,v2KeepaKeysInternal,v2TeilwertKeysInternal,Ue),Ne.value},[o,i,x,u,f,T,k,Ot]),ro=ne.useCallback(async()=>{if(!o||!i)return;const pe=await un.getAllStatuses(Nc,i);if("error"in pe||!pe.data)return;const Ne={};for(const Ye in pe.data)try{Ne[Ye]=JSON.parse(pe.data[Ye])}catch{Ne[Ye]=[]}const Ue=new Set(Object.keys(Ne));Sn(Ne),b(Ue),Ot(u,Ne,T,k,x,Ue,v2KeepaKeysInternal,v2TeilwertKeysInternal,v2PdfLinkKeysInternal)},[o,i,u,T,k,x,Ot,Sn]),Yo=ne.useCallback(async()=>{if(!o||!i)return;const pe=await un.getAllStatuses(Vf,i);if("error"in pe||!pe.data)return;const Ne={};for(const Ye in pe.data)try{Ne[Ye]=X0(JSON.parse(pe.data[Ye]))}catch{Ne[Ye]=null}const Ue=new Set(Object.keys(pe.data));Rn(Ne),setV2KeepaKeysInternal(Ue),Ot(u,f,Ne,k,x,v,Ue,v2TeilwertKeysInternal,v2PdfLinkKeysInternal)},[o,i,u,f,k,x,Ot,Rn]),ps=ne.useCallback(async()=>{if(!o||!i)return;const pe=await un.getAllStatuses(kc,i);if("error"in pe||!pe.data)return;const Ne={};for(const Ye in pe.data)try{Ne[Ye]=JSON.parse(pe.data[Ye])}catch{Ne[Ye]=null}const Ue=new Set(Object.keys(pe.data));Xn(Ne),setV2TeilwertKeysInternal(Ue),Ot(u,f,T,Ne,x,v,v2KeepaKeysInternal,Ue,v2PdfLinkKeysInternal)},[o,i,u,f,T,x,Ot,Xn]),As=ne.useCallback(async()=>{if(!o||!i)return;const pe=await un.getAllStatuses(Af,i);if("error"in pe||!pe.data)return;const Ne=new Set(Object.keys(pe.data));ri(pe.data),setV2PdfLinkKeysInternal(Ne),Ot(u,f,T,k,pe.data,v,v2KeepaKeysInternal,v2TeilwertKeysInternal,Ne)},[o,i,u,f,T,k,Ot,ri]),Bi=ne.useCallback(async(pe,Ne)=>{if(!o||!i||Ne.length===0)return{};const Ue={};for(const Ye of Ne){const Xe=await un.getKey(jf,Ye,i);let Ze=null;if("error"in Xe||(Ze=Xe.value),"error"in Xe||!Ze)Ue[Ye]={listings:[],rawValue:Ze};else try{const ht=JSON.parse(Ze);Array.isArray(ht)&&ht.every(ct=>typeof ct=="object"&&Object.prototype.hasOwnProperty.call(ct,"name"))?Ue[Ye]={listings:ht,rawValue:Ze}:Ue[Ye]={listings:[],rawValue:Ze}}catch{Ue[Ye]={listings:[],rawValue:Ze}}}return Ue},[o,i]),xt=ne.useCallback(async(pe,Ne,Ue,Ye)=>{if(!o||!i||!s)return kt(Xe=>({...Xe,[pe.id]:"Konfiguration unvollständig."})),null;kt(Xe=>({...Xe,[pe.id]:null}));try{const Xe=await qx.estimateTeilwertForReport(pe,Ne,Ue,Ye);if(Xe.error||!Xe.estimation)throw new Error(Xe.error||"Keine Teilwertschätzung von Gemini.");return Xe.estimation}catch(Xe){const Ze=Xe instanceof Error?Xe.message:"Unbek. Fehler.";return kt(ht=>({...ht,[pe.id]:Ze})),await gi(pe.id,"TeilwertGeminiFailed",Ze),null}},[o,i,s,gi]),At=pe=>{const Ne={};for(const Ue in pe)Object.prototype.hasOwnProperty.call(pe,Ue)&&(Ne[Ue]={value:pe[Ue].rawValue,loading:!1,error:null});return Ne},yn=ne.useCallback(async(pe,Ne,Ue,Ye,Xe)=>{if(!i||!r||!s)return{success:!1,error:"Konfiguration unvollständig (Token, Oracle URL, Gemini Key)."};Rt(ht=>({...ht,[pe.id]:!0}));let Ze=null;try{if(Xe("callGeminiTeilwert","inProgress"),Ze=await xt(pe,Ne,Ue,Ye),!Ze){const si=Mt[pe.id]||"Gemini Teilwertschätzung fehlgeschlagen.";throw Xe("callGeminiTeilwert","failure",si),new Error(si)}Xe("callGeminiTeilwert","success"),Xe("storeTeilwertResult","inProgress"),await un.setKey(kc,pe.id,JSON.stringify(Ze),i);const ct={...u[pe.id]||{},Teilwert:Ze.Teilwert};await un.setKey(Ds,pe.id,JSON.stringify(ct),i);const jt=new Set(v2TeilwertKeysInternal);jt.add(pe.id),setV2TeilwertKeysInternal(jt),Xe("storeTeilwertResult","success"),Ot({...u,[pe.id]:ct},f,T,{...k,[pe.id]:Ze},x,v,v2KeepaKeysInternal,jt,v2PdfLinkKeysInternal),await Wi(pe.id),Xe("generatePdfReport","inProgress");const dn=At(Ue),hn=await J1(pe,Ye,Ne,(Ne==null?void 0:Ne.ebaySearchTerms)||[],dn,Ze);Xe("generatePdfReport","success"),Xe("uploadPdfToCloud","inProgress");const{publicUrl:Bt}=await Gx.uploadPdfToOracle(hn,pe.id,r);if(!Bt)throw new Error("PDF Upload zur Cloud fehlgeschlagen, keine URL erhalten.");Xe("uploadPdfToCloud","success"),Xe("storePdfLinkInDb","inProgress"),await un.setKey(Af,pe.id,Bt,i);const sn=new Set(v2PdfLinkKeysInternal);sn.add(pe.id),setV2PdfLinkKeysInternal(sn),Xe("storePdfLinkInDb","success"),Ot({...u,[pe.id]:ct},f,T,{...k,[pe.id]:Ze},{...x,[pe.id]:Bt},v,v2KeepaKeysInternal,jt,sn)}catch(ht){const ct=ht instanceof Error?ht.message:"Unbekannter Fehler.";return await gi(pe.id,"CreateTeilwertPdfUploadFailed",ct),Rt(jt=>({...jt,[pe.id]:!1})),await zn(),{success:!1,error:ct}}},[i,r,s,xt,u,f,x,T,k,Ot,Mt,Wi,gi,zn]),rn=ne.useCallback(async pe=>{if(!o||!i)return kt(Ne=>({...Ne,[pe]:"Token nicht gesetzt."})),!1;kt(Ne=>({...Ne,[pe]:null}));try{await un.deleteKey(kc,pe,i);let Ne=u[pe],Ue=!1;if(Ne&&Object.prototype.hasOwnProperty.call(Ne,"Teilwert")){const{Teilwert:jt,...dn}=Ne;Ne=dn,Ue=!0}Ue&&Ne&&await un.setKey(Ds,pe,JSON.stringify(Ne),i);const Ye=await un.deleteKey(Af,pe,i);let Xe=x;"error"in Ye||(Xe={...x},delete Xe[pe]);const Ze={...k};delete Ze[pe];const ht=new Set(v2PdfLinkKeysInternal);ht.delete(pe),setV2PdfLinkKeysInternal(ht);const ct=new Set(v2TeilwertKeysInternal);return ct.delete(pe),setV2TeilwertKeysInternal(ct),Ot(Ue?{...u,[pe]:Ne}:u,f,T,Ze,Xe,v,v2KeepaKeysInternal,ct,ht),await Wi(pe),await zn(),!0}catch(Ne){const Ue=Ne instanceof Error?Ne.message:"Unbek. Fehler.";return kt(Ye=>({...Ye,[pe]:Ue})),await zn(),!1}},[o,i,u,f,x,T,k,Ot,Wi,zn]),ti=ne.useCallback(async pe=>{var dn;if(!o||!i||!r||!s){ii("Konfiguration unvollständig.");return}Qt(!0),ii(null),qt(null),Ii(0),Cn(null);const Ne=e.filter(hn=>{const Bt=u[hn.id],sn=f[hn.id]&&f[hn.id].length>0,si=!k[hn.id],bn=!!T[hn.id],Qn=Bt==null?void 0:Bt.ebay,fi=Qn===!0||Array.isArray(Qn)&&Qn.length>0;return sn&&si&&bn&&fi});if(Ne.length===0){Cn("Keine Produkte für Teilwertschätzung streng qualifiziert (MA, Keepa & eBay Status vorhanden, Teilwert fehlt)."),Qt(!1);return}const Ue=[...Ne].sort(()=>.5-Math.random()).slice(0,pe);let Ye=[],Xe=0;for(let hn=0;hn<Ue.length;hn++){const Bt=Ue[hn];let sn=JSON.parse(JSON.stringify(H7));const si=(Bt==null?void 0:Bt.name)||`ASIN: ${Bt.id}`,bn=(ei,An,ms)=>{sn=sn.map(Ar=>Ar.key===ei?{...Ar,status:An,error:ms}:Ar),qt(Ar=>({...Ar,current:hn+1,total:Ue.length,asin:Bt.id,productName:si,phase:"pre-checking",currentStepDetails:sn}))};qt({current:hn+1,total:Ue.length,asin:Bt.id,productName:si,phase:"pre-checking",currentStepDetails:sn}),await Wi(Bt.id);let Qn=!0,fi=[];bn("preCheckKeepa","inProgress");const Nn=T[Bt.id]||await Ci(Bt.id);if(Nn)bn("preCheckKeepa","success");else{const ei="Keepa Details fehlen (Detail DB v2keepa / Context)";bn("preCheckKeepa","failure",ei),fi.push(ei),Qn=!1}bn("preCheckMarketAnalysis","inProgress");const Hn=await $i(Bt.id);if(Hn)bn("preCheckMarketAnalysis","success");else{const ei="MA Details fehlen (Detail DB v2marketAnalysisData)";bn("preCheckMarketAnalysis","failure",ei),fi.push(ei),Qn=!1}const Dt=f[Bt.id]||[];if(Dt.length>0)bn("preCheckEbayTerms","success");else{const ei="eBay Begriffe fehlen (Context/DB v2searchterms)";bn("preCheckEbayTerms","failure",ei),fi.push(ei),Qn=!1}let ln={};if(Dt.length>0)if(bn("preCheckEbayResults","inProgress"),ln=await Bi(Bt.id,Dt),Dt.every(An=>{var ms,Ar,Vt,so,$o,Rr,Wr;return((Ar=(ms=ln[An])==null?void 0:ms.listings)==null?void 0:Ar.length)>0||((Vt=ln[An])==null?void 0:Vt.rawValue)&&(($o=(so=ln[An])==null?void 0:so.rawValue)==null?void 0:$o.trim())!==""&&((Wr=(Rr=ln[An])==null?void 0:Rr.rawValue)==null?void 0:Wr.trim())!=='""'}))bn("preCheckEbayResults","success");else{const An="eBay Ergebnisse unvollständig/leer (Detail DB v2ebayresults)";bn("preCheckEbayResults","failure",An),fi.push(An),Qn=!1}else Qn&&(bn("preCheckEbayResults","failure","Keine Suchbegriffe für Ergebnisprüfung"),fi.push("eBay Begriffe für Ergebnisprüfung fehlen"),Qn=!1);const Ni={product:Bt,readinessScore:0,keepaData:Nn,marketAnalysis:Hn,ebaySearchTerms:Dt,ebayResults:ln,canProcess:Qn,skipReason:fi.join("; ")};Ni.canProcess?Ye.push(Ni):(Xe++,await gi(Bt.id,"TWBatchSkip_DetailedDataMissing",`Übersprungen (Detailprüfung): ${Ni.skipReason||"Unbekannter Grund"}`))}const Ze=Ye;if(Ze.length===0){Cn(`Keine der ${Ue.length} ausgewählten Produkte bestand die Detailprüfung. ${Xe} Produkt(e) insgesamt übersprungen.`),Qt(!1),await zn();return}let ht=0,ct=!1;for(let hn=0;hn<Ze.length;hn++){const{product:Bt,keepaData:sn,marketAnalysis:si,ebaySearchTerms:bn,ebayResults:Qn}=Ze[hn],fi=(Bt==null?void 0:Bt.name)||`ASIN: ${Bt.id}`;let Nn=JSON.parse(JSON.stringify(G7));const Hn=(ln,Ni,ei)=>{Nn=Nn.map(An=>An.key===ln?{...An,status:Ni,error:ei}:An),qt(An=>({...An,current:hn+1,total:Ze.length,asin:Bt.id,productName:fi,phase:"processing-teilwert",currentStepDetails:Nn}))};qt({current:hn+1,total:Ze.length,asin:Bt.id,productName:fi,phase:"processing-teilwert",currentStepDetails:Nn}),Hn("dataProvidedKeepa",sn?"success":"failure",sn?void 0:"Fehlten bei Detail-Prüfung"),Hn("dataProvidedMarketAnalysis",si?"success":"failure",si?void 0:"Fehlten bei Detail-Prüfung");const Dt=bn.length>0&&Object.values(Qn).some(ln=>ln.listings.length>0||ln.rawValue&&ln.rawValue.trim()!==""&&ln.rawValue.trim()!=='""');if(Hn("dataProvidedEbay",Dt?"success":"failure",Dt?void 0:"eBay Daten unvollständig bei Detail-Prüfung"),!sn||!si||!Dt){ct=!0,await gi(Bt.id,"TWBatch_InternalPreCheckFailed","Interner Fehler: Produkt für Verarbeitung markiert, aber Daten doch nicht komplett."),Nn=Nn.map(ln=>ln.status==="pending"?{...ln,status:"warning",error:"Übersprungen wegen internem Vorprüfungsfehler"}:ln),qt(ln=>ln?{...ln,currentStepDetails:Nn}:null);continue}try{const ln=await yn(Bt,si,Qn,sn,Hn);if(ln.success)ht++;else throw new Error(ln.error||"Teilwert/PDF-Erstellung fehlgeschlagen.")}catch(ln){ct=!0;const Ni=((dn=Nn.find(ei=>ei.status==="inProgress"))==null?void 0:dn.key)||"callGeminiTeilwert";Hn(Ni,"failure",ln instanceof Error?ln.message:String(ln)),Nn=Nn.map(ei=>ei.status==="pending"&&Nn.some(An=>An.status==="failure")?{...ei,status:"warning",error:"Nicht ausgeführt wegen vorherigem Fehler"}:ei),qt(ei=>ei?{...ei,currentStepDetails:Nn}:null)}}Ii(ht);let jt=`Batch fertig. ${ht} von ${Ze.length} Produkten erfolgreich Teilwert geschätzt (ursprünglich ${Ue.length} ausgewählt, ${Xe} bei Detailprüfung übersprungen).`;ct?ii(jt+" Einige Schätzungen fehlgeschlagen."):Cn(jt),Qt(!1),await zn()},[o,i,r,s,e,f,u,T,k,$i,Ci,Bi,yn,gi,Wi,zn,t]),bi=ne.useCallback(async pe=>{if(!o||!i)return Fr(Ne=>({...Ne,[pe]:"Token nicht gesetzt."})),!1;Lt(Ne=>({...Ne,[pe]:!0})),Fr(Ne=>({...Ne,[pe]:null}));try{let Ne=!1,Ue=u[pe]||{};const Ye=await un.getKey(Ds,pe,i);if(!("error"in Ye)&&Ye.value)try{Ue=JSON.parse(Ye.value)}catch{}let Xe={...Ue};const Ze=T[pe]||await Ci(pe);Ze&&Ze.price!==void 0?Xe.keepa!==Ze.price&&(Xe.keepa=Ze.price,Ne=!0):Object.prototype.hasOwnProperty.call(Xe,"keepa")&&(delete Xe.keepa,Ne=!0);const ht=f[pe]||[],ct=ht.length>0;let jt=!1;if(ht.length>0){const sn=await Bi(pe,ht);ht.some(bn=>{var Qn,fi,Nn,Hn,Dt,ln,Ni;return((fi=(Qn=sn[bn])==null?void 0:Qn.listings)==null?void 0:fi.length)>0||((Nn=sn[bn])==null?void 0:Nn.rawValue)&&((Dt=(Hn=sn[bn])==null?void 0:Hn.rawValue)==null?void 0:Dt.trim())!==""&&((Ni=(ln=sn[bn])==null?void 0:ln.rawValue)==null?void 0:Ni.trim())!=='""'})&&(jt=!0)}jt?Xe.ebay!==!0&&(Xe.ebay=!0,Ne=!0):Object.prototype.hasOwnProperty.call(Xe,"ebay")&&(delete Xe.ebay,Ne=!0);const dn=k[pe];let hn=!1;dn&&typeof dn.Teilwert=="number"?(Xe.Teilwert!==dn.Teilwert&&(Xe.Teilwert=dn.Teilwert,Ne=!0),hn=!0):Object.prototype.hasOwnProperty.call(Xe,"Teilwert")&&(delete Xe.Teilwert,Ne=!0),hn&&await Wi(pe)&&await zn();const Bt=x[pe];if(Ne){const sn=await un.setKey(Ds,pe,JSON.stringify(Xe),i);if("error"in sn)throw new Error(`Fehler Speichern Status: ${sn.error}`)}return Ot(Ne?{...u,[pe]:Xe}:u,f,T,k,x),Lt(sn=>({...sn,[pe]:!1})),!0}catch(Ne){const Ue=Ne instanceof Error?Ne.message:"Unbek. Fehler.";return Fr(Ye=>({...Ye,[pe]:Ue})),Lt(Ye=>({...Ye,[pe]:!1})),!1}},[o,i,u,f,x,T,k,Ci,Bi,Wi,Ot,zn]),Ft=ne.useCallback(async pe=>{if(!i||!r)return{error:"Konfiguration unvollständig (Token, Oracle URL)."};mi(Ne=>({...Ne,[pe]:!0})),vt(Ne=>({...Ne,[pe]:null}));try{const Ne=t(pe);if(!Ne)throw new Error("Produkt nicht gefunden.");const Ue=T[pe]||await Ci(pe),Ye=await $i(pe),Xe=k[pe];if(!Xe)throw new Error("Teilwertdaten nicht gefunden oder Fehler beim Abrufen.");let Ze={};Ye!=null&&Ye.ebaySearchTerms&&Ye.ebaySearchTerms.length>0&&(Ze=await Bi(pe,Ye.ebaySearchTerms));const ht=At(Ze),ct=await J1(Ne,Ue,Ye,(Ye==null?void 0:Ye.ebaySearchTerms)||[],ht,Xe),{publicUrl:jt}=await Gx.uploadPdfToOracle(ct,pe,r);if(!jt)throw new Error("PDF Upload fehlgeschlagen: Keine URL erhalten.");return await un.setKey(Af,pe,jt,i),Ot(u,f,T,k,{...x,[pe]:jt}),mi(dn=>({...dn,[pe]:!1})),{publicUrl:jt}}catch(Ne){const Ue=Ne instanceof Error?Ne.message:"Fehler beim manuellen PDF Upload.";return vt(Ye=>({...Ye,[pe]:Ue})),mi(Ye=>({...Ye,[pe]:!1})),{error:Ue}}},[i,r,t,Ci,$i,Bi,u,f,x,T,k,Ot]);return S.jsx(SS.Provider,{value:{v2Statuses:u,v2AllSearchTerms:f,v2PdfLinks:x,v2ProcessedKeepaData:T,v2GeminiTeilwerte:k,isLoading:I,error:q,isInitializing:ee,initializationError:ie,totalProductsInV2DB:F,countKeepaPresent:fe,countMarketAnalysisPresent:ge,countEbayProductDataPresent:Q,countInitializedOnly:de,countTeilwertEstimated:me,countPdfLinksPresent:H,isGeneratingAnalysis:ue,analysisGenerationError:Ae,isDeletingAnalysis:Ce,deleteAnalysisError:We,isBatchProcessing:Qe,batchProcessProgress:Re,batchProcessError:ft,batchProcessedCount:Je,batchProcessSuccessMessage:it,isEstimatingTeilwert:St,setIsEstimatingTeilwert:Rt,teilwertEstimationError:Mt,setTeilwertEstimationError:kt,isBatchEstimatingTeilwert:It,batchTeilwertEstimationProgress:lt,batchTeilwertEstimationError:ut,batchTeilwertEstimatedCount:cn,batchTeilwertSuccessMessage:zt,v2ProductErrors:wr,isLoadingErrors:_r,errorsFetchError:Sr,fetchV2ProcessErrors:zn,isReconcilingStatus:qn,reconcileStatusError:on,reconcileProductV2Status:bi,isUploadingPdfManual:nn,pdfManualUploadError:cr,uploadGeneratedPdfToCloud:Ft,createAndStoreTeilwertWithPdf:yn,fetchV2Statuses:Fi,initializeV2Database:Yi,generateMarketAnalysisForProduct:In,deleteMarketAnalysisForProduct:Qr,batchGenerateMarketAnalysis:yi,fetchMarketAnalysisForProduct:$i,fetchEbayResultsForProduct:Bi,fetchKeepaDataForProduct:Ci,fetchSearchTermsForProduct:Bs,fetchPdfLinkForProduct:Ca,fetchAllSearchTerms:ro,fetchAllKeepaData:Yo,fetchAllTeilwertData:ps,fetchAllPdfLinks:As,deleteTeilwertEstimation:rn,batchGenerateTeilwertEstimations:ti,setProcessError:gi,clearProcessErrors:Wi,getProcessErrors:Pr},children:n})},qc=()=>{const n=ne.useContext(SS);if(n===void 0)throw new Error("useV2Process must be used within a V2ProcessProvider");return n},K7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})]}),AS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5M12 9.75v4.5m-4.5-4.5H7.5m9 4.5h-1.5m-4.5 0a.75.75 0 01.75-.75h3a.75.75 0 01.75.75M7.5 12a4.5 4.5 0 014.5-4.5m4.5 4.5a4.5 4.5 0 01-4.5 4.5M12 6.75V3m0 18v-3.75"})]}),Y7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})]}),P2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 6.75h17.25M3.375 12h17.25m-17.25 5.25h17.25M4.125 6.375l.375-.75m0 0l.375-.75M4.5 5.625l-.375-.75m.375.75L4.125 5m0 12.75l.375-.75m0 0l.375-.75m-.75.75L4.125 17m0-5.625l.375-.75m0 0l.375-.75m-.75.75L4.125 10.5"})]}),R2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})]}),Hh=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})]}),Pc=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})]}),na=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),If=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Fo=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})]}),Zm=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L14.25 12l1.5-1.75L17 8.5l1.25 1.75L19.75 12l-1.5 1.75z"})]}),$7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),wa=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 100 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Iu=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),J7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zM7 10h10M7 13h5"})]}),wb=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{fillRule:"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 01.628.74v2.288a2.25 2.25 0 01-.659 1.59l-4.682 4.683a2.25 2.25 0 00-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 018 18.25v-5.757a2.25 2.25 0 00-.659-1.59L2.659 6.22A2.25 2.25 0 012 4.629V2.34a.75.75 0 01.628-.74z",clipRule:"evenodd"})]}),TS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})]}),CS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12V9A2.25 2.25 0 006 6.75H5.25A2.25 2.25 0 003 9v10.5A2.25 2.25 0 005.25 21.75h13.5A2.25 2.25 0 0021 19.5V12a2.25 2.25 0 00-2.25-2.25H9.75Z"})]}),_b=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 10.5c0 1.679-.698 3.213-1.836 4.316-.763.746-1.715 1.255-2.774 1.495L12 21l-4.39-4.689c-1.06-.24-2.011-.75-2.774-1.495C3.698 13.713 3 12.179 3 10.5c0-4.142 4.03-7.5 9-7.5s9 3.358 9 7.5z"})]}),NS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375 3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228m19.5 0a3 3 0 01-3 3H5.25a3 3 0 01-3-3m19.5 0a3 3 0 00-3-3H5.25a3 3 0 00-3 3m16.5 0h.008v.008h-.008v-.008zm-3 0h.008v.008h-.008v-.008z"})]}),Z7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})]}),X7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})]}),Q7=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.692-3.692c-.092-.092-.19-.176-.294-.252l-2.148-.93M7.5 15.25l-1.07-1.07a4.502 4.502 0 010-6.364l1.07-1.07m5.657 7.433l1.07-1.07a4.502 4.502 0 000-6.364l-1.07-1.07m-4.587 9.433c.092.092.19.176.294.252l2.148.93M10.923 2.25l-3.692 3.692c.092.092.19.176.294.252l2.148.93V2.25zM15.75 11.25c0 .621-.504 1.125-1.125 1.125S13.5 11.871 13.5 11.25s.504-1.125 1.125-1.125S15.75 10.629 15.75 11.25zM7.5 7.5c0 .621-.504 1.125-1.125 1.125S5.25 8.121 5.25 7.5s.504-1.125 1.125-1.125S7.5 6.879 7.5 7.5z"})]}),Xm=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.243.096 3.298.26m-3.298-.26l1.012-3.135A1.125 1.125 0 017.926 2.25h8.148a1.125 1.125 0 011.128.879l1.012 3.135m0 0M6.33 5.79m11.34 0"})]}),D2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h12A2.25 2.25 0 0120.25 6v1.5A2.25 2.25 0 0118 9.75H6A2.25 2.25 0 013.75 7.5V6z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12A2.25 2.25 0 016 9.75h12A2.25 2.25 0 0120.25 12v1.5A2.25 2.25 0 0118 15.75H6A2.25 2.25 0 013.75 13.5V12z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 18A2.25 2.25 0 016 15.75h12A2.25 2.25 0 0120.25 18v1.5A2.25 2.25 0 0118 21.75H6A2.25 2.25 0 013.75 19.5V18z"})]}),ES=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.975A18.723 18.723 0 0012 3c-3.536 0-6.84-1.071-9.75-2.925m19.5 0A18.723 18.723 0 0112 21c-3.536 0-6.84-1.071-9.75-2.925M9 9.75H3.75l2.25 4.5 3-4.5zM15 9.75h5.25l-2.25 4.5-3-4.5z"})]}),eD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a2.25 2.25 0 014.56 0m-4.56 0A2.25 2.25 0 005.85 15H2.25m8.64-1.171a2.25 2.25 0 014.56 0m-4.56 0A2.25 2.25 0 0010.5 15h3.75m-3.75 0h-.375M17.25 15h.625c.621 0 1.125-.504 1.125-1.125V6.75c0-.621-.504-1.125-1.125-1.125H4.875c-.621 0-1.125.504-1.125 1.125v7.125c0 .621.504 1.125 1.125 1.125h.625m12.375 0H12.75M17.25 15V6.75M12 19.5h.008v.008H12V19.5zm0 0H6.75"})]}),kS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),I2=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})]}),tD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75m9-1.5H6.75A2.25 2.25 0 004.5 7.875v11.25A2.25 2.25 0 006.75 21h9.75A2.25 2.25 0 0018.75 18.75V9.375M15 3.75H6.75"})]}),Sb=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})]}),MS=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25A2.25 2.25 0 0113.5 8.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})]}),nD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})]}),iD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}),rD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),sD=n=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[n.title&&S.jsx("title",{children:n.title}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]}),aD=n=>n===or.LOADED_FROM_EXTERNAL?S.jsx(na,{className:"w-5 h-5 text-green-500"}):S.jsx(Zm,{className:"w-5 h-5 text-gray-500"}),oD=({product:n})=>{const{id:e,name:t,imageUrl:i,status:r,etv:s,externalKeepaPrice:o,externalTeilwert:u,externalPdfUrl:c}=n,f=u_[r]||{bg:"bg-gray-200",text:"text-gray-700",border:"border-gray-400"},h=`https://via.placeholder.com/100x100.png?text=${e||"No+Image"}`;return S.jsxs("div",{className:`bg-white shadow-lg rounded-xl overflow-hidden transition-all hover:shadow-xl flex flex-col border-l-4 ${f.border}`,children:[S.jsxs("div",{className:"p-5 flex-grow",children:[S.jsxs("div",{className:"flex items-start space-x-4 mb-3",children:[S.jsx("img",{src:i||h,alt:t,className:"w-24 h-24 object-contain rounded-md border border-gray-200 bg-gray-50",onError:v=>{const b=v.target;b.src!==h&&(b.src=h)}}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx(_a,{to:`/product/${e}`,className:"hover:underline",children:S.jsx("h3",{className:"text-lg font-semibold text-sky-700 mb-1 leading-tight truncate",title:t,children:t})}),S.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["ASIN: ",e]}),S.jsxs("span",{className:`inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium ${f.bg} ${f.text}`,children:[aD(r),S.jsx("span",{className:"ml-1.5",children:n.externalSourceStatus||r})]})]})]}),S.jsxs("div",{className:"space-y-1 text-xs text-gray-600 mb-3",children:[s!=null&&S.jsxs("p",{children:[S.jsx("strong",{children:"ETV (Neu):"})," €",Number(s).toFixed(2)]}),o!=null&&o!==-1&&S.jsxs("p",{children:[S.jsx("strong",{children:"Ext. Keepa Preis:"})," €",Number(o).toFixed(2)]}),u!=null&&S.jsxs("p",{children:[S.jsx("strong",{children:"Ext. Teilwert:"})," €",Number(u).toFixed(2)]}),c&&S.jsxs("p",{children:[S.jsx("strong",{children:"Ext. PDF: "}),S.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 hover:underline inline-flex items-center",children:[S.jsx(CS,{className:"w-4 h-4 mr-1"})," Link ansehen"]})]})]})]}),S.jsx("div",{className:"bg-gray-50 px-5 py-3 border-t border-gray-200",children:S.jsx("div",{className:"flex items-center justify-between",children:S.jsxs(_a,{to:`/product/${e}`,className:"text-sm font-medium text-sky-600 hover:text-sky-800 inline-flex items-center",children:["Details anzeigen ",S.jsx(Hh,{className:"w-4 h-4 ml-1"})]})})})]})},nr=({size:n="md",text:e,className:t=""})=>{const i={sm:"w-5 h-5 border-2",md:"w-8 h-8 border-4",lg:"w-12 h-12 border-4"};return S.jsxs("div",{className:`flex flex-col items-center justify-center ${t}`,children:[S.jsx("div",{className:`${i[n]} border-sky-600 border-t-transparent rounded-full animate-spin`}),e&&S.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e})]})},Q0=["any","required","excluded"],lD={any:{icon:S.jsx(sD,{className:"w-4 h-4"}),text:"Beliebig",colorClass:"bg-slate-200 text-slate-700 hover:bg-slate-300",title:"Filter ignoriert"},required:{icon:S.jsx(iD,{className:"w-4 h-4"}),text:"Ja",colorClass:"bg-green-200 text-green-800 hover:bg-green-300",title:"Muss vorhanden sein"},excluded:{icon:S.jsx(rD,{className:"w-4 h-4"}),text:"Nein",colorClass:"bg-red-200 text-red-800 hover:bg-red-300",title:"Darf nicht vorhanden sein"}},sh=({label:n,currentState:e,onChange:t,className:i=""})=>{const r=()=>{const u=(Q0.indexOf(e)+1)%Q0.length;t(Q0[u])},s=lD[e];return S.jsxs("div",{className:`flex flex-col items-start ${i}`,children:[S.jsx("span",{className:"text-xs font-medium text-slate-600 mb-1",children:n}),S.jsxs("button",{type:"button",onClick:r,title:`${n}: ${s.title}`,className:`w-full sm:w-auto min-w-[90px] px-3 py-1.5 text-xs font-medium rounded-md flex items-center justify-center transition-colors shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1 ${s.colorClass}`,children:[s.icon,S.jsx("span",{className:"ml-1.5",children:s.text})]})]})},Ab={etvZero:"any",keepa:"any",ebay:"any",ma:"any",pdf:"any"},uD=()=>{const{products:n,isLoading:e,error:t,fetchProducts:i}=Vc(),{v2Statuses:r,v2AllSearchTerms:s,v2PdfLinks:o,isLoading:u}=qc(),[c,f]=ne.useState(Ab),[h,v]=ne.useState(""),[b,x]=ne.useState(1),N=e||u,T=()=>{x(1),i()},M=(W,ee)=>{f(j=>({...j,[W]:ee})),x(1)},k=()=>{f(Ab),v(""),x(1)},P=ne.useMemo(()=>n.filter(W=>{var G,fe,ae,ge;if(h!==""&&!(W.name.toLowerCase().includes(h.toLowerCase())||W.id.toLowerCase().includes(h.toLowerCase()))||c.etvZero==="required"&&W.etv!==0||c.etvZero==="excluded"&&W.etv===0)return!1;const ee=((G=r[W.id])==null?void 0:G.hasOwnProperty("keepa"))&&((fe=r[W.id])==null?void 0:fe.keepa)!==null&&((ae=r[W.id])==null?void 0:ae.keepa)!==void 0;if(c.keepa==="required"&&!ee||c.keepa==="excluded"&&ee)return!1;const j=(ge=r[W.id])==null?void 0:ge.ebay,ie=j===!0||Array.isArray(j)&&j.length>0;if(c.ebay==="required"&&!ie||c.ebay==="excluded"&&ie)return!1;const le=!!s[W.id]&&s[W.id].length>0;if(c.ma==="required"&&!le||c.ma==="excluded"&&le)return!1;const F=!!o[W.id];return!(c.pdf==="required"&&!F||c.pdf==="excluded"&&F)}),[n,c,h,r,s,o]),I=Math.ceil(P.length/Sa),J=ne.useMemo(()=>{const W=(b-1)*Sa,ee=W+Sa;return P.slice(W,ee)},[P,b]);ne.useEffect(()=>{b>I&&I>0?x(I):(b<1&&I>0||I===0&&n.length>0||I===0&&n.length===0)&&x(1)},[P.length,I,b,n.length]);const q=()=>N&&n.length===0?S.jsx("div",{className:"flex flex-col justify-center items-center h-64 bg-white p-6 rounded-lg shadow-md",children:S.jsx(nr,{text:"Lade Produkte & Statusdaten..."})}):t?S.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg shadow-md",role:"alert",children:[S.jsx("p",{className:"font-bold",children:"Fehler beim Laden der Produkte"}),S.jsx("p",{children:t})]}):n.length>0&&P.length===0?S.jsxs("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:[S.jsx(wb,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),S.jsx("p",{className:"text-xl text-gray-600",children:"Keine Produkte gefunden."}),S.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Versuchen Sie, Ihre Filter anzupassen oder alle Filter zurückzusetzen."}),S.jsxs("button",{onClick:k,className:"mt-4 px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 flex items-center mx-auto",children:[S.jsx(Xm,{className:"w-4 h-4 mr-2"}),"Alle Filter zurücksetzen"]})]}):n.length===0&&!N?S.jsxs("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:[S.jsx("img",{src:"https://picsum.photos/seed/emptybox/200/150",alt:"Keine Produkte",className:"mx-auto mb-4 rounded opacity-70"}),S.jsx("p",{className:"text-xl text-gray-600",children:"Keine Produkte verfügbar."}),S.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Möglicherweise sind noch keine Produkte in der externen Quelle vorhanden oder es gab ein Problem beim Laden."})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:J.map(W=>S.jsx(oD,{product:W},W.id))}),I>1&&S.jsxs("div",{className:"mt-8 flex justify-between items-center bg-white p-4 rounded-lg shadow-md",children:[S.jsxs("button",{onClick:()=>x(W=>Math.max(W-1,1)),disabled:b===1,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[S.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Vorherige"]}),S.jsxs("span",{className:"text-sm text-gray-700",children:["Seite ",b," von ",I," (",P.length," Produkte gesamt)"]}),S.jsxs("button",{onClick:()=>x(W=>Math.min(W+1,I)),disabled:b===I,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Nächste",S.jsx(Hh,{className:"w-4 h-4 ml-2"})]})]})]});return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[S.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Produkt-Dashboard"}),S.jsx("div",{className:"flex items-center space-x-3",children:S.jsxs("button",{onClick:T,disabled:N,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-70 flex items-center",children:[S.jsx(Iu,{className:`w-4 h-4 mr-2 ${N?"animate-spin":""}`}),"Aktualisieren"]})})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{htmlFor:"searchTerm",className:"block text-sm font-medium text-gray-700 mb-1",children:"Suche (Titel/ASIN)"}),S.jsx("input",{type:"text",id:"searchTerm",value:h,onChange:W=>{v(W.target.value),x(1)},placeholder:"Produkt suchen...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500"})]}),S.jsxs("div",{className:"mb-4 p-4 border border-slate-200 rounded-lg bg-slate-50",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-3",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center",children:[S.jsx(wb,{className:"w-5 h-5 mr-2 text-sky-600"})," Erweiterte Filter"]}),S.jsxs("button",{onClick:k,className:"mt-2 sm:mt-0 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-100 rounded-md hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 flex items-center",children:[S.jsx(Xm,{className:"w-3.5 h-3.5 mr-1.5"}),"Alle Filter zurücksetzen"]})]}),S.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-3",children:[S.jsx(sh,{label:"ETV = 0",currentState:c.etvZero,onChange:W=>M("etvZero",W)}),S.jsx(sh,{label:"Keepa-Daten",currentState:c.keepa,onChange:W=>M("keepa",W)}),S.jsx(sh,{label:"eBay-Daten",currentState:c.ebay,onChange:W=>M("ebay",W)}),S.jsx(sh,{label:"MA-Daten",currentState:c.ma,onChange:W=>M("ma",W)}),S.jsx(sh,{label:"PDF Link",currentState:c.pdf,onChange:W=>M("pdf",W)})]})]})]}),q()]})},cD=(n,e)=>{switch(n){case"pending":return S.jsx(P2,{className:"w-5 h-5 text-slate-400"});case"inProgress":return S.jsx(nr,{size:"sm",className:"border-sky-500"});case"success":return S.jsx(na,{className:"w-5 h-5 text-green-500"});case"failure":return S.jsx(If,{className:"w-5 h-5 text-red-500"});case"warning":return S.jsx(Fo,{className:"w-5 h-5 text-yellow-500"});default:return null}},Z1=({steps:n,title:e})=>!n||n.length===0?null:S.jsxs("div",{className:"my-4 p-4 border border-slate-200 rounded-lg bg-slate-50 shadow-sm",children:[e&&S.jsx("h4",{className:"text-md font-semibold text-slate-700 mb-3",children:e}),S.jsx("ul",{className:"space-y-2",children:n.map(t=>S.jsxs("li",{className:"flex items-start p-2 rounded-md hover:bg-slate-100 transition-colors",children:[S.jsx("div",{className:"flex-shrink-0 w-6 h-6 mr-3 mt-0.5",children:cD(t.status,t.status==="inProgress")}),S.jsxs("div",{className:"flex-grow",children:[S.jsx("span",{className:`text-sm font-medium ${t.status==="failure"?"text-red-600":t.status==="warning"?"text-yellow-700":t.status==="success"?"text-green-700":"text-slate-600"}`,children:t.label}),t.error&&(t.status==="failure"||t.status==="warning")&&S.jsx("p",{className:"text-xs text-red-500 mt-0.5",children:t.error})]})]},t.key))})]}),ah=({title:n,children:e,defaultOpen:t=!0,icon:i})=>{const[r,s]=ne.useState(t);return S.jsxs("div",{className:"mb-6 bg-white shadow rounded-lg",children:[S.jsxs("button",{className:"w-full flex justify-between items-center p-4 bg-slate-100 hover:bg-slate-200 focus:outline-none rounded-t-lg transition-colors",onClick:()=>s(!r),"aria-expanded":r,children:[S.jsxs("div",{className:"flex items-center",children:[i&&S.jsx("span",{className:"mr-2 text-sky-600",children:i}),S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:n})]}),r?S.jsx(X7,{className:"w-6 h-6 text-slate-500"}):S.jsx(Z7,{className:"w-6 h-6 text-slate-500"})]}),r&&S.jsx("div",{className:"p-4 border-t border-slate-200 prose max-w-none text-slate-700",children:e})]})},e1=({content:n})=>{const e=t=>{let i=[];const r=[];return t.split(`
`).forEach((s,o)=>{const u=s.match(/^[ \t]*[-*+]\s+(.*)/);u?i.push(u[1]):(i.length>0&&(r.push(S.jsx("ul",{className:"list-disc pl-5 my-2",children:i.map((c,f)=>S.jsx("li",{dangerouslySetInnerHTML:{__html:c.replace(/\*\*(.*?)\*\*|__(.*?)__/g,"<strong>$1$2</strong>").replace(/\*(.*?)\*|_(.*?)_/g,"<em>$1$2</em>")}},`li-${o}-${f}`))},`ul-${o}`)),i=[]),s.trim()===""?r.push(S.jsx("br",{},`br-${o}`)):r.push(S.jsx("p",{dangerouslySetInnerHTML:{__html:s.replace(/\*\*(.*?)\*\*|__(.*?)__/g,"<strong>$1$2</strong>").replace(/\*(.*?)\*|_(.*?)_/g,"<em>$1$2</em>")}},`p-${o}`)))}),i.length>0&&r.push(S.jsx("ul",{className:"list-disc pl-5 my-2",children:i.map((s,o)=>S.jsx("li",{dangerouslySetInnerHTML:{__html:s.replace(/\*\*(.*?)\*\*|__(.*?)__/g,"<strong>$1$2</strong>").replace(/\*(.*?)\*|_(.*?)_/g,"<em>$1$2</em>")}},`li-last-${o}`))},"ul-last")),r};return S.jsx("div",{className:"prose-sm sm:prose lg:prose-lg xl:prose-xl max-w-none",children:e(n)})},t1=[{key:"dataProvidedKeepa",label:"Keepa Daten (v2keepa)",status:"pending"},{key:"dataProvidedMarketAnalysis",label:"Marktanalyse (v2marketAnalysisData)",status:"pending"},{key:"dataProvidedEbay",label:"eBay Suchbegriffe & Ergebnisse",status:"pending"},{key:"callGeminiTeilwert",label:"Frage Gemini für Teilwertschätzung",status:"pending"},{key:"storeTeilwertResult",label:"Speichere Teilwert Ergebnis",status:"pending"},{key:"generatePdfReport",label:"Generiere PDF Bericht",status:"pending"},{key:"uploadPdfToCloud",label:"Lade PDF in Cloud hoch",status:"pending"},{key:"storePdfLinkInDb",label:"Speichere PDF Link",status:"pending"}],Tb=[{key:"reconFetchCurrent",label:"Lade aktuellen v2processstatus",status:"pending"},{key:"reconKeepa",label:"Prüfe/Aktualisiere Keepa Daten (aus v2keepa)",status:"pending"},{key:"reconMAeBayTerms",label:"Prüfe/Aktualisiere Marktanalyse/eBay-Begriffe (aus v2marketAnalysis/v2searchterms)",status:"pending"},{key:"reconEbayData",label:"Prüfe/Aktualisiere eBay-Daten Flag (aus v2ebayresults)",status:"pending"},{key:"reconTeilwert",label:"Prüfe/Aktualisiere Teilwert Daten (aus v2TeilwertData)",status:"pending"},{key:"reconPdfLink",label:"Prüfe/Aktualisiere PDF Link (aus v2pdf)",status:"pending"},{key:"reconSaveStatus",label:"Speichere aktualisierten v2processstatus falls geändert",status:"pending"},{key:"reconClearErrors",label:"Bereinige ggf. v2processErrors falls Teilwert erfolgreich",status:"pending"}],fD=n=>{const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]={value:n[t].rawValue,loading:!1,error:null});return e},dD=()=>{var As,Bi;const{productId:n}=_3(),{getProductById:e,isLoading:t}=Vc(),{v2Statuses:i,v2AllSearchTerms:r,v2PdfLinks:s,generateMarketAnalysisForProduct:o,isGeneratingAnalysis:u,analysisGenerationError:c,deleteMarketAnalysisForProduct:f,isDeletingAnalysis:h,deleteAnalysisError:v,fetchMarketAnalysisForProduct:b,fetchKeepaDataForProduct:x,fetchEbayResultsForProduct:N,fetchSearchTermsForProduct:T,fetchPdfLinkForProduct:M,createAndStoreTeilwertWithPdf:k,deleteTeilwertEstimation:P,isEstimatingTeilwert:I,teilwertEstimationError:J,setProcessError:q,getProcessErrors:W,clearProcessErrors:ee,reconcileProductV2Status:j,isReconcilingStatus:ie,reconcileStatusError:le,fetchV2ProcessErrors:F,uploadGeneratedPdfToCloud:G,isUploadingPdfManual:fe,pdfManualUploadError:ae}=qc(),{v2ApiToken:ge,isConfigSet:K}=Vu(),[Q,Z]=ne.useState(void 0),[de,z]=ne.useState(null),[me,R]=ne.useState(!1),[H,te]=ne.useState(null),[ue,ce]=ne.useState({}),[Ae,_e]=ne.useState(null),[Ce,Be]=ne.useState(null),[We,et]=ne.useState(!1),[Qe,yt]=ne.useState(null),[Re,se]=ne.useState(null),[ft,gt]=ne.useState(!1),[Je,nt]=ne.useState(null),[it,rt]=ne.useState(null),[St,Rt]=ne.useState(!1),[Mt,kt]=ne.useState(!1),[It,Qt]=ne.useState(null),[lt,qt]=ne.useState(!1),[ut,ii]=ne.useState(JSON.parse(JSON.stringify(t1))),[cn,Ii]=ne.useState(null),[zt,Cn]=ne.useState(!1),[wr,fn]=ne.useState(JSON.parse(JSON.stringify(Tb))),[_r,Zn]=ne.useState(!1),[Sr,Oi]=ne.useState(null),qn=n?u[n]:!1,Lt=n?c[n]:null,on=n?h[n]:!1,Fr=n?v[n]:null,nn=n?!!(r[n]&&r[n].length>0):!1,mi=n?!!(i[n]&&i[n].hasOwnProperty("Teilwert")):!1,cr=n?s[n]:null,vt=n?ie[n]:!1,Bn=n?le[n]:null,Sn=n?fe[n]:!1,ri=n?ae[n]:null;ne.useEffect(()=>{n&&Z(e(n))},[n,e]);const Rn=ne.useCallback(async()=>{n&&K&&rt(await W(n))},[n,K,W]);ne.useEffect(()=>{Rn()},[Rn]);const Xn=ne.useCallback(async()=>{if(n&&K&&(!Re||Re===null)){gt(!0),nt(null);try{se(await x(n))}catch(xt){nt(xt.message||"Fehler Laden Keepa V2 Details.")}finally{gt(!1)}}},[n,K,x,Re]);ne.useEffect(()=>{Xn()},[Xn]),ne.useEffect(()=>{n&&K&&(!r[n]||r[n].length===0)&&T(n)},[n,K]),ne.useEffect(()=>{n&&K&&cr===null&&M(n)},[n,K,cr]),ne.useEffect(()=>{n&&K&&ge&&nn&&!de?(R(!0),te(null),b(n).then(z).catch(xt=>te(xt.message||"Fehler Laden Marktanalyse.")).finally(()=>R(!1))):nn||z(null)},[n,K,ge,nn,b,de]),ne.useEffect(()=>{n&&K&&ge&&mi&&!Ce?(et(!0),yt(null),un.getKey(kc,n,ge).then(xt=>{if("error"in xt)yt(xt.error);else if(xt.value)try{Be(JSON.parse(xt.value))}catch{yt("Fehler Parsen Teilwert-Daten.")}else Be(null)}).catch(xt=>yt(xt.message||"Netzwerkfehler.")).finally(()=>et(!1))):mi||Be(null)},[n,K,ge,mi,Ce]);const gi=ne.useCallback(async()=>{if(!n||!K||!ge||!nn)return;const xt=r[n]||[];if(xt.length===0){ce({});return}Rt(!0);const At={};xt.forEach(yn=>{At[yn]={value:null,loading:!0,error:null}}),ce(At);for(const yn of xt){const rn=await un.getKey(jf,yn,ge);if("error"in rn)ce(ti=>({...ti,[yn]:{value:null,loading:!1,error:rn.error}}));else{let ti=rn.value;ti==='""'&&(ti=""),ce(bi=>({...bi,[yn]:{value:ti,loading:!1,error:null}}))}}Rt(!1)},[n,K,ge,nn,r]);ne.useEffect(()=>{nn?gi():ce({})},[nn,gi]),ne.useEffect(()=>{if(n&&i[n]){const xt=i[n];(xt.ebay===!0||Array.isArray(xt.ebay)&&xt.ebay.length>0)&&Array.isArray(xt.ebay)?_e(xt.ebay):_e(null)}else _e(null)},[n,i]);const Wi=async()=>{Q&&!qn&&K&&(await o(Q),await Rn(),await F())},Pr=async()=>{Q!=null&&Q.id&&!on&&K&&await f(Q.id)&&(z(null),ce({}),await Rn(),await F())},zn=async()=>{Q!=null&&Q.id&&!Mt&&!qn&&!on&&K&&(kt(!0),Qt(null),await f(Q.id)?(z(null),ce({}),await o(Q)):Qt(v[Q.id]||"Fehler Löschen alte Analyse."),await Rn(),await F(),kt(!1))},Ki=async xt=>{var pe,Ne;if(!Q||!ge||!K||lt)return;qt(!0),Ii(null);let At=JSON.parse(JSON.stringify(t1.map(Ue=>({...Ue,status:"pending",error:void 0}))));ii(At),await ee(Q.id);let yn=null,rn=null,ti={},bi=[];const Ft=(Ue,Ye,Xe)=>{At=At.map(Ze=>Ze.key===Ue?{...Ze,status:Ye,error:Xe}:Ze),ii(At)};try{Ft("dataProvidedKeepa","inProgress"),yn=await x(Q.id),yn?Ft("dataProvidedKeepa","success"):(bi.push("Keepa-Daten (aus v2keepa)"),Ft("dataProvidedKeepa",zt?"warning":"failure","Keepa-Daten (v2keepa) fehlen.")),Ft("dataProvidedMarketAnalysis","inProgress"),rn=de,!rn&&nn&&(rn=await b(Q.id)),rn?Ft("dataProvidedMarketAnalysis","success"):(bi.push("Marktanalyse-Objekt"),Ft("dataProvidedMarketAnalysis",zt?"warning":"failure","Marktanalyse-Objekt fehlt.")),Ft("dataProvidedEbay","inProgress");const Ue=r[Q.id]||[];if(Ue.length>0?(ti=await N(Q.id,Ue),Ue.some(ct=>{const jt=ti[ct];return!jt||!jt.listings.length&&(jt.rawValue===null||jt.rawValue.trim()===""||jt.rawValue.trim()==='""')})?(bi.push("Unvollständige eBay Suchergebnisse"),Ft("dataProvidedEbay",zt?"warning":"failure","Unvollständige eBay Suchergebnisse.")):Ft("dataProvidedEbay","success")):nn?(bi.push("eBay Suchbegriffe nicht definiert"),Ft("dataProvidedEbay",zt?"warning":"failure","eBay Suchbegriffe nicht definiert.")):(Ft("dataProvidedEbay",zt?"warning":"success",zt?"Keine MA, eBay Daten übergangen.":""),zt&&bi.push("eBay Daten (da keine MA)")),bi.length>0&&!zt){const ht=`Folgende Daten fehlen oder sind unvollständig: ${bi.join(", ")}. Möchten Sie die Teilwertschätzung trotzdem durchführen? Dies kann die Qualität der Schätzung stark beeinträchtigen.`;if(!window.confirm(ht)){await q(Q.id,"TeilwertInput_UserCancelled","Nutzer hat Teilwertschätzung wegen fehlender Daten abgebrochen.");const ct=((pe=At.find(jt=>jt.status==="inProgress"||jt.status==="pending"||jt.status==="failure"))==null?void 0:pe.key)||"dataProvidedKeepa";throw Ft(ct,"failure","Nutzer hat Teilwertschätzung wegen fehlender Daten abgebrochen."),new Error("Nutzer hat Teilwertschätzung wegen fehlender Daten abgebrochen.")}await q(Q.id,"TeilwertInput_UserConfirmedMissing",`Nutzer hat Teilwertschätzung trotz fehlender Daten bestätigt: ${bi.join(", ")}.`),At=At.map(ct=>ct.status==="failure"?{...ct,status:"warning",error:(ct.error||"")+" (Nutzer-Bestätigung)"}:ct),ii(At)}else bi.length>0&&zt&&(await q(Q.id,"TeilwertInput_UserOverrideForced",`Nutzer hat Teilwertschätzung trotz fehlender Daten erzwungen: ${bi.join(", ")}.`),At=At.map(ht=>ht.status==="failure"?{...ht,status:"warning",error:(ht.error||"")+" (Override Checkbox)"}:ht),ii(At));if(!At.slice(0,3).every(ht=>ht.status==="success"||ht.status==="warning"))throw new Error("Kritische Daten für Teilwertschätzung fehlen und wurden nicht übergangen.");if(xt){if(!await P(Q.id))throw new Error((J==null?void 0:J[Q.id])||"Fehler beim Löschen der alten Teilwertschätzung.");Be(null)}const Xe=await k(Q,rn,ti,yn,Ft);if(!Xe.success){const ht=Xe.error||(J==null?void 0:J[Q.id])||"Unbekannter Fehler von Gemini oder beim Speichern/PDF.",ct=((Ne=At.find(jt=>jt.status==="inProgress"))==null?void 0:Ne.key)||"callGeminiTeilwert";throw Ft(ct,"failure",ht),new Error(ht)}await Rn(),await F();const Ze=await un.getKey(kc,Q.id,ge);!("error"in Ze)&&Ze.value&&Be(JSON.parse(Ze.value))}catch(Ue){Ii(Ue.message||"Unbekannter Fehler bei der Teilwertschätzung.");let Ye=!1;if(At=At.map(Ze=>(Ze.status==="failure"&&(Ye=!0),Ye&&Ze.status==="pending"?{...Ze,status:"warning",error:"Nicht ausgeführt wegen vorherigem Fehler."}:Ze)),!Ye&&At.find(Ze=>Ze.status==="inProgress")){const Ze=At.find(ht=>ht.status==="inProgress").key;Ft(Ze,"failure",Ue.message)}At.some(Ze=>Ze.status==="failure")&&(At=At.map(Ze=>Ze.status==="pending"?{...Ze,status:"warning",error:"Nicht ausgeführt wegen vorherigem Fehler"}:Ze)),ii(At)}finally{qt(!1)}},Ot=async()=>{Q!=null&&Q.id&&!lt&&K&&(await P(Q.id)?(Be(null),ii(JSON.parse(JSON.stringify(t1))),Ii(null),await Rn(),await F()):Ii((J==null?void 0:J[Q.id])||"Fehler beim Löschen der Teilwertschätzung."))},Fi=async()=>{if(!Q||!Ce||!ge||!K){Oi("Benötigte Daten für PDF nicht vorhanden (Produkt, Teilwertschätzung, Konfiguration).");return}Zn(!0),Oi(null);try{const[xt,At]=await Promise.all([x(Q.id),b(Q.id)]);let yn={};const rn=r[Q.id]||[];rn.length>0&&(yn=await N(Q.id,rn));const ti=fD(yn),bi=await J1(Q,xt,At,rn,ti,Ce),Ft=URL.createObjectURL(bi),pe=document.createElement("a");pe.href=Ft,pe.download=`Teilwert_v2_${Q.id}.pdf`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(Ft)}catch(xt){Oi(xt.message||"Fehler bei lokaler PDF-Generierung.")}finally{Zn(!1)}},Yi=async()=>{!Q||!ge||!K||(await G(Q.id),await F())},In=async()=>{if(!Q||!ge||!K||vt)return;let xt=JSON.parse(JSON.stringify(Tb.map(rn=>({...rn,status:"pending",error:void 0}))));fn(xt);const At=(rn,ti,bi)=>{xt=xt.map(Ft=>Ft.key===rn?{...Ft,status:ti,error:bi}:Ft),fn(xt)};if(At("reconFetchCurrent","inProgress"),await j(Q.id)){if(xt=xt.map(rn=>({...rn,status:"success"})),fn(xt),Xn(),nn?b(Q.id):z(null),mi){const rn=await un.getKey(kc,Q.id,ge);!("error"in rn)&&rn.value?Be(JSON.parse(rn.value)):Be(null)}else Be(null);await F()}else At("reconSaveStatus","failure",le[Q.id]||"Fehler beim Abgleich")};if(t&&!Q)return S.jsx("div",{className:"flex justify-center items-center h-64",children:S.jsx(nr,{text:"Lade Produktdetails..."})});if(!K)return S.jsxs("div",{className:"text-center py-10",children:[S.jsx("h1",{className:"text-2xl text-orange-600",children:"Konfiguration fehlt"}),S.jsx("p",{className:"text-gray-600 mt-2",children:"Bitte melden Sie sich an, um Produktdetails anzuzeigen."}),S.jsxs(_a,{to:"/",className:"mt-4 inline-flex items-center px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700",children:[S.jsx(Pc,{className:"w-4 h-4 mr-2"})," Zum Login / Dashboard"]})]});if(!Q)return S.jsxs("div",{className:"text-center py-10",children:[S.jsx("h1",{className:"text-2xl text-red-600",children:"Produkt nicht gefunden"}),S.jsxs("p",{className:"text-gray-600 mt-2",children:['Das Produkt mit der ID "',n,'" konnte nicht geladen werden.']}),S.jsxs(_a,{to:"/",className:"mt-4 inline-flex items-center px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700",children:[S.jsx(Pc,{className:"w-4 h-4 mr-2"})," Zurück zum Dashboard"]})]});const Qr=u_[Q.status]||{bg:"bg-gray-200",text:"text-gray-700",border:"border-gray-400"},yi=n?i[n]:null,$i=!!(yi&&yi.hasOwnProperty("keepa")&&yi.keepa!==null&&yi.keepa!==void 0),Ci=yi==null?void 0:yi.ebay,Bs=Ci===!0||Array.isArray(Ci)&&Ci.length>0,Ca=K&&!nn&&!qn&&!Mt&&!on,ro=K&&nn&&!qn&&!on&&!Mt&&!me,Yo=K&&!mi&&!lt,ps=K&&mi&&!lt&&!We;return S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsxs(_a,{to:"/",className:"inline-flex items-center text-sky-600 hover:text-sky-800 group",children:[S.jsx(Pc,{className:"w-5 h-5 mr-2 transition-transform group-hover:-translate-x-1"}),"Zurück zum Dashboard"]}),S.jsxs("button",{onClick:In,disabled:!K||vt,className:"px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 rounded-md hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-slate-500 disabled:opacity-50 flex items-center",title:"Daten aus verschiedenen DBs (v2keepa, v2marketAnalysisData, v2searchterms, v2TeilwertData, v2pdf) mit dem Haupt-Statuseintrag (v2processstatus) synchronisieren und Fehler ggf. bereinigen.",children:[vt?S.jsx(nr,{size:"sm",className:"mr-1.5"}):S.jsx(ES,{className:"w-4 h-4 mr-1.5"}),"Status Abgleichen"]})]}),vt&&S.jsx(Z1,{steps:wr,title:"Abgleich Fortschritt:"}),Bn&&S.jsxs("div",{className:"my-2 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md text-sm",children:[S.jsx("p",{className:"font-semibold",children:"Fehler beim Abgleich:"}),S.jsx("p",{children:Bn})]}),S.jsxs("header",{className:`mb-8 p-6 bg-white shadow-lg rounded-xl border-l-4 ${Qr.border}`,children:[S.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:Q.name}),S.jsxs("p",{className:"text-sm text-gray-500",children:["ASIN: ",Q.id]})]}),Q.imageUrl&&S.jsx("img",{src:Q.imageUrl,alt:Q.name,className:"w-24 h-24 sm:w-32 sm:h-32 object-contain rounded-md border p-1 bg-white mt-4 sm:mt-0"})]}),S.jsxs("div",{className:"mt-4 space-y-2",children:[S.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${Qr.bg} ${Qr.text} mr-2 mb-2 sm:mb-0`,children:["Status (Extern): ",Q.externalSourceStatus||Q.status]}),S.jsxs("div",{className:"inline-flex flex-wrap items-center gap-2 text-sm font-medium text-slate-700",children:[S.jsx("span",{className:"font-semibold",children:"V2 Daten:"}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${$i?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-600"}`,children:[$i?S.jsx(na,{className:"w-4 h-4 mr-1"}):S.jsx(If,{className:"w-4 h-4 mr-1"})," Keepa (Status)"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${nn?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[nn?S.jsx(na,{className:"w-4 h-4 mr-1"}):S.jsx(If,{className:"w-4 h-4 mr-1"})," MA"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${Bs?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:[Bs?S.jsx(na,{className:"w-4 h-4 mr-1"}):S.jsx(If,{className:"w-4 h-4 mr-1"})," eBay (Status)"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${mi?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:[mi?S.jsx(na,{className:"w-4 h-4 mr-1"}):S.jsx(If,{className:"w-4 h-4 mr-1"})," Teilwert"]}),S.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded ${cr?"bg-cyan-100 text-cyan-700":"bg-gray-100 text-gray-600"}`,children:[cr?S.jsx(na,{className:"w-4 h-4 mr-1"}):S.jsx(If,{className:"w-4 h-4 mr-1"})," PDF Cloud"]})]})]}),it&&Object.keys(it).length>0&&S.jsxs("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-300 text-orange-700 rounded-md text-xs",children:[S.jsx("p",{className:"font-semibold mb-1",children:"Hinweise/Fehler für dieses Produkt:"}),S.jsx("ul",{className:"list-disc pl-5",children:Object.entries(it).map(([xt,At])=>S.jsxs("li",{children:[S.jsxs("strong",{children:[At.type,":"]})," ",At.message," (",new Date(At.timestamp).toLocaleString(),")"]},xt))})]})]}),S.jsxs(ah,{title:"Produktdaten (Basis & Extern)",defaultOpen:!0,children:[S.jsxs("p",{children:[S.jsx("strong",{children:"ASIN:"})," ",Q.id]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Name:"})," ",Q.name]}),S.jsxs("p",{children:[S.jsx("strong",{children:"ETV (Neupreis):"})," ",Q.etv!==void 0&&Q.etv!==null?`€${Number(Q.etv).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsxs("strong",{children:["V2 Keepa Preis (aus ",Ds,"):"]})," ",(yi==null?void 0:yi.keepa)!==void 0?`€${Number(yi.keepa).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsxs("strong",{children:["V2 Geschätzter Teilwert (aus ",Ds,"):"]})," ",(yi==null?void 0:yi.Teilwert)!==void 0?`€${Number(yi.Teilwert).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Bild-Dateiname:"})," ",Q.externalImageFilename||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Keepa Preis:"})," ",Q.externalKeepaPrice!==void 0&&Q.externalKeepaPrice!==null&&Q.externalKeepaPrice!==-1?`€${Number(Q.externalKeepaPrice).toFixed(2)}`:"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Teilwert:"})," ",Q.externalTeilwert!==void 0&&Q.externalTeilwert!==null?`€${Number(Q.externalTeilwert).toFixed(2)}`:"N/A"]}),Q.externalPdfUrl&&S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle PDF: "}),S.jsxs("a",{href:Q.externalPdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 hover:underline inline-flex items-center",children:[S.jsx(CS,{className:"w-4 h-4 mr-1"})," Link ansehen"]})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Externe Quelle Status:"})," ",Q.externalSourceStatus||"N/A"]})]}),S.jsxs(ah,{title:`Keepa V2 Preisdetails (aus ${Vf})`,defaultOpen:!0,icon:S.jsx(D2,{className:"w-6 h-6"}),children:[ft&&S.jsx(nr,{text:"Lade Keepa V2 Details..."}),Je&&S.jsx("p",{className:"text-red-600",children:Je}),!ft&&!Je&&!Re&&S.jsx("p",{className:"text-slate-500",children:"Keine detaillierten Keepa V2 Daten für dieses Produkt gefunden."}),Re&&S.jsxs("div",{className:"space-y-2 text-sm",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Primär genutzter Preis:"})," ",S.jsxs("span",{className:"font-semibold text-emerald-600",children:["€",Re.price.toFixed(2)]})," (Quelle: ",Re.priceSource,")"]}),Re.allPrices&&S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-slate-600 mt-2 mb-1",children:"Weitere aktuelle Preise:"}),S.jsxs("ul",{className:"list-disc pl-5 text-slate-700",children:[S.jsxs("li",{children:["Amazon Aktuell: ",Re.allPrices.amazonCurrent!==void 0?`€${Re.allPrices.amazonCurrent.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Neu Aktuell: ",Re.allPrices.newCurrent!==void 0?`€${Re.allPrices.newCurrent.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Gebraucht Aktuell: ",Re.allPrices.usedCurrent!==void 0?`€${Re.allPrices.usedCurrent.toFixed(2)}`:"N/A"]})]}),S.jsx("h4",{className:"font-medium text-slate-600 mt-2 mb-1",children:"Weitere 30-Tage Durchschnittspreise:"}),S.jsxs("ul",{className:"list-disc pl-5 text-slate-700",children:[S.jsxs("li",{children:["Amazon 30d Ø: ",Re.allPrices.amazonAvg30!==void 0?`€${Re.allPrices.amazonAvg30.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Neu 30d Ø: ",Re.allPrices.newAvg30!==void 0?`€${Re.allPrices.newAvg30.toFixed(2)}`:"N/A"]}),S.jsxs("li",{children:["Marketplace Gebraucht 30d Ø: ",Re.allPrices.usedAvg30!==void 0?`€${Re.allPrices.usedAvg30.toFixed(2)}`:"N/A"]})]})]})]})]}),Ae&&Ae.length>0&&S.jsx(ah,{title:"eBay Verkaufsdaten (Produktbezogen)",defaultOpen:!0,icon:S.jsx(P2,{className:"w-6 h-6"}),children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full text-xs text-slate-700",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Name"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Verkaufsdatum"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Verkäufer"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Typ"}),S.jsx("th",{className:"px-2 py-2 text-left font-medium text-slate-600",children:"Zustand"}),S.jsx("th",{className:"px-2 py-2 text-right font-medium text-slate-600",children:"Preis (€)"}),S.jsx("th",{className:"px-2 py-2 text-right font-medium text-slate-600",children:"Versand (€)"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-200",children:Ae.map((xt,At)=>{var yn,rn;return S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-2 py-1.5 whitespace-normal break-words max-w-xs text-slate-700",children:xt.name}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-slate-700",children:xt.sold_date}),S.jsx("td",{className:"px-2 py-1.5 whitespace-normal break-words max-w-[100px] text-slate-700",children:xt.seller}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-slate-700",children:xt.type}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-slate-700",children:xt.condition}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-right text-slate-700",children:(yn=xt.price)==null?void 0:yn.toFixed(2)}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-right text-slate-700",children:(rn=xt.shipment)==null?void 0:rn.toFixed(2)})]},At)})})]})})}),S.jsxs(ah,{title:"Gemini Marktanalyse & eBay Strategie",defaultOpen:!Ae||Ae.length===0,icon:S.jsx(Q7,{className:"w-6 h-6"}),children:[!K&&S.jsx("p",{className:"text-red-600",children:"Konfiguration (z.B. API Tokens) nicht geladen. Analyse nicht möglich."}),K&&S.jsxs(S.Fragment,{children:[(qn||on||Mt||me)&&S.jsxs("div",{className:"my-4 p-4 bg-sky-50 rounded-md",children:[S.jsx(nr,{text:me?"Lade Marktanalyse...":Mt?"Analyse wird neu erstellt...":on?"Marktanalyse wird gelöscht...":"Generiere Marktanalyse..."})," "]}),Lt&&!qn&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:Lt})]}),Fr&&!on&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:Fr})]}),It&&!Mt&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:It})]}),H&&!me&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:H})]}),Ca&&S.jsxs("div",{className:"my-4 p-4 bg-yellow-50 border border-yellow-300 rounded-md text-center",children:[S.jsx("p",{className:"mb-3 text-yellow-800",children:"Keine Gemini Marktanalyse vorhanden."}),S.jsxs("button",{onClick:Wi,className:"px-4 py-2 bg-sky-600 text-white font-semibold rounded-md hover:bg-sky-700 disabled:opacity-50 flex items-center justify-center mx-auto",children:[" ",S.jsx(Zm,{className:"w-5 h-5 mr-2"})," Analyse jetzt erstellen "]})]}),ro&&S.jsxs("div",{className:"my-4 flex flex-col sm:flex-row gap-3 justify-center",children:[S.jsxs("button",{onClick:zn,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(Iu,{className:"w-5 h-5 mr-2"})," Analyse Neu Erstellen "]}),S.jsxs("button",{onClick:Pr,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(Xm,{className:"w-5 h-5 mr-2"})," Analyse Löschen "]})]}),nn&&de&&!me&&S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold mt-2 mb-1",children:"Marktanalyse von Gemini"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Zusammenfassung:"})," ",de.marketAnalysis.summary||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Wettbewerber:"})," ",((As=de.marketAnalysis.competitors)==null?void 0:As.join(", "))||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Verkaufsperformance:"})," ",de.marketAnalysis.salesPerformance||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Marktstimmung:"})," ",de.marketAnalysis.marketSentiment||"N/A"]}),S.jsx("h3",{className:"text-lg font-semibold mt-4 mb-1",children:"Preisgestaltung & Beschaffung"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Typischer Neupreis:"})," ",de.pricingAndSourcing.typicalNewPrice||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Fernost-Beschaffungspotenzial:"})," ",de.pricingAndSourcing.farEastSourcingPotential||"N/A"]}),S.jsx("h3",{className:"text-lg font-semibold mt-4 mb-1",children:"Haltbarkeit & Risiken"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Haltbarkeitseinschätzung:"})," ",de.durabilityAndRisk.durability||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Bekannte Probleme:"})," ",((Bi=de.durabilityAndRisk.commonIssues)==null?void 0:Bi.join(", "))||"N/A"]}),S.jsxs("h3",{className:"text-lg font-semibold mt-4 mb-1",children:["eBay Suchbegriffe & Ergebnisse (",jf,")"]}),St&&S.jsx(nr,{size:"sm",text:"Lade Suchbegriff-Ergebnisse..."}),(!r[(Q==null?void 0:Q.id)||""]||r[(Q==null?void 0:Q.id)||""].length===0)&&!St&&nn&&S.jsx("p",{children:"Keine eBay Suchbegriffe definiert."}),r[(Q==null?void 0:Q.id)||""]&&r[(Q==null?void 0:Q.id)||""].length>0&&S.jsx("ul",{className:"list-disc pl-5 space-y-3",children:(r[(Q==null?void 0:Q.id)||""]||[]).map(xt=>{const At=ue[xt];let yn;if(At!=null&&At.loading)yn=S.jsx(nr,{size:"sm",text:"Lade...",className:"inline-block ml-2"});else if(At!=null&&At.error)yn=S.jsxs("span",{className:"text-red-500 ml-2",children:["Fehler: ",At.error]});else if((At==null?void 0:At.value)===""||(At==null?void 0:At.value)===null)yn=S.jsx("span",{className:"text-gray-500 ml-2 italic",children:"(Keine Ergebnisse oder ausstehend)"});else try{const rn=JSON.parse(At.value);Array.isArray(rn)&&rn.length>0&&rn[0].hasOwnProperty("name")?yn=S.jsxs("div",{className:"overflow-x-auto mt-1",children:[S.jsxs("table",{className:"min-w-full text-xs text-slate-700",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-2 py-1 text-left font-medium text-slate-700",children:"Name"}),S.jsx("th",{className:"px-2 py-1 text-left font-medium text-slate-700",children:"Verkaufsdatum"}),S.jsx("th",{className:"px-2 py-1 text-right font-medium text-slate-700",children:"Preis (€)"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-100",children:rn.slice(0,5).map((ti,bi)=>{var Ft;return S.jsxs("tr",{children:[S.jsx("td",{className:"px-2 py-0.5 whitespace-normal break-words max-w-xs text-slate-700",children:ti.name}),S.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-slate-700",children:ti.sold_date}),S.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right text-slate-700",children:(Ft=ti.price)==null?void 0:Ft.toFixed(2)})]},bi)})})]}),rn.length>5&&S.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["... ",rn.length-5," weitere."]})]}):yn=S.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 whitespace-pre-wrap break-all",children:At.value})}catch{yn=S.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 whitespace-pre-wrap break-all",children:At.value})}return S.jsxs("li",{children:[S.jsx("strong",{className:"font-mono bg-slate-100 px-1 py-0.5 rounded text-slate-700",children:xt}),":",yn]},xt)})})]}),nn&&!de&&!me&&!H&&S.jsx("p",{className:"text-orange-600 mt-4",children:"Marktanalyse-Daten nicht geladen."})]})]}),S.jsxs(ah,{title:"Teilwertschätzung (Gemini) & PDF",defaultOpen:!0,icon:S.jsx(wa,{className:"w-6 h-6"}),children:[!K&&S.jsx("p",{className:"text-red-600",children:"Konfiguration (z.B. API Tokens) nicht geladen."}),K&&S.jsxs(S.Fragment,{children:[(lt||We||Sn||_r)&&!Ce&&S.jsx("div",{className:"my-4 p-4 bg-sky-50 rounded-md",children:S.jsx(nr,{text:We?"Lade gespeicherte Teilwertschätzung...":Sn?"PDF wird in Cloud hochgeladen...":_r?"PDF wird lokal generiert...":"Verarbeite Teilwertschätzung & PDF..."})}),lt&&S.jsx(Z1,{steps:ut,title:"Fortschritt der Teilwertschätzung & PDF Erstellung:"}),cn&&!lt&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler bei der Schätzung/PDF:"]}),S.jsx("p",{className:"text-sm",children:cn})]}),Sr&&!_r&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler bei lokaler PDF Generierung:"]}),S.jsx("p",{className:"text-sm",children:Sr})]}),ri&&!Sn&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler beim PDF Cloud Upload:"]}),S.jsx("p",{className:"text-sm",children:ri})]}),Qe&&!We&&!Ce&&S.jsxs("div",{className:"my-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md",children:[S.jsxs("p",{className:"font-semibold flex items-center",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Fehler:"]}),S.jsx("p",{className:"text-sm",children:Qe})]}),Yo&&!lt&&S.jsxs("div",{className:"my-4 p-4 bg-yellow-50 border border-yellow-300 rounded-md text-center",children:[S.jsx("p",{className:"mb-1 text-yellow-800",children:"Keine Teilwertschätzung vorhanden."}),!nn&&S.jsx("p",{className:"text-xs text-yellow-700 mb-2",children:"(Hinweis: Marktanalyse zuerst durchführen.)"}),S.jsx("div",{className:"mb-3",children:S.jsxs("label",{className:"flex items-center justify-center text-sm text-slate-700 cursor-pointer p-2 hover:bg-yellow-100 rounded-md",children:[S.jsx("input",{type:"checkbox",checked:zt,onChange:xt=>Cn(xt.target.checked),className:"mr-2 h-4 w-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500","aria-label":"Schätzung trotz fehlender Daten erzwingen"}),"Schätzung trotz fehlender Daten erzwingen (Qualität kann leiden)"]})}),S.jsxs("button",{onClick:()=>Ki(!1),disabled:!Q||lt||!K||!nn&&!zt,className:"px-4 py-2 bg-emerald-600 text-white font-semibold rounded-md hover:bg-emerald-700 disabled:opacity-50 flex items-center justify-center mx-auto",children:[S.jsx(Zm,{className:"w-5 h-5 mr-2"})," Teilwert jetzt schätzen & PDF erstellen/hochladen"]})]}),ps&&!lt&&S.jsxs("div",{className:"my-4 flex flex-col sm:flex-row flex-wrap gap-3 justify-center items-center",children:[S.jsxs("div",{className:"w-full sm:w-auto",children:[S.jsxs("label",{className:"flex items-center justify-center text-sm text-slate-700 mb-2 cursor-pointer p-2 hover:bg-slate-100 rounded-md",children:[S.jsx("input",{type:"checkbox",checked:zt,onChange:xt=>Cn(xt.target.checked),className:"mr-2 h-4 w-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500","aria-label":"Schätzung trotz fehlender Daten erzwingen für 'Neu erstellen'"}),'Schätzung trotz fehlender Daten erzwingen (für "Neu erstellen")']}),S.jsxs("button",{onClick:()=>Ki(!0),disabled:!Q||lt||!K||Sn||_r||!nn&&!zt,className:"w-full px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:[S.jsx(Iu,{className:"w-5 h-5 mr-2"})," Neu Erstellen (inkl. PDF)"]})]}),S.jsxs("button",{onClick:Ot,disabled:!Q||lt||!K||Sn||_r,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(Xm,{className:"w-5 h-5 mr-2"})," Löschen"]}),S.jsxs("button",{onClick:Fi,disabled:!Q||lt||!K||!Ce||Sn||_r,className:"px-4 py-2 bg-teal-600 text-white font-semibold rounded-md hover:bg-teal-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(eD,{className:"w-5 h-5 mr-2"})," PDF Lokal Generieren & Downloaden"]}),S.jsxs("button",{onClick:Yi,disabled:!Q||lt||!K||!Ce||Sn||_r,className:"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(kS,{className:"w-5 h-5 mr-2"})," PDF Erneut zur Cloud Hochladen"]}),cr&&S.jsxs("a",{href:cr,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-cyan-600 text-white font-semibold rounded-md hover:bg-cyan-700 disabled:opacity-50 flex items-center justify-center",children:[" ",S.jsx(I2,{className:"w-5 h-5 mr-2"})," PDF aus Cloud Öffnen"]})]}),Ce&&!lt&&S.jsxs("div",{className:"mt-4",children:[S.jsxs("h3",{className:"text-2xl font-bold text-emerald-700 my-3",children:["Geschätzter Teilwert: €",Ce.Teilwert.toFixed(2)]}),S.jsx("h4",{className:"text-md font-semibold mt-4 mb-1 text-slate-700",children:"Begründung des Teilwerts:"}),S.jsx(e1,{content:Ce.Begruendung_Teilwert}),S.jsx("h4",{className:"text-md font-semibold mt-4 mb-1 text-slate-700",children:"Keepa Bericht:"}),S.jsx(e1,{content:Ce.keepa_Bericht}),S.jsx("h4",{className:"text-md font-semibold mt-4 mb-1 text-slate-700",children:"Fazit:"}),S.jsx(e1,{content:Ce.mlFazit})]}),mi&&!Ce&&!We&&!Qe&&!lt&&S.jsx("p",{className:"text-orange-600 mt-4",children:"Gespeicherte Teilwert-Daten nicht geladen oder nicht vorhanden."})]})]})]})},Sl=({title:n,value:e,icon:t,description:i,className:r=""})=>S.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 ${r}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:n}),t&&S.jsx("div",{className:"text-sky-500",children:t})]}),S.jsx("p",{className:"text-3xl font-bold text-sky-600 mb-1",children:e}),i&&S.jsx("p",{className:"text-sm text-slate-500",children:i})]}),hD=()=>{const{products:n,isLoading:e,error:t}=Vc(),i=ne.useMemo(()=>{if(n.length===0)return null;const r=n.length,s=n.map(W=>W.etv).filter(W=>W!=null),o=s.reduce((W,ee)=>W+ee,0),u=n.filter(W=>W.etv===0).length,c=n.filter(W=>W.etv!==void 0&&W.etv!==null&&W.etv>0).length,f=c>0?s.filter(W=>W>0).reduce((W,ee)=>W+ee,0)/c:0,h=n.map(W=>W.externalTeilwert).filter(W=>W!=null),v=h.length,b=h.filter(W=>W===0).length,x=h.reduce((W,ee)=>W+ee,0),N=v>0?x/v:0,T=n.map(W=>W.externalKeepaPrice).filter(W=>W!=null&&W!==-1),M=T.length,k=n.filter(W=>W.externalKeepaPrice===void 0||W.externalKeepaPrice===null||W.externalKeepaPrice===-1).length,P=T.reduce((W,ee)=>W+ee,0),I=M>0?P/M:0,J=n.filter(W=>!!W.externalPdfUrl).length,q={};return n.forEach(W=>{const ee=W.externalSourceStatus||"N/A (Extern)";q[ee]=(q[ee]||0)+1}),{totalProducts:r,sumEtv:o,countEtvZero:u,countEtvPositive:c,avgEtvPositive:f,countWithExternalTeilwert:v,countExternalTeilwertZero:b,sumExternalTeilwert:x,avgExternalTeilwert:N,countWithExternalKeepa:M,countExternalKeepaMissingOrInvalid:k,avgExternalKeepa:I,countWithPdfLink:J,externalStatusCounts:q}},[n]);return e?S.jsx("div",{className:"flex justify-center items-center h-64",children:S.jsx(nr,{text:"Lade Statistiken..."})}):t?S.jsxs("div",{className:"text-center py-10 text-red-600",children:["Fehler beim Laden der Produktdaten für Statistiken: ",t]}):i?S.jsxs("div",{className:"space-y-8",children:[S.jsxs("header",{className:"bg-white p-6 rounded-lg shadow-md",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[S.jsx(R2,{className:"w-8 h-8 mr-3 text-sky-600"}),"Datenstatistiken (aus externer Quelle)"]}),S.jsx("p",{className:"text-slate-600 mt-1",children:"Übersicht der geladenen Produktdaten."})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[S.jsx(Sl,{title:"Produkte Gesamt",value:i.totalProducts,icon:S.jsx(tD,{className:"w-8 h-8"})}),S.jsx(Sl,{title:"Summe ETV",value:`€${i.sumEtv.toFixed(2)}`,icon:S.jsx(wa,{className:"w-8 h-8"}),description:`${i.countEtvPositive} Produkte mit ETV > 0`}),S.jsx(Sl,{title:"Ø ETV (für ETV > 0)",value:`€${i.avgEtvPositive.toFixed(2)}`,icon:S.jsx(wa,{className:"w-8 h-8"}),description:`${i.countEtvZero} Produkte mit ETV = 0`}),S.jsx(Sl,{title:"Mit ext. Teilwert",value:i.countWithExternalTeilwert,icon:S.jsx(_b,{className:"w-8 h-8"}),description:`davon ${i.countExternalTeilwertZero} mit Wert 0`}),S.jsx(Sl,{title:"Summe ext. Teilwert",value:`€${i.sumExternalTeilwert.toFixed(2)}`,icon:S.jsx(wa,{className:"w-8 h-8"})}),S.jsx(Sl,{title:"Ø ext. Teilwert",value:`€${i.avgExternalTeilwert.toFixed(2)}`,icon:S.jsx(wa,{className:"w-8 h-8"})}),S.jsx(Sl,{title:"Mit ext. Keepa Preis",value:i.countWithExternalKeepa,icon:S.jsx(_b,{className:"w-8 h-8"}),description:`${i.countExternalKeepaMissingOrInvalid} ohne/ungültig`}),S.jsx(Sl,{title:"Ø ext. Keepa Preis",value:`€${i.avgExternalKeepa.toFixed(2)}`,icon:S.jsx(wa,{className:"w-8 h-8"})}),S.jsx(Sl,{title:"Mit PDF Link",value:i.countWithPdfLink,icon:S.jsx(I2,{className:"w-8 h-8"})})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[S.jsx("h2",{className:"text-2xl font-semibold text-slate-700 mb-4",children:"Externe Statusverteilung"}),Object.keys(i.externalStatusCounts).length>0?S.jsx("ul",{className:"space-y-2",children:Object.entries(i.externalStatusCounts).sort(([,r],[,s])=>s-r).map(([r,s])=>S.jsxs("li",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-md hover:bg-slate-100 transition-colors",children:[S.jsx("span",{className:"text-slate-600",children:r}),S.jsx("span",{className:"font-semibold text-sky-600 bg-sky-100 px-2 py-0.5 rounded-full text-sm",children:s})]},r))}):S.jsx("p",{className:"text-slate-500",children:"Keine externen Statusdaten verfügbar."})]})]}):S.jsx("div",{className:"text-center py-10 text-gray-600",children:"Keine Produktdaten für Statistiken verfügbar."})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Gh(n){return n+.5|0}const Cu=(n,e,t)=>Math.max(Math.min(n,t),e);function ph(n){return Cu(Gh(n*2.55),0,255)}function Lu(n){return Cu(Gh(n*255),0,255)}function Nl(n){return Cu(Gh(n/2.55)/100,0,1)}function Cb(n){return Cu(Gh(n*100),0,100)}const xa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},X1=[..."0123456789ABCDEF"],pD=n=>X1[n&15],mD=n=>X1[(n&240)>>4]+X1[n&15],im=n=>(n&240)>>4===(n&15),gD=n=>im(n.r)&&im(n.g)&&im(n.b)&&im(n.a);function yD(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&xa[n[1]]*17,g:255&xa[n[2]]*17,b:255&xa[n[3]]*17,a:e===5?xa[n[4]]*17:255}:(e===7||e===9)&&(t={r:xa[n[1]]<<4|xa[n[2]],g:xa[n[3]]<<4|xa[n[4]],b:xa[n[5]]<<4|xa[n[6]],a:e===9?xa[n[7]]<<4|xa[n[8]]:255})),t}const vD=(n,e)=>n<255?e(n):"";function xD(n){var e=gD(n)?pD:mD;return n?"#"+e(n.r)+e(n.g)+e(n.b)+vD(n.a,e):void 0}const bD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function LS(n,e,t){const i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function wD(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function _D(n,e,t){const i=LS(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function SD(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function O2(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),u=(s+o)/2;let c,f,h;return s!==o&&(h=s-o,f=u>.5?h/(2-s-o):h/(s+o),c=SD(t,i,r,h,s),c=c*60+.5),[c|0,f||0,u]}function F2(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Lu)}function B2(n,e,t){return F2(LS,n,e,t)}function AD(n,e,t){return F2(_D,n,e,t)}function TD(n,e,t){return F2(wD,n,e,t)}function PS(n){return(n%360+360)%360}function CD(n){const e=bD.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?ph(+e[5]):Lu(+e[5]));const r=PS(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=AD(r,s,o):e[1]==="hsv"?i=TD(r,s,o):i=B2(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function ND(n,e){var t=O2(n);t[0]=PS(t[0]+e),t=B2(t),n.r=t[0],n.g=t[1],n.b=t[2]}function ED(n){if(!n)return;const e=O2(n),t=e[0],i=Cb(e[1]),r=Cb(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Nl(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Nb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Eb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kD(){const n={},e=Object.keys(Eb),t=Object.keys(Nb);let i,r,s,o,u;for(i=0;i<e.length;i++){for(o=u=e[i],r=0;r<t.length;r++)s=t[r],u=u.replace(s,Nb[s]);s=parseInt(Eb[o],16),n[u]=[s>>16&255,s>>8&255,s&255]}return n}let rm;function MD(n){rm||(rm=kD(),rm.transparent=[0,0,0,0]);const e=rm[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const LD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PD(n){const e=LD.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?ph(o):Cu(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?ph(i):Cu(i,0,255)),r=255&(e[4]?ph(r):Cu(r,0,255)),s=255&(e[6]?ph(s):Cu(s,0,255)),{r:i,g:r,b:s,a:t}}}function RD(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Nl(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const n1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,kf=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function DD(n,e,t){const i=kf(Nl(n.r)),r=kf(Nl(n.g)),s=kf(Nl(n.b));return{r:Lu(n1(i+t*(kf(Nl(e.r))-i))),g:Lu(n1(r+t*(kf(Nl(e.g))-r))),b:Lu(n1(s+t*(kf(Nl(e.b))-s))),a:n.a+t*(e.a-n.a)}}function sm(n,e,t){if(n){let i=O2(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=B2(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function RS(n,e){return n&&Object.assign(e||{},n)}function kb(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Lu(n[3]))):(e=RS(n,{r:0,g:0,b:0,a:1}),e.a=Lu(e.a)),e}function ID(n){return n.charAt(0)==="r"?PD(n):CD(n)}class Ph{constructor(e){if(e instanceof Ph)return e;const t=typeof e;let i;t==="object"?i=kb(e):t==="string"&&(i=yD(e)||MD(e)||ID(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=RS(this._rgb);return e&&(e.a=Nl(e.a)),e}set rgb(e){this._rgb=kb(e)}rgbString(){return this._valid?RD(this._rgb):void 0}hexString(){return this._valid?xD(this._rgb):void 0}hslString(){return this._valid?ED(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,u=2*o-1,c=i.a-r.a,f=((u*c===-1?u:(u+c)/(1+u*c))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=DD(this._rgb,e._rgb,t)),this}clone(){return new Ph(this.rgb)}alpha(e){return this._rgb.a=Lu(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Gh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return sm(this._rgb,2,e),this}darken(e){return sm(this._rgb,2,-e),this}saturate(e){return sm(this._rgb,1,e),this}desaturate(e){return sm(this._rgb,1,-e),this}rotate(e){return ND(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Al(){}const OD=(()=>{let n=0;return()=>n++})();function Pn(n){return n==null}function qi(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Dn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ur(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Qs(n,e){return ur(n)?n:e}function pn(n,e){return typeof n>"u"?e:n}const FD=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,DS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ai(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function ui(n,e,t,i){let r,s,o;if(qi(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(Dn(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function Qm(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function eg(n){if(qi(n))return n.map(eg);if(Dn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=eg(n[t[r]]);return e}return n}function IS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function BD(n,e,t,i){if(!IS(n))return;const r=e[n],s=t[n];Dn(r)&&Dn(s)?Rh(r,s,i):e[n]=eg(s)}function Rh(n,e,t){const i=qi(e)?e:[e],r=i.length;if(!Dn(n))return n;t=t||{};const s=t.merger||BD;let o;for(let u=0;u<r;++u){if(o=i[u],!Dn(o))continue;const c=Object.keys(o);for(let f=0,h=c.length;f<h;++f)s(c[f],n,o,t)}return n}function Ah(n,e){return Rh(n,e,{merger:zD})}function zD(n,e,t){if(!IS(n))return;const i=e[n],r=t[n];Dn(i)&&Dn(r)?Ah(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=eg(r))}const Mb={"":n=>n,x:n=>n.x,y:n=>n.y};function jD(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function VD(n){const e=jD(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Ou(n,e){return(Mb[e]||(Mb[e]=VD(e)))(n)}function z2(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Dh=n=>typeof n<"u",Fu=n=>typeof n=="function",Lb=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function UD(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Di=Math.PI,Ri=2*Di,qD=Ri+Di,tg=Number.POSITIVE_INFINITY,HD=Di/180,br=Di/2,xc=Di/4,Pb=Di*2/3,Nu=Math.log10,Go=Math.sign;function Th(n,e,t){return Math.abs(n-e)<t}function Rb(n){const e=Math.round(n);n=Th(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Nu(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function GD(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function WD(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function nd(n){return!WD(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function KD(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function OS(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ja(n){return n*(Di/180)}function j2(n){return n*(180/Di)}function Db(n){if(!ur(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function FS(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*Di&&(s+=Ri),{angle:s,distance:r}}function Q1(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function YD(n,e){return(n-e+qD)%Ri-Di}function ta(n){return(n%Ri+Ri)%Ri}function Ih(n,e,t,i){const r=ta(n),s=ta(e),o=ta(t),u=ta(s-r),c=ta(o-r),f=ta(r-s),h=ta(r-o);return r===s||r===o||i&&s===o||u>c&&f<h}function Gr(n,e,t){return Math.max(e,Math.min(t,n))}function $D(n){return Gr(n,-32768,32767)}function kl(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function V2(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const Ml=(n,e,t,i)=>V2(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),JD=(n,e,t)=>V2(n,t,i=>n[i][e]>=t);function ZD(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const BS=["push","pop","shift","splice","unshift"];function XD(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),BS.forEach(t=>{const i="_onData"+z2(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...s)}),o}})})}function Ib(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(BS.forEach(s=>{delete n[s]}),delete n._chartjs)}function zS(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const jS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function VS(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,jS.call(window,()=>{i=!1,n.apply(e,t)}))}}function QD(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const U2=n=>n==="start"?"left":n==="end"?"right":"center",cs=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,e8=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function US(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:u,_parsed:c}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=o.axis,{min:v,max:b,minDefined:x,maxDefined:N}=o.getUserBounds();if(x){if(r=Math.min(Ml(c,h,v).lo,t?i:Ml(e,h,o.getPixelForValue(v)).lo),f){const T=c.slice(0,r+1).reverse().findIndex(M=>!Pn(M[u.axis]));r-=Math.max(0,T)}r=Gr(r,0,i-1)}if(N){let T=Math.max(Ml(c,o.axis,b,!0).hi+1,t?0:Ml(e,h,o.getPixelForValue(b),!0).hi+1);if(f){const M=c.slice(T-1).findIndex(k=>!Pn(k[u.axis]));T+=Math.max(0,M)}s=Gr(T,r,i)-r}else s=i-r}return{start:r,count:s}}function qS(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const am=n=>n===0||n===1,Ob=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ri/t)),Fb=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ri/t)+1,Ch={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*br)+1,easeOutSine:n=>Math.sin(n*br),easeInOutSine:n=>-.5*(Math.cos(Di*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>am(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>am(n)?n:Ob(n,.075,.3),easeOutElastic:n=>am(n)?n:Fb(n,.075,.3),easeInOutElastic(n){return am(n)?n:n<.5?.5*Ob(n*2,.1125,.45):.5+.5*Fb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ch.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ch.easeInBounce(n*2)*.5:Ch.easeOutBounce(n*2-1)*.5+.5};function q2(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Bb(n){return q2(n)?n:new Ph(n)}function i1(n){return q2(n)?n:new Ph(n).saturate(.5).darken(.1).hexString()}const t8=["x","y","borderWidth","radius","tension"],n8=["color","borderColor","backgroundColor"];function i8(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:n8},numbers:{type:"number",properties:t8}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function r8(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zb=new Map;function s8(n,e){e=e||{};const t=n+JSON.stringify(e);let i=zb.get(t);return i||(i=new Intl.NumberFormat(n,e),zb.set(t,i)),i}function Wh(n,e,t){return s8(e,t).format(n)}const HS={values(n){return qi(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=a8(n,t)}const o=Nu(Math.abs(s)),u=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),Wh(n,i,c)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Nu(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?HS.numeric.call(this,n,e,t):""}};function a8(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var gg={formatters:HS};function o8(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:gg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bc=Object.create(null),e2=Object.create(null);function Nh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function r1(n,e,t){return typeof e=="string"?Rh(Nh(n,e),t):Rh(Nh(n,""),e)}class l8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>i1(r.backgroundColor),this.hoverBorderColor=(i,r)=>i1(r.borderColor),this.hoverColor=(i,r)=>i1(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return r1(this,e,t)}get(e){return Nh(this,e)}describe(e,t){return r1(e2,e,t)}override(e,t){return r1(Bc,e,t)}route(e,t,i,r){const s=Nh(this,e),o=Nh(this,i),u="_"+t;Object.defineProperties(s,{[u]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[u],f=o[r];return Dn(c)?Object.assign({},f,c):pn(c,f)},set(c){this[u]=c}}})}apply(e){e.forEach(t=>t(this))}}var Hi=new l8({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[i8,r8,o8]);function u8(n){return!n||Pn(n.size)||Pn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ng(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function c8(n,e,t,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const u=t.length;let c,f,h,v,b;for(c=0;c<u;c++)if(v=t[c],v!=null&&!qi(v))o=ng(n,r,s,o,v);else if(qi(v))for(f=0,h=v.length;f<h;f++)b=v[f],b!=null&&!qi(b)&&(o=ng(n,r,s,o,b));n.restore();const x=s.length/2;if(x>t.length){for(c=0;c<x;c++)delete r[s[c]];s.splice(0,x)}return o}function bc(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function jb(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function t2(n,e,t,i){GS(n,e,t,i,null)}function GS(n,e,t,i,r){let s,o,u,c,f,h,v,b;const x=e.pointStyle,N=e.rotation,T=e.radius;let M=(N||0)*HD;if(x&&typeof x=="object"&&(s=x.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(M),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(T)||T<=0)){switch(n.beginPath(),x){default:r?n.ellipse(t,i,r/2,T,0,0,Ri):n.arc(t,i,T,0,Ri),n.closePath();break;case"triangle":h=r?r/2:T,n.moveTo(t+Math.sin(M)*h,i-Math.cos(M)*T),M+=Pb,n.lineTo(t+Math.sin(M)*h,i-Math.cos(M)*T),M+=Pb,n.lineTo(t+Math.sin(M)*h,i-Math.cos(M)*T),n.closePath();break;case"rectRounded":f=T*.516,c=T-f,o=Math.cos(M+xc)*c,v=Math.cos(M+xc)*(r?r/2-f:c),u=Math.sin(M+xc)*c,b=Math.sin(M+xc)*(r?r/2-f:c),n.arc(t-v,i-u,f,M-Di,M-br),n.arc(t+b,i-o,f,M-br,M),n.arc(t+v,i+u,f,M,M+br),n.arc(t-b,i+o,f,M+br,M+Di),n.closePath();break;case"rect":if(!N){c=Math.SQRT1_2*T,h=r?r/2:c,n.rect(t-h,i-c,2*h,2*c);break}M+=xc;case"rectRot":v=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-v,i-u),n.lineTo(t+b,i-o),n.lineTo(t+v,i+u),n.lineTo(t-b,i+o),n.closePath();break;case"crossRot":M+=xc;case"cross":v=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o);break;case"star":v=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o),M+=xc,v=Math.cos(M)*(r?r/2:T),o=Math.cos(M)*T,u=Math.sin(M)*T,b=Math.sin(M)*(r?r/2:T),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o);break;case"line":o=r?r/2:Math.cos(M)*T,u=Math.sin(M)*T,n.moveTo(t-o,i-u),n.lineTo(t+o,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(M)*(r?r/2:T),i+Math.sin(M)*T);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Ll(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function yg(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function vg(n){n.restore()}function f8(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function d8(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function h8(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Pn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function p8(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,u=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,f=t+s.actualBoundingBoxDescent,h=r.strikethrough?(c+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,h),n.lineTo(u,h),n.stroke()}}function m8(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function zc(n,e,t,i,r,s={}){const o=qi(e)?e:[e],u=s.strokeWidth>0&&s.strokeColor!=="";let c,f;for(n.save(),n.font=r.string,h8(n,s),c=0;c<o.length;++c)f=o[c],s.backdrop&&m8(n,s.backdrop),u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Pn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,t,i,s.maxWidth)),n.fillText(f,t,i,s.maxWidth),p8(n,t,i,f,s),i+=Number(r.lineHeight);n.restore()}function Oh(n,e){const{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Di,Di,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Di,br,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,br,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-br,!0),n.lineTo(t+o.topLeft,i)}const g8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,y8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function v8(n,e){const t=(""+n).match(g8);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const x8=n=>+n||0;function H2(n,e){const t={},i=Dn(e),r=i?Object.keys(e):e,s=Dn(n)?i?o=>pn(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=x8(s(o));return t}function WS(n){return H2(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Rc(n){return H2(n,["topLeft","topRight","bottomLeft","bottomRight"])}function hs(n){const e=WS(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Or(n,e){n=n||{},e=e||Hi.font;let t=pn(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=pn(n.style,e.style);i&&!(""+i).match(y8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:pn(n.family,e.family),lineHeight:v8(pn(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:pn(n.weight,e.weight),string:""};return r.string=u8(r),r}function mh(n,e,t,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function b8(n,e,t){const{min:i,max:r}=n,s=DS(e,(r-i)/2),o=(u,c)=>t&&u===0?0:u+c;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Uu(n,e){return Object.assign(Object.create(n),e)}function G2(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=JS("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:u=>G2([u,...n],e,s,i)};return new Proxy(o,{deleteProperty(u,c){return delete u[c],delete u._keys,delete n[0][c],!0},get(u,c){return YS(u,c,()=>E8(c,e,n,u))},getOwnPropertyDescriptor(u,c){return Reflect.getOwnPropertyDescriptor(u._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,c){return Ub(u).includes(c)},ownKeys(u){return Ub(u)},set(u,c,f){const h=u._storage||(u._storage=r());return u[c]=h[c]=f,delete u._keys,!0}})}function id(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:KS(n,i),setContext:s=>id(n,s,t,i),override:s=>id(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,u){return YS(s,o,()=>_8(s,o,u))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,u){return n[o]=u,delete s[o],!0}})}function KS(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Fu(t)?t:()=>t,isIndexable:Fu(i)?i:()=>i}}const w8=(n,e)=>n?n+z2(e):e,W2=(n,e)=>Dn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function YS(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function _8(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let u=i[e];return Fu(u)&&o.isScriptable(e)&&(u=S8(e,u,n,t)),qi(u)&&u.length&&(u=A8(e,u,n,o.isIndexable)),W2(e,u)&&(u=id(u,r,s&&s[e],o)),u}function S8(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let c=e(s,o||i);return u.delete(n),W2(n,c)&&(c=K2(r._scopes,r,n,c)),c}function A8(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:u}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(Dn(e[0])){const c=e,f=r._scopes.filter(h=>h!==c);e=[];for(const h of c){const v=K2(f,r,n,h);e.push(id(v,s,o&&o[n],u))}}return e}function $S(n,e,t){return Fu(n)?n(e,t):n}const T8=(n,e)=>n===!0?e:typeof n=="string"?Ou(e,n):void 0;function C8(n,e,t,i,r){for(const s of e){const o=T8(t,s);if(o){n.add(o);const u=$S(o._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function K2(n,e,t,i){const r=e._rootScopes,s=$S(e._fallback,t,i),o=[...n,...r],u=new Set;u.add(i);let c=Vb(u,o,t,s||t,i);return c===null||typeof s<"u"&&s!==t&&(c=Vb(u,o,s,c,i),c===null)?!1:G2(Array.from(u),[""],r,s,()=>N8(e,t,i))}function Vb(n,e,t,i,r){for(;t;)t=C8(n,e,t,i,r);return t}function N8(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return qi(r)&&Dn(t)?t:r||{}}function E8(n,e,t,i){let r;for(const s of e)if(r=JS(w8(s,n),t),typeof r<"u")return W2(n,r)?K2(t,i,n,r):r}function JS(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Ub(n){let e=n._keys;return e||(e=n._keys=k8(n._scopes)),e}function k8(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function ZS(n,e,t,i){const{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i);let u,c,f,h;for(u=0,c=i;u<c;++u)f=u+t,h=e[f],o[u]={r:r.parse(Ou(h,s),f)};return o}const M8=Number.EPSILON||1e-14,rd=(n,e)=>e<n.length&&!n[e].skip&&n[e],XS=n=>n==="x"?"y":"x";function L8(n,e,t,i){const r=n.skip?e:n,s=e,o=t.skip?e:t,u=Q1(s,r),c=Q1(o,s);let f=u/(u+c),h=c/(u+c);f=isNaN(f)?0:f,h=isNaN(h)?0:h;const v=i*f,b=i*h;return{previous:{x:s.x-v*(o.x-r.x),y:s.y-v*(o.y-r.y)},next:{x:s.x+b*(o.x-r.x),y:s.y+b*(o.y-r.y)}}}function P8(n,e,t){const i=n.length;let r,s,o,u,c,f=rd(n,0);for(let h=0;h<i-1;++h)if(c=f,f=rd(n,h+1),!(!c||!f)){if(Th(e[h],0,M8)){t[h]=t[h+1]=0;continue}r=t[h]/e[h],s=t[h+1]/e[h],u=Math.pow(r,2)+Math.pow(s,2),!(u<=9)&&(o=3/Math.sqrt(u),t[h]=r*o*e[h],t[h+1]=s*o*e[h])}}function R8(n,e,t="x"){const i=XS(t),r=n.length;let s,o,u,c=rd(n,0);for(let f=0;f<r;++f){if(o=u,u=c,c=rd(n,f+1),!u)continue;const h=u[t],v=u[i];o&&(s=(h-o[t])/3,u[`cp1${t}`]=h-s,u[`cp1${i}`]=v-s*e[f]),c&&(s=(c[t]-h)/3,u[`cp2${t}`]=h+s,u[`cp2${i}`]=v+s*e[f])}}function D8(n,e="x"){const t=XS(e),i=n.length,r=Array(i).fill(0),s=Array(i);let o,u,c,f=rd(n,0);for(o=0;o<i;++o)if(u=c,c=f,f=rd(n,o+1),!!c){if(f){const h=f[e]-c[e];r[o]=h!==0?(f[t]-c[t])/h:0}s[o]=u?f?Go(r[o-1])!==Go(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}P8(n,r,s),R8(n,s,e)}function om(n,e,t){return Math.max(Math.min(n,t),e)}function I8(n,e){let t,i,r,s,o,u=Ll(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=u,u=t<i-1&&Ll(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=om(r.cp1x,e.left,e.right),r.cp1y=om(r.cp1y,e.top,e.bottom)),u&&(r.cp2x=om(r.cp2x,e.left,e.right),r.cp2y=om(r.cp2y,e.top,e.bottom)))}function O8(n,e,t,i,r){let s,o,u,c;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")D8(n,r);else{let f=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)u=n[s],c=L8(f,u,n[Math.min(s+1,o-(i?0:1))%o],e.tension),u.cp1x=c.previous.x,u.cp1y=c.previous.y,u.cp2x=c.next.x,u.cp2y=c.next.y,f=u}e.capBezierPoints&&I8(n,t)}function Y2(){return typeof window<"u"&&typeof document<"u"}function $2(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ig(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const xg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function F8(n,e){return xg(n).getPropertyValue(e)}const B8=["top","right","bottom","left"];function Dc(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=B8[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const z8=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function j8(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,u,c;if(z8(r,s,n.target))u=r,c=s;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,c=i.clientY-f.top,o=!0}return{x:u,y:c,box:o}}function Tc(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=xg(t),s=r.boxSizing==="border-box",o=Dc(r,"padding"),u=Dc(r,"border","width"),{x:c,y:f,box:h}=j8(n,t),v=o.left+(h&&u.left),b=o.top+(h&&u.top);let{width:x,height:N}=e;return s&&(x-=o.width+u.width,N-=o.height+u.height),{x:Math.round((c-v)/x*t.width/i),y:Math.round((f-b)/N*t.height/i)}}function V8(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&$2(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),u=xg(s),c=Dc(u,"border","width"),f=Dc(u,"padding");e=o.width-f.width-c.width,t=o.height-f.height-c.height,i=ig(u.maxWidth,s,"clientWidth"),r=ig(u.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||tg,maxHeight:r||tg}}const lm=n=>Math.round(n*10)/10;function U8(n,e,t,i){const r=xg(n),s=Dc(r,"margin"),o=ig(r.maxWidth,n,"clientWidth")||tg,u=ig(r.maxHeight,n,"clientHeight")||tg,c=V8(n,e,t);let{width:f,height:h}=c;if(r.boxSizing==="content-box"){const b=Dc(r,"border","width"),x=Dc(r,"padding");f-=x.width+b.width,h-=x.height+b.height}return f=Math.max(0,f-s.width),h=Math.max(0,i?f/i:h-s.height),f=lm(Math.min(f,o,c.maxWidth)),h=lm(Math.min(h,u,c.maxHeight)),f&&!h&&(h=lm(f/2)),(e!==void 0||t!==void 0)&&i&&c.height&&h>c.height&&(h=c.height,f=lm(Math.floor(h*i))),{width:f,height:h}}function qb(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const q8=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Y2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Hb(n,e){const t=F8(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Cc(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function H8(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function G8(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Cc(n,r,t),u=Cc(r,s,t),c=Cc(s,e,t),f=Cc(o,u,t),h=Cc(u,c,t);return Cc(f,h,t)}const W8=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},K8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function $f(n,e,t){return n?W8(e,t):K8()}function QS(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function eA(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function tA(n){return n==="angle"?{between:Ih,compare:YD,normalize:ta}:{between:kl,compare:(e,t)=>e-t,normalize:e=>e}}function Gb({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function Y8(n,e,t){const{property:i,start:r,end:s}=t,{between:o,normalize:u}=tA(i),c=e.length;let{start:f,end:h,loop:v}=n,b,x;if(v){for(f+=c,h+=c,b=0,x=c;b<x&&o(u(e[f%c][i]),r,s);++b)f--,h--;f%=c,h%=c}return h<f&&(h+=c),{start:f,end:h,loop:v,style:n.style}}function nA(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,o=e.length,{compare:u,between:c,normalize:f}=tA(i),{start:h,end:v,loop:b,style:x}=Y8(n,e,t),N=[];let T=!1,M=null,k,P,I;const J=()=>c(r,I,k)&&u(r,I)!==0,q=()=>u(s,k)===0||c(s,I,k),W=()=>T||J(),ee=()=>!T||q();for(let j=h,ie=h;j<=v;++j)P=e[j%o],!P.skip&&(k=f(P[i]),k!==I&&(T=c(k,r,s),M===null&&W()&&(M=u(k,r)===0?j:ie),M!==null&&ee()&&(N.push(Gb({start:M,end:j,loop:b,count:o,style:x})),M=null),ie=j,I=k));return M!==null&&N.push(Gb({start:M,end:v,loop:b,count:o,style:x})),N}function iA(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=nA(i[r],n.points,e);s.length&&t.push(...s)}return t}function $8(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function J8(n,e,t,i){const r=n.length,s=[];let o=e,u=n[e],c;for(c=e+1;c<=t;++c){const f=n[c%r];f.skip||f.stop?u.skip||(i=!1,s.push({start:e%r,end:(c-1)%r,loop:i}),e=o=f.stop?c:null):(o=c,u.skip&&(e=c)),u=f}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function Z8(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:o,end:u}=$8(t,r,s,i);if(i===!0)return Wb(n,[{start:o,end:u,loop:s}],t,e);const c=u<o?u+r:u,f=!!n._fullLoop&&o===0&&u===r-1;return Wb(n,J8(t,o,c,f),t,e)}function Wb(n,e,t,i){return!i||!i.setContext||!t?e:X8(n,e,t,i)}function X8(n,e,t,i){const r=n._chart.getContext(),s=Kb(n.options),{_datasetIndex:o,options:{spanGaps:u}}=n,c=t.length,f=[];let h=s,v=e[0].start,b=v;function x(N,T,M,k){const P=u?-1:1;if(N!==T){for(N+=c;t[N%c].skip;)N-=P;for(;t[T%c].skip;)T+=P;N%c!==T%c&&(f.push({start:N%c,end:T%c,loop:M,style:k}),h=k,v=T%c)}}for(const N of e){v=u?v:N.start;let T=t[v%c],M;for(b=v+1;b<=N.end;b++){const k=t[b%c];M=Kb(i.setContext(Uu(r,{type:"segment",p0:T,p1:k,p0DataIndex:(b-1)%c,p1DataIndex:b%c,datasetIndex:o}))),Q8(M,h)&&x(v,b-1,N.loop,h),T=k,h=M}v<b-1&&x(v,b-1,N.loop,h)}return f}function Kb(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Q8(n,e){if(!e)return!1;const t=[],i=function(r,s){return q2(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function um(n,e,t){return n.options.clip?n[t]:e[t]}function eI(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:um(t,e,"left"),right:um(t,e,"right"),top:um(i,e,"top"),bottom:um(i,e,"bottom")}:e}function rA(n,e){const t=e._clip;if(t.disabled)return!1;const i=eI(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class tI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],o=t.duration;s.forEach(u=>u({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=jS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,u=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),u=!0):(s[o]=s[s.length-1],s.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Tl=new tI;const Yb="transparent",nI={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Bb(n||Yb),r=i.valid&&Bb(e||Yb);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class iI{constructor(e,t,i,r){const s=t[i];r=mh([e.to,r,s,e.from]);const o=mh([e.from,s,r]);this._active=!0,this._fn=e.fn||nI[e.type||typeof o],this._easing=Ch[e.easing]||Ch.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=mh([e.to,t,r,e.from]),this._from=mh([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,u=this._to;let c;if(this._active=s!==u&&(o||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=s;return}c=t/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,u,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class sA{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Dn(e))return;const t=Object.keys(Hi.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Dn(s))return;const o={};for(const u of t)o[u]=s[u];(qi(s.properties)&&s.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,o)})})}_animateOptions(e,t){const i=t.options,r=sI(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&rI(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),u=Date.now();let c;for(c=o.length-1;c>=0;--c){const f=o[c];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const h=t[f];let v=s[f];const b=i.get(f);if(v)if(b&&v.active()){v.update(b,h,u);continue}else v.cancel();if(!b||!b.duration){e[f]=h;continue}s[f]=v=new iI(b,e,f,h),r.push(v)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Tl.add(this._chart,i),!0}}function rI(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function sI(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function $b(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function aI(n,e,t){if(t===!1)return!1;const i=$b(n,t),r=$b(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function oI(n){let e,t,i,r;return Dn(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function aA(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function Jb(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let o,u,c,f;if(e===null)return;let h=!1;for(o=0,u=r.length;o<u;++o){if(c=+r[o],c===t){if(h=!0,i.all)continue;break}f=n.values[c],ur(f)&&(s||e===0||Go(e)===Go(f))&&(e+=f)}return!h&&!i.all?0:e}function lI(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),u=new Array(o.length);let c,f,h;for(c=0,f=o.length;c<f;++c)h=o[c],u[c]={[r]:h,[s]:n[h]};return u}function s1(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function uI(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function cI(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function fI(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Zb(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function Xb(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:u}=i,c=s.axis,f=o.axis,h=uI(s,o,i),v=e.length;let b;for(let x=0;x<v;++x){const N=e[x],{[c]:T,[f]:M}=N,k=N._stacks||(N._stacks={});b=k[f]=fI(r,h,T),b[u]=M,b._top=Zb(b,o,!0,i.type),b._bottom=Zb(b,o,!1,i.type);const P=b._visualValues||(b._visualValues={});P[u]=M}}function a1(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function dI(n,e){return Uu(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hI(n,e,t){return Uu(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function oh(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const o1=n=>n==="reset"||n==="none",Qb=(n,e)=>e?n:Object.assign({},n),pI=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:aA(t,!0),values:null};class Xa{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=s1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&oh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(v,b,x,N)=>v==="x"?b:v==="r"?N:x,s=t.xAxisID=pn(i.xAxisID,a1(e,"x")),o=t.yAxisID=pn(i.yAxisID,a1(e,"y")),u=t.rAxisID=pn(i.rAxisID,a1(e,"r")),c=t.indexAxis,f=t.iAxisID=r(c,s,o,u),h=t.vAxisID=r(c,o,s,u);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ib(this._data,this),e._stacked&&oh(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Dn(t)){const r=this._cachedMeta;this._data=lI(t,r)}else if(i!==t){if(i){Ib(i,this);const r=this._cachedMeta;oh(r),r._parsed=[]}t&&Object.isExtensible(t)&&XD(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=s1(t.vScale,t),t.stack!==i.stack&&(r=!0,oh(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(Xb(this,t._parsed),t._stacked=s1(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,u=s.axis;let c=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],h,v,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{qi(r[e])?b=this.parseArrayData(i,r,e,t):Dn(r[e])?b=this.parseObjectData(i,r,e,t):b=this.parsePrimitiveData(i,r,e,t);const x=()=>v[u]===null||f&&v[u]<f[u];for(h=0;h<t;++h)i._parsed[h+e]=v=b[h],c&&(x()&&(c=!1),f=v);i._sorted=c}o&&Xb(this,b)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:o}=e,u=s.axis,c=o.axis,f=s.getLabels(),h=s===o,v=new Array(r);let b,x,N;for(b=0,x=r;b<x;++b)N=b+i,v[b]={[u]:h||s.parse(f[N],N),[c]:o.parse(t[N],N)};return v}parseArrayData(e,t,i,r){const{xScale:s,yScale:o}=e,u=new Array(r);let c,f,h,v;for(c=0,f=r;c<f;++c)h=c+i,v=t[h],u[c]={x:s.parse(v[0],h),y:o.parse(v[1],h)};return u}parseObjectData(e,t,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=new Array(r);let h,v,b,x;for(h=0,v=r;h<v;++h)b=h+i,x=t[b],f[h]={x:s.parse(Ou(x,u),b),y:o.parse(Ou(x,c),b)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,o=t[e.axis],u={keys:aA(r,!0),values:t._stacks[e.axis]._visualValues};return Jb(u,o,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let o=s===null?NaN:s;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,o=Jb(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,u=this._getOtherScale(e),c=pI(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:v}=cI(u);let b,x;function N(){x=r[b];const T=x[u.axis];return!ur(x[e.axis])||h>T||v<T}for(b=0;b<o&&!(!N()&&(this.updateRangeFromParsed(f,e,x,c),s));++b);if(s){for(b=o-1;b>=0;--b)if(!N()){this.updateRangeFromParsed(f,e,x,c);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=t.length;r<s;++r)o=t[r][e.axis],ur(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=oI(pn(this.options.clip,aI(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,o=[],u=this._drawStart||0,c=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,u,c),h=u;h<u+c;++h){const v=r[h];v.hidden||(v.active&&f?o.push(v):v.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=hI(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=dI(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,o=e+"-"+t,u=s[o],c=this.enableOptionSharing&&Dh(i);if(u)return Qb(u,c);const f=this.chart.config,h=f.datasetElementScopeKeys(this._type,e),v=r?[`${e}Hover`,"hover",e,""]:[e,""],b=f.getOptionScopes(this.getDataset(),h),x=Object.keys(Hi.elements[e]),N=()=>this.getContext(i,r,t),T=f.resolveNamedOptions(b,x,N,v);return T.$shared&&(T.$shared=c,s[o]=Object.freeze(Qb(T,c))),T}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,u=s[o];if(u)return u;let c;if(r.options.animation!==!1){const h=this.chart.config,v=h.datasetAnimationScopeKeys(this._type,t),b=h.getOptionScopes(this.getDataset(),v);c=h.createResolver(b,this.getContext(e,i,t))}const f=new sA(r,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||o1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:o}}updateElement(e,t,i,r){o1(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!o1(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,c,f]of this._syncList)this[u](c,f);this._syncList=[];const r=i.length,s=t.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,o=e+t;let u;const c=f=>{for(f.length+=t,u=f.length-1;u>=o;u--)f[u]=f[u-t]};for(c(s),u=e;u<o;++u)s[u]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&oh(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ot(Xa,"defaults",{}),ot(Xa,"datasetElementType",null),ot(Xa,"dataElementType",null);function mI(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=zS(i.sort((r,s)=>r-s))}return n._cache.$bar}function gI(n){const e=n.iScale,t=mI(e,n.type);let i=e._length,r,s,o,u;const c=()=>{o===32767||o===-32768||(Dh(u)&&(i=Math.min(i,Math.abs(o-u)||i)),u=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),c();for(u=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),c();return i}function yI(n,e,t,i){const r=t.barThickness;let s,o;return Pn(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}function vI(n,e,t,i){const r=e.pixels,s=r[n];let o=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const c=t.categoryPercentage;o===null&&(o=s-(u===null?e.end-e.start:u-s)),u===null&&(u=s+s-o);const f=s-(s-Math.min(o,u))/2*c;return{chunk:Math.abs(u-o)/2*c/i,ratio:t.barPercentage,start:f}}function xI(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),u=Math.max(r,s);let c=o,f=u;Math.abs(o)>Math.abs(u)&&(c=u,f=o),e[t.axis]=f,e._custom={barStart:c,barEnd:f,start:r,end:s,min:o,max:u}}function oA(n,e,t,i){return qi(n)?xI(n,e,t,i):e[t.axis]=t.parse(n,i),e}function ew(n,e,t,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),u=r===s,c=[];let f,h,v,b;for(f=t,h=t+i;f<h;++f)b=e[f],v={},v[r.axis]=u||r.parse(o[f],f),c.push(oA(b,v,s,f));return c}function l1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function bI(n,e,t){return n!==0?Go(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function wI(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function _I(n,e,t,i){let r=e.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:u,reverse:c,top:f,bottom:h}=wI(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=f:(t._bottom||0)===i?r=h:(s[tw(h,o,u,c)]=!0,r=f)),s[tw(r,o,u,c)]=!0,n.borderSkipped=s}function tw(n,e,t,i){return i?(n=SI(n,e,t),n=nw(n,t,e)):n=nw(n,e,t),n}function SI(n,e,t){return n===e?t:n===t?e:n}function nw(n,e,t){return n==="start"?e:n==="end"?t:n}function AI(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Em extends Xa{parsePrimitiveData(e,t,i,r){return ew(e,t,i,r)}parseArrayData(e,t,i,r){return ew(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=s.axis==="x"?u:c,h=o.axis==="x"?u:c,v=[];let b,x,N,T;for(b=i,x=i+r;b<x;++b)T=t[b],N={},N[s.axis]=s.parse(Ou(T,f),b),v.push(oA(Ou(T,h),N,o,b));return v}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,s=this.getParsed(e),o=s._custom,u=l1(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:u}}=this,c=u.getBasePixel(),f=u.isHorizontal(),h=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(t,r);for(let x=t;x<t+i;x++){const N=this.getParsed(x),T=s||Pn(N[u.axis])?{base:c,head:c}:this._calculateBarValuePixels(x),M=this._calculateBarIndexPixels(x,h),k=(N._stacks||{})[u.axis],P={horizontal:f,base:T.base,enableBorderRadius:!k||l1(N._custom)||o===k._top||o===k._bottom,x:f?T.head:M.center,y:f?M.center:T.head,height:f?M.size:Math.abs(T.size),width:f?Math.abs(T.size):M.size};b&&(P.options=v||this.resolveDataElementOptions(x,e[x].active?"active":r));const I=P.options||e[x].options;_I(P,I,k,o),AI(P,I,h.ratio),this.updateElement(e[x],x,P,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,o=[],u=this._cachedMeta.controller.getParsed(t),c=u&&u[i.axis],f=h=>{const v=h._parsed.find(x=>x[i.axis]===c),b=v&&v[h.vScale.axis];if(Pn(b)||isNaN(b))return!0};for(const h of r)if(!(t!==void 0&&f(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const r=this._getStacks(e,i),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let s,o;for(s=0,o=t.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const u=e.barThickness;return{min:u||gI(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,u=s||0,c=this.getParsed(e),f=c._custom,h=l1(f);let v=c[t.axis],b=0,x=i?this.applyStack(t,c,i):v,N,T;x!==v&&(b=x-v,x=v),h&&(v=f.barStart,x=f.barEnd-f.barStart,v!==0&&Go(v)!==Go(f.barEnd)&&(b=0),b+=v);const M=!Pn(s)&&!h?s:b;let k=t.getPixelForValue(M);if(this.chart.getDataVisibility(e)?N=t.getPixelForValue(b+x):N=k,T=N-k,Math.abs(T)<o){T=bI(T,t,u)*o,v===u&&(k-=T/2);const P=t.getPixelForDecimal(0),I=t.getPixelForDecimal(1),J=Math.min(P,I),q=Math.max(P,I);k=Math.max(Math.min(k,q),J),N=k+T,i&&!h&&(c._stacks[t.axis]._visualValues[r]=t.getValueForPixel(N)-t.getValueForPixel(k))}if(k===t.getPixelForValue(u)){const P=Go(T)*t.getLineWidthForValue(u)/2;k+=P,T-=P}return{size:T,base:k,head:N,center:N+T/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,s=r.skipNull,o=pn(r.maxBarThickness,1/0);let u,c;if(t.grouped){const f=s?this._getStackCount(e):t.stackCount,h=r.barThickness==="flex"?vI(e,t,r,f):yI(e,t,r,f),v=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);u=h.start+h.chunk*v+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(o,t.min*t.ratio);return{base:u-c/2,head:u+c/2,center:u,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}ot(Em,"id","bar"),ot(Em,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ot(Em,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class km extends Xa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,r){const s=super.parsePrimitiveData(e,t,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,t,i,r){const s=super.parseArrayData(e,t,i,r);for(let o=0;o<s.length;o++){const u=t[i+o];s[o]._custom=pn(u[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,t,i,r){const s=super.parseObjectData(e,t,i,r);for(let o=0;o<s.length;o++){const u=t[i+o];s[o]._custom=pn(u&&u.r&&+u.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=t,o=this.getParsed(e),u=r.getLabelForValue(o.x),c=s.getLabelForValue(o.y),f=o._custom;return{label:i[e]||"",value:"("+u+", "+c+(f?", "+f:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:u}=this._cachedMeta,{sharedOptions:c,includeOptions:f}=this._getSharedOptions(t,r),h=o.axis,v=u.axis;for(let b=t;b<t+i;b++){const x=e[b],N=!s&&this.getParsed(b),T={},M=T[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(N[h]),k=T[v]=s?u.getBasePixel():u.getPixelForValue(N[v]);T.skip=isNaN(M)||isNaN(k),f&&(T.options=c||this.resolveDataElementOptions(b,x.active?"active":r),s&&(T.options.radius=0)),this.updateElement(x,b,T,r)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return t!=="active"&&(r.radius=0),r.radius+=pn(i&&i._custom,s),r}}ot(km,"id","bubble"),ot(km,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ot(km,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function TI(n,e,t){let i=1,r=1,s=0,o=0;if(e<Ri){const u=n,c=u+e,f=Math.cos(u),h=Math.sin(u),v=Math.cos(c),b=Math.sin(c),x=(I,J,q)=>Ih(I,u,c,!0)?1:Math.max(J,J*t,q,q*t),N=(I,J,q)=>Ih(I,u,c,!0)?-1:Math.min(J,J*t,q,q*t),T=x(0,f,v),M=x(br,h,b),k=N(Di,f,v),P=N(Di+br,h,b);i=(T-k)/2,r=(M-P)/2,s=-(T+k)/2,o=-(M+P)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Mc extends Xa{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=c=>+i[c];if(Dn(i[e])){const{key:c="value"}=this._parsing;s=f=>+Ou(i[f],c)}let o,u;for(o=e,u=e+t;o<u;++o)r._parsed[o]=s(o)}}_getRotation(){return Ja(this.options.rotation-90)}_getCircumference(){return Ja(this.options.circumference)}_getRotationExtents(){let e=Ri,t=-Ri;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(FD(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:h,rotation:v}=this._getRotationExtents(),{ratioX:b,ratioY:x,offsetX:N,offsetY:T}=TI(v,h,c),M=(i.width-o)/b,k=(i.height-o)/x,P=Math.max(Math.min(M,k)/2,0),I=DS(this.options.radius,P),J=Math.max(I*c,0),q=(I-J)/this._getVisibleDatasetWeightTotal();this.offsetX=N*I,this.offsetY=T*I,r.total=this.calculateTotal(),this.outerRadius=I-q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-q*f,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Ri)}updateElements(e,t,i,r){const s=r==="reset",o=this.chart,u=o.chartArea,f=o.options.animation,h=(u.left+u.right)/2,v=(u.top+u.bottom)/2,b=s&&f.animateScale,x=b?0:this.innerRadius,N=b?0:this.outerRadius,{sharedOptions:T,includeOptions:M}=this._getSharedOptions(t,r);let k=this._getRotation(),P;for(P=0;P<t;++P)k+=this._circumference(P,s);for(P=t;P<t+i;++P){const I=this._circumference(P,s),J=e[P],q={x:h+this.offsetX,y:v+this.offsetY,startAngle:k,endAngle:k+I,circumference:I,outerRadius:N,innerRadius:x};M&&(q.options=T||this.resolveDataElementOptions(P,J.active?"active":r)),k+=I,this.updateElement(J,P,q,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ri*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Wh(t._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,s,o,u,c;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,u=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)c=u.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(pn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ot(Mc,"id","doughnut"),ot(Mc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ot(Mc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ot(Mc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Mm extends Xa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:u,count:c}=US(t,r,o);this._drawStart=u,this._drawCount=c,qS(t)&&(u=0,c=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:f},e),this.updateElements(r,u,c,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:u,_stacked:c,_dataset:f}=this._cachedMeta,{sharedOptions:h,includeOptions:v}=this._getSharedOptions(t,r),b=o.axis,x=u.axis,{spanGaps:N,segment:T}=this.options,M=nd(N)?N:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||s||r==="none",P=t+i,I=e.length;let J=t>0&&this.getParsed(t-1);for(let q=0;q<I;++q){const W=e[q],ee=k?W:{};if(q<t||q>=P){ee.skip=!0;continue}const j=this.getParsed(q),ie=Pn(j[x]),le=ee[b]=o.getPixelForValue(j[b],q),F=ee[x]=s||ie?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,j,c):j[x],q);ee.skip=isNaN(le)||isNaN(F)||ie,ee.stop=q>0&&Math.abs(j[b]-J[b])>M,T&&(ee.parsed=j,ee.raw=f.data[q]),v&&(ee.options=h||this.resolveDataElementOptions(q,W.active?"active":r)),k||this.updateElement(W,q,ee,r),J=j}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ot(Mm,"id","line"),ot(Mm,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ot(Mm,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Eh extends Xa{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Wh(t._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,i,r){return ZS.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),u=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,t,i,r){const s=r==="reset",o=this.chart,c=o.options.animation,f=this._cachedMeta.rScale,h=f.xCenter,v=f.yCenter,b=f.getIndexAngle(0)-.5*Di;let x=b,N;const T=360/this.countVisibleElements();for(N=0;N<t;++N)x+=this._computeAngle(N,r,T);for(N=t;N<t+i;N++){const M=e[N];let k=x,P=x+this._computeAngle(N,r,T),I=o.getDataVisibility(N)?f.getDistanceFromCenterForValue(this.getParsed(N).r):0;x=P,s&&(c.animateScale&&(I=0),c.animateRotate&&(k=P=b));const J={x:h,y:v,innerRadius:0,outerRadius:I,startAngle:k,endAngle:P,options:this.resolveDataElementOptions(N,M.active?"active":r)};this.updateElement(M,N,J,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?Ja(this.resolveDataElementOptions(e,t).angle||i):0}}ot(Eh,"id","polarArea"),ot(Eh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ot(Eh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class n2 extends Mc{}ot(n2,"id","pie"),ot(n2,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Lm extends Xa{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,r){return ZS.bind(this)(e,t,i,r)}update(e){const t=this._cachedMeta,i=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const u={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,u,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let u=t;u<t+i;u++){const c=e[u],f=this.resolveDataElementOptions(u,c.active?"active":r),h=s.getPointPositionForValue(u,this.getParsed(u).r),v=o?s.xCenter:h.x,b=o?s.yCenter:h.y,x={x:v,y:b,angle:h.angle,skip:isNaN(v)||isNaN(b),options:f};this.updateElement(c,u,x,r)}}}ot(Lm,"id","radar"),ot(Lm,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ot(Lm,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Pm extends Xa{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=t,o=this.getParsed(e),u=r.getLabelForValue(o.x),c=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+u+", "+c+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:o}=US(t,i,r);if(this._drawStart=s,this._drawCount=o,qS(t)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:c}=t;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!c._decimated,u.points=i;const f=this.resolveDatasetElementOptions(e);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:f},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:u,_stacked:c,_dataset:f}=this._cachedMeta,h=this.resolveDataElementOptions(t,r),v=this.getSharedOptions(h),b=this.includeOptions(r,v),x=o.axis,N=u.axis,{spanGaps:T,segment:M}=this.options,k=nd(T)?T:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||r==="none";let I=t>0&&this.getParsed(t-1);for(let J=t;J<t+i;++J){const q=e[J],W=this.getParsed(J),ee=P?q:{},j=Pn(W[N]),ie=ee[x]=o.getPixelForValue(W[x],J),le=ee[N]=s||j?u.getBasePixel():u.getPixelForValue(c?this.applyStack(u,W,c):W[N],J);ee.skip=isNaN(ie)||isNaN(le)||j,ee.stop=J>0&&Math.abs(W[x]-I[x])>k,M&&(ee.parsed=W,ee.raw=f.data[J]),b&&(ee.options=v||this.resolveDataElementOptions(J,q.active?"active":r)),P||this.updateElement(q,J,ee,r),I=W}this.updateSharedOptions(v,r,h)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let u=0;for(let c=t.length-1;c>=0;--c)u=Math.max(u,t[c].size(this.resolveDataElementOptions(c))/2);return u>0&&u}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,o)/2}}ot(Pm,"id","scatter"),ot(Pm,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ot(Pm,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var CI=Object.freeze({__proto__:null,BarController:Em,BubbleController:km,DoughnutController:Mc,LineController:Mm,PieController:n2,PolarAreaController:Eh,RadarController:Lm,ScatterController:Pm});function wc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class J2{constructor(e){ot(this,"options");this.options=e||{}}static override(e){Object.assign(J2.prototype,e)}init(){}formats(){return wc()}parse(){return wc()}format(){return wc()}add(){return wc()}diff(){return wc()}startOf(){return wc()}endOf(){return wc()}}var NI={_date:J2};function EI(n,e,t,i){const{controller:r,data:s,_sorted:o}=n,u=r._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&o&&s.length){const f=u._reversePixels?JD:Ml;if(i){if(r._sharedOptions){const h=s[0],v=typeof h.getRange=="function"&&h.getRange(e);if(v){const b=f(s,e,t-v),x=f(s,e,t+v);return{lo:b.lo,hi:x.hi}}}}else{const h=f(s,e,t);if(c){const{vScale:v}=r._cachedMeta,{_parsed:b}=n,x=b.slice(0,h.lo+1).reverse().findIndex(T=>!Pn(T[v.axis]));h.lo-=Math.max(0,x);const N=b.slice(h.hi).findIndex(T=>!Pn(T[v.axis]));h.hi+=Math.max(0,N)}return h}}return{lo:0,hi:s.length-1}}function bg(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let u=0,c=s.length;u<c;++u){const{index:f,data:h}=s[u],{lo:v,hi:b}=EI(s[u],e,o,r);for(let x=v;x<=b;++x){const N=h[x];N.skip||i(N,f,x)}}}function kI(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function u1(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||bg(n,t,e,function(u,c,f){!r&&!Ll(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&s.push({element:u,datasetIndex:c,index:f})},!0),s}function MI(n,e,t,i){let r=[];function s(o,u,c){const{startAngle:f,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:v}=FS(o,{x:e.x,y:e.y});Ih(v,f,h)&&r.push({element:o,datasetIndex:u,index:c})}return bg(n,t,e,s),r}function LI(n,e,t,i,r,s){let o=[];const u=kI(t);let c=Number.POSITIVE_INFINITY;function f(h,v,b){const x=h.inRange(e.x,e.y,r);if(i&&!x)return;const N=h.getCenterPoint(r);if(!(!!s||n.isPointInArea(N))&&!x)return;const M=u(e,N);M<c?(o=[{element:h,datasetIndex:v,index:b}],c=M):M===c&&o.push({element:h,datasetIndex:v,index:b})}return bg(n,t,e,f),o}function c1(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?MI(n,e,t,r):LI(n,e,t,i,r,s)}function iw(n,e,t,i,r){const s=[],o=t==="x"?"inXRange":"inYRange";let u=!1;return bg(n,t,e,(c,f,h)=>{c[o]&&c[o](e[t],r)&&(s.push({element:c,datasetIndex:f,index:h}),u=u||c.inRange(e.x,e.y,r))}),i&&!u?[]:s}var PI={modes:{index(n,e,t,i){const r=Tc(e,n),s=t.axis||"x",o=t.includeInvisible||!1,u=t.intersect?u1(n,r,s,i,o):c1(n,r,s,!1,i,o),c=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const h=u[0].index,v=f.data[h];v&&!v.skip&&c.push({element:v,datasetIndex:f.index,index:h})}),c):[]},dataset(n,e,t,i){const r=Tc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let u=t.intersect?u1(n,r,s,i,o):c1(n,r,s,!1,i,o);if(u.length>0){const c=u[0].datasetIndex,f=n.getDatasetMeta(c).data;u=[];for(let h=0;h<f.length;++h)u.push({element:f[h],datasetIndex:c,index:h})}return u},point(n,e,t,i){const r=Tc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return u1(n,r,s,i,o)},nearest(n,e,t,i){const r=Tc(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return c1(n,r,s,t.intersect,i,o)},x(n,e,t,i){const r=Tc(e,n);return iw(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=Tc(e,n);return iw(n,r,"y",t.intersect,i)}}};const lA=["left","top","right","bottom"];function lh(n,e){return n.filter(t=>t.pos===e)}function rw(n,e){return n.filter(t=>lA.indexOf(t.pos)===-1&&t.box.axis===e)}function uh(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function RI(n){const e=[];let t,i,r,s,o,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:o,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:u});return e}function DI(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!lA.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function II(n,e){const t=DI(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,u;for(s=0,o=n.length;s<o;++s){u=n[s];const{fullSize:c}=u.box,f=t[u.stack],h=f&&u.stackWeight/f.weight;u.horizontal?(u.width=h?h*i:c&&e.availableWidth,u.height=r):(u.width=i,u.height=h?h*r:c&&e.availableHeight)}return t}function OI(n){const e=RI(n),t=uh(e.filter(f=>f.box.fullSize),!0),i=uh(lh(e,"left"),!0),r=uh(lh(e,"right")),s=uh(lh(e,"top"),!0),o=uh(lh(e,"bottom")),u=rw(e,"x"),c=rw(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(o).concat(u),chartArea:lh(e,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(o).concat(u)}}function sw(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function uA(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function FI(n,e,t,i){const{pos:r,box:s}=t,o=n.maxPadding;if(!Dn(r)){t.size&&(n[r]-=t.size);const v=i[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?s.height:s.width),t.size=v.size/v.count,n[r]+=t.size}s.getPadding&&uA(o,s.getPadding());const u=Math.max(0,e.outerWidth-sw(o,n,"left","right")),c=Math.max(0,e.outerHeight-sw(o,n,"top","bottom")),f=u!==n.w,h=c!==n.h;return n.w=u,n.h=c,t.horizontal?{same:f,other:h}:{same:h,other:f}}function BI(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function zI(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(n?["left","right"]:["top","bottom"])}function gh(n,e,t,i){const r=[];let s,o,u,c,f,h;for(s=0,o=n.length,f=0;s<o;++s){u=n[s],c=u.box,c.update(u.width||e.w,u.height||e.h,zI(u.horizontal,e));const{same:v,other:b}=FI(e,t,u,i);f|=v&&r.length,h=h||b,c.fullSize||r.push(u)}return f&&gh(r,e,t,i)||h}function cm(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function aw(n,e,t,i){const r=t.padding;let{x:s,y:o}=e;for(const u of n){const c=u.box,f=i[u.stack]||{placed:0,weight:1},h=u.stackWeight/f.weight||1;if(u.horizontal){const v=e.w*h,b=f.size||c.height;Dh(f.start)&&(o=f.start),c.fullSize?cm(c,r.left,o,t.outerWidth-r.right-r.left,b):cm(c,e.left+f.placed,o,v,b),f.start=o,f.placed+=v,o=c.bottom}else{const v=e.h*h,b=f.size||c.width;Dh(f.start)&&(s=f.start),c.fullSize?cm(c,s,r.top,b,t.outerHeight-r.bottom-r.top):cm(c,s,e.top+f.placed,b,v),f.start=s,f.placed+=v,s=c.right}}e.x=s,e.y=o}var ds={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=hs(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),u=OI(n.boxes),c=u.vertical,f=u.horizontal;ui(n.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const h=c.reduce((T,M)=>M.box.options&&M.box.options.display===!1?T:T+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),b=Object.assign({},r);uA(b,hs(i));const x=Object.assign({maxPadding:b,w:s,h:o,x:r.left,y:r.top},r),N=II(c.concat(f),v);gh(u.fullSize,x,v,N),gh(c,x,v,N),gh(f,x,v,N)&&gh(c,x,v,N),BI(x),aw(u.leftAndTop,x,v,N),x.x+=x.w,x.y+=x.h,aw(u.rightAndBottom,x,v,N),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},ui(u.chartArea,T=>{const M=T.box;Object.assign(M,n.chartArea),M.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class cA{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class jI extends cA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Rm="$chartjs",VI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ow=n=>n===null||n==="";function UI(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Rm]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ow(r)){const s=Hb(n,"width");s!==void 0&&(n.width=s)}if(ow(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=Hb(n,"height");s!==void 0&&(n.height=s)}return n}const fA=q8?{passive:!0}:!1;function qI(n,e,t){n&&n.addEventListener(e,t,fA)}function HI(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,fA)}function GI(n,e){const t=VI[n.type]||n.type,{x:i,y:r}=Tc(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function rg(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function WI(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||rg(u.addedNodes,i),o=o&&!rg(u.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function KI(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||rg(u.removedNodes,i),o=o&&!rg(u.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Fh=new Map;let lw=0;function dA(){const n=window.devicePixelRatio;n!==lw&&(lw=n,Fh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function YI(n,e){Fh.size||window.addEventListener("resize",dA),Fh.set(n,e)}function $I(n){Fh.delete(n),Fh.size||window.removeEventListener("resize",dA)}function JI(n,e,t){const i=n.canvas,r=i&&$2(i);if(!r)return;const s=VS((u,c)=>{const f=r.clientWidth;t(u,c),f<r.clientWidth&&t()},window),o=new ResizeObserver(u=>{const c=u[0],f=c.contentRect.width,h=c.contentRect.height;f===0&&h===0||s(f,h)});return o.observe(r),YI(n,s),o}function f1(n,e,t){t&&t.disconnect(),e==="resize"&&$I(n)}function ZI(n,e,t){const i=n.canvas,r=VS(s=>{n.ctx!==null&&t(GI(s,n))},n);return qI(i,e,r),r}class XI extends cA{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(UI(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Rm])return!1;const i=t[Rm].initial;["height","width"].forEach(s=>{const o=i[s];Pn(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Rm],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:WI,detach:KI,resize:JI}[t]||ZI;r[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:f1,detach:f1,resize:f1}[t]||HI)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return U8(e,t,i,r)}isAttached(e){const t=e&&$2(e);return!!(t&&t.isConnected)}}function QI(n){return!Y2()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?jI:XI}class Qa{constructor(){ot(this,"x");ot(this,"y");ot(this,"active",!1);ot(this,"options");ot(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return nd(this.x)&&nd(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}ot(Qa,"defaults",{}),ot(Qa,"defaultRoutes");function eO(n,e){const t=n.options.ticks,i=tO(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?iO(e):[],o=s.length,u=s[0],c=s[o-1],f=[];if(o>r)return rO(e,f,s,o/r),f;const h=nO(s,e,r);if(o>0){let v,b;const x=o>1?Math.round((c-u)/(o-1)):null;for(fm(e,f,h,Pn(x)?0:u-x,u),v=0,b=o-1;v<b;v++)fm(e,f,h,s[v],s[v+1]);return fm(e,f,h,c,Pn(x)?e.length:c+x),f}return fm(e,f,h),f}function tO(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function nO(n,e,t){const i=sO(n),r=e.length/t;if(!i)return Math.max(r,1);const s=GD(i);for(let o=0,u=s.length-1;o<u;o++){const c=s[o];if(c>r)return c}return Math.max(r,1)}function iO(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function rO(n,e,t,i){let r=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}function fm(n,e,t,i,r){const s=pn(i,0),o=Math.min(pn(r,n.length),n.length);let u=0,c,f,h;for(t=Math.ceil(t),r&&(c=r-i,t=c/Math.floor(c/t)),h=s;h<0;)u++,h=Math.round(s+u*t);for(f=Math.max(s,0);f<o;f++)f===h&&(e.push(n[f]),u++,h=Math.round(s+u*t))}function sO(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const aO=n=>n==="left"?"right":n==="right"?"left":n,uw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,cw=(n,e)=>Math.min(e||n,n);function fw(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function oO(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,u=1e-6;let c=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(c-s,o-c):e===0?f=(n.getPixelForTick(1)-c)/2:f=(c-n.getPixelForTick(r-1))/2,c+=r<e?f:-f,c<s-u||c>o+u)))return c}function lO(n,e){ui(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function ch(n){return n.drawTicks?n.tickLength:0}function dw(n,e){if(!n.display)return 0;const t=Or(n.font,e),i=hs(n.padding);return(qi(n.text)?n.text.length:1)*t.lineHeight+i.height}function uO(n,e){return Uu(n,{scale:e,type:"scale"})}function cO(n,e,t){return Uu(n,{tick:t,index:e,type:"tick"})}function fO(n,e,t){let i=U2(n);return(t&&e!=="right"||!t&&e==="right")&&(i=aO(i)),i}function dO(n,e,t,i){const{top:r,left:s,bottom:o,right:u,chart:c}=n,{chartArea:f,scales:h}=c;let v=0,b,x,N;const T=o-r,M=u-s;if(n.isHorizontal()){if(x=cs(i,s,u),Dn(t)){const k=Object.keys(t)[0],P=t[k];N=h[k].getPixelForValue(P)+T-e}else t==="center"?N=(f.bottom+f.top)/2+T-e:N=uw(n,t,e);b=u-s}else{if(Dn(t)){const k=Object.keys(t)[0],P=t[k];x=h[k].getPixelForValue(P)-M+e}else t==="center"?x=(f.left+f.right)/2-M+e:x=uw(n,t,e);N=cs(i,o,r),v=t==="left"?-br:br}return{titleX:x,titleY:N,maxWidth:b,rotation:v}}class Hc extends Qa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Qs(e,Number.POSITIVE_INFINITY),t=Qs(t,Number.NEGATIVE_INFINITY),i=Qs(i,Number.POSITIVE_INFINITY),r=Qs(r,Number.NEGATIVE_INFINITY),{min:Qs(e,i),max:Qs(t,r),minDefined:ur(e),maxDefined:ur(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let c=0,f=u.length;c<f;++c)o=u[c].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:Qs(t,Qs(i,t)),max:Qs(i,Qs(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ai(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,u=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=b8(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?fw(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=eO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ai(this.options.afterUpdate,[this])}beforeSetDimensions(){Ai(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ai(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ai(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ai(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Ai(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Ai(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ai(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=cw(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let o=r,u,c,f;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),v=h.widest.width,b=h.highest.height,x=Gr(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:x/(i-1),v+6>u&&(u=x/(i-(e.offset?.5:1)),c=this.maxHeight-ch(e.grid)-t.padding-dw(e.title,this.chart.options.font),f=Math.sqrt(v*v+b*b),o=j2(Math.min(Math.asin(Gr((h.highest.height+6)/u,-1,1)),Math.asin(Gr(c/f,-1,1))-Math.asin(Gr(b/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ai(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ai(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),u=this.isHorizontal();if(o){const c=dw(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=ch(s)+c):(e.height=this.maxHeight,e.width=ch(s)+c),i.display&&this.ticks.length){const{first:f,last:h,widest:v,highest:b}=this._getLabelSizes(),x=i.padding*2,N=Ja(this.labelRotation),T=Math.cos(N),M=Math.sin(N);if(u){const k=i.mirror?0:M*v.width+T*b.height;e.height=Math.min(this.maxHeight,e.height+k+x)}else{const k=i.mirror?0:T*v.width+M*b.height;e.width=Math.min(this.maxWidth,e.width+k+x)}this._calculatePadding(f,h,M,T)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:o},position:u}=this.options,c=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,x=0;c?f?(b=r*e.width,x=i*t.height):(b=i*e.height,x=r*t.width):s==="start"?x=t.width:s==="end"?b=e.width:s!=="inner"&&(b=e.width/2,x=t.width/2),this.paddingLeft=Math.max((b-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((x-v+o)*this.width/(this.width-v),0)}else{let h=t.height/2,v=e.height/2;s==="start"?(h=0,v=e.height):s==="end"&&(h=t.height,v=0),this.paddingTop=h+o,this.paddingBottom=v+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ai(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Pn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=fw(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,o=[],u=[],c=Math.floor(t/cw(t,i));let f=0,h=0,v,b,x,N,T,M,k,P,I,J,q;for(v=0;v<t;v+=c){if(N=e[v].label,T=this._resolveTickFontOptions(v),r.font=M=T.string,k=s[M]=s[M]||{data:{},gc:[]},P=T.lineHeight,I=J=0,!Pn(N)&&!qi(N))I=ng(r,k.data,k.gc,I,N),J=P;else if(qi(N))for(b=0,x=N.length;b<x;++b)q=N[b],!Pn(q)&&!qi(q)&&(I=ng(r,k.data,k.gc,I,q),J+=P);o.push(I),u.push(J),f=Math.max(I,f),h=Math.max(J,h)}lO(s,t);const W=o.indexOf(f),ee=u.indexOf(h),j=ie=>({width:o[ie]||0,height:u[ie]||0});return{first:j(0),last:j(t-1),widest:j(W),highest:j(ee),widths:o,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return $D(this._alignToPixels?bc(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=cO(this.getContext(),e,i))}return this.$context||(this.$context=uO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ja(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,u=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*i>u*r?u/i:c/r:c*r<u*i?c/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:u}=r,c=s.offset,f=this.isHorizontal(),v=this.ticks.length+(c?1:0),b=ch(s),x=[],N=u.setContext(this.getContext()),T=N.display?N.width:0,M=T/2,k=function(K){return bc(i,K,T)};let P,I,J,q,W,ee,j,ie,le,F,G,fe;if(o==="top")P=k(this.bottom),ee=this.bottom-b,ie=P-M,F=k(e.top)+M,fe=e.bottom;else if(o==="bottom")P=k(this.top),F=e.top,fe=k(e.bottom)-M,ee=P+M,ie=this.top+b;else if(o==="left")P=k(this.right),W=this.right-b,j=P-M,le=k(e.left)+M,G=e.right;else if(o==="right")P=k(this.left),le=e.left,G=k(e.right)-M,W=P+M,j=this.left+b;else if(t==="x"){if(o==="center")P=k((e.top+e.bottom)/2+.5);else if(Dn(o)){const K=Object.keys(o)[0],Q=o[K];P=k(this.chart.scales[K].getPixelForValue(Q))}F=e.top,fe=e.bottom,ee=P+M,ie=ee+b}else if(t==="y"){if(o==="center")P=k((e.left+e.right)/2);else if(Dn(o)){const K=Object.keys(o)[0],Q=o[K];P=k(this.chart.scales[K].getPixelForValue(Q))}W=P-M,j=W-b,le=e.left,G=e.right}const ae=pn(r.ticks.maxTicksLimit,v),ge=Math.max(1,Math.ceil(v/ae));for(I=0;I<v;I+=ge){const K=this.getContext(I),Q=s.setContext(K),Z=u.setContext(K),de=Q.lineWidth,z=Q.color,me=Z.dash||[],R=Z.dashOffset,H=Q.tickWidth,te=Q.tickColor,ue=Q.tickBorderDash||[],ce=Q.tickBorderDashOffset;J=oO(this,I,c),J!==void 0&&(q=bc(i,J,de),f?W=j=le=G=q:ee=ie=F=fe=q,x.push({tx1:W,ty1:ee,tx2:j,ty2:ie,x1:le,y1:F,x2:G,y2:fe,width:de,color:z,borderDash:me,borderDashOffset:R,tickWidth:H,tickColor:te,tickBorderDash:ue,tickBorderDashOffset:ce}))}return this._ticksLength=v,this._borderValue=P,x}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:f,padding:h,mirror:v}=s,b=ch(i.grid),x=b+h,N=v?-h:x,T=-Ja(this.labelRotation),M=[];let k,P,I,J,q,W,ee,j,ie,le,F,G,fe="middle";if(r==="top")W=this.bottom-N,ee=this._getXAxisLabelAlignment();else if(r==="bottom")W=this.top+N,ee=this._getXAxisLabelAlignment();else if(r==="left"){const ge=this._getYAxisLabelAlignment(b);ee=ge.textAlign,q=ge.x}else if(r==="right"){const ge=this._getYAxisLabelAlignment(b);ee=ge.textAlign,q=ge.x}else if(t==="x"){if(r==="center")W=(e.top+e.bottom)/2+x;else if(Dn(r)){const ge=Object.keys(r)[0],K=r[ge];W=this.chart.scales[ge].getPixelForValue(K)+x}ee=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")q=(e.left+e.right)/2-x;else if(Dn(r)){const ge=Object.keys(r)[0],K=r[ge];q=this.chart.scales[ge].getPixelForValue(K)}ee=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(c==="start"?fe="top":c==="end"&&(fe="bottom"));const ae=this._getLabelSizes();for(k=0,P=u.length;k<P;++k){I=u[k],J=I.label;const ge=s.setContext(this.getContext(k));j=this.getPixelForTick(k)+s.labelOffset,ie=this._resolveTickFontOptions(k),le=ie.lineHeight,F=qi(J)?J.length:1;const K=F/2,Q=ge.color,Z=ge.textStrokeColor,de=ge.textStrokeWidth;let z=ee;o?(q=j,ee==="inner"&&(k===P-1?z=this.options.reverse?"left":"right":k===0?z=this.options.reverse?"right":"left":z="center"),r==="top"?f==="near"||T!==0?G=-F*le+le/2:f==="center"?G=-ae.highest.height/2-K*le+le:G=-ae.highest.height+le/2:f==="near"||T!==0?G=le/2:f==="center"?G=ae.highest.height/2-K*le:G=ae.highest.height-F*le,v&&(G*=-1),T!==0&&!ge.showLabelBackdrop&&(q+=le/2*Math.sin(T))):(W=j,G=(1-F)*le/2);let me;if(ge.showLabelBackdrop){const R=hs(ge.backdropPadding),H=ae.heights[k],te=ae.widths[k];let ue=G-R.top,ce=0-R.left;switch(fe){case"middle":ue-=H/2;break;case"bottom":ue-=H;break}switch(ee){case"center":ce-=te/2;break;case"right":ce-=te;break;case"inner":k===P-1?ce-=te:k>0&&(ce-=te/2);break}me={left:ce,top:ue,width:te+R.width,height:H+R.height,color:ge.backdropColor}}M.push({label:J,font:ie,textOffset:G,options:{rotation:T,color:Q,strokeColor:Z,strokeWidth:de,textAlign:z,textBaseline:fe,translation:[q,W],backdrop:me}})}return M}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ja(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),u=e+s,c=o.widest.width;let f,h;return t==="left"?r?(h=this.right+s,i==="near"?f="left":i==="center"?(f="center",h+=c/2):(f="right",h+=c)):(h=this.right-u,i==="near"?f="right":i==="center"?(f="center",h-=c/2):(f="left",h=this.left)):t==="right"?r?(h=this.left+s,i==="near"?f="right":i==="center"?(f="center",h-=c/2):(f="left",h-=c)):(h=this.left+u,i==="near"?f="left":i==="center"?(f="center",h+=c/2):(f="right",h=this.right)):f="right",{textAlign:f,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const u=(c,f,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const c=r[s];t.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const u=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let f,h,v,b;this.isHorizontal()?(f=bc(e,this.left,o)-o/2,h=bc(e,this.right,u)+u/2,v=b=c):(v=bc(e,this.top,o)-o/2,b=bc(e,this.bottom,u)+u/2,f=h=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(f,v),t.lineTo(h,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&yg(i,r);const s=this.getLabelItems(e);for(const o of s){const u=o.options,c=o.font,f=o.label,h=o.textOffset;zc(i,f,0,h,c,u)}r&&vg(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=Or(i.font),o=hs(i.padding),u=i.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||Dn(t)?(c+=o.bottom,qi(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:f,titleY:h,maxWidth:v,rotation:b}=dO(this,c,t,u);zc(e,i.text,0,0,s,{color:i.color,maxWidth:v,rotation:b,textAlign:fO(u,t,r),textBaseline:"middle",translation:[f,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=pn(e.grid&&e.grid.z,-1),r=pn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Hc.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const u=t[s];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Or(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class dm{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;mO(t)&&(i=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,hO(e,o,i),this.override&&Hi.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Hi[r]&&(delete Hi[r][i],this.override&&delete Bc[i])}}function hO(n,e,t){const i=Rh(Object.create(null),[t?Hi.get(t):{},Hi.get(e),n.defaults]);Hi.set(e,i),n.defaultRoutes&&pO(e,n.defaultRoutes),n.descriptors&&Hi.describe(e,n.descriptors)}function pO(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),u=o.pop(),c=o.join(".");Hi.route(s,r,c,u)})}function mO(n){return"id"in n&&"defaults"in n}class gO{constructor(){this.controllers=new dm(Xa,"datasets",!0),this.elements=new dm(Qa,"elements"),this.plugins=new dm(Object,"plugins"),this.scales=new dm(Hc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ui(r,o=>{const u=i||this._getRegistryForType(o);this._exec(e,u,o)})})}_exec(e,t,i){const r=z2(e);Ai(i["before"+r],[],i),t[e](i),Ai(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Bo=new gO;class yO{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(const s of e){const o=s.plugin,u=o[i],c=[t,r,s.options];if(Ai(u,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Pn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=pn(i.options&&i.options.plugins,{}),s=vO(i);return r===!1&&!t?[]:bO(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(u=>!o.some(c=>u.plugin.id===c.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function vO(n){const e={},t=[],i=Object.keys(Bo.plugins.items);for(let s=0;s<i.length;s++)t.push(Bo.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function xO(n,e){return!e&&n===!1?null:n===!0?{}:n}function bO(n,{plugins:e,localIds:t},i,r){const s=[],o=n.getContext();for(const u of e){const c=u.id,f=xO(i[c],r);f!==null&&s.push({plugin:u,options:wO(n.config,{plugin:u,local:t[c]},f,o)})}return s}function wO(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function i2(n,e){const t=Hi.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function _O(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function SO(n,e){return n===e?"_index_":"_value_"}function hw(n){if(n==="x"||n==="y"||n==="r")return n}function AO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function r2(n,...e){if(hw(n))return n;for(const t of e){const i=t.axis||AO(t.position)||n.length>1&&hw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function pw(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function TO(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return pw(n,"x",t[0])||pw(n,"y",t[0])}return{}}function CO(n,e){const t=Bc[n.type]||{scales:{}},i=e.scales||{},r=i2(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const u=i[o];if(!Dn(u))return console.error(`Invalid scale configuration for scale: ${o}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=r2(o,u,TO(o,n),Hi.scales[u.type]),f=SO(c,r),h=t.scales||{};s[o]=Ah(Object.create(null),[{axis:c},u,h[c],h[f]])}),n.data.datasets.forEach(o=>{const u=o.type||n.type,c=o.indexAxis||i2(u,e),h=(Bc[u]||{}).scales||{};Object.keys(h).forEach(v=>{const b=_O(v,c),x=o[b+"AxisID"]||b;s[x]=s[x]||Object.create(null),Ah(s[x],[{axis:b},i[x],h[v]])})}),Object.keys(s).forEach(o=>{const u=s[o];Ah(u,[Hi.scales[u.type],Hi.scale])}),s}function hA(n){const e=n.options||(n.options={});e.plugins=pn(e.plugins,{}),e.scales=CO(n,e)}function pA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function NO(n){return n=n||{},n.data=pA(n.data),hA(n),n}const mw=new Map,mA=new Set;function hm(n,e){let t=mw.get(n);return t||(t=e(),mw.set(n,t),mA.add(t)),t}const fh=(n,e,t)=>{const i=Ou(e,t);i!==void 0&&n.add(i)};class EO{constructor(e){this._config=NO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return hm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return hm(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return hm(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return hm(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),u=o.get(t);if(u)return u;const c=new Set;t.forEach(h=>{e&&(c.add(e),h.forEach(v=>fh(c,e,v))),h.forEach(v=>fh(c,r,v)),h.forEach(v=>fh(c,Bc[s]||{},v)),h.forEach(v=>fh(c,Hi,v)),h.forEach(v=>fh(c,e2,v))});const f=Array.from(c);return f.length===0&&f.push(Object.create(null)),mA.has(t)&&o.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Bc[t]||{},Hi.datasets[t]||{},{type:t},Hi,e2]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:u}=gw(this._resolverCache,e,r);let c=o;if(MO(o,t)){s.$shared=!1,i=Fu(i)?i():i;const f=this.createResolver(e,i,u);c=id(o,i,f)}for(const f of t)s[f]=c[f];return s}createResolver(e,t,i=[""],r){const{resolver:s}=gw(this._resolverCache,e,i);return Dn(t)?id(s,t,void 0,r):s}}function gw(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:G2(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,s)),s}const kO=n=>Dn(n)&&Object.getOwnPropertyNames(n).some(e=>Fu(n[e]));function MO(n,e){const{isScriptable:t,isIndexable:i}=KS(n);for(const r of e){const s=t(r),o=i(r),u=(o||s)&&n[r];if(s&&(Fu(u)||kO(u))||o&&qi(u))return!0}return!1}var LO="4.4.9";const PO=["top","bottom","left","right","chartArea"];function yw(n,e){return n==="top"||n==="bottom"||PO.indexOf(n)===-1&&e==="x"}function vw(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function xw(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ai(t&&t.onComplete,[n],e)}function RO(n){const e=n.chart,t=e.options.animation;Ai(t&&t.onProgress,[n],e)}function gA(n){return Y2()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Dm={},bw=n=>{const e=gA(n);return Object.values(Dm).filter(t=>t.canvas===e).pop()};function DO(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}function IO(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class zo{static register(...e){Bo.add(...e),ww()}static unregister(...e){Bo.remove(...e),ww()}constructor(e,t){const i=this.config=new EO(t),r=gA(e),s=bw(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||QI(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,o.aspectRatio),c=u&&u.canvas,f=c&&c.height,h=c&&c.width;if(this.id=OD(),this.ctx=u,this.canvas=c,this.width=h,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=QD(v=>this.update(v),o.resizeDelay||0),this._dataChanges=[],Dm[this.id]=this,!u||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Tl.listen(this,"complete",xw),Tl.listen(this,"progress",RO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return Pn(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jb(this.canvas,this.ctx),this}stop(){return Tl.stop(this),this}resize(e,t){Tl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,s),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,qb(this,u,!0)&&(this.notifyPlugins("resize",{size:o}),Ai(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ui(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((o,u)=>(o[u]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const u=t[o],c=r2(o,u),f=c==="r",h=c==="x";return{options:u,dposition:f?"chartArea":h?"bottom":"left",dtype:f?"radialLinear":h?"category":"linear"}}))),ui(s,o=>{const u=o.options,c=u.id,f=r2(c,u),h=pn(u.type,o.dtype);(u.position===void 0||yw(u.position,f)!==yw(o.dposition))&&(u.position=o.dposition),r[c]=!0;let v=null;if(c in i&&i[c].type===h)v=i[c];else{const b=Bo.getScale(h);v=new b({id:c,type:h,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),ui(r,(o,u)=>{o||delete i[u]}),ui(i,o=>{ds.configure(this,o,o.options),ds.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(vw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let o=this.getDatasetMeta(i);const u=s.type||this.config.type;if(o.type&&o.type!==u&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=u,o.indexAxis=s.indexAxis||i2(u,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=Bo.getController(u),{datasetElementType:f,dataElementType:h}=Hi.datasets[u];Object.assign(c,{dataElementType:Bo.getElement(h),datasetElementType:f&&Bo.getElement(f)}),o.controller=new c(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ui(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,h=this.data.datasets.length;f<h;f++){const{controller:v}=this.getDatasetMeta(f),b=!r&&s.indexOf(v)===-1;v.buildOrUpdateElements(b),o=Math.max(+v.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ui(s,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vw("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ui(this.scales,e=>{ds.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Lb(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const o=i==="_removeElements"?-s:s;DO(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,u)=>u+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!Lb(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ds.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],ui(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Fu(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Tl.has(this)?this.attached&&!Tl.running(this)&&Tl.start(this):(this.draw(),xw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const o=t[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=rA(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&yg(t,r),e.controller.draw(),r&&vg(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ll(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=PI.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Uu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Dh(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Tl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Dm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},r=(s,o,u)=>{s.offsetX=o,s.offsetY=u,this._eventHandler(s)};ui(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,f)=>{t.addEventListener(this,c,f),e[c]=f},r=(c,f)=>{e[c]&&(t.removeEventListener(this,c,f),delete e[c])},s=(c,f)=>{this.canvas&&this.resize(c,f)};let o;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():o()}unbindEvents(){ui(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ui(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,o,u,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),u=0,c=e.length;u<c;++u){o=e[u];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[o],index:o}});!Qm(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(c,f)=>c.filter(h=>!f.some(v=>h.datasetIndex===v.datasetIndex&&h.index===v.index)),o=s(t,e),u=i?e:s(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,o=t,u=this._getActiveElements(e,r,i,o),c=UD(e),f=IO(e,this._lastEvent,i,c);i&&(this._lastEvent=null,Ai(s.onHover,[e,u,this],this),c&&Ai(s.onClick,[e,u,this],this));const h=!Qm(u,r);return(h||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=f,h}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}ot(zo,"defaults",Hi),ot(zo,"instances",Dm),ot(zo,"overrides",Bc),ot(zo,"registry",Bo),ot(zo,"version",LO),ot(zo,"getChart",bw);function ww(){return ui(zo.instances,n=>n._plugins.invalidate())}function OO(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:u,innerRadius:c}=e;let f=r/u;n.beginPath(),n.arc(s,o,u,i-f,t+f),c>r?(f=r/c,n.arc(s,o,c,t+f,i-f,!0)):n.arc(s,o,r,t+br,i-br),n.closePath(),n.clip()}function FO(n){return H2(n,["outerStart","outerEnd","innerStart","innerEnd"])}function BO(n,e,t,i){const r=FO(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),u=c=>{const f=(t-Math.min(s,c))*i/2;return Gr(c,0,Math.min(s,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:Gr(r.innerStart,0,o),innerEnd:Gr(r.innerEnd,0,o)}}function Mf(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function sg(n,e,t,i,r,s){const{x:o,y:u,startAngle:c,pixelMargin:f,innerRadius:h}=e,v=Math.max(e.outerRadius+i+t-f,0),b=h>0?h+i+t+f:0;let x=0;const N=r-c;if(i){const ge=h>0?h-i:0,K=v>0?v-i:0,Q=(ge+K)/2,Z=Q!==0?N*Q/(Q+i):N;x=(N-Z)/2}const T=Math.max(.001,N*v-t/Di)/v,M=(N-T)/2,k=c+M+x,P=r-M-x,{outerStart:I,outerEnd:J,innerStart:q,innerEnd:W}=BO(e,b,v,P-k),ee=v-I,j=v-J,ie=k+I/ee,le=P-J/j,F=b+q,G=b+W,fe=k+q/F,ae=P-W/G;if(n.beginPath(),s){const ge=(ie+le)/2;if(n.arc(o,u,v,ie,ge),n.arc(o,u,v,ge,le),J>0){const de=Mf(j,le,o,u);n.arc(de.x,de.y,J,le,P+br)}const K=Mf(G,P,o,u);if(n.lineTo(K.x,K.y),W>0){const de=Mf(G,ae,o,u);n.arc(de.x,de.y,W,P+br,ae+Math.PI)}const Q=(P-W/b+(k+q/b))/2;if(n.arc(o,u,b,P-W/b,Q,!0),n.arc(o,u,b,Q,k+q/b,!0),q>0){const de=Mf(F,fe,o,u);n.arc(de.x,de.y,q,fe+Math.PI,k-br)}const Z=Mf(ee,k,o,u);if(n.lineTo(Z.x,Z.y),I>0){const de=Mf(ee,ie,o,u);n.arc(de.x,de.y,I,k-br,ie)}}else{n.moveTo(o,u);const ge=Math.cos(ie)*v+o,K=Math.sin(ie)*v+u;n.lineTo(ge,K);const Q=Math.cos(le)*v+o,Z=Math.sin(le)*v+u;n.lineTo(Q,Z)}n.closePath()}function zO(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:u}=e;let c=e.endAngle;if(s){sg(n,e,t,i,c,r);for(let f=0;f<s;++f)n.fill();isNaN(u)||(c=o+(u%Ri||Ri))}return sg(n,e,t,i,c,r),n.fill(),c}function jO(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:u,options:c}=e,{borderWidth:f,borderJoinStyle:h,borderDash:v,borderDashOffset:b}=c,x=c.borderAlign==="inner";if(!f)return;n.setLineDash(v||[]),n.lineDashOffset=b,x?(n.lineWidth=f*2,n.lineJoin=h||"round"):(n.lineWidth=f,n.lineJoin=h||"bevel");let N=e.endAngle;if(s){sg(n,e,t,i,N,r);for(let T=0;T<s;++T)n.stroke();isNaN(u)||(N=o+(u%Ri||Ri))}x&&OO(n,e,N),s||(sg(n,e,t,i,N,r),n.stroke())}class yh extends Qa{constructor(t){super();ot(this,"circumference");ot(this,"endAngle");ot(this,"fullCircles");ot(this,"innerRadius");ot(this,"outerRadius");ot(this,"pixelMargin");ot(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:u}=FS(s,{x:t,y:i}),{startAngle:c,endAngle:f,innerRadius:h,outerRadius:v,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),x=(this.options.spacing+this.options.borderWidth)/2,N=pn(b,f-c),T=Ih(o,c,f)&&c!==f,M=N>=Ri||T,k=kl(u,h+x,v+x);return M&&k}getCenterPoint(t){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:u,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:h}=this.options,v=(s+o)/2,b=(u+c+h+f)/2;return{x:i+Math.cos(v)*b,y:r+Math.sin(v)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Ri?Math.floor(r/Ri):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const f=1-Math.sin(Math.min(Di,r||0)),h=s*f;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,zO(t,this,h,o,u),jO(t,this,h,o,u),t.restore()}}ot(yh,"id","arc"),ot(yh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ot(yh,"defaultRoutes",{backgroundColor:"backgroundColor"}),ot(yh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function yA(n,e,t=e){n.lineCap=pn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(pn(t.borderDash,e.borderDash)),n.lineDashOffset=pn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=pn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=pn(t.borderWidth,e.borderWidth),n.strokeStyle=pn(t.borderColor,e.borderColor)}function VO(n,e,t){n.lineTo(t.x,t.y)}function UO(n){return n.stepped?f8:n.tension||n.cubicInterpolationMode==="monotone"?d8:VO}function vA(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:u}=e,c=Math.max(r,o),f=Math.min(s,u),h=r<o&&s<o||r>u&&s>u;return{count:i,start:c,loop:e.loop,ilen:f<c&&!h?i+f-c:f-c}}function qO(n,e,t,i){const{points:r,options:s}=e,{count:o,start:u,loop:c,ilen:f}=vA(r,t,i),h=UO(s);let{move:v=!0,reverse:b}=i||{},x,N,T;for(x=0;x<=f;++x)N=r[(u+(b?f-x:x))%o],!N.skip&&(v?(n.moveTo(N.x,N.y),v=!1):h(n,T,N,b,s.stepped),T=N);return c&&(N=r[(u+(b?f:0))%o],h(n,T,N,b,s.stepped)),!!c}function HO(n,e,t,i){const r=e.points,{count:s,start:o,ilen:u}=vA(r,t,i),{move:c=!0,reverse:f}=i||{};let h=0,v=0,b,x,N,T,M,k;const P=J=>(o+(f?u-J:J))%s,I=()=>{T!==M&&(n.lineTo(h,M),n.lineTo(h,T),n.lineTo(h,k))};for(c&&(x=r[P(0)],n.moveTo(x.x,x.y)),b=0;b<=u;++b){if(x=r[P(b)],x.skip)continue;const J=x.x,q=x.y,W=J|0;W===N?(q<T?T=q:q>M&&(M=q),h=(v*h+J)/++v):(I(),n.lineTo(J,q),N=W,v=0,T=M=q),k=q}I()}function s2(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?HO:qO}function GO(n){return n.stepped?H8:n.tension||n.cubicInterpolationMode==="monotone"?G8:Cc}function WO(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),yA(n,e.options),n.stroke(r)}function KO(n,e,t,i){const{segments:r,options:s}=e,o=s2(e);for(const u of r)yA(n,s,u.style),n.beginPath(),o(n,e,u,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const YO=typeof Path2D=="function";function $O(n,e,t,i){YO&&!e.options.segment?WO(n,e,t,i):KO(n,e,t,i)}class Eu extends Qa{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;O8(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Z8(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],s=this.points,o=iA(this,{property:t,start:r,end:r});if(!o.length)return;const u=[],c=GO(i);let f,h;for(f=0,h=o.length;f<h;++f){const{start:v,end:b}=o[f],x=s[v],N=s[b];if(x===N){u.push(x);continue}const T=Math.abs((r-x[t])/(N[t]-x[t])),M=c(x,N,T,i.stepped);M[t]=e[t],u.push(M)}return u.length===1?u[0]:u}pathSegment(e,t,i){return s2(this)(e,this,t,i)}path(e,t,i){const r=this.segments,s=s2(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const u of r)o&=s(e,this,u,{start:t,end:t+i-1});return!!o}draw(e,t,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),$O(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ot(Eu,"id","line"),ot(Eu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ot(Eu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ot(Eu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function _w(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Im extends Qa{constructor(t){super();ot(this,"parsed");ot(this,"skip");ot(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:o,y:u}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-u,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return _w(this,t,"x",i)}inYRange(t,i){return _w(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){const r=this.options;this.skip||r.radius<.1||!Ll(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,t2(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ot(Im,"id","point"),ot(Im,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ot(Im,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function xA(n,e){const{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let u,c,f,h,v;return n.horizontal?(v=o/2,u=Math.min(t,r),c=Math.max(t,r),f=i-v,h=i+v):(v=s/2,u=t-v,c=t+v,f=Math.min(i,r),h=Math.max(i,r)),{left:u,top:f,right:c,bottom:h}}function ku(n,e,t,i){return n?0:Gr(e,t,i)}function JO(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,s=WS(i);return{t:ku(r.top,s.top,0,t),r:ku(r.right,s.right,0,e),b:ku(r.bottom,s.bottom,0,t),l:ku(r.left,s.left,0,e)}}function ZO(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Rc(r),o=Math.min(e,t),u=n.borderSkipped,c=i||Dn(r);return{topLeft:ku(!c||u.top||u.left,s.topLeft,0,o),topRight:ku(!c||u.top||u.right,s.topRight,0,o),bottomLeft:ku(!c||u.bottom||u.left,s.bottomLeft,0,o),bottomRight:ku(!c||u.bottom||u.right,s.bottomRight,0,o)}}function XO(n){const e=xA(n),t=e.right-e.left,i=e.bottom-e.top,r=JO(n,t/2,i/2),s=ZO(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function d1(n,e,t,i){const r=e===null,s=t===null,u=n&&!(r&&s)&&xA(n,i);return u&&(r||kl(e,u.left,u.right))&&(s||kl(t,u.top,u.bottom))}function QO(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function eF(n,e){n.rect(e.x,e.y,e.w,e.h)}function h1(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class Om extends Qa{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=XO(this),u=QO(o.radius)?Oh:eF;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),u(e,h1(o,t,s)),e.clip(),u(e,h1(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,h1(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return d1(this,e,t,i)}inXRange(e,t){return d1(this,e,null,t)}inYRange(e,t){return d1(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ot(Om,"id","bar"),ot(Om,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ot(Om,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var tF=Object.freeze({__proto__:null,ArcElement:yh,BarElement:Om,LineElement:Eu,PointElement:Im});const a2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Sw=a2.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function bA(n){return a2[n%a2.length]}function wA(n){return Sw[n%Sw.length]}function nF(n,e){return n.borderColor=bA(e),n.backgroundColor=wA(e),++e}function iF(n,e){return n.backgroundColor=n.data.map(()=>bA(e++)),e}function rF(n,e){return n.backgroundColor=n.data.map(()=>wA(e++)),e}function sF(n){let e=0;return(t,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof Mc?e=iF(t,e):r instanceof Eh?e=rF(t,e):r&&(e=nF(t,e))}}function Aw(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function aF(n){return n&&(n.borderColor||n.backgroundColor)}function oF(){return Hi.borderColor!=="rgba(0,0,0,0.1)"||Hi.backgroundColor!=="rgba(0,0,0,0.1)"}var lF={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r,o=Aw(i)||aF(r)||s&&Aw(s)||oF();if(!t.forceOverride&&o)return;const u=sF(n);i.forEach(u)}};function uF(n,e,t,i,r){const s=r.samples||i;if(s>=t)return n.slice(e,e+t);const o=[],u=(t-2)/(s-2);let c=0;const f=e+t-1;let h=e,v,b,x,N,T;for(o[c++]=n[h],v=0;v<s-2;v++){let M=0,k=0,P;const I=Math.floor((v+1)*u)+1+e,J=Math.min(Math.floor((v+2)*u)+1,t)+e,q=J-I;for(P=I;P<J;P++)M+=n[P].x,k+=n[P].y;M/=q,k/=q;const W=Math.floor(v*u)+1+e,ee=Math.min(Math.floor((v+1)*u)+1,t)+e,{x:j,y:ie}=n[h];for(x=N=-1,P=W;P<ee;P++)N=.5*Math.abs((j-M)*(n[P].y-ie)-(j-n[P].x)*(k-ie)),N>x&&(x=N,b=n[P],T=P);o[c++]=b,h=T}return o[c++]=n[f],o}function cF(n,e,t,i){let r=0,s=0,o,u,c,f,h,v,b,x,N,T;const M=[],k=e+t-1,P=n[e].x,J=n[k].x-P;for(o=e;o<e+t;++o){u=n[o],c=(u.x-P)/J*i,f=u.y;const q=c|0;if(q===h)f<N?(N=f,v=o):f>T&&(T=f,b=o),r=(s*r+u.x)/++s;else{const W=o-1;if(!Pn(v)&&!Pn(b)){const ee=Math.min(v,b),j=Math.max(v,b);ee!==x&&ee!==W&&M.push({...n[ee],x:r}),j!==x&&j!==W&&M.push({...n[j],x:r})}o>0&&W!==x&&M.push(n[W]),M.push(u),h=q,s=0,N=T=f,v=b=x=o}}return M}function _A(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Tw(n){n.data.datasets.forEach(e=>{_A(e)})}function fF(n,e){const t=e.length;let i=0,r;const{iScale:s}=n,{min:o,max:u,minDefined:c,maxDefined:f}=s.getUserBounds();return c&&(i=Gr(Ml(e,s.axis,o).lo,0,t-1)),f?r=Gr(Ml(e,s.axis,u).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var dF={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){Tw(n);return}const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:u}=r,c=n.getDatasetMeta(s),f=o||r.data;if(mh([u,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const h=n.scales[c.xAxisID];if(h.type!=="linear"&&h.type!=="time"||n.options.parsing)return;let{start:v,count:b}=fF(c,f);const x=t.threshold||4*i;if(b<=x){_A(r);return}Pn(o)&&(r._data=f,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(T){this._data=T}}));let N;switch(t.algorithm){case"lttb":N=uF(f,v,b,i,t);break;case"min-max":N=cF(f,v,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=N})},destroy(n){Tw(n)}};function hF(n,e,t){const i=n.segments,r=n.points,s=e.points,o=[];for(const u of i){let{start:c,end:f}=u;f=Z2(c,f,r);const h=o2(t,r[c],r[f],u.loop);if(!e.segments){o.push({source:u,target:h,start:r[c],end:r[f]});continue}const v=iA(e,h);for(const b of v){const x=o2(t,s[b.start],s[b.end],b.loop),N=nA(u,r,x);for(const T of N)o.push({source:T,target:b,start:{[t]:Cw(h,x,"start",Math.max)},end:{[t]:Cw(h,x,"end",Math.min)}})}}return o}function o2(n,e,t,i){if(i)return;let r=e[n],s=t[n];return n==="angle"&&(r=ta(r),s=ta(s)),{property:n,start:r,end:s}}function pF(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:u})=>{u=Z2(o,u,r);const c=r[o],f=r[u];i!==null?(s.push({x:c.x,y:i}),s.push({x:f.x,y:i})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:f.y}))}),s}function Z2(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Cw(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function SA(n,e){let t=[],i=!1;return qi(n)?(i=!0,t=n):t=pF(n,e),t.length?new Eu({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Nw(n){return n&&n.fill!==!1}function mF(n,e,t){let r=n[e].fill;const s=[e];let o;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ur(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function gF(n,e,t){const i=bF(n);if(Dn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ur(r)&&Math.floor(r)===r?yF(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function yF(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function vF(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Dn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function xF(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Dn(n)?i=n.value:i=e.getBaseValue(),i}function bF(n){const e=n.options,t=e.fill;let i=pn(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function wF(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,o=i.points,u=_F(e,t);u.push(SA({x:null,y:e.bottom},i));for(let c=0;c<s.length;c++){const f=s[c];for(let h=f.start;h<=f.end;h++)SF(r,o[h],u)}return new Eu({points:r,options:{}})}function _F(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function SF(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:u,point:c}=AF(s,e,"x");if(!(!c||o&&u)){if(o)i.unshift(c);else if(n.push(c),!u)break}}n.push(...i)}function AF(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,o=n.points;let u=!1,c=!1;for(let f=0;f<s.length;f++){const h=s[f],v=o[h.start][t],b=o[h.end][t];if(kl(r,v,b)){u=r===v,c=r===b;break}}return{first:u,last:c,point:i}}class AA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:o}=this;return t=t||{start:0,end:Ri},e.arc(r,s,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function TF(n){const{chart:e,fill:t,line:i}=n;if(ur(t))return CF(e,t);if(t==="stack")return wF(n);if(t==="shape")return!0;const r=NF(n);return r instanceof AA?r:SA(r,i)}function CF(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function NF(n){return(n.scale||{}).getPointPositionForValue?kF(n):EF(n)}function EF(n){const{scale:e={},fill:t}=n,i=vF(t,e);if(ur(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function kF(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=xF(t,e,s),u=[];if(i.grid.circular){const c=e.getPointPositionForValue(0,s);return new AA({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)u.push(e.getPointPositionForValue(c,o));return u}function p1(n,e,t){const i=TF(e),{chart:r,index:s,line:o,scale:u,axis:c}=e,f=o.options,h=f.fill,v=f.backgroundColor,{above:b=v,below:x=v}=h||{},N=r.getDatasetMeta(s),T=rA(r,N);i&&o.points.length&&(yg(n,t),MF(n,{line:o,target:i,above:b,below:x,area:t,scale:u,axis:c,clip:T}),vg(n))}function MF(n,e){const{line:t,target:i,above:r,below:s,area:o,scale:u,clip:c}=e,f=t._loop?"angle":e.axis;n.save(),f==="x"&&s!==r&&(Ew(n,i,o.top),kw(n,{line:t,target:i,color:r,scale:u,property:f,clip:c}),n.restore(),n.save(),Ew(n,i,o.bottom)),kw(n,{line:t,target:i,color:s,scale:u,property:f,clip:c}),n.restore()}function Ew(n,e,t){const{segments:i,points:r}=e;let s=!0,o=!1;n.beginPath();for(const u of i){const{start:c,end:f}=u,h=r[c],v=r[Z2(c,f,r)];s?(n.moveTo(h.x,h.y),s=!1):(n.lineTo(h.x,t),n.lineTo(h.x,h.y)),o=!!e.pathSegment(n,u,{move:o}),o?n.closePath():n.lineTo(v.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function kw(n,e){const{line:t,target:i,property:r,color:s,scale:o,clip:u}=e,c=hF(t,i,r);for(const{source:f,target:h,start:v,end:b}of c){const{style:{backgroundColor:x=s}={}}=f,N=i!==!0;n.save(),n.fillStyle=x,LF(n,o,u,N&&o2(r,v,b)),n.beginPath();const T=!!t.pathSegment(n,f);let M;if(N){T?n.closePath():Mw(n,i,b,r);const k=!!i.pathSegment(n,h,{move:T,reverse:!0});M=T&&k,M||Mw(n,i,v,r)}n.closePath(),n.fill(M?"evenodd":"nonzero"),n.restore()}}function LF(n,e,t,i){const r=e.chart.chartArea,{property:s,start:o,end:u}=i||{};if(s==="x"||s==="y"){let c,f,h,v;s==="x"?(c=o,f=r.top,h=u,v=r.bottom):(c=r.left,f=o,h=r.right,v=u),n.beginPath(),t&&(c=Math.max(c,t.left),h=Math.min(h,t.right),f=Math.max(f,t.top),v=Math.min(v,t.bottom)),n.rect(c,f,h-c,v-f),n.clip()}}function Mw(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var PF={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,o,u,c;for(o=0;o<i;++o)s=n.getDatasetMeta(o),u=s.dataset,c=null,u&&u.options&&u instanceof Eu&&(c={visible:n.isDatasetVisible(o),index:o,fill:gF(u,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:u}),s.$filler=c,r.push(c);for(o=0;o<i;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=mF(r,o,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const u=r[o].$filler;u&&(u.line.updateControlPoints(s,u.axis),i&&u.fill&&p1(n.ctx,u,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;Nw(s)&&p1(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!Nw(i)||t.drawTime!=="beforeDatasetDraw"||p1(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Lw=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},RF=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Pw extends Qa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ai(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Or(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=Lw(i,s);let f,h;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,h=this._fitRows(o,s,u,c)+10):(h=this.maxHeight,f=this._fitCols(o,r,u,c)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.lineWidths=[0],h=r+u;let v=e;s.textAlign="left",s.textBaseline="middle";let b=-1,x=-h;return this.legendItems.forEach((N,T)=>{const M=i+t/2+s.measureText(N.text).width;(T===0||f[f.length-1]+M+2*u>o)&&(v+=h,f[f.length-(T>0?0:1)]=0,x+=h,b++),c[T]={left:0,top:x,row:b,width:M,height:r},f[f.length-1]+=M+u}),v}_fitCols(e,t,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.columnSizes=[],h=o-e;let v=u,b=0,x=0,N=0,T=0;return this.legendItems.forEach((M,k)=>{const{itemWidth:P,itemHeight:I}=DF(i,t,s,M,r);k>0&&x+I+2*u>h&&(v+=b+u,f.push({width:b,height:x}),N+=b+u,T++,b=x=0),c[k]={left:N,top:x,col:T,width:P,height:I},b=Math.max(b,P),x+=I+u}),v+=b,f.push({width:b,height:x}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=$f(s,this.left,this.width);if(this.isHorizontal()){let u=0,c=cs(i,this.left+r,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,c=cs(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+e+r,f.left=o.leftForLtr(o.x(c),f.width),c+=f.width+r}else{let u=0,c=cs(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,c=cs(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),f.top=c,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),c+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;yg(e,this),this._draw(),vg(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,u=Hi.color,c=$f(e.rtl,this.left,this.width),f=Or(o.font),{padding:h}=o,v=f.size,b=v/2;let x;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:N,boxHeight:T,itemHeight:M}=Lw(o,v),k=function(W,ee,j){if(isNaN(N)||N<=0||isNaN(T)||T<0)return;r.save();const ie=pn(j.lineWidth,1);if(r.fillStyle=pn(j.fillStyle,u),r.lineCap=pn(j.lineCap,"butt"),r.lineDashOffset=pn(j.lineDashOffset,0),r.lineJoin=pn(j.lineJoin,"miter"),r.lineWidth=ie,r.strokeStyle=pn(j.strokeStyle,u),r.setLineDash(pn(j.lineDash,[])),o.usePointStyle){const le={radius:T*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:ie},F=c.xPlus(W,N/2),G=ee+b;GS(r,le,F,G,o.pointStyleWidth&&N)}else{const le=ee+Math.max((v-T)/2,0),F=c.leftForLtr(W,N),G=Rc(j.borderRadius);r.beginPath(),Object.values(G).some(fe=>fe!==0)?Oh(r,{x:F,y:le,w:N,h:T,radius:G}):r.rect(F,le,N,T),r.fill(),ie!==0&&r.stroke()}r.restore()},P=function(W,ee,j){zc(r,j.text,W,ee+M/2,f,{strikethrough:j.hidden,textAlign:c.textAlign(j.textAlign)})},I=this.isHorizontal(),J=this._computeTitleHeight();I?x={x:cs(s,this.left+h,this.right-i[0]),y:this.top+h+J,line:0}:x={x:this.left+h,y:cs(s,this.top+J+h,this.bottom-t[0].height),line:0},QS(this.ctx,e.textDirection);const q=M+h;this.legendItems.forEach((W,ee)=>{r.strokeStyle=W.fontColor,r.fillStyle=W.fontColor;const j=r.measureText(W.text).width,ie=c.textAlign(W.textAlign||(W.textAlign=o.textAlign)),le=N+b+j;let F=x.x,G=x.y;c.setWidth(this.width),I?ee>0&&F+le+h>this.right&&(G=x.y+=q,x.line++,F=x.x=cs(s,this.left+h,this.right-i[x.line])):ee>0&&G+q>this.bottom&&(F=x.x=F+t[x.line].width+h,x.line++,G=x.y=cs(s,this.top+J+h,this.bottom-t[x.line].height));const fe=c.x(F);if(k(fe,G,W),F=e8(ie,F+N+b,I?F+le:this.right,e.rtl),P(c.x(F),G,W),I)x.x+=le+h;else if(typeof W.text!="string"){const ae=f.lineHeight;x.y+=TA(W,ae)+h}else x.y+=q}),eA(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Or(t.font),r=hs(t.padding);if(!t.display)return;const s=$f(e.rtl,this.left,this.width),o=this.ctx,u=t.position,c=i.size/2,f=r.top+c;let h,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),h=this.top+f,v=cs(e.align,v,this.right-b);else{const N=this.columnSizes.reduce((T,M)=>Math.max(T,M.height),0);h=f+cs(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const x=cs(u,v,v+b);o.textAlign=s.textAlign(U2(u)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,zc(o,t.text,x,h,i)}_computeTitleHeight(){const e=this.options.title,t=Or(e.font),i=hs(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(kl(e,this.left,this.right)&&kl(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],kl(e,r.left,r.left+r.width)&&kl(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!FF(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=RF(r,i);r&&!s&&Ai(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Ai(t.onHover,[e,i,this],this)}else i&&Ai(t.onClick,[e,i,this],this)}}function DF(n,e,t,i,r){const s=IF(i,n,e,t),o=OF(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function IF(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}function OF(n,e,t){let i=n;return typeof e.text!="string"&&(i=TA(e,t)),i}function TA(n,e){const t=n.text?n.text.length:0;return e*t}function FF(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var BF={id:"legend",_element:Pw,start(n,e,t){const i=n.legend=new Pw({ctx:n.ctx,options:t,chart:n});ds.configure(n,i,t),ds.addBox(n,i)},stop(n){ds.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;ds.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const f=c.controller.getStyle(t?0:void 0),h=hs(f.borderWidth);return{text:e[c.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(u||f.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class X2 extends Qa{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=qi(i.text)?i.text.length:1;this._padding=hs(i.padding);const s=r*Or(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:o}=this,u=o.align;let c=0,f,h,v;return this.isHorizontal()?(h=cs(u,i,s),v=t+e,f=s-i):(o.position==="left"?(h=i+e,v=cs(u,r,t),c=Di*-.5):(h=s-e,v=cs(u,t,r),c=Di*.5),f=r-t),{titleX:h,titleY:v,maxWidth:f,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Or(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:u,maxWidth:c,rotation:f}=this._drawArgs(s);zc(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:f,textAlign:U2(t.align),textBaseline:"middle",translation:[o,u]})}}function zF(n,e){const t=new X2({ctx:n.ctx,options:e,chart:n});ds.configure(n,t,e),ds.addBox(n,t),n.titleBlock=t}var jF={id:"title",_element:X2,start(n,e,t){zF(n,t)},stop(n){const e=n.titleBlock;ds.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;ds.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pm=new WeakMap;var VF={id:"subtitle",start(n,e,t){const i=new X2({ctx:n.ctx,options:t,chart:n});ds.configure(n,i,t),ds.addBox(n,i),pm.set(n,i)},stop(n){ds.removeBox(n,pm.get(n)),pm.delete(n)},beforeUpdate(n,e,t){const i=pm.get(n);ds.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vh={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const c=u.tooltipPosition();i.add(c.x),r+=c.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((u,c)=>u+c)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,u;for(s=0,o=n.length;s<o;++s){const c=n[s].element;if(c&&c.hasValue()){const f=c.getCenterPoint(),h=Q1(e,f);h<r&&(r=h,u=c)}}if(u){const c=u.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Oo(n,e){return e&&(qi(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Cl(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function UF(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:u}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Rw(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:u}=e,c=Or(e.bodyFont),f=Or(e.titleFont),h=Or(e.footerFont),v=s.length,b=r.length,x=i.length,N=hs(e.padding);let T=N.height,M=0,k=i.reduce((J,q)=>J+q.before.length+q.lines.length+q.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,v&&(T+=v*f.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),k){const J=e.displayColors?Math.max(u,c.lineHeight):c.lineHeight;T+=x*J+(k-x)*c.lineHeight+(k-1)*e.bodySpacing}b&&(T+=e.footerMarginTop+b*h.lineHeight+(b-1)*e.footerSpacing);let P=0;const I=function(J){M=Math.max(M,t.measureText(J).width+P)};return t.save(),t.font=f.string,ui(n.title,I),t.font=c.string,ui(n.beforeBody.concat(n.afterBody),I),P=e.displayColors?o+2+e.boxPadding:0,ui(i,J=>{ui(J.before,I),ui(J.lines,I),ui(J.after,I)}),P=0,t.font=h.string,ui(n.footer,I),t.restore(),M+=N.width,{width:M,height:T}}function qF(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function HF(n,e,t,i){const{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+s+o>e.width||n==="right"&&r-s-o<0)return!0}function GF(n,e,t,i){const{x:r,width:s}=t,{width:o,chartArea:{left:u,right:c}}=n;let f="center";return i==="center"?f=r<=(u+c)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),HF(f,n,e,t)&&(f="center"),f}function Dw(n,e,t){const i=t.yAlign||e.yAlign||qF(n,t);return{xAlign:t.xAlign||e.xAlign||GF(n,e,t,i),yAlign:i}}function WF(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function KF(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Iw(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:u,yAlign:c}=t,f=r+s,{topLeft:h,topRight:v,bottomLeft:b,bottomRight:x}=Rc(o);let N=WF(e,u);const T=KF(e,c,f);return c==="center"?u==="left"?N+=f:u==="right"&&(N-=f):u==="left"?N-=Math.max(h,b)+r:u==="right"&&(N+=Math.max(v,x)+r),{x:Gr(N,0,i.width-e.width),y:Gr(T,0,i.height-e.height)}}function mm(n,e,t){const i=hs(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Ow(n){return Oo([],Cl(n))}function YF(n,e,t){return Uu(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Fw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const CA={beforeTitle:Al,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Al,beforeBody:Al,beforeLabel:Al,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Pn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Al,afterBody:Al,beforeFooter:Al,footer:Al,afterFooter:Al};function Rs(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?CA[e].call(t,i):r}class l2 extends Qa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new sA(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=YF(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Rs(i,"beforeTitle",this,e),s=Rs(i,"title",this,e),o=Rs(i,"afterTitle",this,e);let u=[];return u=Oo(u,Cl(r)),u=Oo(u,Cl(s)),u=Oo(u,Cl(o)),u}getBeforeBody(e,t){return Ow(Rs(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return ui(e,s=>{const o={before:[],lines:[],after:[]},u=Fw(i,s);Oo(o.before,Cl(Rs(u,"beforeLabel",this,s))),Oo(o.lines,Rs(u,"label",this,s)),Oo(o.after,Cl(Rs(u,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,t){return Ow(Rs(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Rs(i,"beforeFooter",this,e),s=Rs(i,"footer",this,e),o=Rs(i,"afterFooter",this,e);let u=[];return u=Oo(u,Cl(r)),u=Oo(u,Cl(s)),u=Oo(u,Cl(o)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],o=[];let u=[],c,f;for(c=0,f=t.length;c<f;++c)u.push(UF(this.chart,t[c]));return e.filter&&(u=u.filter((h,v,b)=>e.filter(h,v,b,i))),e.itemSort&&(u=u.sort((h,v)=>e.itemSort(h,v,i))),ui(u,h=>{const v=Fw(e.callbacks,h);r.push(Rs(v,"labelColor",this,h)),s.push(Rs(v,"labelPointStyle",this,h)),o.push(Rs(v,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const u=vh[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=Rw(this,i),f=Object.assign({},u,c),h=Dw(this.chart,i,f),v=Iw(i,f,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:v.x,y:v.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:u}=i,{topLeft:c,topRight:f,bottomLeft:h,bottomRight:v}=Rc(u),{x:b,y:x}=e,{width:N,height:T}=t;let M,k,P,I,J,q;return s==="center"?(J=x+T/2,r==="left"?(M=b,k=M-o,I=J+o,q=J-o):(M=b+N,k=M+o,I=J-o,q=J+o),P=M):(r==="left"?k=b+Math.max(c,h)+o:r==="right"?k=b+N-Math.max(f,v)-o:k=this.caretX,s==="top"?(I=x,J=I-o,M=k-o,P=k+o):(I=x+T,J=I+o,M=k+o,P=k-o),q=I),{x1:M,x2:k,x3:P,y1:I,y2:J,y3:q}}drawTitle(e,t,i){const r=this.title,s=r.length;let o,u,c;if(s){const f=$f(i.rtl,this.x,this.width);for(e.x=mm(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",o=Or(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,c=0;c<s;++c)t.fillText(r[c],f.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+u,c+1===s&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,s){const o=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:c,boxWidth:f}=s,h=Or(s.bodyFont),v=mm(this,"left",s),b=r.x(v),x=c<h.lineHeight?(h.lineHeight-c)/2:0,N=t.y+x;if(s.usePointStyle){const T={radius:Math.min(f,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},M=r.leftForLtr(b,f)+f/2,k=N+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,t2(e,T,M,k),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,t2(e,T,M,k)}else{e.lineWidth=Dn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const T=r.leftForLtr(b,f),M=r.leftForLtr(r.xPlus(b,1),f-2),k=Rc(o.borderRadius);Object.values(k).some(P=>P!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Oh(e,{x:T,y:N,w:f,h:c,radius:k}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Oh(e,{x:M,y:N+1,w:f-2,h:c-2,radius:k}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(T,N,f,c),e.strokeRect(T,N,f,c),e.fillStyle=o.backgroundColor,e.fillRect(M,N+1,f-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:u,boxHeight:c,boxWidth:f,boxPadding:h}=i,v=Or(i.bodyFont);let b=v.lineHeight,x=0;const N=$f(i.rtl,this.x,this.width),T=function(j){t.fillText(j,N.x(e.x+x),e.y+b/2),e.y+=b+s},M=N.textAlign(o);let k,P,I,J,q,W,ee;for(t.textAlign=o,t.textBaseline="middle",t.font=v.string,e.x=mm(this,M,i),t.fillStyle=i.bodyColor,ui(this.beforeBody,T),x=u&&M!=="right"?o==="center"?f/2+h:f+2+h:0,J=0,W=r.length;J<W;++J){for(k=r[J],P=this.labelTextColors[J],t.fillStyle=P,ui(k.before,T),I=k.lines,u&&I.length&&(this._drawColorBox(t,e,J,N,i),b=Math.max(v.lineHeight,c)),q=0,ee=I.length;q<ee;++q)T(I[q]),b=v.lineHeight;ui(k.after,T)}x=0,b=v.lineHeight,ui(this.afterBody,T),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let o,u;if(s){const c=$f(i.rtl,this.x,this.width);for(e.x=mm(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",o=Or(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,u=0;u<s;++u)t.fillText(r[u],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:o}=this,{x:u,y:c}=e,{width:f,height:h}=i,{topLeft:v,topRight:b,bottomLeft:x,bottomRight:N}=Rc(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+v,c),o==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+f-b,c),t.quadraticCurveTo(u+f,c,u+f,c+b),o==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+f,c+h-N),t.quadraticCurveTo(u+f,c+h,u+f-N,c+h),o==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+x,c+h),t.quadraticCurveTo(u,c+h,u,c+h-x),o==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,c+v),t.quadraticCurveTo(u,c,u+v,c),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=vh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const u=this._size=Rw(this,e),c=Object.assign({},o,this._size),f=Dw(t,e,c),h=Iw(e,c,f,t);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=hs(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),QS(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),eA(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:c})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[c],index:c}}),s=!Qm(i,r),o=this._positionChanged(r,t);(s||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,i),u=this._positionChanged(o,e),c=t||!Qm(o,s)||u;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,o=vh[s.position].call(this,e,t);return o!==!1&&(i!==o.x||r!==o.y)}}ot(l2,"positioners",vh);var $F={id:"tooltip",_element:l2,positioners:vh,afterInit(n,e,t){t&&(n.tooltip=new l2({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:CA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},JF=Object.freeze({__proto__:null,Colors:lF,Decimation:dF,Filler:PF,Legend:BF,SubTitle:VF,Title:jF,Tooltip:$F});const ZF=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function XF(n,e,t,i){const r=n.indexOf(e);if(r===-1)return ZF(n,e,t,i);const s=n.lastIndexOf(e);return r!==s?t:r}const QF=(n,e)=>n===null?null:Gr(Math.round(n),0,e);function Bw(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class u2 extends Hc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Pn(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:XF(i,e,pn(t,e),this._addedLabels),QF(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return Bw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ot(u2,"id","category"),ot(u2,"defaults",{ticks:{callback:Bw}});function e9(n,e){const t=[],{bounds:r,step:s,min:o,max:u,precision:c,count:f,maxTicks:h,maxDigits:v,includeBounds:b}=n,x=s||1,N=h-1,{min:T,max:M}=e,k=!Pn(o),P=!Pn(u),I=!Pn(f),J=(M-T)/(v+1);let q=Rb((M-T)/N/x)*x,W,ee,j,ie;if(q<1e-14&&!k&&!P)return[{value:T},{value:M}];ie=Math.ceil(M/q)-Math.floor(T/q),ie>N&&(q=Rb(ie*q/N/x)*x),Pn(c)||(W=Math.pow(10,c),q=Math.ceil(q*W)/W),r==="ticks"?(ee=Math.floor(T/q)*q,j=Math.ceil(M/q)*q):(ee=T,j=M),k&&P&&s&&KD((u-o)/s,q/1e3)?(ie=Math.round(Math.min((u-o)/q,h)),q=(u-o)/ie,ee=o,j=u):I?(ee=k?o:ee,j=P?u:j,ie=f-1,q=(j-ee)/ie):(ie=(j-ee)/q,Th(ie,Math.round(ie),q/1e3)?ie=Math.round(ie):ie=Math.ceil(ie));const le=Math.max(Db(q),Db(ee));W=Math.pow(10,Pn(c)?le:c),ee=Math.round(ee*W)/W,j=Math.round(j*W)/W;let F=0;for(k&&(b&&ee!==o?(t.push({value:o}),ee<o&&F++,Th(Math.round((ee+F*q)*W)/W,o,zw(o,J,n))&&F++):ee<o&&F++);F<ie;++F){const G=Math.round((ee+F*q)*W)/W;if(P&&G>u)break;t.push({value:G})}return P&&b&&j!==u?t.length&&Th(t[t.length-1].value,u,zw(u,J,n))?t[t.length-1].value=u:t.push({value:u}):(!P||j===u)&&t.push({value:j}),t}function zw(n,e,{horizontal:t,minRotation:i}){const r=Ja(i),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class ag extends Hc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Pn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=c=>r=t?r:c,u=c=>s=i?s:c;if(e){const c=Go(r),f=Go(s);c<0&&f<0?u(0):c>0&&f>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);u(s+c),e||o(r-c)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=e9(r,s);return e.bounds==="ticks"&&OS(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Wh(e,this.chart.options.locale,this.options.ticks.format)}}class c2 extends ag{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ur(e)?e:0,this.max=ur(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Ja(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ot(c2,"id","linear"),ot(c2,"defaults",{ticks:{callback:gg.formatters.numeric}});const Bh=n=>Math.floor(Nu(n)),_c=(n,e)=>Math.pow(10,Bh(n)+e);function jw(n){return n/Math.pow(10,Bh(n))===1}function Vw(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function t9(n,e){const t=e-n;let i=Bh(t);for(;Vw(n,e,i)>10;)i++;for(;Vw(n,e,i)<10;)i--;return Math.min(i,Bh(n))}function n9(n,{min:e,max:t}){e=Qs(n.min,e);const i=[],r=Bh(e);let s=t9(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const u=Math.pow(10,s),c=r>s?Math.pow(10,r):0,f=Math.round((e-c)*o)/o,h=Math.floor((e-c)/u/10)*u*10;let v=Math.floor((f-h)/Math.pow(10,s)),b=Qs(n.min,Math.round((c+h+v*Math.pow(10,s))*o)/o);for(;b<t;)i.push({value:b,major:jw(b),significand:v}),v>=10?v=v<15?15:20:v++,v>=20&&(s++,v=2,o=s>=0?1:o),b=Math.round((c+h+v*Math.pow(10,s))*o)/o;const x=Qs(n.max,b);return i.push({value:x,major:jw(x),significand:v}),i}class f2 extends Hc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=ag.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return ur(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ur(e)?Math.max(0,e):null,this.max=ur(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ur(this._userMin)&&(this.min=e===_c(this.min,0)?_c(this.min,-1):_c(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const s=u=>i=e?i:u,o=u=>r=t?r:u;i===r&&(i<=0?(s(1),o(10)):(s(_c(i,-1)),o(_c(r,1)))),i<=0&&s(_c(r,-1)),r<=0&&o(_c(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=n9(t,this);return e.bounds==="ticks"&&OS(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Wh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Nu(e),this._valueRange=Nu(this.max)-Nu(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Nu(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}ot(f2,"id","logarithmic"),ot(f2,"defaults",{ticks:{callback:gg.formatters.logarithmic,major:{enabled:!0}}});function d2(n){const e=n.ticks;if(e.display&&n.display){const t=hs(e.backdropPadding);return pn(e.font&&e.font.size,Hi.font.size)+t.height}return 0}function i9(n,e,t){return t=qi(t)?t:[t],{w:c8(n,e.string,t),h:t.length*e.lineHeight}}function Uw(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function r9(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,u=o.centerPointLabels?Di/s:0;for(let c=0;c<s;c++){const f=o.setContext(n.getPointLabelContext(c));r[c]=f.padding;const h=n.getPointPosition(c,n.drawingArea+r[c],u),v=Or(f.font),b=i9(n.ctx,v,n._pointLabels[c]);i[c]=b;const x=ta(n.getIndexAngle(c)+u),N=Math.round(j2(x)),T=Uw(N,h.x,b.w,0,180),M=Uw(N,h.y,b.h,90,270);s9(t,e,x,T,M)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=l9(n,i,r)}function s9(n,e,t,i,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let u=0,c=0;i.start<e.l?(u=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-u)):i.end>e.r&&(u=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+u)),r.start<e.t?(c=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+c))}function a9(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:u}=t,c=n.getPointPosition(e,i+r+o,s),f=Math.round(j2(ta(c.angle+br))),h=f9(c.y,u.h,f),v=u9(f),b=c9(c.x,u.w,v);return{visible:!0,x:c.x,y:h,textAlign:v,left:b,top:h,right:b+u.w,bottom:h+u.h}}function o9(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:s}=n;return!(Ll({x:t,y:i},e)||Ll({x:t,y:s},e)||Ll({x:r,y:i},e)||Ll({x:r,y:s},e))}function l9(n,e,t){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:u}=s.pointLabels,c={extra:d2(s)/2,additionalAngle:o?Di/r:0};let f;for(let h=0;h<r;h++){c.padding=t[h],c.size=e[h];const v=a9(n,h,c);i.push(v),u==="auto"&&(v.visible=o9(v,f),v.visible&&(f=v))}return i}function u9(n){return n===0||n===180?"center":n<180?"left":"right"}function c9(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function f9(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function d9(n,e,t){const{left:i,top:r,right:s,bottom:o}=t,{backdropColor:u}=e;if(!Pn(u)){const c=Rc(e.borderRadius),f=hs(e.backdropPadding);n.fillStyle=u;const h=i-f.left,v=r-f.top,b=s-i+f.width,x=o-r+f.height;Object.values(c).some(N=>N!==0)?(n.beginPath(),Oh(n,{x:h,y:v,w:b,h:x,radius:c}),n.fill()):n.fillRect(h,v,b,x)}}function h9(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(n.getPointLabelContext(r));d9(t,o,s);const u=Or(o.font),{x:c,y:f,textAlign:h}=s;zc(t,n._pointLabels[r],c,f+u.lineHeight/2,u,{color:o.color,textAlign:h,textBaseline:"middle"})}}function NA(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,Ri);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function p9(n,e,t,i,r){const s=n.ctx,o=e.circular,{color:u,lineWidth:c}=e;!o&&!i||!u||!c||t<0||(s.save(),s.strokeStyle=u,s.lineWidth=c,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),NA(n,t,o,i),s.closePath(),s.stroke(),s.restore())}function m9(n,e,t){return Uu(n,{label:t,index:e,type:"pointLabel"})}class xh extends ag{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=hs(d2(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ur(e)&&!isNaN(e)?e:0,this.max=ur(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/d2(this.options))}generateTickLabels(e){ag.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=Ai(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?r9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){const t=Ri/(this._pointLabels.length||1),i=this.options.startAngle||0;return ta(e*t+Ja(i))}getDistanceFromCenterForValue(e){if(Pn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Pn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return m9(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-br+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),NA(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,o=this._pointLabels.length;let u,c,f;if(t.pointLabels.display&&h9(this,o),r.display&&this.ticks.forEach((h,v)=>{if(v!==0||v===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const b=this.getContext(v),x=r.setContext(b),N=s.setContext(b);p9(this,x,c,o,N)}}),i.display){for(e.save(),u=o-1;u>=0;u--){const h=i.setContext(this.getPointLabelContext(u)),{color:v,lineWidth:b}=h;!b||!v||(e.lineWidth=b,e.strokeStyle=v,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),f=this.getPointPosition(u,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(f.x,f.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const f=i.setContext(this.getContext(c)),h=Or(f.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),f.showLabelBackdrop){e.font=h.string,o=e.measureText(u.label).width,e.fillStyle=f.backdropColor;const v=hs(f.backdropPadding);e.fillRect(-o/2-v.left,-s-h.size/2-v.top,o+v.width,h.size+v.height)}zc(e,u.label,0,-s,h,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),e.restore()}drawTitle(){}}ot(xh,"id","radialLinear"),ot(xh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:gg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ot(xh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ot(xh,"descriptors",{angleLines:{_fallback:"grid"}});const wg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Os=Object.keys(wg);function qw(n,e){return n-e}function Hw(n,e){if(Pn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),ur(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(nd(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function Gw(n,e,t,i){const r=Os.length;for(let s=Os.indexOf(n);s<r-1;++s){const o=wg[Os[s]],u=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(u*o.size))<=i)return Os[s]}return Os[r-1]}function g9(n,e,t,i,r){for(let s=Os.length-1;s>=Os.indexOf(t);s--){const o=Os[s];if(wg[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Os[t?Os.indexOf(t):0]}function y9(n){for(let e=Os.indexOf(n)+1,t=Os.length;e<t;++e)if(wg[Os[e]].common)return Os[e]}function Ww(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=V2(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function v9(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let u,c;for(u=s;u<=o;u=+r.add(u,1,i))c=t[u],c>=0&&(e[c].major=!0);return e}function Kw(n,e,t){const i=[],r={},s=e.length;let o,u;for(o=0;o<s;++o)u=e[o],r[u]=o,i.push({value:u,major:!1});return s===0||!t?i:v9(n,i,r,t)}class zh extends Hc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new NI._date(e.adapters.date);r.init(t),Ah(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Hw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:u}=this.getUserBounds();function c(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!o||!u)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=ur(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=ur(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,u=ZD(r,s,o);return this._unit=t.unit||(i.autoSkip?Gw(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):g9(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:y9(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),Kw(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Gr(t,0,o),i=Gr(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Gw(s.minUnit,t,i,this._getLabelCapacity(t)),u=pn(r.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,f=nd(c)||c===!0,h={};let v=t,b,x;if(f&&(v=+e.startOf(v,"isoWeek",c)),v=+e.startOf(v,f?"day":o),e.diff(i,t,o)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+o);const N=r.ticks.source==="data"&&this.getDataTimestamps();for(b=v,x=0;b<i;b=+e.add(b,u,o),x++)Ww(h,b,N);return(b===i||r.bounds==="ticks"||x===1)&&Ww(h,b,N),Object.keys(h).sort(qw).map(T=>+T)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,o=t||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,r){const s=this.options,o=s.ticks.callback;if(o)return Ai(o,[e,t,i],this);const u=s.time.displayFormats,c=this._unit,f=this._majorUnit,h=c&&u[c],v=f&&u[f],b=i[t],x=f&&v&&b&&b.major;return this._adapter.format(e,r||(x?v:h))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=Ja(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),o=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*s+u*o,h:i*o+u*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Kw(this,[e],this._majorUnit),r),o=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(Hw(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return zS(e.sort(qw))}}ot(zh,"id","time"),ot(zh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gm(n,e,t){let i=0,r=n.length-1,s,o,u,c;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=Ml(n,"pos",e)),{pos:s,time:u}=n[i],{pos:o,time:c}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=Ml(n,"time",e)),{time:s,pos:u}=n[i],{time:o,pos:c}=n[r]);const f=o-s;return f?u+(c-u)*(e-s)/f:u}class h2 extends zh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=gm(t,this.min),this._tableRange=gm(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let o,u,c,f,h;for(o=0,u=e.length;o<u;++o)f=e[o],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,u=r.length;o<u;++o)h=r[o+1],c=r[o-1],f=r[o],Math.round((h+c)/2)!==f&&s.push({time:f,pos:o/(u-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(gm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return gm(this._table,i*this._tableRange+this._minPos,!0)}}ot(h2,"id","timeseries"),ot(h2,"defaults",zh.defaults);var x9=Object.freeze({__proto__:null,CategoryScale:u2,LinearScale:c2,LogarithmicScale:f2,RadialLinearScale:xh,TimeScale:zh,TimeSeriesScale:h2});const EA=[CI,tF,JF,x9];zo.register(...EA);zo.register(...EA);const Mr=({title:n,value:e,icon:t,description:i,bgColor:r="bg-sky-500",textColor:s="text-white",smallValue:o=!1,className:u=""})=>S.jsxs("div",{className:`shadow-lg rounded-xl p-5 ${r} ${s} flex flex-col justify-between h-full ${u}`,children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:n}),t&&S.jsx("div",{className:"opacity-75",children:t})]}),S.jsx("p",{className:`${o?"text-xl sm:text-2xl":"text-2xl sm:text-3xl"} font-bold mb-1`,children:e})]}),i&&S.jsx("p",{className:"text-xs sm:text-sm opacity-90 mt-auto",children:i})]}),ym=({isActive:n,onClick:e,icon:t,label:i})=>S.jsxs("button",{onClick:e,className:`flex items-center px-4 py-3 font-medium text-sm rounded-t-lg transition-colors focus:outline-none
                    ${n?"bg-white text-sky-600 border-sky-600 border-t border-x":"text-slate-500 hover:text-sky-600 hover:bg-slate-50 border-transparent border-t border-x"}`,role:"tab","aria-selected":n,children:[t,S.jsx("span",{className:"ml-2",children:i})]}),b9=()=>{const{isLoading:n,error:e,isInitializing:t,initializationError:i,totalProductsInV2DB:r,countKeepaPresent:s,countMarketAnalysisPresent:o,countEbayProductDataPresent:u,countInitializedOnly:c,countTeilwertEstimated:f,countPdfLinksPresent:h,v2Statuses:v,v2AllSearchTerms:b,fetchV2Statuses:x,initializeV2Database:N,isBatchProcessing:T,batchProcessProgress:M,batchProcessError:k,batchProcessedCount:P,batchProcessSuccessMessage:I,batchGenerateMarketAnalysis:J,isBatchEstimatingTeilwert:q,batchTeilwertEstimationProgress:W,batchTeilwertEstimationError:ee,batchTeilwertEstimatedCount:j,batchTeilwertSuccessMessage:ie,batchGenerateTeilwertEstimations:le,v2ProcessedKeepaData:F,v2GeminiTeilwerte:G,v2SearchTermKeys:fe,v2KeepaKeys:ae,v2TeilwertKeys:ge}=qc(),{products:K,isLoading:Q,fetchProducts:Z,filterOutETVZero:de,setFilterOutETVZeroPreference:z}=Vc(),[me,R]=ne.useState("10"),[H,te]=ne.useState("5"),ue=()=>{const Be=parseInt(me,10);!isNaN(Be)&&Be>0?J(Be):alert("Bitte gültige Anzahl (>0) für Marktanalyse eingeben.")},ce=()=>{const Be=parseInt(H,10);!isNaN(Be)&&Be>0?le(Be):alert("Bitte gültige Anzahl (>0) für Teilwertschätzung eingeben.")},Ae=async Be=>{z(Be.target.checked),await Z(),await x(!0)},_e=ne.useMemo(()=>K?K.filter(Be=>!b[Be.id]||b[Be.id].length===0).length:0,[K,b]),Ce=ne.useMemo(()=>K?K.filter(Be=>{const We=v[Be.id],et=fe.has(Be.id),Qe=!ge.has(Be.id),yt=ae.has(Be.id),Re=We==null?void 0:We.ebay,se=Re===!0||Array.isArray(Re)&&Re.length>0;return et&&Qe&&yt&&se}).length:0,[K,v,fe,ge,ae]);return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-white p-6 rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-1",children:"Globale Produktfilter"}),S.jsx("p",{className:"text-sm text-slate-600",children:"Beeinflusst Laden und Anzeigen von Produkten."})]}),S.jsxs("label",{className:"flex items-center text-sm text-slate-700 mt-2 sm:mt-0 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer",children:[S.jsx("input",{type:"checkbox",checked:de,onChange:Ae,className:"mr-2 h-4 w-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500",disabled:n||Q||t||T||q}),S.jsx(J7,{className:"w-4 h-4 mr-1 text-sky-600"}),"Produkte mit ETV=0 ausschließen"]})]}),S.jsx("hr",{className:"my-6 border-slate-200"}),S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Datenbank Initialisierung"}),S.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Sicherstellen, dass für alle ",K.length," Produkte ein Eintrag in `",Ds,"` existiert."]}),S.jsxs("button",{onClick:N,disabled:t||n||Q||K.length===0||T||q,className:"px-6 py-3 btn-primary-base flex items-center bg-green-600 hover:bg-green-700 focus:ring-green-500 disabled:bg-green-300 disabled:text-green-100 disabled:cursor-not-allowed",children:[t?S.jsx(nr,{size:"sm",className:"mr-2 border-white"}):S.jsx(kS,{className:"w-5 h-5 mr-2"}),t?"Initialisiere...":`V2 Status für ${K.length} Produkte Initialisieren`]}),Q&&!t&&S.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Lade Produktliste..."}),i&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler Initialisierung:"}),S.jsx("p",{children:i})]}),!t&&!i&&c>0&&K.length>0&&S.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center",children:[S.jsx(na,{className:"w-5 h-5 mr-1"}),"Initialisierung scheint erfolgt."]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Batch-Marktanalyse Steuerung"}),S.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Starte Gemini Marktanalyse & eBay Suchbegriff-Erstellung."}),S.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Produkte für Analyse: ",S.jsx("strong",{className:"text-slate-700",children:_e})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[S.jsx("input",{type:"number",value:me,onChange:Be=>R(Be.target.value),placeholder:"Anzahl",min:"1",className:"form-input-base sm:w-40",disabled:T||t||q}),S.jsxs("button",{onClick:ue,disabled:T||t||q||parseInt(me,10)<=0||Q||K.length===0||_e===0,className:"px-6 py-3 btn-primary-base flex items-center justify-center w-full sm:w-auto",children:[T?S.jsx(nr,{size:"sm",className:"mr-2 border-white"}):S.jsx(Zm,{className:"w-5 h-5 mr-2"}),T?"Verarbeite MA-Batch...":"MA-Batch Starten"]})]}),T&&M&&S.jsxs("div",{className:"mt-4 p-3 bg-sky-50 rounded-md text-sm text-sky-700",children:[S.jsx(nr,{size:"sm",className:"inline-block mr-2"}),"MA: Produkt ",M.current," von ",M.total,": ",S.jsx("strong",{className:"ml-1",children:M.productName})," (ASIN: ",M.asin,")"]}),k&&!T&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler MA-Batch:"}),S.jsx("p",{children:k})]}),I&&!T&&S.jsxs("div",{className:"mt-3 p-3 bg-green-100 border-l-4 border-green-500 text-green-700",children:[S.jsx("p",{className:"font-bold",children:"MA-Batch Abgeschlossen:"}),S.jsx("p",{children:I})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Batch Teilwertschätzung Steuerung"}),S.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Starte Gemini Teilwertschätzung für Produkte mit abgeschlossener Marktanalyse und vorhandenen Detaildaten."}),S.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Hinweis: Batch prüft MA-Daten (`",bm,"`), Keepa (`",Vf,"`), eBay-Begriffe (`",Nc,"`) und eBay Ergebnisse (`",jf,"`). Bei fehlenden Detail-Daten wird Produkt übersprungen (Eintrag in `",Lf,"`)."]}),S.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Produkte initial qualifiziert für Teilwert (MA, Keepa & eBay vorhanden, Teilwert fehlt): ",S.jsx("strong",{className:"text-slate-700",children:Ce})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 mt-4",children:[S.jsx("input",{type:"number",value:H,onChange:Be=>te(Be.target.value),placeholder:"Anzahl",min:"1",className:"form-input-base sm:w-40",disabled:q||t||T}),S.jsxs("button",{onClick:ce,disabled:q||t||T||parseInt(H,10)<=0||Q||K.length===0||Ce===0,className:"px-6 py-3 btn-primary-base flex items-center justify-center w-full sm:w-auto bg-emerald-600 hover:bg-emerald-700 focus:ring-emerald-500 disabled:bg-emerald-300 disabled:text-emerald-100 disabled:cursor-not-allowed",children:[q?S.jsx(nr,{size:"sm",className:"mr-2 border-white"}):S.jsx(wa,{className:"w-5 h-5 mr-2"}),q?"Verarbeite Teilwert-Batch...":"Teilwert-Batch Starten"]})]}),q&&W&&S.jsxs("div",{className:"mt-4 p-3 bg-emerald-50 rounded-md text-sm text-emerald-700",children:[S.jsxs("p",{className:"mb-2",children:[S.jsx(nr,{size:"sm",className:"inline-block mr-2"}),W.phase==="pre-checking"?"Prüfe Vorbedingungen für Produkt ":W.phase==="processing-pdf"?"PDF Verarbeitung für Produkt ":"Teilwertschätzung für Produkt ",W.current," von ",W.total,":",S.jsx("strong",{className:"ml-1",children:W.productName||`ASIN: ${W.asin}`}),W.productName&&` (ASIN: ${W.asin})`]}),W.currentStepDetails&&S.jsx(Z1,{steps:W.currentStepDetails})]}),ee&&!q&&S.jsxs("div",{className:"mt-3 p-3 bg-red-100 border-l-4 border-red-500 text-red-700",children:[S.jsx("p",{className:"font-bold",children:"Fehler Teilwert-Batch:"}),S.jsx("p",{children:ee})]}),ie&&!q&&S.jsxs("div",{className:"mt-3 p-3 bg-green-100 border-l-4 border-green-500 text-green-700",children:[S.jsx("p",{className:"font-bold",children:"Teilwert-Batch Abgeschlossen:"}),S.jsx("p",{children:ie})]})]}),(n||Q)&&!e&&S.jsx("div",{className:"flex justify-center items-center h-40 bg-white p-6 rounded-lg shadow-md",children:S.jsx(nr,{text:"Lade V2 Prozess-Status & Produkte..."})}),!n&&!Q&&!e&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[S.jsx(Mr,{title:"Produkte im System",value:K.length,icon:S.jsx(MS,{className:"w-8 h-8"}),description:`${de?"(ETV=0 gefiltert)":""}.`,bgColor:"bg-slate-500",className:"md:col-span-1"}),S.jsx(Mr,{title:"Produkte in V2 DB",value:r,icon:S.jsx(D2,{className:"w-8 h-8"}),description:`Einträge in '${Ds}'.`,bgColor:"bg-indigo-500",className:"md:col-span-1"}),S.jsx(Mr,{title:"Mit Teilwertschätzung",value:f||0,icon:S.jsx(wa,{className:"w-8 h-8"}),description:"Abgeschlossene Teilwertschätzungen.",bgColor:"bg-emerald-500",className:"md:col-span-1"}),S.jsx(Mr,{title:"PDF Links Vorhanden",value:h||0,icon:S.jsx(I2,{className:"w-8 h-8"}),description:"Gespeicherte PDF Cloud Links.",bgColor:"bg-cyan-500",className:"md:col-span-1"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[S.jsx(Mr,{title:"Mit Marktanalyse",value:o||0,icon:S.jsx(na,{className:"w-8 h-8"}),description:"Mit Gemini MA & Suchbegriffen.",bgColor:"bg-green-500",className:"md:col-span-1"}),S.jsx(Mr,{title:"Mit eBay Verkaufsdaten",value:u||0,icon:S.jsx(P2,{className:"w-8 h-8"}),description:"Mit produktbez. eBay-Verkaufsdaten.",bgColor:"bg-purple-500",className:"md:col-span-1"}),S.jsx(Mr,{title:"Mit Keepa-Daten (v2)",value:s||0,icon:S.jsx(na,{className:"w-8 h-8"}),description:`Verarbeitete Keepa-Daten in ${Vf}.`,bgColor:"bg-teal-500",className:"md:col-span-1"}),S.jsx(Mr,{title:"Initialisiert (Wartet)",value:c||0,icon:S.jsx(Sb,{className:"w-8 h-8"}),description:"Nur initialer V2 Status.",bgColor:"bg-sky-600",className:"md:col-span-1"})]})]}),!n&&!Q&&!e&&r===0&&K.length>0&&S.jsx("div",{className:"p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700",children:S.jsxs("div",{className:"flex",children:[S.jsx("div",{className:"py-1",children:S.jsx(Sb,{className:"h-6 w-6 text-yellow-400 mr-3"})}),S.jsxs("div",{children:[S.jsx("p",{className:"font-bold",children:"Keine Daten in V2 Prozess-DB"}),S.jsxs("p",{className:"text-sm",children:["Keine Statusdaten in `",Ds,"`. Bitte initialisieren."]})]})]})})]})},w9=()=>{const{v2ApiToken:n,isConfigSet:e}=Vu(),{getProductById:t}=Vc(),{v2AllSearchTerms:i,v2Statuses:r,isLoading:s,fetchV2Statuses:o,fetchAllSearchTerms:u}=qc(),[c,f]=ne.useState([]),[h,v]=ne.useState(!1),[b,x]=ne.useState(null),[N,T]=ne.useState(""),[M,k]=ne.useState(!1),[P,I]=ne.useState(null),[J,q]=ne.useState(1),[W,ee]=ne.useState(""),[j,ie]=ne.useState(null);ne.useEffect(()=>{u()},[u]),ne.useEffect(()=>{if(v(!0),Object.keys(i).length>0||!s){const Z=Object.entries(i).map(([de,z])=>{const me=t(de),R=r[de],H=R==null?void 0:R.ebay,te=H===!0||Array.isArray(H)&&H.length>0?"Vorhanden":"Ausstehend";return{asin:de,productName:me==null?void 0:me.name,terms:z||[],ebayDataStatus:te}});f(Z.sort((de,z)=>(de.productName||de.asin).localeCompare(z.productName||z.asin))),v(!1)}else s&&f([])},[i,r,t,s]);const le=Z=>{x(Z.asin),T(Z.terms.join(", ")),I(null)},F=async()=>{if(!(!b||!n)){k(!0),I(null);try{const Z=N.split(",").map(z=>z.trim()).filter(z=>z.length>0),de=await un.setKey(Nc,b,JSON.stringify(Z),n);if("error"in de)throw new Error(de.error);await o(!0),x(null),T("")}catch(Z){I(Z.message||"Fehler beim Speichern.")}finally{k(!1)}}},G=ne.useMemo(()=>c.filter(Z=>Z.asin.toLowerCase().includes(W.toLowerCase())||Z.productName&&Z.productName.toLowerCase().includes(W.toLowerCase())||Z.terms.some(de=>de.toLowerCase().includes(W.toLowerCase()))),[c,W]),fe=ne.useMemo(()=>{let Z=[...G];return j!==null&&Z.sort((de,z)=>{let me,R;return j.key==="terms"?(me=de.terms.join(", "),R=z.terms.join(", ")):(me=de[j.key]??(j.direction==="asc"?1/0:-1/0),R=z[j.key]??(j.direction==="asc"?1/0:-1/0)),typeof me=="string"&&typeof R=="string"?j.direction==="asc"?me.localeCompare(R):R.localeCompare(me):me<R?j.direction==="asc"?-1:1:me>R?j.direction==="asc"?1:-1:0}),Z},[G,j]),ae=Z=>{let de="asc";j&&j.key===Z&&j.direction==="asc"&&(de="desc"),ie({key:Z,direction:de}),q(1)},ge=Z=>!j||j.key!==Z?S.jsx("span",{className:"text-slate-400",children:"⇅"}):j.direction==="asc"?S.jsx("span",{className:"text-sky-600",children:"↑"}):S.jsx("span",{className:"text-sky-600",children:"↓"}),K=Math.ceil(fe.length/Sa),Q=ne.useMemo(()=>{const Z=(J-1)*Sa;return fe.slice(Z,Z+Sa)},[fe,J]);return ne.useEffect(()=>{q(1)},[W]),h||s&&c.length===0?S.jsx("div",{className:"p-6",children:S.jsx(nr,{text:"Lade Suchbegriffsdaten..."})}):S.jsxs("div",{className:"p-6 bg-white rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200 space-y-4",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"eBay Suchbegriffe & Status"}),S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[S.jsx("input",{type:"text",placeholder:"ASIN, Name oder Begriff filtern...",value:W,onChange:Z=>ee(Z.target.value),className:"form-input-base w-full sm:max-w-md"}),S.jsxs("button",{onClick:()=>o(!0),className:"px-3 py-2 text-sm btn-secondary-base w-full sm:w-auto flex items-center justify-center",disabled:s||h||M,children:[S.jsx(Iu,{className:`w-4 h-4 mr-2 ${s||h?"animate-spin":""}`})," Daten Aktualisieren"]})]}),b&&S.jsxs("div",{className:"my-4 p-4 border border-sky-300 bg-sky-50 rounded-lg",children:[S.jsxs("h3",{className:"text-lg font-semibold text-sky-700 mb-2",children:["Bearbeite Begriffe für ASIN: ",b]}),S.jsx("textarea",{value:N,onChange:Z=>T(Z.target.value),placeholder:"Begriffe, Komma-getrennt eingeben",rows:3,className:"form-input-base w-full mb-2"}),P&&S.jsx("p",{className:"text-xs text-red-600 mb-2",children:P}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:F,disabled:M,className:"px-4 py-2 text-sm btn-primary-base w-auto",children:[M?S.jsx(nr,{size:"sm"}):S.jsx(na,{className:"w-4 h-4 mr-1"})," Speichern"]}),S.jsx("button",{onClick:()=>{x(null),I(null)},className:"px-4 py-2 text-sm btn-secondary-base w-auto",children:"Abbrechen"})]})]}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>ae("asin"),children:["ASIN ",ge("asin")]}),S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>ae("productName"),children:["Produktname ",ge("productName")]}),S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>ae("terms"),children:["Suchbegriffe ",ge("terms")]}),S.jsxs("th",{className:"px-4 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>ae("ebayDataStatus"),children:["eBay Daten Status ",ge("ebayDataStatus")]}),S.jsx("th",{className:"px-4 py-2 text-left font-medium text-slate-600",children:"Aktion"})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.map(Z=>S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700",children:S.jsx(_a,{to:`/product/${Z.asin}`,className:"text-sky-600 hover:underline",children:Z.asin})}),S.jsx("td",{className:"px-4 py-2 text-slate-600 max-w-xs truncate",title:Z.productName,children:Z.productName||"N/A"}),S.jsx("td",{className:"px-4 py-2 text-slate-500 max-w-md truncate",title:Z.terms.join(", "),children:Z.terms.join(", ")||"-"}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:S.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Z.ebayDataStatus==="Vorhanden"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Z.ebayDataStatus})}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:S.jsxs("button",{onClick:()=>le(Z),className:"text-sky-600 hover:text-sky-800 flex items-center text-xs",disabled:M,children:[S.jsx(AS,{className:"w-4 h-4 mr-1"})," Bearbeiten"]})})]},Z.asin))})]})}),fe.length===0&&!(h||s)&&S.jsx("p",{className:"text-center text-slate-500 py-4",children:"Keine Suchbegriffe gefunden oder Filter ergab kein Ergebnis."}),K>1&&S.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[S.jsxs("button",{onClick:()=>q(Z=>Math.max(1,Z-1)),disabled:J===1,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:[S.jsx(Pc,{className:"w-3 h-3 mr-1"})," Vorherige"]}),S.jsxs("span",{className:"text-xs text-slate-600",children:["Seite ",J," von ",K," (",fe.length," gesamt)"]}),S.jsxs("button",{onClick:()=>q(Z=>Math.min(K,Z+1)),disabled:J===K,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:["Nächste ",S.jsx(Hh,{className:"w-3 h-3 ml-1"})]})]})]})},_9=()=>{const{products:n,isLoading:e}=Vc(),{v2ProcessedKeepaData:t,v2GeminiTeilwerte:i,isLoading:r,fetchV2Statuses:s,fetchAllKeepaData:o,fetchAllTeilwertData:u}=qc(),c=v2(),[f,h]=ne.useState(null),[v,b]=ne.useState(1),[x,N]=ne.useState(null),[T,M]=ne.useState(null),[k,P]=ne.useState(null),[I,J]=ne.useState(null),[q,W]=ne.useState(null),ee=ne.useRef(null),j=ne.useRef(null);ne.useEffect(()=>{o(),u()},[o,u]);const ie=e||r,le=ne.useMemo(()=>{if(ie||n.length===0)return[];h(null);try{return n.filter(Z=>Z.etv!==void 0&&Z.etv!==null&&Z.etv>0).map(Z=>{const de=t[Z.id],z=i[Z.id];return{asin:Z.id,productName:Z.name,etv:Z.etv,keepaValue:de==null?void 0:de.price,teilwertV1:Z.externalTeilwert,teilwertV2:z==null?void 0:z.Teilwert}})}catch(Z){return h(Z.message||"Fehler beim Aufbereiten der Vergleichsdaten."),[]}},[n,t,i,ie]),F=ne.useMemo(()=>{if(le.length===0)return null;const Z=le,de=Z.filter(se=>se.teilwertV1!==void 0&&se.etv!==void 0&&se.etv>0),z=de.reduce((se,ft)=>se+ft.teilwertV1,0),me=de.reduce((se,ft)=>se+ft.etv,0),R=me>0?z/me*100:0,H=Z.filter(se=>se.teilwertV2!==void 0&&se.etv!==void 0&&se.etv>0),te=H.reduce((se,ft)=>se+ft.teilwertV2,0),ue=H.reduce((se,ft)=>se+ft.etv,0),ce=ue>0?te/ue*100:0,Ae=Z.filter(se=>se.keepaValue!==void 0&&se.etv!==void 0&&se.etv>0),_e=Ae.reduce((se,ft)=>se+ft.keepaValue,0),Ce=Ae.reduce((se,ft)=>se+ft.etv,0),Be=Ce>0?_e/Ce*100:0;let We=0,et=0,Qe=0,yt=0,Re=0;return Z.forEach(se=>{if(se.teilwertV1!==void 0&&se.teilwertV2!==void 0){const ft=se.teilwertV2-se.teilwertV1;yt+=ft,Re++,se.teilwertV2>se.teilwertV1?We++:se.teilwertV2<se.teilwertV1?et++:Qe++}}),{totalProducts:Z.length,sumETV:Z.reduce((se,ft)=>se+(ft.etv??0),0),sumDefinedTWv1:z,sumDefinedTWv2:te,sumDefinedKeepa:_e,countProductsWithTWv1:de.length,countProductsWithTWv2:H.length,countProductsWithKeepa:Ae.length,ratioTWv1toETV:R,ratioTWv2toETV:ce,ratioKeepatoETV:Be,avgDiffV2V1:Re>0?yt/Re:0,countV2GtV1:We,countV2LtV1:et,countV2EqV1:Qe}},[le]),G=()=>{M(null),P(null),J(null),W(null)};ne.useEffect(()=>{if(ee.current&&le.length>0){j.current&&j.current.destroy();const Z=ee.current.getContext("2d");if(Z){const de=le.filter(z=>z.teilwertV1!==void 0&&z.teilwertV2!==void 0&&(T===null||z.teilwertV1>=T)&&(k===null||z.teilwertV1<=k)&&(I===null||z.teilwertV2>=I)&&(q===null||z.teilwertV2<=q)).map(z=>({x:z.teilwertV1,y:z.teilwertV2,asin:z.asin,name:z.productName||z.asin}));j.current=new zo(Z,{type:"scatter",data:{datasets:[{label:"Teilwert v1 vs Teilwert v2",data:de,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",pointRadius:5,pointHoverRadius:7}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Teilwert v1 (€)"}},y:{title:{display:!0,text:"Teilwert v2 (€)"}}},plugins:{tooltip:{callbacks:{label:function(z){const me=z.raw;return`${me.name} (ASIN: ${me.asin})`}}}},onClick:(z,me)=>{if(me.length>0){const R=me[0],H=de[R.index];H&&H.asin&&c(`/product/${H.asin}`)}}}})}}return()=>{j.current&&(j.current.destroy(),j.current=null)}},[le,c,T,k,I,q]);const fe=ne.useMemo(()=>{let Z=[...le];return x!==null&&Z.sort((de,z)=>{let me,R;if(x.key==="diffV2V1"?(me=(de.teilwertV2??0)-(de.teilwertV1??0),R=(z.teilwertV2??0)-(z.teilwertV1??0)):(me=de[x.key],R=z[x.key]),me===void 0&&(me=x.direction==="asc"?typeof R=="string"?"":1/0:typeof R=="string"?"zzzzzz":-1/0),R===void 0&&(R=x.direction==="asc"?typeof me=="string"?"":1/0:typeof me=="string"?"zzzzzz":-1/0),typeof me=="string"&&typeof R=="string")return x.direction==="asc"?me.localeCompare(R):R.localeCompare(me);if(typeof me=="number"&&typeof R=="number"){if(me<R)return x.direction==="asc"?-1:1;if(me>R)return x.direction==="asc"?1:-1}return 0}),Z},[le,x]),ae=Z=>{let de="asc";x&&x.key===Z&&x.direction==="asc"&&(de="desc"),N({key:Z,direction:de})},ge=Z=>!x||x.key!==Z?S.jsx("span",{className:"text-slate-400",children:"⇅"}):x.direction==="asc"?S.jsx("span",{className:"text-sky-600",children:"↑"}):S.jsx("span",{className:"text-sky-600",children:"↓"}),K=Math.ceil(fe.length/Sa),Q=ne.useMemo(()=>{const Z=(v-1)*Sa;return fe.slice(Z,Z+Sa)},[fe,v]);return ne.useEffect(()=>{b(1)},[x]),ie?S.jsx("div",{className:"p-6",children:S.jsx(nr,{text:"Lade Vergleichsdaten..."})}):f?S.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-md",children:f}):S.jsxs("div",{className:"p-6 bg-white rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200 space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Teilwertvergleich (Produkte mit ETV gr. 0)"}),S.jsxs("button",{onClick:()=>s(!0),className:"px-3 py-2 text-sm btn-secondary-base w-auto flex items-center",disabled:ie,children:[S.jsx(Iu,{className:`w-4 h-4 mr-2 ${ie?"animate-spin":""}`})," Aktualisieren"]})]}),F&&S.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[S.jsxs("h3",{className:"text-lg font-semibold text-slate-700 mb-3 flex items-center",children:[S.jsx(R2,{className:"w-5 h-5 mr-2 text-sky-600"})," Zusammenfassende Statistiken"]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-sm",children:[S.jsx(Mr,{title:"Produkte (ETV>0)",value:F.totalProducts,smallValue:!0,className:"bg-sky-100 text-sky-800",icon:S.jsx(MS,{className:"w-6 h-6"}),description:`TWv1: ${F.countProductsWithTWv1}, TWv2: ${F.countProductsWithTWv2}, Keepa: ${F.countProductsWithKeepa}`}),S.jsx(Mr,{title:"Summe ETV",value:`€${F.sumETV.toFixed(0)}`,smallValue:!0,className:"bg-slate-100 text-slate-800",icon:S.jsx(wa,{className:"w-6 h-6"})}),S.jsx(Mr,{title:"Summe TW v1 (def.)",value:`€${F.sumDefinedTWv1.toFixed(0)}`,smallValue:!0,className:"bg-slate-100 text-slate-800",icon:S.jsx(wa,{className:"w-6 h-6"}),description:`${F.countProductsWithTWv1} Produkte`}),S.jsx(Mr,{title:"Summe TW v2 (def.)",value:`€${F.sumDefinedTWv2.toFixed(0)}`,smallValue:!0,className:"bg-emerald-100 text-emerald-800",icon:S.jsx(wa,{className:"w-6 h-6"}),description:`${F.countProductsWithTWv2} Produkte`}),S.jsx(Mr,{title:"Summe Keepa (def.)",value:`€${F.sumDefinedKeepa.toFixed(0)}`,smallValue:!0,className:"bg-teal-100 text-teal-800",icon:S.jsx(wa,{className:"w-6 h-6"}),description:`${F.countProductsWithKeepa} Produkte`}),S.jsx(Mr,{title:"TW v1 / ETV",value:`${F.ratioTWv1toETV.toFixed(1)}%`,smallValue:!0,className:"bg-slate-200 text-slate-800",description:"Für Produkte mit TWv1"}),S.jsx(Mr,{title:"TW v2 / ETV",value:`${F.ratioTWv2toETV.toFixed(1)}%`,smallValue:!0,className:"bg-emerald-200 text-emerald-800",description:"Für Produkte mit TWv2"}),S.jsx(Mr,{title:"Keepa / ETV",value:`${F.ratioKeepatoETV.toFixed(1)}%`,smallValue:!0,className:"bg-teal-200 text-teal-800",description:"Für Produkte mit Keepa"}),S.jsx(Mr,{title:"Ø Diff. (v2-v1)",value:`€${F.avgDiffV2V1.toFixed(2)}`,smallValue:!0,className:"bg-indigo-100 text-indigo-800",description:"Für Produkte mit TWv1 & TWv2"}),S.jsx(Mr,{title:"v2 > v1",value:F.countV2GtV1,smallValue:!0,className:"bg-green-100 text-green-800"}),S.jsx(Mr,{title:"v2 < v1",value:F.countV2LtV1,smallValue:!0,className:"bg-red-100 text-red-800"}),S.jsx(Mr,{title:"v2 = v1",value:F.countV2EqV1,smallValue:!0,className:"bg-gray-100 text-gray-800"})]})]}),S.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[S.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Streudiagramm: Teilwert v1 vs. Teilwert v2"}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 items-end mb-3 text-xs",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v1Min",className:"block font-medium text-slate-600",children:"V1 Min (€)"}),S.jsx("input",{type:"number",id:"v1Min",value:T??"",onChange:Z=>M(Z.target.value===""?null:Number(Z.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v1Max",className:"block font-medium text-slate-600",children:"V1 Max (€)"}),S.jsx("input",{type:"number",id:"v1Max",value:k??"",onChange:Z=>P(Z.target.value===""?null:Number(Z.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v2Min",className:"block font-medium text-slate-600",children:"V2 Min (€)"}),S.jsx("input",{type:"number",id:"v2Min",value:I??"",onChange:Z=>J(Z.target.value===""?null:Number(Z.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v2Max",className:"block font-medium text-slate-600",children:"V2 Max (€)"}),S.jsx("input",{type:"number",id:"v2Max",value:q??"",onChange:Z=>W(Z.target.value===""?null:Number(Z.target.value)),className:"form-input-base text-xs p-1.5 w-full"})]}),S.jsxs("button",{onClick:G,className:"px-3 py-1.5 btn-secondary-base text-xs flex items-center justify-center h-[30px] w-full",children:[" ",S.jsx(Iu,{className:"w-3.5 h-3.5 mr-1"})," Zoom Zurücksetzen"]})]}),S.jsx("div",{style:{height:"400px",position:"relative"},children:S.jsx("canvas",{ref:ee})})]}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsxs("th",{className:"px-3 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>ae("asin"),children:["ASIN",ge("asin")]}),S.jsxs("th",{className:"px-3 py-2 text-left font-medium text-slate-600 cursor-pointer",onClick:()=>ae("productName"),children:["Produktname",ge("productName")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>ae("etv"),children:["ETV (€)",ge("etv")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>ae("keepaValue"),children:["Keepa (€)",ge("keepaValue")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>ae("teilwertV1"),children:["Teilwert v1 (€)",ge("teilwertV1")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>ae("teilwertV2"),children:["Teilwert v2 (€)",ge("teilwertV2")]}),S.jsxs("th",{className:"px-3 py-2 text-right font-medium text-slate-600 cursor-pointer",onClick:()=>ae("diffV2V1"),children:["Differenz (v2-v1) (€)",ge("diffV2V1")]})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.map(Z=>{var me,R,H,te;const de=Z.teilwertV2!==void 0&&Z.teilwertV1!==void 0?Z.teilwertV2-Z.teilwertV1:void 0;let z="text-slate-500";return de!==void 0&&(de>.005?z="text-green-600 font-semibold":de<-.005?z="text-red-600 font-semibold":z="text-slate-700"),S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap",children:S.jsx(_a,{to:`/product/${Z.asin}`,className:"text-sky-600 hover:underline",children:Z.asin})}),S.jsx("td",{className:"px-3 py-1.5 text-slate-600 max-w-xs truncate",title:Z.productName,children:Z.productName||"N/A"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-slate-500",children:((me=Z.etv)==null?void 0:me.toFixed(2))??"-"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-teal-600",children:((R=Z.keepaValue)==null?void 0:R.toFixed(2))??"-"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-slate-700 font-medium",children:((H=Z.teilwertV1)==null?void 0:H.toFixed(2))??"-"}),S.jsx("td",{className:"px-3 py-1.5 text-right text-emerald-600 font-medium",children:((te=Z.teilwertV2)==null?void 0:te.toFixed(2))??"-"}),S.jsx("td",{className:`px-3 py-1.5 text-right ${z}`,children:(de==null?void 0:de.toFixed(2))??"-"})]},Z.asin)})})]})}),le.length===0&&!ie&&S.jsx("p",{className:"text-center text-slate-500 py-4",children:"Keine Daten für Vergleich (ggf. keine Produkte mit ETV gr. 0)."}),K>1&&S.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[S.jsxs("button",{onClick:()=>b(Z=>Math.max(1,Z-1)),disabled:v===1,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:[S.jsx(Pc,{className:"w-3 h-3 mr-1"})," Vorherige"]}),S.jsxs("span",{className:"text-xs text-slate-600",children:["Seite ",v," von ",K]}),S.jsxs("button",{onClick:()=>b(Z=>Math.min(K,Z+1)),disabled:v===K,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:["Nächste ",S.jsx(Hh,{className:"w-3 h-3 ml-1"})]})]})]})},S9=()=>{const{v2ProductErrors:n,isLoadingErrors:e,errorsFetchError:t,fetchV2ProcessErrors:i}=qc(),[r,s]=ne.useState(1);ne.useEffect(()=>{i()},[i]);const o=Math.ceil(n.length/Sa),u=ne.useMemo(()=>{const c=(r-1)*Sa;return n.slice(c,c+Sa)},[n,r]);return e?S.jsx("div",{className:"p-6",children:S.jsx(nr,{text:"Lade Prozessfehler..."})}):t?S.jsxs("div",{className:"p-6 bg-red-100 text-red-700 rounded-md",children:["Fehler beim Laden der Prozessfehler: ",t]}):S.jsxs("div",{className:"p-6 bg-white rounded-b-xl rounded-tr-xl shadow-lg border border-t-0 border-gray-200 space-y-4",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"V2 Prozessfehler"}),S.jsxs("button",{onClick:i,className:"px-3 py-2 text-sm btn-secondary-base w-auto flex items-center",disabled:e,children:[S.jsx(Iu,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`})," Aktualisieren"]})]}),n.length===0?S.jsx("p",{className:"text-center text-slate-500 py-4",children:"Keine Prozessfehler gefunden. Alles scheint in Ordnung!"}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Produkt (ASIN)"}),S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Fehlertyp"}),S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Nachricht"}),S.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Zeitstempel"})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(c=>Object.entries(c.errors).map(([f,h])=>S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap",children:S.jsxs(_a,{to:`/product/${c.asin}`,className:"text-sky-600 hover:underline",children:[c.productName," (",c.asin,")"]})}),S.jsx("td",{className:"px-3 py-1.5 text-orange-600 font-medium",children:h.type}),S.jsx("td",{className:"px-3 py-1.5 text-slate-600 max-w-md",title:h.message,children:h.message}),S.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap text-slate-500",children:new Date(h.timestamp).toLocaleString()})]},`${c.asin}-${f}`)))})]})}),o>1&&S.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[S.jsxs("button",{onClick:()=>s(c=>Math.max(1,c-1)),disabled:r===1,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:[S.jsx(Pc,{className:"w-3 h-3 mr-1"})," Vorherige"]}),S.jsxs("span",{className:"text-xs text-slate-600",children:["Seite ",r," von ",o]}),S.jsxs("button",{onClick:()=>s(c=>Math.min(o,c+1)),disabled:r===o,className:"px-3 py-1 text-xs btn-secondary-base w-auto flex items-center",children:["Nächste ",S.jsx(Hh,{className:"w-3 h-3 ml-1"})]})]})]})]})},A9=()=>{const{isConfigSet:n,v2ApiToken:e}=Vu(),{fetchV2Statuses:t,isLoading:i,isInitializing:r,isBatchProcessing:s,isBatchEstimatingTeilwert:o}=qc(),[u,c]=ne.useState("overview"),f=s||o;return S.jsxs("div",{className:"space-y-6",children:[S.jsx("header",{className:"bg-white p-6 rounded-xl shadow-lg",children:S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[S.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[S.jsx(NS,{className:"w-8 h-8 mr-3 text-sky-600"}),"V2 Prozess Dashboard"]}),S.jsx("div",{className:"flex items-center space-x-3",children:S.jsxs("button",{onClick:()=>t(!0),disabled:i||r||f,className:"px-4 py-2 text-sm font-medium text-sky-700 bg-sky-100 rounded-lg hover:bg-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-500 disabled:opacity-70 flex items-center",children:[S.jsx(Iu,{className:`w-4 h-4 mr-2 ${i||r||f?"animate-spin":""}`}),"V2 Daten Aktualisieren"]})})]})}),S.jsx("div",{className:"border-b border-gray-200",children:S.jsxs("nav",{className:"-mb-px flex space-x-1 sm:space-x-2 md:space-x-4 overflow-x-auto","aria-label":"Tabs",children:[S.jsx(ym,{isActive:u==="overview",onClick:()=>c("overview"),icon:S.jsx(D2,{className:"w-5 h-5"}),label:"Übersicht & Batch"}),S.jsx(ym,{isActive:u==="ebaySearchTerms",onClick:()=>c("ebaySearchTerms"),icon:S.jsx($7,{className:"w-5 h-5"}),label:"eBay Suchbegriffe"}),S.jsx(ym,{isActive:u==="teilwertComparison",onClick:()=>c("teilwertComparison"),icon:S.jsx(ES,{className:"w-5 h-5"}),label:"Teilwertvergleich"}),S.jsx(ym,{isActive:u==="processErrors",onClick:()=>c("processErrors"),icon:S.jsx(nD,{className:"w-5 h-5"}),label:"V2 Prozessfehler"})]})}),u==="overview"&&S.jsx(b9,{}),u==="ebaySearchTerms"&&S.jsx(w9,{}),u==="teilwertComparison"&&S.jsx(_9,{}),u==="processErrors"&&S.jsx(S9,{})]})},T9=()=>{const{saveConfig:n,isLoadingConfig:e,isConfigSet:t,...i}=Vu(),[r,s]=ne.useState(""),[o,u]=ne.useState(""),[c,f]=ne.useState(""),[h,v]=ne.useState(""),[b,x]=ne.useState(""),[N,T]=ne.useState(null),[M,k]=ne.useState(!1);ne.useEffect(()=>{i.v2ApiToken&&s(i.v2ApiToken),i.oracleWriteParUrl&&u(i.oracleWriteParUrl),i.geminiApiKey&&f(i.geminiApiKey),i.externalProductSourceUrl&&v(i.externalProductSourceUrl)},[i.v2ApiToken,i.oracleWriteParUrl,i.geminiApiKey,i.externalProductSourceUrl]);const P=async q=>{if(q.preventDefault(),T(null),!r||!o||!c||!h){T("Alle vier Felder müssen ausgefüllt werden.");return}k(!0);try{await new Promise(W=>setTimeout(W,200)),n({v2ApiToken:r.trim(),oracleWriteParUrl:o.trim(),geminiApiKey:c.trim(),externalProductSourceUrl:h.trim()})}catch(W){T(W.message||"Fehler beim Speichern der Konfiguration.")}finally{k(!1)}},I=async q=>{if(q.preventDefault(),T(null),!b.trim()){T("Express Login Feld darf nicht leer sein.");return}const W=b.trim().split("|");if(W.length!==4){T("Ungültiges Express Login Format. Erwartet 4 Teile, getrennt durch '|'. Reihenfolge: V2 Token | Oracle PUT URL | Gemini API Key | Produktdatenbank URL");return}k(!0);try{await new Promise(ee=>setTimeout(ee,200)),n({v2ApiToken:W[0].trim(),oracleWriteParUrl:W[1].trim(),geminiApiKey:W[2].trim(),externalProductSourceUrl:W[3].trim()})}catch(ee){T(ee.message||"Fehler beim Speichern der Konfiguration via Express Login.")}finally{k(!1)}},J=q=>W=>{q(W.target.value),N&&T(null)};return e?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100",children:S.jsx(nr,{text:"Lade Konfiguration..."})}):S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-100 to-sky-100 p-4 pt-10 sm:pt-12",children:[S.jsxs("div",{className:"w-full max-w-lg bg-white shadow-2xl rounded-xl p-6 sm:p-8 space-y-6 border border-slate-200",children:[S.jsxs("div",{className:"text-center",children:[S.jsx(AS,{className:"w-16 h-16 text-sky-600 mx-auto mb-4"}),S.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Anwendungskonfiguration"}),S.jsx("p",{className:"text-slate-600 mt-2 text-sm sm:text-base",children:"Bitte geben Sie die erforderlichen Konfigurationswerte ein. Diese werden lokal in Ihrem Browser gespeichert."})]}),N&&S.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 p-4 rounded-md text-sm flex items-start",role:"alert",children:[S.jsx(Fo,{className:"w-5 h-5 mr-2.5 flex-shrink-0 mt-0.5"}),S.jsxs("div",{children:[S.jsx("p",{className:"font-semibold",children:"Konfigurationsfehler"}),S.jsx("p",{children:N})]})]}),S.jsxs("form",{onSubmit:I,className:"space-y-4 border-b border-slate-300 pb-6 mb-6",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center mb-1",children:[S.jsx(Y7,{className:"w-5 h-5 mr-2 text-sky-500"})," Express Login"]}),S.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Fügen Sie hier den kombinierten Konfigurationsstring ein (getrennt durch '|'). Reihenfolge: V2 Token | Oracle PUT URL | Gemini Key | Produktdatenbank URL."}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"expressLogin",className:"sr-only",children:"Express Login String"}),S.jsx("input",{id:"expressLogin",type:"password",value:b,onChange:J(x),placeholder:"V2Token|OracleURL|GeminiKey|ProductDBURL",className:"form-input-base text-slate-900"})]}),S.jsxs("button",{type:"submit",disabled:M,className:"btn-primary-base bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",children:[M?S.jsx(nr,{size:"sm",className:"mr-2"}):S.jsx(na,{className:"w-5 h-5 mr-2"}),"Express Konfiguration Übernehmen"]})]}),S.jsxs("form",{onSubmit:P,className:"space-y-4",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-700 flex items-center mb-1",children:[S.jsx(TS,{className:"w-5 h-5 mr-2 text-sky-500"})," Individuelle Eingabe"]}),S.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Oder geben Sie jeden Wert einzeln ein."}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"v2Token",className:"form-label-base",children:"V2 Backend API Token"}),S.jsx("input",{id:"v2Token",type:"password",value:r,onChange:J(s),placeholder:"Ihr V2 API-Token",className:"form-input-base text-slate-900"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"oracleUrl",className:"form-label-base",children:"Oracle Cloud PUT PAR URL (für PDF Upload)"}),S.jsx("input",{id:"oracleUrl",type:"password",value:o,onChange:J(u),placeholder:"Oracle PUT PAR URL",className:"form-input-base text-slate-900"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"geminiKey",className:"form-label-base",children:"Google Gemini API Key"}),S.jsx("input",{id:"geminiKey",type:"password",value:c,onChange:J(f),placeholder:"Ihr Gemini API Key",className:"form-input-base text-slate-900"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"productSourceUrl",className:"form-label-base",children:"Produktdatenbank URL"}),S.jsx("input",{id:"productSourceUrl",type:"password",value:h,onChange:J(v),placeholder:"URL zur Produktdatenbank",className:"form-input-base text-slate-900"})]}),S.jsxs("button",{type:"submit",disabled:M,className:"btn-primary-base",children:[M?S.jsx(nr,{size:"sm",className:"mr-2"}):S.jsx(na,{className:"w-5 h-5 mr-2"}),"Konfiguration Speichern"]})]})]}),S.jsxs("footer",{className:"text-center text-sm text-slate-600 mt-6 pb-6",children:["© ",new Date().getFullYear()," Teilwertschätzung Pro."]})]})},C9=()=>{const{isConfigSet:n,clearConfig:e}=Vu();return S.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50",children:[S.jsx("header",{className:"bg-gradient-to-r from-sky-700 to-sky-900 text-white shadow-lg sticky top-0 z-50",children:S.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"flex items-center justify-between h-16",children:[S.jsx(_a,{to:"/",className:"text-2xl font-bold tracking-tight hover:opacity-80 transition-opacity",children:"Teilwert-Analyse"}),S.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:n&&S.jsxs(S.Fragment,{children:[S.jsxs("nav",{className:"flex space-x-1 sm:space-x-2",children:[S.jsx(m1,{to:"/",icon:S.jsx(K7,{className:"w-5 h-5 mr-0 sm:mr-1"}),label:"Dashboard"}),S.jsx(m1,{to:"/statistics",icon:S.jsx(R2,{className:"w-5 h-5 mr-0 sm:mr-1"}),label:"Statistiken"}),S.jsx(m1,{to:"/v2-dashboard",icon:S.jsx(NS,{className:"w-5 h-5 mr-0 sm:mr-1"}),label:"V2 Dashboard"})]}),S.jsxs("button",{onClick:e,className:"flex items-center px-2 py-1.5 sm:px-3 sm:py-2 rounded-md text-xs sm:text-sm font-medium text-sky-100 bg-sky-800 hover:bg-red-600 hover:text-white transition-colors",title:"Konfiguration zurücksetzen und neu anmelden","aria-label":"Ausloggen und Konfiguration zurücksetzen",children:[S.jsx(TS,{className:"w-4 h-4 mr-0 sm:mr-1"}),S.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})})]})})}),S.jsx("main",{className:"flex-grow container mx-auto p-4 sm:p-6 lg:p-8",children:S.jsxs(F3,{children:[S.jsx(Sc,{path:"/",element:S.jsx(uD,{})}),S.jsx(Sc,{path:"/product/:productId",element:S.jsx(dD,{})}),S.jsx(Sc,{path:"/statistics",element:S.jsx(hD,{})}),S.jsx(Sc,{path:"/v2-dashboard",element:S.jsx(A9,{})}),S.jsx(Sc,{path:"/status-overview",element:S.jsx(c5,{to:"/v2-dashboard",replace:!0})}),S.jsx(Sc,{path:"*",element:S.jsx(c5,{to:"/",replace:!0})})]})}),S.jsxs("footer",{className:"bg-slate-800 text-slate-300 text-center p-4 text-sm",children:["© ",new Date().getFullYear()," Teilwert-Analyse. Alle Rechte vorbehalten."]})]})},N9=()=>{const{isConfigSet:n,isLoadingConfig:e}=Vu();return e?S.jsx("div",{className:"flex justify-center items-center min-h-screen"}):n?S.jsx(C9,{}):S.jsx(T9,{})},E9=()=>S.jsx(tR,{children:S.jsx(nR,{children:S.jsx(W7,{children:S.jsx(oC,{children:S.jsx(N9,{})})})})}),m1=({to:n,icon:e,label:t})=>S.jsxs(_a,{to:n,className:"flex items-center px-2 py-2 sm:px-3 rounded-md text-sm font-medium text-sky-100 hover:bg-sky-700 hover:text-white transition-colors","aria-label":t,children:[e,S.jsx("span",{className:"hidden sm:inline",children:t})]}),kA=document.getElementById("root");if(!kA)throw new Error("Could not find root element to mount to");const k9=GT.createRoot(kA);k9.render(S.jsx(FT.StrictMode,{children:S.jsx(E9,{})}));export{ci as _,L9 as c,Yw as g};
