(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();function Fp(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Au={exports:{}},xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th;function Gv(){if(th)return xo;th=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(l,s,c){var m=null;if(c!==void 0&&(m=""+c),s.key!==void 0&&(m=""+s.key),"key"in s){c={};for(var g in s)g!=="key"&&(c[g]=s[g])}else c=s;return s=c.ref,{$$typeof:a,type:l,key:m,ref:s!==void 0?s:null,props:c}}return xo.Fragment=t,xo.jsx=n,xo.jsxs=n,xo}var nh;function Ov(){return nh||(nh=1,Au.exports=Gv()),Au.exports}var N=Ov(),Mu={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function zv(){if(ih)return pe;ih=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=C&&A[C]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function P(A,z,K){this.props=A,this.context=z,this.refs=k,this.updater=K||x}P.prototype.isReactComponent={},P.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function W(){}W.prototype=P.prototype;function Z(A,z,K){this.props=A,this.context=z,this.refs=k,this.updater=K||x}var Q=Z.prototype=new W;Q.constructor=Z,U(Q,P.prototype),Q.isPureReactComponent=!0;var le=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function me(A,z,K,q,ie,Ee){return K=Ee.ref,{$$typeof:a,type:A,key:z,ref:K!==void 0?K:null,props:Ee}}function he(A,z){return me(A.type,z,void 0,void 0,void 0,A.props)}function te(A){return typeof A=="object"&&A!==null&&A.$$typeof===a}function ge(A){var z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(K){return z[K]})}var Pe=/\/+/g;function Be(A,z){return typeof A=="object"&&A!==null&&A.key!=null?ge(""+A.key):z.toString(36)}function Et(){}function et(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Et,Et):(A.status="pending",A.then(function(z){A.status==="pending"&&(A.status="fulfilled",A.value=z)},function(z){A.status==="pending"&&(A.status="rejected",A.reason=z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Le(A,z,K,q,ie){var Ee=typeof A;(Ee==="undefined"||Ee==="boolean")&&(A=null);var ce=!1;if(A===null)ce=!0;else switch(Ee){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(A.$$typeof){case a:case t:ce=!0;break;case v:return ce=A._init,Le(ce(A._payload),z,K,q,ie)}}if(ce)return ie=ie(A),ce=q===""?"."+Be(A,0):q,le(ie)?(K="",ce!=null&&(K=ce.replace(Pe,"$&/")+"/"),Le(ie,z,K,"",function(Qt){return Qt})):ie!=null&&(te(ie)&&(ie=he(ie,K+(ie.key==null||A&&A.key===ie.key?"":(""+ie.key).replace(Pe,"$&/")+"/")+ce)),z.push(ie)),1;ce=0;var Tt=q===""?".":q+":";if(le(A))for(var He=0;He<A.length;He++)q=A[He],Ee=Tt+Be(q,He),ce+=Le(q,z,K,Ee,ie);else if(He=S(A),typeof He=="function")for(A=He.call(A),He=0;!(q=A.next()).done;)q=q.value,Ee=Tt+Be(q,He++),ce+=Le(q,z,K,Ee,ie);else if(Ee==="object"){if(typeof A.then=="function")return Le(et(A),z,K,q,ie);throw z=String(A),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ce}function V(A,z,K){if(A==null)return A;var q=[],ie=0;return Le(A,q,"","",function(Ee){return z.call(K,Ee,ie++)}),q}function H(A){if(A._status===-1){var z=A._result;z=z(),z.then(function(K){(A._status===0||A._status===-1)&&(A._status=1,A._result=K)},function(K){(A._status===0||A._status===-1)&&(A._status=2,A._result=K)}),A._status===-1&&(A._status=0,A._result=z)}if(A._status===1)return A._result.default;throw A._result}var oe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Ie(){}return pe.Children={map:V,forEach:function(A,z,K){V(A,function(){z.apply(this,arguments)},K)},count:function(A){var z=0;return V(A,function(){z++}),z},toArray:function(A){return V(A,function(z){return z})||[]},only:function(A){if(!te(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},pe.Component=P,pe.Fragment=n,pe.Profiler=s,pe.PureComponent=Z,pe.StrictMode=l,pe.Suspense=y,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,pe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return F.H.useMemoCache(A)}},pe.cache=function(A){return function(){return A.apply(null,arguments)}},pe.cloneElement=function(A,z,K){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var q=U({},A.props),ie=A.key,Ee=void 0;if(z!=null)for(ce in z.ref!==void 0&&(Ee=void 0),z.key!==void 0&&(ie=""+z.key),z)!ne.call(z,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&z.ref===void 0||(q[ce]=z[ce]);var ce=arguments.length-2;if(ce===1)q.children=K;else if(1<ce){for(var Tt=Array(ce),He=0;He<ce;He++)Tt[He]=arguments[He+2];q.children=Tt}return me(A.type,ie,void 0,void 0,Ee,q)},pe.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},pe.createElement=function(A,z,K){var q,ie={},Ee=null;if(z!=null)for(q in z.key!==void 0&&(Ee=""+z.key),z)ne.call(z,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(ie[q]=z[q]);var ce=arguments.length-2;if(ce===1)ie.children=K;else if(1<ce){for(var Tt=Array(ce),He=0;He<ce;He++)Tt[He]=arguments[He+2];ie.children=Tt}if(A&&A.defaultProps)for(q in ce=A.defaultProps,ce)ie[q]===void 0&&(ie[q]=ce[q]);return me(A,Ee,void 0,void 0,null,ie)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(A){return{$$typeof:g,render:A}},pe.isValidElement=te,pe.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:H}},pe.memo=function(A,z){return{$$typeof:p,type:A,compare:z===void 0?null:z}},pe.startTransition=function(A){var z=F.T,K={};F.T=K;try{var q=A(),ie=F.S;ie!==null&&ie(K,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Ie,oe)}catch(Ee){oe(Ee)}finally{F.T=z}},pe.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},pe.use=function(A){return F.H.use(A)},pe.useActionState=function(A,z,K){return F.H.useActionState(A,z,K)},pe.useCallback=function(A,z){return F.H.useCallback(A,z)},pe.useContext=function(A){return F.H.useContext(A)},pe.useDebugValue=function(){},pe.useDeferredValue=function(A,z){return F.H.useDeferredValue(A,z)},pe.useEffect=function(A,z,K){var q=F.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(A,z)},pe.useId=function(){return F.H.useId()},pe.useImperativeHandle=function(A,z,K){return F.H.useImperativeHandle(A,z,K)},pe.useInsertionEffect=function(A,z){return F.H.useInsertionEffect(A,z)},pe.useLayoutEffect=function(A,z){return F.H.useLayoutEffect(A,z)},pe.useMemo=function(A,z){return F.H.useMemo(A,z)},pe.useOptimistic=function(A,z){return F.H.useOptimistic(A,z)},pe.useReducer=function(A,z,K){return F.H.useReducer(A,z,K)},pe.useRef=function(A){return F.H.useRef(A)},pe.useState=function(A){return F.H.useState(A)},pe.useSyncExternalStore=function(A,z,K){return F.H.useSyncExternalStore(A,z,K)},pe.useTransition=function(){return F.H.useTransition()},pe.version="19.1.0",pe}var lh;function ec(){return lh||(lh=1,Mu.exports=zv()),Mu.exports}var Ae=ec();const Pv=Fp(Ae);var Nu={exports:{}},Ao={},Ru={exports:{}},Du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function Bv(){return oh||(oh=1,function(a){function t(V,H){var oe=V.length;V.push(H);e:for(;0<oe;){var Ie=oe-1>>>1,A=V[Ie];if(0<s(A,H))V[Ie]=H,V[oe]=A,oe=Ie;else break e}}function n(V){return V.length===0?null:V[0]}function l(V){if(V.length===0)return null;var H=V[0],oe=V.pop();if(oe!==H){V[0]=oe;e:for(var Ie=0,A=V.length,z=A>>>1;Ie<z;){var K=2*(Ie+1)-1,q=V[K],ie=K+1,Ee=V[ie];if(0>s(q,oe))ie<A&&0>s(Ee,q)?(V[Ie]=Ee,V[ie]=oe,Ie=ie):(V[Ie]=q,V[K]=oe,Ie=K);else if(ie<A&&0>s(Ee,oe))V[Ie]=Ee,V[ie]=oe,Ie=ie;else break e}}return H}function s(V,H){var oe=V.sortIndex-H.sortIndex;return oe!==0?oe:V.id-H.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var m=Date,g=m.now();a.unstable_now=function(){return m.now()-g}}var y=[],p=[],v=1,C=null,S=3,x=!1,U=!1,k=!1,P=!1,W=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function le(V){for(var H=n(p);H!==null;){if(H.callback===null)l(p);else if(H.startTime<=V)l(p),H.sortIndex=H.expirationTime,t(y,H);else break;H=n(p)}}function F(V){if(k=!1,le(V),!U)if(n(y)!==null)U=!0,ne||(ne=!0,Be());else{var H=n(p);H!==null&&Le(F,H.startTime-V)}}var ne=!1,me=-1,he=5,te=-1;function ge(){return P?!0:!(a.unstable_now()-te<he)}function Pe(){if(P=!1,ne){var V=a.unstable_now();te=V;var H=!0;try{e:{U=!1,k&&(k=!1,Z(me),me=-1),x=!0;var oe=S;try{t:{for(le(V),C=n(y);C!==null&&!(C.expirationTime>V&&ge());){var Ie=C.callback;if(typeof Ie=="function"){C.callback=null,S=C.priorityLevel;var A=Ie(C.expirationTime<=V);if(V=a.unstable_now(),typeof A=="function"){C.callback=A,le(V),H=!0;break t}C===n(y)&&l(y),le(V)}else l(y);C=n(y)}if(C!==null)H=!0;else{var z=n(p);z!==null&&Le(F,z.startTime-V),H=!1}}break e}finally{C=null,S=oe,x=!1}H=void 0}}finally{H?Be():ne=!1}}}var Be;if(typeof Q=="function")Be=function(){Q(Pe)};else if(typeof MessageChannel<"u"){var Et=new MessageChannel,et=Et.port2;Et.port1.onmessage=Pe,Be=function(){et.postMessage(null)}}else Be=function(){W(Pe,0)};function Le(V,H){me=W(function(){V(a.unstable_now())},H)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(V){V.callback=null},a.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<V?Math.floor(1e3/V):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(V){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var oe=S;S=H;try{return V()}finally{S=oe}},a.unstable_requestPaint=function(){P=!0},a.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var oe=S;S=V;try{return H()}finally{S=oe}},a.unstable_scheduleCallback=function(V,H,oe){var Ie=a.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ie+oe:Ie):oe=Ie,V){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=oe+A,V={id:v++,callback:H,priorityLevel:V,startTime:oe,expirationTime:A,sortIndex:-1},oe>Ie?(V.sortIndex=oe,t(p,V),n(y)===null&&V===n(p)&&(k?(Z(me),me=-1):k=!0,Le(F,oe-Ie))):(V.sortIndex=A,t(y,V),U||x||(U=!0,ne||(ne=!0,Be()))),V},a.unstable_shouldYield=ge,a.unstable_wrapCallback=function(V){var H=S;return function(){var oe=S;S=H;try{return V.apply(this,arguments)}finally{S=oe}}}}(Du)),Du}var ah;function qv(){return ah||(ah=1,Ru.exports=Bv()),Ru.exports}var bu={exports:{}},vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function Hv(){if(sh)return vt;sh=1;var a=ec();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var l={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(y,p,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:C==null?null:""+C,children:y,containerInfo:p,implementation:v}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,vt.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(y,p,null,v)},vt.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},vt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},vt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},vt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:S,fetchPriority:x}):v==="script"&&l.d.X(y,{crossOrigin:C,integrity:S,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},vt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vt.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=g(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},vt.requestFormReset=function(y){l.d.r(y)},vt.unstable_batchedUpdates=function(y,p){return y(p)},vt.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},vt.useFormStatus=function(){return m.H.useHostTransitionStatus()},vt.version="19.1.0",vt}var rh;function Fv(){if(rh)return bu.exports;rh=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),bu.exports=Hv(),bu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function Yv(){if(uh)return Ao;uh=1;var a=qv(),t=ec(),n=Fv();function l(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function m(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(l(188))}function y(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(l(188));return i!==e?null:e}for(var o=e,r=i;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(r=d.return,r!==null){o=r;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return g(d),e;if(h===r)return g(d),i;h=h.sibling}throw Error(l(188))}if(o.return!==r.return)o=d,r=h;else{for(var T=!1,_=d.child;_;){if(_===o){T=!0,o=d,r=h;break}if(_===r){T=!0,r=d,o=h;break}_=_.sibling}if(!T){for(_=h.child;_;){if(_===o){T=!0,o=h,r=d;break}if(_===r){T=!0,r=h,o=d;break}_=_.sibling}if(!T)throw Error(l(189))}}if(o.alternate!==r)throw Error(l(190))}if(o.tag!==3)throw Error(l(188));return o.stateNode.current===o?e:i}function p(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=p(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),Pe=Symbol.iterator;function Be(e){return e===null||typeof e!="object"?null:(e=Pe&&e[Pe]||e["@@iterator"],typeof e=="function"?e:null)}var Et=Symbol.for("react.client.reference");function et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Et?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case P:return"Profiler";case k:return"StrictMode";case F:return"Suspense";case ne:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case Q:return(e.displayName||"Context")+".Provider";case Z:return(e._context.displayName||"Context")+".Consumer";case le:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case me:return i=e.displayName||null,i!==null?i:et(e.type)||"Memo";case he:i=e._payload,e=e._init;try{return et(e(i))}catch{}}return null}var Le=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ie=[],A=-1;function z(e){return{current:e}}function K(e){0>A||(e.current=Ie[A],Ie[A]=null,A--)}function q(e,i){A++,Ie[A]=e.current,e.current=i}var ie=z(null),Ee=z(null),ce=z(null),Tt=z(null);function He(e,i){switch(q(ce,i),q(Ee,e),q(ie,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Dm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Dm(i),e=bm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ie),q(ie,e)}function Qt(){K(ie),K(Ee),K(ce)}function Sl(e){e.memoizedState!==null&&q(Tt,e);var i=ie.current,o=bm(i,e.type);i!==o&&(q(Ee,e),q(ie,o))}function ei(e){Ee.current===e&&(K(ie),K(Ee)),Tt.current===e&&(K(Tt),To._currentValue=oe)}var El=Object.prototype.hasOwnProperty,xl=a.unstable_scheduleCallback,Al=a.unstable_cancelCallback,J=a.unstable_shouldYield,be=a.unstable_requestPaint,Me=a.unstable_now,we=a.unstable_getCurrentPriorityLevel,Ne=a.unstable_ImmediatePriority,Qe=a.unstable_UserBlockingPriority,lt=a.unstable_NormalPriority,Ei=a.unstable_LowPriority,Ml=a.unstable_IdlePriority,ko=a.log,Vo=a.unstable_setDisableYieldValue,An=null,ht=null;function Zt(e){if(typeof ko=="function"&&Vo(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(An,e)}catch{}}var pt=Math.clz32?Math.clz32:Oo,Lo=Math.log,Go=Math.LN2;function Oo(e){return e>>>=0,e===0?32:31-(Lo(e)/Go|0)|0}var rn=256,zo=4194304;function ti(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Po(e,i,o){var r=e.pendingLanes;if(r===0)return 0;var d=0,h=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~h,r!==0?d=ti(r):(T&=_,T!==0?d=ti(T):o||(o=_&~e,o!==0&&(d=ti(o))))):(_=r&~h,_!==0?d=ti(_):T!==0?d=ti(T):o||(o=r&~e,o!==0&&(d=ti(o)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,o=i&-i,h>=o||h===32&&(o&4194048)!==0)?i:d}function Nl(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function xg(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fc(){var e=rn;return rn<<=1,(rn&4194048)===0&&(rn=256),e}function dc(){var e=zo;return zo<<=1,(zo&62914560)===0&&(zo=4194304),e}function hs(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function Rl(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ag(e,i,o,r,d,h){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,E=e.expirationTimes,b=e.hiddenUpdates;for(o=T&~o;0<o;){var L=31-pt(o),O=1<<L;_[L]=0,E[L]=-1;var w=b[L];if(w!==null)for(b[L]=null,L=0;L<w.length;L++){var I=w[L];I!==null&&(I.lane&=-536870913)}o&=~O}r!==0&&mc(e,r,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(T&~i))}function mc(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var r=31-pt(i);e.entangledLanes|=i,e.entanglements[r]=e.entanglements[r]|1073741824|o&4194090}function hc(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var r=31-pt(o),d=1<<r;d&i|e[r]&i&&(e[r]|=i),o&=~d}}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pc(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Xm(e.type))}function Mg(e,i){var o=H.p;try{return H.p=e,i()}finally{H.p=o}}var Mn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Mn,xt="__reactProps$"+Mn,xi="__reactContainer$"+Mn,ys="__reactEvents$"+Mn,Ng="__reactListeners$"+Mn,Rg="__reactHandles$"+Mn,gc="__reactResources$"+Mn,Dl="__reactMarker$"+Mn;function vs(e){delete e[gt],delete e[xt],delete e[ys],delete e[Ng],delete e[Rg]}function Ai(e){var i=e[gt];if(i)return i;for(var o=e.parentNode;o;){if(i=o[xi]||o[gt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=km(e);e!==null;){if(o=e[gt])return o;e=km(e)}return i}e=o,o=e.parentNode}return null}function Mi(e){if(e=e[gt]||e[xi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function bl(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(l(33))}function Ni(e){var i=e[gc];return i||(i=e[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function st(e){e[Dl]=!0}var yc=new Set,vc={};function ni(e,i){Ri(e,i),Ri(e+"Capture",i)}function Ri(e,i){for(vc[e]=i,e=0;e<i.length;e++)yc.add(i[e])}var Dg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tc={},_c={};function bg(e){return El.call(_c,e)?!0:El.call(Tc,e)?!1:Dg.test(e)?_c[e]=!0:(Tc[e]=!0,!1)}function Bo(e,i,o){if(bg(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function qo(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function un(e,i,o,r){if(r===null)e.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+r)}}var Ts,Cc;function Di(e){if(Ts===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ts=i&&i[1]||"",Cc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+e+Cc}var _s=!1;function Cs(e,i){if(!e||_s)return"";_s=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(I){var w=I}Reflect.construct(e,[],O)}else{try{O.call()}catch(I){w=I}e.call(O.prototype)}}else{try{throw Error()}catch(I){w=I}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(I){if(I&&w&&typeof I.stack=="string")return[I.stack,w.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),T=h[0],_=h[1];if(T&&_){var E=T.split(`
`),b=_.split(`
`);for(d=r=0;r<E.length&&!E[r].includes("DetermineComponentFrameRoot");)r++;for(;d<b.length&&!b[d].includes("DetermineComponentFrameRoot");)d++;if(r===E.length||d===b.length)for(r=E.length-1,d=b.length-1;1<=r&&0<=d&&E[r]!==b[d];)d--;for(;1<=r&&0<=d;r--,d--)if(E[r]!==b[d]){if(r!==1||d!==1)do if(r--,d--,0>d||E[r]!==b[d]){var L=`
`+E[r].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=r&&0<=d);break}}}finally{_s=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Di(o):""}function wg(e){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return Cs(e.type,!1);case 11:return Cs(e.type.render,!1);case 1:return Cs(e.type,!0);case 31:return Di("Activity");default:return""}}function Sc(e){try{var i="";do i+=wg(e),e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ec(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ug(e){var i=Ec(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),r=""+e[i];if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){r=""+T,h.call(this,T)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ho(e){e._valueTracker||(e._valueTracker=Ug(e))}function xc(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),r="";return e&&(r=Ec(e)?e.checked?"true":"false":e.value),e=r,e!==o?(i.setValue(e),!0):!1}function Fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ig=/[\n"\\]/g;function Gt(e){return e.replace(Ig,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ss(e,i,o,r,d,h,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Lt(i)):e.value!==""+Lt(i)&&(e.value=""+Lt(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?Es(e,T,Lt(i)):o!=null?Es(e,T,Lt(o)):r!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Lt(_):e.removeAttribute("name")}function Ac(e,i,o,r,d,h,T,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),i!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||i!=null))return;o=o!=null?""+Lt(o):"",i=i!=null?""+Lt(i):o,_||i===e.value||(e.value=i),e.defaultValue=i}r=r??d,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function Es(e,i,o){i==="number"&&Fo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function bi(e,i,o,r){if(e=e.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=i.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&r&&(e[o].defaultSelected=!0)}else{for(o=""+Lt(o),i=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,r&&(e[d].defaultSelected=!0);return}i!==null||e[d].disabled||(i=e[d])}i!==null&&(i.selected=!0)}}function Mc(e,i,o){if(i!=null&&(i=""+Lt(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Lt(o):""}function Nc(e,i,o,r){if(i==null){if(r!=null){if(o!=null)throw Error(l(92));if(Le(r)){if(1<r.length)throw Error(l(93));r=r[0]}o=r}o==null&&(o=""),i=o}o=Lt(i),e.defaultValue=o,r=e.textContent,r===o&&r!==""&&r!==null&&(e.value=r)}function wi(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var kg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(e,i,o){var r=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?r?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":r?e.setProperty(i,o):typeof o!="number"||o===0||kg.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function Dc(e,i,o){if(i!=null&&typeof i!="object")throw Error(l(62));if(e=e.style,o!=null){for(var r in o)!o.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var d in i)r=i[d],i.hasOwnProperty(d)&&o[d]!==r&&Rc(e,d,r)}else for(var h in i)i.hasOwnProperty(h)&&Rc(e,h,i[h])}function xs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yo(e){return Lg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var As=null;function Ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ui=null,Ii=null;function bc(e){var i=Mi(e);if(i&&(e=i.stateNode)){var o=e[xt]||null;e:switch(e=i.stateNode,i.type){case"input":if(Ss(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Gt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var r=o[i];if(r!==e&&r.form===e.form){var d=r[xt]||null;if(!d)throw Error(l(90));Ss(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)r=o[i],r.form===e.form&&xc(r)}break e;case"textarea":Mc(e,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&bi(e,!!o.multiple,i,!1)}}}var Ns=!1;function wc(e,i,o){if(Ns)return e(i,o);Ns=!0;try{var r=e(i);return r}finally{if(Ns=!1,(Ui!==null||Ii!==null)&&(ba(),Ui&&(i=Ui,e=Ii,Ii=Ui=null,bc(i),e)))for(i=0;i<e.length;i++)bc(e[i])}}function wl(e,i){var o=e.stateNode;if(o===null)return null;var r=o[xt]||null;if(r===null)return null;o=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(l(231,i,typeof o));return o}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rs=!1;if(cn)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Rs=!1}var Nn=null,Ds=null,Zo=null;function Uc(){if(Zo)return Zo;var e,i=Ds,o=i.length,r,d="value"in Nn?Nn.value:Nn.textContent,h=d.length;for(e=0;e<o&&i[e]===d[e];e++);var T=o-e;for(r=1;r<=T&&i[o-r]===d[h-r];r++);return Zo=d.slice(e,1<r?1-r:void 0)}function Ko(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Jo(){return!0}function Ic(){return!1}function At(e){function i(o,r,d,h,T){this._reactName=o,this._targetInst=d,this.type=r,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Jo:Ic,this.isPropagationStopped=Ic,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),i}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=At(ii),Il=v({},ii,{view:0,detail:0}),Gg=At(Il),bs,ws,kl,$o=v({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(bs=e.screenX-kl.screenX,ws=e.screenY-kl.screenY):ws=bs=0,kl=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:ws}}),kc=At($o),Og=v({},$o,{dataTransfer:0}),zg=At(Og),Pg=v({},Il,{relatedTarget:0}),Us=At(Pg),Bg=v({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),qg=At(Bg),Hg=v({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fg=At(Hg),Yg=v({},ii,{data:0}),Vc=At(Yg),Zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xg(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Jg[e])?!!i[e]:!1}function Is(){return Xg}var $g=v({},Il,{key:function(e){if(e.key){var i=Zg[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(e){return e.type==="keypress"?Ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qg=At($g),Wg=v({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lc=At(Wg),jg=v({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),ey=At(jg),ty=v({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),ny=At(ty),iy=v({},$o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ly=At(iy),oy=v({},ii,{newState:0,oldState:0}),ay=At(oy),sy=[9,13,27,32],ks=cn&&"CompositionEvent"in window,Vl=null;cn&&"documentMode"in document&&(Vl=document.documentMode);var ry=cn&&"TextEvent"in window&&!Vl,Gc=cn&&(!ks||Vl&&8<Vl&&11>=Vl),Oc=" ",zc=!1;function Pc(e,i){switch(e){case"keyup":return sy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ki=!1;function uy(e,i){switch(e){case"compositionend":return Bc(i);case"keypress":return i.which!==32?null:(zc=!0,Oc);case"textInput":return e=i.data,e===Oc&&zc?null:e;default:return null}}function cy(e,i){if(ki)return e==="compositionend"||!ks&&Pc(e,i)?(e=Uc(),Zo=Ds=Nn=null,ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gc&&i.locale!=="ko"?null:i.data;default:return null}}var fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!fy[e.type]:i==="textarea"}function Hc(e,i,o,r){Ui?Ii?Ii.push(r):Ii=[r]:Ui=r,i=La(i,"onChange"),0<i.length&&(o=new Xo("onChange","change",null,o,r),e.push({event:o,listeners:i}))}var Ll=null,Gl=null;function dy(e){xm(e,0)}function Qo(e){var i=bl(e);if(xc(i))return e}function Fc(e,i){if(e==="change")return i}var Yc=!1;if(cn){var Vs;if(cn){var Ls="oninput"in document;if(!Ls){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),Ls=typeof Zc.oninput=="function"}Vs=Ls}else Vs=!1;Yc=Vs&&(!document.documentMode||9<document.documentMode)}function Kc(){Ll&&(Ll.detachEvent("onpropertychange",Jc),Gl=Ll=null)}function Jc(e){if(e.propertyName==="value"&&Qo(Gl)){var i=[];Hc(i,Gl,e,Ms(e)),wc(dy,i)}}function my(e,i,o){e==="focusin"?(Kc(),Ll=i,Gl=o,Ll.attachEvent("onpropertychange",Jc)):e==="focusout"&&Kc()}function hy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(Gl)}function py(e,i){if(e==="click")return Qo(i)}function gy(e,i){if(e==="input"||e==="change")return Qo(i)}function yy(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Dt=typeof Object.is=="function"?Object.is:yy;function Ol(e,i){if(Dt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),r=Object.keys(i);if(o.length!==r.length)return!1;for(r=0;r<o.length;r++){var d=o[r];if(!El.call(i,d)||!Dt(e[d],i[d]))return!1}return!0}function Xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $c(e,i){var o=Xc(e);e=0;for(var r;o;){if(o.nodeType===3){if(r=e+o.textContent.length,e<=i&&r>=i)return{node:o,offset:i-e};e=r}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Xc(o)}}function Qc(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Qc(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Wc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Fo(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=Fo(e.document)}return i}function Gs(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var vy=cn&&"documentMode"in document&&11>=document.documentMode,Vi=null,Os=null,zl=null,zs=!1;function jc(e,i,o){var r=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zs||Vi==null||Vi!==Fo(r)||(r=Vi,"selectionStart"in r&&Gs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zl&&Ol(zl,r)||(zl=r,r=La(Os,"onSelect"),0<r.length&&(i=new Xo("onSelect","select",null,i,o),e.push({event:i,listeners:r}),i.target=Vi)))}function li(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var Li={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Ps={},ef={};cn&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function oi(e){if(Ps[e])return Ps[e];if(!Li[e])return e;var i=Li[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in ef)return Ps[e]=i[o];return e}var tf=oi("animationend"),nf=oi("animationiteration"),lf=oi("animationstart"),Ty=oi("transitionrun"),_y=oi("transitionstart"),Cy=oi("transitioncancel"),of=oi("transitionend"),af=new Map,Bs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bs.push("scrollEnd");function Kt(e,i){af.set(e,i),ni(i,[e])}var sf=new WeakMap;function Ot(e,i){if(typeof e=="object"&&e!==null){var o=sf.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Sc(i)},sf.set(e,i),i)}return{value:e,source:i,stack:Sc(i)}}var zt=[],Gi=0,qs=0;function Wo(){for(var e=Gi,i=qs=Gi=0;i<e;){var o=zt[i];zt[i++]=null;var r=zt[i];zt[i++]=null;var d=zt[i];zt[i++]=null;var h=zt[i];if(zt[i++]=null,r!==null&&d!==null){var T=r.pending;T===null?d.next=d:(d.next=T.next,T.next=d),r.pending=d}h!==0&&rf(o,d,h)}}function jo(e,i,o,r){zt[Gi++]=e,zt[Gi++]=i,zt[Gi++]=o,zt[Gi++]=r,qs|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Hs(e,i,o,r){return jo(e,i,o,r),ea(e)}function Oi(e,i){return jo(e,null,null,i),ea(e)}function rf(e,i,o){e.lanes|=o;var r=e.alternate;r!==null&&(r.lanes|=o);for(var d=!1,h=e.return;h!==null;)h.childLanes|=o,r=h.alternate,r!==null&&(r.childLanes|=o),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&i!==null&&(d=31-pt(o),e=h.hiddenUpdates,r=e[d],r===null?e[d]=[i]:r.push(i),i.lane=o|536870912),h):null}function ea(e){if(50<co)throw co=0,Xr=null,Error(l(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var zi={};function Sy(e,i,o,r){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,i,o,r){return new Sy(e,i,o,r)}function Fs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fn(e,i){var o=e.alternate;return o===null?(o=bt(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function uf(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ta(e,i,o,r,d,h){var T=0;if(r=e,typeof e=="function")Fs(e)&&(T=1);else if(typeof e=="string")T=xv(e,o,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=bt(31,o,i,d),e.elementType=te,e.lanes=h,e;case U:return ai(o.children,d,h,i);case k:T=8,d|=24;break;case P:return e=bt(12,o,i,d|2),e.elementType=P,e.lanes=h,e;case F:return e=bt(13,o,i,d),e.elementType=F,e.lanes=h,e;case ne:return e=bt(19,o,i,d),e.elementType=ne,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:case Q:T=10;break e;case Z:T=9;break e;case le:T=11;break e;case me:T=14;break e;case he:T=16,r=null;break e}T=29,o=Error(l(130,e===null?"null":typeof e,"")),r=null}return i=bt(T,o,i,d),i.elementType=e,i.type=r,i.lanes=h,i}function ai(e,i,o,r){return e=bt(7,e,r,i),e.lanes=o,e}function Ys(e,i,o){return e=bt(6,e,null,i),e.lanes=o,e}function Zs(e,i,o){return i=bt(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Pi=[],Bi=0,na=null,ia=0,Pt=[],Bt=0,si=null,dn=1,mn="";function ri(e,i){Pi[Bi++]=ia,Pi[Bi++]=na,na=e,ia=i}function cf(e,i,o){Pt[Bt++]=dn,Pt[Bt++]=mn,Pt[Bt++]=si,si=e;var r=dn;e=mn;var d=32-pt(r)-1;r&=~(1<<d),o+=1;var h=32-pt(i)+d;if(30<h){var T=d-d%5;h=(r&(1<<T)-1).toString(32),r>>=T,d-=T,dn=1<<32-pt(i)+d|o<<d|r,mn=h+e}else dn=1<<h|o<<d|r,mn=e}function Ks(e){e.return!==null&&(ri(e,1),cf(e,1,0))}function Js(e){for(;e===na;)na=Pi[--Bi],Pi[Bi]=null,ia=Pi[--Bi],Pi[Bi]=null;for(;e===si;)si=Pt[--Bt],Pt[Bt]=null,mn=Pt[--Bt],Pt[Bt]=null,dn=Pt[--Bt],Pt[Bt]=null}var _t=null,Xe=null,Ue=!1,ui=null,Wt=!1,Xs=Error(l(519));function ci(e){var i=Error(l(418,""));throw ql(Ot(i,e)),Xs}function ff(e){var i=e.stateNode,o=e.type,r=e.memoizedProps;switch(i[gt]=e,i[xt]=r,o){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(o=0;o<mo.length;o++)Ce(mo[o],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),Ac(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ho(i);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),Nc(i,r.value,r.defaultValue,r.children),Ho(i)}o=r.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||r.suppressHydrationWarning===!0||Rm(i.textContent,o)?(r.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),r.onScroll!=null&&Ce("scroll",i),r.onScrollEnd!=null&&Ce("scrollend",i),r.onClick!=null&&(i.onclick=Ga),i=!0):i=!1,i||ci(e)}function df(e){for(_t=e.return;_t;)switch(_t.tag){case 5:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:_t=_t.return}}function Pl(e){if(e!==_t)return!1;if(!Ue)return df(e),Ue=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||fu(e.type,e.memoizedProps)),o=!o),o&&Xe&&ci(e),df(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(i===0){Xe=Xt(e.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;e=e.nextSibling}Xe=null}}else i===27?(i=Xe,Hn(e.type)?(e=pu,pu=null,Xe=e):Xe=i):Xe=_t?Xt(e.stateNode.nextSibling):null;return!0}function Bl(){Xe=_t=null,Ue=!1}function mf(){var e=ui;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),ui=null),e}function ql(e){ui===null?ui=[e]:ui.push(e)}var $s=z(null),fi=null,hn=null;function Rn(e,i,o){q($s,i._currentValue),i._currentValue=o}function pn(e){e._currentValue=$s.current,K($s)}function Qs(e,i,o){for(;e!==null;){var r=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),e===o)break;e=e.return}}function Ws(e,i,o,r){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var T=d.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=d;for(var E=0;E<i.length;E++)if(_.context===i[E]){h.lanes|=o,_=h.alternate,_!==null&&(_.lanes|=o),Qs(h.return,o,e),r||(T=null);break e}h=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(l(341));T.lanes|=o,h=T.alternate,h!==null&&(h.lanes|=o),Qs(T,o,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Hl(e,i,o,r){e=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var _=d.type;Dt(d.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(d===Tt.current){if(T=d.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(To):e=[To])}d=d.return}e!==null&&Ws(i,e,o,r),i.flags|=262144}function la(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function di(e){fi=e,hn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return hf(fi,e)}function oa(e,i){return fi===null&&di(e),hf(e,i)}function hf(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},hn===null){if(e===null)throw Error(l(308));hn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else hn=hn.next=i;return o}var Ey=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,r){e.push(r)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},xy=a.unstable_scheduleCallback,Ay=a.unstable_NormalPriority,ot={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function js(){return{controller:new Ey,data:new Map,refCount:0}}function Fl(e){e.refCount--,e.refCount===0&&xy(Ay,function(){e.controller.abort()})}var Yl=null,er=0,qi=0,Hi=null;function My(e,i){if(Yl===null){var o=Yl=[];er=0,qi=nu(),Hi={status:"pending",value:void 0,then:function(r){o.push(r)}}}return er++,i.then(pf,pf),i}function pf(){if(--er===0&&Yl!==null){Hi!==null&&(Hi.status="fulfilled");var e=Yl;Yl=null,qi=0,Hi=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Ny(e,i){var o=[],r={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){r.status="fulfilled",r.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(r.status="rejected",r.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),r}var gf=V.S;V.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&My(e,i),gf!==null&&gf(e,i)};var mi=z(null);function tr(){var e=mi.current;return e!==null?e:Fe.pooledCache}function aa(e,i){i===null?q(mi,mi.current):q(mi,i.pool)}function yf(){var e=tr();return e===null?null:{parent:ot._currentValue,pool:e}}var Zl=Error(l(460)),vf=Error(l(474)),sa=Error(l(542)),nr={then:function(){}};function Tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ra(){}function _f(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(ra,ra),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sf(e),e;default:if(typeof i.status=="string")i.then(ra,ra);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=i,e.status="pending",e.then(function(r){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=r}},function(r){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sf(e),e}throw Kl=i,Zl}}var Kl=null;function Cf(){if(Kl===null)throw Error(l(459));var e=Kl;return Kl=null,e}function Sf(e){if(e===Zl||e===sa)throw Error(l(483))}var Dn=!1;function ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lr(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wn(e,i,o){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ke&2)!==0){var d=r.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),r.pending=i,i=ea(e),rf(e,null,o),i}return jo(e,r,i,o),ea(e)}function Jl(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var r=i.lanes;r&=e.pendingLanes,o|=r,i.lanes=o,hc(e,o)}}function or(e,i){var o=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,o===r)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=T:h=h.next=T,o=o.next}while(o!==null);h===null?d=h=i:h=h.next=i}else d=h=i;o={baseState:r.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var ar=!1;function Xl(){if(ar){var e=Hi;if(e!==null)throw e}}function $l(e,i,o,r){ar=!1;var d=e.updateQueue;Dn=!1;var h=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var E=_,b=E.next;E.next=null,T===null?h=b:T.next=b,T=E;var L=e.alternate;L!==null&&(L=L.updateQueue,_=L.lastBaseUpdate,_!==T&&(_===null?L.firstBaseUpdate=b:_.next=b,L.lastBaseUpdate=E))}if(h!==null){var O=d.baseState;T=0,L=b=E=null,_=h;do{var w=_.lane&-536870913,I=w!==_.lane;if(I?(xe&w)===w:(r&w)===w){w!==0&&w===qi&&(ar=!0),L!==null&&(L=L.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var re=e,ae=_;w=i;var ze=o;switch(ae.tag){case 1:if(re=ae.payload,typeof re=="function"){O=re.call(ze,O,w);break e}O=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ae.payload,w=typeof re=="function"?re.call(ze,O,w):re,w==null)break e;O=v({},O,w);break e;case 2:Dn=!0}}w=_.callback,w!==null&&(e.flags|=64,I&&(e.flags|=8192),I=d.callbacks,I===null?d.callbacks=[w]:I.push(w))}else I={lane:w,tag:_.tag,payload:_.payload,callback:_.callback,next:null},L===null?(b=L=I,E=O):L=L.next=I,T|=w;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;I=_,_=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);L===null&&(E=O),d.baseState=E,d.firstBaseUpdate=b,d.lastBaseUpdate=L,h===null&&(d.shared.lanes=0),zn|=T,e.lanes=T,e.memoizedState=O}}function Ef(e,i){if(typeof e!="function")throw Error(l(191,e));e.call(i)}function xf(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Ef(o[e],i)}var Fi=z(null),ua=z(0);function Af(e,i){e=Sn,q(ua,e),q(Fi,i),Sn=e|i.baseLanes}function sr(){q(ua,Sn),q(Fi,Fi.current)}function rr(){Sn=ua.current,K(Fi),K(ua)}var Un=0,ve=null,Ge=null,tt=null,ca=!1,Yi=!1,hi=!1,fa=0,Ql=0,Zi=null,Ry=0;function We(){throw Error(l(321))}function ur(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Dt(e[o],i[o]))return!1;return!0}function cr(e,i,o,r,d,h){return Un=h,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=e===null||e.memoizedState===null?rd:ud,hi=!1,h=o(r,d),hi=!1,Yi&&(h=Nf(i,o,r,d)),Mf(e),h}function Mf(e){V.H=ya;var i=Ge!==null&&Ge.next!==null;if(Un=0,tt=Ge=ve=null,ca=!1,Ql=0,Zi=null,i)throw Error(l(300));e===null||rt||(e=e.dependencies,e!==null&&la(e)&&(rt=!0))}function Nf(e,i,o,r){ve=e;var d=0;do{if(Yi&&(Zi=null),Ql=0,Yi=!1,25<=d)throw Error(l(301));if(d+=1,tt=Ge=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}V.H=Vy,h=i(o,r)}while(Yi);return h}function Dy(){var e=V.H,i=e.useState()[0];return i=typeof i.then=="function"?Wl(i):i,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(ve.flags|=1024),i}function fr(){var e=fa!==0;return fa=0,e}function dr(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function mr(e){if(ca){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ca=!1}Un=0,tt=Ge=ve=null,Yi=!1,Ql=fa=0,Zi=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ve.memoizedState=tt=e:tt=tt.next=e,tt}function nt(){if(Ge===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var i=tt===null?ve.memoizedState:tt.next;if(i!==null)tt=i,Ge=e;else{if(e===null)throw ve.alternate===null?Error(l(467)):Error(l(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},tt===null?ve.memoizedState=tt=e:tt=tt.next=e}return tt}function hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(e){var i=Ql;return Ql+=1,Zi===null&&(Zi=[]),e=_f(Zi,e,i),i=ve,(tt===null?i.memoizedState:tt.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?rd:ud),e}function da(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wl(e);if(e.$$typeof===Q)return yt(e)}throw Error(l(438,String(e)))}function pr(e){var i=null,o=ve.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var r=ve.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=hr(),ve.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),r=0;r<e;r++)o[r]=ge;return i.index++,o}function gn(e,i){return typeof i=="function"?i(e):i}function ma(e){var i=nt();return gr(i,Ge,e)}function gr(e,i,o){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=o;var d=e.baseQueue,h=r.pending;if(h!==null){if(d!==null){var T=d.next;d.next=h.next,h.next=T}i.baseQueue=d=h,r.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{i=d.next;var _=T=null,E=null,b=i,L=!1;do{var O=b.lane&-536870913;if(O!==b.lane?(xe&O)===O:(Un&O)===O){var w=b.revertLane;if(w===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),O===qi&&(L=!0);else if((Un&w)===w){b=b.next,w===qi&&(L=!0);continue}else O={lane:0,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},E===null?(_=E=O,T=h):E=E.next=O,ve.lanes|=w,zn|=w;O=b.action,hi&&o(h,O),h=b.hasEagerState?b.eagerState:o(h,O)}else w={lane:O,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},E===null?(_=E=w,T=h):E=E.next=w,ve.lanes|=O,zn|=O;b=b.next}while(b!==null&&b!==i);if(E===null?T=h:E.next=_,!Dt(h,e.memoizedState)&&(rt=!0,L&&(o=Hi,o!==null)))throw o;e.memoizedState=h,e.baseState=T,e.baseQueue=E,r.lastRenderedState=h}return d===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function yr(e){var i=nt(),o=i.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=e;var r=o.dispatch,d=o.pending,h=i.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do h=e(h,T.action),T=T.next;while(T!==d);Dt(h,i.memoizedState)||(rt=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),o.lastRenderedState=h}return[h,r]}function Rf(e,i,o){var r=ve,d=nt(),h=Ue;if(h){if(o===void 0)throw Error(l(407));o=o()}else o=i();var T=!Dt((Ge||d).memoizedState,o);T&&(d.memoizedState=o,rt=!0),d=d.queue;var _=wf.bind(null,r,d,e);if(jl(2048,8,_,[e]),d.getSnapshot!==i||T||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,Ki(9,ha(),bf.bind(null,r,d,o,i),null),Fe===null)throw Error(l(349));h||(Un&124)!==0||Df(r,i,o)}return o}function Df(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=ve.updateQueue,i===null?(i=hr(),ve.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function bf(e,i,o,r){i.value=o,i.getSnapshot=r,Uf(i)&&If(e)}function wf(e,i,o){return o(function(){Uf(i)&&If(e)})}function Uf(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Dt(e,o)}catch{return!0}}function If(e){var i=Oi(e,2);i!==null&&Vt(i,e,2)}function vr(e){var i=Mt();if(typeof e=="function"){var o=e;if(e=o(),hi){Zt(!0);try{o()}finally{Zt(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:e},i}function kf(e,i,o,r){return e.baseState=o,gr(e,Ge,typeof r=="function"?r:gn)}function by(e,i,o,r,d){if(ga(e))throw Error(l(485));if(e=i.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};V.T!==null?o(!0):h.isTransition=!1,r(h),o=i.pending,o===null?(h.next=i.pending=h,Vf(i,h)):(h.next=o.next,i.pending=o.next=h)}}function Vf(e,i){var o=i.action,r=i.payload,d=e.state;if(i.isTransition){var h=V.T,T={};V.T=T;try{var _=o(d,r),E=V.S;E!==null&&E(T,_),Lf(e,i,_)}catch(b){Tr(e,i,b)}finally{V.T=h}}else try{h=o(d,r),Lf(e,i,h)}catch(b){Tr(e,i,b)}}function Lf(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(r){Gf(e,i,r)},function(r){return Tr(e,i,r)}):Gf(e,i,o)}function Gf(e,i,o){i.status="fulfilled",i.value=o,Of(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,Vf(e,o)))}function Tr(e,i,o){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=o,Of(i),i=i.next;while(i!==r)}e.action=null}function Of(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function zf(e,i){return i}function Pf(e,i){if(Ue){var o=Fe.formState;if(o!==null){e:{var r=ve;if(Ue){if(Xe){t:{for(var d=Xe,h=Wt;d.nodeType!==8;){if(!h){d=null;break t}if(d=Xt(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Xe=Xt(d.nextSibling),r=d.data==="F!";break e}}ci(r)}r=!1}r&&(i=o[0])}}return o=Mt(),o.memoizedState=o.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zf,lastRenderedState:i},o.queue=r,o=od.bind(null,ve,r),r.dispatch=o,r=vr(!1),h=xr.bind(null,ve,!1,r.queue),r=Mt(),d={state:i,dispatch:null,action:e,pending:null},r.queue=d,o=by.bind(null,ve,d,h,o),d.dispatch=o,r.memoizedState=e,[i,o,!1]}function Bf(e){var i=nt();return qf(i,Ge,e)}function qf(e,i,o){if(i=gr(e,i,zf)[0],e=ma(gn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Wl(i)}catch(T){throw T===Zl?sa:T}else r=i;i=nt();var d=i.queue,h=d.dispatch;return o!==i.memoizedState&&(ve.flags|=2048,Ki(9,ha(),wy.bind(null,d,o),null)),[r,h,e]}function wy(e,i){e.action=i}function Hf(e){var i=nt(),o=Ge;if(o!==null)return qf(i,o,e);nt(),i=i.memoizedState,o=nt();var r=o.queue.dispatch;return o.memoizedState=e,[i,r,!1]}function Ki(e,i,o,r){return e={tag:e,create:o,deps:r,inst:i,next:null},i=ve.updateQueue,i===null&&(i=hr(),ve.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(r=o.next,o.next=e,e.next=r,i.lastEffect=e),e}function ha(){return{destroy:void 0,resource:void 0}}function Ff(){return nt().memoizedState}function pa(e,i,o,r){var d=Mt();r=r===void 0?null:r,ve.flags|=e,d.memoizedState=Ki(1|i,ha(),o,r)}function jl(e,i,o,r){var d=nt();r=r===void 0?null:r;var h=d.memoizedState.inst;Ge!==null&&r!==null&&ur(r,Ge.memoizedState.deps)?d.memoizedState=Ki(i,h,o,r):(ve.flags|=e,d.memoizedState=Ki(1|i,h,o,r))}function Yf(e,i){pa(8390656,8,e,i)}function Zf(e,i){jl(2048,8,e,i)}function Kf(e,i){return jl(4,2,e,i)}function Jf(e,i){return jl(4,4,e,i)}function Xf(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function $f(e,i,o){o=o!=null?o.concat([e]):null,jl(4,4,Xf.bind(null,i,e),o)}function _r(){}function Qf(e,i){var o=nt();i=i===void 0?null:i;var r=o.memoizedState;return i!==null&&ur(i,r[1])?r[0]:(o.memoizedState=[e,i],e)}function Wf(e,i){var o=nt();i=i===void 0?null:i;var r=o.memoizedState;if(i!==null&&ur(i,r[1]))return r[0];if(r=e(),hi){Zt(!0);try{e()}finally{Zt(!1)}}return o.memoizedState=[r,i],r}function Cr(e,i,o){return o===void 0||(Un&1073741824)!==0?e.memoizedState=i:(e.memoizedState=o,e=tm(),ve.lanes|=e,zn|=e,o)}function jf(e,i,o,r){return Dt(o,i)?o:Fi.current!==null?(e=Cr(e,o,r),Dt(e,i)||(rt=!0),e):(Un&42)===0?(rt=!0,e.memoizedState=o):(e=tm(),ve.lanes|=e,zn|=e,i)}function ed(e,i,o,r,d){var h=H.p;H.p=h!==0&&8>h?h:8;var T=V.T,_={};V.T=_,xr(e,!1,i,o);try{var E=d(),b=V.S;if(b!==null&&b(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var L=Ny(E,r);eo(e,i,L,kt(e))}else eo(e,i,r,kt(e))}catch(O){eo(e,i,{then:function(){},status:"rejected",reason:O},kt())}finally{H.p=h,V.T=T}}function Uy(){}function Sr(e,i,o,r){if(e.tag!==5)throw Error(l(476));var d=td(e).queue;ed(e,d,i,oe,o===null?Uy:function(){return nd(e),o(r)})}function td(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:oe},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function nd(e){var i=td(e).next.queue;eo(e,i,{},kt())}function Er(){return yt(To)}function id(){return nt().memoizedState}function ld(){return nt().memoizedState}function Iy(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=kt();e=bn(o);var r=wn(i,e,o);r!==null&&(Vt(r,i,o),Jl(r,i,o)),i={cache:js()},e.payload=i;return}i=i.return}}function ky(e,i,o){var r=kt();o={lane:r,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ga(e)?ad(i,o):(o=Hs(e,i,o,r),o!==null&&(Vt(o,e,r),sd(o,i,r)))}function od(e,i,o){var r=kt();eo(e,i,o,r)}function eo(e,i,o,r){var d={lane:r,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ga(e))ad(i,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,_=h(T,o);if(d.hasEagerState=!0,d.eagerState=_,Dt(_,T))return jo(e,i,d,0),Fe===null&&Wo(),!1}catch{}finally{}if(o=Hs(e,i,d,r),o!==null)return Vt(o,e,r),sd(o,i,r),!0}return!1}function xr(e,i,o,r){if(r={lane:2,revertLane:nu(),action:r,hasEagerState:!1,eagerState:null,next:null},ga(e)){if(i)throw Error(l(479))}else i=Hs(e,o,r,2),i!==null&&Vt(i,e,2)}function ga(e){var i=e.alternate;return e===ve||i!==null&&i===ve}function ad(e,i){Yi=ca=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function sd(e,i,o){if((o&4194048)!==0){var r=i.lanes;r&=e.pendingLanes,o|=r,i.lanes=o,hc(e,o)}}var ya={readContext:yt,use:da,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We},rd={readContext:yt,use:da,useCallback:function(e,i){return Mt().memoizedState=[e,i===void 0?null:i],e},useContext:yt,useEffect:Yf,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,pa(4194308,4,Xf.bind(null,i,e),o)},useLayoutEffect:function(e,i){return pa(4194308,4,e,i)},useInsertionEffect:function(e,i){pa(4,2,e,i)},useMemo:function(e,i){var o=Mt();i=i===void 0?null:i;var r=e();if(hi){Zt(!0);try{e()}finally{Zt(!1)}}return o.memoizedState=[r,i],r},useReducer:function(e,i,o){var r=Mt();if(o!==void 0){var d=o(i);if(hi){Zt(!0);try{o(i)}finally{Zt(!1)}}}else d=i;return r.memoizedState=r.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},r.queue=e,e=e.dispatch=ky.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var i=Mt();return e={current:e},i.memoizedState=e},useState:function(e){e=vr(e);var i=e.queue,o=od.bind(null,ve,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:_r,useDeferredValue:function(e,i){var o=Mt();return Cr(o,e,i)},useTransition:function(){var e=vr(!1);return e=ed.bind(null,ve,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var r=ve,d=Mt();if(Ue){if(o===void 0)throw Error(l(407));o=o()}else{if(o=i(),Fe===null)throw Error(l(349));(xe&124)!==0||Df(r,i,o)}d.memoizedState=o;var h={value:o,getSnapshot:i};return d.queue=h,Yf(wf.bind(null,r,h,e),[e]),r.flags|=2048,Ki(9,ha(),bf.bind(null,r,h,o,i),null),o},useId:function(){var e=Mt(),i=Fe.identifierPrefix;if(Ue){var o=mn,r=dn;o=(r&~(1<<32-pt(r)-1)).toString(32)+o,i=""+i+"R"+o,o=fa++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=Ry++,i=""+i+"r"+o.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Er,useFormState:Pf,useActionState:Pf,useOptimistic:function(e){var i=Mt();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=xr.bind(null,ve,!0,o),o.dispatch=i,[e,i]},useMemoCache:pr,useCacheRefresh:function(){return Mt().memoizedState=Iy.bind(null,ve)}},ud={readContext:yt,use:da,useCallback:Qf,useContext:yt,useEffect:Zf,useImperativeHandle:$f,useInsertionEffect:Kf,useLayoutEffect:Jf,useMemo:Wf,useReducer:ma,useRef:Ff,useState:function(){return ma(gn)},useDebugValue:_r,useDeferredValue:function(e,i){var o=nt();return jf(o,Ge.memoizedState,e,i)},useTransition:function(){var e=ma(gn)[0],i=nt().memoizedState;return[typeof e=="boolean"?e:Wl(e),i]},useSyncExternalStore:Rf,useId:id,useHostTransitionStatus:Er,useFormState:Bf,useActionState:Bf,useOptimistic:function(e,i){var o=nt();return kf(o,Ge,e,i)},useMemoCache:pr,useCacheRefresh:ld},Vy={readContext:yt,use:da,useCallback:Qf,useContext:yt,useEffect:Zf,useImperativeHandle:$f,useInsertionEffect:Kf,useLayoutEffect:Jf,useMemo:Wf,useReducer:yr,useRef:Ff,useState:function(){return yr(gn)},useDebugValue:_r,useDeferredValue:function(e,i){var o=nt();return Ge===null?Cr(o,e,i):jf(o,Ge.memoizedState,e,i)},useTransition:function(){var e=yr(gn)[0],i=nt().memoizedState;return[typeof e=="boolean"?e:Wl(e),i]},useSyncExternalStore:Rf,useId:id,useHostTransitionStatus:Er,useFormState:Hf,useActionState:Hf,useOptimistic:function(e,i){var o=nt();return Ge!==null?kf(o,Ge,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:pr,useCacheRefresh:ld},Ji=null,to=0;function va(e){var i=to;return to+=1,Ji===null&&(Ji=[]),_f(Ji,e,i)}function no(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ta(e,i){throw i.$$typeof===C?Error(l(525)):(e=Object.prototype.toString.call(i),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function cd(e){var i=e._init;return i(e._payload)}function fd(e){function i(R,M){if(e){var D=R.deletions;D===null?(R.deletions=[M],R.flags|=16):D.push(M)}}function o(R,M){if(!e)return null;for(;M!==null;)i(R,M),M=M.sibling;return null}function r(R){for(var M=new Map;R!==null;)R.key!==null?M.set(R.key,R):M.set(R.index,R),R=R.sibling;return M}function d(R,M){return R=fn(R,M),R.index=0,R.sibling=null,R}function h(R,M,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<M?(R.flags|=67108866,M):D):(R.flags|=67108866,M)):(R.flags|=1048576,M)}function T(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,M,D,G){return M===null||M.tag!==6?(M=Ys(D,R.mode,G),M.return=R,M):(M=d(M,D),M.return=R,M)}function E(R,M,D,G){var X=D.type;return X===U?L(R,M,D.props.children,G,D.key):M!==null&&(M.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===he&&cd(X)===M.type)?(M=d(M,D.props),no(M,D),M.return=R,M):(M=ta(D.type,D.key,D.props,null,R.mode,G),no(M,D),M.return=R,M)}function b(R,M,D,G){return M===null||M.tag!==4||M.stateNode.containerInfo!==D.containerInfo||M.stateNode.implementation!==D.implementation?(M=Zs(D,R.mode,G),M.return=R,M):(M=d(M,D.children||[]),M.return=R,M)}function L(R,M,D,G,X){return M===null||M.tag!==7?(M=ai(D,R.mode,G,X),M.return=R,M):(M=d(M,D),M.return=R,M)}function O(R,M,D){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ys(""+M,R.mode,D),M.return=R,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return D=ta(M.type,M.key,M.props,null,R.mode,D),no(D,M),D.return=R,D;case x:return M=Zs(M,R.mode,D),M.return=R,M;case he:var G=M._init;return M=G(M._payload),O(R,M,D)}if(Le(M)||Be(M))return M=ai(M,R.mode,D,null),M.return=R,M;if(typeof M.then=="function")return O(R,va(M),D);if(M.$$typeof===Q)return O(R,oa(R,M),D);Ta(R,M)}return null}function w(R,M,D,G){var X=M!==null?M.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return X!==null?null:_(R,M,""+D,G);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return D.key===X?E(R,M,D,G):null;case x:return D.key===X?b(R,M,D,G):null;case he:return X=D._init,D=X(D._payload),w(R,M,D,G)}if(Le(D)||Be(D))return X!==null?null:L(R,M,D,G,null);if(typeof D.then=="function")return w(R,M,va(D),G);if(D.$$typeof===Q)return w(R,M,oa(R,D),G);Ta(R,D)}return null}function I(R,M,D,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(D)||null,_(M,R,""+G,X);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return R=R.get(G.key===null?D:G.key)||null,E(M,R,G,X);case x:return R=R.get(G.key===null?D:G.key)||null,b(M,R,G,X);case he:var Te=G._init;return G=Te(G._payload),I(R,M,D,G,X)}if(Le(G)||Be(G))return R=R.get(D)||null,L(M,R,G,X,null);if(typeof G.then=="function")return I(R,M,D,va(G),X);if(G.$$typeof===Q)return I(R,M,D,oa(M,G),X);Ta(M,G)}return null}function re(R,M,D,G){for(var X=null,Te=null,ee=M,se=M=0,ct=null;ee!==null&&se<D.length;se++){ee.index>se?(ct=ee,ee=null):ct=ee.sibling;var Re=w(R,ee,D[se],G);if(Re===null){ee===null&&(ee=ct);break}e&&ee&&Re.alternate===null&&i(R,ee),M=h(Re,M,se),Te===null?X=Re:Te.sibling=Re,Te=Re,ee=ct}if(se===D.length)return o(R,ee),Ue&&ri(R,se),X;if(ee===null){for(;se<D.length;se++)ee=O(R,D[se],G),ee!==null&&(M=h(ee,M,se),Te===null?X=ee:Te.sibling=ee,Te=ee);return Ue&&ri(R,se),X}for(ee=r(ee);se<D.length;se++)ct=I(ee,R,se,D[se],G),ct!==null&&(e&&ct.alternate!==null&&ee.delete(ct.key===null?se:ct.key),M=h(ct,M,se),Te===null?X=ct:Te.sibling=ct,Te=ct);return e&&ee.forEach(function(Jn){return i(R,Jn)}),Ue&&ri(R,se),X}function ae(R,M,D,G){if(D==null)throw Error(l(151));for(var X=null,Te=null,ee=M,se=M=0,ct=null,Re=D.next();ee!==null&&!Re.done;se++,Re=D.next()){ee.index>se?(ct=ee,ee=null):ct=ee.sibling;var Jn=w(R,ee,Re.value,G);if(Jn===null){ee===null&&(ee=ct);break}e&&ee&&Jn.alternate===null&&i(R,ee),M=h(Jn,M,se),Te===null?X=Jn:Te.sibling=Jn,Te=Jn,ee=ct}if(Re.done)return o(R,ee),Ue&&ri(R,se),X;if(ee===null){for(;!Re.done;se++,Re=D.next())Re=O(R,Re.value,G),Re!==null&&(M=h(Re,M,se),Te===null?X=Re:Te.sibling=Re,Te=Re);return Ue&&ri(R,se),X}for(ee=r(ee);!Re.done;se++,Re=D.next())Re=I(ee,R,se,Re.value,G),Re!==null&&(e&&Re.alternate!==null&&ee.delete(Re.key===null?se:Re.key),M=h(Re,M,se),Te===null?X=Re:Te.sibling=Re,Te=Re);return e&&ee.forEach(function(Lv){return i(R,Lv)}),Ue&&ri(R,se),X}function ze(R,M,D,G){if(typeof D=="object"&&D!==null&&D.type===U&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case S:e:{for(var X=D.key;M!==null;){if(M.key===X){if(X=D.type,X===U){if(M.tag===7){o(R,M.sibling),G=d(M,D.props.children),G.return=R,R=G;break e}}else if(M.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===he&&cd(X)===M.type){o(R,M.sibling),G=d(M,D.props),no(G,D),G.return=R,R=G;break e}o(R,M);break}else i(R,M);M=M.sibling}D.type===U?(G=ai(D.props.children,R.mode,G,D.key),G.return=R,R=G):(G=ta(D.type,D.key,D.props,null,R.mode,G),no(G,D),G.return=R,R=G)}return T(R);case x:e:{for(X=D.key;M!==null;){if(M.key===X)if(M.tag===4&&M.stateNode.containerInfo===D.containerInfo&&M.stateNode.implementation===D.implementation){o(R,M.sibling),G=d(M,D.children||[]),G.return=R,R=G;break e}else{o(R,M);break}else i(R,M);M=M.sibling}G=Zs(D,R.mode,G),G.return=R,R=G}return T(R);case he:return X=D._init,D=X(D._payload),ze(R,M,D,G)}if(Le(D))return re(R,M,D,G);if(Be(D)){if(X=Be(D),typeof X!="function")throw Error(l(150));return D=X.call(D),ae(R,M,D,G)}if(typeof D.then=="function")return ze(R,M,va(D),G);if(D.$$typeof===Q)return ze(R,M,oa(R,D),G);Ta(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,M!==null&&M.tag===6?(o(R,M.sibling),G=d(M,D),G.return=R,R=G):(o(R,M),G=Ys(D,R.mode,G),G.return=R,R=G),T(R)):o(R,M)}return function(R,M,D,G){try{to=0;var X=ze(R,M,D,G);return Ji=null,X}catch(ee){if(ee===Zl||ee===sa)throw ee;var Te=bt(29,ee,null,R.mode);return Te.lanes=G,Te.return=R,Te}finally{}}}var Xi=fd(!0),dd=fd(!1),qt=z(null),jt=null;function In(e){var i=e.alternate;q(at,at.current&1),q(qt,e),jt===null&&(i===null||Fi.current!==null||i.memoizedState!==null)&&(jt=e)}function md(e){if(e.tag===22){if(q(at,at.current),q(qt,e),jt===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(jt=e)}}else kn()}function kn(){q(at,at.current),q(qt,qt.current)}function yn(e){K(qt),jt===e&&(jt=null),K(at)}var at=z(0);function _a(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||hu(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ar(e,i,o,r){i=e.memoizedState,o=o(r,i),o=o==null?i:v({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Mr={enqueueSetState:function(e,i,o){e=e._reactInternals;var r=kt(),d=bn(r);d.payload=i,o!=null&&(d.callback=o),i=wn(e,d,r),i!==null&&(Vt(i,e,r),Jl(i,e,r))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var r=kt(),d=bn(r);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=wn(e,d,r),i!==null&&(Vt(i,e,r),Jl(i,e,r))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=kt(),r=bn(o);r.tag=2,i!=null&&(r.callback=i),i=wn(e,r,o),i!==null&&(Vt(i,e,o),Jl(i,e,o))}};function hd(e,i,o,r,d,h,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,h,T):i.prototype&&i.prototype.isPureReactComponent?!Ol(o,r)||!Ol(d,h):!0}function pd(e,i,o,r){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,r),i.state!==e&&Mr.enqueueReplaceState(i,i.state,null)}function pi(e,i){var o=i;if("ref"in i){o={};for(var r in i)r!=="ref"&&(o[r]=i[r])}if(e=e.defaultProps){o===i&&(o=v({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}var Ca=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gd(e){Ca(e)}function yd(e){console.error(e)}function vd(e){Ca(e)}function Sa(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Td(e,i,o){try{var r=e.onCaughtError;r(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Nr(e,i,o){return o=bn(o),o.tag=3,o.payload={element:null},o.callback=function(){Sa(e,i)},o}function _d(e){return e=bn(e),e.tag=3,e}function Cd(e,i,o,r){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=r.value;e.payload=function(){return d(h)},e.callback=function(){Td(i,o,r)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Td(i,o,r),typeof d!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function Ly(e,i,o,r,d){if(o.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=o.alternate,i!==null&&Hl(i,o,d,!0),o=qt.current,o!==null){switch(o.tag){case 13:return jt===null?Qr():o.alternate===null&&$e===0&&($e=3),o.flags&=-257,o.flags|=65536,o.lanes=d,r===nr?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([r]):i.add(r),jr(e,r,d)),!1;case 22:return o.flags|=65536,r===nr?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([r]):o.add(r)),jr(e,r,d)),!1}throw Error(l(435,o.tag))}return jr(e,r,d),Qr(),!1}if(Ue)return i=qt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,r!==Xs&&(e=Error(l(422),{cause:r}),ql(Ot(e,o)))):(r!==Xs&&(i=Error(l(423),{cause:r}),ql(Ot(i,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,r=Ot(r,o),d=Nr(e.stateNode,r,d),or(e,d),$e!==4&&($e=2)),!1;var h=Error(l(520),{cause:r});if(h=Ot(h,o),uo===null?uo=[h]:uo.push(h),$e!==4&&($e=2),i===null)return!0;r=Ot(r,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=Nr(o.stateNode,r,e),or(o,e),!1;case 1:if(i=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Pn===null||!Pn.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=_d(d),Cd(d,e,o,r),or(o,d),!1}o=o.return}while(o!==null);return!1}var Sd=Error(l(461)),rt=!1;function ft(e,i,o,r){i.child=e===null?dd(i,null,o,r):Xi(i,e.child,o,r)}function Ed(e,i,o,r,d){o=o.render;var h=i.ref;if("ref"in r){var T={};for(var _ in r)_!=="ref"&&(T[_]=r[_])}else T=r;return di(i),r=cr(e,i,o,T,h,d),_=fr(),e!==null&&!rt?(dr(e,i,d),vn(e,i,d)):(Ue&&_&&Ks(i),i.flags|=1,ft(e,i,r,d),i.child)}function xd(e,i,o,r,d){if(e===null){var h=o.type;return typeof h=="function"&&!Fs(h)&&h.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=h,Ad(e,i,h,r,d)):(e=ta(o.type,null,r,i,i.mode,d),e.ref=i.ref,e.return=i,i.child=e)}if(h=e.child,!Vr(e,d)){var T=h.memoizedProps;if(o=o.compare,o=o!==null?o:Ol,o(T,r)&&e.ref===i.ref)return vn(e,i,d)}return i.flags|=1,e=fn(h,r),e.ref=i.ref,e.return=i,i.child=e}function Ad(e,i,o,r,d){if(e!==null){var h=e.memoizedProps;if(Ol(h,r)&&e.ref===i.ref)if(rt=!1,i.pendingProps=r=h,Vr(e,d))(e.flags&131072)!==0&&(rt=!0);else return i.lanes=e.lanes,vn(e,i,d)}return Rr(e,i,o,r,d)}function Md(e,i,o){var r=i.pendingProps,d=r.children,h=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=h!==null?h.baseLanes|o:o,e!==null){for(d=i.child=e.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;i.childLanes=h&~r}else i.childLanes=0,i.child=null;return Nd(e,i,r,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&aa(i,h!==null?h.cachePool:null),h!==null?Af(i,h):sr(),md(i);else return i.lanes=i.childLanes=536870912,Nd(e,i,h!==null?h.baseLanes|o:o,o)}else h!==null?(aa(i,h.cachePool),Af(i,h),kn(),i.memoizedState=null):(e!==null&&aa(i,null),sr(),kn());return ft(e,i,d,o),i.child}function Nd(e,i,o,r){var d=tr();return d=d===null?null:{parent:ot._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},e!==null&&aa(i,null),sr(),md(i),e!==null&&Hl(e,i,r,!0),null}function Ea(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(l(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Rr(e,i,o,r,d){return di(i),o=cr(e,i,o,r,void 0,d),r=fr(),e!==null&&!rt?(dr(e,i,d),vn(e,i,d)):(Ue&&r&&Ks(i),i.flags|=1,ft(e,i,o,d),i.child)}function Rd(e,i,o,r,d,h){return di(i),i.updateQueue=null,o=Nf(i,r,o,d),Mf(e),r=fr(),e!==null&&!rt?(dr(e,i,h),vn(e,i,h)):(Ue&&r&&Ks(i),i.flags|=1,ft(e,i,o,h),i.child)}function Dd(e,i,o,r,d){if(di(i),i.stateNode===null){var h=zi,T=o.contextType;typeof T=="object"&&T!==null&&(h=yt(T)),h=new o(r,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Mr,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=r,h.state=i.memoizedState,h.refs={},ir(i),T=o.contextType,h.context=typeof T=="object"&&T!==null?yt(T):zi,h.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Ar(i,o,T,r),h.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Mr.enqueueReplaceState(h,h.state,null),$l(i,r,h,d),Xl(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(e===null){h=i.stateNode;var _=i.memoizedProps,E=pi(o,_);h.props=E;var b=h.context,L=o.contextType;T=zi,typeof L=="object"&&L!==null&&(T=yt(L));var O=o.getDerivedStateFromProps;L=typeof O=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,L||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||b!==T)&&pd(i,h,r,T),Dn=!1;var w=i.memoizedState;h.state=w,$l(i,r,h,d),Xl(),b=i.memoizedState,_||w!==b||Dn?(typeof O=="function"&&(Ar(i,o,O,r),b=i.memoizedState),(E=Dn||hd(i,o,E,r,w,b,T))?(L||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=b),h.props=r,h.state=b,h.context=T,r=E):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{h=i.stateNode,lr(e,i),T=i.memoizedProps,L=pi(o,T),h.props=L,O=i.pendingProps,w=h.context,b=o.contextType,E=zi,typeof b=="object"&&b!==null&&(E=yt(b)),_=o.getDerivedStateFromProps,(b=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==O||w!==E)&&pd(i,h,r,E),Dn=!1,w=i.memoizedState,h.state=w,$l(i,r,h,d),Xl();var I=i.memoizedState;T!==O||w!==I||Dn||e!==null&&e.dependencies!==null&&la(e.dependencies)?(typeof _=="function"&&(Ar(i,o,_,r),I=i.memoizedState),(L=Dn||hd(i,o,L,r,w,I,E)||e!==null&&e.dependencies!==null&&la(e.dependencies))?(b||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,I,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,I,E)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=I),h.props=r,h.state=I,h.context=E,r=L):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(i.flags|=1024),r=!1)}return h=r,Ea(e,i),r=(i.flags&128)!==0,h||r?(h=i.stateNode,o=r&&typeof o.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,e!==null&&r?(i.child=Xi(i,e.child,null,d),i.child=Xi(i,null,o,d)):ft(e,i,o,d),i.memoizedState=h.state,e=i.child):e=vn(e,i,d),e}function bd(e,i,o,r){return Bl(),i.flags|=256,ft(e,i,o,r),i.child}var Dr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function br(e){return{baseLanes:e,cachePool:yf()}}function wr(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Ht),e}function wd(e,i,o){var r=i.pendingProps,d=!1,h=(i.flags&128)!==0,T;if((T=h)||(T=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ue){if(d?In(i):kn(),Ue){var _=Xe,E;if(E=_){e:{for(E=_,_=Wt;E.nodeType!==8;){if(!_){_=null;break e}if(E=Xt(E.nextSibling),E===null){_=null;break e}}_=E}_!==null?(i.memoizedState={dehydrated:_,treeContext:si!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},E=bt(18,null,null,0),E.stateNode=_,E.return=i,i.child=E,_t=i,Xe=null,E=!0):E=!1}E||ci(i)}if(_=i.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return hu(_)?i.lanes=32:i.lanes=536870912,null;yn(i)}return _=r.children,r=r.fallback,d?(kn(),d=i.mode,_=xa({mode:"hidden",children:_},d),r=ai(r,d,o,null),_.return=i,r.return=i,_.sibling=r,i.child=_,d=i.child,d.memoizedState=br(o),d.childLanes=wr(e,T,o),i.memoizedState=Dr,r):(In(i),Ur(i,_))}if(E=e.memoizedState,E!==null&&(_=E.dehydrated,_!==null)){if(h)i.flags&256?(In(i),i.flags&=-257,i=Ir(e,i,o)):i.memoizedState!==null?(kn(),i.child=e.child,i.flags|=128,i=null):(kn(),d=r.fallback,_=i.mode,r=xa({mode:"visible",children:r.children},_),d=ai(d,_,o,null),d.flags|=2,r.return=i,d.return=i,r.sibling=d,i.child=r,Xi(i,e.child,null,o),r=i.child,r.memoizedState=br(o),r.childLanes=wr(e,T,o),i.memoizedState=Dr,i=d);else if(In(i),hu(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var b=T.dgst;T=b,r=Error(l(419)),r.stack="",r.digest=T,ql({value:r,source:null,stack:null}),i=Ir(e,i,o)}else if(rt||Hl(e,i,o,!1),T=(o&e.childLanes)!==0,rt||T){if(T=Fe,T!==null&&(r=o&-o,r=(r&42)!==0?1:ps(r),r=(r&(T.suspendedLanes|o))!==0?0:r,r!==0&&r!==E.retryLane))throw E.retryLane=r,Oi(e,r),Vt(T,e,r),Sd;_.data==="$?"||Qr(),i=Ir(e,i,o)}else _.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=E.treeContext,Xe=Xt(_.nextSibling),_t=i,Ue=!0,ui=null,Wt=!1,e!==null&&(Pt[Bt++]=dn,Pt[Bt++]=mn,Pt[Bt++]=si,dn=e.id,mn=e.overflow,si=i),i=Ur(i,r.children),i.flags|=4096);return i}return d?(kn(),d=r.fallback,_=i.mode,E=e.child,b=E.sibling,r=fn(E,{mode:"hidden",children:r.children}),r.subtreeFlags=E.subtreeFlags&65011712,b!==null?d=fn(b,d):(d=ai(d,_,o,null),d.flags|=2),d.return=i,r.return=i,r.sibling=d,i.child=r,r=d,d=i.child,_=e.child.memoizedState,_===null?_=br(o):(E=_.cachePool,E!==null?(b=ot._currentValue,E=E.parent!==b?{parent:b,pool:b}:E):E=yf(),_={baseLanes:_.baseLanes|o,cachePool:E}),d.memoizedState=_,d.childLanes=wr(e,T,o),i.memoizedState=Dr,r):(In(i),o=e.child,e=o.sibling,o=fn(o,{mode:"visible",children:r.children}),o.return=i,o.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=o,i.memoizedState=null,o)}function Ur(e,i){return i=xa({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function xa(e,i){return e=bt(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ir(e,i,o){return Xi(i,e.child,null,o),e=Ur(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ud(e,i,o){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i),Qs(e.return,i,o)}function kr(e,i,o,r,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:o,tailMode:d}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=o,h.tailMode=d)}function Id(e,i,o){var r=i.pendingProps,d=r.revealOrder,h=r.tail;if(ft(e,i,r.children,o),r=at.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ud(e,o,i);else if(e.tag===19)Ud(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(q(at,r),d){case"forwards":for(o=i.child,d=null;o!==null;)e=o.alternate,e!==null&&_a(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),kr(i,!1,d,o,h);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(e=d.alternate,e!==null&&_a(e)===null){i.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}kr(i,!0,o,null,h);break;case"together":kr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function vn(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),zn|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Hl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(l(153));if(i.child!==null){for(e=i.child,o=fn(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=fn(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Vr(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&la(e)))}function Gy(e,i,o){switch(i.tag){case 3:He(i,i.stateNode.containerInfo),Rn(i,ot,e.memoizedState.cache),Bl();break;case 27:case 5:Sl(i);break;case 4:He(i,i.stateNode.containerInfo);break;case 10:Rn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(In(i),i.flags|=128,null):(o&i.child.childLanes)!==0?wd(e,i,o):(In(i),e=vn(e,i,o),e!==null?e.sibling:null);In(i);break;case 19:var d=(e.flags&128)!==0;if(r=(o&i.childLanes)!==0,r||(Hl(e,i,o,!1),r=(o&i.childLanes)!==0),d){if(r)return Id(e,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),q(at,at.current),r)break;return null;case 22:case 23:return i.lanes=0,Md(e,i,o);case 24:Rn(i,ot,e.memoizedState.cache)}return vn(e,i,o)}function kd(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)rt=!0;else{if(!Vr(e,o)&&(i.flags&128)===0)return rt=!1,Gy(e,i,o);rt=(e.flags&131072)!==0}else rt=!1,Ue&&(i.flags&1048576)!==0&&cf(i,ia,i.index);switch(i.lanes=0,i.tag){case 16:e:{e=i.pendingProps;var r=i.elementType,d=r._init;if(r=d(r._payload),i.type=r,typeof r=="function")Fs(r)?(e=pi(r,e),i.tag=1,i=Dd(null,i,r,e,o)):(i.tag=0,i=Rr(null,i,r,e,o));else{if(r!=null){if(d=r.$$typeof,d===le){i.tag=11,i=Ed(null,i,r,e,o);break e}else if(d===me){i.tag=14,i=xd(null,i,r,e,o);break e}}throw i=et(r)||r,Error(l(306,i,""))}}return i;case 0:return Rr(e,i,i.type,i.pendingProps,o);case 1:return r=i.type,d=pi(r,i.pendingProps),Dd(e,i,r,d,o);case 3:e:{if(He(i,i.stateNode.containerInfo),e===null)throw Error(l(387));r=i.pendingProps;var h=i.memoizedState;d=h.element,lr(e,i),$l(i,r,null,o);var T=i.memoizedState;if(r=T.cache,Rn(i,ot,r),r!==h.cache&&Ws(i,[ot],o,!0),Xl(),r=T.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=bd(e,i,r,o);break e}else if(r!==d){d=Ot(Error(l(424)),i),ql(d),i=bd(e,i,r,o);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=Xt(e.firstChild),_t=i,Ue=!0,ui=null,Wt=!0,o=dd(i,null,r,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Bl(),r===d){i=vn(e,i,o);break e}ft(e,i,r,o)}i=i.child}return i;case 26:return Ea(e,i),e===null?(o=Om(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ue||(o=i.type,e=i.pendingProps,r=Oa(ce.current).createElement(o),r[gt]=i,r[xt]=e,mt(r,o,e),st(r),i.stateNode=r):i.memoizedState=Om(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Sl(i),e===null&&Ue&&(r=i.stateNode=Vm(i.type,i.pendingProps,ce.current),_t=i,Wt=!0,d=Xe,Hn(i.type)?(pu=d,Xe=Xt(r.firstChild)):Xe=d),ft(e,i,i.pendingProps.children,o),Ea(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ue&&((d=r=Xe)&&(r=fv(r,i.type,i.pendingProps,Wt),r!==null?(i.stateNode=r,_t=i,Xe=Xt(r.firstChild),Wt=!1,d=!0):d=!1),d||ci(i)),Sl(i),d=i.type,h=i.pendingProps,T=e!==null?e.memoizedProps:null,r=h.children,fu(d,h)?r=null:T!==null&&fu(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=cr(e,i,Dy,null,null,o),To._currentValue=d),Ea(e,i),ft(e,i,r,o),i.child;case 6:return e===null&&Ue&&((e=o=Xe)&&(o=dv(o,i.pendingProps,Wt),o!==null?(i.stateNode=o,_t=i,Xe=null,e=!0):e=!1),e||ci(i)),null;case 13:return wd(e,i,o);case 4:return He(i,i.stateNode.containerInfo),r=i.pendingProps,e===null?i.child=Xi(i,null,r,o):ft(e,i,r,o),i.child;case 11:return Ed(e,i,i.type,i.pendingProps,o);case 7:return ft(e,i,i.pendingProps,o),i.child;case 8:return ft(e,i,i.pendingProps.children,o),i.child;case 12:return ft(e,i,i.pendingProps.children,o),i.child;case 10:return r=i.pendingProps,Rn(i,i.type,r.value),ft(e,i,r.children,o),i.child;case 9:return d=i.type._context,r=i.pendingProps.children,di(i),d=yt(d),r=r(d),i.flags|=1,ft(e,i,r,o),i.child;case 14:return xd(e,i,i.type,i.pendingProps,o);case 15:return Ad(e,i,i.type,i.pendingProps,o);case 19:return Id(e,i,o);case 31:return r=i.pendingProps,o=i.mode,r={mode:r.mode,children:r.children},e===null?(o=xa(r,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=fn(e.child,r),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Md(e,i,o);case 24:return di(i),r=yt(ot),e===null?(d=tr(),d===null&&(d=Fe,h=js(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),i.memoizedState={parent:r,cache:d},ir(i),Rn(i,ot,d)):((e.lanes&o)!==0&&(lr(e,i),$l(i,null,null,o),Xl()),d=e.memoizedState,h=i.memoizedState,d.parent!==r?(d={parent:r,cache:r},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Rn(i,ot,r)):(r=h.cache,Rn(i,ot,r),r!==d.cache&&Ws(i,[ot],o,!0))),ft(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Tn(e){e.flags|=4}function Vd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hm(i)){if(i=qt.current,i!==null&&((xe&4194048)===xe?jt!==null:(xe&62914560)!==xe&&(xe&536870912)===0||i!==jt))throw Kl=nr,vf;e.flags|=8192}}function Aa(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?dc():536870912,e.lanes|=i,ji|=i)}function io(e,i){if(!Ue)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Je(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,r=0;if(i)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,r|=d.subtreeFlags&65011712,r|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,r|=d.subtreeFlags,r|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=r,e.childLanes=o,i}function Oy(e,i,o){var r=i.pendingProps;switch(Js(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return o=i.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),pn(ot),Qt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Pl(i)?Tn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mf())),Je(i),null;case 26:return o=i.memoizedState,e===null?(Tn(i),o!==null?(Je(i),Vd(i,o)):(Je(i),i.flags&=-16777217)):o?o!==e.memoizedState?(Tn(i),Je(i),Vd(i,o)):(Je(i),i.flags&=-16777217):(e.memoizedProps!==r&&Tn(i),Je(i),i.flags&=-16777217),null;case 27:ei(i),o=ce.current;var d=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==r&&Tn(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return Je(i),null}e=ie.current,Pl(i)?ff(i):(e=Vm(d,r,o),i.stateNode=e,Tn(i))}return Je(i),null;case 5:if(ei(i),o=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&Tn(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return Je(i),null}if(e=ie.current,Pl(i))ff(i);else{switch(d=Oa(ce.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?d.createElement(o,{is:r.is}):d.createElement(o)}}e[gt]=i,e[xt]=r;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=e;e:switch(mt(e,o,r),o){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Tn(i)}}return Je(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==r&&Tn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(l(166));if(e=ce.current,Pl(i)){if(e=i.stateNode,o=i.memoizedProps,r=null,d=_t,d!==null)switch(d.tag){case 27:case 5:r=d.memoizedProps}e[gt]=i,e=!!(e.nodeValue===o||r!==null&&r.suppressHydrationWarning===!0||Rm(e.nodeValue,o)),e||ci(i)}else e=Oa(e).createTextNode(r),e[gt]=i,i.stateNode=e}return Je(i),null;case 13:if(r=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Pl(i),r!==null&&r.dehydrated!==null){if(e===null){if(!d)throw Error(l(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[gt]=i}else Bl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),d=!1}else d=mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(yn(i),i):(yn(i),null)}if(yn(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=r!==null,e=e!==null&&e.memoizedState!==null,o){r=i.child,d=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(d=r.alternate.memoizedState.cachePool.pool);var h=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==d&&(r.flags|=2048)}return o!==e&&o&&(i.child.flags|=8192),Aa(i,i.updateQueue),Je(i),null;case 4:return Qt(),e===null&&au(i.stateNode.containerInfo),Je(i),null;case 10:return pn(i.type),Je(i),null;case 19:if(K(at),d=i.memoizedState,d===null)return Je(i),null;if(r=(i.flags&128)!==0,h=d.rendering,h===null)if(r)io(d,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(h=_a(e),h!==null){for(i.flags|=128,io(d,!1),e=h.updateQueue,i.updateQueue=e,Aa(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)uf(o,e),o=o.sibling;return q(at,at.current&1|2),i.child}e=e.sibling}d.tail!==null&&Me()>Ra&&(i.flags|=128,r=!0,io(d,!1),i.lanes=4194304)}else{if(!r)if(e=_a(h),e!==null){if(i.flags|=128,r=!0,e=e.updateQueue,i.updateQueue=e,Aa(i,e),io(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ue)return Je(i),null}else 2*Me()-d.renderingStartTime>Ra&&o!==536870912&&(i.flags|=128,r=!0,io(d,!1),i.lanes=4194304);d.isBackwards?(h.sibling=i.child,i.child=h):(e=d.last,e!==null?e.sibling=h:i.child=h,d.last=h)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Me(),i.sibling=null,e=at.current,q(at,r?e&1|2:e&1),i):(Je(i),null);case 22:case 23:return yn(i),rr(),r=i.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(o&536870912)!==0&&(i.flags&128)===0&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),o=i.updateQueue,o!==null&&Aa(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(i.flags|=2048),e!==null&&K(mi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),pn(ot),Je(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function zy(e,i){switch(Js(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return pn(ot),Qt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ei(i),null;case 13:if(yn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Bl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return K(at),null;case 4:return Qt(),null;case 10:return pn(i.type),null;case 22:case 23:return yn(i),rr(),e!==null&&K(mi),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return pn(ot),null;case 25:return null;default:return null}}function Ld(e,i){switch(Js(i),i.tag){case 3:pn(ot),Qt();break;case 26:case 27:case 5:ei(i);break;case 4:Qt();break;case 13:yn(i);break;case 19:K(at);break;case 10:pn(i.type);break;case 22:case 23:yn(i),rr(),e!==null&&K(mi);break;case 24:pn(ot)}}function lo(e,i){try{var o=i.updateQueue,r=o!==null?o.lastEffect:null;if(r!==null){var d=r.next;o=d;do{if((o.tag&e)===e){r=void 0;var h=o.create,T=o.inst;r=h(),T.destroy=r}o=o.next}while(o!==d)}}catch(_){qe(i,i.return,_)}}function Vn(e,i,o){try{var r=i.updateQueue,d=r!==null?r.lastEffect:null;if(d!==null){var h=d.next;r=h;do{if((r.tag&e)===e){var T=r.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=i;var E=o,b=_;try{b()}catch(L){qe(d,E,L)}}}r=r.next}while(r!==h)}}catch(L){qe(i,i.return,L)}}function Gd(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{xf(i,o)}catch(r){qe(e,e.return,r)}}}function Od(e,i,o){o.props=pi(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(r){qe(e,i,r)}}function oo(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof o=="function"?e.refCleanup=o(r):o.current=r}}catch(d){qe(e,i,d)}}function en(e,i){var o=e.ref,r=e.refCleanup;if(o!==null)if(typeof r=="function")try{r()}catch(d){qe(e,i,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){qe(e,i,d)}else o.current=null}function zd(e){var i=e.type,o=e.memoizedProps,r=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break e;case"img":o.src?r.src=o.src:o.srcSet&&(r.srcset=o.srcSet)}}catch(d){qe(e,e.return,d)}}function Lr(e,i,o){try{var r=e.stateNode;av(r,e.type,o,i),r[xt]=i}catch(d){qe(e,e.return,d)}}function Pd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function Gr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Or(e,i,o){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ga));else if(r!==4&&(r===27&&Hn(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Or(e,i,o),e=e.sibling;e!==null;)Or(e,i,o),e=e.sibling}function Ma(e,i,o){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(r!==4&&(r===27&&Hn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ma(e,i,o),e=e.sibling;e!==null;)Ma(e,i,o),e=e.sibling}function Bd(e){var i=e.stateNode,o=e.memoizedProps;try{for(var r=e.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);mt(i,r,o),i[gt]=e,i[xt]=o}catch(h){qe(e,e.return,h)}}var _n=!1,je=!1,zr=!1,qd=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Py(e,i){if(e=e.containerInfo,uu=Fa,e=Wc(e),Gs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var r=o.getSelection&&o.getSelection();if(r&&r.rangeCount!==0){o=r.anchorNode;var d=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var T=0,_=-1,E=-1,b=0,L=0,O=e,w=null;t:for(;;){for(var I;O!==o||d!==0&&O.nodeType!==3||(_=T+d),O!==h||r!==0&&O.nodeType!==3||(E=T+r),O.nodeType===3&&(T+=O.nodeValue.length),(I=O.firstChild)!==null;)w=O,O=I;for(;;){if(O===e)break t;if(w===o&&++b===d&&(_=T),w===h&&++L===r&&(E=T),(I=O.nextSibling)!==null)break;O=w,w=O.parentNode}O=I}o=_===-1||E===-1?null:{start:_,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for(cu={focusedElem:e,selectionRange:o},Fa=!1,ut=i;ut!==null;)if(i=ut,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,ut=e;else for(;ut!==null;){switch(i=ut,h=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,o=i,d=h.memoizedProps,h=h.memoizedState,r=o.stateNode;try{var re=pi(o.type,d,o.elementType===o.type);e=r.getSnapshotBeforeUpdate(re,h),r.__reactInternalSnapshotBeforeUpdate=e}catch(ae){qe(o,o.return,ae)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)mu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=i.sibling,e!==null){e.return=i.return,ut=e;break}ut=i.return}}function Hd(e,i,o){var r=o.flags;switch(o.tag){case 0:case 11:case 15:Ln(e,o),r&4&&lo(5,o);break;case 1:if(Ln(e,o),r&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(T){qe(o,o.return,T)}else{var d=pi(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(d,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){qe(o,o.return,T)}}r&64&&Gd(o),r&512&&oo(o,o.return);break;case 3:if(Ln(e,o),r&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{xf(e,i)}catch(T){qe(o,o.return,T)}}break;case 27:i===null&&r&4&&Bd(o);case 26:case 5:Ln(e,o),i===null&&r&4&&zd(o),r&512&&oo(o,o.return);break;case 12:Ln(e,o);break;case 13:Ln(e,o),r&4&&Zd(e,o),r&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Xy.bind(null,o),mv(e,o))));break;case 22:if(r=o.memoizedState!==null||_n,!r){i=i!==null&&i.memoizedState!==null||je,d=_n;var h=je;_n=r,(je=i)&&!h?Gn(e,o,(o.subtreeFlags&8772)!==0):Ln(e,o),_n=d,je=h}break;case 30:break;default:Ln(e,o)}}function Fd(e){var i=e.alternate;i!==null&&(e.alternate=null,Fd(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&vs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Nt=!1;function Cn(e,i,o){for(o=o.child;o!==null;)Yd(e,i,o),o=o.sibling}function Yd(e,i,o){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(An,o)}catch{}switch(o.tag){case 26:je||en(o,i),Cn(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:je||en(o,i);var r=Ke,d=Nt;Hn(o.type)&&(Ke=o.stateNode,Nt=!1),Cn(e,i,o),po(o.stateNode),Ke=r,Nt=d;break;case 5:je||en(o,i);case 6:if(r=Ke,d=Nt,Ke=null,Cn(e,i,o),Ke=r,Nt=d,Ke!==null)if(Nt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(o.stateNode)}catch(h){qe(o,i,h)}else try{Ke.removeChild(o.stateNode)}catch(h){qe(o,i,h)}break;case 18:Ke!==null&&(Nt?(e=Ke,Im(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Eo(e)):Im(Ke,o.stateNode));break;case 4:r=Ke,d=Nt,Ke=o.stateNode.containerInfo,Nt=!0,Cn(e,i,o),Ke=r,Nt=d;break;case 0:case 11:case 14:case 15:je||Vn(2,o,i),je||Vn(4,o,i),Cn(e,i,o);break;case 1:je||(en(o,i),r=o.stateNode,typeof r.componentWillUnmount=="function"&&Od(o,i,r)),Cn(e,i,o);break;case 21:Cn(e,i,o);break;case 22:je=(r=je)||o.memoizedState!==null,Cn(e,i,o),je=r;break;default:Cn(e,i,o)}}function Zd(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Eo(e)}catch(o){qe(i,i.return,o)}}function By(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new qd),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new qd),i;default:throw Error(l(435,e.tag))}}function Pr(e,i){var o=By(e);i.forEach(function(r){var d=$y.bind(null,e,r);o.has(r)||(o.add(r),r.then(d,d))})}function wt(e,i){var o=i.deletions;if(o!==null)for(var r=0;r<o.length;r++){var d=o[r],h=e,T=i,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Hn(_.type)){Ke=_.stateNode,Nt=!1;break e}break;case 5:Ke=_.stateNode,Nt=!1;break e;case 3:case 4:Ke=_.stateNode.containerInfo,Nt=!0;break e}_=_.return}if(Ke===null)throw Error(l(160));Yd(h,T,d),Ke=null,Nt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Kd(i,e),i=i.sibling}var Jt=null;function Kd(e,i){var o=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(i,e),Ut(e),r&4&&(Vn(3,e,e.return),lo(3,e),Vn(5,e,e.return));break;case 1:wt(i,e),Ut(e),r&512&&(je||o===null||en(o,o.return)),r&64&&_n&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?r:o.concat(r))));break;case 26:var d=Jt;if(wt(i,e),Ut(e),r&512&&(je||o===null||en(o,o.return)),r&4){var h=o!==null?o.memoizedState:null;if(r=e.memoizedState,o===null)if(r===null)if(e.stateNode===null){e:{r=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(r){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Dl]||h[gt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(r),d.head.insertBefore(h,d.querySelector("head > title"))),mt(h,r,o),h[gt]=e,st(h),r=h;break e;case"link":var T=Bm("link","href",d).get(r+(o.href||""));if(T){for(var _=0;_<T.length;_++)if(h=T[_],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(_,1);break t}}h=d.createElement(r),mt(h,r,o),d.head.appendChild(h);break;case"meta":if(T=Bm("meta","content",d).get(r+(o.content||""))){for(_=0;_<T.length;_++)if(h=T[_],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(_,1);break t}}h=d.createElement(r),mt(h,r,o),d.head.appendChild(h);break;default:throw Error(l(468,r))}h[gt]=e,st(h),r=h}e.stateNode=r}else qm(d,e.type,e.stateNode);else e.stateNode=Pm(d,r,e.memoizedProps);else h!==r?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,r===null?qm(d,e.type,e.stateNode):Pm(d,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Lr(e,e.memoizedProps,o.memoizedProps)}break;case 27:wt(i,e),Ut(e),r&512&&(je||o===null||en(o,o.return)),o!==null&&r&4&&Lr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(wt(i,e),Ut(e),r&512&&(je||o===null||en(o,o.return)),e.flags&32){d=e.stateNode;try{wi(d,"")}catch(I){qe(e,e.return,I)}}r&4&&e.stateNode!=null&&(d=e.memoizedProps,Lr(e,d,o!==null?o.memoizedProps:d)),r&1024&&(zr=!0);break;case 6:if(wt(i,e),Ut(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,o=e.stateNode;try{o.nodeValue=r}catch(I){qe(e,e.return,I)}}break;case 3:if(Ba=null,d=Jt,Jt=za(i.containerInfo),wt(i,e),Jt=d,Ut(e),r&4&&o!==null&&o.memoizedState.isDehydrated)try{Eo(i.containerInfo)}catch(I){qe(e,e.return,I)}zr&&(zr=!1,Jd(e));break;case 4:r=Jt,Jt=za(e.stateNode.containerInfo),wt(i,e),Ut(e),Jt=r;break;case 12:wt(i,e),Ut(e);break;case 13:wt(i,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Zr=Me()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Pr(e,r)));break;case 22:d=e.memoizedState!==null;var E=o!==null&&o.memoizedState!==null,b=_n,L=je;if(_n=b||d,je=L||E,wt(i,e),je=L,_n=b,Ut(e),r&8192)e:for(i=e.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||E||_n||je||gi(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){E=o=i;try{if(h=E.stateNode,d)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=E.stateNode;var O=E.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null;_.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(I){qe(E,E.return,I)}}}else if(i.tag===6){if(o===null){E=i;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(I){qe(E,E.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=e.updateQueue,r!==null&&(o=r.retryQueue,o!==null&&(r.retryQueue=null,Pr(e,o))));break;case 19:wt(i,e),Ut(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Pr(e,r)));break;case 30:break;case 21:break;default:wt(i,e),Ut(e)}}function Ut(e){var i=e.flags;if(i&2){try{for(var o,r=e.return;r!==null;){if(Pd(r)){o=r;break}r=r.return}if(o==null)throw Error(l(160));switch(o.tag){case 27:var d=o.stateNode,h=Gr(e);Ma(e,h,d);break;case 5:var T=o.stateNode;o.flags&32&&(wi(T,""),o.flags&=-33);var _=Gr(e);Ma(e,_,T);break;case 3:case 4:var E=o.stateNode.containerInfo,b=Gr(e);Or(e,b,E);break;default:throw Error(l(161))}}catch(L){qe(e,e.return,L)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Jd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Jd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ln(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hd(e,i.alternate,i),i=i.sibling}function gi(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Vn(4,i,i.return),gi(i);break;case 1:en(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Od(i,i.return,o),gi(i);break;case 27:po(i.stateNode);case 26:case 5:en(i,i.return),gi(i);break;case 22:i.memoizedState===null&&gi(i);break;case 30:gi(i);break;default:gi(i)}e=e.sibling}}function Gn(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,d=e,h=i,T=h.flags;switch(h.tag){case 0:case 11:case 15:Gn(d,h,o),lo(4,h);break;case 1:if(Gn(d,h,o),r=h,d=r.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(b){qe(r,r.return,b)}if(r=h,d=r.updateQueue,d!==null){var _=r.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)Ef(E[d],_)}catch(b){qe(r,r.return,b)}}o&&T&64&&Gd(h),oo(h,h.return);break;case 27:Bd(h);case 26:case 5:Gn(d,h,o),o&&r===null&&T&4&&zd(h),oo(h,h.return);break;case 12:Gn(d,h,o);break;case 13:Gn(d,h,o),o&&T&4&&Zd(d,h);break;case 22:h.memoizedState===null&&Gn(d,h,o),oo(h,h.return);break;case 30:break;default:Gn(d,h,o)}i=i.sibling}}function Br(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Fl(o))}function qr(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fl(e))}function tn(e,i,o,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xd(e,i,o,r),i=i.sibling}function Xd(e,i,o,r){var d=i.flags;switch(i.tag){case 0:case 11:case 15:tn(e,i,o,r),d&2048&&lo(9,i);break;case 1:tn(e,i,o,r);break;case 3:tn(e,i,o,r),d&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fl(e)));break;case 12:if(d&2048){tn(e,i,o,r),e=i.stateNode;try{var h=i.memoizedProps,T=h.id,_=h.onPostCommit;typeof _=="function"&&_(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){qe(i,i.return,E)}}else tn(e,i,o,r);break;case 13:tn(e,i,o,r);break;case 23:break;case 22:h=i.stateNode,T=i.alternate,i.memoizedState!==null?h._visibility&2?tn(e,i,o,r):ao(e,i):h._visibility&2?tn(e,i,o,r):(h._visibility|=2,$i(e,i,o,r,(i.subtreeFlags&10256)!==0)),d&2048&&Br(T,i);break;case 24:tn(e,i,o,r),d&2048&&qr(i.alternate,i);break;default:tn(e,i,o,r)}}function $i(e,i,o,r,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var h=e,T=i,_=o,E=r,b=T.flags;switch(T.tag){case 0:case 11:case 15:$i(h,T,_,E,d),lo(8,T);break;case 23:break;case 22:var L=T.stateNode;T.memoizedState!==null?L._visibility&2?$i(h,T,_,E,d):ao(h,T):(L._visibility|=2,$i(h,T,_,E,d)),d&&b&2048&&Br(T.alternate,T);break;case 24:$i(h,T,_,E,d),d&&b&2048&&qr(T.alternate,T);break;default:$i(h,T,_,E,d)}i=i.sibling}}function ao(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,r=i,d=r.flags;switch(r.tag){case 22:ao(o,r),d&2048&&Br(r.alternate,r);break;case 24:ao(o,r),d&2048&&qr(r.alternate,r);break;default:ao(o,r)}i=i.sibling}}var so=8192;function Qi(e){if(e.subtreeFlags&so)for(e=e.child;e!==null;)$d(e),e=e.sibling}function $d(e){switch(e.tag){case 26:Qi(e),e.flags&so&&e.memoizedState!==null&&Mv(Jt,e.memoizedState,e.memoizedProps);break;case 5:Qi(e);break;case 3:case 4:var i=Jt;Jt=za(e.stateNode.containerInfo),Qi(e),Jt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=so,so=16777216,Qi(e),so=i):Qi(e));break;default:Qi(e)}}function Qd(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ro(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var r=i[o];ut=r,jd(r,e)}Qd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wd(e),e=e.sibling}function Wd(e){switch(e.tag){case 0:case 11:case 15:ro(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:ro(e);break;case 12:ro(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Na(e)):ro(e);break;default:ro(e)}}function Na(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var r=i[o];ut=r,jd(r,e)}Qd(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Vn(8,i,i.return),Na(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Na(i));break;default:Na(i)}e=e.sibling}}function jd(e,i){for(;ut!==null;){var o=ut;switch(o.tag){case 0:case 11:case 15:Vn(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var r=o.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Fl(o.memoizedState.cache)}if(r=o.child,r!==null)r.return=o,ut=r;else e:for(o=e;ut!==null;){r=ut;var d=r.sibling,h=r.return;if(Fd(r),r===o){ut=null;break e}if(d!==null){d.return=h,ut=d;break e}ut=h}}}var qy={getCacheForType:function(e){var i=yt(ot),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o}},Hy=typeof WeakMap=="function"?WeakMap:Map,ke=0,Fe=null,_e=null,xe=0,Ve=0,It=null,On=!1,Wi=!1,Hr=!1,Sn=0,$e=0,zn=0,yi=0,Fr=0,Ht=0,ji=0,uo=null,Rt=null,Yr=!1,Zr=0,Ra=1/0,Da=null,Pn=null,dt=0,Bn=null,el=null,tl=0,Kr=0,Jr=null,em=null,co=0,Xr=null;function kt(){if((ke&2)!==0&&xe!==0)return xe&-xe;if(V.T!==null){var e=qi;return e!==0?e:nu()}return pc()}function tm(){Ht===0&&(Ht=(xe&536870912)===0||Ue?fc():536870912);var e=qt.current;return e!==null&&(e.flags|=32),Ht}function Vt(e,i,o){(e===Fe&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(nl(e,0),qn(e,xe,Ht,!1)),Rl(e,o),((ke&2)===0||e!==Fe)&&(e===Fe&&((ke&2)===0&&(yi|=o),$e===4&&qn(e,xe,Ht,!1)),nn(e))}function nm(e,i,o){if((ke&6)!==0)throw Error(l(327));var r=!o&&(i&124)===0&&(i&e.expiredLanes)===0||Nl(e,i),d=r?Zy(e,i):Wr(e,i,!0),h=r;do{if(d===0){Wi&&!r&&qn(e,i,0,!1);break}else{if(o=e.current.alternate,h&&!Fy(o)){d=Wr(e,i,!1),h=!1;continue}if(d===2){if(h=i,e.errorRecoveryDisabledLanes&h)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var _=e;d=uo;var E=_.current.memoizedState.isDehydrated;if(E&&(nl(_,T).flags|=256),T=Wr(_,T,!1),T!==2){if(Hr&&!E){_.errorRecoveryDisabledLanes|=h,yi|=h,d=4;break e}h=Rt,Rt=d,h!==null&&(Rt===null?Rt=h:Rt.push.apply(Rt,h))}d=T}if(h=!1,d!==2)continue}}if(d===1){nl(e,0),qn(e,i,0,!0);break}e:{switch(r=e,h=d,h){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:qn(r,i,Ht,!On);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(d=Zr+300-Me(),10<d)){if(qn(r,i,Ht,!On),Po(r,0,!0)!==0)break e;r.timeoutHandle=wm(im.bind(null,r,o,Rt,Da,Yr,i,Ht,yi,ji,On,h,2,-0,0),d);break e}im(r,o,Rt,Da,Yr,i,Ht,yi,ji,On,h,0,-0,0)}}break}while(!0);nn(e)}function im(e,i,o,r,d,h,T,_,E,b,L,O,w,I){if(e.timeoutHandle=-1,O=i.subtreeFlags,(O&8192||(O&16785408)===16785408)&&(vo={stylesheets:null,count:0,unsuspend:Av},$d(i),O=Nv(),O!==null)){e.cancelPendingCommit=O(cm.bind(null,e,i,h,o,r,d,T,_,E,L,1,w,I)),qn(e,h,T,!b);return}cm(e,i,h,o,r,d,T,_,E)}function Fy(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var r=0;r<o.length;r++){var d=o[r],h=d.getSnapshot;d=d.value;try{if(!Dt(h(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qn(e,i,o,r){i&=~Fr,i&=~yi,e.suspendedLanes|=i,e.pingedLanes&=~i,r&&(e.warmLanes|=i),r=e.expirationTimes;for(var d=i;0<d;){var h=31-pt(d),T=1<<h;r[h]=-1,d&=~T}o!==0&&mc(e,o,i)}function ba(){return(ke&6)===0?(fo(0),!1):!0}function $r(){if(_e!==null){if(Ve===0)var e=_e.return;else e=_e,hn=fi=null,mr(e),Ji=null,to=0,e=_e;for(;e!==null;)Ld(e.alternate,e),e=e.return;_e=null}}function nl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,rv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),$r(),Fe=e,_e=o=fn(e.current,null),xe=i,Ve=0,It=null,On=!1,Wi=Nl(e,i),Hr=!1,ji=Ht=Fr=yi=zn=$e=0,Rt=uo=null,Yr=!1,(i&8)!==0&&(i|=i&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=i;0<r;){var d=31-pt(r),h=1<<d;i|=e[d],r&=~h}return Sn=i,Wo(),o}function lm(e,i){ve=null,V.H=ya,i===Zl||i===sa?(i=Cf(),Ve=3):i===vf?(i=Cf(),Ve=4):Ve=i===Sd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,It=i,_e===null&&($e=1,Sa(e,Ot(i,e.current)))}function om(){var e=V.H;return V.H=ya,e===null?ya:e}function am(){var e=V.A;return V.A=qy,e}function Qr(){$e=4,On||(xe&4194048)!==xe&&qt.current!==null||(Wi=!0),(zn&134217727)===0&&(yi&134217727)===0||Fe===null||qn(Fe,xe,Ht,!1)}function Wr(e,i,o){var r=ke;ke|=2;var d=om(),h=am();(Fe!==e||xe!==i)&&(Da=null,nl(e,i)),i=!1;var T=$e;e:do try{if(Ve!==0&&_e!==null){var _=_e,E=It;switch(Ve){case 8:$r(),T=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(i=!0);var b=Ve;if(Ve=0,It=null,il(e,_,E,b),o&&Wi){T=0;break e}break;default:b=Ve,Ve=0,It=null,il(e,_,E,b)}}Yy(),T=$e;break}catch(L){lm(e,L)}while(!0);return i&&e.shellSuspendCounter++,hn=fi=null,ke=r,V.H=d,V.A=h,_e===null&&(Fe=null,xe=0,Wo()),T}function Yy(){for(;_e!==null;)sm(_e)}function Zy(e,i){var o=ke;ke|=2;var r=om(),d=am();Fe!==e||xe!==i?(Da=null,Ra=Me()+500,nl(e,i)):Wi=Nl(e,i);e:do try{if(Ve!==0&&_e!==null){i=_e;var h=It;t:switch(Ve){case 1:Ve=0,It=null,il(e,i,h,1);break;case 2:case 9:if(Tf(h)){Ve=0,It=null,rm(i);break}i=function(){Ve!==2&&Ve!==9||Fe!==e||(Ve=7),nn(e)},h.then(i,i);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Tf(h)?(Ve=0,It=null,rm(i)):(Ve=0,It=null,il(e,i,h,7));break;case 5:var T=null;switch(_e.tag){case 26:T=_e.memoizedState;case 5:case 27:var _=_e;if(!T||Hm(T)){Ve=0,It=null;var E=_.sibling;if(E!==null)_e=E;else{var b=_.return;b!==null?(_e=b,wa(b)):_e=null}break t}}Ve=0,It=null,il(e,i,h,5);break;case 6:Ve=0,It=null,il(e,i,h,6);break;case 8:$r(),$e=6;break e;default:throw Error(l(462))}}Ky();break}catch(L){lm(e,L)}while(!0);return hn=fi=null,V.H=r,V.A=d,ke=o,_e!==null?0:(Fe=null,xe=0,Wo(),$e)}function Ky(){for(;_e!==null&&!J();)sm(_e)}function sm(e){var i=kd(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,i===null?wa(e):_e=i}function rm(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=Rd(o,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=Rd(o,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:mr(i);default:Ld(o,i),i=_e=uf(i,Sn),i=kd(o,i,Sn)}e.memoizedProps=e.pendingProps,i===null?wa(e):_e=i}function il(e,i,o,r){hn=fi=null,mr(i),Ji=null,to=0;var d=i.return;try{if(Ly(e,d,i,o,xe)){$e=1,Sa(e,Ot(o,e.current)),_e=null;return}}catch(h){if(d!==null)throw _e=d,h;$e=1,Sa(e,Ot(o,e.current)),_e=null;return}i.flags&32768?(Ue||r===1?e=!0:Wi||(xe&536870912)!==0?e=!1:(On=e=!0,(r===2||r===9||r===3||r===6)&&(r=qt.current,r!==null&&r.tag===13&&(r.flags|=16384))),um(i,e)):wa(i)}function wa(e){var i=e;do{if((i.flags&32768)!==0){um(i,On);return}e=i.return;var o=Oy(i.alternate,i,Sn);if(o!==null){_e=o;return}if(i=i.sibling,i!==null){_e=i;return}_e=i=e}while(i!==null);$e===0&&($e=5)}function um(e,i){do{var o=zy(e.alternate,e);if(o!==null){o.flags&=32767,_e=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){_e=e;return}_e=e=o}while(e!==null);$e=6,_e=null}function cm(e,i,o,r,d,h,T,_,E){e.cancelPendingCommit=null;do Ua();while(dt!==0);if((ke&6)!==0)throw Error(l(327));if(i!==null){if(i===e.current)throw Error(l(177));if(h=i.lanes|i.childLanes,h|=qs,Ag(e,o,h,T,_,E),e===Fe&&(_e=Fe=null,xe=0),el=i,Bn=e,tl=o,Kr=h,Jr=d,em=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Qy(lt,function(){return pm(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=V.T,V.T=null,d=H.p,H.p=2,T=ke,ke|=4;try{Py(e,i,o)}finally{ke=T,H.p=d,V.T=r}}dt=1,fm(),dm(),mm()}}function fm(){if(dt===1){dt=0;var e=Bn,i=el,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var r=H.p;H.p=2;var d=ke;ke|=4;try{Kd(i,e);var h=cu,T=Wc(e.containerInfo),_=h.focusedElem,E=h.selectionRange;if(T!==_&&_&&_.ownerDocument&&Qc(_.ownerDocument.documentElement,_)){if(E!==null&&Gs(_)){var b=E.start,L=E.end;if(L===void 0&&(L=b),"selectionStart"in _)_.selectionStart=b,_.selectionEnd=Math.min(L,_.value.length);else{var O=_.ownerDocument||document,w=O&&O.defaultView||window;if(w.getSelection){var I=w.getSelection(),re=_.textContent.length,ae=Math.min(E.start,re),ze=E.end===void 0?ae:Math.min(E.end,re);!I.extend&&ae>ze&&(T=ze,ze=ae,ae=T);var R=$c(_,ae),M=$c(_,ze);if(R&&M&&(I.rangeCount!==1||I.anchorNode!==R.node||I.anchorOffset!==R.offset||I.focusNode!==M.node||I.focusOffset!==M.offset)){var D=O.createRange();D.setStart(R.node,R.offset),I.removeAllRanges(),ae>ze?(I.addRange(D),I.extend(M.node,M.offset)):(D.setEnd(M.node,M.offset),I.addRange(D))}}}}for(O=[],I=_;I=I.parentNode;)I.nodeType===1&&O.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<O.length;_++){var G=O[_];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Fa=!!uu,cu=uu=null}finally{ke=d,H.p=r,V.T=o}}e.current=i,dt=2}}function dm(){if(dt===2){dt=0;var e=Bn,i=el,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var r=H.p;H.p=2;var d=ke;ke|=4;try{Hd(e,i.alternate,i)}finally{ke=d,H.p=r,V.T=o}}dt=3}}function mm(){if(dt===4||dt===3){dt=0,be();var e=Bn,i=el,o=tl,r=em;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dt=5:(dt=0,el=Bn=null,hm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Pn=null),gs(o),i=i.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(An,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=V.T,d=H.p,H.p=2,V.T=null;try{for(var h=e.onRecoverableError,T=0;T<r.length;T++){var _=r[T];h(_.value,{componentStack:_.stack})}}finally{V.T=i,H.p=d}}(tl&3)!==0&&Ua(),nn(e),d=e.pendingLanes,(o&4194090)!==0&&(d&42)!==0?e===Xr?co++:(co=0,Xr=e):co=0,fo(0)}}function hm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Fl(i)))}function Ua(e){return fm(),dm(),mm(),pm()}function pm(){if(dt!==5)return!1;var e=Bn,i=Kr;Kr=0;var o=gs(tl),r=V.T,d=H.p;try{H.p=32>o?32:o,V.T=null,o=Jr,Jr=null;var h=Bn,T=tl;if(dt=0,el=Bn=null,tl=0,(ke&6)!==0)throw Error(l(331));var _=ke;if(ke|=4,Wd(h.current),Xd(h,h.current,T,o),ke=_,fo(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(An,h)}catch{}return!0}finally{H.p=d,V.T=r,hm(e,i)}}function gm(e,i,o){i=Ot(o,i),i=Nr(e.stateNode,i,2),e=wn(e,i,2),e!==null&&(Rl(e,2),nn(e))}function qe(e,i,o){if(e.tag===3)gm(e,e,o);else for(;i!==null;){if(i.tag===3){gm(i,e,o);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){e=Ot(o,e),o=_d(2),r=wn(i,o,2),r!==null&&(Cd(o,r,i,e),Rl(r,2),nn(r));break}}i=i.return}}function jr(e,i,o){var r=e.pingCache;if(r===null){r=e.pingCache=new Hy;var d=new Set;r.set(i,d)}else d=r.get(i),d===void 0&&(d=new Set,r.set(i,d));d.has(o)||(Hr=!0,d.add(o),e=Jy.bind(null,e,i,o),i.then(e,e))}function Jy(e,i,o){var r=e.pingCache;r!==null&&r.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Fe===e&&(xe&o)===o&&($e===4||$e===3&&(xe&62914560)===xe&&300>Me()-Zr?(ke&2)===0&&nl(e,0):Fr|=o,ji===xe&&(ji=0)),nn(e)}function ym(e,i){i===0&&(i=dc()),e=Oi(e,i),e!==null&&(Rl(e,i),nn(e))}function Xy(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),ym(e,o)}function $y(e,i){var o=0;switch(e.tag){case 13:var r=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(i),ym(e,o)}function Qy(e,i){return xl(e,i)}var Ia=null,ll=null,eu=!1,ka=!1,tu=!1,vi=0;function nn(e){e!==ll&&e.next===null&&(ll===null?Ia=ll=e:ll=ll.next=e),ka=!0,eu||(eu=!0,jy())}function fo(e,i){if(!tu&&ka){tu=!0;do for(var o=!1,r=Ia;r!==null;){if(e!==0){var d=r.pendingLanes;if(d===0)var h=0;else{var T=r.suspendedLanes,_=r.pingedLanes;h=(1<<31-pt(42|e)+1)-1,h&=d&~(T&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,Cm(r,h))}else h=xe,h=Po(r,r===Fe?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||Nl(r,h)||(o=!0,Cm(r,h));r=r.next}while(o);tu=!1}}function Wy(){vm()}function vm(){ka=eu=!1;var e=0;vi!==0&&(sv()&&(e=vi),vi=0);for(var i=Me(),o=null,r=Ia;r!==null;){var d=r.next,h=Tm(r,i);h===0?(r.next=null,o===null?Ia=d:o.next=d,d===null&&(ll=o)):(o=r,(e!==0||(h&3)!==0)&&(ka=!0)),r=d}fo(e)}function Tm(e,i){for(var o=e.suspendedLanes,r=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var T=31-pt(h),_=1<<T,E=d[T];E===-1?((_&o)===0||(_&r)!==0)&&(d[T]=xg(_,i)):E<=i&&(e.expiredLanes|=_),h&=~_}if(i=Fe,o=xe,o=Po(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,o===0||e===i&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Al(r),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Nl(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(r!==null&&Al(r),gs(o)){case 2:case 8:o=Qe;break;case 32:o=lt;break;case 268435456:o=Ml;break;default:o=lt}return r=_m.bind(null,e),o=xl(o,r),e.callbackPriority=i,e.callbackNode=o,i}return r!==null&&r!==null&&Al(r),e.callbackPriority=2,e.callbackNode=null,2}function _m(e,i){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ua()&&e.callbackNode!==o)return null;var r=xe;return r=Po(e,e===Fe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(nm(e,r,i),Tm(e,Me()),e.callbackNode!=null&&e.callbackNode===o?_m.bind(null,e):null)}function Cm(e,i){if(Ua())return null;nm(e,i,!0)}function jy(){uv(function(){(ke&6)!==0?xl(Ne,Wy):vm()})}function nu(){return vi===0&&(vi=fc()),vi}function Sm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yo(""+e)}function Em(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function ev(e,i,o,r,d){if(i==="submit"&&o&&o.stateNode===d){var h=Sm((d[xt]||null).action),T=r.submitter;T&&(i=(i=T[xt]||null)?Sm(i.formAction):T.getAttribute("formAction"),i!==null&&(h=i,T=null));var _=new Xo("action","action",null,r,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(vi!==0){var E=T?Em(d,T):new FormData(d);Sr(o,{pending:!0,data:E,method:d.method,action:h},null,E)}}else typeof h=="function"&&(_.preventDefault(),E=T?Em(d,T):new FormData(d),Sr(o,{pending:!0,data:E,method:d.method,action:h},h,E))},currentTarget:d}]})}}for(var iu=0;iu<Bs.length;iu++){var lu=Bs[iu],tv=lu.toLowerCase(),nv=lu[0].toUpperCase()+lu.slice(1);Kt(tv,"on"+nv)}Kt(tf,"onAnimationEnd"),Kt(nf,"onAnimationIteration"),Kt(lf,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(Ty,"onTransitionRun"),Kt(_y,"onTransitionStart"),Kt(Cy,"onTransitionCancel"),Kt(of,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function xm(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var r=e[o],d=r.event;r=r.listeners;e:{var h=void 0;if(i)for(var T=r.length-1;0<=T;T--){var _=r[T],E=_.instance,b=_.currentTarget;if(_=_.listener,E!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=b;try{h(d)}catch(L){Ca(L)}d.currentTarget=null,h=E}else for(T=0;T<r.length;T++){if(_=r[T],E=_.instance,b=_.currentTarget,_=_.listener,E!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=b;try{h(d)}catch(L){Ca(L)}d.currentTarget=null,h=E}}}}function Ce(e,i){var o=i[ys];o===void 0&&(o=i[ys]=new Set);var r=e+"__bubble";o.has(r)||(Am(i,e,2,!1),o.add(r))}function ou(e,i,o){var r=0;i&&(r|=4),Am(o,e,r,i)}var Va="_reactListening"+Math.random().toString(36).slice(2);function au(e){if(!e[Va]){e[Va]=!0,yc.forEach(function(o){o!=="selectionchange"&&(iv.has(o)||ou(o,!1,e),ou(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Va]||(i[Va]=!0,ou("selectionchange",!1,i))}}function Am(e,i,o,r){switch(Xm(i)){case 2:var d=bv;break;case 8:d=wv;break;default:d=_u}o=d.bind(null,i,o,e),d=void 0,!Rs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),r?d!==void 0?e.addEventListener(i,o,{capture:!0,passive:d}):e.addEventListener(i,o,!0):d!==void 0?e.addEventListener(i,o,{passive:d}):e.addEventListener(i,o,!1)}function su(e,i,o,r,d){var h=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var _=r.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=r.return;T!==null;){var E=T.tag;if((E===3||E===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=Ai(_),T===null)return;if(E=T.tag,E===5||E===6||E===26||E===27){r=h=T;continue e}_=_.parentNode}}r=r.return}wc(function(){var b=h,L=Ms(o),O=[];e:{var w=af.get(e);if(w!==void 0){var I=Xo,re=e;switch(e){case"keypress":if(Ko(o)===0)break e;case"keydown":case"keyup":I=Qg;break;case"focusin":re="focus",I=Us;break;case"focusout":re="blur",I=Us;break;case"beforeblur":case"afterblur":I=Us;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=ey;break;case tf:case nf:case lf:I=qg;break;case of:I=ny;break;case"scroll":case"scrollend":I=Gg;break;case"wheel":I=ly;break;case"copy":case"cut":case"paste":I=Fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Lc;break;case"toggle":case"beforetoggle":I=ay}var ae=(i&4)!==0,ze=!ae&&(e==="scroll"||e==="scrollend"),R=ae?w!==null?w+"Capture":null:w;ae=[];for(var M=b,D;M!==null;){var G=M;if(D=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||D===null||R===null||(G=wl(M,R),G!=null&&ae.push(ho(M,G,D))),ze)break;M=M.return}0<ae.length&&(w=new I(w,re,null,o,L),O.push({event:w,listeners:ae}))}}if((i&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",w&&o!==As&&(re=o.relatedTarget||o.fromElement)&&(Ai(re)||re[xi]))break e;if((I||w)&&(w=L.window===L?L:(w=L.ownerDocument)?w.defaultView||w.parentWindow:window,I?(re=o.relatedTarget||o.toElement,I=b,re=re?Ai(re):null,re!==null&&(ze=c(re),ae=re.tag,re!==ze||ae!==5&&ae!==27&&ae!==6)&&(re=null)):(I=null,re=b),I!==re)){if(ae=kc,G="onMouseLeave",R="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Lc,G="onPointerLeave",R="onPointerEnter",M="pointer"),ze=I==null?w:bl(I),D=re==null?w:bl(re),w=new ae(G,M+"leave",I,o,L),w.target=ze,w.relatedTarget=D,G=null,Ai(L)===b&&(ae=new ae(R,M+"enter",re,o,L),ae.target=D,ae.relatedTarget=ze,G=ae),ze=G,I&&re)t:{for(ae=I,R=re,M=0,D=ae;D;D=ol(D))M++;for(D=0,G=R;G;G=ol(G))D++;for(;0<M-D;)ae=ol(ae),M--;for(;0<D-M;)R=ol(R),D--;for(;M--;){if(ae===R||R!==null&&ae===R.alternate)break t;ae=ol(ae),R=ol(R)}ae=null}else ae=null;I!==null&&Mm(O,w,I,ae,!1),re!==null&&ze!==null&&Mm(O,ze,re,ae,!0)}}e:{if(w=b?bl(b):window,I=w.nodeName&&w.nodeName.toLowerCase(),I==="select"||I==="input"&&w.type==="file")var X=Fc;else if(qc(w))if(Yc)X=gy;else{X=hy;var Te=my}else I=w.nodeName,!I||I.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?b&&xs(b.elementType)&&(X=Fc):X=py;if(X&&(X=X(e,b))){Hc(O,X,o,L);break e}Te&&Te(e,w,b),e==="focusout"&&b&&w.type==="number"&&b.memoizedProps.value!=null&&Es(w,"number",w.value)}switch(Te=b?bl(b):window,e){case"focusin":(qc(Te)||Te.contentEditable==="true")&&(Vi=Te,Os=b,zl=null);break;case"focusout":zl=Os=Vi=null;break;case"mousedown":zs=!0;break;case"contextmenu":case"mouseup":case"dragend":zs=!1,jc(O,o,L);break;case"selectionchange":if(vy)break;case"keydown":case"keyup":jc(O,o,L)}var ee;if(ks)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else ki?Pc(e,o)&&(se="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(Gc&&o.locale!=="ko"&&(ki||se!=="onCompositionStart"?se==="onCompositionEnd"&&ki&&(ee=Uc()):(Nn=L,Ds="value"in Nn?Nn.value:Nn.textContent,ki=!0)),Te=La(b,se),0<Te.length&&(se=new Vc(se,e,null,o,L),O.push({event:se,listeners:Te}),ee?se.data=ee:(ee=Bc(o),ee!==null&&(se.data=ee)))),(ee=ry?uy(e,o):cy(e,o))&&(se=La(b,"onBeforeInput"),0<se.length&&(Te=new Vc("onBeforeInput","beforeinput",null,o,L),O.push({event:Te,listeners:se}),Te.data=ee)),ev(O,e,b,o,L)}xm(O,i)})}function ho(e,i,o){return{instance:e,listener:i,currentTarget:o}}function La(e,i){for(var o=i+"Capture",r=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=wl(e,o),d!=null&&r.unshift(ho(e,d,h)),d=wl(e,i),d!=null&&r.push(ho(e,d,h))),e.tag===3)return r;e=e.return}return[]}function ol(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mm(e,i,o,r,d){for(var h=i._reactName,T=[];o!==null&&o!==r;){var _=o,E=_.alternate,b=_.stateNode;if(_=_.tag,E!==null&&E===r)break;_!==5&&_!==26&&_!==27||b===null||(E=b,d?(b=wl(o,h),b!=null&&T.unshift(ho(o,b,E))):d||(b=wl(o,h),b!=null&&T.push(ho(o,b,E)))),o=o.return}T.length!==0&&e.push({event:i,listeners:T})}var lv=/\r\n?/g,ov=/\u0000|\uFFFD/g;function Nm(e){return(typeof e=="string"?e:""+e).replace(lv,`
`).replace(ov,"")}function Rm(e,i){return i=Nm(i),Nm(e)===i}function Ga(){}function Oe(e,i,o,r,d,h){switch(o){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||wi(e,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&wi(e,""+r);break;case"className":qo(e,"class",r);break;case"tabIndex":qo(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":qo(e,o,r);break;case"style":Dc(e,r,h);break;case"data":if(i!=="object"){qo(e,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(o);break}r=Yo(""+r),e.setAttribute(o,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(i!=="input"&&Oe(e,i,"name",d.name,d,null),Oe(e,i,"formEncType",d.formEncType,d,null),Oe(e,i,"formMethod",d.formMethod,d,null),Oe(e,i,"formTarget",d.formTarget,d,null)):(Oe(e,i,"encType",d.encType,d,null),Oe(e,i,"method",d.method,d,null),Oe(e,i,"target",d.target,d,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(o);break}r=Yo(""+r),e.setAttribute(o,r);break;case"onClick":r!=null&&(e.onclick=Ga);break;case"onScroll":r!=null&&Ce("scroll",e);break;case"onScrollEnd":r!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(o=r.__html,o!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=o}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}o=Yo(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,""+r):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":r===!0?e.setAttribute(o,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,r):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(o,r):e.removeAttribute(o);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(o):e.setAttribute(o,r);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Bo(e,"popover",r);break;case"xlinkActuate":un(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":un(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":un(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":un(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":un(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":un(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":un(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":un(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":un(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Bo(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Vg.get(o)||o,Bo(e,o,r))}}function ru(e,i,o,r,d,h){switch(o){case"style":Dc(e,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(o=r.__html,o!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=o}}break;case"children":typeof r=="string"?wi(e,r):(typeof r=="number"||typeof r=="bigint")&&wi(e,""+r);break;case"onScroll":r!=null&&Ce("scroll",e);break;case"onScrollEnd":r!=null&&Ce("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),h=e[xt]||null,h=h!=null?h[o]:null,typeof h=="function"&&e.removeEventListener(i,h,d),typeof r=="function")){typeof h!="function"&&h!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,r,d);break e}o in e?e[o]=r:r===!0?e.setAttribute(o,""):Bo(e,o,r)}}}function mt(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var r=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var T=o[h];if(T!=null)switch(h){case"src":r=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Oe(e,i,h,T,o,null)}}d&&Oe(e,i,"srcSet",o.srcSet,o,null),r&&Oe(e,i,"src",o.src,o,null);return;case"input":Ce("invalid",e);var _=h=T=d=null,E=null,b=null;for(r in o)if(o.hasOwnProperty(r)){var L=o[r];if(L!=null)switch(r){case"name":d=L;break;case"type":T=L;break;case"checked":E=L;break;case"defaultChecked":b=L;break;case"value":h=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,i));break;default:Oe(e,i,r,L,o,null)}}Ac(e,h,_,E,b,T,d,!1),Ho(e);return;case"select":Ce("invalid",e),r=T=h=null;for(d in o)if(o.hasOwnProperty(d)&&(_=o[d],_!=null))switch(d){case"value":h=_;break;case"defaultValue":T=_;break;case"multiple":r=_;default:Oe(e,i,d,_,o,null)}i=h,o=T,e.multiple=!!r,i!=null?bi(e,!!r,i,!1):o!=null&&bi(e,!!r,o,!0);return;case"textarea":Ce("invalid",e),h=d=r=null;for(T in o)if(o.hasOwnProperty(T)&&(_=o[T],_!=null))switch(T){case"value":r=_;break;case"defaultValue":d=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Oe(e,i,T,_,o,null)}Nc(e,r,d,h),Ho(e);return;case"option":for(E in o)if(o.hasOwnProperty(E)&&(r=o[E],r!=null))switch(E){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Oe(e,i,E,r,o,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(r=0;r<mo.length;r++)Ce(mo[r],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in o)if(o.hasOwnProperty(b)&&(r=o[b],r!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Oe(e,i,b,r,o,null)}return;default:if(xs(i)){for(L in o)o.hasOwnProperty(L)&&(r=o[L],r!==void 0&&ru(e,i,L,r,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(r=o[_],r!=null&&Oe(e,i,_,r,o,null))}function av(e,i,o,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,T=null,_=null,E=null,b=null,L=null;for(I in o){var O=o[I];if(o.hasOwnProperty(I)&&O!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":E=O;default:r.hasOwnProperty(I)||Oe(e,i,I,null,r,O)}}for(var w in r){var I=r[w];if(O=o[w],r.hasOwnProperty(w)&&(I!=null||O!=null))switch(w){case"type":h=I;break;case"name":d=I;break;case"checked":b=I;break;case"defaultChecked":L=I;break;case"value":T=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,i));break;default:I!==O&&Oe(e,i,w,I,r,O)}}Ss(e,T,_,E,b,L,h,d);return;case"select":I=T=_=w=null;for(h in o)if(E=o[h],o.hasOwnProperty(h)&&E!=null)switch(h){case"value":break;case"multiple":I=E;default:r.hasOwnProperty(h)||Oe(e,i,h,null,r,E)}for(d in r)if(h=r[d],E=o[d],r.hasOwnProperty(d)&&(h!=null||E!=null))switch(d){case"value":w=h;break;case"defaultValue":_=h;break;case"multiple":T=h;default:h!==E&&Oe(e,i,d,h,r,E)}i=_,o=T,r=I,w!=null?bi(e,!!o,w,!1):!!r!=!!o&&(i!=null?bi(e,!!o,i,!0):bi(e,!!o,o?[]:"",!1));return;case"textarea":I=w=null;for(_ in o)if(d=o[_],o.hasOwnProperty(_)&&d!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(e,i,_,null,r,d)}for(T in r)if(d=r[T],h=o[T],r.hasOwnProperty(T)&&(d!=null||h!=null))switch(T){case"value":w=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==h&&Oe(e,i,T,d,r,h)}Mc(e,w,I);return;case"option":for(var re in o)if(w=o[re],o.hasOwnProperty(re)&&w!=null&&!r.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Oe(e,i,re,null,r,w)}for(E in r)if(w=r[E],I=o[E],r.hasOwnProperty(E)&&w!==I&&(w!=null||I!=null))switch(E){case"selected":e.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Oe(e,i,E,w,r,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in o)w=o[ae],o.hasOwnProperty(ae)&&w!=null&&!r.hasOwnProperty(ae)&&Oe(e,i,ae,null,r,w);for(b in r)if(w=r[b],I=o[b],r.hasOwnProperty(b)&&w!==I&&(w!=null||I!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(137,i));break;default:Oe(e,i,b,w,r,I)}return;default:if(xs(i)){for(var ze in o)w=o[ze],o.hasOwnProperty(ze)&&w!==void 0&&!r.hasOwnProperty(ze)&&ru(e,i,ze,void 0,r,w);for(L in r)w=r[L],I=o[L],!r.hasOwnProperty(L)||w===I||w===void 0&&I===void 0||ru(e,i,L,w,r,I);return}}for(var R in o)w=o[R],o.hasOwnProperty(R)&&w!=null&&!r.hasOwnProperty(R)&&Oe(e,i,R,null,r,w);for(O in r)w=r[O],I=o[O],!r.hasOwnProperty(O)||w===I||w==null&&I==null||Oe(e,i,O,w,r,I)}var uu=null,cu=null;function Oa(e){return e.nodeType===9?e:e.ownerDocument}function Dm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function fu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var du=null;function sv(){var e=window.event;return e&&e.type==="popstate"?e===du?!1:(du=e,!0):(du=null,!1)}var wm=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(e){return Um.resolve(null).then(e).catch(cv)}:wm;function cv(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function Im(e,i){var o=i,r=0,d=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(0<r&&8>r){o=r;var T=e.ownerDocument;if(o&1&&po(T.documentElement),o&2&&po(T.body),o&4)for(o=T.head,po(o),T=o.firstChild;T;){var _=T.nextSibling,E=T.nodeName;T[Dl]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=_}}if(d===0){e.removeChild(h),Eo(i);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:r=o.charCodeAt(0)-48;else r=0;o=h}while(o);Eo(i)}function mu(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mu(o),vs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function fv(e,i,o,r){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Dl])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function dv(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Xt(e.nextSibling),e===null))return null;return e}function hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function mv(e,i){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")i();else{var r=function(){i(),o.removeEventListener("DOMContentLoaded",r)};o.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Xt(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var pu=null;function km(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return e;i--}else o==="/$"&&i++}e=e.previousSibling}return null}function Vm(e,i,o){switch(i=Oa(o),e){case"html":if(e=i.documentElement,!e)throw Error(l(452));return e;case"head":if(e=i.head,!e)throw Error(l(453));return e;case"body":if(e=i.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function po(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);vs(e)}var Ft=new Map,Lm=new Set;function za(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=H.d;H.d={f:hv,r:pv,D:gv,C:yv,L:vv,m:Tv,X:Cv,S:_v,M:Sv};function hv(){var e=En.f(),i=ba();return e||i}function pv(e){var i=Mi(e);i!==null&&i.tag===5&&i.type==="form"?nd(i):En.r(e)}var al=typeof document>"u"?null:document;function Gm(e,i,o){var r=al;if(r&&typeof i=="string"&&i){var d=Gt(i);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Lm.has(d)||(Lm.add(d),e={rel:e,crossOrigin:o,href:i},r.querySelector(d)===null&&(i=r.createElement("link"),mt(i,"link",e),st(i),r.head.appendChild(i)))}}function gv(e){En.D(e),Gm("dns-prefetch",e,null)}function yv(e,i){En.C(e,i),Gm("preconnect",e,i)}function vv(e,i,o){En.L(e,i,o);var r=al;if(r&&e&&i){var d='link[rel="preload"][as="'+Gt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Gt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Gt(o.imageSizes)+'"]')):d+='[href="'+Gt(e)+'"]';var h=d;switch(i){case"style":h=sl(e);break;case"script":h=rl(e)}Ft.has(h)||(e=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),Ft.set(h,e),r.querySelector(d)!==null||i==="style"&&r.querySelector(go(h))||i==="script"&&r.querySelector(yo(h))||(i=r.createElement("link"),mt(i,"link",e),st(i),r.head.appendChild(i)))}}function Tv(e,i){En.m(e,i);var o=al;if(o&&e){var r=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Gt(r)+'"][href="'+Gt(e)+'"]',h=d;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=rl(e)}if(!Ft.has(h)&&(e=v({rel:"modulepreload",href:e},i),Ft.set(h,e),o.querySelector(d)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yo(h)))return}r=o.createElement("link"),mt(r,"link",e),st(r),o.head.appendChild(r)}}}function _v(e,i,o){En.S(e,i,o);var r=al;if(r&&e){var d=Ni(r).hoistableStyles,h=sl(e);i=i||"default";var T=d.get(h);if(!T){var _={loading:0,preload:null};if(T=r.querySelector(go(h)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},o),(o=Ft.get(h))&&gu(e,o);var E=T=r.createElement("link");st(E),mt(E,"link",e),E._p=new Promise(function(b,L){E.onload=b,E.onerror=L}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Pa(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(h,T)}}}function Cv(e,i){En.X(e,i);var o=al;if(o&&e){var r=Ni(o).hoistableScripts,d=rl(e),h=r.get(d);h||(h=o.querySelector(yo(d)),h||(e=v({src:e,async:!0},i),(i=Ft.get(d))&&yu(e,i),h=o.createElement("script"),st(h),mt(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(d,h))}}function Sv(e,i){En.M(e,i);var o=al;if(o&&e){var r=Ni(o).hoistableScripts,d=rl(e),h=r.get(d);h||(h=o.querySelector(yo(d)),h||(e=v({src:e,async:!0,type:"module"},i),(i=Ft.get(d))&&yu(e,i),h=o.createElement("script"),st(h),mt(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(d,h))}}function Om(e,i,o,r){var d=(d=ce.current)?za(d):null;if(!d)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=sl(o.href),o=Ni(d).hoistableStyles,r=o.get(i),r||(r={type:"style",instance:null,count:0,state:null},o.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=sl(o.href);var h=Ni(d).hoistableStyles,T=h.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,T),(h=d.querySelector(go(e)))&&!h._p&&(T.instance=h,T.state.loading=5),Ft.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ft.set(e,o),h||Ev(d,e,o,T.state))),i&&r===null)throw Error(l(528,""));return T}if(i&&r!==null)throw Error(l(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=rl(o),o=Ni(d).hoistableScripts,r=o.get(i),r||(r={type:"script",instance:null,count:0,state:null},o.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function sl(e){return'href="'+Gt(e)+'"'}function go(e){return'link[rel="stylesheet"]['+e+"]"}function zm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Ev(e,i,o,r){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=e.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),mt(i,"link",o),st(i),e.head.appendChild(i))}function rl(e){return'[src="'+Gt(e)+'"]'}function yo(e){return"script[async]"+e}function Pm(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var r=e.querySelector('style[data-href~="'+Gt(o.href)+'"]');if(r)return i.instance=r,st(r),r;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),st(r),mt(r,"style",d),Pa(r,o.precedence,e),i.instance=r;case"stylesheet":d=sl(o.href);var h=e.querySelector(go(d));if(h)return i.state.loading|=4,i.instance=h,st(h),h;r=zm(o),(d=Ft.get(d))&&gu(r,d),h=(e.ownerDocument||e).createElement("link"),st(h);var T=h;return T._p=new Promise(function(_,E){T.onload=_,T.onerror=E}),mt(h,"link",r),i.state.loading|=4,Pa(h,o.precedence,e),i.instance=h;case"script":return h=rl(o.src),(d=e.querySelector(yo(h)))?(i.instance=d,st(d),d):(r=o,(d=Ft.get(h))&&(r=v({},o),yu(r,d)),e=e.ownerDocument||e,d=e.createElement("script"),st(d),mt(d,"link",r),e.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,Pa(r,o.precedence,e));return i.instance}function Pa(e,i,o){for(var r=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=r.length?r[r.length-1]:null,h=d,T=0;T<r.length;T++){var _=r[T];if(_.dataset.precedence===i)h=_;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function gu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function yu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ba=null;function Bm(e,i,o){if(Ba===null){var r=new Map,d=Ba=new Map;d.set(o,r)}else d=Ba,r=d.get(o),r||(r=new Map,d.set(o,r));if(r.has(e))return r;for(r.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var h=o[d];if(!(h[Dl]||h[gt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(i)||"";T=e+T;var _=r.get(T);_?_.push(h):r.set(T,[h])}}return r}function qm(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function xv(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vo=null;function Av(){}function Mv(e,i,o){if(vo===null)throw Error(l(475));var r=vo;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=sl(o.href),h=e.querySelector(go(d));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=qa.bind(r),e.then(r,r)),i.state.loading|=4,i.instance=h,st(h);return}h=e.ownerDocument||e,o=zm(o),(d=Ft.get(d))&&gu(o,d),h=h.createElement("link"),st(h);var T=h;T._p=new Promise(function(_,E){T.onload=_,T.onerror=E}),mt(h,"link",o),i.instance=h}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=qa.bind(r),e.addEventListener("load",i),e.addEventListener("error",i))}}function Nv(){if(vo===null)throw Error(l(475));var e=vo;return e.stylesheets&&e.count===0&&vu(e,e.stylesheets),0<e.count?function(i){var o=setTimeout(function(){if(e.stylesheets&&vu(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o)}}:null}function qa(){if(this.count--,this.count===0){if(this.stylesheets)vu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ha=null;function vu(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ha=new Map,i.forEach(Rv,e),Ha=null,qa.call(e))}function Rv(e,i){if(!(i.state.loading&4)){var o=Ha.get(e);if(o)var r=o.get(null);else{o=new Map,Ha.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var T=d[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),r=T)}r&&o.set(null,r)}d=i.instance,T=d.getAttribute("data-precedence"),h=o.get(T)||r,h===r&&o.set(null,d),o.set(T,d),this.count++,r=qa.bind(this),d.addEventListener("load",r),d.addEventListener("error",r),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),i.state.loading|=4}}var To={$$typeof:Q,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Dv(e,i,o,r,d,h,T,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.hiddenUpdates=hs(null),this.identifierPrefix=r,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Fm(e,i,o,r,d,h,T,_,E,b,L,O){return e=new Dv(e,i,o,T,_,E,b,O),i=1,h===!0&&(i|=24),h=bt(3,null,null,i),e.current=h,h.stateNode=e,i=js(),i.refCount++,e.pooledCache=i,i.refCount++,h.memoizedState={element:r,isDehydrated:o,cache:i},ir(h),e}function Ym(e){return e?(e=zi,e):zi}function Zm(e,i,o,r,d,h){d=Ym(d),r.context===null?r.context=d:r.pendingContext=d,r=bn(i),r.payload={element:o},h=h===void 0?null:h,h!==null&&(r.callback=h),o=wn(e,r,i),o!==null&&(Vt(o,e,i),Jl(o,e,i))}function Km(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Tu(e,i){Km(e,i),(e=e.alternate)&&Km(e,i)}function Jm(e){if(e.tag===13){var i=Oi(e,67108864);i!==null&&Vt(i,e,67108864),Tu(e,67108864)}}var Fa=!0;function bv(e,i,o,r){var d=V.T;V.T=null;var h=H.p;try{H.p=2,_u(e,i,o,r)}finally{H.p=h,V.T=d}}function wv(e,i,o,r){var d=V.T;V.T=null;var h=H.p;try{H.p=8,_u(e,i,o,r)}finally{H.p=h,V.T=d}}function _u(e,i,o,r){if(Fa){var d=Cu(r);if(d===null)su(e,i,r,Ya,o),$m(e,r);else if(Iv(d,e,i,o,r))r.stopPropagation();else if($m(e,r),i&4&&-1<Uv.indexOf(e)){for(;d!==null;){var h=Mi(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=ti(h.pendingLanes);if(T!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var E=1<<31-pt(T);_.entanglements[1]|=E,T&=~E}nn(h),(ke&6)===0&&(Ra=Me()+500,fo(0))}}break;case 13:_=Oi(h,2),_!==null&&Vt(_,h,2),ba(),Tu(h,2)}if(h=Cu(r),h===null&&su(e,i,r,Ya,o),h===d)break;d=h}d!==null&&r.stopPropagation()}else su(e,i,r,null,o)}}function Cu(e){return e=Ms(e),Su(e)}var Ya=null;function Su(e){if(Ya=null,e=Ai(e),e!==null){var i=c(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=m(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ya=e,null}function Xm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case Ne:return 2;case Qe:return 8;case lt:case Ei:return 32;case Ml:return 268435456;default:return 32}default:return 32}}var Eu=!1,Fn=null,Yn=null,Zn=null,_o=new Map,Co=new Map,Kn=[],Uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $m(e,i){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":_o.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(i.pointerId)}}function So(e,i,o,r,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:i,domEventName:o,eventSystemFlags:r,nativeEvent:h,targetContainers:[d]},i!==null&&(i=Mi(i),i!==null&&Jm(i)),e):(e.eventSystemFlags|=r,i=e.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),e)}function Iv(e,i,o,r,d){switch(i){case"focusin":return Fn=So(Fn,e,i,o,r,d),!0;case"dragenter":return Yn=So(Yn,e,i,o,r,d),!0;case"mouseover":return Zn=So(Zn,e,i,o,r,d),!0;case"pointerover":var h=d.pointerId;return _o.set(h,So(_o.get(h)||null,e,i,o,r,d)),!0;case"gotpointercapture":return h=d.pointerId,Co.set(h,So(Co.get(h)||null,e,i,o,r,d)),!0}return!1}function Qm(e){var i=Ai(e.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=m(o),i!==null){e.blockedOn=i,Mg(e.priority,function(){if(o.tag===13){var r=kt();r=ps(r);var d=Oi(o,r);d!==null&&Vt(d,o,r),Tu(o,r)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Za(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Cu(e.nativeEvent);if(o===null){o=e.nativeEvent;var r=new o.constructor(o.type,o);As=r,o.target.dispatchEvent(r),As=null}else return i=Mi(o),i!==null&&Jm(i),e.blockedOn=o,!1;i.shift()}return!0}function Wm(e,i,o){Za(e)&&o.delete(i)}function kv(){Eu=!1,Fn!==null&&Za(Fn)&&(Fn=null),Yn!==null&&Za(Yn)&&(Yn=null),Zn!==null&&Za(Zn)&&(Zn=null),_o.forEach(Wm),Co.forEach(Wm)}function Ka(e,i){e.blockedOn===i&&(e.blockedOn=null,Eu||(Eu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kv)))}var Ja=null;function jm(e){Ja!==e&&(Ja=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ja===e&&(Ja=null);for(var i=0;i<e.length;i+=3){var o=e[i],r=e[i+1],d=e[i+2];if(typeof r!="function"){if(Su(r||o)===null)continue;break}var h=Mi(o);h!==null&&(e.splice(i,3),i-=3,Sr(h,{pending:!0,data:d,method:o.method,action:r},r,d))}}))}function Eo(e){function i(E){return Ka(E,e)}Fn!==null&&Ka(Fn,e),Yn!==null&&Ka(Yn,e),Zn!==null&&Ka(Zn,e),_o.forEach(i),Co.forEach(i);for(var o=0;o<Kn.length;o++){var r=Kn[o];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Kn.length&&(o=Kn[0],o.blockedOn===null);)Qm(o),o.blockedOn===null&&Kn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(r=0;r<o.length;r+=3){var d=o[r],h=o[r+1],T=d[xt]||null;if(typeof h=="function")T||jm(o);else if(T){var _=null;if(h&&h.hasAttribute("formAction")){if(d=h,T=h[xt]||null)_=T.formAction;else if(Su(d)!==null)continue}else _=T.action;typeof _=="function"?o[r+1]=_:(o.splice(r,3),r-=3),jm(o)}}}function xu(e){this._internalRoot=e}Xa.prototype.render=xu.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(l(409));var o=i.current,r=kt();Zm(o,r,e,i,null,null)},Xa.prototype.unmount=xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Zm(e.current,2,null,e,null,null),ba(),i[xi]=null}};function Xa(e){this._internalRoot=e}Xa.prototype.unstable_scheduleHydration=function(e){if(e){var i=pc();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Kn.length&&i!==0&&i<Kn[o].priority;o++);Kn.splice(o,0,e),o===0&&Qm(e)}};var eh=t.version;if(eh!=="19.1.0")throw Error(l(527,eh,"19.1.0"));H.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(i),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Vv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{An=$a.inject(Vv),ht=$a}catch{}}return Ao.createRoot=function(e,i){if(!s(e))throw Error(l(299));var o=!1,r="",d=gd,h=yd,T=vd,_=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(_=i.unstable_transitionCallbacks)),i=Fm(e,1,!1,null,null,o,r,d,h,T,_,null),e[xi]=i.current,au(e),new xu(i)},Ao.hydrateRoot=function(e,i,o){if(!s(e))throw Error(l(299));var r=!1,d="",h=gd,T=yd,_=vd,E=null,b=null;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(E=o.unstable_transitionCallbacks),o.formState!==void 0&&(b=o.formState)),i=Fm(e,1,!0,i,o??null,r,d,h,T,_,E,b),i.context=Ym(null),o=i.current,r=kt(),r=ps(r),d=bn(r),d.callback=null,wn(o,d,r),o=r,i.current.lanes=o,Rl(i,o),nn(i),e[xi]=i.current,au(e),new Xa(i)},Ao.version="19.1.0",Ao}var ch;function Zv(){if(ch)return Nu.exports;ch=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Nu.exports=Yv(),Nu.exports}var Kv=Zv();const Jv=Fp(Kv),tc="https://hutaufvine.pythonanywhere.com/data_operations",nc="reviewHelperApiToken_v2",ic="reviewHelperGeminiApiKey_v2",Yp="reviewHelperGeminiData_v2",Zp="gemini-2.5-flash-preview-04-17",wu=25,Xv=()=>localStorage.getItem(nc),$v=a=>{localStorage.setItem(nc,a)},fh=()=>{localStorage.removeItem(nc)},Qv=()=>localStorage.getItem(ic),Wv=a=>{localStorage.setItem(ic,a)},dh=()=>{localStorage.removeItem(ic)},ku=()=>{const a=localStorage.getItem(Yp);if(a)try{return JSON.parse(a)}catch(t){return console.error("Failed to parse Gemini data from localStorage:",t),{}}return{}},Mo=(a,t)=>{const n=ku();n[a]=t,localStorage.setItem(Yp,JSON.stringify(n))},mh=(a,t,n)=>{const l="01/01/1970";if(!a)return console.warn(`[${n}] Missing ${t}. Defaulting to ${l}. Input: ${a}`),l;if(/^\d{2}\/\d{2}\/\d{4}$/.test(a)){const s=a.split("/"),c=parseInt(s[0],10),m=parseInt(s[1],10)-1,g=parseInt(s[2],10),y=new Date(g,m,c);return y.getFullYear()===g&&y.getMonth()===m&&y.getDate()===c?a:(console.warn(`[${n}] Invalid DD/MM/YYYY date for ${t}: "${a}". Defaulting to ${l}.`),l)}try{const s=new Date(a);if(isNaN(s.getTime())){if(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/.test(a)){const y=a.split("."),p=parseInt(y[0],10),v=parseInt(y[1],10)-1,C=parseInt(y[2],10),S=new Date(C,v,p);if(!isNaN(S.getTime())&&S.getFullYear()===C&&S.getMonth()===v&&S.getDate()===p){const x=String(S.getDate()).padStart(2,"0"),U=String(S.getMonth()+1).padStart(2,"0"),k=S.getFullYear();return`${x}/${U}/${k}`}}throw new Error("Invalid date object from string")}const c=String(s.getDate()).padStart(2,"0"),m=String(s.getMonth()+1).padStart(2,"0"),g=s.getFullYear();return`${c}/${m}/${g}`}catch(s){return console.warn(`[${n}] Invalid date format for ${t}: "${a}". Expected DD/MM/YYYY or parsable ISO. Defaulting to ${l}. Error: ${s.message}`),l}},hh=a=>{const t=a.split("/");if(t.length===3){const n=parseInt(t[0],10),l=parseInt(t[1],10)-1,s=parseInt(t[2],10);return new Date(s,l,n)}return new Date(a)};async function jv(a,t,n,l){if(!t)return{status:"error",message:"API token is not set."};if(!a||typeof a!="string"||!a.startsWith("http"))return{status:"error",message:`Invalid API Base URL: ${a}`};try{const s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,request:n,payload:l}),mode:"cors"});if(!s.ok){let c;try{c=await s.json()}catch{return{status:"error",message:`API Error: ${s.status} ${s.statusText}. Response body was not valid JSON.`}}return{status:"error",message:(c==null?void 0:c.message)||`API Error: ${s.status} ${s.statusText}`}}return await s.json()}catch(s){console.error(`API call ${n} failed:`,s);let c="An unknown network error occurred.";return s instanceof TypeError&&s.message.toLowerCase().includes("failed to fetch")?c=`Failed to fetch data from the API. This could be due to:
1. Network connectivity issues.
2. Server-side CORS misconfiguration (ensure OPTIONS preflight requests are handled for POST with Content-Type: application/json).
3. "Outgoing CORS rules" or network restrictions in the frontend's hosting environment. Check platform settings for domain whitelisting or proxy configuration.
Original error: ${s.message}`:s instanceof Error&&(c=`Network error or invalid response: ${s.message}`),{status:"error",message:c}}}const e0=a=>{try{const t=JSON.parse(a.value),n=mh(t.date,"order date from API",a.ASIN),l={ASIN:a.ASIN,name:t.name||"N/A",ordernumber:t.ordernumber||"N/A",date:n,etv:typeof t.etv=="number"?t.etv:0,keepa:typeof t.keepa=="number"?t.keepa:null,teilwert:typeof t.teilwert=="number"?t.teilwert:null,pdf:t.pdf||void 0,myTeilwert:typeof t.myTeilwert=="number"?t.myTeilwert:null,myTeilwertReason:t.myTeilwertReason||"",usageStatus:Array.isArray(t.usageStatus)?t.usageStatus.map(s=>s):[],salePrice:typeof t.salePrice=="number"?t.salePrice:null,saleDate:t.saleDate||void 0,buyerAddress:t.buyerAddress||void 0,privatentnahmeDate:t.privatentnahmeDate||void 0,last_update_time:typeof a.last_update_time=="number"?a.last_update_time:Math.floor(Date.now()/1e3),festgeschrieben:t.festgeschrieben===1?1:void 0,rechnungsNummer:t.rechnungsNummer||void 0};return l.saleDate&&!/^\d{2}\.\d{2}\.\d{4}$/.test(l.saleDate)&&console.warn(`Product ${l.ASIN} has invalid sale date format: "${l.saleDate}". Expected TT.MM.JJJJ.`),l.privatentnahmeDate&&!/^\d{2}\.\d{2}\.\d{4}$/.test(l.privatentnahmeDate)&&console.warn(`Product ${l.ASIN} has invalid privatentnahme date format: "${l.privatentnahmeDate}". Expected TT.MM.JJJJ.`),l}catch(t){return console.error(`Failed to parse product value for ASIN ${a.ASIN}:`,t.message,`Value: "${a.value}"`),{ASIN:a.ASIN,name:"Error: Corrupted Data",ordernumber:"N/A",date:mh(void 0,"corrupted data fallback",a.ASIN),etv:0,teilwert:null,usageStatus:[],last_update_time:a.last_update_time||Math.floor(Date.now()/1e3)}}},t0=async(a,t=tc)=>{const n=await jv(t,a,"get_all");if(n.status==="success"&&n.data)try{return Array.isArray(n.data)?{status:"success",data:n.data.map(s=>!s||typeof s.ASIN!="string"||typeof s.value!="string"?(console.warn("Skipping invalid API entry:",s),null):e0(s)).filter(s=>s!==null)}:(console.error("API get_all did not return an array in 'data' field:",n.data),{status:"error",message:"Invalid data structure received from server (expected array)."})}catch(l){return console.error("Error parsing product data from server:",l),{status:"error",message:l.message||"Failed to parse one or more product data entries from server."}}return n};var De;(function(a){a.assertEqual=s=>{};function t(s){}a.assertIs=t;function n(s){throw new Error}a.assertNever=n,a.arrayToEnum=s=>{const c={};for(const m of s)c[m]=m;return c},a.getValidEnumValues=s=>{const c=a.objectKeys(s).filter(g=>typeof s[s[g]]!="number"),m={};for(const g of c)m[g]=s[g];return a.objectValues(m)},a.objectValues=s=>a.objectKeys(s).map(function(c){return s[c]}),a.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const c=[];for(const m in s)Object.prototype.hasOwnProperty.call(s,m)&&c.push(m);return c},a.find=(s,c)=>{for(const m of s)if(c(m))return m},a.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function l(s,c=" | "){return s.map(m=>typeof m=="string"?`'${m}'`:m).join(c)}a.joinValues=l,a.jsonStringifyReplacer=(s,c)=>typeof c=="bigint"?c.toString():c})(De||(De={}));var ph;(function(a){a.mergeShapes=(t,n)=>({...t,...n})})(ph||(ph={}));const $=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xn=a=>{switch(typeof a){case"undefined":return $.undefined;case"string":return $.string;case"number":return Number.isNaN(a)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(a)?$.array:a===null?$.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?$.promise:typeof Map<"u"&&a instanceof Map?$.map:typeof Set<"u"&&a instanceof Set?$.set:typeof Date<"u"&&a instanceof Date?$.date:$.object;default:return $.unknown}},B=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=l=>{this.issues=[...this.issues,l]},this.addIssues=(l=[])=>{this.issues=[...this.issues,...l]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(c){return c.message},l={_errors:[]},s=c=>{for(const m of c.issues)if(m.code==="invalid_union")m.unionErrors.map(s);else if(m.code==="invalid_return_type")s(m.returnTypeError);else if(m.code==="invalid_arguments")s(m.argumentsError);else if(m.path.length===0)l._errors.push(n(m));else{let g=l,y=0;for(;y<m.path.length;){const p=m.path[y];y===m.path.length-1?(g[p]=g[p]||{_errors:[]},g[p]._errors.push(n(m))):g[p]=g[p]||{_errors:[]},g=g[p],y++}}};return s(this),l}static assert(t){if(!(t instanceof xn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},l=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):l.push(t(s));return{formErrors:l,fieldErrors:n}}get formErrors(){return this.flatten()}}xn.create=a=>new xn(a);const Vu=(a,t)=>{let n;switch(a.code){case B.invalid_type:a.received===$.undefined?n="Required":n=`Expected ${a.expected}, received ${a.received}`;break;case B.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(a.expected,De.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:n=`Unrecognized key(s) in object: ${De.joinValues(a.keys,", ")}`;break;case B.invalid_union:n="Invalid input";break;case B.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${De.joinValues(a.options)}`;break;case B.invalid_enum_value:n=`Invalid enum value. Expected ${De.joinValues(a.options)}, received '${a.received}'`;break;case B.invalid_arguments:n="Invalid function arguments";break;case B.invalid_return_type:n="Invalid function return type";break;case B.invalid_date:n="Invalid date";break;case B.invalid_string:typeof a.validation=="object"?"includes"in a.validation?(n=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?n=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?n=`Invalid input: must end with "${a.validation.endsWith}"`:De.assertNever(a.validation):a.validation!=="regex"?n=`Invalid ${a.validation}`:n="Invalid";break;case B.too_small:a.type==="array"?n=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?n=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?n=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?n=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:n="Invalid input";break;case B.too_big:a.type==="array"?n=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?n=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?n=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?n=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?n=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:n="Invalid input";break;case B.custom:n="Invalid input";break;case B.invalid_intersection_types:n="Intersection results could not be merged";break;case B.not_multiple_of:n=`Number must be a multiple of ${a.multipleOf}`;break;case B.not_finite:n="Number must be finite";break;default:n=t.defaultError,De.assertNever(a)}return{message:n}};let n0=Vu;function i0(){return n0}const l0=a=>{const{data:t,path:n,errorMaps:l,issueData:s}=a,c=[...n,...s.path||[]],m={...s,path:c};if(s.message!==void 0)return{...s,path:c,message:s.message};let g="";const y=l.filter(p=>!!p).slice().reverse();for(const p of y)g=p(m,{data:t,defaultError:g}).message;return{...s,path:c,message:g}};function Y(a,t){const n=i0(),l=l0({issueData:t,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,n,n===Vu?void 0:Vu].filter(s=>!!s)});a.common.issues.push(l)}class St{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const l=[];for(const s of n){if(s.status==="aborted")return de;s.status==="dirty"&&t.dirty(),l.push(s.value)}return{status:t.value,value:l}}static async mergeObjectAsync(t,n){const l=[];for(const s of n){const c=await s.key,m=await s.value;l.push({key:c,value:m})}return St.mergeObjectSync(t,l)}static mergeObjectSync(t,n){const l={};for(const s of n){const{key:c,value:m}=s;if(c.status==="aborted"||m.status==="aborted")return de;c.status==="dirty"&&t.dirty(),m.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof m.value<"u"||s.alwaysSet)&&(l[c.value]=m.value)}return{status:t.value,value:l}}}const de=Object.freeze({status:"aborted"}),Ro=a=>({status:"dirty",value:a}),Yt=a=>({status:"valid",value:a}),gh=a=>a.status==="aborted",yh=a=>a.status==="dirty",hl=a=>a.status==="valid",ns=a=>typeof Promise<"u"&&a instanceof Promise;var j;(function(a){a.errToObj=t=>typeof t=="string"?{message:t}:t||{},a.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(j||(j={}));class sn{constructor(t,n,l,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=l,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vh=(a,t)=>{if(hl(t))return{success:!0,data:t.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new xn(a.common.issues);return this._error=n,this._error}}};function ye(a){if(!a)return{};const{errorMap:t,invalid_type_error:n,required_error:l,description:s}=a;if(t&&(n||l))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(m,g)=>{const{message:y}=a;return m.code==="invalid_enum_value"?{message:y??g.defaultError}:typeof g.data>"u"?{message:y??l??g.defaultError}:m.code!=="invalid_type"?{message:g.defaultError}:{message:y??n??g.defaultError}},description:s}}class Se{get description(){return this._def.description}_getType(t){return Xn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Xn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new St,ctx:{common:t.parent.common,data:t.data,parsedType:Xn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(ns(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const l=this.safeParse(t,n);if(l.success)return l.data;throw l.error}safeParse(t,n){const l={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xn(t)},s=this._parseSync({data:t,path:l.path,parent:l});return vh(l,s)}"~validate"(t){var l,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xn(t)};if(!this["~standard"].async)try{const c=this._parseSync({data:t,path:[],parent:n});return hl(c)?{value:c.value}:{issues:n.common.issues}}catch(c){(s=(l=c==null?void 0:c.message)==null?void 0:l.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(c=>hl(c)?{value:c.value}:{issues:n.common.issues})}async parseAsync(t,n){const l=await this.safeParseAsync(t,n);if(l.success)return l.data;throw l.error}async safeParseAsync(t,n){const l={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xn(t)},s=this._parse({data:t,path:l.path,parent:l}),c=await(ns(s)?s:Promise.resolve(s));return vh(l,c)}refine(t,n){const l=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,c)=>{const m=t(s),g=()=>c.addIssue({code:B.custom,...l(s)});return typeof Promise<"u"&&m instanceof Promise?m.then(y=>y?!0:(g(),!1)):m?!0:(g(),!1)})}refinement(t,n){return this._refinement((l,s)=>t(l)?!0:(s.addIssue(typeof n=="function"?n(l,s):n),!1))}_refinement(t){return new yl({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return $n.create(this,this._def)}nullable(){return vl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return an.create(this)}promise(){return ss.create(this,this._def)}or(t){return ls.create([this,t],this._def)}and(t){return os.create(this,t,this._def)}transform(t){return new yl({...ye(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new zu({...ye(this._def),innerType:this,defaultValue:n,typeName:fe.ZodDefault})}brand(){return new N0({typeName:fe.ZodBranded,type:this,...ye(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Pu({...ye(this._def),innerType:this,catchValue:n,typeName:fe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return lc.create(this,t)}readonly(){return Bu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const o0=/^c[^\s-]{8,}$/i,a0=/^[0-9a-z]+$/,s0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,r0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,u0=/^[a-z0-9_-]{21}$/i,c0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,f0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,d0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,m0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Uu;const h0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,g0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,y0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,v0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,T0=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Kp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_0=new RegExp(`^${Kp}$`);function Jp(a){let t="[0-5]\\d";a.precision?t=`${t}\\.\\d{${a.precision}}`:a.precision==null&&(t=`${t}(\\.\\d+)?`);const n=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function C0(a){return new RegExp(`^${Jp(a)}$`)}function S0(a){let t=`${Kp}T${Jp(a)}`;const n=[];return n.push(a.local?"Z?":"Z"),a.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function E0(a,t){return!!((t==="v4"||!t)&&h0.test(a)||(t==="v6"||!t)&&g0.test(a))}function x0(a,t){if(!c0.test(a))return!1;try{const[n]=a.split("."),l=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(l));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function A0(a,t){return!!((t==="v4"||!t)&&p0.test(a)||(t==="v6"||!t)&&y0.test(a))}class ln extends Se{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$.string){const c=this._getOrReturnCtx(t);return Y(c,{code:B.invalid_type,expected:$.string,received:c.parsedType}),de}const l=new St;let s;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(s=this._getOrReturnCtx(t,s),Y(s,{code:B.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if(c.kind==="max")t.data.length>c.value&&(s=this._getOrReturnCtx(t,s),Y(s,{code:B.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if(c.kind==="length"){const m=t.data.length>c.value,g=t.data.length<c.value;(m||g)&&(s=this._getOrReturnCtx(t,s),m?Y(s,{code:B.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):g&&Y(s,{code:B.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),l.dirty())}else if(c.kind==="email")d0.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"email",code:B.invalid_string,message:c.message}),l.dirty());else if(c.kind==="emoji")Uu||(Uu=new RegExp(m0,"u")),Uu.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"emoji",code:B.invalid_string,message:c.message}),l.dirty());else if(c.kind==="uuid")r0.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"uuid",code:B.invalid_string,message:c.message}),l.dirty());else if(c.kind==="nanoid")u0.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"nanoid",code:B.invalid_string,message:c.message}),l.dirty());else if(c.kind==="cuid")o0.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"cuid",code:B.invalid_string,message:c.message}),l.dirty());else if(c.kind==="cuid2")a0.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"cuid2",code:B.invalid_string,message:c.message}),l.dirty());else if(c.kind==="ulid")s0.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"ulid",code:B.invalid_string,message:c.message}),l.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Y(s,{validation:"url",code:B.invalid_string,message:c.message}),l.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"regex",code:B.invalid_string,message:c.message}),l.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(s=this._getOrReturnCtx(t,s),Y(s,{code:B.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),l.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(s=this._getOrReturnCtx(t,s),Y(s,{code:B.invalid_string,validation:{startsWith:c.value},message:c.message}),l.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(s=this._getOrReturnCtx(t,s),Y(s,{code:B.invalid_string,validation:{endsWith:c.value},message:c.message}),l.dirty()):c.kind==="datetime"?S0(c).test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{code:B.invalid_string,validation:"datetime",message:c.message}),l.dirty()):c.kind==="date"?_0.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{code:B.invalid_string,validation:"date",message:c.message}),l.dirty()):c.kind==="time"?C0(c).test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{code:B.invalid_string,validation:"time",message:c.message}),l.dirty()):c.kind==="duration"?f0.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"duration",code:B.invalid_string,message:c.message}),l.dirty()):c.kind==="ip"?E0(t.data,c.version)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"ip",code:B.invalid_string,message:c.message}),l.dirty()):c.kind==="jwt"?x0(t.data,c.alg)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"jwt",code:B.invalid_string,message:c.message}),l.dirty()):c.kind==="cidr"?A0(t.data,c.version)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"cidr",code:B.invalid_string,message:c.message}),l.dirty()):c.kind==="base64"?v0.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"base64",code:B.invalid_string,message:c.message}),l.dirty()):c.kind==="base64url"?T0.test(t.data)||(s=this._getOrReturnCtx(t,s),Y(s,{validation:"base64url",code:B.invalid_string,message:c.message}),l.dirty()):De.assertNever(c);return{status:l.value,value:t.data}}_regex(t,n,l){return this.refinement(s=>t.test(s),{validation:n,code:B.invalid_string,...j.errToObj(l)})}_addCheck(t){return new ln({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...j.errToObj(t)})}url(t){return this._addCheck({kind:"url",...j.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...j.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...j.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...j.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...j.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...j.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...j.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...j.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...j.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...j.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...j.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...j.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...j.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...j.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...j.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...j.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...j.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...j.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...j.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...j.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...j.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...j.errToObj(n)})}nonempty(t){return this.min(1,j.errToObj(t))}trim(){return new ln({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ln({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ln({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ln.create=a=>new ln({checks:[],typeName:fe.ZodString,coerce:(a==null?void 0:a.coerce)??!1,...ye(a)});function M0(a,t){const n=(a.toString().split(".")[1]||"").length,l=(t.toString().split(".")[1]||"").length,s=n>l?n:l,c=Number.parseInt(a.toFixed(s).replace(".","")),m=Number.parseInt(t.toFixed(s).replace(".",""));return c%m/10**s}class _i extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$.number){const c=this._getOrReturnCtx(t);return Y(c,{code:B.invalid_type,expected:$.number,received:c.parsedType}),de}let l;const s=new St;for(const c of this._def.checks)c.kind==="int"?De.isInteger(t.data)||(l=this._getOrReturnCtx(t,l),Y(l,{code:B.invalid_type,expected:"integer",received:"float",message:c.message}),s.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(l=this._getOrReturnCtx(t,l),Y(l,{code:B.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),s.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(l=this._getOrReturnCtx(t,l),Y(l,{code:B.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),s.dirty()):c.kind==="multipleOf"?M0(t.data,c.value)!==0&&(l=this._getOrReturnCtx(t,l),Y(l,{code:B.not_multiple_of,multipleOf:c.value,message:c.message}),s.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(l=this._getOrReturnCtx(t,l),Y(l,{code:B.not_finite,message:c.message}),s.dirty()):De.assertNever(c);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,j.toString(n))}gt(t,n){return this.setLimit("min",t,!1,j.toString(n))}lte(t,n){return this.setLimit("max",t,!0,j.toString(n))}lt(t,n){return this.setLimit("max",t,!1,j.toString(n))}setLimit(t,n,l,s){return new _i({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:l,message:j.toString(s)}]})}_addCheck(t){return new _i({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:j.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:j.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:j.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:j.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:j.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:j.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:j.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:j.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:j.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&De.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const l of this._def.checks){if(l.kind==="finite"||l.kind==="int"||l.kind==="multipleOf")return!0;l.kind==="min"?(n===null||l.value>n)&&(n=l.value):l.kind==="max"&&(t===null||l.value<t)&&(t=l.value)}return Number.isFinite(n)&&Number.isFinite(t)}}_i.create=a=>new _i({checks:[],typeName:fe.ZodNumber,coerce:(a==null?void 0:a.coerce)||!1,...ye(a)});class Ci extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==$.bigint)return this._getInvalidInput(t);let l;const s=new St;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(l=this._getOrReturnCtx(t,l),Y(l,{code:B.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),s.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(l=this._getOrReturnCtx(t,l),Y(l,{code:B.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),s.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(l=this._getOrReturnCtx(t,l),Y(l,{code:B.not_multiple_of,multipleOf:c.value,message:c.message}),s.dirty()):De.assertNever(c);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Y(n,{code:B.invalid_type,expected:$.bigint,received:n.parsedType}),de}gte(t,n){return this.setLimit("min",t,!0,j.toString(n))}gt(t,n){return this.setLimit("min",t,!1,j.toString(n))}lte(t,n){return this.setLimit("max",t,!0,j.toString(n))}lt(t,n){return this.setLimit("max",t,!1,j.toString(n))}setLimit(t,n,l,s){return new Ci({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:l,message:j.toString(s)}]})}_addCheck(t){return new Ci({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:j.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:j.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:j.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:j.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:j.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ci.create=a=>new Ci({checks:[],typeName:fe.ZodBigInt,coerce:(a==null?void 0:a.coerce)??!1,...ye(a)});class is extends Se{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$.boolean){const l=this._getOrReturnCtx(t);return Y(l,{code:B.invalid_type,expected:$.boolean,received:l.parsedType}),de}return Yt(t.data)}}is.create=a=>new is({typeName:fe.ZodBoolean,coerce:(a==null?void 0:a.coerce)||!1,...ye(a)});class pl extends Se{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$.date){const c=this._getOrReturnCtx(t);return Y(c,{code:B.invalid_type,expected:$.date,received:c.parsedType}),de}if(Number.isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return Y(c,{code:B.invalid_date}),de}const l=new St;let s;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(s=this._getOrReturnCtx(t,s),Y(s,{code:B.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),l.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(s=this._getOrReturnCtx(t,s),Y(s,{code:B.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),l.dirty()):De.assertNever(c);return{status:l.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:j.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:j.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}pl.create=a=>new pl({checks:[],coerce:(a==null?void 0:a.coerce)||!1,typeName:fe.ZodDate,...ye(a)});class Th extends Se{_parse(t){if(this._getType(t)!==$.symbol){const l=this._getOrReturnCtx(t);return Y(l,{code:B.invalid_type,expected:$.symbol,received:l.parsedType}),de}return Yt(t.data)}}Th.create=a=>new Th({typeName:fe.ZodSymbol,...ye(a)});class _h extends Se{_parse(t){if(this._getType(t)!==$.undefined){const l=this._getOrReturnCtx(t);return Y(l,{code:B.invalid_type,expected:$.undefined,received:l.parsedType}),de}return Yt(t.data)}}_h.create=a=>new _h({typeName:fe.ZodUndefined,...ye(a)});class Ch extends Se{_parse(t){if(this._getType(t)!==$.null){const l=this._getOrReturnCtx(t);return Y(l,{code:B.invalid_type,expected:$.null,received:l.parsedType}),de}return Yt(t.data)}}Ch.create=a=>new Ch({typeName:fe.ZodNull,...ye(a)});class Sh extends Se{constructor(){super(...arguments),this._any=!0}_parse(t){return Yt(t.data)}}Sh.create=a=>new Sh({typeName:fe.ZodAny,...ye(a)});class Lu extends Se{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Yt(t.data)}}Lu.create=a=>new Lu({typeName:fe.ZodUnknown,...ye(a)});class Qn extends Se{_parse(t){const n=this._getOrReturnCtx(t);return Y(n,{code:B.invalid_type,expected:$.never,received:n.parsedType}),de}}Qn.create=a=>new Qn({typeName:fe.ZodNever,...ye(a)});class Eh extends Se{_parse(t){if(this._getType(t)!==$.undefined){const l=this._getOrReturnCtx(t);return Y(l,{code:B.invalid_type,expected:$.void,received:l.parsedType}),de}return Yt(t.data)}}Eh.create=a=>new Eh({typeName:fe.ZodVoid,...ye(a)});class an extends Se{_parse(t){const{ctx:n,status:l}=this._processInputParams(t),s=this._def;if(n.parsedType!==$.array)return Y(n,{code:B.invalid_type,expected:$.array,received:n.parsedType}),de;if(s.exactLength!==null){const m=n.data.length>s.exactLength.value,g=n.data.length<s.exactLength.value;(m||g)&&(Y(n,{code:m?B.too_big:B.too_small,minimum:g?s.exactLength.value:void 0,maximum:m?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),l.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Y(n,{code:B.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),l.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Y(n,{code:B.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),l.dirty()),n.common.async)return Promise.all([...n.data].map((m,g)=>s.type._parseAsync(new sn(n,m,n.path,g)))).then(m=>St.mergeArray(l,m));const c=[...n.data].map((m,g)=>s.type._parseSync(new sn(n,m,n.path,g)));return St.mergeArray(l,c)}get element(){return this._def.type}min(t,n){return new an({...this._def,minLength:{value:t,message:j.toString(n)}})}max(t,n){return new an({...this._def,maxLength:{value:t,message:j.toString(n)}})}length(t,n){return new an({...this._def,exactLength:{value:t,message:j.toString(n)}})}nonempty(t){return this.min(1,t)}}an.create=(a,t)=>new an({type:a,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...ye(t)});function cl(a){if(a instanceof it){const t={};for(const n in a.shape){const l=a.shape[n];t[n]=$n.create(cl(l))}return new it({...a._def,shape:()=>t})}else return a instanceof an?new an({...a._def,type:cl(a.element)}):a instanceof $n?$n.create(cl(a.unwrap())):a instanceof vl?vl.create(cl(a.unwrap())):a instanceof Si?Si.create(a.items.map(t=>cl(t))):a}class it extends Se{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=De.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==$.object){const p=this._getOrReturnCtx(t);return Y(p,{code:B.invalid_type,expected:$.object,received:p.parsedType}),de}const{status:l,ctx:s}=this._processInputParams(t),{shape:c,keys:m}=this._getCached(),g=[];if(!(this._def.catchall instanceof Qn&&this._def.unknownKeys==="strip"))for(const p in s.data)m.includes(p)||g.push(p);const y=[];for(const p of m){const v=c[p],C=s.data[p];y.push({key:{status:"valid",value:p},value:v._parse(new sn(s,C,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof Qn){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of g)y.push({key:{status:"valid",value:v},value:{status:"valid",value:s.data[v]}});else if(p==="strict")g.length>0&&(Y(s,{code:B.unrecognized_keys,keys:g}),l.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of g){const C=s.data[v];y.push({key:{status:"valid",value:v},value:p._parse(new sn(s,C,s.path,v)),alwaysSet:v in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of y){const C=await v.key,S=await v.value;p.push({key:C,value:S,alwaysSet:v.alwaysSet})}return p}).then(p=>St.mergeObjectSync(l,p)):St.mergeObjectSync(l,y)}get shape(){return this._def.shape()}strict(t){return j.errToObj,new it({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,l)=>{var c,m;const s=((m=(c=this._def).errorMap)==null?void 0:m.call(c,n,l).message)??l.defaultError;return n.code==="unrecognized_keys"?{message:j.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new it({...this._def,unknownKeys:"strip"})}passthrough(){return new it({...this._def,unknownKeys:"passthrough"})}extend(t){return new it({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new it({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:fe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new it({...this._def,catchall:t})}pick(t){const n={};for(const l of De.objectKeys(t))t[l]&&this.shape[l]&&(n[l]=this.shape[l]);return new it({...this._def,shape:()=>n})}omit(t){const n={};for(const l of De.objectKeys(this.shape))t[l]||(n[l]=this.shape[l]);return new it({...this._def,shape:()=>n})}deepPartial(){return cl(this)}partial(t){const n={};for(const l of De.objectKeys(this.shape)){const s=this.shape[l];t&&!t[l]?n[l]=s:n[l]=s.optional()}return new it({...this._def,shape:()=>n})}required(t){const n={};for(const l of De.objectKeys(this.shape))if(t&&!t[l])n[l]=this.shape[l];else{let c=this.shape[l];for(;c instanceof $n;)c=c._def.innerType;n[l]=c}return new it({...this._def,shape:()=>n})}keyof(){return Xp(De.objectKeys(this.shape))}}it.create=(a,t)=>new it({shape:()=>a,unknownKeys:"strip",catchall:Qn.create(),typeName:fe.ZodObject,...ye(t)});it.strictCreate=(a,t)=>new it({shape:()=>a,unknownKeys:"strict",catchall:Qn.create(),typeName:fe.ZodObject,...ye(t)});it.lazycreate=(a,t)=>new it({shape:a,unknownKeys:"strip",catchall:Qn.create(),typeName:fe.ZodObject,...ye(t)});class ls extends Se{_parse(t){const{ctx:n}=this._processInputParams(t),l=this._def.options;function s(c){for(const g of c)if(g.result.status==="valid")return g.result;for(const g of c)if(g.result.status==="dirty")return n.common.issues.push(...g.ctx.common.issues),g.result;const m=c.map(g=>new xn(g.ctx.common.issues));return Y(n,{code:B.invalid_union,unionErrors:m}),de}if(n.common.async)return Promise.all(l.map(async c=>{const m={...n,common:{...n.common,issues:[]},parent:null};return{result:await c._parseAsync({data:n.data,path:n.path,parent:m}),ctx:m}})).then(s);{let c;const m=[];for(const y of l){const p={...n,common:{...n.common,issues:[]},parent:null},v=y._parseSync({data:n.data,path:n.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!c&&(c={result:v,ctx:p}),p.common.issues.length&&m.push(p.common.issues)}if(c)return n.common.issues.push(...c.ctx.common.issues),c.result;const g=m.map(y=>new xn(y));return Y(n,{code:B.invalid_union,unionErrors:g}),de}}get options(){return this._def.options}}ls.create=(a,t)=>new ls({options:a,typeName:fe.ZodUnion,...ye(t)});function Gu(a,t){const n=Xn(a),l=Xn(t);if(a===t)return{valid:!0,data:a};if(n===$.object&&l===$.object){const s=De.objectKeys(t),c=De.objectKeys(a).filter(g=>s.indexOf(g)!==-1),m={...a,...t};for(const g of c){const y=Gu(a[g],t[g]);if(!y.valid)return{valid:!1};m[g]=y.data}return{valid:!0,data:m}}else if(n===$.array&&l===$.array){if(a.length!==t.length)return{valid:!1};const s=[];for(let c=0;c<a.length;c++){const m=a[c],g=t[c],y=Gu(m,g);if(!y.valid)return{valid:!1};s.push(y.data)}return{valid:!0,data:s}}else return n===$.date&&l===$.date&&+a==+t?{valid:!0,data:a}:{valid:!1}}class os extends Se{_parse(t){const{status:n,ctx:l}=this._processInputParams(t),s=(c,m)=>{if(gh(c)||gh(m))return de;const g=Gu(c.value,m.value);return g.valid?((yh(c)||yh(m))&&n.dirty(),{status:n.value,value:g.data}):(Y(l,{code:B.invalid_intersection_types}),de)};return l.common.async?Promise.all([this._def.left._parseAsync({data:l.data,path:l.path,parent:l}),this._def.right._parseAsync({data:l.data,path:l.path,parent:l})]).then(([c,m])=>s(c,m)):s(this._def.left._parseSync({data:l.data,path:l.path,parent:l}),this._def.right._parseSync({data:l.data,path:l.path,parent:l}))}}os.create=(a,t,n)=>new os({left:a,right:t,typeName:fe.ZodIntersection,...ye(n)});class Si extends Se{_parse(t){const{status:n,ctx:l}=this._processInputParams(t);if(l.parsedType!==$.array)return Y(l,{code:B.invalid_type,expected:$.array,received:l.parsedType}),de;if(l.data.length<this._def.items.length)return Y(l,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&l.data.length>this._def.items.length&&(Y(l,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const c=[...l.data].map((m,g)=>{const y=this._def.items[g]||this._def.rest;return y?y._parse(new sn(l,m,l.path,g)):null}).filter(m=>!!m);return l.common.async?Promise.all(c).then(m=>St.mergeArray(n,m)):St.mergeArray(n,c)}get items(){return this._def.items}rest(t){return new Si({...this._def,rest:t})}}Si.create=(a,t)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Si({items:a,typeName:fe.ZodTuple,rest:null,...ye(t)})};class as extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:l}=this._processInputParams(t);if(l.parsedType!==$.object)return Y(l,{code:B.invalid_type,expected:$.object,received:l.parsedType}),de;const s=[],c=this._def.keyType,m=this._def.valueType;for(const g in l.data)s.push({key:c._parse(new sn(l,g,l.path,g)),value:m._parse(new sn(l,l.data[g],l.path,g)),alwaysSet:g in l.data});return l.common.async?St.mergeObjectAsync(n,s):St.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,l){return n instanceof Se?new as({keyType:t,valueType:n,typeName:fe.ZodRecord,...ye(l)}):new as({keyType:ln.create(),valueType:t,typeName:fe.ZodRecord,...ye(n)})}}class xh extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:l}=this._processInputParams(t);if(l.parsedType!==$.map)return Y(l,{code:B.invalid_type,expected:$.map,received:l.parsedType}),de;const s=this._def.keyType,c=this._def.valueType,m=[...l.data.entries()].map(([g,y],p)=>({key:s._parse(new sn(l,g,l.path,[p,"key"])),value:c._parse(new sn(l,y,l.path,[p,"value"]))}));if(l.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const y of m){const p=await y.key,v=await y.value;if(p.status==="aborted"||v.status==="aborted")return de;(p.status==="dirty"||v.status==="dirty")&&n.dirty(),g.set(p.value,v.value)}return{status:n.value,value:g}})}else{const g=new Map;for(const y of m){const p=y.key,v=y.value;if(p.status==="aborted"||v.status==="aborted")return de;(p.status==="dirty"||v.status==="dirty")&&n.dirty(),g.set(p.value,v.value)}return{status:n.value,value:g}}}}xh.create=(a,t,n)=>new xh({valueType:t,keyType:a,typeName:fe.ZodMap,...ye(n)});class wo extends Se{_parse(t){const{status:n,ctx:l}=this._processInputParams(t);if(l.parsedType!==$.set)return Y(l,{code:B.invalid_type,expected:$.set,received:l.parsedType}),de;const s=this._def;s.minSize!==null&&l.data.size<s.minSize.value&&(Y(l,{code:B.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&l.data.size>s.maxSize.value&&(Y(l,{code:B.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const c=this._def.valueType;function m(y){const p=new Set;for(const v of y){if(v.status==="aborted")return de;v.status==="dirty"&&n.dirty(),p.add(v.value)}return{status:n.value,value:p}}const g=[...l.data.values()].map((y,p)=>c._parse(new sn(l,y,l.path,p)));return l.common.async?Promise.all(g).then(y=>m(y)):m(g)}min(t,n){return new wo({...this._def,minSize:{value:t,message:j.toString(n)}})}max(t,n){return new wo({...this._def,maxSize:{value:t,message:j.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}wo.create=(a,t)=>new wo({valueType:a,minSize:null,maxSize:null,typeName:fe.ZodSet,...ye(t)});class Ou extends Se{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ou.create=(a,t)=>new Ou({getter:a,typeName:fe.ZodLazy,...ye(t)});class Ah extends Se{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Y(n,{received:n.data,code:B.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ah.create=(a,t)=>new Ah({value:a,typeName:fe.ZodLiteral,...ye(t)});function Xp(a,t){return new gl({values:a,typeName:fe.ZodEnum,...ye(t)})}class gl extends Se{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),l=this._def.values;return Y(n,{expected:De.joinValues(l),received:n.parsedType,code:B.invalid_type}),de}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),l=this._def.values;return Y(n,{received:n.data,code:B.invalid_enum_value,options:l}),de}return Yt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return gl.create(t,{...this._def,...n})}exclude(t,n=this._def){return gl.create(this.options.filter(l=>!t.includes(l)),{...this._def,...n})}}gl.create=Xp;class Mh extends Se{_parse(t){const n=De.getValidEnumValues(this._def.values),l=this._getOrReturnCtx(t);if(l.parsedType!==$.string&&l.parsedType!==$.number){const s=De.objectValues(n);return Y(l,{expected:De.joinValues(s),received:l.parsedType,code:B.invalid_type}),de}if(this._cache||(this._cache=new Set(De.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=De.objectValues(n);return Y(l,{received:l.data,code:B.invalid_enum_value,options:s}),de}return Yt(t.data)}get enum(){return this._def.values}}Mh.create=(a,t)=>new Mh({values:a,typeName:fe.ZodNativeEnum,...ye(t)});class ss extends Se{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.promise&&n.common.async===!1)return Y(n,{code:B.invalid_type,expected:$.promise,received:n.parsedType}),de;const l=n.parsedType===$.promise?n.data:Promise.resolve(n.data);return Yt(l.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ss.create=(a,t)=>new ss({type:a,typeName:fe.ZodPromise,...ye(t)});class yl extends Se{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:l}=this._processInputParams(t),s=this._def.effect||null,c={addIssue:m=>{Y(l,m),m.fatal?n.abort():n.dirty()},get path(){return l.path}};if(c.addIssue=c.addIssue.bind(c),s.type==="preprocess"){const m=s.transform(l.data,c);if(l.common.async)return Promise.resolve(m).then(async g=>{if(n.value==="aborted")return de;const y=await this._def.schema._parseAsync({data:g,path:l.path,parent:l});return y.status==="aborted"?de:y.status==="dirty"||n.value==="dirty"?Ro(y.value):y});{if(n.value==="aborted")return de;const g=this._def.schema._parseSync({data:m,path:l.path,parent:l});return g.status==="aborted"?de:g.status==="dirty"||n.value==="dirty"?Ro(g.value):g}}if(s.type==="refinement"){const m=g=>{const y=s.refinement(g,c);if(l.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(l.common.async===!1){const g=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});return g.status==="aborted"?de:(g.status==="dirty"&&n.dirty(),m(g.value),{status:n.value,value:g.value})}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(g=>g.status==="aborted"?de:(g.status==="dirty"&&n.dirty(),m(g.value).then(()=>({status:n.value,value:g.value}))))}if(s.type==="transform")if(l.common.async===!1){const m=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});if(!hl(m))return de;const g=s.transform(m.value,c);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:g}}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(m=>hl(m)?Promise.resolve(s.transform(m.value,c)).then(g=>({status:n.value,value:g})):de);De.assertNever(s)}}yl.create=(a,t,n)=>new yl({schema:a,typeName:fe.ZodEffects,effect:t,...ye(n)});yl.createWithPreprocess=(a,t,n)=>new yl({schema:t,effect:{type:"preprocess",transform:a},typeName:fe.ZodEffects,...ye(n)});class $n extends Se{_parse(t){return this._getType(t)===$.undefined?Yt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$n.create=(a,t)=>new $n({innerType:a,typeName:fe.ZodOptional,...ye(t)});class vl extends Se{_parse(t){return this._getType(t)===$.null?Yt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vl.create=(a,t)=>new vl({innerType:a,typeName:fe.ZodNullable,...ye(t)});class zu extends Se{_parse(t){const{ctx:n}=this._processInputParams(t);let l=n.data;return n.parsedType===$.undefined&&(l=this._def.defaultValue()),this._def.innerType._parse({data:l,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zu.create=(a,t)=>new zu({innerType:a,typeName:fe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ye(t)});class Pu extends Se{_parse(t){const{ctx:n}=this._processInputParams(t),l={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:l.data,path:l.path,parent:{...l}});return ns(s)?s.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new xn(l.common.issues)},input:l.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xn(l.common.issues)},input:l.data})}}removeCatch(){return this._def.innerType}}Pu.create=(a,t)=>new Pu({innerType:a,typeName:fe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ye(t)});class Nh extends Se{_parse(t){if(this._getType(t)!==$.nan){const l=this._getOrReturnCtx(t);return Y(l,{code:B.invalid_type,expected:$.nan,received:l.parsedType}),de}return{status:"valid",value:t.data}}}Nh.create=a=>new Nh({typeName:fe.ZodNaN,...ye(a)});class N0 extends Se{_parse(t){const{ctx:n}=this._processInputParams(t),l=n.data;return this._def.type._parse({data:l,path:n.path,parent:n})}unwrap(){return this._def.type}}class lc extends Se{_parse(t){const{status:n,ctx:l}=this._processInputParams(t);if(l.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:l.data,path:l.path,parent:l});return c.status==="aborted"?de:c.status==="dirty"?(n.dirty(),Ro(c.value)):this._def.out._parseAsync({data:c.value,path:l.path,parent:l})})();{const s=this._def.in._parseSync({data:l.data,path:l.path,parent:l});return s.status==="aborted"?de:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:l.path,parent:l})}}static create(t,n){return new lc({in:t,out:n,typeName:fe.ZodPipeline})}}class Bu extends Se{_parse(t){const n=this._def.innerType._parse(t),l=s=>(hl(s)&&(s.value=Object.freeze(s.value)),s);return ns(n)?n.then(s=>l(s)):l(n)}unwrap(){return this._def.innerType}}Bu.create=(a,t)=>new Bu({innerType:a,typeName:fe.ZodReadonly,...ye(t)});var fe;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(fe||(fe={}));const Ti=ln.create,Rh=_i.create;Ci.create;const R0=is.create;pl.create;const Dh=Lu.create;Qn.create;const Do=an.create,D0=it.create,b0=ls.create;os.create;Si.create;const w0=as.create,U0=Ou.create,I0=gl.create;ss.create;$n.create;vl.create;const ul={string:a=>ln.create({...a,coerce:!0}),number:a=>_i.create({...a,coerce:!0}),boolean:a=>is.create({...a,coerce:!0}),bigint:a=>Ci.create({...a,coerce:!0}),date:a=>pl.create({...a,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let k0,V0;function L0(){return{geminiUrl:k0,vertexUrl:V0}}function G0(a,t,n){var l,s,c;if(!(!((l=a.httpOptions)===null||l===void 0)&&l.baseUrl)){const m=L0();return a.vertexai?(s=m.vertexUrl)!==null&&s!==void 0?s:t:(c=m.geminiUrl)!==null&&c!==void 0?c:n}return a.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _l{}function ue(a,t){const n=/\{([^}]+)\}/g;return a.replace(n,(l,s)=>{if(Object.prototype.hasOwnProperty.call(t,s)){const c=t[s];return c!=null?String(c):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function f(a,t,n){for(let c=0;c<t.length-1;c++){const m=t[c];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in a))if(Array.isArray(n))a[g]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(a[g])){const y=a[g];if(Array.isArray(n))for(let p=0;p<y.length;p++){const v=y[p];f(v,t.slice(c+1),n[p])}else for(const p of y)f(p,t.slice(c+1),n)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in a||(a[g]=[{}]);const y=a[g];f(y[0],t.slice(c+1),n);return}(!a[m]||typeof a[m]!="object")&&(a[m]={}),a=a[m]}const l=t[t.length-1],s=a[l];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else a[l]=n}function u(a,t){try{if(t.length===1&&t[0]==="_self")return a;for(let n=0;n<t.length;n++){if(typeof a!="object"||a===null)return;const l=t[n];if(l.endsWith("[]")){const s=l.slice(0,-2);if(s in a){const c=a[s];return Array.isArray(c)?c.map(m=>u(m,t.slice(n+1))):void 0}else return}else a=a[l]}return a}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bh;(function(a){a.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",a.OUTCOME_OK="OUTCOME_OK",a.OUTCOME_FAILED="OUTCOME_FAILED",a.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bh||(bh={}));var wh;(function(a){a.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",a.PYTHON="PYTHON"})(wh||(wh={}));var on;(function(a){a.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",a.STRING="STRING",a.NUMBER="NUMBER",a.INTEGER="INTEGER",a.BOOLEAN="BOOLEAN",a.ARRAY="ARRAY",a.OBJECT="OBJECT",a.NULL="NULL"})(on||(on={}));var Uh;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Uh||(Uh={}));var Ih;(function(a){a.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",a.SEVERITY="SEVERITY",a.PROBABILITY="PROBABILITY"})(Ih||(Ih={}));var kh;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE",a.OFF="OFF"})(kh||(kh={}));var Vh;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(Vh||(Vh={}));var Lh;(function(a){a.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",a.NO_AUTH="NO_AUTH",a.API_KEY_AUTH="API_KEY_AUTH",a.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",a.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",a.OAUTH="OAUTH",a.OIDC_AUTH="OIDC_AUTH"})(Lh||(Lh={}));var Gh;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.IMAGE_SAFETY="IMAGE_SAFETY",a.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Gh||(Gh={}));var Oh;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(Oh||(Oh={}));var zh;(function(a){a.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",a.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",a.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",a.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",a.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(zh||(zh={}));var Ph;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Ph||(Ph={}));var Bh;(function(a){a.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",a.ON_DEMAND="ON_DEMAND",a.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bh||(Bh={}));var rs;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.AUDIO="AUDIO"})(rs||(rs={}));var qh;(function(a){a.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",a.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",a.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",a.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qh||(qh={}));var qu;(function(a){a.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",a.JOB_STATE_QUEUED="JOB_STATE_QUEUED",a.JOB_STATE_PENDING="JOB_STATE_PENDING",a.JOB_STATE_RUNNING="JOB_STATE_RUNNING",a.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",a.JOB_STATE_FAILED="JOB_STATE_FAILED",a.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",a.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",a.JOB_STATE_PAUSED="JOB_STATE_PAUSED",a.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",a.JOB_STATE_UPDATING="JOB_STATE_UPDATING",a.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qu||(qu={}));var Hh;(function(a){a.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",a.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",a.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",a.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",a.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",a.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",a.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hh||(Hh={}));var Fh;(function(a){a.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",a.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",a.BALANCED="BALANCED",a.PRIORITIZE_COST="PRIORITIZE_COST"})(Fh||(Fh={}));var Yh;(function(a){a.UNSPECIFIED="UNSPECIFIED",a.BLOCKING="BLOCKING",a.NON_BLOCKING="NON_BLOCKING"})(Yh||(Yh={}));var Zh;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(Zh||(Zh={}));var Kh;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"})(Kh||(Kh={}));var Jh;(function(a){a.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",a.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",a.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Jh||(Jh={}));var Xh;(function(a){a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(Xh||(Xh={}));var $h;(function(a){a.DONT_ALLOW="DONT_ALLOW",a.ALLOW_ADULT="ALLOW_ADULT",a.ALLOW_ALL="ALLOW_ALL"})($h||($h={}));var Qh;(function(a){a.auto="auto",a.en="en",a.ja="ja",a.ko="ko",a.hi="hi"})(Qh||(Qh={}));var Wh;(function(a){a.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",a.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",a.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",a.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",a.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Wh||(Wh={}));var jh;(function(a){a.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",a.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",a.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",a.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jh||(jh={}));var ep;(function(a){a.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",a.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",a.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",a.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ep||(ep={}));var tp;(function(a){a.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",a.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",a.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",a.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",a.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",a.EDIT_MODE_STYLE="EDIT_MODE_STYLE",a.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",a.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(tp||(tp={}));var np;(function(a){a.STATE_UNSPECIFIED="STATE_UNSPECIFIED",a.PROCESSING="PROCESSING",a.ACTIVE="ACTIVE",a.FAILED="FAILED"})(np||(np={}));var ip;(function(a){a.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",a.UPLOADED="UPLOADED",a.GENERATED="GENERATED"})(ip||(ip={}));var lp;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.VIDEO="VIDEO",a.AUDIO="AUDIO",a.DOCUMENT="DOCUMENT"})(lp||(lp={}));var op;(function(a){a.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",a.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",a.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(op||(op={}));var ap;(function(a){a.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",a.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",a.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ap||(ap={}));var sp;(function(a){a.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",a.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",a.NO_INTERRUPTION="NO_INTERRUPTION"})(sp||(sp={}));var rp;(function(a){a.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",a.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",a.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rp||(rp={}));var up;(function(a){a.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",a.SILENT="SILENT",a.WHEN_IDLE="WHEN_IDLE",a.INTERRUPT="INTERRUPT"})(up||(up={}));var cp;(function(a){a.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",a.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",a.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",a.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",a.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",a.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",a.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",a.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",a.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",a.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",a.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",a.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",a.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cp||(cp={}));var fl;(function(a){a.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",a.PLAY="PLAY",a.PAUSE="PAUSE",a.STOP="STOP",a.RESET_CONTEXT="RESET_CONTEXT"})(fl||(fl={}));class No{get text(){var t,n,l,s,c,m,g,y;if(((s=(l=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const C=[];for(const S of(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[x,U]of Object.entries(S))x!=="text"&&x!=="thought"&&(U!==null||U!==void 0)&&C.push(x);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var t,n,l,s,c,m,g,y;if(((s=(l=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const C of(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,x]of Object.entries(C))S!=="inlineData"&&(x!==null||x!==void 0)&&v.push(S);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var t,n,l,s,c,m,g,y;if(((s=(l=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var t,n,l,s,c,m,g,y,p;if(((s=(l=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var t,n,l,s,c,m,g,y,p;if(((s=(l=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class fp{}class dp{}class O0{}class z0{}class mp{}class hp{}class pp{}class P0{}class gp{}class yp{}class vp{}class B0{}class Hu{constructor(t){const n={};for(const l of t.headers.entries())n[l[0]]=l[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class q0{}class H0{}class F0{get text(){var t,n,l;let s="",c=!1;const m=[];for(const g of(l=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&l!==void 0?l:[]){for(const[y,p]of Object.entries(g))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,s+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var t,n,l;let s="";const c=[];for(const m of(l=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&c.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(s+=atob(m.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class Y0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(a,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(a.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function $p(a,t){const n=Ye(a,t);return n?n.startsWith("publishers/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/${n}`:n.startsWith("models/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/publishers/google/${n}`:n:""}function Qp(a,t){return Array.isArray(t)?t.map(n=>us(a,n)):[us(a,t)]}function us(a,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Z0(a,t){const n=us(a,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function K0(a,t){const n=us(a,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Tp(a,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Wp(a,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Tp(a,n)):[Tp(a,t)]}function Fu(a){return a!=null&&typeof a=="object"&&"parts"in a&&Array.isArray(a.parts)}function _p(a){return a!=null&&typeof a=="object"&&"functionCall"in a}function Cp(a){return a!=null&&typeof a=="object"&&"functionResponse"in a}function Ct(a,t){if(t==null)throw new Error("ContentUnion is required");return Fu(t)?t:{role:"user",parts:Wp(a,t)}}function jp(a,t){if(!t)return[];if(a.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const l=Ct(a,n);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(a.isVertexAI()){const n=Ct(a,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ct(a,n)):[Ct(a,t)]}function $t(a,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(_p(t)||Cp(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(a,t)]}const n=[],l=[],s=Fu(t[0]);for(const c of t){const m=Fu(c);if(m!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(m)n.push(c);else{if(_p(c)||Cp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(c)}}return s||n.push({role:"user",parts:Wp(a,l)}),n}const J0=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Sp=I0(["string","number","integer","object","array","boolean","null"]),X0=b0([Sp,Do(Sp)]);function $0(a=!0){const t=U0(()=>{const n=D0({type:X0.optional(),format:Ti().optional(),title:Ti().optional(),description:Ti().optional(),default:Dh().optional(),items:t.optional(),minItems:ul.string().optional(),maxItems:ul.string().optional(),enum:Do(Dh()).optional(),properties:w0(Ti(),t).optional(),required:Do(Ti()).optional(),minProperties:ul.string().optional(),maxProperties:ul.string().optional(),propertyOrdering:Do(Ti()).optional(),minimum:Rh().optional(),maximum:Rh().optional(),minLength:ul.string().optional(),maxLength:ul.string().optional(),pattern:Ti().optional(),anyOf:Do(t).optional(),additionalProperties:R0().optional()});return a?n.strict():n});return t}function Q0(a,t){a.includes("null")&&(t.nullable=!0);const n=a.filter(l=>l!=="null");if(n.length===1)t.type=Object.values(on).includes(n[0].toUpperCase())?n[0].toUpperCase():on.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const l of n)t.anyOf.push({type:Object.values(on).includes(l.toUpperCase())?l.toUpperCase():on.TYPE_UNSPECIFIED})}}function dl(a){const t={},n=["items"],l=["anyOf"],s=["properties"];if(a.type&&a.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=a.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,a=c[1]):c[1].type==="null"&&(t.nullable=!0,a=c[0])),a.type instanceof Array&&Q0(a.type,t);for(const[m,g]of Object.entries(a))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(on).includes(g.toUpperCase())?g.toUpperCase():on.TYPE_UNSPECIFIED}else if(n.includes(m))t[m]=dl(g);else if(l.includes(m)){const y=[];for(const p of g){if(p.type=="null"){t.nullable=!0;continue}y.push(dl(p))}t[m]=y}else if(s.includes(m)){const y={};for(const[p,v]of Object.entries(g))y[p]=dl(v);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function cs(a,t){if(Object.keys(t).includes("$schema")){delete t.$schema;const n=$0().parse(t);return dl(n)}else return dl(t)}function eg(a,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function oc(a,t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Uo(a,t){if(t.functionDeclarations)for(const n of t.functionDeclarations)n.parameters&&(n.parameters=cs(a,n.parameters)),n.response&&(n.response=cs(a,n.response));return t}function Io(a,t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const l of t)n.push(l);return n}function W0(a,t,n,l=1){const s=!t.startsWith(`${n}/`)&&t.split("/").length===l;return a.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${a.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${a.getProject()}/locations/${a.getLocation()}/${t}`:s?`projects/${a.getProject()}/locations/${a.getLocation()}/${n}/${t}`:t:s?`${n}/${t}`:t}function Wn(a,t){if(typeof t!="string")throw new Error("name must be a string");return W0(a,t,"cachedContents")}function tg(a,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function jn(a,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function j0(a){return a!=null&&typeof a=="object"&&"name"in a}function eT(a){return a!=null&&typeof a=="object"&&"video"in a}function tT(a){return a!=null&&typeof a=="object"&&"uri"in a}function ng(a,t){var n;let l;if(j0(t)&&(l=t.name),!(tT(t)&&(l=t.uri,l===void 0))&&!(eT(t)&&(l=(n=t.video)===null||n===void 0?void 0:n.uri,l===void 0))){if(typeof t=="string"&&(l=t),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const c=l.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${l}`);l=c[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function ig(a,t){let n;return a.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function lg(a,t){for(const n of["models","tunedModels","publisherModels"])if(nT(t,n))return t[n];return[]}function nT(a,t){return a!==null&&typeof a=="object"&&t in a}function iT(a,t={}){const n=a,l={name:n.name,description:n.description,parameters:dl(fs(n.inputSchema))};return t.behavior&&(l.behavior=t.behavior),{functionDeclarations:[l]}}function lT(a,t={}){const n=[],l=new Set;for(const s of a){const c=s.name;if(l.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);l.add(c);const m=iT(s,t);m.functionDeclarations&&n.push(...m.functionDeclarations)}return{functionDeclarations:n}}function oT(a){const t=[];for(const n of a)t.push(fs(n));return t}function aT(a){const t={};for(const[n,l]of Object.entries(a)){const s=l;t[n]=fs(s)}return t}function fs(a){const t=new Set(["items"]),n=new Set(["anyOf"]),l=new Set(["properties"]),s={};for(const[c,m]of Object.entries(a))if(t.has(c))s[c]=fs(m);else if(n.has(c))s[c]=oT(m);else if(l.has(c))s[c]=aT(m);else if(c==="type"){const g=m.toUpperCase();s[c]=Object.values(on).includes(g)?g:on.TYPE_UNSPECIFIED}else J0.has(c)&&(s[c]=m);return s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function rT(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function uT(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function cT(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],sT(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],rT(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],uT(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function Ep(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>cT(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function fT(a,t){const n={},l=u(t,["behavior"]);l!=null&&f(n,["behavior"],l);const s=u(t,["description"]);s!=null&&f(n,["description"],s);const c=u(t,["name"]);c!=null&&f(n,["name"],c);const m=u(t,["parameters"]);m!=null&&f(n,["parameters"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],g),n}function dT(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function mT(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],dT(a,l)),n}function hT(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function pT(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],hT(a,l)),n}function gT(){return{}}function yT(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>fT(a,p))),f(n,["functionDeclarations"],y)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(t,["googleSearch"]);s!=null&&f(n,["googleSearch"],mT(a,s));const c=u(t,["googleSearchRetrieval"]);if(c!=null&&f(n,["googleSearchRetrieval"],pT(a,c)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(n,["urlContext"],gT());const g=u(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function vT(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["allowedFunctionNames"]);return s!=null&&f(n,["allowedFunctionNames"],s),n}function TT(a,t){const n={},l=u(t,["latitude"]);l!=null&&f(n,["latitude"],l);const s=u(t,["longitude"]);return s!=null&&f(n,["longitude"],s),n}function _T(a,t){const n={},l=u(t,["latLng"]);l!=null&&f(n,["latLng"],TT(a,l));const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function CT(a,t){const n={},l=u(t,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],vT(a,l));const s=u(t,["retrievalConfig"]);return s!=null&&f(n,["retrievalConfig"],_T(a,s)),n}function ST(a,t,n){const l={},s=u(t,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const c=u(t,["expireTime"]);n!==void 0&&c!=null&&f(n,["expireTime"],c);const m=u(t,["displayName"]);n!==void 0&&m!=null&&f(n,["displayName"],m);const g=u(t,["contents"]);if(n!==void 0&&g!=null){let C=$t(a,g);Array.isArray(C)&&(C=C.map(S=>Ep(a,S))),f(n,["contents"],C)}const y=u(t,["systemInstruction"]);n!==void 0&&y!=null&&f(n,["systemInstruction"],Ep(a,Ct(a,y)));const p=u(t,["tools"]);if(n!==void 0&&p!=null){let C=p;Array.isArray(C)&&(C=C.map(S=>yT(a,S))),f(n,["tools"],C)}const v=u(t,["toolConfig"]);if(n!==void 0&&v!=null&&f(n,["toolConfig"],CT(a,v)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function ET(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["model"],$p(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],ST(a,s,n)),n}function xT(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Wn(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function AT(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Wn(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function MT(a,t,n){const l={},s=u(t,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const c=u(t,["expireTime"]);return n!==void 0&&c!=null&&f(n,["expireTime"],c),l}function NT(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Wn(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],MT(a,s,n)),n}function RT(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);return n!==void 0&&c!=null&&f(n,["_query","pageToken"],c),l}function DT(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],RT(a,l,n)),n}function bT(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function wT(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["data"]);s!=null&&f(n,["data"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function UT(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function IT(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],bT(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],wT(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],UT(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function xp(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>IT(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function kT(a,t){const n={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(t,["description"]);l!=null&&f(n,["description"],l);const s=u(t,["name"]);s!=null&&f(n,["name"],s);const c=u(t,["parameters"]);c!=null&&f(n,["parameters"],c);const m=u(t,["response"]);return m!=null&&f(n,["response"],m),n}function VT(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function LT(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],VT(a,l)),n}function GT(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function OT(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],GT(a,l)),n}function zT(){return{}}function PT(a,t){const n={},l=u(t,["apiKeyString"]);return l!=null&&f(n,["apiKeyString"],l),n}function BT(a,t){const n={},l=u(t,["apiKeyConfig"]);l!=null&&f(n,["apiKeyConfig"],PT(a,l));const s=u(t,["authType"]);s!=null&&f(n,["authType"],s);const c=u(t,["googleServiceAccountConfig"]);c!=null&&f(n,["googleServiceAccountConfig"],c);const m=u(t,["httpBasicAuthConfig"]);m!=null&&f(n,["httpBasicAuthConfig"],m);const g=u(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const y=u(t,["oidcConfig"]);return y!=null&&f(n,["oidcConfig"],y),n}function qT(a,t){const n={},l=u(t,["authConfig"]);return l!=null&&f(n,["authConfig"],BT(a,l)),n}function HT(){return{}}function FT(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(S=>kT(a,S))),f(n,["functionDeclarations"],C)}const s=u(t,["retrieval"]);s!=null&&f(n,["retrieval"],s);const c=u(t,["googleSearch"]);c!=null&&f(n,["googleSearch"],LT(a,c));const m=u(t,["googleSearchRetrieval"]);m!=null&&f(n,["googleSearchRetrieval"],OT(a,m)),u(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],zT());const y=u(t,["googleMaps"]);y!=null&&f(n,["googleMaps"],qT(a,y)),u(t,["urlContext"])!=null&&f(n,["urlContext"],HT());const v=u(t,["codeExecution"]);return v!=null&&f(n,["codeExecution"],v),n}function YT(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["allowedFunctionNames"]);return s!=null&&f(n,["allowedFunctionNames"],s),n}function ZT(a,t){const n={},l=u(t,["latitude"]);l!=null&&f(n,["latitude"],l);const s=u(t,["longitude"]);return s!=null&&f(n,["longitude"],s),n}function KT(a,t){const n={},l=u(t,["latLng"]);l!=null&&f(n,["latLng"],ZT(a,l));const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function JT(a,t){const n={},l=u(t,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],YT(a,l));const s=u(t,["retrievalConfig"]);return s!=null&&f(n,["retrievalConfig"],KT(a,s)),n}function XT(a,t,n){const l={},s=u(t,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const c=u(t,["expireTime"]);n!==void 0&&c!=null&&f(n,["expireTime"],c);const m=u(t,["displayName"]);n!==void 0&&m!=null&&f(n,["displayName"],m);const g=u(t,["contents"]);if(n!==void 0&&g!=null){let S=$t(a,g);Array.isArray(S)&&(S=S.map(x=>xp(a,x))),f(n,["contents"],S)}const y=u(t,["systemInstruction"]);n!==void 0&&y!=null&&f(n,["systemInstruction"],xp(a,Ct(a,y)));const p=u(t,["tools"]);if(n!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(x=>FT(a,x))),f(n,["tools"],S)}const v=u(t,["toolConfig"]);n!==void 0&&v!=null&&f(n,["toolConfig"],JT(a,v));const C=u(t,["kmsKeyName"]);return n!==void 0&&C!=null&&f(n,["encryption_spec","kmsKeyName"],C),l}function $T(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["model"],$p(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],XT(a,s,n)),n}function QT(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Wn(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function WT(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Wn(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function jT(a,t,n){const l={},s=u(t,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const c=u(t,["expireTime"]);return n!==void 0&&c!=null&&f(n,["expireTime"],c),l}function e_(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Wn(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],jT(a,s,n)),n}function t_(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);return n!==void 0&&c!=null&&f(n,["_query","pageToken"],c),l}function n_(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],t_(a,l,n)),n}function ja(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["model"]);c!=null&&f(n,["model"],c);const m=u(t,["createTime"]);m!=null&&f(n,["createTime"],m);const g=u(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const y=u(t,["expireTime"]);y!=null&&f(n,["expireTime"],y);const p=u(t,["usageMetadata"]);return p!=null&&f(n,["usageMetadata"],p),n}function i_(){return{}}function l_(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>ja(a,m))),f(n,["cachedContents"],c)}return n}function es(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["model"]);c!=null&&f(n,["model"],c);const m=u(t,["createTime"]);m!=null&&f(n,["createTime"],m);const g=u(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const y=u(t,["expireTime"]);y!=null&&f(n,["expireTime"],y);const p=u(t,["usageMetadata"]);return p!=null&&f(n,["usageMetadata"],p),n}function o_(){return{}}function a_(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>es(a,m))),f(n,["cachedContents"],c)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tl;(function(a){a.PAGED_ITEM_BATCH_JOBS="batchJobs",a.PAGED_ITEM_MODELS="models",a.PAGED_ITEM_TUNING_JOBS="tuningJobs",a.PAGED_ITEM_FILES="files",a.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Tl||(Tl={}));class ds{constructor(t,n,l,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,l,s)}init(t,n,l){var s,c;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};l?typeof l=="object"?m=Object.assign({},l):m=l:m={config:{}},m.config&&(m.config.pageToken=n.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(c=(s=m.config)===null||s===void 0?void 0:s.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s_ extends _l{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ds(Tl.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(n),n)}async create(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=$T(this.apiClient,t);return g=ue("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>es(this.apiClient,v))}else{const p=ET(this.apiClient,t);return g=ue("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>ja(this.apiClient,v))}}async get(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=QT(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>es(this.apiClient,v))}else{const p=xT(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>ja(this.apiClient,v))}}async delete(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=WT(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=o_(),C=new yp;return Object.assign(C,v),C})}else{const p=AT(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(()=>{const v=i_(),C=new yp;return Object.assign(C,v),C})}}async update(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=e_(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>es(this.apiClient,v))}else{const p=NT(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>ja(this.apiClient,v))}}async listInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=n_(this.apiClient,t);return g=ue("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const C=a_(this.apiClient,v),S=new vp;return Object.assign(S,C),S})}else{const p=DT(this.apiClient,t);return g=ue("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const C=l_(this.apiClient,v),S=new vp;return Object.assign(S,C),S})}}}function Ap(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],l=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ze(a){return this instanceof Ze?(this.v=a,this):new Ze(a)}function ml(a,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=n.apply(a,t||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),s[Symbol.asyncIterator]=function(){return this},s;function m(x){return function(U){return Promise.resolve(U).then(x,C)}}function g(x,U){l[x]&&(s[x]=function(k){return new Promise(function(P,W){c.push([x,k,P,W])>1||y(x,k)})},U&&(s[x]=U(s[x])))}function y(x,U){try{p(l[x](U))}catch(k){S(c[0][3],k)}}function p(x){x.value instanceof Ze?Promise.resolve(x.value.v).then(v,C):S(c[0][2],x)}function v(x){y("next",x)}function C(x){y("throw",x)}function S(x,U){x(U),c.shift(),c.length&&y(c[0][0],c[0][1])}}function bo(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=a[Symbol.asyncIterator],n;return t?t.call(a):(a=typeof Ap=="function"?Ap(a):a[Symbol.iterator](),n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n);function l(c){n[c]=a[c]&&function(m){return new Promise(function(g,y){m=a[c](m),s(g,y,m.done,m.value)})}}function s(c,m,g,y){Promise.resolve(y).then(function(p){c({value:p,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r_(a){var t;if(a.candidates==null||a.candidates.length===0)return!1;const n=(t=a.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:og(n)}function og(a){if(a.parts===void 0||a.parts.length===0)return!1;for(const t of a.parts)if(t===void 0||Object.keys(t).length===0||!t.thought&&t.text!==void 0&&t.text==="")return!1;return!0}function u_(a){if(a.length!==0){for(const t of a)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Mp(a){if(a===void 0||a.length===0)return[];const t=[],n=a.length;let l=0;for(;l<n;)if(a[l].role==="user")t.push(a[l]),l++;else{const s=[];let c=!0;for(;l<n&&a[l].role==="model";)s.push(a[l]),c&&!og(a[l])&&(c=!1),l++;c?t.push(...s):t.pop()}return t}class c_{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new f_(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class f_{constructor(t,n,l,s={},c=[]){this.apiClient=t,this.modelsModule=n,this.model=l,this.config=s,this.history=c,this.sendPromise=Promise.resolve(),u_(c)}async sendMessage(t){var n;await this.sendPromise;const l=Ct(this.apiClient,t.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var c,m,g;const y=await s,p=(m=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(C))!==null&&g!==void 0?g:[]);const x=p?[p]:[];this.recordHistory(l,x,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(t){var n;await this.sendPromise;const l=Ct(this.apiClient,t.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const c=await s;return this.processStreamResponse(c,l)}getHistory(t=!1){const n=t?Mp(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var l,s;return ml(this,arguments,function*(){var m,g,y,p;const v=[];try{for(var C=!0,S=bo(t),x;x=yield Ze(S.next()),m=x.done,!m;C=!0){p=x.value,C=!1;const U=p;if(r_(U)){const k=(s=(l=U.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content;k!==void 0&&v.push(k)}yield yield Ze(U)}}catch(U){g={error:U}}finally{try{!C&&!m&&(y=S.return)&&(yield Ze(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(n,v)})}recordHistory(t,n,l){let s=[];n.length>0&&n.every(c=>c.role!==void 0)?s=n:s.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Mp(l)):this.history.push(t),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d_(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);return n!==void 0&&c!=null&&f(n,["_query","pageToken"],c),l}function m_(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],d_(a,l,n)),n}function h_(a,t){const n={},l=u(t,["details"]);l!=null&&f(n,["details"],l);const s=u(t,["message"]);s!=null&&f(n,["message"],s);const c=u(t,["code"]);return c!=null&&f(n,["code"],c),n}function p_(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["mimeType"]);c!=null&&f(n,["mimeType"],c);const m=u(t,["sizeBytes"]);m!=null&&f(n,["sizeBytes"],m);const g=u(t,["createTime"]);g!=null&&f(n,["createTime"],g);const y=u(t,["expirationTime"]);y!=null&&f(n,["expirationTime"],y);const p=u(t,["updateTime"]);p!=null&&f(n,["updateTime"],p);const v=u(t,["sha256Hash"]);v!=null&&f(n,["sha256Hash"],v);const C=u(t,["uri"]);C!=null&&f(n,["uri"],C);const S=u(t,["downloadUri"]);S!=null&&f(n,["downloadUri"],S);const x=u(t,["state"]);x!=null&&f(n,["state"],x);const U=u(t,["source"]);U!=null&&f(n,["source"],U);const k=u(t,["videoMetadata"]);k!=null&&f(n,["videoMetadata"],k);const P=u(t,["error"]);return P!=null&&f(n,["error"],h_(a,P)),n}function g_(a,t){const n={},l=u(t,["file"]);l!=null&&f(n,["file"],p_(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function y_(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","file"],ng(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function v_(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","file"],ng(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function T_(a,t){const n={},l=u(t,["details"]);l!=null&&f(n,["details"],l);const s=u(t,["message"]);s!=null&&f(n,["message"],s);const c=u(t,["code"]);return c!=null&&f(n,["code"],c),n}function Yu(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["mimeType"]);c!=null&&f(n,["mimeType"],c);const m=u(t,["sizeBytes"]);m!=null&&f(n,["sizeBytes"],m);const g=u(t,["createTime"]);g!=null&&f(n,["createTime"],g);const y=u(t,["expirationTime"]);y!=null&&f(n,["expirationTime"],y);const p=u(t,["updateTime"]);p!=null&&f(n,["updateTime"],p);const v=u(t,["sha256Hash"]);v!=null&&f(n,["sha256Hash"],v);const C=u(t,["uri"]);C!=null&&f(n,["uri"],C);const S=u(t,["downloadUri"]);S!=null&&f(n,["downloadUri"],S);const x=u(t,["state"]);x!=null&&f(n,["state"],x);const U=u(t,["source"]);U!=null&&f(n,["source"],U);const k=u(t,["videoMetadata"]);k!=null&&f(n,["videoMetadata"],k);const P=u(t,["error"]);return P!=null&&f(n,["error"],T_(a,P)),n}function __(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["files"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>Yu(a,m))),f(n,["files"],c)}return n}function C_(){return{}}function S_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E_ extends _l{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ds(Tl.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>Yu(this.apiClient,n))}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=m_(this.apiClient,t);return c=ue("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const p=__(this.apiClient,y),v=new B0;return Object.assign(v,p),v})}}async createInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=g_(this.apiClient,t);return c=ue("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(()=>{const y=C_(),p=new q0;return Object.assign(p,y),p})}}async get(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=y_(this.apiClient,t);return c=ue("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>Yu(this.apiClient,y))}}async delete(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=v_(this.apiClient,t);return c=ue("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(()=>{const y=S_(),p=new H0;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x_(a,t){const n={},l=u(t,["voiceName"]);return l!=null&&f(n,["voiceName"],l),n}function A_(a,t){const n={},l=u(t,["voiceName"]);return l!=null&&f(n,["voiceName"],l),n}function ag(a,t){const n={},l=u(t,["prebuiltVoiceConfig"]);return l!=null&&f(n,["prebuiltVoiceConfig"],x_(a,l)),n}function M_(a,t){const n={},l=u(t,["prebuiltVoiceConfig"]);return l!=null&&f(n,["prebuiltVoiceConfig"],A_(a,l)),n}function N_(a,t){const n={},l=u(t,["speaker"]);l!=null&&f(n,["speaker"],l);const s=u(t,["voiceConfig"]);return s!=null&&f(n,["voiceConfig"],ag(a,s)),n}function R_(a,t){const n={},l=u(t,["speakerVoiceConfigs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>N_(a,c))),f(n,["speakerVoiceConfigs"],s)}return n}function D_(a,t){const n={},l=u(t,["voiceConfig"]);l!=null&&f(n,["voiceConfig"],ag(a,l));const s=u(t,["multiSpeakerVoiceConfig"]);s!=null&&f(n,["multiSpeakerVoiceConfig"],R_(a,s));const c=u(t,["languageCode"]);return c!=null&&f(n,["languageCode"],c),n}function b_(a,t){const n={},l=u(t,["voiceConfig"]);if(l!=null&&f(n,["voiceConfig"],M_(a,l)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function w_(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function U_(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function I_(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function k_(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["data"]);s!=null&&f(n,["data"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function V_(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function L_(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function G_(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],w_(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],I_(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],V_(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function O_(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],U_(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],k_(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],L_(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function z_(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>G_(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function P_(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>O_(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function B_(a,t){const n={},l=u(t,["behavior"]);l!=null&&f(n,["behavior"],l);const s=u(t,["description"]);s!=null&&f(n,["description"],s);const c=u(t,["name"]);c!=null&&f(n,["name"],c);const m=u(t,["parameters"]);m!=null&&f(n,["parameters"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],g),n}function q_(a,t){const n={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(t,["description"]);l!=null&&f(n,["description"],l);const s=u(t,["name"]);s!=null&&f(n,["name"],s);const c=u(t,["parameters"]);c!=null&&f(n,["parameters"],c);const m=u(t,["response"]);return m!=null&&f(n,["response"],m),n}function H_(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function F_(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function Y_(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],H_(a,l)),n}function Z_(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],F_(a,l)),n}function K_(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function J_(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function X_(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],K_(a,l)),n}function $_(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],J_(a,l)),n}function Q_(){return{}}function W_(a,t){const n={},l=u(t,["apiKeyString"]);return l!=null&&f(n,["apiKeyString"],l),n}function j_(a,t){const n={},l=u(t,["apiKeyConfig"]);l!=null&&f(n,["apiKeyConfig"],W_(a,l));const s=u(t,["authType"]);s!=null&&f(n,["authType"],s);const c=u(t,["googleServiceAccountConfig"]);c!=null&&f(n,["googleServiceAccountConfig"],c);const m=u(t,["httpBasicAuthConfig"]);m!=null&&f(n,["httpBasicAuthConfig"],m);const g=u(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const y=u(t,["oidcConfig"]);return y!=null&&f(n,["oidcConfig"],y),n}function eC(a,t){const n={},l=u(t,["authConfig"]);return l!=null&&f(n,["authConfig"],j_(a,l)),n}function tC(){return{}}function nC(){return{}}function iC(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>B_(a,p))),f(n,["functionDeclarations"],y)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(t,["googleSearch"]);s!=null&&f(n,["googleSearch"],Y_(a,s));const c=u(t,["googleSearchRetrieval"]);if(c!=null&&f(n,["googleSearchRetrieval"],X_(a,c)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(n,["urlContext"],tC());const g=u(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function lC(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(S=>q_(a,S))),f(n,["functionDeclarations"],C)}const s=u(t,["retrieval"]);s!=null&&f(n,["retrieval"],s);const c=u(t,["googleSearch"]);c!=null&&f(n,["googleSearch"],Z_(a,c));const m=u(t,["googleSearchRetrieval"]);m!=null&&f(n,["googleSearchRetrieval"],$_(a,m)),u(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],Q_());const y=u(t,["googleMaps"]);y!=null&&f(n,["googleMaps"],eC(a,y)),u(t,["urlContext"])!=null&&f(n,["urlContext"],nC());const v=u(t,["codeExecution"]);return v!=null&&f(n,["codeExecution"],v),n}function oC(a,t){const n={},l=u(t,["handle"]);if(l!=null&&f(n,["handle"],l),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function aC(a,t){const n={},l=u(t,["handle"]);l!=null&&f(n,["handle"],l);const s=u(t,["transparent"]);return s!=null&&f(n,["transparent"],s),n}function Np(){return{}}function Rp(){return{}}function sC(a,t){const n={},l=u(t,["disabled"]);l!=null&&f(n,["disabled"],l);const s=u(t,["startOfSpeechSensitivity"]);s!=null&&f(n,["startOfSpeechSensitivity"],s);const c=u(t,["endOfSpeechSensitivity"]);c!=null&&f(n,["endOfSpeechSensitivity"],c);const m=u(t,["prefixPaddingMs"]);m!=null&&f(n,["prefixPaddingMs"],m);const g=u(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function rC(a,t){const n={},l=u(t,["disabled"]);l!=null&&f(n,["disabled"],l);const s=u(t,["startOfSpeechSensitivity"]);s!=null&&f(n,["startOfSpeechSensitivity"],s);const c=u(t,["endOfSpeechSensitivity"]);c!=null&&f(n,["endOfSpeechSensitivity"],c);const m=u(t,["prefixPaddingMs"]);m!=null&&f(n,["prefixPaddingMs"],m);const g=u(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function uC(a,t){const n={},l=u(t,["automaticActivityDetection"]);l!=null&&f(n,["automaticActivityDetection"],sC(a,l));const s=u(t,["activityHandling"]);s!=null&&f(n,["activityHandling"],s);const c=u(t,["turnCoverage"]);return c!=null&&f(n,["turnCoverage"],c),n}function cC(a,t){const n={},l=u(t,["automaticActivityDetection"]);l!=null&&f(n,["automaticActivityDetection"],rC(a,l));const s=u(t,["activityHandling"]);s!=null&&f(n,["activityHandling"],s);const c=u(t,["turnCoverage"]);return c!=null&&f(n,["turnCoverage"],c),n}function fC(a,t){const n={},l=u(t,["targetTokens"]);return l!=null&&f(n,["targetTokens"],l),n}function dC(a,t){const n={},l=u(t,["targetTokens"]);return l!=null&&f(n,["targetTokens"],l),n}function mC(a,t){const n={},l=u(t,["triggerTokens"]);l!=null&&f(n,["triggerTokens"],l);const s=u(t,["slidingWindow"]);return s!=null&&f(n,["slidingWindow"],fC(a,s)),n}function hC(a,t){const n={},l=u(t,["triggerTokens"]);l!=null&&f(n,["triggerTokens"],l);const s=u(t,["slidingWindow"]);return s!=null&&f(n,["slidingWindow"],dC(a,s)),n}function pC(a,t){const n={},l=u(t,["proactiveAudio"]);return l!=null&&f(n,["proactiveAudio"],l),n}function gC(a,t){const n={},l=u(t,["proactiveAudio"]);return l!=null&&f(n,["proactiveAudio"],l),n}function yC(a,t,n){const l={},s=u(t,["generationConfig"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig"],s);const c=u(t,["responseModalities"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","responseModalities"],c);const m=u(t,["temperature"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","temperature"],m);const g=u(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const y=u(t,["topK"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","topK"],y);const p=u(t,["maxOutputTokens"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","maxOutputTokens"],p);const v=u(t,["mediaResolution"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","mediaResolution"],v);const C=u(t,["seed"]);n!==void 0&&C!=null&&f(n,["setup","generationConfig","seed"],C);const S=u(t,["speechConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","speechConfig"],D_(a,oc(a,S)));const x=u(t,["enableAffectiveDialog"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],x);const U=u(t,["systemInstruction"]);n!==void 0&&U!=null&&f(n,["setup","systemInstruction"],z_(a,Ct(a,U)));const k=u(t,["tools"]);if(n!==void 0&&k!=null){let ne=Io(a,k);Array.isArray(ne)&&(ne=ne.map(me=>iC(a,Uo(a,me)))),f(n,["setup","tools"],ne)}const P=u(t,["sessionResumption"]);n!==void 0&&P!=null&&f(n,["setup","sessionResumption"],oC(a,P));const W=u(t,["inputAudioTranscription"]);n!==void 0&&W!=null&&f(n,["setup","inputAudioTranscription"],Np());const Z=u(t,["outputAudioTranscription"]);n!==void 0&&Z!=null&&f(n,["setup","outputAudioTranscription"],Np());const Q=u(t,["realtimeInputConfig"]);n!==void 0&&Q!=null&&f(n,["setup","realtimeInputConfig"],uC(a,Q));const le=u(t,["contextWindowCompression"]);n!==void 0&&le!=null&&f(n,["setup","contextWindowCompression"],mC(a,le));const F=u(t,["proactivity"]);return n!==void 0&&F!=null&&f(n,["setup","proactivity"],pC(a,F)),l}function vC(a,t,n){const l={},s=u(t,["generationConfig"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig"],s);const c=u(t,["responseModalities"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","responseModalities"],c);const m=u(t,["temperature"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","temperature"],m);const g=u(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const y=u(t,["topK"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","topK"],y);const p=u(t,["maxOutputTokens"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","maxOutputTokens"],p);const v=u(t,["mediaResolution"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","mediaResolution"],v);const C=u(t,["seed"]);n!==void 0&&C!=null&&f(n,["setup","generationConfig","seed"],C);const S=u(t,["speechConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","speechConfig"],b_(a,oc(a,S)));const x=u(t,["enableAffectiveDialog"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],x);const U=u(t,["systemInstruction"]);n!==void 0&&U!=null&&f(n,["setup","systemInstruction"],P_(a,Ct(a,U)));const k=u(t,["tools"]);if(n!==void 0&&k!=null){let ne=Io(a,k);Array.isArray(ne)&&(ne=ne.map(me=>lC(a,Uo(a,me)))),f(n,["setup","tools"],ne)}const P=u(t,["sessionResumption"]);n!==void 0&&P!=null&&f(n,["setup","sessionResumption"],aC(a,P));const W=u(t,["inputAudioTranscription"]);n!==void 0&&W!=null&&f(n,["setup","inputAudioTranscription"],Rp());const Z=u(t,["outputAudioTranscription"]);n!==void 0&&Z!=null&&f(n,["setup","outputAudioTranscription"],Rp());const Q=u(t,["realtimeInputConfig"]);n!==void 0&&Q!=null&&f(n,["setup","realtimeInputConfig"],cC(a,Q));const le=u(t,["contextWindowCompression"]);n!==void 0&&le!=null&&f(n,["setup","contextWindowCompression"],hC(a,le));const F=u(t,["proactivity"]);return n!==void 0&&F!=null&&f(n,["setup","proactivity"],gC(a,F)),l}function TC(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["setup","model"],Ye(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],yC(a,s,n)),n}function _C(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["setup","model"],Ye(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],vC(a,s,n)),n}function CC(){return{}}function SC(){return{}}function EC(){return{}}function xC(){return{}}function AC(a,t){const n={},l=u(t,["media"]);l!=null&&f(n,["mediaChunks"],Qp(a,l));const s=u(t,["audio"]);s!=null&&f(n,["audio"],K0(a,s));const c=u(t,["audioStreamEnd"]);c!=null&&f(n,["audioStreamEnd"],c);const m=u(t,["video"]);m!=null&&f(n,["video"],Z0(a,m));const g=u(t,["text"]);return g!=null&&f(n,["text"],g),u(t,["activityStart"])!=null&&f(n,["activityStart"],CC()),u(t,["activityEnd"])!=null&&f(n,["activityEnd"],EC()),n}function MC(a,t){const n={},l=u(t,["media"]);if(l!=null&&f(n,["mediaChunks"],Qp(a,l)),u(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const s=u(t,["audioStreamEnd"]);if(s!=null&&f(n,["audioStreamEnd"],s),u(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(t,["activityStart"])!=null&&f(n,["activityStart"],SC()),u(t,["activityEnd"])!=null&&f(n,["activityEnd"],xC()),n}function sg(a,t){const n={},l=u(t,["text"]);l!=null&&f(n,["text"],l);const s=u(t,["weight"]);return s!=null&&f(n,["weight"],s),n}function NC(a,t){const n={},l=u(t,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>sg(a,c))),f(n,["weightedPrompts"],s)}return n}function rg(a,t){const n={},l=u(t,["temperature"]);l!=null&&f(n,["temperature"],l);const s=u(t,["topK"]);s!=null&&f(n,["topK"],s);const c=u(t,["seed"]);c!=null&&f(n,["seed"],c);const m=u(t,["guidance"]);m!=null&&f(n,["guidance"],m);const g=u(t,["bpm"]);g!=null&&f(n,["bpm"],g);const y=u(t,["density"]);y!=null&&f(n,["density"],y);const p=u(t,["brightness"]);p!=null&&f(n,["brightness"],p);const v=u(t,["scale"]);v!=null&&f(n,["scale"],v);const C=u(t,["muteBass"]);C!=null&&f(n,["muteBass"],C);const S=u(t,["muteDrums"]);S!=null&&f(n,["muteDrums"],S);const x=u(t,["onlyBassAndDrums"]);return x!=null&&f(n,["onlyBassAndDrums"],x),n}function RC(a,t){const n={},l=u(t,["musicGenerationConfig"]);return l!=null&&f(n,["musicGenerationConfig"],rg(a,l)),n}function ug(a,t){const n={},l=u(t,["model"]);return l!=null&&f(n,["model"],l),n}function cg(a,t){const n={},l=u(t,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>sg(a,c))),f(n,["weightedPrompts"],s)}return n}function Zu(a,t){const n={},l=u(t,["setup"]);l!=null&&f(n,["setup"],ug(a,l));const s=u(t,["clientContent"]);s!=null&&f(n,["clientContent"],cg(a,s));const c=u(t,["musicGenerationConfig"]);c!=null&&f(n,["musicGenerationConfig"],rg(a,c));const m=u(t,["playbackControl"]);return m!=null&&f(n,["playbackControl"],m),n}function DC(){return{}}function bC(){return{}}function wC(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function UC(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function IC(a,t){const n={},l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function kC(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["data"]);s!=null&&f(n,["data"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function VC(a,t){const n={},l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function LC(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function GC(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],wC(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],IC(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],VC(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function OC(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],UC(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],kC(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],LC(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function zC(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>GC(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function PC(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>OC(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function Dp(a,t){const n={},l=u(t,["text"]);l!=null&&f(n,["text"],l);const s=u(t,["finished"]);return s!=null&&f(n,["finished"],s),n}function bp(a,t){const n={},l=u(t,["text"]);l!=null&&f(n,["text"],l);const s=u(t,["finished"]);return s!=null&&f(n,["finished"],s),n}function BC(a,t){const n={},l=u(t,["retrievedUrl"]);l!=null&&f(n,["retrievedUrl"],l);const s=u(t,["urlRetrievalStatus"]);return s!=null&&f(n,["urlRetrievalStatus"],s),n}function qC(a,t){const n={},l=u(t,["urlMetadata"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>BC(a,c))),f(n,["urlMetadata"],s)}return n}function HC(a,t){const n={},l=u(t,["modelTurn"]);l!=null&&f(n,["modelTurn"],zC(a,l));const s=u(t,["turnComplete"]);s!=null&&f(n,["turnComplete"],s);const c=u(t,["interrupted"]);c!=null&&f(n,["interrupted"],c);const m=u(t,["groundingMetadata"]);m!=null&&f(n,["groundingMetadata"],m);const g=u(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const y=u(t,["inputTranscription"]);y!=null&&f(n,["inputTranscription"],Dp(a,y));const p=u(t,["outputTranscription"]);p!=null&&f(n,["outputTranscription"],Dp(a,p));const v=u(t,["urlContextMetadata"]);return v!=null&&f(n,["urlContextMetadata"],qC(a,v)),n}function FC(a,t){const n={},l=u(t,["modelTurn"]);l!=null&&f(n,["modelTurn"],PC(a,l));const s=u(t,["turnComplete"]);s!=null&&f(n,["turnComplete"],s);const c=u(t,["interrupted"]);c!=null&&f(n,["interrupted"],c);const m=u(t,["groundingMetadata"]);m!=null&&f(n,["groundingMetadata"],m);const g=u(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const y=u(t,["inputTranscription"]);y!=null&&f(n,["inputTranscription"],bp(a,y));const p=u(t,["outputTranscription"]);return p!=null&&f(n,["outputTranscription"],bp(a,p)),n}function YC(a,t){const n={},l=u(t,["id"]);l!=null&&f(n,["id"],l);const s=u(t,["args"]);s!=null&&f(n,["args"],s);const c=u(t,["name"]);return c!=null&&f(n,["name"],c),n}function ZC(a,t){const n={},l=u(t,["args"]);l!=null&&f(n,["args"],l);const s=u(t,["name"]);return s!=null&&f(n,["name"],s),n}function KC(a,t){const n={},l=u(t,["functionCalls"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>YC(a,c))),f(n,["functionCalls"],s)}return n}function JC(a,t){const n={},l=u(t,["functionCalls"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>ZC(a,c))),f(n,["functionCalls"],s)}return n}function XC(a,t){const n={},l=u(t,["ids"]);return l!=null&&f(n,["ids"],l),n}function $C(a,t){const n={},l=u(t,["ids"]);return l!=null&&f(n,["ids"],l),n}function Qa(a,t){const n={},l=u(t,["modality"]);l!=null&&f(n,["modality"],l);const s=u(t,["tokenCount"]);return s!=null&&f(n,["tokenCount"],s),n}function Wa(a,t){const n={},l=u(t,["modality"]);l!=null&&f(n,["modality"],l);const s=u(t,["tokenCount"]);return s!=null&&f(n,["tokenCount"],s),n}function QC(a,t){const n={},l=u(t,["promptTokenCount"]);l!=null&&f(n,["promptTokenCount"],l);const s=u(t,["cachedContentTokenCount"]);s!=null&&f(n,["cachedContentTokenCount"],s);const c=u(t,["responseTokenCount"]);c!=null&&f(n,["responseTokenCount"],c);const m=u(t,["toolUsePromptTokenCount"]);m!=null&&f(n,["toolUsePromptTokenCount"],m);const g=u(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const y=u(t,["totalTokenCount"]);y!=null&&f(n,["totalTokenCount"],y);const p=u(t,["promptTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(U=>Qa(a,U))),f(n,["promptTokensDetails"],x)}const v=u(t,["cacheTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(U=>Qa(a,U))),f(n,["cacheTokensDetails"],x)}const C=u(t,["responseTokensDetails"]);if(C!=null){let x=C;Array.isArray(x)&&(x=x.map(U=>Qa(a,U))),f(n,["responseTokensDetails"],x)}const S=u(t,["toolUsePromptTokensDetails"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(U=>Qa(a,U))),f(n,["toolUsePromptTokensDetails"],x)}return n}function WC(a,t){const n={},l=u(t,["promptTokenCount"]);l!=null&&f(n,["promptTokenCount"],l);const s=u(t,["cachedContentTokenCount"]);s!=null&&f(n,["cachedContentTokenCount"],s);const c=u(t,["candidatesTokenCount"]);c!=null&&f(n,["responseTokenCount"],c);const m=u(t,["toolUsePromptTokenCount"]);m!=null&&f(n,["toolUsePromptTokenCount"],m);const g=u(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const y=u(t,["totalTokenCount"]);y!=null&&f(n,["totalTokenCount"],y);const p=u(t,["promptTokensDetails"]);if(p!=null){let U=p;Array.isArray(U)&&(U=U.map(k=>Wa(a,k))),f(n,["promptTokensDetails"],U)}const v=u(t,["cacheTokensDetails"]);if(v!=null){let U=v;Array.isArray(U)&&(U=U.map(k=>Wa(a,k))),f(n,["cacheTokensDetails"],U)}const C=u(t,["candidatesTokensDetails"]);if(C!=null){let U=C;Array.isArray(U)&&(U=U.map(k=>Wa(a,k))),f(n,["responseTokensDetails"],U)}const S=u(t,["toolUsePromptTokensDetails"]);if(S!=null){let U=S;Array.isArray(U)&&(U=U.map(k=>Wa(a,k))),f(n,["toolUsePromptTokensDetails"],U)}const x=u(t,["trafficType"]);return x!=null&&f(n,["trafficType"],x),n}function jC(a,t){const n={},l=u(t,["timeLeft"]);return l!=null&&f(n,["timeLeft"],l),n}function eS(a,t){const n={},l=u(t,["timeLeft"]);return l!=null&&f(n,["timeLeft"],l),n}function tS(a,t){const n={},l=u(t,["newHandle"]);l!=null&&f(n,["newHandle"],l);const s=u(t,["resumable"]);s!=null&&f(n,["resumable"],s);const c=u(t,["lastConsumedClientMessageIndex"]);return c!=null&&f(n,["lastConsumedClientMessageIndex"],c),n}function nS(a,t){const n={},l=u(t,["newHandle"]);l!=null&&f(n,["newHandle"],l);const s=u(t,["resumable"]);s!=null&&f(n,["resumable"],s);const c=u(t,["lastConsumedClientMessageIndex"]);return c!=null&&f(n,["lastConsumedClientMessageIndex"],c),n}function iS(a,t){const n={};u(t,["setupComplete"])!=null&&f(n,["setupComplete"],DC());const s=u(t,["serverContent"]);s!=null&&f(n,["serverContent"],HC(a,s));const c=u(t,["toolCall"]);c!=null&&f(n,["toolCall"],KC(a,c));const m=u(t,["toolCallCancellation"]);m!=null&&f(n,["toolCallCancellation"],XC(a,m));const g=u(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],QC(a,g));const y=u(t,["goAway"]);y!=null&&f(n,["goAway"],jC(a,y));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(n,["sessionResumptionUpdate"],tS(a,p)),n}function lS(a,t){const n={};u(t,["setupComplete"])!=null&&f(n,["setupComplete"],bC());const s=u(t,["serverContent"]);s!=null&&f(n,["serverContent"],FC(a,s));const c=u(t,["toolCall"]);c!=null&&f(n,["toolCall"],JC(a,c));const m=u(t,["toolCallCancellation"]);m!=null&&f(n,["toolCallCancellation"],$C(a,m));const g=u(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],WC(a,g));const y=u(t,["goAway"]);y!=null&&f(n,["goAway"],eS(a,y));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(n,["sessionResumptionUpdate"],nS(a,p)),n}function oS(){return{}}function aS(a,t){const n={},l=u(t,["text"]);l!=null&&f(n,["text"],l);const s=u(t,["weight"]);return s!=null&&f(n,["weight"],s),n}function sS(a,t){const n={},l=u(t,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>aS(a,c))),f(n,["weightedPrompts"],s)}return n}function rS(a,t){const n={},l=u(t,["temperature"]);l!=null&&f(n,["temperature"],l);const s=u(t,["topK"]);s!=null&&f(n,["topK"],s);const c=u(t,["seed"]);c!=null&&f(n,["seed"],c);const m=u(t,["guidance"]);m!=null&&f(n,["guidance"],m);const g=u(t,["bpm"]);g!=null&&f(n,["bpm"],g);const y=u(t,["density"]);y!=null&&f(n,["density"],y);const p=u(t,["brightness"]);p!=null&&f(n,["brightness"],p);const v=u(t,["scale"]);v!=null&&f(n,["scale"],v);const C=u(t,["muteBass"]);C!=null&&f(n,["muteBass"],C);const S=u(t,["muteDrums"]);S!=null&&f(n,["muteDrums"],S);const x=u(t,["onlyBassAndDrums"]);return x!=null&&f(n,["onlyBassAndDrums"],x),n}function uS(a,t){const n={},l=u(t,["clientContent"]);l!=null&&f(n,["clientContent"],sS(a,l));const s=u(t,["musicGenerationConfig"]);return s!=null&&f(n,["musicGenerationConfig"],rS(a,s)),n}function cS(a,t){const n={},l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);s!=null&&f(n,["mimeType"],s);const c=u(t,["sourceMetadata"]);return c!=null&&f(n,["sourceMetadata"],uS(a,c)),n}function fS(a,t){const n={},l=u(t,["audioChunks"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>cS(a,c))),f(n,["audioChunks"],s)}return n}function dS(a,t){const n={},l=u(t,["text"]);l!=null&&f(n,["text"],l);const s=u(t,["filteredReason"]);return s!=null&&f(n,["filteredReason"],s),n}function mS(a,t){const n={};u(t,["setupComplete"])!=null&&f(n,["setupComplete"],oS());const s=u(t,["serverContent"]);s!=null&&f(n,["serverContent"],fS(a,s));const c=u(t,["filteredPrompt"]);return c!=null&&f(n,["filteredPrompt"],dS(a,c)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hS(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function pS(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function gS(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function yS(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],hS(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],pS(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],gS(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function ms(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>yS(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function vS(a,t){const n={},l=u(t,["anyOf"]);l!=null&&f(n,["anyOf"],l);const s=u(t,["default"]);s!=null&&f(n,["default"],s);const c=u(t,["description"]);c!=null&&f(n,["description"],c);const m=u(t,["enum"]);m!=null&&f(n,["enum"],m);const g=u(t,["example"]);g!=null&&f(n,["example"],g);const y=u(t,["format"]);y!=null&&f(n,["format"],y);const p=u(t,["items"]);p!=null&&f(n,["items"],p);const v=u(t,["maxItems"]);v!=null&&f(n,["maxItems"],v);const C=u(t,["maxLength"]);C!=null&&f(n,["maxLength"],C);const S=u(t,["maxProperties"]);S!=null&&f(n,["maxProperties"],S);const x=u(t,["maximum"]);x!=null&&f(n,["maximum"],x);const U=u(t,["minItems"]);U!=null&&f(n,["minItems"],U);const k=u(t,["minLength"]);k!=null&&f(n,["minLength"],k);const P=u(t,["minProperties"]);P!=null&&f(n,["minProperties"],P);const W=u(t,["minimum"]);W!=null&&f(n,["minimum"],W);const Z=u(t,["nullable"]);Z!=null&&f(n,["nullable"],Z);const Q=u(t,["pattern"]);Q!=null&&f(n,["pattern"],Q);const le=u(t,["properties"]);le!=null&&f(n,["properties"],le);const F=u(t,["propertyOrdering"]);F!=null&&f(n,["propertyOrdering"],F);const ne=u(t,["required"]);ne!=null&&f(n,["required"],ne);const me=u(t,["title"]);me!=null&&f(n,["title"],me);const he=u(t,["type"]);return he!=null&&f(n,["type"],he),n}function TS(a,t){const n={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(t,["category"]);l!=null&&f(n,["category"],l);const s=u(t,["threshold"]);return s!=null&&f(n,["threshold"],s),n}function _S(a,t){const n={},l=u(t,["behavior"]);l!=null&&f(n,["behavior"],l);const s=u(t,["description"]);s!=null&&f(n,["description"],s);const c=u(t,["name"]);c!=null&&f(n,["name"],c);const m=u(t,["parameters"]);m!=null&&f(n,["parameters"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],g),n}function CS(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function SS(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],CS(a,l)),n}function ES(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function xS(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],ES(a,l)),n}function AS(){return{}}function MS(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>_S(a,p))),f(n,["functionDeclarations"],y)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(t,["googleSearch"]);s!=null&&f(n,["googleSearch"],SS(a,s));const c=u(t,["googleSearchRetrieval"]);if(c!=null&&f(n,["googleSearchRetrieval"],xS(a,c)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(n,["urlContext"],AS());const g=u(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function NS(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["allowedFunctionNames"]);return s!=null&&f(n,["allowedFunctionNames"],s),n}function RS(a,t){const n={},l=u(t,["latitude"]);l!=null&&f(n,["latitude"],l);const s=u(t,["longitude"]);return s!=null&&f(n,["longitude"],s),n}function DS(a,t){const n={},l=u(t,["latLng"]);l!=null&&f(n,["latLng"],RS(a,l));const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function bS(a,t){const n={},l=u(t,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],NS(a,l));const s=u(t,["retrievalConfig"]);return s!=null&&f(n,["retrievalConfig"],DS(a,s)),n}function wS(a,t){const n={},l=u(t,["voiceName"]);return l!=null&&f(n,["voiceName"],l),n}function fg(a,t){const n={},l=u(t,["prebuiltVoiceConfig"]);return l!=null&&f(n,["prebuiltVoiceConfig"],wS(a,l)),n}function US(a,t){const n={},l=u(t,["speaker"]);l!=null&&f(n,["speaker"],l);const s=u(t,["voiceConfig"]);return s!=null&&f(n,["voiceConfig"],fg(a,s)),n}function IS(a,t){const n={},l=u(t,["speakerVoiceConfigs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>US(a,c))),f(n,["speakerVoiceConfigs"],s)}return n}function kS(a,t){const n={},l=u(t,["voiceConfig"]);l!=null&&f(n,["voiceConfig"],fg(a,l));const s=u(t,["multiSpeakerVoiceConfig"]);s!=null&&f(n,["multiSpeakerVoiceConfig"],IS(a,s));const c=u(t,["languageCode"]);return c!=null&&f(n,["languageCode"],c),n}function VS(a,t){const n={},l=u(t,["includeThoughts"]);l!=null&&f(n,["includeThoughts"],l);const s=u(t,["thinkingBudget"]);return s!=null&&f(n,["thinkingBudget"],s),n}function LS(a,t,n){const l={},s=u(t,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],ms(a,Ct(a,s)));const c=u(t,["temperature"]);c!=null&&f(l,["temperature"],c);const m=u(t,["topP"]);m!=null&&f(l,["topP"],m);const g=u(t,["topK"]);g!=null&&f(l,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const p=u(t,["maxOutputTokens"]);p!=null&&f(l,["maxOutputTokens"],p);const v=u(t,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const C=u(t,["responseLogprobs"]);C!=null&&f(l,["responseLogprobs"],C);const S=u(t,["logprobs"]);S!=null&&f(l,["logprobs"],S);const x=u(t,["presencePenalty"]);x!=null&&f(l,["presencePenalty"],x);const U=u(t,["frequencyPenalty"]);U!=null&&f(l,["frequencyPenalty"],U);const k=u(t,["seed"]);k!=null&&f(l,["seed"],k);const P=u(t,["responseMimeType"]);P!=null&&f(l,["responseMimeType"],P);const W=u(t,["responseSchema"]);if(W!=null&&f(l,["responseSchema"],vS(a,cs(a,W))),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Z=u(t,["safetySettings"]);if(n!==void 0&&Z!=null){let ge=Z;Array.isArray(ge)&&(ge=ge.map(Pe=>TS(a,Pe))),f(n,["safetySettings"],ge)}const Q=u(t,["tools"]);if(n!==void 0&&Q!=null){let ge=Io(a,Q);Array.isArray(ge)&&(ge=ge.map(Pe=>MS(a,Uo(a,Pe)))),f(n,["tools"],ge)}const le=u(t,["toolConfig"]);if(n!==void 0&&le!=null&&f(n,["toolConfig"],bS(a,le)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=u(t,["cachedContent"]);n!==void 0&&F!=null&&f(n,["cachedContent"],Wn(a,F));const ne=u(t,["responseModalities"]);ne!=null&&f(l,["responseModalities"],ne);const me=u(t,["mediaResolution"]);me!=null&&f(l,["mediaResolution"],me);const he=u(t,["speechConfig"]);if(he!=null&&f(l,["speechConfig"],kS(a,eg(a,he))),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=u(t,["thinkingConfig"]);return te!=null&&f(l,["thinkingConfig"],VS(a,te)),l}function wp(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["contents"]);if(s!=null){let m=$t(a,s);Array.isArray(m)&&(m=m.map(g=>ms(a,g))),f(n,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(n,["generationConfig"],LS(a,c,n)),n}function GS(a,t,n){const l={},s=u(t,["taskType"]);n!==void 0&&s!=null&&f(n,["requests[]","taskType"],s);const c=u(t,["title"]);n!==void 0&&c!=null&&f(n,["requests[]","title"],c);const m=u(t,["outputDimensionality"]);if(n!==void 0&&m!=null&&f(n,["requests[]","outputDimensionality"],m),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function OS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["contents"]);s!=null&&f(n,["requests[]","content"],jp(a,s));const c=u(t,["config"]);c!=null&&f(n,["config"],GS(a,c,n));const m=u(t,["model"]);return m!==void 0&&f(n,["requests[]","model"],Ye(a,m)),n}function zS(a,t,n){const l={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(t,["numberOfImages"]);n!==void 0&&s!=null&&f(n,["parameters","sampleCount"],s);const c=u(t,["aspectRatio"]);n!==void 0&&c!=null&&f(n,["parameters","aspectRatio"],c);const m=u(t,["guidanceScale"]);if(n!==void 0&&m!=null&&f(n,["parameters","guidanceScale"],m),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(t,["safetyFilterLevel"]);n!==void 0&&g!=null&&f(n,["parameters","safetySetting"],g);const y=u(t,["personGeneration"]);n!==void 0&&y!=null&&f(n,["parameters","personGeneration"],y);const p=u(t,["includeSafetyAttributes"]);n!==void 0&&p!=null&&f(n,["parameters","includeSafetyAttributes"],p);const v=u(t,["includeRaiReason"]);n!==void 0&&v!=null&&f(n,["parameters","includeRaiReason"],v);const C=u(t,["language"]);n!==void 0&&C!=null&&f(n,["parameters","language"],C);const S=u(t,["outputMimeType"]);n!==void 0&&S!=null&&f(n,["parameters","outputOptions","mimeType"],S);const x=u(t,["outputCompressionQuality"]);if(n!==void 0&&x!=null&&f(n,["parameters","outputOptions","compressionQuality"],x),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function PS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const c=u(t,["config"]);return c!=null&&f(n,["config"],zS(a,c,n)),n}function BS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","name"],Ye(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function qS(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=u(t,["filter"]);n!==void 0&&m!=null&&f(n,["_query","filter"],m);const g=u(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],ig(a,g)),l}function HS(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],qS(a,l,n)),n}function FS(a,t,n){const l={},s=u(t,["displayName"]);n!==void 0&&s!=null&&f(n,["displayName"],s);const c=u(t,["description"]);n!==void 0&&c!=null&&f(n,["description"],c);const m=u(t,["defaultCheckpointId"]);return n!==void 0&&m!=null&&f(n,["defaultCheckpointId"],m),l}function YS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","name"],Ye(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],FS(a,s,n)),n}function ZS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","name"],Ye(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function KS(a,t){const n={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function JS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["contents"]);if(s!=null){let m=$t(a,s);Array.isArray(m)&&(m=m.map(g=>ms(a,g))),f(n,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(n,["config"],KS(a,c)),n}function XS(a,t){const n={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(t,["imageBytes"]);l!=null&&f(n,["bytesBase64Encoded"],jn(a,l));const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function $S(a,t,n){const l={},s=u(t,["numberOfVideos"]);if(n!==void 0&&s!=null&&f(n,["parameters","sampleCount"],s),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(t,["durationSeconds"]);if(n!==void 0&&c!=null&&f(n,["parameters","durationSeconds"],c),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(t,["aspectRatio"]);if(n!==void 0&&m!=null&&f(n,["parameters","aspectRatio"],m),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=u(t,["personGeneration"]);if(n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(t,["negativePrompt"]);n!==void 0&&y!=null&&f(n,["parameters","negativePrompt"],y);const p=u(t,["enhancePrompt"]);if(n!==void 0&&p!=null&&f(n,["parameters","enhancePrompt"],p),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return l}function QS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const c=u(t,["image"]);c!=null&&f(n,["instances[0]","image"],XS(a,c));const m=u(t,["config"]);return m!=null&&f(n,["config"],$S(a,m,n)),n}function WS(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function jS(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["data"]);s!=null&&f(n,["data"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function eE(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function tE(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],WS(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],jS(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],eE(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function Cl(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>tE(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function nE(a,t){const n={},l=u(t,["anyOf"]);l!=null&&f(n,["anyOf"],l);const s=u(t,["default"]);s!=null&&f(n,["default"],s);const c=u(t,["description"]);c!=null&&f(n,["description"],c);const m=u(t,["enum"]);m!=null&&f(n,["enum"],m);const g=u(t,["example"]);g!=null&&f(n,["example"],g);const y=u(t,["format"]);y!=null&&f(n,["format"],y);const p=u(t,["items"]);p!=null&&f(n,["items"],p);const v=u(t,["maxItems"]);v!=null&&f(n,["maxItems"],v);const C=u(t,["maxLength"]);C!=null&&f(n,["maxLength"],C);const S=u(t,["maxProperties"]);S!=null&&f(n,["maxProperties"],S);const x=u(t,["maximum"]);x!=null&&f(n,["maximum"],x);const U=u(t,["minItems"]);U!=null&&f(n,["minItems"],U);const k=u(t,["minLength"]);k!=null&&f(n,["minLength"],k);const P=u(t,["minProperties"]);P!=null&&f(n,["minProperties"],P);const W=u(t,["minimum"]);W!=null&&f(n,["minimum"],W);const Z=u(t,["nullable"]);Z!=null&&f(n,["nullable"],Z);const Q=u(t,["pattern"]);Q!=null&&f(n,["pattern"],Q);const le=u(t,["properties"]);le!=null&&f(n,["properties"],le);const F=u(t,["propertyOrdering"]);F!=null&&f(n,["propertyOrdering"],F);const ne=u(t,["required"]);ne!=null&&f(n,["required"],ne);const me=u(t,["title"]);me!=null&&f(n,["title"],me);const he=u(t,["type"]);return he!=null&&f(n,["type"],he),n}function iE(a,t){const n={},l=u(t,["featureSelectionPreference"]);return l!=null&&f(n,["featureSelectionPreference"],l),n}function lE(a,t){const n={},l=u(t,["method"]);l!=null&&f(n,["method"],l);const s=u(t,["category"]);s!=null&&f(n,["category"],s);const c=u(t,["threshold"]);return c!=null&&f(n,["threshold"],c),n}function oE(a,t){const n={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(t,["description"]);l!=null&&f(n,["description"],l);const s=u(t,["name"]);s!=null&&f(n,["name"],s);const c=u(t,["parameters"]);c!=null&&f(n,["parameters"],c);const m=u(t,["response"]);return m!=null&&f(n,["response"],m),n}function aE(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function sE(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],aE(a,l)),n}function rE(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function uE(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],rE(a,l)),n}function cE(){return{}}function fE(a,t){const n={},l=u(t,["apiKeyString"]);return l!=null&&f(n,["apiKeyString"],l),n}function dE(a,t){const n={},l=u(t,["apiKeyConfig"]);l!=null&&f(n,["apiKeyConfig"],fE(a,l));const s=u(t,["authType"]);s!=null&&f(n,["authType"],s);const c=u(t,["googleServiceAccountConfig"]);c!=null&&f(n,["googleServiceAccountConfig"],c);const m=u(t,["httpBasicAuthConfig"]);m!=null&&f(n,["httpBasicAuthConfig"],m);const g=u(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const y=u(t,["oidcConfig"]);return y!=null&&f(n,["oidcConfig"],y),n}function mE(a,t){const n={},l=u(t,["authConfig"]);return l!=null&&f(n,["authConfig"],dE(a,l)),n}function hE(){return{}}function dg(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(S=>oE(a,S))),f(n,["functionDeclarations"],C)}const s=u(t,["retrieval"]);s!=null&&f(n,["retrieval"],s);const c=u(t,["googleSearch"]);c!=null&&f(n,["googleSearch"],sE(a,c));const m=u(t,["googleSearchRetrieval"]);m!=null&&f(n,["googleSearchRetrieval"],uE(a,m)),u(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],cE());const y=u(t,["googleMaps"]);y!=null&&f(n,["googleMaps"],mE(a,y)),u(t,["urlContext"])!=null&&f(n,["urlContext"],hE());const v=u(t,["codeExecution"]);return v!=null&&f(n,["codeExecution"],v),n}function pE(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["allowedFunctionNames"]);return s!=null&&f(n,["allowedFunctionNames"],s),n}function gE(a,t){const n={},l=u(t,["latitude"]);l!=null&&f(n,["latitude"],l);const s=u(t,["longitude"]);return s!=null&&f(n,["longitude"],s),n}function yE(a,t){const n={},l=u(t,["latLng"]);l!=null&&f(n,["latLng"],gE(a,l));const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function vE(a,t){const n={},l=u(t,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],pE(a,l));const s=u(t,["retrievalConfig"]);return s!=null&&f(n,["retrievalConfig"],yE(a,s)),n}function TE(a,t){const n={},l=u(t,["voiceName"]);return l!=null&&f(n,["voiceName"],l),n}function _E(a,t){const n={},l=u(t,["prebuiltVoiceConfig"]);return l!=null&&f(n,["prebuiltVoiceConfig"],TE(a,l)),n}function CE(a,t){const n={},l=u(t,["voiceConfig"]);if(l!=null&&f(n,["voiceConfig"],_E(a,l)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function SE(a,t){const n={},l=u(t,["includeThoughts"]);l!=null&&f(n,["includeThoughts"],l);const s=u(t,["thinkingBudget"]);return s!=null&&f(n,["thinkingBudget"],s),n}function EE(a,t,n){const l={},s=u(t,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Cl(a,Ct(a,s)));const c=u(t,["temperature"]);c!=null&&f(l,["temperature"],c);const m=u(t,["topP"]);m!=null&&f(l,["topP"],m);const g=u(t,["topK"]);g!=null&&f(l,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const p=u(t,["maxOutputTokens"]);p!=null&&f(l,["maxOutputTokens"],p);const v=u(t,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const C=u(t,["responseLogprobs"]);C!=null&&f(l,["responseLogprobs"],C);const S=u(t,["logprobs"]);S!=null&&f(l,["logprobs"],S);const x=u(t,["presencePenalty"]);x!=null&&f(l,["presencePenalty"],x);const U=u(t,["frequencyPenalty"]);U!=null&&f(l,["frequencyPenalty"],U);const k=u(t,["seed"]);k!=null&&f(l,["seed"],k);const P=u(t,["responseMimeType"]);P!=null&&f(l,["responseMimeType"],P);const W=u(t,["responseSchema"]);W!=null&&f(l,["responseSchema"],nE(a,cs(a,W)));const Z=u(t,["routingConfig"]);Z!=null&&f(l,["routingConfig"],Z);const Q=u(t,["modelSelectionConfig"]);Q!=null&&f(l,["modelConfig"],iE(a,Q));const le=u(t,["safetySettings"]);if(n!==void 0&&le!=null){let et=le;Array.isArray(et)&&(et=et.map(Le=>lE(a,Le))),f(n,["safetySettings"],et)}const F=u(t,["tools"]);if(n!==void 0&&F!=null){let et=Io(a,F);Array.isArray(et)&&(et=et.map(Le=>dg(a,Uo(a,Le)))),f(n,["tools"],et)}const ne=u(t,["toolConfig"]);n!==void 0&&ne!=null&&f(n,["toolConfig"],vE(a,ne));const me=u(t,["labels"]);n!==void 0&&me!=null&&f(n,["labels"],me);const he=u(t,["cachedContent"]);n!==void 0&&he!=null&&f(n,["cachedContent"],Wn(a,he));const te=u(t,["responseModalities"]);te!=null&&f(l,["responseModalities"],te);const ge=u(t,["mediaResolution"]);ge!=null&&f(l,["mediaResolution"],ge);const Pe=u(t,["speechConfig"]);Pe!=null&&f(l,["speechConfig"],CE(a,eg(a,Pe)));const Be=u(t,["audioTimestamp"]);Be!=null&&f(l,["audioTimestamp"],Be);const Et=u(t,["thinkingConfig"]);return Et!=null&&f(l,["thinkingConfig"],SE(a,Et)),l}function Up(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["contents"]);if(s!=null){let m=$t(a,s);Array.isArray(m)&&(m=m.map(g=>Cl(a,g))),f(n,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(n,["generationConfig"],EE(a,c,n)),n}function xE(a,t,n){const l={},s=u(t,["taskType"]);n!==void 0&&s!=null&&f(n,["instances[]","task_type"],s);const c=u(t,["title"]);n!==void 0&&c!=null&&f(n,["instances[]","title"],c);const m=u(t,["outputDimensionality"]);n!==void 0&&m!=null&&f(n,["parameters","outputDimensionality"],m);const g=u(t,["mimeType"]);n!==void 0&&g!=null&&f(n,["instances[]","mimeType"],g);const y=u(t,["autoTruncate"]);return n!==void 0&&y!=null&&f(n,["parameters","autoTruncate"],y),l}function AE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["contents"]);s!=null&&f(n,["instances[]","content"],jp(a,s));const c=u(t,["config"]);return c!=null&&f(n,["config"],xE(a,c,n)),n}function ME(a,t,n){const l={},s=u(t,["outputGcsUri"]);n!==void 0&&s!=null&&f(n,["parameters","storageUri"],s);const c=u(t,["negativePrompt"]);n!==void 0&&c!=null&&f(n,["parameters","negativePrompt"],c);const m=u(t,["numberOfImages"]);n!==void 0&&m!=null&&f(n,["parameters","sampleCount"],m);const g=u(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const y=u(t,["guidanceScale"]);n!==void 0&&y!=null&&f(n,["parameters","guidanceScale"],y);const p=u(t,["seed"]);n!==void 0&&p!=null&&f(n,["parameters","seed"],p);const v=u(t,["safetyFilterLevel"]);n!==void 0&&v!=null&&f(n,["parameters","safetySetting"],v);const C=u(t,["personGeneration"]);n!==void 0&&C!=null&&f(n,["parameters","personGeneration"],C);const S=u(t,["includeSafetyAttributes"]);n!==void 0&&S!=null&&f(n,["parameters","includeSafetyAttributes"],S);const x=u(t,["includeRaiReason"]);n!==void 0&&x!=null&&f(n,["parameters","includeRaiReason"],x);const U=u(t,["language"]);n!==void 0&&U!=null&&f(n,["parameters","language"],U);const k=u(t,["outputMimeType"]);n!==void 0&&k!=null&&f(n,["parameters","outputOptions","mimeType"],k);const P=u(t,["outputCompressionQuality"]);n!==void 0&&P!=null&&f(n,["parameters","outputOptions","compressionQuality"],P);const W=u(t,["addWatermark"]);n!==void 0&&W!=null&&f(n,["parameters","addWatermark"],W);const Z=u(t,["enhancePrompt"]);return n!==void 0&&Z!=null&&f(n,["parameters","enhancePrompt"],Z),l}function NE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const c=u(t,["config"]);return c!=null&&f(n,["config"],ME(a,c,n)),n}function ac(a,t){const n={},l=u(t,["gcsUri"]);l!=null&&f(n,["gcsUri"],l);const s=u(t,["imageBytes"]);s!=null&&f(n,["bytesBase64Encoded"],jn(a,s));const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function RE(a,t){const n={},l=u(t,["maskMode"]);l!=null&&f(n,["maskMode"],l);const s=u(t,["segmentationClasses"]);s!=null&&f(n,["maskClasses"],s);const c=u(t,["maskDilation"]);return c!=null&&f(n,["dilation"],c),n}function DE(a,t){const n={},l=u(t,["controlType"]);l!=null&&f(n,["controlType"],l);const s=u(t,["enableControlImageComputation"]);return s!=null&&f(n,["computeControl"],s),n}function bE(a,t){const n={},l=u(t,["styleDescription"]);return l!=null&&f(n,["styleDescription"],l),n}function wE(a,t){const n={},l=u(t,["subjectType"]);l!=null&&f(n,["subjectType"],l);const s=u(t,["subjectDescription"]);return s!=null&&f(n,["subjectDescription"],s),n}function UE(a,t){const n={},l=u(t,["referenceImage"]);l!=null&&f(n,["referenceImage"],ac(a,l));const s=u(t,["referenceId"]);s!=null&&f(n,["referenceId"],s);const c=u(t,["referenceType"]);c!=null&&f(n,["referenceType"],c);const m=u(t,["maskImageConfig"]);m!=null&&f(n,["maskImageConfig"],RE(a,m));const g=u(t,["controlImageConfig"]);g!=null&&f(n,["controlImageConfig"],DE(a,g));const y=u(t,["styleImageConfig"]);y!=null&&f(n,["styleImageConfig"],bE(a,y));const p=u(t,["subjectImageConfig"]);return p!=null&&f(n,["subjectImageConfig"],wE(a,p)),n}function IE(a,t,n){const l={},s=u(t,["outputGcsUri"]);n!==void 0&&s!=null&&f(n,["parameters","storageUri"],s);const c=u(t,["negativePrompt"]);n!==void 0&&c!=null&&f(n,["parameters","negativePrompt"],c);const m=u(t,["numberOfImages"]);n!==void 0&&m!=null&&f(n,["parameters","sampleCount"],m);const g=u(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const y=u(t,["guidanceScale"]);n!==void 0&&y!=null&&f(n,["parameters","guidanceScale"],y);const p=u(t,["seed"]);n!==void 0&&p!=null&&f(n,["parameters","seed"],p);const v=u(t,["safetyFilterLevel"]);n!==void 0&&v!=null&&f(n,["parameters","safetySetting"],v);const C=u(t,["personGeneration"]);n!==void 0&&C!=null&&f(n,["parameters","personGeneration"],C);const S=u(t,["includeSafetyAttributes"]);n!==void 0&&S!=null&&f(n,["parameters","includeSafetyAttributes"],S);const x=u(t,["includeRaiReason"]);n!==void 0&&x!=null&&f(n,["parameters","includeRaiReason"],x);const U=u(t,["language"]);n!==void 0&&U!=null&&f(n,["parameters","language"],U);const k=u(t,["outputMimeType"]);n!==void 0&&k!=null&&f(n,["parameters","outputOptions","mimeType"],k);const P=u(t,["outputCompressionQuality"]);n!==void 0&&P!=null&&f(n,["parameters","outputOptions","compressionQuality"],P);const W=u(t,["editMode"]);n!==void 0&&W!=null&&f(n,["parameters","editMode"],W);const Z=u(t,["baseSteps"]);return n!==void 0&&Z!=null&&f(n,["parameters","editConfig","baseSteps"],Z),l}function kE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const c=u(t,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>UE(a,y))),f(n,["instances[0]","referenceImages"],g)}const m=u(t,["config"]);return m!=null&&f(n,["config"],IE(a,m,n)),n}function VE(a,t,n){const l={},s=u(t,["includeRaiReason"]);n!==void 0&&s!=null&&f(n,["parameters","includeRaiReason"],s);const c=u(t,["outputMimeType"]);n!==void 0&&c!=null&&f(n,["parameters","outputOptions","mimeType"],c);const m=u(t,["outputCompressionQuality"]);n!==void 0&&m!=null&&f(n,["parameters","outputOptions","compressionQuality"],m);const g=u(t,["numberOfImages"]);n!==void 0&&g!=null&&f(n,["parameters","sampleCount"],g);const y=u(t,["mode"]);return n!==void 0&&y!=null&&f(n,["parameters","mode"],y),l}function LE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["image"]);s!=null&&f(n,["instances[0]","image"],ac(a,s));const c=u(t,["upscaleFactor"]);c!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],c);const m=u(t,["config"]);return m!=null&&f(n,["config"],VE(a,m,n)),n}function GE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","name"],Ye(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function OE(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=u(t,["filter"]);n!==void 0&&m!=null&&f(n,["_query","filter"],m);const g=u(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],ig(a,g)),l}function zE(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],OE(a,l,n)),n}function PE(a,t,n){const l={},s=u(t,["displayName"]);n!==void 0&&s!=null&&f(n,["displayName"],s);const c=u(t,["description"]);n!==void 0&&c!=null&&f(n,["description"],c);const m=u(t,["defaultCheckpointId"]);return n!==void 0&&m!=null&&f(n,["defaultCheckpointId"],m),l}function BE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],PE(a,s,n)),n}function qE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","name"],Ye(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function HE(a,t,n){const l={},s=u(t,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Cl(a,Ct(a,s)));const c=u(t,["tools"]);if(n!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>dg(a,y))),f(n,["tools"],g)}const m=u(t,["generationConfig"]);return n!==void 0&&m!=null&&f(n,["generationConfig"],m),l}function FE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["contents"]);if(s!=null){let m=$t(a,s);Array.isArray(m)&&(m=m.map(g=>Cl(a,g))),f(n,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(n,["config"],HE(a,c,n)),n}function YE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["contents"]);if(s!=null){let m=$t(a,s);Array.isArray(m)&&(m=m.map(g=>Cl(a,g))),f(n,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(n,["config"],c),n}function ZE(a,t,n){const l={},s=u(t,["numberOfVideos"]);n!==void 0&&s!=null&&f(n,["parameters","sampleCount"],s);const c=u(t,["outputGcsUri"]);n!==void 0&&c!=null&&f(n,["parameters","storageUri"],c);const m=u(t,["fps"]);n!==void 0&&m!=null&&f(n,["parameters","fps"],m);const g=u(t,["durationSeconds"]);n!==void 0&&g!=null&&f(n,["parameters","durationSeconds"],g);const y=u(t,["seed"]);n!==void 0&&y!=null&&f(n,["parameters","seed"],y);const p=u(t,["aspectRatio"]);n!==void 0&&p!=null&&f(n,["parameters","aspectRatio"],p);const v=u(t,["resolution"]);n!==void 0&&v!=null&&f(n,["parameters","resolution"],v);const C=u(t,["personGeneration"]);n!==void 0&&C!=null&&f(n,["parameters","personGeneration"],C);const S=u(t,["pubsubTopic"]);n!==void 0&&S!=null&&f(n,["parameters","pubsubTopic"],S);const x=u(t,["negativePrompt"]);n!==void 0&&x!=null&&f(n,["parameters","negativePrompt"],x);const U=u(t,["enhancePrompt"]);n!==void 0&&U!=null&&f(n,["parameters","enhancePrompt"],U);const k=u(t,["generateAudio"]);return n!==void 0&&k!=null&&f(n,["parameters","generateAudio"],k),l}function KE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],Ye(a,l));const s=u(t,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const c=u(t,["image"]);c!=null&&f(n,["instances[0]","image"],ac(a,c));const m=u(t,["config"]);return m!=null&&f(n,["config"],ZE(a,m,n)),n}function JE(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function XE(a,t){const n={},l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function $E(a,t){const n={},l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function QE(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],JE(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],XE(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],$E(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function WE(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>QE(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function jE(a,t){const n={},l=u(t,["citationSources"]);return l!=null&&f(n,["citations"],l),n}function ex(a,t){const n={},l=u(t,["retrievedUrl"]);l!=null&&f(n,["retrievedUrl"],l);const s=u(t,["urlRetrievalStatus"]);return s!=null&&f(n,["urlRetrievalStatus"],s),n}function tx(a,t){const n={},l=u(t,["urlMetadata"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>ex(a,c))),f(n,["urlMetadata"],s)}return n}function nx(a,t){const n={},l=u(t,["content"]);l!=null&&f(n,["content"],WE(a,l));const s=u(t,["citationMetadata"]);s!=null&&f(n,["citationMetadata"],jE(a,s));const c=u(t,["tokenCount"]);c!=null&&f(n,["tokenCount"],c);const m=u(t,["finishReason"]);m!=null&&f(n,["finishReason"],m);const g=u(t,["urlContextMetadata"]);g!=null&&f(n,["urlContextMetadata"],tx(a,g));const y=u(t,["avgLogprobs"]);y!=null&&f(n,["avgLogprobs"],y);const p=u(t,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const v=u(t,["index"]);v!=null&&f(n,["index"],v);const C=u(t,["logprobsResult"]);C!=null&&f(n,["logprobsResult"],C);const S=u(t,["safetyRatings"]);return S!=null&&f(n,["safetyRatings"],S),n}function Ip(a,t){const n={},l=u(t,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>nx(a,y))),f(n,["candidates"],g)}const s=u(t,["modelVersion"]);s!=null&&f(n,["modelVersion"],s);const c=u(t,["promptFeedback"]);c!=null&&f(n,["promptFeedback"],c);const m=u(t,["usageMetadata"]);return m!=null&&f(n,["usageMetadata"],m),n}function ix(a,t){const n={},l=u(t,["values"]);return l!=null&&f(n,["values"],l),n}function lx(){return{}}function ox(a,t){const n={},l=u(t,["embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>ix(a,m))),f(n,["embeddings"],c)}return u(t,["metadata"])!=null&&f(n,["metadata"],lx()),n}function ax(a,t){const n={},l=u(t,["bytesBase64Encoded"]);l!=null&&f(n,["imageBytes"],jn(a,l));const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function mg(a,t){const n={},l=u(t,["safetyAttributes","categories"]);l!=null&&f(n,["categories"],l);const s=u(t,["safetyAttributes","scores"]);s!=null&&f(n,["scores"],s);const c=u(t,["contentType"]);return c!=null&&f(n,["contentType"],c),n}function sx(a,t){const n={},l=u(t,["_self"]);l!=null&&f(n,["image"],ax(a,l));const s=u(t,["raiFilteredReason"]);s!=null&&f(n,["raiFilteredReason"],s);const c=u(t,["_self"]);return c!=null&&f(n,["safetyAttributes"],mg(a,c)),n}function rx(a,t){const n={},l=u(t,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>sx(a,m))),f(n,["generatedImages"],c)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&f(n,["positivePromptSafetyAttributes"],mg(a,s)),n}function ux(a,t){const n={},l=u(t,["baseModel"]);l!=null&&f(n,["baseModel"],l);const s=u(t,["createTime"]);s!=null&&f(n,["createTime"],s);const c=u(t,["updateTime"]);return c!=null&&f(n,["updateTime"],c),n}function Ku(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["description"]);c!=null&&f(n,["description"],c);const m=u(t,["version"]);m!=null&&f(n,["version"],m);const g=u(t,["_self"]);g!=null&&f(n,["tunedModelInfo"],ux(a,g));const y=u(t,["inputTokenLimit"]);y!=null&&f(n,["inputTokenLimit"],y);const p=u(t,["outputTokenLimit"]);p!=null&&f(n,["outputTokenLimit"],p);const v=u(t,["supportedGenerationMethods"]);return v!=null&&f(n,["supportedActions"],v),n}function cx(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["_self"]);if(s!=null){let c=lg(a,s);Array.isArray(c)&&(c=c.map(m=>Ku(a,m))),f(n,["models"],c)}return n}function fx(){return{}}function dx(a,t){const n={},l=u(t,["totalTokens"]);l!=null&&f(n,["totalTokens"],l);const s=u(t,["cachedContentTokenCount"]);return s!=null&&f(n,["cachedContentTokenCount"],s),n}function mx(a,t){const n={},l=u(t,["video","uri"]);l!=null&&f(n,["uri"],l);const s=u(t,["video","encodedVideo"]);s!=null&&f(n,["videoBytes"],jn(a,s));const c=u(t,["encoding"]);return c!=null&&f(n,["mimeType"],c),n}function hx(a,t){const n={},l=u(t,["_self"]);return l!=null&&f(n,["video"],mx(a,l)),n}function px(a,t){const n={},l=u(t,["generatedSamples"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>hx(a,g))),f(n,["generatedVideos"],m)}const s=u(t,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const c=u(t,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function gx(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["metadata"]);s!=null&&f(n,["metadata"],s);const c=u(t,["done"]);c!=null&&f(n,["done"],c);const m=u(t,["error"]);m!=null&&f(n,["error"],m);const g=u(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],px(a,g)),n}function yx(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function vx(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["data"]);s!=null&&f(n,["data"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function Tx(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function _x(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],yx(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],vx(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],Tx(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function Cx(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>_x(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function Sx(a,t){const n={},l=u(t,["citations"]);return l!=null&&f(n,["citations"],l),n}function Ex(a,t){const n={},l=u(t,["retrievedUrl"]);l!=null&&f(n,["retrievedUrl"],l);const s=u(t,["urlRetrievalStatus"]);return s!=null&&f(n,["urlRetrievalStatus"],s),n}function xx(a,t){const n={},l=u(t,["urlMetadata"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>Ex(a,c))),f(n,["urlMetadata"],s)}return n}function Ax(a,t){const n={},l=u(t,["content"]);l!=null&&f(n,["content"],Cx(a,l));const s=u(t,["citationMetadata"]);s!=null&&f(n,["citationMetadata"],Sx(a,s));const c=u(t,["finishMessage"]);c!=null&&f(n,["finishMessage"],c);const m=u(t,["finishReason"]);m!=null&&f(n,["finishReason"],m);const g=u(t,["urlContextMetadata"]);g!=null&&f(n,["urlContextMetadata"],xx(a,g));const y=u(t,["avgLogprobs"]);y!=null&&f(n,["avgLogprobs"],y);const p=u(t,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const v=u(t,["index"]);v!=null&&f(n,["index"],v);const C=u(t,["logprobsResult"]);C!=null&&f(n,["logprobsResult"],C);const S=u(t,["safetyRatings"]);return S!=null&&f(n,["safetyRatings"],S),n}function kp(a,t){const n={},l=u(t,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>Ax(a,v))),f(n,["candidates"],p)}const s=u(t,["createTime"]);s!=null&&f(n,["createTime"],s);const c=u(t,["responseId"]);c!=null&&f(n,["responseId"],c);const m=u(t,["modelVersion"]);m!=null&&f(n,["modelVersion"],m);const g=u(t,["promptFeedback"]);g!=null&&f(n,["promptFeedback"],g);const y=u(t,["usageMetadata"]);return y!=null&&f(n,["usageMetadata"],y),n}function Mx(a,t){const n={},l=u(t,["truncated"]);l!=null&&f(n,["truncated"],l);const s=u(t,["token_count"]);return s!=null&&f(n,["tokenCount"],s),n}function Nx(a,t){const n={},l=u(t,["values"]);l!=null&&f(n,["values"],l);const s=u(t,["statistics"]);return s!=null&&f(n,["statistics"],Mx(a,s)),n}function Rx(a,t){const n={},l=u(t,["billableCharacterCount"]);return l!=null&&f(n,["billableCharacterCount"],l),n}function Dx(a,t){const n={},l=u(t,["predictions[]","embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>Nx(a,m))),f(n,["embeddings"],c)}const s=u(t,["metadata"]);return s!=null&&f(n,["metadata"],Rx(a,s)),n}function bx(a,t){const n={},l=u(t,["gcsUri"]);l!=null&&f(n,["gcsUri"],l);const s=u(t,["bytesBase64Encoded"]);s!=null&&f(n,["imageBytes"],jn(a,s));const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function hg(a,t){const n={},l=u(t,["safetyAttributes","categories"]);l!=null&&f(n,["categories"],l);const s=u(t,["safetyAttributes","scores"]);s!=null&&f(n,["scores"],s);const c=u(t,["contentType"]);return c!=null&&f(n,["contentType"],c),n}function sc(a,t){const n={},l=u(t,["_self"]);l!=null&&f(n,["image"],bx(a,l));const s=u(t,["raiFilteredReason"]);s!=null&&f(n,["raiFilteredReason"],s);const c=u(t,["_self"]);c!=null&&f(n,["safetyAttributes"],hg(a,c));const m=u(t,["prompt"]);return m!=null&&f(n,["enhancedPrompt"],m),n}function wx(a,t){const n={},l=u(t,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>sc(a,m))),f(n,["generatedImages"],c)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&f(n,["positivePromptSafetyAttributes"],hg(a,s)),n}function Ux(a,t){const n={},l=u(t,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>sc(a,c))),f(n,["generatedImages"],s)}return n}function Ix(a,t){const n={},l=u(t,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>sc(a,c))),f(n,["generatedImages"],s)}return n}function kx(a,t){const n={},l=u(t,["endpoint"]);l!=null&&f(n,["name"],l);const s=u(t,["deployedModelId"]);return s!=null&&f(n,["deployedModelId"],s),n}function Vx(a,t){const n={},l=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(n,["baseModel"],l);const s=u(t,["createTime"]);s!=null&&f(n,["createTime"],s);const c=u(t,["updateTime"]);return c!=null&&f(n,["updateTime"],c),n}function Lx(a,t){const n={},l=u(t,["checkpointId"]);l!=null&&f(n,["checkpointId"],l);const s=u(t,["epoch"]);s!=null&&f(n,["epoch"],s);const c=u(t,["step"]);return c!=null&&f(n,["step"],c),n}function Ju(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["description"]);c!=null&&f(n,["description"],c);const m=u(t,["versionId"]);m!=null&&f(n,["version"],m);const g=u(t,["deployedModels"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(x=>kx(a,x))),f(n,["endpoints"],S)}const y=u(t,["labels"]);y!=null&&f(n,["labels"],y);const p=u(t,["_self"]);p!=null&&f(n,["tunedModelInfo"],Vx(a,p));const v=u(t,["defaultCheckpointId"]);v!=null&&f(n,["defaultCheckpointId"],v);const C=u(t,["checkpoints"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(x=>Lx(a,x))),f(n,["checkpoints"],S)}return n}function Gx(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["_self"]);if(s!=null){let c=lg(a,s);Array.isArray(c)&&(c=c.map(m=>Ju(a,m))),f(n,["models"],c)}return n}function Ox(){return{}}function zx(a,t){const n={},l=u(t,["totalTokens"]);return l!=null&&f(n,["totalTokens"],l),n}function Px(a,t){const n={},l=u(t,["tokensInfo"]);return l!=null&&f(n,["tokensInfo"],l),n}function Bx(a,t){const n={},l=u(t,["gcsUri"]);l!=null&&f(n,["uri"],l);const s=u(t,["bytesBase64Encoded"]);s!=null&&f(n,["videoBytes"],jn(a,s));const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function qx(a,t){const n={},l=u(t,["_self"]);return l!=null&&f(n,["video"],Bx(a,l)),n}function Hx(a,t){const n={},l=u(t,["videos"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>qx(a,g))),f(n,["generatedVideos"],m)}const s=u(t,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const c=u(t,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function Fx(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["metadata"]);s!=null&&f(n,["metadata"],s);const c=u(t,["done"]);c!=null&&f(n,["done"],c);const m=u(t,["error"]);m!=null&&f(n,["error"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],Hx(a,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yx="Content-Type",Zx="X-Server-Timeout",Kx="User-Agent",Xu="x-goog-api-client",Jx="1.4.0",Xx=`google-genai-sdk/${Jx}`,$x="v1beta1",Qx="v1beta",Vp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class pg extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class $u extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class Wx{constructor(t){var n,l;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:$x,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Qx,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&l.push(t.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,l){const s=[this.getRequestUrlInternal(n)];return l&&s.push(this.getBaseResourcePath()),t!==""&&s.push(t),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,n,l);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))s.searchParams.append(m,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,n,t.abortSignal),this.unaryApiCall(s,c,t.httpMethod)}patchHttpOptions(t,n){const l=JSON.parse(JSON.stringify(t));for(const[s,c]of Object.entries(n))typeof c=="object"?l[s]=Object.assign(Object.assign({},l[s]),c):c!==void 0&&(l[s]=c);return l}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,n,l);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,n,t.abortSignal),this.streamApiCall(s,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,l){if(n&&n.timeout||l){const s=new AbortController,c=s.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>s.abort(),n.timeout),l&&l.addEventListener("abort",()=>{s.abort()}),t.signal=c}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:l})).then(async s=>(await Lp(s),new Hu(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(t,n,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:l})).then(async s=>(await Lp(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(t){var n;return ml(this,arguments,function*(){const s=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),c=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Ze(s.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=c.decode(y);try{const C=JSON.parse(p);if("error"in C){const S=JSON.parse(JSON.stringify(C.error)),x=S.status,U=S.code,k=`got status: ${x}. ${JSON.stringify(C)}`;if(U>=400&&U<500)throw new pg(k);if(U>=500&&U<600)throw new $u(k)}}catch(C){const S=C;if(S.name==="ClientError"||S.name==="ServerError")throw C}m+=p;let v=m.match(Vp);for(;v;){const C=v[1];try{const S=new Response(C,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ze(new Hu(S)),m=m.slice(v[0].length),v=m.match(Vp)}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}finally{s.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const t={},n=Xx+" "+this.clientOptions.userAgentExtra;return t[Kx]=n,t[Xu]=n,t[Yx]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[l,s]of Object.entries(t.headers))n.append(l,s);t.timeout&&t.timeout>0&&n.append(Zx,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var l;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const c=this.clientOptions.uploader,m=await c.stat(t);s.sizeBytes=String(m.size);const g=(l=n==null?void 0:n.mimeType)!==null&&l!==void 0?l:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=g;const y=await this.fetchUploadUrl(s,n);return c.upload(t,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var l;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const c={file:t},m=await this.request({path:ue("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:s});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Lp(a){var t;if(a===void 0)throw new $u("response is undefined");if(!a.ok){const n=a.status,l=a.statusText;let s;!((t=a.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await a.json():s={error:{message:await a.text(),code:a.status,status:a.statusText}};const c=`got status: ${n} ${l}. ${JSON.stringify(s)}`;throw n>=400&&n<500?new pg(c):n>=500&&n<600?new $u(c):new Error(c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jx="mcp_used/unknown";function gg(a){for(const t of a)if(rc(t)||typeof t=="object"&&"inputSchema"in t)return!0;return!1}function yg(a){var t;const n=(t=a[Xu])!==null&&t!==void 0?t:"";a[Xu]=(n+` ${jx}`).trimStart()}function eA(a){var t,n,l;return(l=(n=(t=a.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(s=>rc(s)))!==null&&l!==void 0?l:!1}function tA(a){var t,n,l;return(l=(n=(t=a.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(s=>!rc(s)))!==null&&l!==void 0?l:!1}function rc(a){return a!==null&&typeof a=="object"&&a instanceof uc}function nA(a,t=100){return ml(this,arguments,function*(){let l,s=0;for(;s<t;){const c=yield Ze(a.listTools({cursor:l}));for(const m of c.tools)yield yield Ze(m),s++;if(!c.nextCursor)break;l=c.nextCursor}})}class uc{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new uc(t,n)}async initialize(){var t,n,l,s;if(this.mcpTools.length>0)return;const c={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(n=void 0,bo(nA(v))),p;p=await y.next(),t=p.done,!t;g=!0){s=p.value,g=!1;const C=s;m.push(C);const S=C.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=v}}catch(C){n={error:C}}finally{try{!g&&!t&&(l=y.return)&&await l.call(y)}finally{if(n)throw n.error}}this.mcpTools=m,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),lT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const l of t)if(l.name in this.functionNameToMcpClient){const c=await this.functionNameToMcpClient[l.name].callTool({name:l.name,arguments:l.args});n.push({functionResponse:{name:l.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iA(a,t,n){const l=new Y0;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const c=mS(a,s);Object.assign(l,c),t(l)}class lA{constructor(t,n,l){this.apiClient=t,this.auth=n,this.webSocketFactory=l}async connect(t){var n,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),m=sA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${s}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(Q=>{p=Q}),C=t.callbacks,S=function(){p({})},x=this.apiClient,U={onopen:S,onmessage:Q=>{iA(x,C.onmessage,Q)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(Q){},onclose:(l=C==null?void 0:C.onclose)!==null&&l!==void 0?l:function(Q){}},k=this.webSocketFactory.create(y,aA(m),U);k.connect(),await v;const P=Ye(this.apiClient,t.model),W=ug(this.apiClient,{model:P}),Z=Zu(this.apiClient,{setup:W});return k.send(JSON.stringify(Z)),new oA(k,this.apiClient)}}class oA{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=NC(this.apiClient,t),l=cg(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=RC(this.apiClient,t),l=Zu(this.apiClient,n);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const n=Zu(this.apiClient,{playbackControl:t});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(fl.PLAY)}pause(){this.sendPlaybackControl(fl.PAUSE)}stop(){this.sendPlaybackControl(fl.STOP)}resetContext(){this.sendPlaybackControl(fl.RESET_CONTEXT)}close(){this.conn.close()}}function aA(a){const t={};return a.forEach((n,l)=>{t[l]=n}),t}function sA(a){const t=new Headers;for(const[n,l]of Object.entries(a))t.append(n,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uA(a,t,n){const l=new F0;let s;if(n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),a.isVertexAI()){const c=lS(a,s);Object.assign(l,c)}else{const c=iS(a,s);Object.assign(l,c)}t(l)}class cA{constructor(t,n,l){this.apiClient=t,this.auth=n,this.webSocketFactory=l,this.music=new lA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,l,s,c,m,g;const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const C=this.apiClient.getDefaultHeaders();t.config&&t.config.tools&&gg(t.config.tools)&&yg(C);const S=hA(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const te=this.apiClient.getApiKey();let ge="BidiGenerateContent",Pe="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ge="BidiGenerateContentConstrained",Pe="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ge}?${Pe}=${te}`}let x=()=>{};const U=new Promise(te=>{x=te}),k=t.callbacks,P=function(){var te;(te=k==null?void 0:k.onopen)===null||te===void 0||te.call(k),x({})},W=this.apiClient,Z={onopen:P,onmessage:te=>{uA(W,k.onmessage,te)},onerror:(n=k==null?void 0:k.onerror)!==null&&n!==void 0?n:function(te){},onclose:(l=k==null?void 0:k.onclose)!==null&&l!==void 0?l:function(te){}},Q=this.webSocketFactory.create(v,mA(S),Z);Q.connect(),await U;let le=Ye(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&le.startsWith("publishers/")){const te=this.apiClient.getProject(),ge=this.apiClient.getLocation();le=`projects/${te}/locations/${ge}/`+le}let F={};this.apiClient.isVertexAI()&&((s=t.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[rs.AUDIO]}:t.config.responseModalities=[rs.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],me=[];for(const te of ne)if(this.isCallableTool(te)){const ge=te;me.push(await ge.tool())}else me.push(te);me.length>0&&(t.config.tools=me);const he={model:le,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?F=_C(this.apiClient,he):F=TC(this.apiClient,he),delete F.config,Q.send(JSON.stringify(F)),new dA(Q,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const fA={turnComplete:!0};class dA{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let l=[];try{l=$t(t,n.turns),t.isVertexAI()?l=l.map(s=>Cl(t,s)):l=l.map(s=>ms(t,s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:l,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let l=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?l=n.functionResponses:l=[n.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const c of l){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(rA)}return{toolResponse:{functionResponses:l}}}sendClientContent(t){t=Object.assign(Object.assign({},fA),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:MC(this.apiClient,t)}:n={realtimeInput:AC(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function mA(a){const t={};return a.forEach((n,l)=>{t[l]=n}),t}function hA(a){const t=new Headers;for(const[n,l]of Object.entries(a))t.append(n,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gp=10;function Op(a){var t,n,l;if(!((t=a==null?void 0:a.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let s=!1;for(const m of(n=a==null?void 0:a.tools)!==null&&n!==void 0?n:[])if(ts(m)){s=!0;break}if(!s)return!0;const c=(l=a==null?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function ts(a){return"callTool"in a&&typeof a.callTool=="function"}function zp(a){var t;return!(!((t=a==null?void 0:a.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pA extends _l{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var l,s,c,m,g;const y=await this.processParamsForMcpUsage(n);if(!eA(n)||Op(n.config))return await this.generateContentInternal(y);if(tA(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const C=$t(this.apiClient,y.contents),S=(c=(s=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&c!==void 0?c:Gp;let x=0;for(;x<S&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const U=p.candidates[0].content,k=[];for(const P of(g=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(ts(P)){const Z=await P.callTool(p.functionCalls);k.push(...Z)}x++,v={role:"user",parts:k},y.contents=$t(this.apiClient,y.contents),y.contents.push(U),y.contents.push(v),zp(y.config)&&(C.push(U),C.push(v))}return zp(y.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async n=>{if(Op(n.config)){const l=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(l=>{var s;let c;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((s=y==null?void 0:y.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:m.push(y);let g;return c?g={generatedImages:m,positivePromptSafetyAttributes:c}:g={generatedImages:m},g}),this.list=async n=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new ds(Tl.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async n=>{const l={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(l.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async n=>{let l={numberOfImages:1,mode:"upscale"};n.config&&(l=Object.assign(Object.assign({},l),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:l};return await this.upscaleImageInternal(s)}}async processParamsForMcpUsage(t){var n,l,s;const c=(n=t.config)===null||n===void 0?void 0:n.tools;if(!c)return t;const m=await Promise.all(c.map(async y=>ts(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&gg(t.config.tools)){const y=(s=(l=t.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&s!==void 0?s:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),yg(p),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(t){var n,l,s;const c=new Map;for(const m of(l=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&l!==void 0?l:[])if(ts(m)){const g=m,y=await g.tool();for(const p of(s=y.functionDeclarations)!==null&&s!==void 0?s:[]){if(!p.name)throw new Error("Function declaration name is required.");if(c.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);c.set(p.name,g)}}return c}async processAfcStream(t){var n,l,s;const c=(s=(l=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&s!==void 0?s:Gp;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return function(p,v,C){var S,x;return ml(this,arguments,function*(){for(var U,k,P,W;g<c;){m&&(g++,m=!1);const F=yield Ze(p.processParamsForMcpUsage(C)),ne=yield Ze(p.generateContentStreamInternal(F)),me=[],he=[];try{for(var Z=!0,Q=(k=void 0,bo(ne)),le;le=yield Ze(Q.next()),U=le.done,!U;Z=!0){W=le.value,Z=!1;const te=W;if(yield yield Ze(te),te.candidates&&(!((S=te.candidates[0])===null||S===void 0)&&S.content)){he.push(te.candidates[0].content);for(const ge of(x=te.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(g<c&&ge.functionCall){if(!ge.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ge.functionCall.name)){const Pe=yield Ze(v.get(ge.functionCall.name).callTool([ge.functionCall]));me.push(...Pe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ge.functionCall.name}`)}}}}catch(te){k={error:te}}finally{try{!Z&&!U&&(P=Q.return)&&(yield Ze(P.call(Q)))}finally{if(k)throw k.error}}if(me.length>0){m=!0;const te=new No;te.candidates=[{content:{role:"user",parts:me}}],yield yield Ze(te);const ge=[];ge.push(...he),ge.push({role:"user",parts:me});const Pe=$t(p.apiClient,C.contents).concat(ge);C.contents=Pe}else break}})}(this,y,t)}async generateContentInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Up(this.apiClient,t);return g=ue("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const C=kp(this.apiClient,v),S=new No;return Object.assign(S,C),S})}else{const p=wp(this.apiClient,t);return g=ue("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const C=Ip(this.apiClient,v),S=new No;return Object.assign(S,C),S})}}async generateContentStreamInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Up(this.apiClient,t);g=ue("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return m=v.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(C){return ml(this,arguments,function*(){var S,x,U,k;try{for(var P=!0,W=bo(C),Z;Z=yield Ze(W.next()),S=Z.done,!S;P=!0){k=Z.value,P=!1;const le=kp(v,yield Ze(k.json())),F=new No;Object.assign(F,le),yield yield Ze(F)}}catch(Q){x={error:Q}}finally{try{!P&&!S&&(U=W.return)&&(yield Ze(U.call(W)))}finally{if(x)throw x.error}}})})}else{const p=wp(this.apiClient,t);g=ue("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return m=v.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),m.then(function(C){return ml(this,arguments,function*(){var S,x,U,k;try{for(var P=!0,W=bo(C),Z;Z=yield Ze(W.next()),S=Z.done,!S;P=!0){k=Z.value,P=!1;const le=Ip(v,yield Ze(k.json())),F=new No;Object.assign(F,le),yield yield Ze(F)}}catch(Q){x={error:Q}}finally{try{!P&&!S&&(U=W.return)&&(yield Ze(U.call(W)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=AE(this.apiClient,t);return g=ue("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const C=Dx(this.apiClient,v),S=new fp;return Object.assign(S,C),S})}else{const p=OS(this.apiClient,t);return g=ue("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const C=ox(this.apiClient,v),S=new fp;return Object.assign(S,C),S})}}async generateImagesInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=NE(this.apiClient,t);return g=ue("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const C=wx(this.apiClient,v),S=new dp;return Object.assign(S,C),S})}else{const p=PS(this.apiClient,t);return g=ue("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const C=rx(this.apiClient,v),S=new dp;return Object.assign(S,C),S})}}async editImageInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI()){const g=kE(this.apiClient,t);return c=ue("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const p=Ux(this.apiClient,y),v=new O0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI()){const g=LE(this.apiClient,t);return c=ue("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const p=Ix(this.apiClient,y),v=new z0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=GE(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Ju(this.apiClient,v))}else{const p=BS(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>Ku(this.apiClient,v))}}async listInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=zE(this.apiClient,t);return g=ue("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const C=Gx(this.apiClient,v),S=new mp;return Object.assign(S,C),S})}else{const p=HS(this.apiClient,t);return g=ue("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const C=cx(this.apiClient,v),S=new mp;return Object.assign(S,C),S})}}async update(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=BE(this.apiClient,t);return g=ue("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Ju(this.apiClient,v))}else{const p=YS(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>Ku(this.apiClient,v))}}async delete(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=qE(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=Ox(),C=new hp;return Object.assign(C,v),C})}else{const p=ZS(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(()=>{const v=fx(),C=new hp;return Object.assign(C,v),C})}}async countTokens(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=FE(this.apiClient,t);return g=ue("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const C=zx(this.apiClient,v),S=new pp;return Object.assign(S,C),S})}else{const p=JS(this.apiClient,t);return g=ue("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const C=dx(this.apiClient,v),S=new pp;return Object.assign(S,C),S})}}async computeTokens(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI()){const g=YE(this.apiClient,t);return c=ue("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const p=Px(this.apiClient,y),v=new P0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=KE(this.apiClient,t);return g=ue("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Fx(this.apiClient,v))}else{const p=QS(this.apiClient,t);return g=ue("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>gx(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(a,t){const n={},l=u(t,["operationName"]);l!=null&&f(n,["_url","operationName"],l);const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function yA(a,t){const n={},l=u(t,["operationName"]);l!=null&&f(n,["_url","operationName"],l);const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function vA(a,t){const n={},l=u(t,["operationName"]);l!=null&&f(n,["operationName"],l);const s=u(t,["resourceName"]);s!=null&&f(n,["_url","resourceName"],s);const c=u(t,["config"]);return c!=null&&f(n,["config"],c),n}function TA(a,t){const n={},l=u(t,["video","uri"]);l!=null&&f(n,["uri"],l);const s=u(t,["video","encodedVideo"]);s!=null&&f(n,["videoBytes"],jn(a,s));const c=u(t,["encoding"]);return c!=null&&f(n,["mimeType"],c),n}function _A(a,t){const n={},l=u(t,["_self"]);return l!=null&&f(n,["video"],TA(a,l)),n}function CA(a,t){const n={},l=u(t,["generatedSamples"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>_A(a,g))),f(n,["generatedVideos"],m)}const s=u(t,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const c=u(t,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function SA(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["metadata"]);s!=null&&f(n,["metadata"],s);const c=u(t,["done"]);c!=null&&f(n,["done"],c);const m=u(t,["error"]);m!=null&&f(n,["error"],m);const g=u(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],CA(a,g)),n}function EA(a,t){const n={},l=u(t,["gcsUri"]);l!=null&&f(n,["uri"],l);const s=u(t,["bytesBase64Encoded"]);s!=null&&f(n,["videoBytes"],jn(a,s));const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function xA(a,t){const n={},l=u(t,["_self"]);return l!=null&&f(n,["video"],EA(a,l)),n}function AA(a,t){const n={},l=u(t,["videos"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>xA(a,g))),f(n,["generatedVideos"],m)}const s=u(t,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const c=u(t,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function Pp(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["metadata"]);s!=null&&f(n,["metadata"],s);const c=u(t,["done"]);c!=null&&f(n,["done"],c);const m=u(t,["error"]);m!=null&&f(n,["error"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],AA(a,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA extends _l{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,l=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let c;return l&&"httpOptions"in l&&(c=l.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:c}})}else return this.getVideosOperationInternal({operationName:n.name,config:l})}async getVideosOperationInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=yA(this.apiClient,t);return g=ue("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Pp(this.apiClient,v))}else{const p=gA(this.apiClient,t);return g=ue("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>SA(this.apiClient,v))}}async fetchPredictVideosOperationInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI()){const g=vA(this.apiClient,t);return c=ue("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>Pp(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NA(a,t){const n={},l=u(t,["voiceName"]);return l!=null&&f(n,["voiceName"],l),n}function vg(a,t){const n={},l=u(t,["prebuiltVoiceConfig"]);return l!=null&&f(n,["prebuiltVoiceConfig"],NA(a,l)),n}function RA(a,t){const n={},l=u(t,["speaker"]);l!=null&&f(n,["speaker"],l);const s=u(t,["voiceConfig"]);return s!=null&&f(n,["voiceConfig"],vg(a,s)),n}function DA(a,t){const n={},l=u(t,["speakerVoiceConfigs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>RA(a,c))),f(n,["speakerVoiceConfigs"],s)}return n}function bA(a,t){const n={},l=u(t,["voiceConfig"]);l!=null&&f(n,["voiceConfig"],vg(a,l));const s=u(t,["multiSpeakerVoiceConfig"]);s!=null&&f(n,["multiSpeakerVoiceConfig"],DA(a,s));const c=u(t,["languageCode"]);return c!=null&&f(n,["languageCode"],c),n}function wA(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function UA(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function IA(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function kA(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],wA(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],UA(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],IA(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const p=u(t,["executableCode"]);p!=null&&f(n,["executableCode"],p);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const C=u(t,["functionResponse"]);C!=null&&f(n,["functionResponse"],C);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function VA(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>kA(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function LA(a,t){const n={},l=u(t,["behavior"]);l!=null&&f(n,["behavior"],l);const s=u(t,["description"]);s!=null&&f(n,["description"],s);const c=u(t,["name"]);c!=null&&f(n,["name"],c);const m=u(t,["parameters"]);m!=null&&f(n,["parameters"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],g),n}function GA(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function OA(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],GA(a,l)),n}function zA(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function PA(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],zA(a,l)),n}function BA(){return{}}function qA(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>LA(a,p))),f(n,["functionDeclarations"],y)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(t,["googleSearch"]);s!=null&&f(n,["googleSearch"],OA(a,s));const c=u(t,["googleSearchRetrieval"]);if(c!=null&&f(n,["googleSearchRetrieval"],PA(a,c)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(n,["urlContext"],BA());const g=u(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function HA(a,t){const n={},l=u(t,["handle"]);if(l!=null&&f(n,["handle"],l),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Bp(){return{}}function FA(a,t){const n={},l=u(t,["disabled"]);l!=null&&f(n,["disabled"],l);const s=u(t,["startOfSpeechSensitivity"]);s!=null&&f(n,["startOfSpeechSensitivity"],s);const c=u(t,["endOfSpeechSensitivity"]);c!=null&&f(n,["endOfSpeechSensitivity"],c);const m=u(t,["prefixPaddingMs"]);m!=null&&f(n,["prefixPaddingMs"],m);const g=u(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function YA(a,t){const n={},l=u(t,["automaticActivityDetection"]);l!=null&&f(n,["automaticActivityDetection"],FA(a,l));const s=u(t,["activityHandling"]);s!=null&&f(n,["activityHandling"],s);const c=u(t,["turnCoverage"]);return c!=null&&f(n,["turnCoverage"],c),n}function ZA(a,t){const n={},l=u(t,["targetTokens"]);return l!=null&&f(n,["targetTokens"],l),n}function KA(a,t){const n={},l=u(t,["triggerTokens"]);l!=null&&f(n,["triggerTokens"],l);const s=u(t,["slidingWindow"]);return s!=null&&f(n,["slidingWindow"],ZA(a,s)),n}function JA(a,t){const n={},l=u(t,["proactiveAudio"]);return l!=null&&f(n,["proactiveAudio"],l),n}function XA(a,t,n){const l={},s=u(t,["generationConfig"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig"],s);const c=u(t,["responseModalities"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","responseModalities"],c);const m=u(t,["temperature"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","temperature"],m);const g=u(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const y=u(t,["topK"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","topK"],y);const p=u(t,["maxOutputTokens"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","maxOutputTokens"],p);const v=u(t,["mediaResolution"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","mediaResolution"],v);const C=u(t,["seed"]);n!==void 0&&C!=null&&f(n,["setup","generationConfig","seed"],C);const S=u(t,["speechConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","speechConfig"],bA(a,oc(a,S)));const x=u(t,["enableAffectiveDialog"]);n!==void 0&&x!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],x);const U=u(t,["systemInstruction"]);n!==void 0&&U!=null&&f(n,["setup","systemInstruction"],VA(a,Ct(a,U)));const k=u(t,["tools"]);if(n!==void 0&&k!=null){let ne=Io(a,k);Array.isArray(ne)&&(ne=ne.map(me=>qA(a,Uo(a,me)))),f(n,["setup","tools"],ne)}const P=u(t,["sessionResumption"]);n!==void 0&&P!=null&&f(n,["setup","sessionResumption"],HA(a,P));const W=u(t,["inputAudioTranscription"]);n!==void 0&&W!=null&&f(n,["setup","inputAudioTranscription"],Bp());const Z=u(t,["outputAudioTranscription"]);n!==void 0&&Z!=null&&f(n,["setup","outputAudioTranscription"],Bp());const Q=u(t,["realtimeInputConfig"]);n!==void 0&&Q!=null&&f(n,["setup","realtimeInputConfig"],YA(a,Q));const le=u(t,["contextWindowCompression"]);n!==void 0&&le!=null&&f(n,["setup","contextWindowCompression"],KA(a,le));const F=u(t,["proactivity"]);return n!==void 0&&F!=null&&f(n,["setup","proactivity"],JA(a,F)),l}function $A(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["setup","model"],Ye(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],XA(a,s,n)),n}function QA(a,t,n){const l={},s=u(t,["expireTime"]);n!==void 0&&s!=null&&f(n,["expireTime"],s);const c=u(t,["newSessionExpireTime"]);n!==void 0&&c!=null&&f(n,["newSessionExpireTime"],c);const m=u(t,["uses"]);n!==void 0&&m!=null&&f(n,["uses"],m);const g=u(t,["liveConnectConstraints"]);n!==void 0&&g!=null&&f(n,["bidiGenerateContentSetup"],$A(a,g));const y=u(t,["lockAdditionalFields"]);return n!==void 0&&y!=null&&f(n,["fieldMask"],y),l}function WA(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],QA(a,l,n)),n}function jA(a,t){const n={},l=u(t,["name"]);return l!=null&&f(n,["name"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eM(a){const t=[];for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n)){const l=a[n];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const s=Object.keys(l).map(c=>`${n}.${c}`);t.push(...s)}else t.push(n)}return t.join(",")}function tM(a,t){let n=null;const l=a.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const c=l.setup;typeof c=="object"&&c!==null?(a.bidiGenerateContentSetup=c,n=c):delete a.bidiGenerateContentSetup}else l!==void 0&&delete a.bidiGenerateContentSetup;const s=a.fieldMask;if(n){const c=eM(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?a.fieldMask=c:delete a.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];s.length>0&&(g=s.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?a.fieldMask=y.join(","):delete a.fieldMask}else delete a.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?a.fieldMask=s.join(","):delete a.fieldMask;return a}class nM extends _l{constructor(t){super(),this.apiClient=t}async create(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=WA(this.apiClient,t);c=ue("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=tM(g,t.config);return s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s.then(p=>jA(this.apiClient,p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iM(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],l);const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function lM(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=u(t,["filter"]);return n!==void 0&&m!=null&&f(n,["_query","filter"],m),l}function oM(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],lM(a,l,n)),n}function aM(a,t){const n={},l=u(t,["textInput"]);l!=null&&f(n,["textInput"],l);const s=u(t,["output"]);return s!=null&&f(n,["output"],s),n}function sM(a,t){const n={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(t,["examples"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>aM(a,c))),f(n,["examples","examples"],s)}return n}function rM(a,t,n){const l={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=u(t,["tunedModelDisplayName"]);if(n!==void 0&&s!=null&&f(n,["displayName"],s),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(t,["epochCount"]);n!==void 0&&c!=null&&f(n,["tuningTask","hyperparameters","epochCount"],c);const m=u(t,["learningRateMultiplier"]);if(m!=null&&f(l,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(t,["batchSize"]);n!==void 0&&g!=null&&f(n,["tuningTask","hyperparameters","batchSize"],g);const y=u(t,["learningRate"]);return n!==void 0&&y!=null&&f(n,["tuningTask","hyperparameters","learningRate"],y),l}function uM(a,t){const n={},l=u(t,["baseModel"]);l!=null&&f(n,["baseModel"],l);const s=u(t,["trainingDataset"]);s!=null&&f(n,["tuningTask","trainingData"],sM(a,s));const c=u(t,["config"]);return c!=null&&f(n,["config"],rM(a,c,n)),n}function cM(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],l);const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function fM(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=u(t,["filter"]);return n!==void 0&&m!=null&&f(n,["_query","filter"],m),l}function dM(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],fM(a,l,n)),n}function mM(a,t,n){const l={},s=u(t,["gcsUri"]);if(n!==void 0&&s!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],s),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function hM(a,t){const n={},l=u(t,["gcsUri"]);return l!=null&&f(n,["validationDatasetUri"],l),n}function pM(a,t,n){const l={},s=u(t,["validationDataset"]);n!==void 0&&s!=null&&f(n,["supervisedTuningSpec"],hM(a,s));const c=u(t,["tunedModelDisplayName"]);n!==void 0&&c!=null&&f(n,["tunedModelDisplayName"],c);const m=u(t,["description"]);n!==void 0&&m!=null&&f(n,["description"],m);const g=u(t,["epochCount"]);n!==void 0&&g!=null&&f(n,["supervisedTuningSpec","hyperParameters","epochCount"],g);const y=u(t,["learningRateMultiplier"]);n!==void 0&&y!=null&&f(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const p=u(t,["exportLastCheckpointOnly"]);n!==void 0&&p!=null&&f(n,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const v=u(t,["adapterSize"]);if(n!==void 0&&v!=null&&f(n,["supervisedTuningSpec","hyperParameters","adapterSize"],v),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function gM(a,t){const n={},l=u(t,["baseModel"]);l!=null&&f(n,["baseModel"],l);const s=u(t,["trainingDataset"]);s!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],mM(a,s,n));const c=u(t,["config"]);return c!=null&&f(n,["config"],pM(a,c,n)),n}function yM(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["model"],l);const s=u(t,["name"]);return s!=null&&f(n,["endpoint"],s),n}function Tg(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["state"]);s!=null&&f(n,["state"],tg(a,s));const c=u(t,["createTime"]);c!=null&&f(n,["createTime"],c);const m=u(t,["tuningTask","startTime"]);m!=null&&f(n,["startTime"],m);const g=u(t,["tuningTask","completeTime"]);g!=null&&f(n,["endTime"],g);const y=u(t,["updateTime"]);y!=null&&f(n,["updateTime"],y);const p=u(t,["description"]);p!=null&&f(n,["description"],p);const v=u(t,["baseModel"]);v!=null&&f(n,["baseModel"],v);const C=u(t,["_self"]);C!=null&&f(n,["tunedModel"],yM(a,C));const S=u(t,["distillationSpec"]);S!=null&&f(n,["distillationSpec"],S);const x=u(t,["experiment"]);x!=null&&f(n,["experiment"],x);const U=u(t,["labels"]);U!=null&&f(n,["labels"],U);const k=u(t,["pipelineJob"]);k!=null&&f(n,["pipelineJob"],k);const P=u(t,["serviceAccount"]);P!=null&&f(n,["serviceAccount"],P);const W=u(t,["tunedModelDisplayName"]);return W!=null&&f(n,["tunedModelDisplayName"],W),n}function vM(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["tunedModels"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>Tg(a,m))),f(n,["tuningJobs"],c)}return n}function TM(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["metadata"]);s!=null&&f(n,["metadata"],s);const c=u(t,["done"]);c!=null&&f(n,["done"],c);const m=u(t,["error"]);return m!=null&&f(n,["error"],m),n}function _M(a,t){const n={},l=u(t,["checkpointId"]);l!=null&&f(n,["checkpointId"],l);const s=u(t,["epoch"]);s!=null&&f(n,["epoch"],s);const c=u(t,["step"]);c!=null&&f(n,["step"],c);const m=u(t,["endpoint"]);return m!=null&&f(n,["endpoint"],m),n}function CM(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["model"],l);const s=u(t,["endpoint"]);s!=null&&f(n,["endpoint"],s);const c=u(t,["checkpoints"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>_M(a,g))),f(n,["checkpoints"],m)}return n}function Qu(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["state"]);s!=null&&f(n,["state"],tg(a,s));const c=u(t,["createTime"]);c!=null&&f(n,["createTime"],c);const m=u(t,["startTime"]);m!=null&&f(n,["startTime"],m);const g=u(t,["endTime"]);g!=null&&f(n,["endTime"],g);const y=u(t,["updateTime"]);y!=null&&f(n,["updateTime"],y);const p=u(t,["error"]);p!=null&&f(n,["error"],p);const v=u(t,["description"]);v!=null&&f(n,["description"],v);const C=u(t,["baseModel"]);C!=null&&f(n,["baseModel"],C);const S=u(t,["tunedModel"]);S!=null&&f(n,["tunedModel"],CM(a,S));const x=u(t,["supervisedTuningSpec"]);x!=null&&f(n,["supervisedTuningSpec"],x);const U=u(t,["tuningDataStats"]);U!=null&&f(n,["tuningDataStats"],U);const k=u(t,["encryptionSpec"]);k!=null&&f(n,["encryptionSpec"],k);const P=u(t,["partnerModelTuningSpec"]);P!=null&&f(n,["partnerModelTuningSpec"],P);const W=u(t,["distillationSpec"]);W!=null&&f(n,["distillationSpec"],W);const Z=u(t,["experiment"]);Z!=null&&f(n,["experiment"],Z);const Q=u(t,["labels"]);Q!=null&&f(n,["labels"],Q);const le=u(t,["pipelineJob"]);le!=null&&f(n,["pipelineJob"],le);const F=u(t,["serviceAccount"]);F!=null&&f(n,["serviceAccount"],F);const ne=u(t,["tunedModelDisplayName"]);return ne!=null&&f(n,["tunedModelDisplayName"],ne),n}function SM(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["tuningJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>Qu(a,m))),f(n,["tuningJobs"],c)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EM extends _l{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ds(Tl.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const l=await this.tuneMldevInternal(n);let s="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?s=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(s=l.name.split("/operations/")[0]),{name:s,state:qu.JOB_STATE_QUEUED}}}}async getInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=cM(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Qu(this.apiClient,v))}else{const p=iM(this.apiClient,t);return g=ue("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>Tg(this.apiClient,v))}}async listInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=dM(this.apiClient,t);return g=ue("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const C=SM(this.apiClient,v),S=new gp;return Object.assign(S,C),S})}else{const p=oM(this.apiClient,t);return g=ue("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const C=vM(this.apiClient,v),S=new gp;return Object.assign(S,C),S})}}async tuneInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI()){const g=gM(this.apiClient,t);return c=ue("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>Qu(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=uM(this.apiClient,t);return c=ue("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>TM(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xM{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const AM=1024*1024*8,MM=3,NM=1e3,RM=2,Iu="x-goog-upload-status";async function DM(a,t,n){var l,s,c;let m=0,g=0,y=new Hu(new Response),p="upload";for(m=a.size;g<m;){const C=Math.min(AM,m-g),S=a.slice(g,g+C);g+C>=m&&(p+=", finalize");let x=0,U=NM;for(;x<MM&&(y=await n.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(C)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[Iu]));)x++,await wM(U),U=U*RM;if(g+=C,((s=y==null?void 0:y.headers)===null||s===void 0?void 0:s[Iu])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[Iu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function bM(a){return{size:a.size,type:a.type}}function wM(a){return new Promise(t=>setTimeout(t,a))}class UM{async upload(t,n,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await DM(t,n,l)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await bM(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IM{create(t,n,l){return new kM(t,n,l)}}class kM{constructor(t,n,l){this.url=t,this.headers=n,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qp="x-goog-api-key";class VM{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(qp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(qp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LM="gl-node/";class GM{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const l=G0(t,void 0,void 0);l&&(t.httpOptions?t.httpOptions.baseUrl=l:t.httpOptions={baseUrl:l}),this.apiVersion=t.apiVersion;const s=new VM(this.apiKey);this.apiClient=new Wx({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:LM+"web",uploader:new UM,downloader:new xM}),this.models=new pA(this.apiClient),this.live=new cA(this.apiClient,s,new IM),this.chats=new c_(this.models,this.apiClient),this.caches=new s_(this.apiClient),this.files=new E_(this.apiClient),this.operations=new MA(this.apiClient),this.authTokens=new nM(this.apiClient),this.tunings=new EM(this.apiClient)}}const _g=a=>{if(!a)return console.error("Gemini API Key is not provided."),null;try{return new GM({apiKey:a})}catch(t){return console.error("Error initializing GoogleGenAI with provided API Key:",t),null}},OM=a=>{let t=a.trim();const n=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,l=t.match(n);l&&l[2]&&(t=l[2].trim());try{return JSON.parse(t)}catch(s){return console.error("Failed to parse JSON response from Gemini:",s,"Original text:",a),null}},zM=async(a,t)=>{var s,c;const n=_g(t);if(!n)return{error:"Gemini API client not initialized. API Key missing or invalid."};const l=`Fhre eine Marktrecherche fr das Produkt "${a}" durch. Identifiziere Hauptkonkurrenten, typische Preispunkte und allgemeine Kundenstimmungen oder -probleme, die in Online-Diskussionen oder Rezensionen erwhnt werden. Fasse die Ergebnisse kurz zusammen. Nenne auch die Quellen, falls mglich.`;try{const m=await n.models.generateContent({model:Zp,contents:l,config:{tools:[{googleSearch:{}}]}}),g=m.text;let y=[];return m.candidates&&((c=(s=m.candidates[0])==null?void 0:s.groundingMetadata)!=null&&c.groundingChunks)&&(y=m.candidates[0].groundingMetadata.groundingChunks.filter(p=>p.web&&p.web.uri).map(p=>{var v,C;return{title:((v=p.web)==null?void 0:v.title)||((C=p.web)==null?void 0:C.uri)||"Unknown Source",uri:p.web.uri}})),{summary:g,sourceUrls:y}}catch(m){return console.error("Error fetching market research from Gemini:",m),m.message&&(m.message.includes("API key not valid")||m.message.includes("API_KEY_INVALID"))?{error:"Ungltiger Gemini API Key. Bitte berprfe den eingegebenen Key."}:{error:m.message||"Failed to fetch market research."}}},PM=async(a,t)=>{const n=_g(t);if(!n)return{error:"Gemini API client not initialized. API Key missing or invalid."};const l=`
Du bist ein KI-Assistent, der dabei hilft, detaillierte Produktrezensionsinformationen zu erstellen.
Fr das Produkt "${a}":

1.  **Testplan**: Basierend auf der Produktkategorie und dem Namen, schlage 3-5 spezifische, sinnvolle Tests vor, die ein Rezensent durchfhren knnte, um die Qualitt und Funktionalitt des Produkts zu bewerten. Sei przise.
2.  **Vorhergesagte Bewertung (1-5 Sterne)**: Basierend auf dem Produktnamen, allgemeinen Kenntnissen ber Marken (falls zutreffend) und typischen Erwartungen fr Produkte dieser Art, schtze eine wahrscheinliche Sternebewertung ein.
3.  **Begrndung fr Bewertung**: Erklre kurz, warum du diese Bewertung erwartest. Bercksichtige Faktoren wie wahrgenommene Qualitt, Markenreputation (falls bekannt) oder ob es sich um ein No-Name-Produkt handelt.
4.  **Rezensionsvorlagen**: Schreibe 5 vollstndige Rezensionstexte fr dieses Produkt, jeweils fr eine Bewertung von 5 Sternen, 4 Sternen, 3 Sternen, 2 Sternen und 1 Stern. Diese Rezensionen sollten:
    *   Authentisch und glaubwrdig klingen.
    *   Den Produktnamen "${a}" natrlich integrieren, ohne generische Platzhalter wie "[Produktname]" zu verwenden.
    *   Eine angemessene Lnge haben, die zur Produktart passt (z.B. 2-3 Stze fr einfache Artikel wie Unterwsche, ausfhrlicher fr komplexe Artikel wie Laptops oder Brettspiele).
    *   Jede Rezension sollte die entsprechende Sternebewertung widerspiegeln (positiv fr 5 Sterne, sehr kritisch fr 1 Stern).

Bitte gib die Antwort im folgenden JSON-Format zurck:
{
  "productName": "${a}",
  "testPlan": [
    "Testbeschreibung 1",
    "Testbeschreibung 2"
  ],
  "predictedRating": {
    "stars": /* Zahl von 1 bis 5 */,
    "justification": "Begrndung hier..."
  },
  "reviews": {
    "5_star": "Text der 5-Sterne-Rezension...",
    "4_star": "Text der 4-Sterne-Rezension...",
    "3_star": "Text der 3-Sterne-Rezension...",
    "2_star": "Text der 2-Sterne-Rezension...",
    "1_star": "Text der 1-Sterne-Rezension..."
  }
}
`;try{const s=await n.models.generateContent({model:Zp,contents:l,config:{responseMimeType:"application/json"}}),c=OM(s.text);return c?(c.productName!==a&&console.warn(`Gemini returned data for ${c.productName} instead of ${a}. Using it anyway.`),!c.testPlan||!c.predictedRating||!c.reviews?{error:"Gemini response missing one or more required fields (testPlan, predictedRating, reviews)."}:c):{error:"Failed to parse structured review data from Gemini."}}catch(s){return console.error("Error fetching review generation data from Gemini:",s),s.message&&(s.message.includes("API key not valid")||s.message.includes("API_KEY_INVALID"))?{error:"Ungltiger Gemini API Key. Bitte berprfe den eingegebenen Key."}:{error:s.message||"Failed to fetch review generation data."}}},Cg=({className:a})=>N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a||"w-5 h-5 text-green-500",children:N.jsx("polyline",{points:"20 6 9 17 4 12"})}),cc=({className:a})=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a||"w-5 h-5 text-red-500",children:[N.jsx("circle",{cx:"12",cy:"12",r:"10"}),N.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),N.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),Sg=({className:a})=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a||"w-5 h-5 text-yellow-500",children:[N.jsx("circle",{cx:"12",cy:"12",r:"10"}),N.jsx("polyline",{points:"12 6 12 12 16 14"})]}),BM=({filled:a,className:t})=>N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:a?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t||"w-5 h-5 text-yellow-400",children:N.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),Wu=({rating:a,maxStars:t=5,starSize:n="w-5 h-5"})=>N.jsx("div",{className:"flex items-center","aria-label":`Bewertung: ${a} von ${t} Sternen`,children:[...Array(t)].map((l,s)=>{const c=s+1;return N.jsx(BM,{filled:c<=a,className:`${n} ${c<=a?"text-yellow-400":"text-slate-500"}`},c)})}),qM=({products:a,geminiData:t,onSort:n,sortConfig:l,onSelectProduct:s,onFetchGeminiData:c,currentlyProcessingASIN:m,geminiQueue:g})=>{const y=S=>l.key===S?l.direction==="ascending"?"":"":"",p=S=>{const x=t[S];return m===S||(x==null?void 0:x.status)==="pending"?N.jsx(Sg,{className:"w-5 h-5 text-yellow-400 animate-spin"}):(x==null?void 0:x.status)==="completed"?N.jsx(Cg,{className:"w-5 h-5 text-green-400"}):(x==null?void 0:x.status)==="failed"?N.jsx(cc,{className:"w-5 h-5 text-red-400"}):N.jsx("span",{className:"text-slate-500",children:"-"})},v=S=>{var U,k,P;const x=(P=(k=(U=t[S])==null?void 0:U.reviewOutput)==null?void 0:k.predictedRating)==null?void 0:P.stars;return typeof x=="number"?N.jsx(Wu,{rating:x,maxStars:5}):N.jsx("span",{className:"text-slate-500",children:"-"})};if(a.length===0)return N.jsx("p",{className:"text-center text-slate-400 py-8",children:"Keine Produkte entsprechen den aktuellen Filtern."});const C=[{key:"ASIN",label:"ASIN",className:"w-1/12",isSortable:!0},{key:"name",label:"Name",className:"w-4/12",isSortable:!0},{key:"date",label:"Datum",className:"w-1/12",isSortable:!0},{key:"etv",label:"ETV ()",className:"w-1/12 text-right",isSortable:!0},{key:"geminiStatus",label:"Gemini Status",className:"w-1/12 text-center",isSortable:!0},{key:"geminiRating",label:"Gemini Rating",className:"w-1/12 text-center",isSortable:!0},{key:"actions",label:"Aktion",className:"w-2/12 text-center",isSortable:!1}];return N.jsx("div",{className:"overflow-x-auto bg-slate-800 shadow-md rounded-lg",children:N.jsxs("table",{className:"min-w-full table-fixed",children:[N.jsx("thead",{className:"bg-slate-700",children:N.jsx("tr",{children:C.map(S=>N.jsxs("th",{scope:"col",onClick:()=>S.isSortable&&n(S.key),className:`px-4 py-3 text-left text-xs font-medium text-sky-300 uppercase tracking-wider ${S.className||""} ${S.isSortable?"cursor-pointer hover:bg-slate-600":""}`,"aria-sort":S.isSortable&&l.key===S.key?l.direction==="ascending"?"ascending":"descending":"none",children:[S.label," ",S.isSortable&&y(S.key)]},S.key))})}),N.jsx("tbody",{className:"bg-slate-800 divide-y divide-slate-700",children:a.map(S=>{const x=t[S.ASIN],U=m===S.ASIN||(x==null?void 0:x.status)==="pending",k=g.includes(S.ASIN);return N.jsxs("tr",{className:"hover:bg-slate-700 transition-colors duration-150 ease-in-out group",onClick:()=>s(S.ASIN),role:"button",tabIndex:0,onKeyDown:P=>(P.key==="Enter"||P.key===" ")&&s(S.ASIN),"aria-label":`Details fr ${S.name} anzeigen`,children:[N.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-300 tabular-nums",children:S.ASIN}),N.jsx("td",{className:"px-4 py-3 text-sm text-slate-200 group-hover:text-sky-300",children:S.name}),N.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-400",children:S.date}),N.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-300 text-right tabular-nums",children:S.etv.toFixed(2)}),N.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:p(S.ASIN)}),N.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm flex justify-center items-center h-full",children:v(S.ASIN)}),N.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:N.jsx("button",{onClick:P=>{P.stopPropagation(),c(S.ASIN)},className:`font-medium py-1.5 px-3 rounded-md text-xs transition-all duration-150 ease-in-out shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-opacity-50
                    ${U||k?"bg-slate-600 text-slate-400 cursor-not-allowed":(x==null?void 0:x.status)==="completed"?"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500":(x==null?void 0:x.status)==="failed"?"bg-orange-500 hover:bg-orange-600 text-white focus:ring-orange-400":"bg-sky-600 hover:bg-sky-700 text-white focus:ring-sky-500"}`,disabled:U||k,"aria-label":U?`Verarbeite Gemini fr ${S.name}`:k?`${S.name} in Warteschlange`:(x==null?void 0:x.status)==="completed"?`Gemini erneut fr ${S.name} ausfhren`:(x==null?void 0:x.status)==="failed"?`Gemini erneut fr ${S.name} versuchen`:`Gemini-Daten fr ${S.name} abrufen`,children:U?"Verarbeite...":k&&m!==S.ASIN?"In Warteschl.":(x==null?void 0:x.status)==="completed"?"Erneut":(x==null?void 0:x.status)==="failed"?"Wiederholen":"Abrufen"})})]},S.ASIN)})})]})})},HM=({onSubmit:a,currentProductApiError:t,currentGeminiApiError:n,initialProductToken:l,initialGeminiKey:s})=>{const[c,m]=Ae.useState(l||""),[g,y]=Ae.useState(s||""),[p,v]=Ae.useState(null),[C,S]=Ae.useState(null);Ae.useEffect(()=>{l&&c!==l&&m(l),s&&g!==s&&y(s)},[l,s]),Ae.useEffect(()=>{v(t||null)},[t]),Ae.useEffect(()=>{S(n||null)},[n]);const x=U=>{U.preventDefault();let k=!0;const P=c.trim(),W=g.trim();P?v(null):(v("Produkt API Token darf nicht leer sein."),k=!1),W?S(null):(S("Gemini API Key darf nicht leer sein."),k=!1),k&&a(P,W)};return N.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-80 backdrop-blur-sm flex items-center justify-center p-4 z-[100]","aria-modal":"true",role:"dialog","aria-labelledby":"credentials-modal-title",children:N.jsxs("div",{className:"bg-slate-800 p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-md transform transition-all scale-100 opacity-100",children:[N.jsx("h2",{id:"credentials-modal-title",className:"text-2xl sm:text-3xl font-bold text-sky-400 mb-6 text-center",children:"API Zugangsdaten bentigt"}),N.jsx("p",{className:"text-slate-300 mb-6 text-center text-sm",id:"credentials-modal-description",children:"Bitte gib deinen Produkt API Token und deinen Gemini API Key ein. Diese werden lokal in deinem Browser gespeichert."}),N.jsxs("form",{onSubmit:x,noValidate:!0,"aria-describedby":"credentials-modal-description",children:[N.jsxs("div",{className:"mb-4",children:[N.jsx("label",{htmlFor:"productApiToken",className:"block text-sm font-medium text-slate-300 mb-1",children:"Produkt API Token"}),N.jsx("input",{type:"password",id:"productApiToken",value:c,onChange:U=>{m(U.target.value),p&&v(null)},className:`w-full p-3 border rounded-lg bg-slate-700 text-slate-100 focus:ring-2 focus:border-sky-500 transition-colors ${p?"border-red-500 focus:ring-red-500":"border-slate-600 focus:ring-sky-500"}`,placeholder:"Dein Produkt API Token","aria-describedby":"productApiToken-error","aria-invalid":!!p,autoFocus:!0}),p&&N.jsx("p",{id:"productApiToken-error",className:"text-red-400 text-xs mt-1",role:"alert",children:p})]}),N.jsxs("div",{className:"mb-6",children:[N.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium text-slate-300 mb-1",children:"Gemini API Key"}),N.jsx("input",{type:"password",id:"geminiApiKey",value:g,onChange:U=>{y(U.target.value),C&&S(null)},className:`w-full p-3 border rounded-lg bg-slate-700 text-slate-100 focus:ring-2 focus:border-sky-500 transition-colors ${C?"border-red-500 focus:ring-red-500":"border-slate-600 focus:ring-sky-500"}`,placeholder:"Dein Gemini API Key","aria-describedby":"geminiApiKey-error","aria-invalid":!!C}),C&&N.jsx("p",{id:"geminiApiKey-error",className:"text-red-400 text-xs mt-1",role:"alert",children:C})]}),N.jsx("button",{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-50",children:"Speichern und Fortfahren"})]}),N.jsxs("p",{className:"text-xs text-slate-500 mt-6 text-center",children:["Der Produkt API Token wird fr die Produkt-API (",N.jsxs("code",{className:"text-xs bg-slate-700 px-1 rounded select-all",children:[tc.split("/").slice(0,3).join("/"),"/..."]}),") verwendet. Der Gemini API Key wird fr Anfragen an die Google Gemini API verwendet."]})]})})},FM=({className:a})=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a||"w-4 h-4",children:[N.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),N.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),ju=({message:a,size:t="medium"})=>{let n="w-12 h-12";return t==="small"&&(n="w-6 h-6"),t==="large"&&(n="w-16 h-16"),N.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",role:"status","aria-live":"polite",children:[N.jsx("div",{className:`animate-spin rounded-full ${n} border-t-4 border-b-4 border-sky-500`}),a&&N.jsx("p",{className:"mt-4 text-lg text-slate-300",children:a})]})},YM=({product:a,geminiData:t,isOpen:n,onClose:l,onFetchGeminiData:s})=>{const[c,m]=Ae.useState({});if(!n)return null;const g=(p,v)=>{navigator.clipboard.writeText(p).then(()=>{m(C=>({...C,[v]:!0})),setTimeout(()=>m(C=>({...C,[v]:!1})),2e3)}).catch(C=>{console.error("Fehler beim Kopieren des Textes: ",C),alert("Fehler beim Kopieren. Bitte manuell kopieren.")})},y=()=>{if((t==null?void 0:t.status)==="pending")return N.jsx(ju,{message:`Lade Gemini-Daten fr ${a.name}...`});if((t==null?void 0:t.status)==="failed")return N.jsxs("div",{className:"text-center py-6",children:[N.jsx(cc,{className:"w-12 h-12 text-red-400 mx-auto mb-3"}),N.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Fehler bei Gemini-Anfrage"}),N.jsx("p",{className:"text-slate-400 mb-4",children:t.error||"Ein unbekannter Fehler ist aufgetreten."}),N.jsx("button",{onClick:()=>s(a.ASIN),className:"bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-lg shadow transition duration-150",children:"Erneut versuchen"})]});if((t==null?void 0:t.status)==="completed"&&t.reviewOutput&&t.marketResearch){const{marketResearch:p,reviewOutput:v}=t;return N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"mb-6 p-4 bg-slate-700 rounded-lg",children:[N.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-2",children:"Marktrecherche"}),N.jsx("p",{className:"text-slate-300 whitespace-pre-wrap text-sm leading-relaxed mb-2",children:p.summary}),p.sourceUrls&&p.sourceUrls.length>0&&N.jsxs("div",{children:[N.jsx("h4",{className:"text-md font-semibold text-slate-400 mt-3 mb-1",children:"Quellen:"}),N.jsx("ul",{className:"list-disc list-inside pl-2 space-y-1",children:p.sourceUrls.map((C,S)=>N.jsx("li",{className:"text-sm",children:N.jsx("a",{href:C.uri,target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 hover:underline underline-offset-2",children:C.title||C.uri})},S))})]})]}),N.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[N.jsxs("div",{className:"p-4 bg-slate-700 rounded-lg",children:[N.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-2",children:"Testplan"}),v.testPlan&&v.testPlan.length>0?N.jsx("ul",{className:"list-disc list-inside pl-2 space-y-1 text-slate-300 text-sm",children:v.testPlan.map((C,S)=>N.jsx("li",{children:C},S))}):N.jsx("p",{className:"text-slate-400 text-sm",children:"Kein Testplan von Gemini erhalten."})]}),N.jsxs("div",{className:"p-4 bg-slate-700 rounded-lg",children:[N.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-2",children:"Vorhergesagte Bewertung"}),N.jsxs("div",{className:"flex items-center mb-1",children:[N.jsx(Wu,{rating:v.predictedRating.stars,starSize:"w-6 h-6"}),N.jsxs("span",{className:"ml-2 text-2xl font-bold text-yellow-400",children:[v.predictedRating.stars," / 5"]})]}),N.jsx("p",{className:"text-slate-300 text-sm italic leading-relaxed",children:v.predictedRating.justification})]})]}),N.jsxs("div",{className:"mb-4",children:[N.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-3",children:"Rezensionsvorlagen"}),N.jsx("div",{className:"space-y-4",children:Object.keys(v.reviews).sort((C,S)=>parseInt(S.split("_")[0])-parseInt(C.split("_")[0])).map(C=>{const S=v.reviews[C],x=parseInt(C.split("_")[0]),U=`review-${C}`;return N.jsxs("div",{className:"p-4 bg-slate-700 rounded-lg",children:[N.jsxs("div",{className:"flex justify-between items-center mb-2",children:[N.jsxs("h4",{className:"text-lg font-medium text-slate-200 flex items-center",children:[N.jsx(Wu,{rating:x,starSize:"w-5 h-5"}),N.jsxs("span",{className:"ml-2",children:[x,"-Sterne Rezension"]})]}),N.jsx("button",{onClick:()=>g(S,U),className:"p-1.5 bg-slate-600 hover:bg-sky-600 rounded-md text-slate-300 hover:text-white transition-colors","aria-label":`Kopiere ${x}-Sterne Rezension`,children:c[U]?N.jsx(Cg,{className:"w-4 h-4 text-green-400"}):N.jsx(FM,{className:"w-4 h-4"})})]}),N.jsx("p",{className:"text-slate-300 whitespace-pre-wrap text-sm leading-relaxed",children:S})]},C)})})]})]})}return N.jsxs("div",{className:"text-center py-10",children:[N.jsx(Sg,{className:"w-12 h-12 text-sky-400 mx-auto mb-3"}),N.jsx("h3",{className:"text-xl font-semibold text-slate-200 mb-2",children:"Keine Gemini-Daten"}),N.jsx("p",{className:"text-slate-400 mb-4",children:"Fr dieses Produkt wurden noch keine Gemini-Daten abgerufen."}),N.jsx("button",{onClick:()=>{s(a.ASIN)},className:"bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-6 rounded-lg shadow transition duration-150",children:"Gemini-Daten jetzt abrufen"})]})};return N.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-80 backdrop-blur-md flex items-center justify-center p-2 sm:p-4 z-50",onClick:l,role:"dialog","aria-modal":"true","aria-labelledby":"product-detail-title",children:N.jsxs("div",{className:"bg-slate-800 p-5 sm:p-6 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-slate-700",onClick:p=>p.stopPropagation(),children:[N.jsxs("div",{className:"flex justify-between items-start mb-4",children:[N.jsxs("div",{children:[N.jsx("h2",{id:"product-detail-title",className:"text-2xl sm:text-3xl font-bold text-sky-400",children:a.name}),N.jsxs("p",{className:"text-sm text-slate-400",children:["ASIN: ",a.ASIN," | Bestelldatum: ",a.date]})]}),N.jsx("button",{onClick:l,className:"text-slate-400 hover:text-slate-200 transition-colors p-1 -mr-1 -mt-1","aria-label":"Schlieen",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),y()]})})},ZM=({currentPage:a,totalPages:t,onPageChange:n})=>{if(t<=1)return null;const l=[],s=5;let c,m;if(t<=s)c=1,m=t;else{const g=Math.floor((s-1)/2),y=Math.ceil((s-1)/2)-1;a<=g?(c=1,m=s):a+y>=t?(c=t-s+1,m=t):(c=a-g,m=a+y+1)}m=Math.min(m,t),c=Math.max(c,1);for(let g=c;g<=m;g++)l.push(g);return N.jsxs("nav",{"aria-label":"Product list pagination",className:"flex items-center justify-center px-4 py-3 sm:px-6 mt-6",children:[N.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[N.jsx("button",{onClick:()=>n(a-1),disabled:a===1,className:"relative inline-flex items-center px-4 py-2 border border-slate-600 text-sm font-medium rounded-md text-slate-300 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Vorherige"}),N.jsx("button",{onClick:()=>n(a+1),disabled:a===t,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-600 text-sm font-medium rounded-md text-slate-300 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Nchste"})]}),N.jsx("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-center",children:N.jsx("div",{children:N.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[N.jsxs("button",{onClick:()=>n(a-1),disabled:a===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-600 bg-slate-700 text-sm font-medium text-slate-400 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous page",children:[N.jsx("span",{className:"sr-only",children:"Vorherige"}),N.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:N.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),c>1&&N.jsxs(N.Fragment,{children:[N.jsx("button",{onClick:()=>n(1),className:"bg-slate-700 border-slate-600 text-slate-400 hover:bg-slate-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium",children:"1"}),c>2&&N.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-slate-600 bg-slate-700 text-sm font-medium text-slate-500",children:"..."})]}),l.map(g=>N.jsx("button",{onClick:()=>n(g),"aria-current":a===g?"page":void 0,className:`${a===g?"z-10 bg-sky-600 border-sky-500 text-white":"bg-slate-700 border-slate-600 text-slate-400 hover:bg-slate-600"} relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors`,children:g},g)),m<t&&N.jsxs(N.Fragment,{children:[m<t-1&&N.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-slate-600 bg-slate-700 text-sm font-medium text-slate-500",children:"..."}),N.jsx("button",{onClick:()=>n(t),className:"bg-slate-700 border-slate-600 text-slate-400 hover:bg-slate-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium",children:t})]}),N.jsxs("button",{onClick:()=>n(a+1),disabled:a===t,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-600 bg-slate-700 text-sm font-medium text-slate-400 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next page",children:[N.jsx("span",{className:"sr-only",children:"Nchste"}),N.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:N.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})})]})},KM=({products:a,onFetchBatch:t,currentQueue:n,processingASIN:l,setGlobalMessage:s})=>{const[c,m]=Ae.useState("10"),g=()=>{const p=parseInt(c,10);if(isNaN(p)||p<=0){s("Ungltige Anzahl fr Batch-Verarbeitung ausgewhlt."),setTimeout(()=>s(""),3e3);return}const v=a.slice(0,p).map(C=>C.ASIN).filter(C=>!n.includes(C)&&C!==l);v.length>0?(t(v),s(`${v.length} Produkt(e) zur Gemini-Warteschlange hinzugefgt.`)):s("Keine neuen Produkte zum Hinzufgen (eventuell bereits in Warteschlange oder werden bearbeitet)."),setTimeout(()=>s(""),4e3)},y=[{value:"5",label:"Letzte 5"},{value:"10",label:"Letzte 10"},{value:"25",label:"Letzte 25"},{value:"50",label:"Letzte 50"}];return N.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:space-x-3 space-y-3 sm:space-y-0",children:[N.jsxs("div",{children:[N.jsx("label",{htmlFor:"bulk-count",className:"block text-sm font-medium text-slate-300 mb-1",children:"Gemini fr Batch"}),N.jsx("select",{id:"bulk-count",value:c,onChange:p=>m(p.target.value),className:"w-full sm:w-auto p-2 border border-slate-600 rounded-md bg-slate-700 text-slate-100 focus:ring-sky-500 focus:border-sky-500 h-[42px]","aria-label":"Select number of products for bulk Gemini fetch",children:y.map(p=>N.jsx("option",{value:p.value,children:p.label},p.value))})]}),N.jsx("button",{onClick:g,className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow transition duration-150 ease-in-out h-[42px] whitespace-nowrap",disabled:a.length===0||!!l,title:a.length===0?"Keine Produkte in der aktuellen Ansicht":l?"Gemini verarbeitet gerade eine Anfrage":`Gemini-Daten fr die ersten ${c} Produkte der aktuellen Ansicht abrufen`,children:`Fr ${c} starten`})]})},Hp=({message:a,onClose:t})=>a?N.jsxs("div",{className:"mt-4 p-4 bg-red-800 bg-opacity-60 border border-red-700 text-red-200 rounded-lg shadow-md flex items-start space-x-3",role:"alert",children:[N.jsx(cc,{className:"w-6 h-6 text-red-300 flex-shrink-0 mt-0.5"}),N.jsxs("div",{className:"flex-grow",children:[N.jsx("p",{className:"font-semibold",children:"Fehler"}),N.jsx("p",{className:"text-sm",children:a})]}),t&&N.jsx("button",{onClick:t,className:"text-red-300 hover:text-red-100 p-1 -mr-1 -mt-1","aria-label":"Fehlermeldung schlieen",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}):null,JM=()=>{const[a,t]=Ae.useState(null),[n,l]=Ae.useState(null),[s,c]=Ae.useState(!1),[m,g]=Ae.useState([]),[y,p]=Ae.useState(ku()),[v,C]=Ae.useState(!1),[S,x]=Ae.useState(null),[U,k]=Ae.useState(null),[P,W]=Ae.useState(""),[Z,Q]=Ae.useState({key:"date",direction:"descending"}),[le,F]=Ae.useState(1),[ne,me]=Ae.useState(null),[he,te]=Ae.useState([]),[ge,Pe]=Ae.useState(!1),[Be,Et]=Ae.useState(null),[et,Le]=Ae.useState(null),[V,H]=Ae.useState(null);Ae.useEffect(()=>{const J=Xv(),be=Qv();J&&t(J),be&&l(be),(!J||!be)&&c(!0),p(ku())},[]),Ae.useEffect(()=>{a&&n&&m.length===0&&!v&&oe()},[a,n,m.length,v]);const oe=Ae.useCallback(async()=>{var J,be;if(!a){x("Produkt API Token ist nicht gesetzt."),c(!0);return}C(!0),x(null);try{const Me=await t0(a,tc);Me.status==="success"&&Me.data?g(Me.data):(x(Me.message||"Fehler beim Laden der Produkte."),((J=Me.message)!=null&&J.toLowerCase().includes("token")||(be=Me.message)!=null&&be.toLowerCase().includes("invalid auth"))&&(fh(),t(null),c(!0)))}catch(Me){x(`Ein Fehler ist aufgetreten: ${Me.message}`)}finally{C(!1)}},[a]),Ie=(J,be)=>{$v(J),t(J),Wv(be),l(be),c(!1),x(null),k(null)},A=()=>{fh(),t(null),dh(),l(null),g([]),c(!0),H("Erfolgreich ausgeloggt und Tokens entfernt."),setTimeout(()=>H(null),3e3)};Ae.useEffect(()=>{if(!ge&&he.length>0&&a&&n){const J=he[0];z(J)}else!n&&he.length>0&&(Le("Gemini API Key nicht gesetzt. Verarbeitung angehalten."),te([]))},[he,ge,a,n]);const z=async J=>{if(!n){const we="Gemini API Key ist nicht konfiguriert. Verarbeitung nicht mglich.";Le(we),k(we);const Ne={...y[J],status:"failed",error:we,lastAttempt:new Date().toISOString()};p(Qe=>({...Qe,[J]:Ne})),Mo(J,Ne),te(Qe=>Qe.filter(lt=>lt!==J)),c(!0);return}Pe(!0),Et(J);const be=m.find(we=>we.ASIN===J);if(!be){console.error(`Produkt ${J} nicht gefunden fr Gemini-Anfrage.`);const Ne={...y[J],status:"failed",error:"Produkt nicht gefunden.",lastAttempt:new Date().toISOString()};p(Qe=>({...Qe,[J]:Ne})),Mo(J,Ne),te(Qe=>Qe.filter(lt=>lt!==J)),Pe(!1),Et(null);return}const Me={status:"pending",lastAttempt:new Date().toISOString()};p(we=>({...we,[J]:Me})),Mo(J,Me);try{const we=await zM(be.name,n),Ne=await PM(be.name,n);let Qe=[];if("error"in we&&Qe.push(`Market Research: ${we.error}`),"error"in Ne&&Qe.push(`Review Generation: ${Ne.error}`),Qe.length>0)throw new Error(Qe.join("; "));const lt={marketResearch:we,reviewOutput:Ne,status:"completed",lastAttempt:new Date().toISOString()};p(Ei=>({...Ei,[J]:lt})),Mo(J,lt)}catch(we){console.error(`Error processing Gemini for ASIN ${J}:`,we);const Ne=we.message||"Unbekannter Fehler bei der Gemini-Verarbeitung.",Qe={...y[J],status:"failed",error:Ne,lastAttempt:new Date().toISOString()};if(p(lt=>({...lt,[J]:Qe})),Mo(J,Qe),Ne.toLowerCase().includes("api key")||Ne.toLowerCase().includes("invalid key")||Ne.toLowerCase().includes("api_key_invalid")){const lt=`Gemini API Key Fehler: ${Ne}. Bitte berprfen Sie Ihren Key.`;Le(lt),k(lt),dh(),l(null),c(!0)}}finally{te(we=>we.filter(Ne=>Ne!==J)),Pe(!1),Et(null)}},K=Ae.useMemo(()=>m.filter(J=>J.name.toLowerCase().includes(P.toLowerCase())||J.ASIN.toLowerCase().includes(P.toLowerCase())||J.ordernumber.toLowerCase().includes(P.toLowerCase())),[m,P]),q=Ae.useMemo(()=>{let J=[...K];return Z.key&&J.sort((be,Me)=>{var Ei,Ml,ko,Vo,An,ht,Zt,pt,Lo,Go;let we,Ne;if(Z.key==="geminiRating")we=((ko=(Ml=(Ei=y[be.ASIN])==null?void 0:Ei.reviewOutput)==null?void 0:Ml.predictedRating)==null?void 0:ko.stars)??-1,Ne=((ht=(An=(Vo=y[Me.ASIN])==null?void 0:Vo.reviewOutput)==null?void 0:An.predictedRating)==null?void 0:ht.stars)??-1;else if(Z.key==="geminiStatus"){const Oo={pending:1,completed:2,failed:3},rn=4;we=(Zt=y[be.ASIN])!=null&&Zt.status?Oo[(pt=y[be.ASIN])==null?void 0:pt.status]??rn:rn,Ne=(Lo=y[Me.ASIN])!=null&&Lo.status?Oo[(Go=y[Me.ASIN])==null?void 0:Go.status]??rn:rn}else Z.key==="date"?(we=hh(be.date).getTime(),Ne=hh(Me.date).getTime()):(we=be[Z.key],Ne=Me[Z.key]);if(typeof we=="string"&&typeof Ne=="string")return Z.direction==="ascending"?we.localeCompare(Ne):Ne.localeCompare(we);const Qe=we==null,lt=Ne==null;return Qe&&lt?0:Qe?Z.direction==="ascending"?1:-1:lt||we<Ne?Z.direction==="ascending"?-1:1:we>Ne?Z.direction==="ascending"?1:-1:0}),J},[K,Z,y]),ie=Math.ceil(q.length/wu),Ee=Ae.useMemo(()=>{const J=(le-1)*wu;return q.slice(J,J+wu)},[q,le]),ce=J=>{let be="ascending";Z.key===J&&Z.direction==="ascending"&&(be="descending"),Q({key:J,direction:be}),F(1)},Tt=J=>{W(J.target.value),F(1)},He=J=>{F(J)},Qt=J=>{me(J)},Sl=()=>{me(null)},ei=J=>{if(!n){Le("Gemini API Key nicht konfiguriert. Bitte in den Einstellungen hinterlegen."),k("Gemini API Key nicht konfiguriert."),c(!0);return}!he.includes(J)&&Be!==J&&te(be=>[...be,J])},El=J=>{if(!n){Le("Gemini API Key nicht konfiguriert. Bitte in den Einstellungen hinterlegen."),k("Gemini API Key nicht konfiguriert."),c(!0);return}const be=J.filter(Me=>!he.includes(Me)&&Be!==Me);be.length>0&&te(Me=>[...Me,...be])},xl=(J,be="success")=>{be==="success"?(H(J),setTimeout(()=>H(null),4e3)):Le(J)},Al=()=>Le(null);return N.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 p-4 sm:p-6 lg:p-8 font-sans",children:[N.jsxs("header",{className:"mb-6 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[N.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-sky-400 tracking-tight",children:"Produkt Review Helfer"}),a&&n&&N.jsx("button",{onClick:A,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition duration-150","aria-label":"Ausloggen und API Tokens lschen",children:"Logout & Tokens lschen"})]}),V&&N.jsx("div",{className:"mb-4 p-3 bg-green-700 bg-opacity-80 text-white rounded-md shadow-lg transition-all duration-300 ease-in-out",role:"alert",children:V}),et&&N.jsx(Hp,{message:et,onClose:Al}),S&&!s&&N.jsx(Hp,{message:S,onClose:()=>x(null)}),s&&N.jsx(HM,{onSubmit:Ie,currentProductApiError:S,currentGeminiApiError:U,initialProductToken:a,initialGeminiKey:n}),(!a||!n)&&!s?N.jsxs("div",{className:"text-center py-10 bg-slate-800 rounded-lg shadow-xl",children:[N.jsx("p",{className:"text-xl text-slate-300 mb-6",children:"Bitte API Zugangsdaten eingeben, um die Anwendung zu nutzen."}),N.jsx("button",{onClick:()=>{c(!0),x(null),k(null)},className:"bg-sky-600 hover:bg-sky-700 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition duration-150 text-lg",children:"Zugangsdaten eingeben"})]}):v&&m.length===0?N.jsx(ju,{message:"Lade Produkte..."}):!v&&m.length===0&&a&&n&&!S?N.jsxs("div",{className:"text-center py-10 bg-slate-800 rounded-lg shadow-xl",children:[N.jsx("p",{className:"text-xl text-slate-300 mb-6",children:"Keine Produkte gefunden oder geladen."}),N.jsx("button",{onClick:oe,className:"bg-sky-600 hover:bg-sky-700 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition duration-150 text-lg",disabled:v,children:"Produkte erneut laden"})]}):m.length>0&&a&&n?N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[N.jsxs("div",{className:"w-full",children:[N.jsx("label",{htmlFor:"search-input",className:"sr-only",children:"Produkte suchen"}),N.jsx("input",{id:"search-input",type:"search",placeholder:"Suche ASIN, Name, Ordernr...",value:P,onChange:Tt,className:"p-2.5 border border-slate-600 rounded-md bg-slate-700 text-slate-100 focus:ring-2 focus:ring-sky-500 focus:border-sky-500 w-full shadow-sm h-[42px]","aria-label":"Produkte suchen"})]}),N.jsx(KM,{products:q,onFetchBatch:El,currentQueue:he,processingASIN:Be,setGlobalMessage:J=>xl(J,"success")})]}),Be&&N.jsxs("div",{className:"mb-4 p-3 bg-sky-800 bg-opacity-70 text-sky-100 rounded-md shadow text-sm flex items-center",role:"status",children:[N.jsx(ju,{size:"small"}),N.jsxs("span",{className:"ml-3",children:["Verarbeite Gemini fr ASIN: ",Be,"..."]})]}),he.length>0&&!Be&&N.jsxs("div",{className:"mb-4 p-3 bg-yellow-700 bg-opacity-70 text-yellow-100 rounded-md shadow text-sm",role:"status",children:[he.length," Produkt(e) in der Gemini-Warteschlange. Nchstes: ",he[0]]}),N.jsx(qM,{products:Ee,geminiData:y,onSort:ce,sortConfig:Z,onSelectProduct:Qt,onFetchGeminiData:ei,currentlyProcessingASIN:Be,geminiQueue:he}),N.jsx(ZM,{currentPage:le,totalPages:ie,onPageChange:He}),ne&&m.find(J=>J.ASIN===ne)&&N.jsx(YM,{product:m.find(J=>J.ASIN===ne),geminiData:y[ne],isOpen:!!ne,onClose:Sl,onFetchGeminiData:ei})]}):null,N.jsxs("footer",{className:"text-center mt-12 py-6 border-t border-slate-700",children:[N.jsxs("p",{className:"text-sm text-slate-500",children:[" ",new Date().getFullYear()," Produkt Review Helfer. Alle Rechte vorbehalten."]}),N.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Gemini-Daten werden lokal in Ihrem Browser gespeichert."})]})]})},Eg=document.getElementById("root");if(!Eg)throw new Error("Could not find root element to mount to");const XM=Jv.createRoot(Eg);XM.render(N.jsx(Pv.StrictMode,{children:N.jsx(JM,{})}));
