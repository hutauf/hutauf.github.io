(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function $h(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mu={exports:{}},Mo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function Fv(){if(ip)return Mo;ip=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(o,r,f){var m=null;if(f!==void 0&&(m=""+f),r.key!==void 0&&(m=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:n,type:o,key:m,ref:r!==void 0?r:null,props:f}}return Mo.Fragment=e,Mo.jsx=l,Mo.jsxs=l,Mo}var lp;function Yv(){return lp||(lp=1,Mu.exports=Fv()),Mu.exports}var R=Yv(),Ru={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function Jv(){if(op)return Se;op=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,L={};function q(A,G,H){this.props=A,this.context=G,this.refs=L,this.updater=H||M}q.prototype.isReactComponent={},q.prototype.setState=function(A,G){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,G,"setState")},q.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function K(){}K.prototype=q.prototype;function j(A,G,H){this.props=A,this.context=G,this.refs=L,this.updater=H||M}var X=j.prototype=new K;X.constructor=j,k(X,q.prototype),X.isPureReactComponent=!0;var $=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function ge(A,G,H,Y,le,Re){return H=Re.ref,{$$typeof:n,type:A,key:G,ref:H!==void 0?H:null,props:Re}}function be(A,G){return ge(A.type,G,void 0,void 0,void 0,A.props)}function oe(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function ve(A){var G={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(H){return G[H]})}var de=/\/+/g;function Le(A,G){return typeof A=="object"&&A!==null&&A.key!=null?ve(""+A.key):G.toString(36)}function pt(){}function ht(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(pt,pt):(A.status="pending",A.then(function(G){A.status==="pending"&&(A.status="fulfilled",A.value=G)},function(G){A.status==="pending"&&(A.status="rejected",A.reason=G)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Ie(A,G,H,Y,le){var Re=typeof A;(Re==="undefined"||Re==="boolean")&&(A=null);var pe=!1;if(A===null)pe=!0;else switch(Re){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(A.$$typeof){case n:case e:pe=!0;break;case v:return pe=A._init,Ie(pe(A._payload),G,H,Y,le)}}if(pe)return le=le(A),pe=Y===""?"."+Le(A,0):Y,$(le)?(H="",pe!=null&&(H=pe.replace(de,"$&/")+"/"),Ie(le,G,H,"",function(Wt){return Wt})):le!=null&&(oe(le)&&(le=be(le,H+(le.key==null||A&&A.key===le.key?"":(""+le.key).replace(de,"$&/")+"/")+pe)),G.push(le)),1;pe=0;var xt=Y===""?".":Y+":";if($(A))for(var Ye=0;Ye<A.length;Ye++)Y=A[Ye],Re=xt+Le(Y,Ye),pe+=Ie(Y,G,H,Re,le);else if(Ye=_(A),typeof Ye=="function")for(A=Ye.call(A),Ye=0;!(Y=A.next()).done;)Y=Y.value,Re=xt+Le(Y,Ye++),pe+=Ie(Y,G,H,Re,le);else if(Re==="object"){if(typeof A.then=="function")return Ie(ht(A),G,H,Y,le);throw G=String(A),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return pe}function U(A,G,H){if(A==null)return A;var Y=[],le=0;return Ie(A,Y,"","",function(Re){return G.call(H,Re,le++)}),Y}function J(A){if(A._status===-1){var G=A._result;G=G(),G.then(function(H){(A._status===0||A._status===-1)&&(A._status=1,A._result=H)},function(H){(A._status===0||A._status===-1)&&(A._status=2,A._result=H)}),A._status===-1&&(A._status=0,A._result=G)}if(A._status===1)return A._result.default;throw A._result}var ae=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Ve(){}return Se.Children={map:U,forEach:function(A,G,H){U(A,function(){G.apply(this,arguments)},H)},count:function(A){var G=0;return U(A,function(){G++}),G},toArray:function(A){return U(A,function(G){return G})||[]},only:function(A){if(!oe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Se.Component=q,Se.Fragment=l,Se.Profiler=r,Se.PureComponent=j,Se.StrictMode=o,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Se.__COMPILER_RUNTIME={__proto__:null,c:function(A){return F.H.useMemoCache(A)}},Se.cache=function(A){return function(){return A.apply(null,arguments)}},Se.cloneElement=function(A,G,H){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Y=k({},A.props),le=A.key,Re=void 0;if(G!=null)for(pe in G.ref!==void 0&&(Re=void 0),G.key!==void 0&&(le=""+G.key),G)!me.call(G,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&G.ref===void 0||(Y[pe]=G[pe]);var pe=arguments.length-2;if(pe===1)Y.children=H;else if(1<pe){for(var xt=Array(pe),Ye=0;Ye<pe;Ye++)xt[Ye]=arguments[Ye+2];Y.children=xt}return ge(A.type,le,void 0,void 0,Re,Y)},Se.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:f,_context:A},A},Se.createElement=function(A,G,H){var Y,le={},Re=null;if(G!=null)for(Y in G.key!==void 0&&(Re=""+G.key),G)me.call(G,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(le[Y]=G[Y]);var pe=arguments.length-2;if(pe===1)le.children=H;else if(1<pe){for(var xt=Array(pe),Ye=0;Ye<pe;Ye++)xt[Ye]=arguments[Ye+2];le.children=xt}if(A&&A.defaultProps)for(Y in pe=A.defaultProps,pe)le[Y]===void 0&&(le[Y]=pe[Y]);return ge(A,Re,void 0,void 0,null,le)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(A){return{$$typeof:g,render:A}},Se.isValidElement=oe,Se.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:J}},Se.memo=function(A,G){return{$$typeof:h,type:A,compare:G===void 0?null:G}},Se.startTransition=function(A){var G=F.T,H={};F.T=H;try{var Y=A(),le=F.S;le!==null&&le(H,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Ve,ae)}catch(Re){ae(Re)}finally{F.T=G}},Se.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Se.use=function(A){return F.H.use(A)},Se.useActionState=function(A,G,H){return F.H.useActionState(A,G,H)},Se.useCallback=function(A,G){return F.H.useCallback(A,G)},Se.useContext=function(A){return F.H.useContext(A)},Se.useDebugValue=function(){},Se.useDeferredValue=function(A,G){return F.H.useDeferredValue(A,G)},Se.useEffect=function(A,G,H){var Y=F.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(A,G)},Se.useId=function(){return F.H.useId()},Se.useImperativeHandle=function(A,G,H){return F.H.useImperativeHandle(A,G,H)},Se.useInsertionEffect=function(A,G){return F.H.useInsertionEffect(A,G)},Se.useLayoutEffect=function(A,G){return F.H.useLayoutEffect(A,G)},Se.useMemo=function(A,G){return F.H.useMemo(A,G)},Se.useOptimistic=function(A,G){return F.H.useOptimistic(A,G)},Se.useReducer=function(A,G,H){return F.H.useReducer(A,G,H)},Se.useRef=function(A){return F.H.useRef(A)},Se.useState=function(A){return F.H.useState(A)},Se.useSyncExternalStore=function(A,G,H){return F.H.useSyncExternalStore(A,G,H)},Se.useTransition=function(){return F.H.useTransition()},Se.version="19.1.0",Se}var ap;function nc(){return ap||(ap=1,Ru.exports=Jv()),Ru.exports}var Te=nc();const $v=$h(Te);var Nu={exports:{}},Ro={},Du={exports:{}},wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function Zv(){return sp||(sp=1,function(n){function e(U,J){var ae=U.length;U.push(J);e:for(;0<ae;){var Ve=ae-1>>>1,A=U[Ve];if(0<r(A,J))U[Ve]=J,U[ae]=A,ae=Ve;else break e}}function l(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var J=U[0],ae=U.pop();if(ae!==J){U[0]=ae;e:for(var Ve=0,A=U.length,G=A>>>1;Ve<G;){var H=2*(Ve+1)-1,Y=U[H],le=H+1,Re=U[le];if(0>r(Y,ae))le<A&&0>r(Re,Y)?(U[Ve]=Re,U[le]=ae,Ve=le):(U[Ve]=Y,U[H]=ae,Ve=H);else if(le<A&&0>r(Re,ae))U[Ve]=Re,U[le]=ae,Ve=le;else break e}}return J}function r(U,J){var ae=U.sortIndex-J.sortIndex;return ae!==0?ae:U.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,S=null,_=3,M=!1,k=!1,L=!1,q=!1,K=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function $(U){for(var J=l(h);J!==null;){if(J.callback===null)o(h);else if(J.startTime<=U)o(h),J.sortIndex=J.expirationTime,e(y,J);else break;J=l(h)}}function F(U){if(L=!1,$(U),!k)if(l(y)!==null)k=!0,me||(me=!0,Le());else{var J=l(h);J!==null&&Ie(F,J.startTime-U)}}var me=!1,ge=-1,be=5,oe=-1;function ve(){return q?!0:!(n.unstable_now()-oe<be)}function de(){if(q=!1,me){var U=n.unstable_now();oe=U;var J=!0;try{e:{k=!1,L&&(L=!1,j(ge),ge=-1),M=!0;var ae=_;try{t:{for($(U),S=l(y);S!==null&&!(S.expirationTime>U&&ve());){var Ve=S.callback;if(typeof Ve=="function"){S.callback=null,_=S.priorityLevel;var A=Ve(S.expirationTime<=U);if(U=n.unstable_now(),typeof A=="function"){S.callback=A,$(U),J=!0;break t}S===l(y)&&o(y),$(U)}else o(y);S=l(y)}if(S!==null)J=!0;else{var G=l(h);G!==null&&Ie(F,G.startTime-U),J=!1}}break e}finally{S=null,_=ae,M=!1}J=void 0}}finally{J?Le():me=!1}}}var Le;if(typeof X=="function")Le=function(){X(de)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,ht=pt.port2;pt.port1.onmessage=de,Le=function(){ht.postMessage(null)}}else Le=function(){K(de,0)};function Ie(U,J){ge=K(function(){U(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(U){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var ae=_;_=J;try{return U()}finally{_=ae}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=_;_=U;try{return J()}finally{_=ae}},n.unstable_scheduleCallback=function(U,J,ae){var Ve=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ve+ae:Ve):ae=Ve,U){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ae+A,U={id:v++,callback:J,priorityLevel:U,startTime:ae,expirationTime:A,sortIndex:-1},ae>Ve?(U.sortIndex=ae,e(h,U),l(y)===null&&U===l(h)&&(L?(j(ge),ge=-1):L=!0,Ie(F,ae-Ve))):(U.sortIndex=A,e(y,U),k||M||(k=!0,me||(me=!0,Le()))),U},n.unstable_shouldYield=ve,n.unstable_wrapCallback=function(U){var J=_;return function(){var ae=_;_=J;try{return U.apply(this,arguments)}finally{_=ae}}}}(wu)),wu}var rp;function Kv(){return rp||(rp=1,Du.exports=Zv()),Du.exports}var bu={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function Xv(){if(up)return Et;up=1;var n=nc();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Et.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return f(y,h,null,v)},Et.flushSync=function(y){var h=m.T,v=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=h,o.p=v,o.d.f()}},Et.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(y,h))},Et.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},Et.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?o.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:M}):v==="script"&&o.d.X(y,{crossOrigin:S,integrity:_,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Et.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);o.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(y)},Et.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin);o.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Et.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);o.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(y)},Et.requestFormReset=function(y){o.d.r(y)},Et.unstable_batchedUpdates=function(y,h){return y(h)},Et.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},Et.useFormStatus=function(){return m.H.useHostTransitionStatus()},Et.version="19.1.0",Et}var cp;function Qv(){if(cp)return bu.exports;cp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bu.exports=Xv(),bu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function Wv(){if(fp)return Ro;fp=1;var n=Kv(),e=nc(),l=Qv();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(o(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(o(188));return i!==t?null:t}for(var a=t,c=i;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return g(d),t;if(p===c)return g(d),i;p=p.sibling}throw Error(o(188))}if(a.return!==c.return)a=d,c=p;else{for(var T=!1,C=d.child;C;){if(C===a){T=!0,a=d,c=p;break}if(C===c){T=!0,c=d,a=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===a){T=!0,a=p,c=d;break}if(C===c){T=!0,c=p,a=d;break}C=C.sibling}if(!T)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:i}function h(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=h(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),X=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function Le(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Symbol.for("react.client.reference");function ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===pt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case q:return"Profiler";case L:return"StrictMode";case F:return"Suspense";case me:return"SuspenseList";case oe:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case X:return(t.displayName||"Context")+".Provider";case j:return(t._context.displayName||"Context")+".Consumer";case $:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ge:return i=t.displayName||null,i!==null?i:ht(t.type)||"Memo";case be:i=t._payload,t=t._init;try{return ht(t(i))}catch{}}return null}var Ie=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Ve=[],A=-1;function G(t){return{current:t}}function H(t){0>A||(t.current=Ve[A],Ve[A]=null,A--)}function Y(t,i){A++,Ve[A]=t.current,t.current=i}var le=G(null),Re=G(null),pe=G(null),xt=G(null);function Ye(t,i){switch(Y(pe,i),Y(Re,t),Y(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?bm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=bm(i),t=Im(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(le),Y(le,t)}function Wt(){H(le),H(Re),H(pe)}function Rl(t){t.memoizedState!==null&&Y(xt,t);var i=le.current,a=Im(i,t.type);i!==a&&(Y(Re,t),Y(le,a))}function ti(t){Re.current===t&&(H(le),H(Re)),xt.current===t&&(H(xt),Co._currentValue=ae)}var ni=Object.prototype.hasOwnProperty,Ri=n.unstable_scheduleCallback,Ni=n.unstable_cancelCallback,ps=n.unstable_shouldYield,Nl=n.unstable_requestPaint,z=n.unstable_now,te=n.unstable_getCurrentPriorityLevel,Ce=n.unstable_ImmediatePriority,ce=n.unstable_UserBlockingPriority,se=n.unstable_NormalPriority,ze=n.unstable_LowPriority,Ne=n.unstable_IdlePriority,je=n.log,$e=n.unstable_setDisableYieldValue,Tt=null,lt=null;function Mt(t){if(typeof je=="function"&&$e(t),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Tt,t)}catch{}}var St=Math.clz32?Math.clz32:wg,Lo=Math.log,Dg=Math.LN2;function wg(t){return t>>>=0,t===0?32:31-(Lo(t)/Dg|0)|0}var Vo=256,Po=4194304;function ii(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Go(t,i,a){var c=t.pendingLanes;if(c===0)return 0;var d=0,p=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=c&134217727;return C!==0?(c=C&~p,c!==0?d=ii(c):(T&=C,T!==0?d=ii(T):a||(a=C&~t,a!==0&&(d=ii(a))))):(C=c&~p,C!==0?d=ii(C):T!==0?d=ii(T):a||(a=c&~t,a!==0&&(d=ii(a)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:d}function Dl(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function bg(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(){var t=Vo;return Vo<<=1,(Vo&4194048)===0&&(Vo=256),t}function pc(){var t=Po;return Po<<=1,(Po&62914560)===0&&(Po=4194304),t}function hs(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function wl(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ig(t,i,a,c,d,p){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,E=t.expirationTimes,w=t.hiddenUpdates;for(a=T&~a;0<a;){var V=31-St(a),B=1<<V;C[V]=0,E[V]=-1;var b=w[V];if(b!==null)for(w[V]=null,V=0;V<b.length;V++){var I=b[V];I!==null&&(I.lane&=-536870913)}a&=~B}c!==0&&hc(t,c,0),p!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=p&~(T&~i))}function hc(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-St(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|a&4194090}function gc(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-St(a),d=1<<c;d&i|t[c]&i&&(t[c]|=i),a&=~d}}function gs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ys(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yc(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Qm(t.type))}function kg(t,i){var a=J.p;try{return J.p=t,i()}finally{J.p=a}}var Dn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Dn,Dt="__reactProps$"+Dn,Di="__reactContainer$"+Dn,vs="__reactEvents$"+Dn,Ug="__reactListeners$"+Dn,Lg="__reactHandles$"+Dn,vc="__reactResources$"+Dn,bl="__reactMarker$"+Dn;function Ts(t){delete t[Ct],delete t[Dt],delete t[vs],delete t[Ug],delete t[Lg]}function wi(t){var i=t[Ct];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Di]||a[Ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Vm(t);t!==null;){if(a=t[Ct])return a;t=Vm(t)}return i}t=a,a=t.parentNode}return null}function bi(t){if(t=t[Ct]||t[Di]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Il(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function Ii(t){var i=t[vc];return i||(i=t[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[bl]=!0}var Tc=new Set,Sc={};function li(t,i){ki(t,i),ki(t+"Capture",i)}function ki(t,i){for(Sc[t]=i,t=0;t<i.length;t++)Tc.add(i[t])}var Vg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},_c={};function Pg(t){return ni.call(_c,t)?!0:ni.call(Cc,t)?!1:Vg.test(t)?_c[t]=!0:(Cc[t]=!0,!1)}function Bo(t,i,a){if(Pg(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function qo(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function fn(t,i,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+c)}}var Ss,Ec;function Ui(t){if(Ss===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ss=i&&i[1]||"",Ec=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+Ec}var Cs=!1;function _s(t,i){if(!t||Cs)return"";Cs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(I){var b=I}Reflect.construct(t,[],B)}else{try{B.call()}catch(I){b=I}t.call(B.prototype)}}else{try{throw Error()}catch(I){b=I}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(I){if(I&&b&&typeof I.stack=="string")return[I.stack,b.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var E=T.split(`
`),w=C.split(`
`);for(d=c=0;c<E.length&&!E[c].includes("DetermineComponentFrameRoot");)c++;for(;d<w.length&&!w[d].includes("DetermineComponentFrameRoot");)d++;if(c===E.length||d===w.length)for(c=E.length-1,d=w.length-1;1<=c&&0<=d&&E[c]!==w[d];)d--;for(;1<=c&&0<=d;c--,d--)if(E[c]!==w[d]){if(c!==1||d!==1)do if(c--,d--,0>d||E[c]!==w[d]){var V=`
`+E[c].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=c&&0<=d);break}}}finally{Cs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ui(a):""}function Gg(t){switch(t.tag){case 26:case 27:case 5:return Ui(t.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return _s(t.type,!1);case 11:return _s(t.type.render,!1);case 1:return _s(t.type,!0);case 31:return Ui("Activity");default:return""}}function Ac(t){try{var i="";do i+=Gg(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bg(t){var i=xc(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){c=""+T,p.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function zo(t){t._valueTracker||(t._valueTracker=Bg(t))}function Mc(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=xc(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function Oo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qg=/[\n"\\]/g;function Ot(t){return t.replace(qg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Es(t,i,a,c,d,p,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?As(t,T,zt(i)):a!=null?As(t,T,zt(a)):c!=null&&t.removeAttribute("value"),d==null&&p!=null&&(t.defaultChecked=!!p),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+zt(C):t.removeAttribute("name")}function Rc(t,i,a,c,d,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,C||i===t.value||(t.value=i),t.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=C?t.checked:!!c,t.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function As(t,i,a){i==="number"&&Oo(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Li(t,i,a,c){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&c&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Nc(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function Dc(t,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(o(92));if(Ie(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c)}function Vi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var zg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wc(t,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,a):typeof a!="number"||a===0||zg.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function bc(t,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&a[d]!==c&&wc(t,d,c)}else for(var p in i)i.hasOwnProperty(p)&&wc(t,p,i[p])}function xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Og=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ho(t){return Hg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ms=null;function Rs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,Gi=null;function Ic(t){var i=bi(t);if(i&&(t=i.stateNode)){var a=t[Dt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Es(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var d=c[Dt]||null;if(!d)throw Error(o(90));Es(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===t.form&&Mc(c)}break e;case"textarea":Nc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Li(t,!!a.multiple,i,!1)}}}var Ns=!1;function kc(t,i,a){if(Ns)return t(i,a);Ns=!0;try{var c=t(i);return c}finally{if(Ns=!1,(Pi!==null||Gi!==null)&&(Na(),Pi&&(i=Pi,t=Gi,Gi=Pi=null,Ic(i),t)))for(i=0;i<t.length;i++)Ic(t[i])}}function kl(t,i){var a=t.stateNode;if(a===null)return null;var c=a[Dt]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(dn)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Ds=!1}var wn=null,ws=null,Fo=null;function Uc(){if(Fo)return Fo;var t,i=ws,a=i.length,c,d="value"in wn?wn.value:wn.textContent,p=d.length;for(t=0;t<a&&i[t]===d[t];t++);var T=a-t;for(c=1;c<=T&&i[a-c]===d[p-c];c++);return Fo=d.slice(t,1<c?1-c:void 0)}function Yo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Jo(){return!0}function Lc(){return!1}function wt(t){function i(a,c,d,p,T){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Jo:Lc,this.isPropagationStopped=Lc,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),i}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=wt(oi),Ll=v({},oi,{view:0,detail:0}),Fg=wt(Ll),bs,Is,Vl,Zo=v({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vl&&(Vl&&t.type==="mousemove"?(bs=t.screenX-Vl.screenX,Is=t.screenY-Vl.screenY):Is=bs=0,Vl=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:Is}}),Vc=wt(Zo),Yg=v({},Zo,{dataTransfer:0}),Jg=wt(Yg),$g=v({},Ll,{relatedTarget:0}),ks=wt($g),Zg=v({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Kg=wt(Zg),Xg=v({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qg=wt(Xg),Wg=v({},oi,{data:0}),Pc=wt(Wg),jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ty={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ny(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ty[t])?!!i[t]:!1}function Us(){return ny}var iy=v({},Ll,{key:function(t){if(t.key){var i=jg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Yo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ey[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?Yo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ly=wt(iy),oy=v({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=wt(oy),ay=v({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),sy=wt(ay),ry=v({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),uy=wt(ry),cy=v({},Zo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fy=wt(cy),dy=v({},oi,{newState:0,oldState:0}),my=wt(dy),py=[9,13,27,32],Ls=dn&&"CompositionEvent"in window,Pl=null;dn&&"documentMode"in document&&(Pl=document.documentMode);var hy=dn&&"TextEvent"in window&&!Pl,Bc=dn&&(!Ls||Pl&&8<Pl&&11>=Pl),qc=" ",zc=!1;function Oc(t,i){switch(t){case"keyup":return py.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function gy(t,i){switch(t){case"compositionend":return Hc(i);case"keypress":return i.which!==32?null:(zc=!0,qc);case"textInput":return t=i.data,t===qc&&zc?null:t;default:return null}}function yy(t,i){if(Bi)return t==="compositionend"||!Ls&&Oc(t,i)?(t=Uc(),Fo=ws=wn=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Bc&&i.locale!=="ko"?null:i.data;default:return null}}var vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!vy[t.type]:i==="textarea"}function Yc(t,i,a,c){Pi?Gi?Gi.push(c):Gi=[c]:Pi=c,i=Ua(i,"onChange"),0<i.length&&(a=new $o("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var Gl=null,Bl=null;function Ty(t){Mm(t,0)}function Ko(t){var i=Il(t);if(Mc(i))return t}function Jc(t,i){if(t==="change")return i}var $c=!1;if(dn){var Vs;if(dn){var Ps="oninput"in document;if(!Ps){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),Ps=typeof Zc.oninput=="function"}Vs=Ps}else Vs=!1;$c=Vs&&(!document.documentMode||9<document.documentMode)}function Kc(){Gl&&(Gl.detachEvent("onpropertychange",Xc),Bl=Gl=null)}function Xc(t){if(t.propertyName==="value"&&Ko(Bl)){var i=[];Yc(i,Bl,t,Rs(t)),kc(Ty,i)}}function Sy(t,i,a){t==="focusin"?(Kc(),Gl=i,Bl=a,Gl.attachEvent("onpropertychange",Xc)):t==="focusout"&&Kc()}function Cy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ko(Bl)}function _y(t,i){if(t==="click")return Ko(i)}function Ey(t,i){if(t==="input"||t==="change")return Ko(i)}function Ay(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ut=typeof Object.is=="function"?Object.is:Ay;function ql(t,i){if(Ut(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!ni.call(i,d)||!Ut(t[d],i[d]))return!1}return!0}function Qc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wc(t,i){var a=Qc(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qc(a)}}function jc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?jc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ef(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Oo(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Oo(t.document)}return i}function Gs(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var xy=dn&&"documentMode"in document&&11>=document.documentMode,qi=null,Bs=null,zl=null,qs=!1;function tf(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qs||qi==null||qi!==Oo(c)||(c=qi,"selectionStart"in c&&Gs(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zl&&ql(zl,c)||(zl=c,c=Ua(Bs,"onSelect"),0<c.length&&(i=new $o("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=qi)))}function ai(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var zi={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},zs={},nf={};dn&&(nf=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function si(t){if(zs[t])return zs[t];if(!zi[t])return t;var i=zi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in nf)return zs[t]=i[a];return t}var lf=si("animationend"),of=si("animationiteration"),af=si("animationstart"),My=si("transitionrun"),Ry=si("transitionstart"),Ny=si("transitioncancel"),sf=si("transitionend"),rf=new Map,Os="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Os.push("scrollEnd");function jt(t,i){rf.set(t,i),li(i,[t])}var uf=new WeakMap;function Ht(t,i){if(typeof t=="object"&&t!==null){var a=uf.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ac(i)},uf.set(t,i),i)}return{value:t,source:i,stack:Ac(i)}}var Ft=[],Oi=0,Hs=0;function Xo(){for(var t=Oi,i=Hs=Oi=0;i<t;){var a=Ft[i];Ft[i++]=null;var c=Ft[i];Ft[i++]=null;var d=Ft[i];Ft[i++]=null;var p=Ft[i];if(Ft[i++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}p!==0&&cf(a,d,p)}}function Qo(t,i,a,c){Ft[Oi++]=t,Ft[Oi++]=i,Ft[Oi++]=a,Ft[Oi++]=c,Hs|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Fs(t,i,a,c){return Qo(t,i,a,c),Wo(t)}function Hi(t,i){return Qo(t,null,null,i),Wo(t)}function cf(t,i,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var d=!1,p=t.return;p!==null;)p.childLanes|=a,c=p.alternate,c!==null&&(c.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(d=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,d&&i!==null&&(d=31-St(a),t=p.hiddenUpdates,c=t[d],c===null?t[d]=[i]:c.push(i),i.lane=a|536870912),p):null}function Wo(t){if(50<mo)throw mo=0,Xr=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Fi={};function Dy(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,i,a,c){return new Dy(t,i,a,c)}function Ys(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mn(t,i){var a=t.alternate;return a===null?(a=Lt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ff(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function jo(t,i,a,c,d,p){var T=0;if(c=t,typeof t=="function")Ys(t)&&(T=1);else if(typeof t=="string")T=bv(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case oe:return t=Lt(31,a,i,d),t.elementType=oe,t.lanes=p,t;case k:return ri(a.children,d,p,i);case L:T=8,d|=24;break;case q:return t=Lt(12,a,i,d|2),t.elementType=q,t.lanes=p,t;case F:return t=Lt(13,a,i,d),t.elementType=F,t.lanes=p,t;case me:return t=Lt(19,a,i,d),t.elementType=me,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case X:T=10;break e;case j:T=9;break e;case $:T=11;break e;case ge:T=14;break e;case be:T=16,c=null;break e}T=29,a=Error(o(130,t===null?"null":typeof t,"")),c=null}return i=Lt(T,a,i,d),i.elementType=t,i.type=c,i.lanes=p,i}function ri(t,i,a,c){return t=Lt(7,t,c,i),t.lanes=a,t}function Js(t,i,a){return t=Lt(6,t,null,i),t.lanes=a,t}function $s(t,i,a){return i=Lt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Yi=[],Ji=0,ea=null,ta=0,Yt=[],Jt=0,ui=null,pn=1,hn="";function ci(t,i){Yi[Ji++]=ta,Yi[Ji++]=ea,ea=t,ta=i}function df(t,i,a){Yt[Jt++]=pn,Yt[Jt++]=hn,Yt[Jt++]=ui,ui=t;var c=pn;t=hn;var d=32-St(c)-1;c&=~(1<<d),a+=1;var p=32-St(i)+d;if(30<p){var T=d-d%5;p=(c&(1<<T)-1).toString(32),c>>=T,d-=T,pn=1<<32-St(i)+d|a<<d|c,hn=p+t}else pn=1<<p|a<<d|c,hn=t}function Zs(t){t.return!==null&&(ci(t,1),df(t,1,0))}function Ks(t){for(;t===ea;)ea=Yi[--Ji],Yi[Ji]=null,ta=Yi[--Ji],Yi[Ji]=null;for(;t===ui;)ui=Yt[--Jt],Yt[Jt]=null,hn=Yt[--Jt],Yt[Jt]=null,pn=Yt[--Jt],Yt[Jt]=null}var Rt=null,et=null,Pe=!1,fi=null,nn=!1,Xs=Error(o(519));function di(t){var i=Error(o(418,""));throw Fl(Ht(i,t)),Xs}function mf(t){var i=t.stateNode,a=t.type,c=t.memoizedProps;switch(i[Ct]=t,i[Dt]=c,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<ho.length;a++)Me(ho[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Rc(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),zo(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Dc(i,c.value,c.defaultValue,c.children),zo(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||wm(i.textContent,a)?(c.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),c.onScroll!=null&&Me("scroll",i),c.onScrollEnd!=null&&Me("scrollend",i),c.onClick!=null&&(i.onclick=La),i=!0):i=!1,i||di(t)}function pf(t){for(Rt=t.return;Rt;)switch(Rt.tag){case 5:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:Rt=Rt.return}}function Ol(t){if(t!==Rt)return!1;if(!Pe)return pf(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||du(t.type,t.memoizedProps)),a=!a),a&&et&&di(t),pf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){et=tn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}et=null}}else i===27?(i=et,Jn(t.type)?(t=gu,gu=null,et=t):et=i):et=Rt?tn(t.stateNode.nextSibling):null;return!0}function Hl(){et=Rt=null,Pe=!1}function hf(){var t=fi;return t!==null&&(kt===null?kt=t:kt.push.apply(kt,t),fi=null),t}function Fl(t){fi===null?fi=[t]:fi.push(t)}var Qs=G(null),mi=null,gn=null;function bn(t,i,a){Y(Qs,i._currentValue),i._currentValue=a}function yn(t){t._currentValue=Qs.current,H(Qs)}function Ws(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function js(t,i,a,c){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var p=d.dependencies;if(p!==null){var T=d.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=d;for(var E=0;E<i.length;E++)if(C.context===i[E]){p.lanes|=a,C=p.alternate,C!==null&&(C.lanes|=a),Ws(p.return,a,t),c||(T=null);break e}p=C.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(o(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),Ws(T,a,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Yl(t,i,a,c){t=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var C=d.type;Ut(d.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(d===xt.current){if(T=d.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Co):t=[Co])}d=d.return}t!==null&&js(i,t,a,c),i.flags|=262144}function na(t){for(t=t.firstContext;t!==null;){if(!Ut(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function pi(t){mi=t,gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _t(t){return gf(mi,t)}function ia(t,i){return mi===null&&pi(t),gf(t,i)}function gf(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},gn===null){if(t===null)throw Error(o(308));gn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else gn=gn.next=i;return a}var wy=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},by=n.unstable_scheduleCallback,Iy=n.unstable_NormalPriority,rt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function er(){return{controller:new wy,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&by(Iy,function(){t.controller.abort()})}var $l=null,tr=0,$i=0,Zi=null;function ky(t,i){if($l===null){var a=$l=[];tr=0,$i=iu(),Zi={status:"pending",value:void 0,then:function(c){a.push(c)}}}return tr++,i.then(yf,yf),i}function yf(){if(--tr===0&&$l!==null){Zi!==null&&(Zi.status="fulfilled");var t=$l;$l=null,$i=0,Zi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Uy(t,i){var a=[],c={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),c}var vf=U.S;U.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ky(t,i),vf!==null&&vf(t,i)};var hi=G(null);function nr(){var t=hi.current;return t!==null?t:Ze.pooledCache}function la(t,i){i===null?Y(hi,hi.current):Y(hi,i.pool)}function Tf(){var t=nr();return t===null?null:{parent:rt._currentValue,pool:t}}var Zl=Error(o(460)),Sf=Error(o(474)),oa=Error(o(542)),ir={then:function(){}};function Cf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function aa(){}function _f(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(aa,aa),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Af(t),t;default:if(typeof i.status=="string")i.then(aa,aa);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Af(t),t}throw Kl=i,Zl}}var Kl=null;function Ef(){if(Kl===null)throw Error(o(459));var t=Kl;return Kl=null,t}function Af(t){if(t===Zl||t===oa)throw Error(o(483))}var In=!1;function lr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function or(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Un(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ge&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=Wo(t),cf(t,null,a),i}return Qo(t,c,i,a),Wo(t)}function Xl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,gc(t,a)}}function ar(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?d=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?d=p=i:p=p.next=i}else d=p=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var sr=!1;function Ql(){if(sr){var t=Zi;if(t!==null)throw t}}function Wl(t,i,a,c){sr=!1;var d=t.updateQueue;In=!1;var p=d.firstBaseUpdate,T=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var E=C,w=E.next;E.next=null,T===null?p=w:T.next=w,T=E;var V=t.alternate;V!==null&&(V=V.updateQueue,C=V.lastBaseUpdate,C!==T&&(C===null?V.firstBaseUpdate=w:C.next=w,V.lastBaseUpdate=E))}if(p!==null){var B=d.baseState;T=0,V=w=E=null,C=p;do{var b=C.lane&-536870913,I=b!==C.lane;if(I?(we&b)===b:(c&b)===b){b!==0&&b===$i&&(sr=!0),V!==null&&(V=V.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var fe=t,re=C;b=i;var Fe=a;switch(re.tag){case 1:if(fe=re.payload,typeof fe=="function"){B=fe.call(Fe,B,b);break e}B=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=re.payload,b=typeof fe=="function"?fe.call(Fe,B,b):fe,b==null)break e;B=v({},B,b);break e;case 2:In=!0}}b=C.callback,b!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[b]:I.push(b))}else I={lane:b,tag:C.tag,payload:C.payload,callback:C.callback,next:null},V===null?(w=V=I,E=B):V=V.next=I,T|=b;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;I=C,C=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);V===null&&(E=B),d.baseState=E,d.firstBaseUpdate=w,d.lastBaseUpdate=V,p===null&&(d.shared.lanes=0),On|=T,t.lanes=T,t.memoizedState=B}}function xf(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function Mf(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)xf(a[t],i)}var Ki=G(null),sa=G(0);function Rf(t,i){t=An,Y(sa,t),Y(Ki,i),An=t|i.baseLanes}function rr(){Y(sa,An),Y(Ki,Ki.current)}function ur(){An=sa.current,H(Ki),H(sa)}var Ln=0,Ee=null,Oe=null,ot=null,ra=!1,Xi=!1,gi=!1,ua=0,jl=0,Qi=null,Ly=0;function nt(){throw Error(o(321))}function cr(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Ut(t[a],i[a]))return!1;return!0}function fr(t,i,a,c,d,p){return Ln=p,Ee=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?cd:fd,gi=!1,p=a(c,d),gi=!1,Xi&&(p=Df(i,a,c,d)),Nf(t),p}function Nf(t){U.H=ha;var i=Oe!==null&&Oe.next!==null;if(Ln=0,ot=Oe=Ee=null,ra=!1,jl=0,Qi=null,i)throw Error(o(300));t===null||ft||(t=t.dependencies,t!==null&&na(t)&&(ft=!0))}function Df(t,i,a,c){Ee=t;var d=0;do{if(Xi&&(Qi=null),jl=0,Xi=!1,25<=d)throw Error(o(301));if(d+=1,ot=Oe=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=Oy,p=i(a,c)}while(Xi);return p}function Vy(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?eo(i):i,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(Ee.flags|=1024),i}function dr(){var t=ua!==0;return ua=0,t}function mr(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function pr(t){if(ra){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ra=!1}Ln=0,ot=Oe=Ee=null,Xi=!1,jl=ua=0,Qi=null}function bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ee.memoizedState=ot=t:ot=ot.next=t,ot}function at(){if(Oe===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var i=ot===null?Ee.memoizedState:ot.next;if(i!==null)ot=i,Oe=t;else{if(t===null)throw Ee.alternate===null?Error(o(467)):Error(o(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},ot===null?Ee.memoizedState=ot=t:ot=ot.next=t}return ot}function hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(t){var i=jl;return jl+=1,Qi===null&&(Qi=[]),t=_f(Qi,t,i),i=Ee,(ot===null?i.memoizedState:ot.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?cd:fd),t}function ca(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return eo(t);if(t.$$typeof===X)return _t(t)}throw Error(o(438,String(t)))}function gr(t){var i=null,a=Ee.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Ee.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hr(),Ee.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),c=0;c<t;c++)a[c]=ve;return i.index++,a}function vn(t,i){return typeof i=="function"?i(t):i}function fa(t){var i=at();return yr(i,Oe,t)}function yr(t,i,a){var c=t.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var d=t.baseQueue,p=c.pending;if(p!==null){if(d!==null){var T=d.next;d.next=p.next,p.next=T}i.baseQueue=d=p,c.pending=null}if(p=t.baseState,d===null)t.memoizedState=p;else{i=d.next;var C=T=null,E=null,w=i,V=!1;do{var B=w.lane&-536870913;if(B!==w.lane?(we&B)===B:(Ln&B)===B){var b=w.revertLane;if(b===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),B===$i&&(V=!0);else if((Ln&b)===b){w=w.next,b===$i&&(V=!0);continue}else B={lane:0,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},E===null?(C=E=B,T=p):E=E.next=B,Ee.lanes|=b,On|=b;B=w.action,gi&&a(p,B),p=w.hasEagerState?w.eagerState:a(p,B)}else b={lane:B,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},E===null?(C=E=b,T=p):E=E.next=b,Ee.lanes|=B,On|=B;w=w.next}while(w!==null&&w!==i);if(E===null?T=p:E.next=C,!Ut(p,t.memoizedState)&&(ft=!0,V&&(a=Zi,a!==null)))throw a;t.memoizedState=p,t.baseState=T,t.baseQueue=E,c.lastRenderedState=p}return d===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function vr(t){var i=at(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var c=a.dispatch,d=a.pending,p=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do p=t(p,T.action),T=T.next;while(T!==d);Ut(p,i.memoizedState)||(ft=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,c]}function wf(t,i,a){var c=Ee,d=at(),p=Pe;if(p){if(a===void 0)throw Error(o(407));a=a()}else a=i();var T=!Ut((Oe||d).memoizedState,a);T&&(d.memoizedState=a,ft=!0),d=d.queue;var C=kf.bind(null,c,d,t);if(to(2048,8,C,[t]),d.getSnapshot!==i||T||ot!==null&&ot.memoizedState.tag&1){if(c.flags|=2048,Wi(9,da(),If.bind(null,c,d,a,i),null),Ze===null)throw Error(o(349));p||(Ln&124)!==0||bf(c,i,a)}return a}function bf(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ee.updateQueue,i===null?(i=hr(),Ee.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function If(t,i,a,c){i.value=a,i.getSnapshot=c,Uf(i)&&Lf(t)}function kf(t,i,a){return a(function(){Uf(i)&&Lf(t)})}function Uf(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Ut(t,a)}catch{return!0}}function Lf(t){var i=Hi(t,2);i!==null&&qt(i,t,2)}function Tr(t){var i=bt();if(typeof t=="function"){var a=t;if(t=a(),gi){Mt(!0);try{a()}finally{Mt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:t},i}function Vf(t,i,a,c){return t.baseState=a,yr(t,Oe,typeof c=="function"?c:vn)}function Py(t,i,a,c,d){if(pa(t))throw Error(o(485));if(t=i.action,t!==null){var p={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};U.T!==null?a(!0):p.isTransition=!1,c(p),a=i.pending,a===null?(p.next=i.pending=p,Pf(i,p)):(p.next=a.next,i.pending=a.next=p)}}function Pf(t,i){var a=i.action,c=i.payload,d=t.state;if(i.isTransition){var p=U.T,T={};U.T=T;try{var C=a(d,c),E=U.S;E!==null&&E(T,C),Gf(t,i,C)}catch(w){Sr(t,i,w)}finally{U.T=p}}else try{p=a(d,c),Gf(t,i,p)}catch(w){Sr(t,i,w)}}function Gf(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Bf(t,i,c)},function(c){return Sr(t,i,c)}):Bf(t,i,a)}function Bf(t,i,a){i.status="fulfilled",i.value=a,qf(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Pf(t,a)))}function Sr(t,i,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,qf(i),i=i.next;while(i!==c)}t.action=null}function qf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function zf(t,i){return i}function Of(t,i){if(Pe){var a=Ze.formState;if(a!==null){e:{var c=Ee;if(Pe){if(et){t:{for(var d=et,p=nn;d.nodeType!==8;){if(!p){d=null;break t}if(d=tn(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){et=tn(d.nextSibling),c=d.data==="F!";break e}}di(c)}c=!1}c&&(i=a[0])}}return a=bt(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zf,lastRenderedState:i},a.queue=c,a=sd.bind(null,Ee,c),c.dispatch=a,c=Tr(!1),p=xr.bind(null,Ee,!1,c.queue),c=bt(),d={state:i,dispatch:null,action:t,pending:null},c.queue=d,a=Py.bind(null,Ee,d,p,a),d.dispatch=a,c.memoizedState=t,[i,a,!1]}function Hf(t){var i=at();return Ff(i,Oe,t)}function Ff(t,i,a){if(i=yr(t,i,zf)[0],t=fa(vn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=eo(i)}catch(T){throw T===Zl?oa:T}else c=i;i=at();var d=i.queue,p=d.dispatch;return a!==i.memoizedState&&(Ee.flags|=2048,Wi(9,da(),Gy.bind(null,d,a),null)),[c,p,t]}function Gy(t,i){t.action=i}function Yf(t){var i=at(),a=Oe;if(a!==null)return Ff(i,a,t);at(),i=i.memoizedState,a=at();var c=a.queue.dispatch;return a.memoizedState=t,[i,c,!1]}function Wi(t,i,a,c){return t={tag:t,create:a,deps:c,inst:i,next:null},i=Ee.updateQueue,i===null&&(i=hr(),Ee.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t),t}function da(){return{destroy:void 0,resource:void 0}}function Jf(){return at().memoizedState}function ma(t,i,a,c){var d=bt();c=c===void 0?null:c,Ee.flags|=t,d.memoizedState=Wi(1|i,da(),a,c)}function to(t,i,a,c){var d=at();c=c===void 0?null:c;var p=d.memoizedState.inst;Oe!==null&&c!==null&&cr(c,Oe.memoizedState.deps)?d.memoizedState=Wi(i,p,a,c):(Ee.flags|=t,d.memoizedState=Wi(1|i,p,a,c))}function $f(t,i){ma(8390656,8,t,i)}function Zf(t,i){to(2048,8,t,i)}function Kf(t,i){return to(4,2,t,i)}function Xf(t,i){return to(4,4,t,i)}function Qf(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Wf(t,i,a){a=a!=null?a.concat([t]):null,to(4,4,Qf.bind(null,i,t),a)}function Cr(){}function jf(t,i){var a=at();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&cr(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function ed(t,i){var a=at();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&cr(i,c[1]))return c[0];if(c=t(),gi){Mt(!0);try{t()}finally{Mt(!1)}}return a.memoizedState=[c,i],c}function _r(t,i,a){return a===void 0||(Ln&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=im(),Ee.lanes|=t,On|=t,a)}function td(t,i,a,c){return Ut(a,i)?a:Ki.current!==null?(t=_r(t,a,c),Ut(t,i)||(ft=!0),t):(Ln&42)===0?(ft=!0,t.memoizedState=a):(t=im(),Ee.lanes|=t,On|=t,i)}function nd(t,i,a,c,d){var p=J.p;J.p=p!==0&&8>p?p:8;var T=U.T,C={};U.T=C,xr(t,!1,i,a);try{var E=d(),w=U.S;if(w!==null&&w(C,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var V=Uy(E,c);no(t,i,V,Bt(t))}else no(t,i,c,Bt(t))}catch(B){no(t,i,{then:function(){},status:"rejected",reason:B},Bt())}finally{J.p=p,U.T=T}}function By(){}function Er(t,i,a,c){if(t.tag!==5)throw Error(o(476));var d=id(t).queue;nd(t,d,i,ae,a===null?By:function(){return ld(t),a(c)})}function id(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:ae},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ld(t){var i=id(t).next.queue;no(t,i,{},Bt())}function Ar(){return _t(Co)}function od(){return at().memoizedState}function ad(){return at().memoizedState}function qy(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Bt();t=kn(a);var c=Un(i,t,a);c!==null&&(qt(c,i,a),Xl(c,i,a)),i={cache:er()},t.payload=i;return}i=i.return}}function zy(t,i,a){var c=Bt();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pa(t)?rd(i,a):(a=Fs(t,i,a,c),a!==null&&(qt(a,t,c),ud(a,i,c)))}function sd(t,i,a){var c=Bt();no(t,i,a,c)}function no(t,i,a,c){var d={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pa(t))rd(i,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var T=i.lastRenderedState,C=p(T,a);if(d.hasEagerState=!0,d.eagerState=C,Ut(C,T))return Qo(t,i,d,0),Ze===null&&Xo(),!1}catch{}finally{}if(a=Fs(t,i,d,c),a!==null)return qt(a,t,c),ud(a,i,c),!0}return!1}function xr(t,i,a,c){if(c={lane:2,revertLane:iu(),action:c,hasEagerState:!1,eagerState:null,next:null},pa(t)){if(i)throw Error(o(479))}else i=Fs(t,a,c,2),i!==null&&qt(i,t,2)}function pa(t){var i=t.alternate;return t===Ee||i!==null&&i===Ee}function rd(t,i){Xi=ra=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ud(t,i,a){if((a&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,gc(t,a)}}var ha={readContext:_t,use:ca,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt},cd={readContext:_t,use:ca,useCallback:function(t,i){return bt().memoizedState=[t,i===void 0?null:i],t},useContext:_t,useEffect:$f,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ma(4194308,4,Qf.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ma(4194308,4,t,i)},useInsertionEffect:function(t,i){ma(4,2,t,i)},useMemo:function(t,i){var a=bt();i=i===void 0?null:i;var c=t();if(gi){Mt(!0);try{t()}finally{Mt(!1)}}return a.memoizedState=[c,i],c},useReducer:function(t,i,a){var c=bt();if(a!==void 0){var d=a(i);if(gi){Mt(!0);try{a(i)}finally{Mt(!1)}}}else d=i;return c.memoizedState=c.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},c.queue=t,t=t.dispatch=zy.bind(null,Ee,t),[c.memoizedState,t]},useRef:function(t){var i=bt();return t={current:t},i.memoizedState=t},useState:function(t){t=Tr(t);var i=t.queue,a=sd.bind(null,Ee,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Cr,useDeferredValue:function(t,i){var a=bt();return _r(a,t,i)},useTransition:function(){var t=Tr(!1);return t=nd.bind(null,Ee,t.queue,!0,!1),bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var c=Ee,d=bt();if(Pe){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),Ze===null)throw Error(o(349));(we&124)!==0||bf(c,i,a)}d.memoizedState=a;var p={value:a,getSnapshot:i};return d.queue=p,$f(kf.bind(null,c,p,t),[t]),c.flags|=2048,Wi(9,da(),If.bind(null,c,p,a,i),null),a},useId:function(){var t=bt(),i=Ze.identifierPrefix;if(Pe){var a=hn,c=pn;a=(c&~(1<<32-St(c)-1)).toString(32)+a,i="«"+i+"R"+a,a=ua++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Ly++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Ar,useFormState:Of,useActionState:Of,useOptimistic:function(t){var i=bt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xr.bind(null,Ee,!0,a),a.dispatch=i,[t,i]},useMemoCache:gr,useCacheRefresh:function(){return bt().memoizedState=qy.bind(null,Ee)}},fd={readContext:_t,use:ca,useCallback:jf,useContext:_t,useEffect:Zf,useImperativeHandle:Wf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:ed,useReducer:fa,useRef:Jf,useState:function(){return fa(vn)},useDebugValue:Cr,useDeferredValue:function(t,i){var a=at();return td(a,Oe.memoizedState,t,i)},useTransition:function(){var t=fa(vn)[0],i=at().memoizedState;return[typeof t=="boolean"?t:eo(t),i]},useSyncExternalStore:wf,useId:od,useHostTransitionStatus:Ar,useFormState:Hf,useActionState:Hf,useOptimistic:function(t,i){var a=at();return Vf(a,Oe,t,i)},useMemoCache:gr,useCacheRefresh:ad},Oy={readContext:_t,use:ca,useCallback:jf,useContext:_t,useEffect:Zf,useImperativeHandle:Wf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:ed,useReducer:vr,useRef:Jf,useState:function(){return vr(vn)},useDebugValue:Cr,useDeferredValue:function(t,i){var a=at();return Oe===null?_r(a,t,i):td(a,Oe.memoizedState,t,i)},useTransition:function(){var t=vr(vn)[0],i=at().memoizedState;return[typeof t=="boolean"?t:eo(t),i]},useSyncExternalStore:wf,useId:od,useHostTransitionStatus:Ar,useFormState:Yf,useActionState:Yf,useOptimistic:function(t,i){var a=at();return Oe!==null?Vf(a,Oe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gr,useCacheRefresh:ad},ji=null,io=0;function ga(t){var i=io;return io+=1,ji===null&&(ji=[]),_f(ji,t,i)}function lo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ya(t,i){throw i.$$typeof===S?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dd(t){var i=t._init;return i(t._payload)}function md(t){function i(N,x){if(t){var D=N.deletions;D===null?(N.deletions=[x],N.flags|=16):D.push(x)}}function a(N,x){if(!t)return null;for(;x!==null;)i(N,x),x=x.sibling;return null}function c(N){for(var x=new Map;N!==null;)N.key!==null?x.set(N.key,N):x.set(N.index,N),N=N.sibling;return x}function d(N,x){return N=mn(N,x),N.index=0,N.sibling=null,N}function p(N,x,D){return N.index=D,t?(D=N.alternate,D!==null?(D=D.index,D<x?(N.flags|=67108866,x):D):(N.flags|=67108866,x)):(N.flags|=1048576,x)}function T(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function C(N,x,D,P){return x===null||x.tag!==6?(x=Js(D,N.mode,P),x.return=N,x):(x=d(x,D),x.return=N,x)}function E(N,x,D,P){var Q=D.type;return Q===k?V(N,x,D.props.children,P,D.key):x!==null&&(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===be&&dd(Q)===x.type)?(x=d(x,D.props),lo(x,D),x.return=N,x):(x=jo(D.type,D.key,D.props,null,N.mode,P),lo(x,D),x.return=N,x)}function w(N,x,D,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==D.containerInfo||x.stateNode.implementation!==D.implementation?(x=$s(D,N.mode,P),x.return=N,x):(x=d(x,D.children||[]),x.return=N,x)}function V(N,x,D,P,Q){return x===null||x.tag!==7?(x=ri(D,N.mode,P,Q),x.return=N,x):(x=d(x,D),x.return=N,x)}function B(N,x,D){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Js(""+x,N.mode,D),x.return=N,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _:return D=jo(x.type,x.key,x.props,null,N.mode,D),lo(D,x),D.return=N,D;case M:return x=$s(x,N.mode,D),x.return=N,x;case be:var P=x._init;return x=P(x._payload),B(N,x,D)}if(Ie(x)||Le(x))return x=ri(x,N.mode,D,null),x.return=N,x;if(typeof x.then=="function")return B(N,ga(x),D);if(x.$$typeof===X)return B(N,ia(N,x),D);ya(N,x)}return null}function b(N,x,D,P){var Q=x!==null?x.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return Q!==null?null:C(N,x,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===Q?E(N,x,D,P):null;case M:return D.key===Q?w(N,x,D,P):null;case be:return Q=D._init,D=Q(D._payload),b(N,x,D,P)}if(Ie(D)||Le(D))return Q!==null?null:V(N,x,D,P,null);if(typeof D.then=="function")return b(N,x,ga(D),P);if(D.$$typeof===X)return b(N,x,ia(N,D),P);ya(N,D)}return null}function I(N,x,D,P,Q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return N=N.get(D)||null,C(x,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return N=N.get(P.key===null?D:P.key)||null,E(x,N,P,Q);case M:return N=N.get(P.key===null?D:P.key)||null,w(x,N,P,Q);case be:var Ae=P._init;return P=Ae(P._payload),I(N,x,D,P,Q)}if(Ie(P)||Le(P))return N=N.get(D)||null,V(x,N,P,Q,null);if(typeof P.then=="function")return I(N,x,D,ga(P),Q);if(P.$$typeof===X)return I(N,x,D,ia(x,P),Q);ya(x,P)}return null}function fe(N,x,D,P){for(var Q=null,Ae=null,ne=x,ue=x=0,mt=null;ne!==null&&ue<D.length;ue++){ne.index>ue?(mt=ne,ne=null):mt=ne.sibling;var ke=b(N,ne,D[ue],P);if(ke===null){ne===null&&(ne=mt);break}t&&ne&&ke.alternate===null&&i(N,ne),x=p(ke,x,ue),Ae===null?Q=ke:Ae.sibling=ke,Ae=ke,ne=mt}if(ue===D.length)return a(N,ne),Pe&&ci(N,ue),Q;if(ne===null){for(;ue<D.length;ue++)ne=B(N,D[ue],P),ne!==null&&(x=p(ne,x,ue),Ae===null?Q=ne:Ae.sibling=ne,Ae=ne);return Pe&&ci(N,ue),Q}for(ne=c(ne);ue<D.length;ue++)mt=I(ne,N,ue,D[ue],P),mt!==null&&(t&&mt.alternate!==null&&ne.delete(mt.key===null?ue:mt.key),x=p(mt,x,ue),Ae===null?Q=mt:Ae.sibling=mt,Ae=mt);return t&&ne.forEach(function(Qn){return i(N,Qn)}),Pe&&ci(N,ue),Q}function re(N,x,D,P){if(D==null)throw Error(o(151));for(var Q=null,Ae=null,ne=x,ue=x=0,mt=null,ke=D.next();ne!==null&&!ke.done;ue++,ke=D.next()){ne.index>ue?(mt=ne,ne=null):mt=ne.sibling;var Qn=b(N,ne,ke.value,P);if(Qn===null){ne===null&&(ne=mt);break}t&&ne&&Qn.alternate===null&&i(N,ne),x=p(Qn,x,ue),Ae===null?Q=Qn:Ae.sibling=Qn,Ae=Qn,ne=mt}if(ke.done)return a(N,ne),Pe&&ci(N,ue),Q;if(ne===null){for(;!ke.done;ue++,ke=D.next())ke=B(N,ke.value,P),ke!==null&&(x=p(ke,x,ue),Ae===null?Q=ke:Ae.sibling=ke,Ae=ke);return Pe&&ci(N,ue),Q}for(ne=c(ne);!ke.done;ue++,ke=D.next())ke=I(ne,N,ue,ke.value,P),ke!==null&&(t&&ke.alternate!==null&&ne.delete(ke.key===null?ue:ke.key),x=p(ke,x,ue),Ae===null?Q=ke:Ae.sibling=ke,Ae=ke);return t&&ne.forEach(function(Hv){return i(N,Hv)}),Pe&&ci(N,ue),Q}function Fe(N,x,D,P){if(typeof D=="object"&&D!==null&&D.type===k&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var Q=D.key;x!==null;){if(x.key===Q){if(Q=D.type,Q===k){if(x.tag===7){a(N,x.sibling),P=d(x,D.props.children),P.return=N,N=P;break e}}else if(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===be&&dd(Q)===x.type){a(N,x.sibling),P=d(x,D.props),lo(P,D),P.return=N,N=P;break e}a(N,x);break}else i(N,x);x=x.sibling}D.type===k?(P=ri(D.props.children,N.mode,P,D.key),P.return=N,N=P):(P=jo(D.type,D.key,D.props,null,N.mode,P),lo(P,D),P.return=N,N=P)}return T(N);case M:e:{for(Q=D.key;x!==null;){if(x.key===Q)if(x.tag===4&&x.stateNode.containerInfo===D.containerInfo&&x.stateNode.implementation===D.implementation){a(N,x.sibling),P=d(x,D.children||[]),P.return=N,N=P;break e}else{a(N,x);break}else i(N,x);x=x.sibling}P=$s(D,N.mode,P),P.return=N,N=P}return T(N);case be:return Q=D._init,D=Q(D._payload),Fe(N,x,D,P)}if(Ie(D))return fe(N,x,D,P);if(Le(D)){if(Q=Le(D),typeof Q!="function")throw Error(o(150));return D=Q.call(D),re(N,x,D,P)}if(typeof D.then=="function")return Fe(N,x,ga(D),P);if(D.$$typeof===X)return Fe(N,x,ia(N,D),P);ya(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,x!==null&&x.tag===6?(a(N,x.sibling),P=d(x,D),P.return=N,N=P):(a(N,x),P=Js(D,N.mode,P),P.return=N,N=P),T(N)):a(N,x)}return function(N,x,D,P){try{io=0;var Q=Fe(N,x,D,P);return ji=null,Q}catch(ne){if(ne===Zl||ne===oa)throw ne;var Ae=Lt(29,ne,null,N.mode);return Ae.lanes=P,Ae.return=N,Ae}finally{}}}var el=md(!0),pd=md(!1),$t=G(null),ln=null;function Vn(t){var i=t.alternate;Y(ut,ut.current&1),Y($t,t),ln===null&&(i===null||Ki.current!==null||i.memoizedState!==null)&&(ln=t)}function hd(t){if(t.tag===22){if(Y(ut,ut.current),Y($t,t),ln===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ln=t)}}else Pn()}function Pn(){Y(ut,ut.current),Y($t,$t.current)}function Tn(t){H($t),ln===t&&(ln=null),H(ut)}var ut=G(0);function va(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hu(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Mr(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rr={enqueueSetState:function(t,i,a){t=t._reactInternals;var c=Bt(),d=kn(c);d.payload=i,a!=null&&(d.callback=a),i=Un(t,d,c),i!==null&&(qt(i,t,c),Xl(i,t,c))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=Bt(),d=kn(c);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Un(t,d,c),i!==null&&(qt(i,t,c),Xl(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Bt(),c=kn(a);c.tag=2,i!=null&&(c.callback=i),i=Un(t,c,a),i!==null&&(qt(i,t,a),Xl(i,t,a))}};function gd(t,i,a,c,d,p,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,T):i.prototype&&i.prototype.isPureReactComponent?!ql(a,c)||!ql(d,p):!0}function yd(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&Rr.enqueueReplaceState(i,i.state,null)}function yi(t,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Ta=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vd(t){Ta(t)}function Td(t){console.error(t)}function Sd(t){Ta(t)}function Sa(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Cd(t,i,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Nr(t,i,a){return a=kn(a),a.tag=3,a.payload={element:null},a.callback=function(){Sa(t,i)},a}function _d(t){return t=kn(t),t.tag=3,t}function Ed(t,i,a,c){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;t.payload=function(){return d(p)},t.callback=function(){Cd(i,a,c)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Cd(i,a,c),typeof d!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function Hy(t,i,a,c,d){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Yl(i,a,d,!0),a=$t.current,a!==null){switch(a.tag){case 13:return ln===null?Wr():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,c===ir?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),eu(t,c,d)),!1;case 22:return a.flags|=65536,c===ir?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),eu(t,c,d)),!1}throw Error(o(435,a.tag))}return eu(t,c,d),Wr(),!1}if(Pe)return i=$t.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==Xs&&(t=Error(o(422),{cause:c}),Fl(Ht(t,a)))):(c!==Xs&&(i=Error(o(423),{cause:c}),Fl(Ht(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,c=Ht(c,a),d=Nr(t.stateNode,c,d),ar(t,d),tt!==4&&(tt=2)),!1;var p=Error(o(520),{cause:c});if(p=Ht(p,a),fo===null?fo=[p]:fo.push(p),tt!==4&&(tt=2),i===null)return!0;c=Ht(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Nr(a.stateNode,c,t),ar(a,t),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Hn===null||!Hn.has(p))))return a.flags|=65536,d&=-d,a.lanes|=d,d=_d(d),Ed(d,t,a,c),ar(a,d),!1}a=a.return}while(a!==null);return!1}var Ad=Error(o(461)),ft=!1;function gt(t,i,a,c){i.child=t===null?pd(i,null,a,c):el(i,t.child,a,c)}function xd(t,i,a,c,d){a=a.render;var p=i.ref;if("ref"in c){var T={};for(var C in c)C!=="ref"&&(T[C]=c[C])}else T=c;return pi(i),c=fr(t,i,a,T,p,d),C=dr(),t!==null&&!ft?(mr(t,i,d),Sn(t,i,d)):(Pe&&C&&Zs(i),i.flags|=1,gt(t,i,c,d),i.child)}function Md(t,i,a,c,d){if(t===null){var p=a.type;return typeof p=="function"&&!Ys(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,Rd(t,i,p,c,d)):(t=jo(a.type,null,c,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!Vr(t,d)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:ql,a(T,c)&&t.ref===i.ref)return Sn(t,i,d)}return i.flags|=1,t=mn(p,c),t.ref=i.ref,t.return=i,i.child=t}function Rd(t,i,a,c,d){if(t!==null){var p=t.memoizedProps;if(ql(p,c)&&t.ref===i.ref)if(ft=!1,i.pendingProps=c=p,Vr(t,d))(t.flags&131072)!==0&&(ft=!0);else return i.lanes=t.lanes,Sn(t,i,d)}return Dr(t,i,a,c,d)}function Nd(t,i,a){var c=i.pendingProps,d=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=p!==null?p.baseLanes|a:a,t!==null){for(d=i.child=t.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~c}else i.childLanes=0,i.child=null;return Dd(t,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&la(i,p!==null?p.cachePool:null),p!==null?Rf(i,p):rr(),hd(i);else return i.lanes=i.childLanes=536870912,Dd(t,i,p!==null?p.baseLanes|a:a,a)}else p!==null?(la(i,p.cachePool),Rf(i,p),Pn(),i.memoizedState=null):(t!==null&&la(i,null),rr(),Pn());return gt(t,i,d,a),i.child}function Dd(t,i,a,c){var d=nr();return d=d===null?null:{parent:rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&la(i,null),rr(),hd(i),t!==null&&Yl(t,i,c,!0),null}function Ca(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Dr(t,i,a,c,d){return pi(i),a=fr(t,i,a,c,void 0,d),c=dr(),t!==null&&!ft?(mr(t,i,d),Sn(t,i,d)):(Pe&&c&&Zs(i),i.flags|=1,gt(t,i,a,d),i.child)}function wd(t,i,a,c,d,p){return pi(i),i.updateQueue=null,a=Df(i,c,a,d),Nf(t),c=dr(),t!==null&&!ft?(mr(t,i,p),Sn(t,i,p)):(Pe&&c&&Zs(i),i.flags|=1,gt(t,i,a,p),i.child)}function bd(t,i,a,c,d){if(pi(i),i.stateNode===null){var p=Fi,T=a.contextType;typeof T=="object"&&T!==null&&(p=_t(T)),p=new a(c,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Rr,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=c,p.state=i.memoizedState,p.refs={},lr(i),T=a.contextType,p.context=typeof T=="object"&&T!==null?_t(T):Fi,p.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Mr(i,a,T,c),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Rr.enqueueReplaceState(p,p.state,null),Wl(i,c,p,d),Ql(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){p=i.stateNode;var C=i.memoizedProps,E=yi(a,C);p.props=E;var w=p.context,V=a.contextType;T=Fi,typeof V=="object"&&V!==null&&(T=_t(V));var B=a.getDerivedStateFromProps;V=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||w!==T)&&yd(i,p,c,T),In=!1;var b=i.memoizedState;p.state=b,Wl(i,c,p,d),Ql(),w=i.memoizedState,C||b!==w||In?(typeof B=="function"&&(Mr(i,a,B,c),w=i.memoizedState),(E=In||gd(i,a,E,c,b,w,T))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=w),p.props=c,p.state=w,p.context=T,c=E):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{p=i.stateNode,or(t,i),T=i.memoizedProps,V=yi(a,T),p.props=V,B=i.pendingProps,b=p.context,w=a.contextType,E=Fi,typeof w=="object"&&w!==null&&(E=_t(w)),C=a.getDerivedStateFromProps,(w=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==B||b!==E)&&yd(i,p,c,E),In=!1,b=i.memoizedState,p.state=b,Wl(i,c,p,d),Ql();var I=i.memoizedState;T!==B||b!==I||In||t!==null&&t.dependencies!==null&&na(t.dependencies)?(typeof C=="function"&&(Mr(i,a,C,c),I=i.memoizedState),(V=In||gd(i,a,V,c,b,I,E)||t!==null&&t.dependencies!==null&&na(t.dependencies))?(w||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,I,E),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,I,E)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&b===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&b===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=I),p.props=c,p.state=I,p.context=E,c=V):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&b===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&b===t.memoizedState||(i.flags|=1024),c=!1)}return p=c,Ca(t,i),c=(i.flags&128)!==0,p||c?(p=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&c?(i.child=el(i,t.child,null,d),i.child=el(i,null,a,d)):gt(t,i,a,d),i.memoizedState=p.state,t=i.child):t=Sn(t,i,d),t}function Id(t,i,a,c){return Hl(),i.flags|=256,gt(t,i,a,c),i.child}var wr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function br(t){return{baseLanes:t,cachePool:Tf()}}function Ir(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Zt),t}function kd(t,i,a){var c=i.pendingProps,d=!1,p=(i.flags&128)!==0,T;if((T=p)||(T=t!==null&&t.memoizedState===null?!1:(ut.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(d?Vn(i):Pn(),Pe){var C=et,E;if(E=C){e:{for(E=C,C=nn;E.nodeType!==8;){if(!C){C=null;break e}if(E=tn(E.nextSibling),E===null){C=null;break e}}C=E}C!==null?(i.memoizedState={dehydrated:C,treeContext:ui!==null?{id:pn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},E=Lt(18,null,null,0),E.stateNode=C,E.return=i,i.child=E,Rt=i,et=null,E=!0):E=!1}E||di(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return hu(C)?i.lanes=32:i.lanes=536870912,null;Tn(i)}return C=c.children,c=c.fallback,d?(Pn(),d=i.mode,C=_a({mode:"hidden",children:C},d),c=ri(c,d,a,null),C.return=i,c.return=i,C.sibling=c,i.child=C,d=i.child,d.memoizedState=br(a),d.childLanes=Ir(t,T,a),i.memoizedState=wr,c):(Vn(i),kr(i,C))}if(E=t.memoizedState,E!==null&&(C=E.dehydrated,C!==null)){if(p)i.flags&256?(Vn(i),i.flags&=-257,i=Ur(t,i,a)):i.memoizedState!==null?(Pn(),i.child=t.child,i.flags|=128,i=null):(Pn(),d=c.fallback,C=i.mode,c=_a({mode:"visible",children:c.children},C),d=ri(d,C,a,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,el(i,t.child,null,a),c=i.child,c.memoizedState=br(a),c.childLanes=Ir(t,T,a),i.memoizedState=wr,i=d);else if(Vn(i),hu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var w=T.dgst;T=w,c=Error(o(419)),c.stack="",c.digest=T,Fl({value:c,source:null,stack:null}),i=Ur(t,i,a)}else if(ft||Yl(t,i,a,!1),T=(a&t.childLanes)!==0,ft||T){if(T=Ze,T!==null&&(c=a&-a,c=(c&42)!==0?1:gs(c),c=(c&(T.suspendedLanes|a))!==0?0:c,c!==0&&c!==E.retryLane))throw E.retryLane=c,Hi(t,c),qt(T,t,c),Ad;C.data==="$?"||Wr(),i=Ur(t,i,a)}else C.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=E.treeContext,et=tn(C.nextSibling),Rt=i,Pe=!0,fi=null,nn=!1,t!==null&&(Yt[Jt++]=pn,Yt[Jt++]=hn,Yt[Jt++]=ui,pn=t.id,hn=t.overflow,ui=i),i=kr(i,c.children),i.flags|=4096);return i}return d?(Pn(),d=c.fallback,C=i.mode,E=t.child,w=E.sibling,c=mn(E,{mode:"hidden",children:c.children}),c.subtreeFlags=E.subtreeFlags&65011712,w!==null?d=mn(w,d):(d=ri(d,C,a,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,C=t.child.memoizedState,C===null?C=br(a):(E=C.cachePool,E!==null?(w=rt._currentValue,E=E.parent!==w?{parent:w,pool:w}:E):E=Tf(),C={baseLanes:C.baseLanes|a,cachePool:E}),d.memoizedState=C,d.childLanes=Ir(t,T,a),i.memoizedState=wr,c):(Vn(i),a=t.child,t=a.sibling,a=mn(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function kr(t,i){return i=_a({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _a(t,i){return t=Lt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ur(t,i,a){return el(i,t.child,null,a),t=kr(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ud(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Ws(t.return,i,a)}function Lr(t,i,a,c,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=d)}function Ld(t,i,a){var c=i.pendingProps,d=c.revealOrder,p=c.tail;if(gt(t,i,c.children,a),c=ut.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ud(t,a,i);else if(t.tag===19)Ud(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(Y(ut,c),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&va(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Lr(i,!1,d,a,p);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&va(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Lr(i,!0,a,null,p);break;case"together":Lr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),On|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Yl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,a=mn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=mn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Vr(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&na(t)))}function Fy(t,i,a){switch(i.tag){case 3:Ye(i,i.stateNode.containerInfo),bn(i,rt,t.memoizedState.cache),Hl();break;case 27:case 5:Rl(i);break;case 4:Ye(i,i.stateNode.containerInfo);break;case 10:bn(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Vn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?kd(t,i,a):(Vn(i),t=Sn(t,i,a),t!==null?t.sibling:null);Vn(i);break;case 19:var d=(t.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Yl(t,i,a,!1),c=(a&i.childLanes)!==0),d){if(c)return Ld(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Y(ut,ut.current),c)break;return null;case 22:case 23:return i.lanes=0,Nd(t,i,a);case 24:bn(i,rt,t.memoizedState.cache)}return Sn(t,i,a)}function Vd(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ft=!0;else{if(!Vr(t,a)&&(i.flags&128)===0)return ft=!1,Fy(t,i,a);ft=(t.flags&131072)!==0}else ft=!1,Pe&&(i.flags&1048576)!==0&&df(i,ta,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var c=i.elementType,d=c._init;if(c=d(c._payload),i.type=c,typeof c=="function")Ys(c)?(t=yi(c,t),i.tag=1,i=bd(null,i,c,t,a)):(i.tag=0,i=Dr(null,i,c,t,a));else{if(c!=null){if(d=c.$$typeof,d===$){i.tag=11,i=xd(null,i,c,t,a);break e}else if(d===ge){i.tag=14,i=Md(null,i,c,t,a);break e}}throw i=ht(c)||c,Error(o(306,i,""))}}return i;case 0:return Dr(t,i,i.type,i.pendingProps,a);case 1:return c=i.type,d=yi(c,i.pendingProps),bd(t,i,c,d,a);case 3:e:{if(Ye(i,i.stateNode.containerInfo),t===null)throw Error(o(387));c=i.pendingProps;var p=i.memoizedState;d=p.element,or(t,i),Wl(i,c,null,a);var T=i.memoizedState;if(c=T.cache,bn(i,rt,c),c!==p.cache&&js(i,[rt],a,!0),Ql(),c=T.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Id(t,i,c,a);break e}else if(c!==d){d=Ht(Error(o(424)),i),Fl(d),i=Id(t,i,c,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=tn(t.firstChild),Rt=i,Pe=!0,fi=null,nn=!0,a=pd(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hl(),c===d){i=Sn(t,i,a);break e}gt(t,i,c,a)}i=i.child}return i;case 26:return Ca(t,i),t===null?(a=qm(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,c=Va(pe.current).createElement(a),c[Ct]=i,c[Dt]=t,vt(c,a,t),ct(c),i.stateNode=c):i.memoizedState=qm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Rl(i),t===null&&Pe&&(c=i.stateNode=Pm(i.type,i.pendingProps,pe.current),Rt=i,nn=!0,d=et,Jn(i.type)?(gu=d,et=tn(c.firstChild)):et=d),gt(t,i,i.pendingProps.children,a),Ca(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((d=c=et)&&(c=vv(c,i.type,i.pendingProps,nn),c!==null?(i.stateNode=c,Rt=i,et=tn(c.firstChild),nn=!1,d=!0):d=!1),d||di(i)),Rl(i),d=i.type,p=i.pendingProps,T=t!==null?t.memoizedProps:null,c=p.children,du(d,p)?c=null:T!==null&&du(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=fr(t,i,Vy,null,null,a),Co._currentValue=d),Ca(t,i),gt(t,i,c,a),i.child;case 6:return t===null&&Pe&&((t=a=et)&&(a=Tv(a,i.pendingProps,nn),a!==null?(i.stateNode=a,Rt=i,et=null,t=!0):t=!1),t||di(i)),null;case 13:return kd(t,i,a);case 4:return Ye(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=el(i,null,c,a):gt(t,i,c,a),i.child;case 11:return xd(t,i,i.type,i.pendingProps,a);case 7:return gt(t,i,i.pendingProps,a),i.child;case 8:return gt(t,i,i.pendingProps.children,a),i.child;case 12:return gt(t,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,bn(i,i.type,c.value),gt(t,i,c.children,a),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,pi(i),d=_t(d),c=c(d),i.flags|=1,gt(t,i,c,a),i.child;case 14:return Md(t,i,i.type,i.pendingProps,a);case 15:return Rd(t,i,i.type,i.pendingProps,a);case 19:return Ld(t,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},t===null?(a=_a(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=mn(t.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Nd(t,i,a);case 24:return pi(i),c=_t(rt),t===null?(d=nr(),d===null&&(d=Ze,p=er(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=a),d=p),i.memoizedState={parent:c,cache:d},lr(i),bn(i,rt,d)):((t.lanes&a)!==0&&(or(t,i),Wl(i,null,null,a),Ql()),d=t.memoizedState,p=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),bn(i,rt,c)):(c=p.cache,bn(i,rt,c),c!==d.cache&&js(i,[rt],a,!0))),gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Cn(t){t.flags|=4}function Pd(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ym(i)){if(i=$t.current,i!==null&&((we&4194048)===we?ln!==null:(we&62914560)!==we&&(we&536870912)===0||i!==ln))throw Kl=ir,Sf;t.flags|=8192}}function Ea(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?pc():536870912,t.lanes|=i,ll|=i)}function oo(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function We(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function Yy(t,i,a){var c=i.pendingProps;switch(Ks(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(i),null;case 1:return We(i),null;case 3:return a=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),yn(rt),Wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ol(i)?Cn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hf())),We(i),null;case 26:return a=i.memoizedState,t===null?(Cn(i),a!==null?(We(i),Pd(i,a)):(We(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Cn(i),We(i),Pd(i,a)):(We(i),i.flags&=-16777217):(t.memoizedProps!==c&&Cn(i),We(i),i.flags&=-16777217),null;case 27:ti(i),a=pe.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Cn(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return We(i),null}t=le.current,Ol(i)?mf(i):(t=Pm(d,c,a),i.stateNode=t,Cn(i))}return We(i),null;case 5:if(ti(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Cn(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return We(i),null}if(t=le.current,Ol(i))mf(i);else{switch(d=Va(pe.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?d.createElement(a,{is:c.is}):d.createElement(a)}}t[Ct]=i,t[Dt]=c;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(vt(t,a,c),a){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Cn(i)}}return We(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&Cn(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(o(166));if(t=pe.current,Ol(i)){if(t=i.stateNode,a=i.memoizedProps,c=null,d=Rt,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}t[Ct]=i,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||wm(t.nodeValue,a)),t||di(i)}else t=Va(t).createTextNode(c),t[Ct]=i,i.stateNode=t}return We(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ol(i),c!==null&&c.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[Ct]=i}else Hl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;We(i),d=!1}else d=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Tn(i),i):(Tn(i),null)}if(Tn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,t=t!==null&&t.memoizedState!==null,a){c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Ea(i,i.updateQueue),We(i),null;case 4:return Wt(),t===null&&su(i.stateNode.containerInfo),We(i),null;case 10:return yn(i.type),We(i),null;case 19:if(H(ut),d=i.memoizedState,d===null)return We(i),null;if(c=(i.flags&128)!==0,p=d.rendering,p===null)if(c)oo(d,!1);else{if(tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=va(t),p!==null){for(i.flags|=128,oo(d,!1),t=p.updateQueue,i.updateQueue=t,Ea(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ff(a,t),a=a.sibling;return Y(ut,ut.current&1|2),i.child}t=t.sibling}d.tail!==null&&z()>Ma&&(i.flags|=128,c=!0,oo(d,!1),i.lanes=4194304)}else{if(!c)if(t=va(p),t!==null){if(i.flags|=128,c=!0,t=t.updateQueue,i.updateQueue=t,Ea(i,t),oo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Pe)return We(i),null}else 2*z()-d.renderingStartTime>Ma&&a!==536870912&&(i.flags|=128,c=!0,oo(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(t=d.last,t!==null?t.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=z(),i.sibling=null,t=ut.current,Y(ut,c?t&1|2:t&1),i):(We(i),null);case 22:case 23:return Tn(i),ur(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(We(i),i.subtreeFlags&6&&(i.flags|=8192)):We(i),a=i.updateQueue,a!==null&&Ea(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),t!==null&&H(hi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),yn(rt),We(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Jy(t,i){switch(Ks(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return yn(rt),Wt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ti(i),null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Hl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return H(ut),null;case 4:return Wt(),null;case 10:return yn(i.type),null;case 22:case 23:return Tn(i),ur(),t!==null&&H(hi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return yn(rt),null;case 25:return null;default:return null}}function Gd(t,i){switch(Ks(i),i.tag){case 3:yn(rt),Wt();break;case 26:case 27:case 5:ti(i);break;case 4:Wt();break;case 13:Tn(i);break;case 19:H(ut);break;case 10:yn(i.type);break;case 22:case 23:Tn(i),ur(),t!==null&&H(hi);break;case 24:yn(rt)}}function ao(t,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&t)===t){c=void 0;var p=a.create,T=a.inst;c=p(),T.destroy=c}a=a.next}while(a!==d)}}catch(C){Je(i,i.return,C)}}function Gn(t,i,a){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&t)===t){var T=c.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,d=i;var E=a,w=C;try{w()}catch(V){Je(d,E,V)}}}c=c.next}while(c!==p)}}catch(V){Je(i,i.return,V)}}function Bd(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Mf(i,a)}catch(c){Je(t,t.return,c)}}}function qd(t,i,a){a.props=yi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Je(t,i,c)}}function so(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(d){Je(t,i,d)}}function on(t,i){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(d){Je(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Je(t,i,d)}else a.current=null}function zd(t){var i=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(d){Je(t,t.return,d)}}function Pr(t,i,a){try{var c=t.stateNode;mv(c,t.type,a,i),c[Dt]=i}catch(d){Je(t,t.return,d)}}function Od(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jn(t.type)||t.tag===4}function Gr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Od(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Br(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=La));else if(c!==4&&(c===27&&Jn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Br(t,i,a),t=t.sibling;t!==null;)Br(t,i,a),t=t.sibling}function Aa(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(c===27&&Jn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Aa(t,i,a),t=t.sibling;t!==null;)Aa(t,i,a),t=t.sibling}function Hd(t){var i=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);vt(i,c,a),i[Ct]=t,i[Dt]=a}catch(p){Je(t,t.return,p)}}var _n=!1,it=!1,qr=!1,Fd=typeof WeakSet=="function"?WeakSet:Set,dt=null;function $y(t,i){if(t=t.containerInfo,cu=Oa,t=ef(t),Gs(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var T=0,C=-1,E=-1,w=0,V=0,B=t,b=null;t:for(;;){for(var I;B!==a||d!==0&&B.nodeType!==3||(C=T+d),B!==p||c!==0&&B.nodeType!==3||(E=T+c),B.nodeType===3&&(T+=B.nodeValue.length),(I=B.firstChild)!==null;)b=B,B=I;for(;;){if(B===t)break t;if(b===a&&++w===d&&(C=T),b===p&&++V===c&&(E=T),(I=B.nextSibling)!==null)break;B=b,b=B.parentNode}B=I}a=C===-1||E===-1?null:{start:C,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(fu={focusedElem:t,selectionRange:a},Oa=!1,dt=i;dt!==null;)if(i=dt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,dt=t;else for(;dt!==null;){switch(i=dt,p=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=i,d=p.memoizedProps,p=p.memoizedState,c=a.stateNode;try{var fe=yi(a.type,d,a.elementType===a.type);t=c.getSnapshotBeforeUpdate(fe,p),c.__reactInternalSnapshotBeforeUpdate=t}catch(re){Je(a,a.return,re)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)pu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,dt=t;break}dt=i.return}}function Yd(t,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Bn(t,a),c&4&&ao(5,a);break;case 1:if(Bn(t,a),c&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Je(a,a.return,T)}else{var d=yi(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(a,a.return,T)}}c&64&&Bd(a),c&512&&so(a,a.return);break;case 3:if(Bn(t,a),c&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Mf(t,i)}catch(T){Je(a,a.return,T)}}break;case 27:i===null&&c&4&&Hd(a);case 26:case 5:Bn(t,a),i===null&&c&4&&zd(a),c&512&&so(a,a.return);break;case 12:Bn(t,a);break;case 13:Bn(t,a),c&4&&Zd(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nv.bind(null,a),Sv(t,a))));break;case 22:if(c=a.memoizedState!==null||_n,!c){i=i!==null&&i.memoizedState!==null||it,d=_n;var p=it;_n=c,(it=i)&&!p?qn(t,a,(a.subtreeFlags&8772)!==0):Bn(t,a),_n=d,it=p}break;case 30:break;default:Bn(t,a)}}function Jd(t){var i=t.alternate;i!==null&&(t.alternate=null,Jd(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ts(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,It=!1;function En(t,i,a){for(a=a.child;a!==null;)$d(t,i,a),a=a.sibling}function $d(t,i,a){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Tt,a)}catch{}switch(a.tag){case 26:it||on(a,i),En(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||on(a,i);var c=Qe,d=It;Jn(a.type)&&(Qe=a.stateNode,It=!1),En(t,i,a),yo(a.stateNode),Qe=c,It=d;break;case 5:it||on(a,i);case 6:if(c=Qe,d=It,Qe=null,En(t,i,a),Qe=c,It=d,Qe!==null)if(It)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(p){Je(a,i,p)}else try{Qe.removeChild(a.stateNode)}catch(p){Je(a,i,p)}break;case 18:Qe!==null&&(It?(t=Qe,Lm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),xo(t)):Lm(Qe,a.stateNode));break;case 4:c=Qe,d=It,Qe=a.stateNode.containerInfo,It=!0,En(t,i,a),Qe=c,It=d;break;case 0:case 11:case 14:case 15:it||Gn(2,a,i),it||Gn(4,a,i),En(t,i,a);break;case 1:it||(on(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&qd(a,i,c)),En(t,i,a);break;case 21:En(t,i,a);break;case 22:it=(c=it)||a.memoizedState!==null,En(t,i,a),it=c;break;default:En(t,i,a)}}function Zd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xo(t)}catch(a){Je(i,i.return,a)}}function Zy(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Fd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Fd),i;default:throw Error(o(435,t.tag))}}function zr(t,i){var a=Zy(t);i.forEach(function(c){var d=iv.bind(null,t,c);a.has(c)||(a.add(c),c.then(d,d))})}function Vt(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c],p=t,T=i,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Jn(C.type)){Qe=C.stateNode,It=!1;break e}break;case 5:Qe=C.stateNode,It=!1;break e;case 3:case 4:Qe=C.stateNode.containerInfo,It=!0;break e}C=C.return}if(Qe===null)throw Error(o(160));$d(p,T,d),Qe=null,It=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Kd(i,t),i=i.sibling}var en=null;function Kd(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vt(i,t),Pt(t),c&4&&(Gn(3,t,t.return),ao(3,t),Gn(5,t,t.return));break;case 1:Vt(i,t),Pt(t),c&512&&(it||a===null||on(a,a.return)),c&64&&_n&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var d=en;if(Vt(i,t),Pt(t),c&512&&(it||a===null||on(a,a.return)),c&4){var p=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[bl]||p[Ct]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),vt(p,c,a),p[Ct]=t,ct(p),c=p;break e;case"link":var T=Hm("link","href",d).get(c+(a.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(C,1);break t}}p=d.createElement(c),vt(p,c,a),d.head.appendChild(p);break;case"meta":if(T=Hm("meta","content",d).get(c+(a.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(C,1);break t}}p=d.createElement(c),vt(p,c,a),d.head.appendChild(p);break;default:throw Error(o(468,c))}p[Ct]=t,ct(p),c=p}t.stateNode=c}else Fm(d,t.type,t.stateNode);else t.stateNode=Om(d,c,t.memoizedProps);else p!==c?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,c===null?Fm(d,t.type,t.stateNode):Om(d,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Pr(t,t.memoizedProps,a.memoizedProps)}break;case 27:Vt(i,t),Pt(t),c&512&&(it||a===null||on(a,a.return)),a!==null&&c&4&&Pr(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Vt(i,t),Pt(t),c&512&&(it||a===null||on(a,a.return)),t.flags&32){d=t.stateNode;try{Vi(d,"")}catch(I){Je(t,t.return,I)}}c&4&&t.stateNode!=null&&(d=t.memoizedProps,Pr(t,d,a!==null?a.memoizedProps:d)),c&1024&&(qr=!0);break;case 6:if(Vt(i,t),Pt(t),c&4){if(t.stateNode===null)throw Error(o(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(I){Je(t,t.return,I)}}break;case 3:if(Ba=null,d=en,en=Pa(i.containerInfo),Vt(i,t),en=d,Pt(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{xo(i.containerInfo)}catch(I){Je(t,t.return,I)}qr&&(qr=!1,Xd(t));break;case 4:c=en,en=Pa(t.stateNode.containerInfo),Vt(i,t),Pt(t),en=c;break;case 12:Vt(i,t),Pt(t);break;case 13:Vt(i,t),Pt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($r=z()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,zr(t,c)));break;case 22:d=t.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,w=_n,V=it;if(_n=w||d,it=V||E,Vt(i,t),it=V,_n=w,Pt(t),c&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||E||_n||it||vi(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){E=a=i;try{if(p=E.stateNode,d)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=E.stateNode;var B=E.memoizedProps.style,b=B!=null&&B.hasOwnProperty("display")?B.display:null;C.style.display=b==null||typeof b=="boolean"?"":(""+b).trim()}}catch(I){Je(E,E.return,I)}}}else if(i.tag===6){if(a===null){E=i;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(I){Je(E,E.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,zr(t,a))));break;case 19:Vt(i,t),Pt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,zr(t,c)));break;case 30:break;case 21:break;default:Vt(i,t),Pt(t)}}function Pt(t){var i=t.flags;if(i&2){try{for(var a,c=t.return;c!==null;){if(Od(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var d=a.stateNode,p=Gr(t);Aa(t,p,d);break;case 5:var T=a.stateNode;a.flags&32&&(Vi(T,""),a.flags&=-33);var C=Gr(t);Aa(t,C,T);break;case 3:case 4:var E=a.stateNode.containerInfo,w=Gr(t);Br(t,w,E);break;default:throw Error(o(161))}}catch(V){Je(t,t.return,V)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Xd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Xd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Bn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yd(t,i.alternate,i),i=i.sibling}function vi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gn(4,i,i.return),vi(i);break;case 1:on(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&qd(i,i.return,a),vi(i);break;case 27:yo(i.stateNode);case 26:case 5:on(i,i.return),vi(i);break;case 22:i.memoizedState===null&&vi(i);break;case 30:vi(i);break;default:vi(i)}t=t.sibling}}function qn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=t,p=i,T=p.flags;switch(p.tag){case 0:case 11:case 15:qn(d,p,a),ao(4,p);break;case 1:if(qn(d,p,a),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(w){Je(c,c.return,w)}if(c=p,d=c.updateQueue,d!==null){var C=c.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)xf(E[d],C)}catch(w){Je(c,c.return,w)}}a&&T&64&&Bd(p),so(p,p.return);break;case 27:Hd(p);case 26:case 5:qn(d,p,a),a&&c===null&&T&4&&zd(p),so(p,p.return);break;case 12:qn(d,p,a);break;case 13:qn(d,p,a),a&&T&4&&Zd(d,p);break;case 22:p.memoizedState===null&&qn(d,p,a),so(p,p.return);break;case 30:break;default:qn(d,p,a)}i=i.sibling}}function Or(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jl(a))}function Hr(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jl(t))}function an(t,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qd(t,i,a,c),i=i.sibling}function Qd(t,i,a,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:an(t,i,a,c),d&2048&&ao(9,i);break;case 1:an(t,i,a,c);break;case 3:an(t,i,a,c),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jl(t)));break;case 12:if(d&2048){an(t,i,a,c),t=i.stateNode;try{var p=i.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){Je(i,i.return,E)}}else an(t,i,a,c);break;case 13:an(t,i,a,c);break;case 23:break;case 22:p=i.stateNode,T=i.alternate,i.memoizedState!==null?p._visibility&2?an(t,i,a,c):ro(t,i):p._visibility&2?an(t,i,a,c):(p._visibility|=2,tl(t,i,a,c,(i.subtreeFlags&10256)!==0)),d&2048&&Or(T,i);break;case 24:an(t,i,a,c),d&2048&&Hr(i.alternate,i);break;default:an(t,i,a,c)}}function tl(t,i,a,c,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=t,T=i,C=a,E=c,w=T.flags;switch(T.tag){case 0:case 11:case 15:tl(p,T,C,E,d),ao(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?tl(p,T,C,E,d):ro(p,T):(V._visibility|=2,tl(p,T,C,E,d)),d&&w&2048&&Or(T.alternate,T);break;case 24:tl(p,T,C,E,d),d&&w&2048&&Hr(T.alternate,T);break;default:tl(p,T,C,E,d)}i=i.sibling}}function ro(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,c=i,d=c.flags;switch(c.tag){case 22:ro(a,c),d&2048&&Or(c.alternate,c);break;case 24:ro(a,c),d&2048&&Hr(c.alternate,c);break;default:ro(a,c)}i=i.sibling}}var uo=8192;function nl(t){if(t.subtreeFlags&uo)for(t=t.child;t!==null;)Wd(t),t=t.sibling}function Wd(t){switch(t.tag){case 26:nl(t),t.flags&uo&&t.memoizedState!==null&&kv(en,t.memoizedState,t.memoizedProps);break;case 5:nl(t);break;case 3:case 4:var i=en;en=Pa(t.stateNode.containerInfo),nl(t),en=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=uo,uo=16777216,nl(t),uo=i):nl(t));break;default:nl(t)}}function jd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function co(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];dt=c,tm(c,t)}jd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)em(t),t=t.sibling}function em(t){switch(t.tag){case 0:case 11:case 15:co(t),t.flags&2048&&Gn(9,t,t.return);break;case 3:co(t);break;case 12:co(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xa(t)):co(t);break;default:co(t)}}function xa(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];dt=c,tm(c,t)}jd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gn(8,i,i.return),xa(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xa(i));break;default:xa(i)}t=t.sibling}}function tm(t,i){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:Gn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Jl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,dt=c;else e:for(a=t;dt!==null;){c=dt;var d=c.sibling,p=c.return;if(Jd(c),c===a){dt=null;break e}if(d!==null){d.return=p,dt=d;break e}dt=p}}}var Ky={getCacheForType:function(t){var i=_t(rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Xy=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Ze=null,xe=null,we=0,Be=0,Gt=null,zn=!1,il=!1,Fr=!1,An=0,tt=0,On=0,Ti=0,Yr=0,Zt=0,ll=0,fo=null,kt=null,Jr=!1,$r=0,Ma=1/0,Ra=null,Hn=null,yt=0,Fn=null,ol=null,al=0,Zr=0,Kr=null,nm=null,mo=0,Xr=null;function Bt(){if((Ge&2)!==0&&we!==0)return we&-we;if(U.T!==null){var t=$i;return t!==0?t:iu()}return yc()}function im(){Zt===0&&(Zt=(we&536870912)===0||Pe?mc():536870912);var t=$t.current;return t!==null&&(t.flags|=32),Zt}function qt(t,i,a){(t===Ze&&(Be===2||Be===9)||t.cancelPendingCommit!==null)&&(sl(t,0),Yn(t,we,Zt,!1)),wl(t,a),((Ge&2)===0||t!==Ze)&&(t===Ze&&((Ge&2)===0&&(Ti|=a),tt===4&&Yn(t,we,Zt,!1)),sn(t))}function lm(t,i,a){if((Ge&6)!==0)throw Error(o(327));var c=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Dl(t,i),d=c?jy(t,i):jr(t,i,!0),p=c;do{if(d===0){il&&!c&&Yn(t,i,0,!1);break}else{if(a=t.current.alternate,p&&!Qy(a)){d=jr(t,i,!1),p=!1;continue}if(d===2){if(p=i,t.errorRecoveryDisabledLanes&p)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var C=t;d=fo;var E=C.current.memoizedState.isDehydrated;if(E&&(sl(C,T).flags|=256),T=jr(C,T,!1),T!==2){if(Fr&&!E){C.errorRecoveryDisabledLanes|=p,Ti|=p,d=4;break e}p=kt,kt=d,p!==null&&(kt===null?kt=p:kt.push.apply(kt,p))}d=T}if(p=!1,d!==2)continue}}if(d===1){sl(t,0),Yn(t,i,0,!0);break}e:{switch(c=t,p=d,p){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Yn(c,i,Zt,!zn);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(d=$r+300-z(),10<d)){if(Yn(c,i,Zt,!zn),Go(c,0,!0)!==0)break e;c.timeoutHandle=km(om.bind(null,c,a,kt,Ra,Jr,i,Zt,Ti,ll,zn,p,2,-0,0),d);break e}om(c,a,kt,Ra,Jr,i,Zt,Ti,ll,zn,p,0,-0,0)}}break}while(!0);sn(t)}function om(t,i,a,c,d,p,T,C,E,w,V,B,b,I){if(t.timeoutHandle=-1,B=i.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(So={stylesheets:null,count:0,unsuspend:Iv},Wd(i),B=Uv(),B!==null)){t.cancelPendingCommit=B(dm.bind(null,t,i,p,a,c,d,T,C,E,V,1,b,I)),Yn(t,p,T,!w);return}dm(t,i,p,a,c,d,T,C,E)}function Qy(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!Ut(p(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yn(t,i,a,c){i&=~Yr,i&=~Ti,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var d=i;0<d;){var p=31-St(d),T=1<<p;c[p]=-1,d&=~T}a!==0&&hc(t,a,i)}function Na(){return(Ge&6)===0?(po(0),!1):!0}function Qr(){if(xe!==null){if(Be===0)var t=xe.return;else t=xe,gn=mi=null,pr(t),ji=null,io=0,t=xe;for(;t!==null;)Gd(t.alternate,t),t=t.return;xe=null}}function sl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hv(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qr(),Ze=t,xe=a=mn(t.current,null),we=i,Be=0,Gt=null,zn=!1,il=Dl(t,i),Fr=!1,ll=Zt=Yr=Ti=On=tt=0,kt=fo=null,Jr=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var d=31-St(c),p=1<<d;i|=t[d],c&=~p}return An=i,Xo(),a}function am(t,i){Ee=null,U.H=ha,i===Zl||i===oa?(i=Ef(),Be=3):i===Sf?(i=Ef(),Be=4):Be=i===Ad?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gt=i,xe===null&&(tt=1,Sa(t,Ht(i,t.current)))}function sm(){var t=U.H;return U.H=ha,t===null?ha:t}function rm(){var t=U.A;return U.A=Ky,t}function Wr(){tt=4,zn||(we&4194048)!==we&&$t.current!==null||(il=!0),(On&134217727)===0&&(Ti&134217727)===0||Ze===null||Yn(Ze,we,Zt,!1)}function jr(t,i,a){var c=Ge;Ge|=2;var d=sm(),p=rm();(Ze!==t||we!==i)&&(Ra=null,sl(t,i)),i=!1;var T=tt;e:do try{if(Be!==0&&xe!==null){var C=xe,E=Gt;switch(Be){case 8:Qr(),T=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(i=!0);var w=Be;if(Be=0,Gt=null,rl(t,C,E,w),a&&il){T=0;break e}break;default:w=Be,Be=0,Gt=null,rl(t,C,E,w)}}Wy(),T=tt;break}catch(V){am(t,V)}while(!0);return i&&t.shellSuspendCounter++,gn=mi=null,Ge=c,U.H=d,U.A=p,xe===null&&(Ze=null,we=0,Xo()),T}function Wy(){for(;xe!==null;)um(xe)}function jy(t,i){var a=Ge;Ge|=2;var c=sm(),d=rm();Ze!==t||we!==i?(Ra=null,Ma=z()+500,sl(t,i)):il=Dl(t,i);e:do try{if(Be!==0&&xe!==null){i=xe;var p=Gt;t:switch(Be){case 1:Be=0,Gt=null,rl(t,i,p,1);break;case 2:case 9:if(Cf(p)){Be=0,Gt=null,cm(i);break}i=function(){Be!==2&&Be!==9||Ze!==t||(Be=7),sn(t)},p.then(i,i);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Cf(p)?(Be=0,Gt=null,cm(i)):(Be=0,Gt=null,rl(t,i,p,7));break;case 5:var T=null;switch(xe.tag){case 26:T=xe.memoizedState;case 5:case 27:var C=xe;if(!T||Ym(T)){Be=0,Gt=null;var E=C.sibling;if(E!==null)xe=E;else{var w=C.return;w!==null?(xe=w,Da(w)):xe=null}break t}}Be=0,Gt=null,rl(t,i,p,5);break;case 6:Be=0,Gt=null,rl(t,i,p,6);break;case 8:Qr(),tt=6;break e;default:throw Error(o(462))}}ev();break}catch(V){am(t,V)}while(!0);return gn=mi=null,U.H=c,U.A=d,Ge=a,xe!==null?0:(Ze=null,we=0,Xo(),tt)}function ev(){for(;xe!==null&&!ps();)um(xe)}function um(t){var i=Vd(t.alternate,t,An);t.memoizedProps=t.pendingProps,i===null?Da(t):xe=i}function cm(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=wd(a,i,i.pendingProps,i.type,void 0,we);break;case 11:i=wd(a,i,i.pendingProps,i.type.render,i.ref,we);break;case 5:pr(i);default:Gd(a,i),i=xe=ff(i,An),i=Vd(a,i,An)}t.memoizedProps=t.pendingProps,i===null?Da(t):xe=i}function rl(t,i,a,c){gn=mi=null,pr(i),ji=null,io=0;var d=i.return;try{if(Hy(t,d,i,a,we)){tt=1,Sa(t,Ht(a,t.current)),xe=null;return}}catch(p){if(d!==null)throw xe=d,p;tt=1,Sa(t,Ht(a,t.current)),xe=null;return}i.flags&32768?(Pe||c===1?t=!0:il||(we&536870912)!==0?t=!1:(zn=t=!0,(c===2||c===9||c===3||c===6)&&(c=$t.current,c!==null&&c.tag===13&&(c.flags|=16384))),fm(i,t)):Da(i)}function Da(t){var i=t;do{if((i.flags&32768)!==0){fm(i,zn);return}t=i.return;var a=Yy(i.alternate,i,An);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);tt===0&&(tt=5)}function fm(t,i){do{var a=Jy(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);tt=6,xe=null}function dm(t,i,a,c,d,p,T,C,E){t.cancelPendingCommit=null;do wa();while(yt!==0);if((Ge&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(p=i.lanes|i.childLanes,p|=Hs,Ig(t,a,p,T,C,E),t===Ze&&(xe=Ze=null,we=0),ol=i,Fn=t,al=a,Zr=p,Kr=d,nm=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lv(se,function(){return ym(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,d=J.p,J.p=2,T=Ge,Ge|=4;try{$y(t,i,a)}finally{Ge=T,J.p=d,U.T=c}}yt=1,mm(),pm(),hm()}}function mm(){if(yt===1){yt=0;var t=Fn,i=ol,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var c=J.p;J.p=2;var d=Ge;Ge|=4;try{Kd(i,t);var p=fu,T=ef(t.containerInfo),C=p.focusedElem,E=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&jc(C.ownerDocument.documentElement,C)){if(E!==null&&Gs(C)){var w=E.start,V=E.end;if(V===void 0&&(V=w),"selectionStart"in C)C.selectionStart=w,C.selectionEnd=Math.min(V,C.value.length);else{var B=C.ownerDocument||document,b=B&&B.defaultView||window;if(b.getSelection){var I=b.getSelection(),fe=C.textContent.length,re=Math.min(E.start,fe),Fe=E.end===void 0?re:Math.min(E.end,fe);!I.extend&&re>Fe&&(T=Fe,Fe=re,re=T);var N=Wc(C,re),x=Wc(C,Fe);if(N&&x&&(I.rangeCount!==1||I.anchorNode!==N.node||I.anchorOffset!==N.offset||I.focusNode!==x.node||I.focusOffset!==x.offset)){var D=B.createRange();D.setStart(N.node,N.offset),I.removeAllRanges(),re>Fe?(I.addRange(D),I.extend(x.node,x.offset)):(D.setEnd(x.node,x.offset),I.addRange(D))}}}}for(B=[],I=C;I=I.parentNode;)I.nodeType===1&&B.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<B.length;C++){var P=B[C];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Oa=!!cu,fu=cu=null}finally{Ge=d,J.p=c,U.T=a}}t.current=i,yt=2}}function pm(){if(yt===2){yt=0;var t=Fn,i=ol,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var c=J.p;J.p=2;var d=Ge;Ge|=4;try{Yd(t,i.alternate,i)}finally{Ge=d,J.p=c,U.T=a}}yt=3}}function hm(){if(yt===4||yt===3){yt=0,Nl();var t=Fn,i=ol,a=al,c=nm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?yt=5:(yt=0,ol=Fn=null,gm(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Hn=null),ys(a),i=i.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Tt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=U.T,d=J.p,J.p=2,U.T=null;try{for(var p=t.onRecoverableError,T=0;T<c.length;T++){var C=c[T];p(C.value,{componentStack:C.stack})}}finally{U.T=i,J.p=d}}(al&3)!==0&&wa(),sn(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Xr?mo++:(mo=0,Xr=t):mo=0,po(0)}}function gm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jl(i)))}function wa(t){return mm(),pm(),hm(),ym()}function ym(){if(yt!==5)return!1;var t=Fn,i=Zr;Zr=0;var a=ys(al),c=U.T,d=J.p;try{J.p=32>a?32:a,U.T=null,a=Kr,Kr=null;var p=Fn,T=al;if(yt=0,ol=Fn=null,al=0,(Ge&6)!==0)throw Error(o(331));var C=Ge;if(Ge|=4,em(p.current),Qd(p,p.current,T,a),Ge=C,po(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Tt,p)}catch{}return!0}finally{J.p=d,U.T=c,gm(t,i)}}function vm(t,i,a){i=Ht(a,i),i=Nr(t.stateNode,i,2),t=Un(t,i,2),t!==null&&(wl(t,2),sn(t))}function Je(t,i,a){if(t.tag===3)vm(t,t,a);else for(;i!==null;){if(i.tag===3){vm(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hn===null||!Hn.has(c))){t=Ht(a,t),a=_d(2),c=Un(i,a,2),c!==null&&(Ed(a,c,i,t),wl(c,2),sn(c));break}}i=i.return}}function eu(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new Xy;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(Fr=!0,d.add(a),t=tv.bind(null,t,i,a),i.then(t,t))}function tv(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(we&a)===a&&(tt===4||tt===3&&(we&62914560)===we&&300>z()-$r?(Ge&2)===0&&sl(t,0):Yr|=a,ll===we&&(ll=0)),sn(t)}function Tm(t,i){i===0&&(i=pc()),t=Hi(t,i),t!==null&&(wl(t,i),sn(t))}function nv(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Tm(t,a)}function iv(t,i){var a=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(i),Tm(t,a)}function lv(t,i){return Ri(t,i)}var ba=null,ul=null,tu=!1,Ia=!1,nu=!1,Si=0;function sn(t){t!==ul&&t.next===null&&(ul===null?ba=ul=t:ul=ul.next=t),Ia=!0,tu||(tu=!0,av())}function po(t,i){if(!nu&&Ia){nu=!0;do for(var a=!1,c=ba;c!==null;){if(t!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var T=c.suspendedLanes,C=c.pingedLanes;p=(1<<31-St(42|t)+1)-1,p&=d&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Em(c,p))}else p=we,p=Go(c,c===Ze?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Dl(c,p)||(a=!0,Em(c,p));c=c.next}while(a);nu=!1}}function ov(){Sm()}function Sm(){Ia=tu=!1;var t=0;Si!==0&&(pv()&&(t=Si),Si=0);for(var i=z(),a=null,c=ba;c!==null;){var d=c.next,p=Cm(c,i);p===0?(c.next=null,a===null?ba=d:a.next=d,d===null&&(ul=a)):(a=c,(t!==0||(p&3)!==0)&&(Ia=!0)),c=d}po(t)}function Cm(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var T=31-St(p),C=1<<T,E=d[T];E===-1?((C&a)===0||(C&c)!==0)&&(d[T]=bg(C,i)):E<=i&&(t.expiredLanes|=C),p&=~C}if(i=Ze,a=we,a=Go(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===i&&(Be===2||Be===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Ni(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Dl(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(c!==null&&Ni(c),ys(a)){case 2:case 8:a=ce;break;case 32:a=se;break;case 268435456:a=Ne;break;default:a=se}return c=_m.bind(null,t),a=Ri(a,c),t.callbackPriority=i,t.callbackNode=a,i}return c!==null&&c!==null&&Ni(c),t.callbackPriority=2,t.callbackNode=null,2}function _m(t,i){if(yt!==0&&yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wa()&&t.callbackNode!==a)return null;var c=we;return c=Go(t,t===Ze?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(lm(t,c,i),Cm(t,z()),t.callbackNode!=null&&t.callbackNode===a?_m.bind(null,t):null)}function Em(t,i){if(wa())return null;lm(t,i,!0)}function av(){gv(function(){(Ge&6)!==0?Ri(Ce,ov):Sm()})}function iu(){return Si===0&&(Si=mc()),Si}function Am(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ho(""+t)}function xm(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function sv(t,i,a,c,d){if(i==="submit"&&a&&a.stateNode===d){var p=Am((d[Dt]||null).action),T=c.submitter;T&&(i=(i=T[Dt]||null)?Am(i.formAction):T.getAttribute("formAction"),i!==null&&(p=i,T=null));var C=new $o("action","action",null,c,d);t.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Si!==0){var E=T?xm(d,T):new FormData(d);Er(a,{pending:!0,data:E,method:d.method,action:p},null,E)}}else typeof p=="function"&&(C.preventDefault(),E=T?xm(d,T):new FormData(d),Er(a,{pending:!0,data:E,method:d.method,action:p},p,E))},currentTarget:d}]})}}for(var lu=0;lu<Os.length;lu++){var ou=Os[lu],rv=ou.toLowerCase(),uv=ou[0].toUpperCase()+ou.slice(1);jt(rv,"on"+uv)}jt(lf,"onAnimationEnd"),jt(of,"onAnimationIteration"),jt(af,"onAnimationStart"),jt("dblclick","onDoubleClick"),jt("focusin","onFocus"),jt("focusout","onBlur"),jt(My,"onTransitionRun"),jt(Ry,"onTransitionStart"),jt(Ny,"onTransitionCancel"),jt(sf,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ho));function Mm(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],d=c.event;c=c.listeners;e:{var p=void 0;if(i)for(var T=c.length-1;0<=T;T--){var C=c[T],E=C.instance,w=C.currentTarget;if(C=C.listener,E!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=w;try{p(d)}catch(V){Ta(V)}d.currentTarget=null,p=E}else for(T=0;T<c.length;T++){if(C=c[T],E=C.instance,w=C.currentTarget,C=C.listener,E!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=w;try{p(d)}catch(V){Ta(V)}d.currentTarget=null,p=E}}}}function Me(t,i){var a=i[vs];a===void 0&&(a=i[vs]=new Set);var c=t+"__bubble";a.has(c)||(Rm(i,t,2,!1),a.add(c))}function au(t,i,a){var c=0;i&&(c|=4),Rm(a,t,c,i)}var ka="_reactListening"+Math.random().toString(36).slice(2);function su(t){if(!t[ka]){t[ka]=!0,Tc.forEach(function(a){a!=="selectionchange"&&(cv.has(a)||au(a,!1,t),au(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ka]||(i[ka]=!0,au("selectionchange",!1,i))}}function Rm(t,i,a,c){switch(Qm(i)){case 2:var d=Pv;break;case 8:d=Gv;break;default:d=Cu}a=d.bind(null,i,a,t),d=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function ru(t,i,a,c,d){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var C=c.stateNode.containerInfo;if(C===d)break;if(T===4)for(T=c.return;T!==null;){var E=T.tag;if((E===3||E===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;C!==null;){if(T=wi(C),T===null)return;if(E=T.tag,E===5||E===6||E===26||E===27){c=p=T;continue e}C=C.parentNode}}c=c.return}kc(function(){var w=p,V=Rs(a),B=[];e:{var b=rf.get(t);if(b!==void 0){var I=$o,fe=t;switch(t){case"keypress":if(Yo(a)===0)break e;case"keydown":case"keyup":I=ly;break;case"focusin":fe="focus",I=ks;break;case"focusout":fe="blur",I=ks;break;case"beforeblur":case"afterblur":I=ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=sy;break;case lf:case of:case af:I=Kg;break;case sf:I=uy;break;case"scroll":case"scrollend":I=Fg;break;case"wheel":I=fy;break;case"copy":case"cut":case"paste":I=Qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Gc;break;case"toggle":case"beforetoggle":I=my}var re=(i&4)!==0,Fe=!re&&(t==="scroll"||t==="scrollend"),N=re?b!==null?b+"Capture":null:b;re=[];for(var x=w,D;x!==null;){var P=x;if(D=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||D===null||N===null||(P=kl(x,N),P!=null&&re.push(go(x,P,D))),Fe)break;x=x.return}0<re.length&&(b=new I(b,fe,null,a,V),B.push({event:b,listeners:re}))}}if((i&7)===0){e:{if(b=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",b&&a!==Ms&&(fe=a.relatedTarget||a.fromElement)&&(wi(fe)||fe[Di]))break e;if((I||b)&&(b=V.window===V?V:(b=V.ownerDocument)?b.defaultView||b.parentWindow:window,I?(fe=a.relatedTarget||a.toElement,I=w,fe=fe?wi(fe):null,fe!==null&&(Fe=f(fe),re=fe.tag,fe!==Fe||re!==5&&re!==27&&re!==6)&&(fe=null)):(I=null,fe=w),I!==fe)){if(re=Vc,P="onMouseLeave",N="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(re=Gc,P="onPointerLeave",N="onPointerEnter",x="pointer"),Fe=I==null?b:Il(I),D=fe==null?b:Il(fe),b=new re(P,x+"leave",I,a,V),b.target=Fe,b.relatedTarget=D,P=null,wi(V)===w&&(re=new re(N,x+"enter",fe,a,V),re.target=D,re.relatedTarget=Fe,P=re),Fe=P,I&&fe)t:{for(re=I,N=fe,x=0,D=re;D;D=cl(D))x++;for(D=0,P=N;P;P=cl(P))D++;for(;0<x-D;)re=cl(re),x--;for(;0<D-x;)N=cl(N),D--;for(;x--;){if(re===N||N!==null&&re===N.alternate)break t;re=cl(re),N=cl(N)}re=null}else re=null;I!==null&&Nm(B,b,I,re,!1),fe!==null&&Fe!==null&&Nm(B,Fe,fe,re,!0)}}e:{if(b=w?Il(w):window,I=b.nodeName&&b.nodeName.toLowerCase(),I==="select"||I==="input"&&b.type==="file")var Q=Jc;else if(Fc(b))if($c)Q=Ey;else{Q=Cy;var Ae=Sy}else I=b.nodeName,!I||I.toLowerCase()!=="input"||b.type!=="checkbox"&&b.type!=="radio"?w&&xs(w.elementType)&&(Q=Jc):Q=_y;if(Q&&(Q=Q(t,w))){Yc(B,Q,a,V);break e}Ae&&Ae(t,b,w),t==="focusout"&&w&&b.type==="number"&&w.memoizedProps.value!=null&&As(b,"number",b.value)}switch(Ae=w?Il(w):window,t){case"focusin":(Fc(Ae)||Ae.contentEditable==="true")&&(qi=Ae,Bs=w,zl=null);break;case"focusout":zl=Bs=qi=null;break;case"mousedown":qs=!0;break;case"contextmenu":case"mouseup":case"dragend":qs=!1,tf(B,a,V);break;case"selectionchange":if(xy)break;case"keydown":case"keyup":tf(B,a,V)}var ne;if(Ls)e:{switch(t){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Bi?Oc(t,a)&&(ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Bc&&a.locale!=="ko"&&(Bi||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Bi&&(ne=Uc()):(wn=V,ws="value"in wn?wn.value:wn.textContent,Bi=!0)),Ae=Ua(w,ue),0<Ae.length&&(ue=new Pc(ue,t,null,a,V),B.push({event:ue,listeners:Ae}),ne?ue.data=ne:(ne=Hc(a),ne!==null&&(ue.data=ne)))),(ne=hy?gy(t,a):yy(t,a))&&(ue=Ua(w,"onBeforeInput"),0<ue.length&&(Ae=new Pc("onBeforeInput","beforeinput",null,a,V),B.push({event:Ae,listeners:ue}),Ae.data=ne)),sv(B,t,w,a,V)}Mm(B,i)})}function go(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ua(t,i){for(var a=i+"Capture",c=[];t!==null;){var d=t,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=kl(t,a),d!=null&&c.unshift(go(t,d,p)),d=kl(t,i),d!=null&&c.push(go(t,d,p))),t.tag===3)return c;t=t.return}return[]}function cl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Nm(t,i,a,c,d){for(var p=i._reactName,T=[];a!==null&&a!==c;){var C=a,E=C.alternate,w=C.stateNode;if(C=C.tag,E!==null&&E===c)break;C!==5&&C!==26&&C!==27||w===null||(E=w,d?(w=kl(a,p),w!=null&&T.unshift(go(a,w,E))):d||(w=kl(a,p),w!=null&&T.push(go(a,w,E)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var fv=/\r\n?/g,dv=/\u0000|\uFFFD/g;function Dm(t){return(typeof t=="string"?t:""+t).replace(fv,`
`).replace(dv,"")}function wm(t,i){return i=Dm(i),Dm(t)===i}function La(){}function He(t,i,a,c,d,p){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Vi(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Vi(t,""+c);break;case"className":qo(t,"class",c);break;case"tabIndex":qo(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":qo(t,a,c);break;case"style":bc(t,c,p);break;case"data":if(i!=="object"){qo(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Ho(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&He(t,i,"name",d.name,d,null),He(t,i,"formEncType",d.formEncType,d,null),He(t,i,"formMethod",d.formMethod,d,null),He(t,i,"formTarget",d.formTarget,d,null)):(He(t,i,"encType",d.encType,d,null),He(t,i,"method",d.method,d,null),He(t,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Ho(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=La);break;case"onScroll":c!=null&&Me("scroll",t);break;case"onScrollEnd":c!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=Ho(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Bo(t,"popover",c);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Bo(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Og.get(a)||a,Bo(t,a,c))}}function uu(t,i,a,c,d,p){switch(a){case"style":bc(t,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof c=="string"?Vi(t,c):(typeof c=="number"||typeof c=="bigint")&&Vi(t,""+c);break;case"onScroll":c!=null&&Me("scroll",t);break;case"onScrollEnd":c!=null&&Me("scrollend",t);break;case"onClick":c!=null&&(t.onclick=La);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),p=t[Dt]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(i,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,c,d);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Bo(t,a,c)}}}function vt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var c=!1,d=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:He(t,i,p,T,a,null)}}d&&He(t,i,"srcSet",a.srcSet,a,null),c&&He(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var C=p=T=d=null,E=null,w=null;for(c in a)if(a.hasOwnProperty(c)){var V=a[c];if(V!=null)switch(c){case"name":d=V;break;case"type":T=V;break;case"checked":E=V;break;case"defaultChecked":w=V;break;case"value":p=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,i));break;default:He(t,i,c,V,a,null)}}Rc(t,p,C,E,w,T,d,!1),zo(t);return;case"select":Me("invalid",t),c=T=p=null;for(d in a)if(a.hasOwnProperty(d)&&(C=a[d],C!=null))switch(d){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":c=C;default:He(t,i,d,C,a,null)}i=p,a=T,t.multiple=!!c,i!=null?Li(t,!!c,i,!1):a!=null&&Li(t,!!c,a,!0);return;case"textarea":Me("invalid",t),p=d=c=null;for(T in a)if(a.hasOwnProperty(T)&&(C=a[T],C!=null))switch(T){case"value":c=C;break;case"defaultValue":d=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:He(t,i,T,C,a,null)}Dc(t,c,d,p),zo(t);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(c=a[E],c!=null))switch(E){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:He(t,i,E,c,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(c=0;c<ho.length;c++)Me(ho[c],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in a)if(a.hasOwnProperty(w)&&(c=a[w],c!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:He(t,i,w,c,a,null)}return;default:if(xs(i)){for(V in a)a.hasOwnProperty(V)&&(c=a[V],c!==void 0&&uu(t,i,V,c,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(c=a[C],c!=null&&He(t,i,C,c,a,null))}function mv(t,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,T=null,C=null,E=null,w=null,V=null;for(I in a){var B=a[I];if(a.hasOwnProperty(I)&&B!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":E=B;default:c.hasOwnProperty(I)||He(t,i,I,null,c,B)}}for(var b in c){var I=c[b];if(B=a[b],c.hasOwnProperty(b)&&(I!=null||B!=null))switch(b){case"type":p=I;break;case"name":d=I;break;case"checked":w=I;break;case"defaultChecked":V=I;break;case"value":T=I;break;case"defaultValue":C=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(137,i));break;default:I!==B&&He(t,i,b,I,c,B)}}Es(t,T,C,E,w,V,p,d);return;case"select":I=T=C=b=null;for(p in a)if(E=a[p],a.hasOwnProperty(p)&&E!=null)switch(p){case"value":break;case"multiple":I=E;default:c.hasOwnProperty(p)||He(t,i,p,null,c,E)}for(d in c)if(p=c[d],E=a[d],c.hasOwnProperty(d)&&(p!=null||E!=null))switch(d){case"value":b=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==E&&He(t,i,d,p,c,E)}i=C,a=T,c=I,b!=null?Li(t,!!a,b,!1):!!c!=!!a&&(i!=null?Li(t,!!a,i,!0):Li(t,!!a,a?[]:"",!1));return;case"textarea":I=b=null;for(C in a)if(d=a[C],a.hasOwnProperty(C)&&d!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:He(t,i,C,null,c,d)}for(T in c)if(d=c[T],p=a[T],c.hasOwnProperty(T)&&(d!=null||p!=null))switch(T){case"value":b=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==p&&He(t,i,T,d,c,p)}Nc(t,b,I);return;case"option":for(var fe in a)if(b=a[fe],a.hasOwnProperty(fe)&&b!=null&&!c.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:He(t,i,fe,null,c,b)}for(E in c)if(b=c[E],I=a[E],c.hasOwnProperty(E)&&b!==I&&(b!=null||I!=null))switch(E){case"selected":t.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:He(t,i,E,b,c,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)b=a[re],a.hasOwnProperty(re)&&b!=null&&!c.hasOwnProperty(re)&&He(t,i,re,null,c,b);for(w in c)if(b=c[w],I=a[w],c.hasOwnProperty(w)&&b!==I&&(b!=null||I!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(137,i));break;default:He(t,i,w,b,c,I)}return;default:if(xs(i)){for(var Fe in a)b=a[Fe],a.hasOwnProperty(Fe)&&b!==void 0&&!c.hasOwnProperty(Fe)&&uu(t,i,Fe,void 0,c,b);for(V in c)b=c[V],I=a[V],!c.hasOwnProperty(V)||b===I||b===void 0&&I===void 0||uu(t,i,V,b,c,I);return}}for(var N in a)b=a[N],a.hasOwnProperty(N)&&b!=null&&!c.hasOwnProperty(N)&&He(t,i,N,null,c,b);for(B in c)b=c[B],I=a[B],!c.hasOwnProperty(B)||b===I||b==null&&I==null||He(t,i,B,b,c,I)}var cu=null,fu=null;function Va(t){return t.nodeType===9?t:t.ownerDocument}function bm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Im(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function du(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var mu=null;function pv(){var t=window.event;return t&&t.type==="popstate"?t===mu?!1:(mu=t,!0):(mu=null,!1)}var km=typeof setTimeout=="function"?setTimeout:void 0,hv=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,gv=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(t){return Um.resolve(null).then(t).catch(yv)}:km;function yv(t){setTimeout(function(){throw t})}function Jn(t){return t==="head"}function Lm(t,i){var a=i,c=0,d=0;do{var p=a.nextSibling;if(t.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<c&&8>c){a=c;var T=t.ownerDocument;if(a&1&&yo(T.documentElement),a&2&&yo(T.body),a&4)for(a=T.head,yo(a),T=a.firstChild;T;){var C=T.nextSibling,E=T.nodeName;T[bl]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=C}}if(d===0){t.removeChild(p),xo(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:c=a.charCodeAt(0)-48;else c=0;a=p}while(a);xo(i)}function pu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pu(a),Ts(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vv(t,i,a,c){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[bl])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=tn(t.nextSibling),t===null)break}return null}function Tv(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=tn(t.nextSibling),t===null))return null;return t}function hu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Sv(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function tn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var gu=null;function Vm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Pm(t,i,a){switch(i=Va(a),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function yo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ts(t)}var Kt=new Map,Gm=new Set;function Pa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xn=J.d;J.d={f:Cv,r:_v,D:Ev,C:Av,L:xv,m:Mv,X:Nv,S:Rv,M:Dv};function Cv(){var t=xn.f(),i=Na();return t||i}function _v(t){var i=bi(t);i!==null&&i.tag===5&&i.type==="form"?ld(i):xn.r(t)}var fl=typeof document>"u"?null:document;function Bm(t,i,a){var c=fl;if(c&&typeof i=="string"&&i){var d=Ot(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Gm.has(d)||(Gm.add(d),t={rel:t,crossOrigin:a,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),vt(i,"link",t),ct(i),c.head.appendChild(i)))}}function Ev(t){xn.D(t),Bm("dns-prefetch",t,null)}function Av(t,i){xn.C(t,i),Bm("preconnect",t,i)}function xv(t,i,a){xn.L(t,i,a);var c=fl;if(c&&t&&i){var d='link[rel="preload"][as="'+Ot(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Ot(a.imageSizes)+'"]')):d+='[href="'+Ot(t)+'"]';var p=d;switch(i){case"style":p=dl(t);break;case"script":p=ml(t)}Kt.has(p)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Kt.set(p,t),c.querySelector(d)!==null||i==="style"&&c.querySelector(vo(p))||i==="script"&&c.querySelector(To(p))||(i=c.createElement("link"),vt(i,"link",t),ct(i),c.head.appendChild(i)))}}function Mv(t,i){xn.m(t,i);var a=fl;if(a&&t){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Ot(c)+'"][href="'+Ot(t)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ml(t)}if(!Kt.has(p)&&(t=v({rel:"modulepreload",href:t},i),Kt.set(p,t),a.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(To(p)))return}c=a.createElement("link"),vt(c,"link",t),ct(c),a.head.appendChild(c)}}}function Rv(t,i,a){xn.S(t,i,a);var c=fl;if(c&&t){var d=Ii(c).hoistableStyles,p=dl(t);i=i||"default";var T=d.get(p);if(!T){var C={loading:0,preload:null};if(T=c.querySelector(vo(p)))C.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Kt.get(p))&&yu(t,a);var E=T=c.createElement("link");ct(E),vt(E,"link",t),E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),E.addEventListener("load",function(){C.loading|=1}),E.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ga(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:C},d.set(p,T)}}}function Nv(t,i){xn.X(t,i);var a=fl;if(a&&t){var c=Ii(a).hoistableScripts,d=ml(t),p=c.get(d);p||(p=a.querySelector(To(d)),p||(t=v({src:t,async:!0},i),(i=Kt.get(d))&&vu(t,i),p=a.createElement("script"),ct(p),vt(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function Dv(t,i){xn.M(t,i);var a=fl;if(a&&t){var c=Ii(a).hoistableScripts,d=ml(t),p=c.get(d);p||(p=a.querySelector(To(d)),p||(t=v({src:t,async:!0,type:"module"},i),(i=Kt.get(d))&&vu(t,i),p=a.createElement("script"),ct(p),vt(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function qm(t,i,a,c){var d=(d=pe.current)?Pa(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=dl(a.href),a=Ii(d).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=dl(a.href);var p=Ii(d).hoistableStyles,T=p.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,T),(p=d.querySelector(vo(t)))&&!p._p&&(T.instance=p,T.state.loading=5),Kt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(t,a),p||wv(d,t,a,T.state))),i&&c===null)throw Error(o(528,""));return T}if(i&&c!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ml(a),a=Ii(d).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function dl(t){return'href="'+Ot(t)+'"'}function vo(t){return'link[rel="stylesheet"]['+t+"]"}function zm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function wv(t,i,a,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),vt(i,"link",a),ct(i),t.head.appendChild(i))}function ml(t){return'[src="'+Ot(t)+'"]'}function To(t){return"script[async]"+t}function Om(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(c)return i.instance=c,ct(c),c;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ct(c),vt(c,"style",d),Ga(c,a.precedence,t),i.instance=c;case"stylesheet":d=dl(a.href);var p=t.querySelector(vo(d));if(p)return i.state.loading|=4,i.instance=p,ct(p),p;c=zm(a),(d=Kt.get(d))&&yu(c,d),p=(t.ownerDocument||t).createElement("link"),ct(p);var T=p;return T._p=new Promise(function(C,E){T.onload=C,T.onerror=E}),vt(p,"link",c),i.state.loading|=4,Ga(p,a.precedence,t),i.instance=p;case"script":return p=ml(a.src),(d=t.querySelector(To(p)))?(i.instance=d,ct(d),d):(c=a,(d=Kt.get(p))&&(c=v({},a),vu(c,d)),t=t.ownerDocument||t,d=t.createElement("script"),ct(d),vt(d,"link",c),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Ga(c,a.precedence,t));return i.instance}function Ga(t,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,T=0;T<c.length;T++){var C=c[T];if(C.dataset.precedence===i)p=C;else if(p!==d)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function yu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function vu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ba=null;function Hm(t,i,a){if(Ba===null){var c=new Map,d=Ba=new Map;d.set(a,c)}else d=Ba,c=d.get(a),c||(c=new Map,d.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var p=a[d];if(!(p[bl]||p[Ct]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(i)||"";T=t+T;var C=c.get(T);C?C.push(p):c.set(T,[p])}}return c}function Fm(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function bv(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ym(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var So=null;function Iv(){}function kv(t,i,a){if(So===null)throw Error(o(475));var c=So;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=dl(a.href),p=t.querySelector(vo(d));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=qa.bind(c),t.then(c,c)),i.state.loading|=4,i.instance=p,ct(p);return}p=t.ownerDocument||t,a=zm(a),(d=Kt.get(d))&&yu(a,d),p=p.createElement("link"),ct(p);var T=p;T._p=new Promise(function(C,E){T.onload=C,T.onerror=E}),vt(p,"link",a),i.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=qa.bind(c),t.addEventListener("load",i),t.addEventListener("error",i))}}function Uv(){if(So===null)throw Error(o(475));var t=So;return t.stylesheets&&t.count===0&&Tu(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Tu(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function qa(){if(this.count--,this.count===0){if(this.stylesheets)Tu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var za=null;function Tu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,za=new Map,i.forEach(Lv,t),za=null,qa.call(t))}function Lv(t,i){if(!(i.state.loading&4)){var a=za.get(t);if(a)var c=a.get(null);else{a=new Map,za.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var T=d[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),c=T)}c&&a.set(null,c)}d=i.instance,T=d.getAttribute("data-precedence"),p=a.get(T)||c,p===c&&a.set(null,d),a.set(T,d),this.count++,c=qa.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Co={$$typeof:X,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Vv(t,i,a,c,d,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.hiddenUpdates=hs(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Jm(t,i,a,c,d,p,T,C,E,w,V,B){return t=new Vv(t,i,a,T,C,E,w,B),i=1,p===!0&&(i|=24),p=Lt(3,null,null,i),t.current=p,p.stateNode=t,i=er(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:c,isDehydrated:a,cache:i},lr(p),t}function $m(t){return t?(t=Fi,t):Fi}function Zm(t,i,a,c,d,p){d=$m(d),c.context===null?c.context=d:c.pendingContext=d,c=kn(i),c.payload={element:a},p=p===void 0?null:p,p!==null&&(c.callback=p),a=Un(t,c,i),a!==null&&(qt(a,t,i),Xl(a,t,i))}function Km(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Su(t,i){Km(t,i),(t=t.alternate)&&Km(t,i)}function Xm(t){if(t.tag===13){var i=Hi(t,67108864);i!==null&&qt(i,t,67108864),Su(t,67108864)}}var Oa=!0;function Pv(t,i,a,c){var d=U.T;U.T=null;var p=J.p;try{J.p=2,Cu(t,i,a,c)}finally{J.p=p,U.T=d}}function Gv(t,i,a,c){var d=U.T;U.T=null;var p=J.p;try{J.p=8,Cu(t,i,a,c)}finally{J.p=p,U.T=d}}function Cu(t,i,a,c){if(Oa){var d=_u(c);if(d===null)ru(t,i,c,Ha,a),Wm(t,c);else if(qv(d,t,i,a,c))c.stopPropagation();else if(Wm(t,c),i&4&&-1<Bv.indexOf(t)){for(;d!==null;){var p=bi(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=ii(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var E=1<<31-St(T);C.entanglements[1]|=E,T&=~E}sn(p),(Ge&6)===0&&(Ma=z()+500,po(0))}}break;case 13:C=Hi(p,2),C!==null&&qt(C,p,2),Na(),Su(p,2)}if(p=_u(c),p===null&&ru(t,i,c,Ha,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else ru(t,i,c,null,a)}}function _u(t){return t=Rs(t),Eu(t)}var Ha=null;function Eu(t){if(Ha=null,t=wi(t),t!==null){var i=f(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ha=t,null}function Qm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case Ce:return 2;case ce:return 8;case se:case ze:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var Au=!1,$n=null,Zn=null,Kn=null,_o=new Map,Eo=new Map,Xn=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wm(t,i){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":_o.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(i.pointerId)}}function Ao(t,i,a,c,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},i!==null&&(i=bi(i),i!==null&&Xm(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function qv(t,i,a,c,d){switch(i){case"focusin":return $n=Ao($n,t,i,a,c,d),!0;case"dragenter":return Zn=Ao(Zn,t,i,a,c,d),!0;case"mouseover":return Kn=Ao(Kn,t,i,a,c,d),!0;case"pointerover":var p=d.pointerId;return _o.set(p,Ao(_o.get(p)||null,t,i,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Eo.set(p,Ao(Eo.get(p)||null,t,i,a,c,d)),!0}return!1}function jm(t){var i=wi(t.target);if(i!==null){var a=f(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){t.blockedOn=i,kg(t.priority,function(){if(a.tag===13){var c=Bt();c=gs(c);var d=Hi(a,c);d!==null&&qt(d,a,c),Su(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fa(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=_u(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Ms=c,a.target.dispatchEvent(c),Ms=null}else return i=bi(a),i!==null&&Xm(i),t.blockedOn=a,!1;i.shift()}return!0}function ep(t,i,a){Fa(t)&&a.delete(i)}function zv(){Au=!1,$n!==null&&Fa($n)&&($n=null),Zn!==null&&Fa(Zn)&&(Zn=null),Kn!==null&&Fa(Kn)&&(Kn=null),_o.forEach(ep),Eo.forEach(ep)}function Ya(t,i){t.blockedOn===i&&(t.blockedOn=null,Au||(Au=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zv)))}var Ja=null;function tp(t){Ja!==t&&(Ja=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ja===t&&(Ja=null);for(var i=0;i<t.length;i+=3){var a=t[i],c=t[i+1],d=t[i+2];if(typeof c!="function"){if(Eu(c||a)===null)continue;break}var p=bi(a);p!==null&&(t.splice(i,3),i-=3,Er(p,{pending:!0,data:d,method:a.method,action:c},c,d))}}))}function xo(t){function i(E){return Ya(E,t)}$n!==null&&Ya($n,t),Zn!==null&&Ya(Zn,t),Kn!==null&&Ya(Kn,t),_o.forEach(i),Eo.forEach(i);for(var a=0;a<Xn.length;a++){var c=Xn[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Xn.length&&(a=Xn[0],a.blockedOn===null);)jm(a),a.blockedOn===null&&Xn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var d=a[c],p=a[c+1],T=d[Dt]||null;if(typeof p=="function")T||tp(a);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(d=p,T=p[Dt]||null)C=T.formAction;else if(Eu(d)!==null)continue}else C=T.action;typeof C=="function"?a[c+1]=C:(a.splice(c,3),c-=3),tp(a)}}}function xu(t){this._internalRoot=t}$a.prototype.render=xu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,c=Bt();Zm(a,c,t,i,null,null)},$a.prototype.unmount=xu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Zm(t.current,2,null,t,null,null),Na(),i[Di]=null}};function $a(t){this._internalRoot=t}$a.prototype.unstable_scheduleHydration=function(t){if(t){var i=yc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Xn.length&&i!==0&&i<Xn[a].priority;a++);Xn.splice(a,0,t),a===0&&jm(t)}};var np=e.version;if(np!=="19.1.0")throw Error(o(527,np,"19.1.0"));J.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(i),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var Ov={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Za.isDisabled&&Za.supportsFiber)try{Tt=Za.inject(Ov),lt=Za}catch{}}return Ro.createRoot=function(t,i){if(!r(t))throw Error(o(299));var a=!1,c="",d=vd,p=Td,T=Sd,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=Jm(t,1,!1,null,null,a,c,d,p,T,C,null),t[Di]=i.current,su(t),new xu(i)},Ro.hydrateRoot=function(t,i,a){if(!r(t))throw Error(o(299));var c=!1,d="",p=vd,T=Td,C=Sd,E=null,w=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(w=a.formState)),i=Jm(t,1,!0,i,a??null,c,d,p,T,C,E,w),i.context=$m(null),a=i.current,c=Bt(),c=gs(c),d=kn(c),d.callback=null,Un(a,d,c),a=c,i.current.lanes=a,wl(i,a),sn(i),t[Di]=i.current,su(t),new $a(i)},Ro.version="19.1.0",Ro}var dp;function jv(){if(dp)return Nu.exports;dp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nu.exports=Wv(),Nu.exports}var eT=jv();const tT=$h(eT),ic="https://hutaufvine.pythonanywhere.com/data_operations",lc="reviewHelperApiToken_v2",oc="reviewHelperGeminiApiKey_v2",nT="/kv/",mp="ReviewAssistantPro",Zh="gemini-2.5-flash",Iu=25,iT=()=>localStorage.getItem(lc),lT=n=>{localStorage.setItem(lc,n)},pp=()=>{localStorage.removeItem(lc)},oT=()=>localStorage.getItem(oc),aT=n=>{localStorage.setItem(oc,n)},sT=()=>{localStorage.removeItem(oc)},hp=(n,e,l)=>{const o="01/01/1970";if(!n)return console.warn(`[${l}] Missing ${e}. Defaulting to ${o}. Input: ${n}`),o;if(/^\d{2}\/\d{2}\/\d{4}$/.test(n)){const r=n.split("/"),f=parseInt(r[0],10),m=parseInt(r[1],10)-1,g=parseInt(r[2],10),y=new Date(g,m,f);return y.getFullYear()===g&&y.getMonth()===m&&y.getDate()===f?n:(console.warn(`[${l}] Invalid DD/MM/YYYY date for ${e}: "${n}". Defaulting to ${o}.`),o)}try{const r=new Date(n);if(isNaN(r.getTime())){if(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/.test(n)){const y=n.split("."),h=parseInt(y[0],10),v=parseInt(y[1],10)-1,S=parseInt(y[2],10),_=new Date(S,v,h);if(!isNaN(_.getTime())&&_.getFullYear()===S&&_.getMonth()===v&&_.getDate()===h){const M=String(_.getDate()).padStart(2,"0"),k=String(_.getMonth()+1).padStart(2,"0"),L=_.getFullYear();return`${M}/${k}/${L}`}}throw new Error("Invalid date object from string")}const f=String(r.getDate()).padStart(2,"0"),m=String(r.getMonth()+1).padStart(2,"0"),g=r.getFullYear();return`${f}/${m}/${g}`}catch(r){return console.warn(`[${l}] Invalid date format for ${e}: "${n}". Expected DD/MM/YYYY or parsable ISO. Defaulting to ${o}. Error: ${r.message}`),o}},Ka=n=>{const e=n.split("/");if(e.length===3){const l=parseInt(e[0],10),o=parseInt(e[1],10)-1,r=parseInt(e[2],10);return new Date(r,o,l)}return new Date(n)};async function rT(n,e,l,o){if(!e)return{status:"error",message:"API token is not set."};if(!n||typeof n!="string"||!n.startsWith("http"))return{status:"error",message:`Invalid API Base URL: ${n}`};try{const r=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,request:l,payload:o}),mode:"cors"});if(!r.ok){let f;try{f=await r.json()}catch{return{status:"error",message:`API Error: ${r.status} ${r.statusText}. Response body was not valid JSON.`}}return{status:"error",message:(f==null?void 0:f.message)||`API Error: ${r.status} ${r.statusText}`}}return await r.json()}catch(r){console.error(`API call ${l} failed:`,r);let f="An unknown network error occurred.";return r instanceof TypeError&&r.message.toLowerCase().includes("failed to fetch")?f=`Failed to fetch data from the API. This could be due to:
1. Network connectivity issues.
2. Server-side CORS misconfiguration (ensure OPTIONS preflight requests are handled for POST with Content-Type: application/json).
3. "Outgoing CORS rules" or network restrictions in the frontend's hosting environment. Check platform settings for domain whitelisting or proxy configuration.
Original error: ${r.message}`:r instanceof Error&&(f=`Network error or invalid response: ${r.message}`),{status:"error",message:f}}}const uT=n=>{try{const e=JSON.parse(n.value),l=hp(e.date,"order date from API",n.ASIN),o={ASIN:n.ASIN,name:e.name||"N/A",ordernumber:e.ordernumber||"N/A",date:l,etv:typeof e.etv=="number"?e.etv:0,keepa:typeof e.keepa=="number"?e.keepa:null,teilwert:typeof e.teilwert=="number"?e.teilwert:null,pdf:e.pdf||void 0,myTeilwert:typeof e.myTeilwert=="number"?e.myTeilwert:null,myTeilwertReason:e.myTeilwertReason||"",usageStatus:Array.isArray(e.usageStatus)?e.usageStatus.map(r=>r):[],salePrice:typeof e.salePrice=="number"?e.salePrice:null,saleDate:e.saleDate||void 0,buyerAddress:e.buyerAddress||void 0,privatentnahmeDate:e.privatentnahmeDate||void 0,last_update_time:typeof n.last_update_time=="number"?n.last_update_time:Math.floor(Date.now()/1e3),festgeschrieben:e.festgeschrieben===1?1:void 0,rechnungsNummer:e.rechnungsNummer||void 0};return o.saleDate&&!/^\d{2}\.\d{2}\.\d{4}$/.test(o.saleDate)&&console.warn(`Product ${o.ASIN} has invalid sale date format: "${o.saleDate}". Expected TT.MM.JJJJ.`),o.privatentnahmeDate&&!/^\d{2}\.\d{2}\.\d{4}$/.test(o.privatentnahmeDate)&&console.warn(`Product ${o.ASIN} has invalid privatentnahme date format: "${o.privatentnahmeDate}". Expected TT.MM.JJJJ.`),o}catch(e){return console.error(`Failed to parse product value for ASIN ${n.ASIN}:`,e.message,`Value: "${n.value}"`),{ASIN:n.ASIN,name:"Error: Corrupted Data",ordernumber:"N/A",date:hp(void 0,"corrupted data fallback",n.ASIN),etv:0,teilwert:null,usageStatus:[],last_update_time:n.last_update_time||Math.floor(Date.now()/1e3)}}},cT=async(n,e=ic)=>{const l=await rT(e,n,"get_all");if(l.status==="success"&&l.data)try{return Array.isArray(l.data)?{status:"success",data:l.data.map(r=>!r||typeof r.ASIN!="string"||typeof r.value!="string"?(console.warn("Skipping invalid API entry:",r),null):uT(r)).filter(r=>r!==null)}:(console.error("API get_all did not return an array in 'data' field:",l.data),{status:"error",message:"Invalid data structure received from server (expected array)."})}catch(o){return console.error("Error parsing product data from server:",o),{status:"error",message:o.message||"Failed to parse one or more product data entries from server."}}return l};var Ue;(function(n){n.assertEqual=r=>{};function e(r){}n.assertIs=e;function l(r){throw new Error}n.assertNever=l,n.arrayToEnum=r=>{const f={};for(const m of r)f[m]=m;return f},n.getValidEnumValues=r=>{const f=n.objectKeys(r).filter(g=>typeof r[r[g]]!="number"),m={};for(const g of f)m[g]=r[g];return n.objectValues(m)},n.objectValues=r=>n.objectKeys(r).map(function(f){return r[f]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const f=[];for(const m in r)Object.prototype.hasOwnProperty.call(r,m)&&f.push(m);return f},n.find=(r,f)=>{for(const m of r)if(f(m))return m},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function o(r,f=" | "){return r.map(m=>typeof m=="string"?`'${m}'`:m).join(f)}n.joinValues=o,n.jsonStringifyReplacer=(r,f)=>typeof f=="bigint"?f.toString():f})(Ue||(Ue={}));var gp;(function(n){n.mergeShapes=(e,l)=>({...e,...l})})(gp||(gp={}));const W=Ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wn=n=>{switch(typeof n){case"undefined":return W.undefined;case"string":return W.string;case"number":return Number.isNaN(n)?W.nan:W.number;case"boolean":return W.boolean;case"function":return W.function;case"bigint":return W.bigint;case"symbol":return W.symbol;case"object":return Array.isArray(n)?W.array:n===null?W.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?W.promise:typeof Map<"u"&&n instanceof Map?W.map:typeof Set<"u"&&n instanceof Set?W.set:typeof Date<"u"&&n instanceof Date?W.date:W.object;default:return W.unknown}},O=Ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Mn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const l=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,l):this.__proto__=l,this.name="ZodError",this.issues=e}format(e){const l=e||function(f){return f.message},o={_errors:[]},r=f=>{for(const m of f.issues)if(m.code==="invalid_union")m.unionErrors.map(r);else if(m.code==="invalid_return_type")r(m.returnTypeError);else if(m.code==="invalid_arguments")r(m.argumentsError);else if(m.path.length===0)o._errors.push(l(m));else{let g=o,y=0;for(;y<m.path.length;){const h=m.path[y];y===m.path.length-1?(g[h]=g[h]||{_errors:[]},g[h]._errors.push(l(m))):g[h]=g[h]||{_errors:[]},g=g[h],y++}}};return r(this),o}static assert(e){if(!(e instanceof Mn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=l=>l.message){const l={},o=[];for(const r of this.issues)r.path.length>0?(l[r.path[0]]=l[r.path[0]]||[],l[r.path[0]].push(e(r))):o.push(e(r));return{formErrors:o,fieldErrors:l}}get formErrors(){return this.flatten()}}Mn.create=n=>new Mn(n);const Vu=(n,e)=>{let l;switch(n.code){case O.invalid_type:n.received===W.undefined?l="Required":l=`Expected ${n.expected}, received ${n.received}`;break;case O.invalid_literal:l=`Invalid literal value, expected ${JSON.stringify(n.expected,Ue.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:l=`Unrecognized key(s) in object: ${Ue.joinValues(n.keys,", ")}`;break;case O.invalid_union:l="Invalid input";break;case O.invalid_union_discriminator:l=`Invalid discriminator value. Expected ${Ue.joinValues(n.options)}`;break;case O.invalid_enum_value:l=`Invalid enum value. Expected ${Ue.joinValues(n.options)}, received '${n.received}'`;break;case O.invalid_arguments:l="Invalid function arguments";break;case O.invalid_return_type:l="Invalid function return type";break;case O.invalid_date:l="Invalid date";break;case O.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(l=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(l=`${l} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?l=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?l=`Invalid input: must end with "${n.validation.endsWith}"`:Ue.assertNever(n.validation):n.validation!=="regex"?l=`Invalid ${n.validation}`:l="Invalid";break;case O.too_small:n.type==="array"?l=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?l=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?l=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?l=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:l="Invalid input";break;case O.too_big:n.type==="array"?l=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?l=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?l=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?l=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?l=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:l="Invalid input";break;case O.custom:l="Invalid input";break;case O.invalid_intersection_types:l="Intersection results could not be merged";break;case O.not_multiple_of:l=`Number must be a multiple of ${n.multipleOf}`;break;case O.not_finite:l="Number must be finite";break;default:l=e.defaultError,Ue.assertNever(n)}return{message:l}};let fT=Vu;function dT(){return fT}const mT=n=>{const{data:e,path:l,errorMaps:o,issueData:r}=n,f=[...l,...r.path||[]],m={...r,path:f};if(r.message!==void 0)return{...r,path:f,message:r.message};let g="";const y=o.filter(h=>!!h).slice().reverse();for(const h of y)g=h(m,{data:e,defaultError:g}).message;return{...r,path:f,message:g}};function Z(n,e){const l=dT(),o=mT({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,l,l===Vu?void 0:Vu].filter(r=>!!r)});n.common.issues.push(o)}class Nt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,l){const o=[];for(const r of l){if(r.status==="aborted")return ye;r.status==="dirty"&&e.dirty(),o.push(r.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,l){const o=[];for(const r of l){const f=await r.key,m=await r.value;o.push({key:f,value:m})}return Nt.mergeObjectSync(e,o)}static mergeObjectSync(e,l){const o={};for(const r of l){const{key:f,value:m}=r;if(f.status==="aborted"||m.status==="aborted")return ye;f.status==="dirty"&&e.dirty(),m.status==="dirty"&&e.dirty(),f.value!=="__proto__"&&(typeof m.value<"u"||r.alwaysSet)&&(o[f.value]=m.value)}return{status:e.value,value:o}}}const ye=Object.freeze({status:"aborted"}),Do=n=>({status:"dirty",value:n}),Qt=n=>({status:"valid",value:n}),yp=n=>n.status==="aborted",vp=n=>n.status==="dirty",Tl=n=>n.status==="valid",ts=n=>typeof Promise<"u"&&n instanceof Promise;var ee;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ee||(ee={}));class cn{constructor(e,l,o,r){this._cachedPath=[],this.parent=e,this.data=l,this._path=o,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Tp=(n,e)=>{if(Tl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const l=new Mn(n.common.issues);return this._error=l,this._error}}};function _e(n){if(!n)return{};const{errorMap:e,invalid_type_error:l,required_error:o,description:r}=n;if(e&&(l||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(m,g)=>{const{message:y}=n;return m.code==="invalid_enum_value"?{message:y??g.defaultError}:typeof g.data>"u"?{message:y??o??g.defaultError}:m.code!=="invalid_type"?{message:g.defaultError}:{message:y??l??g.defaultError}},description:r}}class De{get description(){return this._def.description}_getType(e){return Wn(e.data)}_getOrReturnCtx(e,l){return l||{common:e.parent.common,data:e.data,parsedType:Wn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Nt,ctx:{common:e.parent.common,data:e.data,parsedType:Wn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const l=this._parse(e);if(ts(l))throw new Error("Synchronous parse encountered promise.");return l}_parseAsync(e){const l=this._parse(e);return Promise.resolve(l)}parse(e,l){const o=this.safeParse(e,l);if(o.success)return o.data;throw o.error}safeParse(e,l){const o={common:{issues:[],async:(l==null?void 0:l.async)??!1,contextualErrorMap:l==null?void 0:l.errorMap},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wn(e)},r=this._parseSync({data:e,path:o.path,parent:o});return Tp(o,r)}"~validate"(e){var o,r;const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wn(e)};if(!this["~standard"].async)try{const f=this._parseSync({data:e,path:[],parent:l});return Tl(f)?{value:f.value}:{issues:l.common.issues}}catch(f){(r=(o=f==null?void 0:f.message)==null?void 0:o.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:l}).then(f=>Tl(f)?{value:f.value}:{issues:l.common.issues})}async parseAsync(e,l){const o=await this.safeParseAsync(e,l);if(o.success)return o.data;throw o.error}async safeParseAsync(e,l){const o={common:{issues:[],contextualErrorMap:l==null?void 0:l.errorMap,async:!0},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wn(e)},r=this._parse({data:e,path:o.path,parent:o}),f=await(ts(r)?r:Promise.resolve(r));return Tp(o,f)}refine(e,l){const o=r=>typeof l=="string"||typeof l>"u"?{message:l}:typeof l=="function"?l(r):l;return this._refinement((r,f)=>{const m=e(r),g=()=>f.addIssue({code:O.custom,...o(r)});return typeof Promise<"u"&&m instanceof Promise?m.then(y=>y?!0:(g(),!1)):m?!0:(g(),!1)})}refinement(e,l){return this._refinement((o,r)=>e(o)?!0:(r.addIssue(typeof l=="function"?l(o,r):l),!1))}_refinement(e){return new _l({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:l=>this["~validate"](l)}}optional(){return jn.create(this,this._def)}nullable(){return El.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return un.create(this)}promise(){return as.create(this,this._def)}or(e){return is.create([this,e],this._def)}and(e){return ls.create(this,e,this._def)}transform(e){return new _l({..._e(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const l=typeof e=="function"?e:()=>e;return new qu({..._e(this._def),innerType:this,defaultValue:l,typeName:he.ZodDefault})}brand(){return new VT({typeName:he.ZodBranded,type:this,..._e(this._def)})}catch(e){const l=typeof e=="function"?e:()=>e;return new zu({..._e(this._def),innerType:this,catchValue:l,typeName:he.ZodCatch})}describe(e){const l=this.constructor;return new l({...this._def,description:e})}pipe(e){return ac.create(this,e)}readonly(){return Ou.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pT=/^c[^\s-]{8,}$/i,hT=/^[0-9a-z]+$/,gT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vT=/^[a-z0-9_-]{21}$/i,TT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ST=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,CT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_T="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ku;const ET=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,AT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,xT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,MT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Kh="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",DT=new RegExp(`^${Kh}$`);function Xh(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const l=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${l}`}function wT(n){return new RegExp(`^${Xh(n)}$`)}function bT(n){let e=`${Kh}T${Xh(n)}`;const l=[];return l.push(n.local?"Z?":"Z"),n.offset&&l.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${l.join("|")})`,new RegExp(`^${e}$`)}function IT(n,e){return!!((e==="v4"||!e)&&ET.test(n)||(e==="v6"||!e)&&xT.test(n))}function kT(n,e){if(!TT.test(n))return!1;try{const[l]=n.split("."),o=l.replace(/-/g,"+").replace(/_/g,"/").padEnd(l.length+(4-l.length%4)%4,"="),r=JSON.parse(atob(o));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function UT(n,e){return!!((e==="v4"||!e)&&AT.test(n)||(e==="v6"||!e)&&MT.test(n))}class rn extends De{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==W.string){const f=this._getOrReturnCtx(e);return Z(f,{code:O.invalid_type,expected:W.string,received:f.parsedType}),ye}const o=new Nt;let r;for(const f of this._def.checks)if(f.kind==="min")e.data.length<f.value&&(r=this._getOrReturnCtx(e,r),Z(r,{code:O.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),o.dirty());else if(f.kind==="max")e.data.length>f.value&&(r=this._getOrReturnCtx(e,r),Z(r,{code:O.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),o.dirty());else if(f.kind==="length"){const m=e.data.length>f.value,g=e.data.length<f.value;(m||g)&&(r=this._getOrReturnCtx(e,r),m?Z(r,{code:O.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):g&&Z(r,{code:O.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),o.dirty())}else if(f.kind==="email")CT.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"email",code:O.invalid_string,message:f.message}),o.dirty());else if(f.kind==="emoji")ku||(ku=new RegExp(_T,"u")),ku.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"emoji",code:O.invalid_string,message:f.message}),o.dirty());else if(f.kind==="uuid")yT.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"uuid",code:O.invalid_string,message:f.message}),o.dirty());else if(f.kind==="nanoid")vT.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"nanoid",code:O.invalid_string,message:f.message}),o.dirty());else if(f.kind==="cuid")pT.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"cuid",code:O.invalid_string,message:f.message}),o.dirty());else if(f.kind==="cuid2")hT.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"cuid2",code:O.invalid_string,message:f.message}),o.dirty());else if(f.kind==="ulid")gT.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"ulid",code:O.invalid_string,message:f.message}),o.dirty());else if(f.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),Z(r,{validation:"url",code:O.invalid_string,message:f.message}),o.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"regex",code:O.invalid_string,message:f.message}),o.dirty())):f.kind==="trim"?e.data=e.data.trim():f.kind==="includes"?e.data.includes(f.value,f.position)||(r=this._getOrReturnCtx(e,r),Z(r,{code:O.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),o.dirty()):f.kind==="toLowerCase"?e.data=e.data.toLowerCase():f.kind==="toUpperCase"?e.data=e.data.toUpperCase():f.kind==="startsWith"?e.data.startsWith(f.value)||(r=this._getOrReturnCtx(e,r),Z(r,{code:O.invalid_string,validation:{startsWith:f.value},message:f.message}),o.dirty()):f.kind==="endsWith"?e.data.endsWith(f.value)||(r=this._getOrReturnCtx(e,r),Z(r,{code:O.invalid_string,validation:{endsWith:f.value},message:f.message}),o.dirty()):f.kind==="datetime"?bT(f).test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:O.invalid_string,validation:"datetime",message:f.message}),o.dirty()):f.kind==="date"?DT.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:O.invalid_string,validation:"date",message:f.message}),o.dirty()):f.kind==="time"?wT(f).test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:O.invalid_string,validation:"time",message:f.message}),o.dirty()):f.kind==="duration"?ST.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"duration",code:O.invalid_string,message:f.message}),o.dirty()):f.kind==="ip"?IT(e.data,f.version)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"ip",code:O.invalid_string,message:f.message}),o.dirty()):f.kind==="jwt"?kT(e.data,f.alg)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"jwt",code:O.invalid_string,message:f.message}),o.dirty()):f.kind==="cidr"?UT(e.data,f.version)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"cidr",code:O.invalid_string,message:f.message}),o.dirty()):f.kind==="base64"?RT.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"base64",code:O.invalid_string,message:f.message}),o.dirty()):f.kind==="base64url"?NT.test(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{validation:"base64url",code:O.invalid_string,message:f.message}),o.dirty()):Ue.assertNever(f);return{status:o.value,value:e.data}}_regex(e,l,o){return this.refinement(r=>e.test(r),{validation:l,code:O.invalid_string,...ee.errToObj(o)})}_addCheck(e){return new rn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ee.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ee.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ee.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ee.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ee.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ee.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ee.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ee.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ee.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ee.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ee.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ee.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ee.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ee.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ee.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ee.errToObj(e)})}regex(e,l){return this._addCheck({kind:"regex",regex:e,...ee.errToObj(l)})}includes(e,l){return this._addCheck({kind:"includes",value:e,position:l==null?void 0:l.position,...ee.errToObj(l==null?void 0:l.message)})}startsWith(e,l){return this._addCheck({kind:"startsWith",value:e,...ee.errToObj(l)})}endsWith(e,l){return this._addCheck({kind:"endsWith",value:e,...ee.errToObj(l)})}min(e,l){return this._addCheck({kind:"min",value:e,...ee.errToObj(l)})}max(e,l){return this._addCheck({kind:"max",value:e,...ee.errToObj(l)})}length(e,l){return this._addCheck({kind:"length",value:e,...ee.errToObj(l)})}nonempty(e){return this.min(1,ee.errToObj(e))}trim(){return new rn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxLength(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}rn.create=n=>new rn({checks:[],typeName:he.ZodString,coerce:(n==null?void 0:n.coerce)??!1,..._e(n)});function LT(n,e){const l=(n.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,r=l>o?l:o,f=Number.parseInt(n.toFixed(r).replace(".","")),m=Number.parseInt(e.toFixed(r).replace(".",""));return f%m/10**r}class _i extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==W.number){const f=this._getOrReturnCtx(e);return Z(f,{code:O.invalid_type,expected:W.number,received:f.parsedType}),ye}let o;const r=new Nt;for(const f of this._def.checks)f.kind==="int"?Ue.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),Z(o,{code:O.invalid_type,expected:"integer",received:"float",message:f.message}),r.dirty()):f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(o=this._getOrReturnCtx(e,o),Z(o,{code:O.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),r.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(o=this._getOrReturnCtx(e,o),Z(o,{code:O.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),r.dirty()):f.kind==="multipleOf"?LT(e.data,f.value)!==0&&(o=this._getOrReturnCtx(e,o),Z(o,{code:O.not_multiple_of,multipleOf:f.value,message:f.message}),r.dirty()):f.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),Z(o,{code:O.not_finite,message:f.message}),r.dirty()):Ue.assertNever(f);return{status:r.value,value:e.data}}gte(e,l){return this.setLimit("min",e,!0,ee.toString(l))}gt(e,l){return this.setLimit("min",e,!1,ee.toString(l))}lte(e,l){return this.setLimit("max",e,!0,ee.toString(l))}lt(e,l){return this.setLimit("max",e,!1,ee.toString(l))}setLimit(e,l,o,r){return new _i({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:o,message:ee.toString(r)}]})}_addCheck(e){return new _i({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ee.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:ee.toString(l)})}finite(e){return this._addCheck({kind:"finite",message:ee.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(e)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ue.isInteger(e.value))}get isFinite(){let e=null,l=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(l===null||o.value>l)&&(l=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(l)&&Number.isFinite(e)}}_i.create=n=>new _i({checks:[],typeName:he.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,..._e(n)});class Ei extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==W.bigint)return this._getInvalidInput(e);let o;const r=new Nt;for(const f of this._def.checks)f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(o=this._getOrReturnCtx(e,o),Z(o,{code:O.too_small,type:"bigint",minimum:f.value,inclusive:f.inclusive,message:f.message}),r.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(o=this._getOrReturnCtx(e,o),Z(o,{code:O.too_big,type:"bigint",maximum:f.value,inclusive:f.inclusive,message:f.message}),r.dirty()):f.kind==="multipleOf"?e.data%f.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),Z(o,{code:O.not_multiple_of,multipleOf:f.value,message:f.message}),r.dirty()):Ue.assertNever(f);return{status:r.value,value:e.data}}_getInvalidInput(e){const l=this._getOrReturnCtx(e);return Z(l,{code:O.invalid_type,expected:W.bigint,received:l.parsedType}),ye}gte(e,l){return this.setLimit("min",e,!0,ee.toString(l))}gt(e,l){return this.setLimit("min",e,!1,ee.toString(l))}lte(e,l){return this.setLimit("max",e,!0,ee.toString(l))}lt(e,l){return this.setLimit("max",e,!1,ee.toString(l))}setLimit(e,l,o,r){return new Ei({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:o,message:ee.toString(r)}]})}_addCheck(e){return new Ei({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:ee.toString(l)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}Ei.create=n=>new Ei({checks:[],typeName:he.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,..._e(n)});class ns extends De{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==W.boolean){const o=this._getOrReturnCtx(e);return Z(o,{code:O.invalid_type,expected:W.boolean,received:o.parsedType}),ye}return Qt(e.data)}}ns.create=n=>new ns({typeName:he.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,..._e(n)});class Sl extends De{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==W.date){const f=this._getOrReturnCtx(e);return Z(f,{code:O.invalid_type,expected:W.date,received:f.parsedType}),ye}if(Number.isNaN(e.data.getTime())){const f=this._getOrReturnCtx(e);return Z(f,{code:O.invalid_date}),ye}const o=new Nt;let r;for(const f of this._def.checks)f.kind==="min"?e.data.getTime()<f.value&&(r=this._getOrReturnCtx(e,r),Z(r,{code:O.too_small,message:f.message,inclusive:!0,exact:!1,minimum:f.value,type:"date"}),o.dirty()):f.kind==="max"?e.data.getTime()>f.value&&(r=this._getOrReturnCtx(e,r),Z(r,{code:O.too_big,message:f.message,inclusive:!0,exact:!1,maximum:f.value,type:"date"}),o.dirty()):Ue.assertNever(f);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Sl({...this._def,checks:[...this._def.checks,e]})}min(e,l){return this._addCheck({kind:"min",value:e.getTime(),message:ee.toString(l)})}max(e,l){return this._addCheck({kind:"max",value:e.getTime(),message:ee.toString(l)})}get minDate(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e!=null?new Date(e):null}}Sl.create=n=>new Sl({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:he.ZodDate,..._e(n)});class Sp extends De{_parse(e){if(this._getType(e)!==W.symbol){const o=this._getOrReturnCtx(e);return Z(o,{code:O.invalid_type,expected:W.symbol,received:o.parsedType}),ye}return Qt(e.data)}}Sp.create=n=>new Sp({typeName:he.ZodSymbol,..._e(n)});class Cp extends De{_parse(e){if(this._getType(e)!==W.undefined){const o=this._getOrReturnCtx(e);return Z(o,{code:O.invalid_type,expected:W.undefined,received:o.parsedType}),ye}return Qt(e.data)}}Cp.create=n=>new Cp({typeName:he.ZodUndefined,..._e(n)});class _p extends De{_parse(e){if(this._getType(e)!==W.null){const o=this._getOrReturnCtx(e);return Z(o,{code:O.invalid_type,expected:W.null,received:o.parsedType}),ye}return Qt(e.data)}}_p.create=n=>new _p({typeName:he.ZodNull,..._e(n)});class Ep extends De{constructor(){super(...arguments),this._any=!0}_parse(e){return Qt(e.data)}}Ep.create=n=>new Ep({typeName:he.ZodAny,..._e(n)});class Pu extends De{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Qt(e.data)}}Pu.create=n=>new Pu({typeName:he.ZodUnknown,..._e(n)});class ei extends De{_parse(e){const l=this._getOrReturnCtx(e);return Z(l,{code:O.invalid_type,expected:W.never,received:l.parsedType}),ye}}ei.create=n=>new ei({typeName:he.ZodNever,..._e(n)});class Ap extends De{_parse(e){if(this._getType(e)!==W.undefined){const o=this._getOrReturnCtx(e);return Z(o,{code:O.invalid_type,expected:W.void,received:o.parsedType}),ye}return Qt(e.data)}}Ap.create=n=>new Ap({typeName:he.ZodVoid,..._e(n)});class un extends De{_parse(e){const{ctx:l,status:o}=this._processInputParams(e),r=this._def;if(l.parsedType!==W.array)return Z(l,{code:O.invalid_type,expected:W.array,received:l.parsedType}),ye;if(r.exactLength!==null){const m=l.data.length>r.exactLength.value,g=l.data.length<r.exactLength.value;(m||g)&&(Z(l,{code:m?O.too_big:O.too_small,minimum:g?r.exactLength.value:void 0,maximum:m?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),o.dirty())}if(r.minLength!==null&&l.data.length<r.minLength.value&&(Z(l,{code:O.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),o.dirty()),r.maxLength!==null&&l.data.length>r.maxLength.value&&(Z(l,{code:O.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),o.dirty()),l.common.async)return Promise.all([...l.data].map((m,g)=>r.type._parseAsync(new cn(l,m,l.path,g)))).then(m=>Nt.mergeArray(o,m));const f=[...l.data].map((m,g)=>r.type._parseSync(new cn(l,m,l.path,g)));return Nt.mergeArray(o,f)}get element(){return this._def.type}min(e,l){return new un({...this._def,minLength:{value:e,message:ee.toString(l)}})}max(e,l){return new un({...this._def,maxLength:{value:e,message:ee.toString(l)}})}length(e,l){return new un({...this._def,exactLength:{value:e,message:ee.toString(l)}})}nonempty(e){return this.min(1,e)}}un.create=(n,e)=>new un({type:n,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,..._e(e)});function hl(n){if(n instanceof st){const e={};for(const l in n.shape){const o=n.shape[l];e[l]=jn.create(hl(o))}return new st({...n._def,shape:()=>e})}else return n instanceof un?new un({...n._def,type:hl(n.element)}):n instanceof jn?jn.create(hl(n.unwrap())):n instanceof El?El.create(hl(n.unwrap())):n instanceof Ai?Ai.create(n.items.map(e=>hl(e))):n}class st extends De{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),l=Ue.objectKeys(e);return this._cached={shape:e,keys:l},this._cached}_parse(e){if(this._getType(e)!==W.object){const h=this._getOrReturnCtx(e);return Z(h,{code:O.invalid_type,expected:W.object,received:h.parsedType}),ye}const{status:o,ctx:r}=this._processInputParams(e),{shape:f,keys:m}=this._getCached(),g=[];if(!(this._def.catchall instanceof ei&&this._def.unknownKeys==="strip"))for(const h in r.data)m.includes(h)||g.push(h);const y=[];for(const h of m){const v=f[h],S=r.data[h];y.push({key:{status:"valid",value:h},value:v._parse(new cn(r,S,r.path,h)),alwaysSet:h in r.data})}if(this._def.catchall instanceof ei){const h=this._def.unknownKeys;if(h==="passthrough")for(const v of g)y.push({key:{status:"valid",value:v},value:{status:"valid",value:r.data[v]}});else if(h==="strict")g.length>0&&(Z(r,{code:O.unrecognized_keys,keys:g}),o.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const v of g){const S=r.data[v];y.push({key:{status:"valid",value:v},value:h._parse(new cn(r,S,r.path,v)),alwaysSet:v in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const h=[];for(const v of y){const S=await v.key,_=await v.value;h.push({key:S,value:_,alwaysSet:v.alwaysSet})}return h}).then(h=>Nt.mergeObjectSync(o,h)):Nt.mergeObjectSync(o,y)}get shape(){return this._def.shape()}strict(e){return ee.errToObj,new st({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(l,o)=>{var f,m;const r=((m=(f=this._def).errorMap)==null?void 0:m.call(f,l,o).message)??o.defaultError;return l.code==="unrecognized_keys"?{message:ee.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new st({...this._def,unknownKeys:"strip"})}passthrough(){return new st({...this._def,unknownKeys:"passthrough"})}extend(e){return new st({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new st({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,l){return this.augment({[e]:l})}catchall(e){return new st({...this._def,catchall:e})}pick(e){const l={};for(const o of Ue.objectKeys(e))e[o]&&this.shape[o]&&(l[o]=this.shape[o]);return new st({...this._def,shape:()=>l})}omit(e){const l={};for(const o of Ue.objectKeys(this.shape))e[o]||(l[o]=this.shape[o]);return new st({...this._def,shape:()=>l})}deepPartial(){return hl(this)}partial(e){const l={};for(const o of Ue.objectKeys(this.shape)){const r=this.shape[o];e&&!e[o]?l[o]=r:l[o]=r.optional()}return new st({...this._def,shape:()=>l})}required(e){const l={};for(const o of Ue.objectKeys(this.shape))if(e&&!e[o])l[o]=this.shape[o];else{let f=this.shape[o];for(;f instanceof jn;)f=f._def.innerType;l[o]=f}return new st({...this._def,shape:()=>l})}keyof(){return Qh(Ue.objectKeys(this.shape))}}st.create=(n,e)=>new st({shape:()=>n,unknownKeys:"strip",catchall:ei.create(),typeName:he.ZodObject,..._e(e)});st.strictCreate=(n,e)=>new st({shape:()=>n,unknownKeys:"strict",catchall:ei.create(),typeName:he.ZodObject,..._e(e)});st.lazycreate=(n,e)=>new st({shape:n,unknownKeys:"strip",catchall:ei.create(),typeName:he.ZodObject,..._e(e)});class is extends De{_parse(e){const{ctx:l}=this._processInputParams(e),o=this._def.options;function r(f){for(const g of f)if(g.result.status==="valid")return g.result;for(const g of f)if(g.result.status==="dirty")return l.common.issues.push(...g.ctx.common.issues),g.result;const m=f.map(g=>new Mn(g.ctx.common.issues));return Z(l,{code:O.invalid_union,unionErrors:m}),ye}if(l.common.async)return Promise.all(o.map(async f=>{const m={...l,common:{...l.common,issues:[]},parent:null};return{result:await f._parseAsync({data:l.data,path:l.path,parent:m}),ctx:m}})).then(r);{let f;const m=[];for(const y of o){const h={...l,common:{...l.common,issues:[]},parent:null},v=y._parseSync({data:l.data,path:l.path,parent:h});if(v.status==="valid")return v;v.status==="dirty"&&!f&&(f={result:v,ctx:h}),h.common.issues.length&&m.push(h.common.issues)}if(f)return l.common.issues.push(...f.ctx.common.issues),f.result;const g=m.map(y=>new Mn(y));return Z(l,{code:O.invalid_union,unionErrors:g}),ye}}get options(){return this._def.options}}is.create=(n,e)=>new is({options:n,typeName:he.ZodUnion,..._e(e)});function Gu(n,e){const l=Wn(n),o=Wn(e);if(n===e)return{valid:!0,data:n};if(l===W.object&&o===W.object){const r=Ue.objectKeys(e),f=Ue.objectKeys(n).filter(g=>r.indexOf(g)!==-1),m={...n,...e};for(const g of f){const y=Gu(n[g],e[g]);if(!y.valid)return{valid:!1};m[g]=y.data}return{valid:!0,data:m}}else if(l===W.array&&o===W.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let f=0;f<n.length;f++){const m=n[f],g=e[f],y=Gu(m,g);if(!y.valid)return{valid:!1};r.push(y.data)}return{valid:!0,data:r}}else return l===W.date&&o===W.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class ls extends De{_parse(e){const{status:l,ctx:o}=this._processInputParams(e),r=(f,m)=>{if(yp(f)||yp(m))return ye;const g=Gu(f.value,m.value);return g.valid?((vp(f)||vp(m))&&l.dirty(),{status:l.value,value:g.data}):(Z(o,{code:O.invalid_intersection_types}),ye)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([f,m])=>r(f,m)):r(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}ls.create=(n,e,l)=>new ls({left:n,right:e,typeName:he.ZodIntersection,..._e(l)});class Ai extends De{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==W.array)return Z(o,{code:O.invalid_type,expected:W.array,received:o.parsedType}),ye;if(o.data.length<this._def.items.length)return Z(o,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ye;!this._def.rest&&o.data.length>this._def.items.length&&(Z(o,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),l.dirty());const f=[...o.data].map((m,g)=>{const y=this._def.items[g]||this._def.rest;return y?y._parse(new cn(o,m,o.path,g)):null}).filter(m=>!!m);return o.common.async?Promise.all(f).then(m=>Nt.mergeArray(l,m)):Nt.mergeArray(l,f)}get items(){return this._def.items}rest(e){return new Ai({...this._def,rest:e})}}Ai.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ai({items:n,typeName:he.ZodTuple,rest:null,..._e(e)})};class os extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==W.object)return Z(o,{code:O.invalid_type,expected:W.object,received:o.parsedType}),ye;const r=[],f=this._def.keyType,m=this._def.valueType;for(const g in o.data)r.push({key:f._parse(new cn(o,g,o.path,g)),value:m._parse(new cn(o,o.data[g],o.path,g)),alwaysSet:g in o.data});return o.common.async?Nt.mergeObjectAsync(l,r):Nt.mergeObjectSync(l,r)}get element(){return this._def.valueType}static create(e,l,o){return l instanceof De?new os({keyType:e,valueType:l,typeName:he.ZodRecord,..._e(o)}):new os({keyType:rn.create(),valueType:e,typeName:he.ZodRecord,..._e(l)})}}class xp extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==W.map)return Z(o,{code:O.invalid_type,expected:W.map,received:o.parsedType}),ye;const r=this._def.keyType,f=this._def.valueType,m=[...o.data.entries()].map(([g,y],h)=>({key:r._parse(new cn(o,g,o.path,[h,"key"])),value:f._parse(new cn(o,y,o.path,[h,"value"]))}));if(o.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const y of m){const h=await y.key,v=await y.value;if(h.status==="aborted"||v.status==="aborted")return ye;(h.status==="dirty"||v.status==="dirty")&&l.dirty(),g.set(h.value,v.value)}return{status:l.value,value:g}})}else{const g=new Map;for(const y of m){const h=y.key,v=y.value;if(h.status==="aborted"||v.status==="aborted")return ye;(h.status==="dirty"||v.status==="dirty")&&l.dirty(),g.set(h.value,v.value)}return{status:l.value,value:g}}}}xp.create=(n,e,l)=>new xp({valueType:e,keyType:n,typeName:he.ZodMap,..._e(l)});class Io extends De{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==W.set)return Z(o,{code:O.invalid_type,expected:W.set,received:o.parsedType}),ye;const r=this._def;r.minSize!==null&&o.data.size<r.minSize.value&&(Z(o,{code:O.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),l.dirty()),r.maxSize!==null&&o.data.size>r.maxSize.value&&(Z(o,{code:O.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),l.dirty());const f=this._def.valueType;function m(y){const h=new Set;for(const v of y){if(v.status==="aborted")return ye;v.status==="dirty"&&l.dirty(),h.add(v.value)}return{status:l.value,value:h}}const g=[...o.data.values()].map((y,h)=>f._parse(new cn(o,y,o.path,h)));return o.common.async?Promise.all(g).then(y=>m(y)):m(g)}min(e,l){return new Io({...this._def,minSize:{value:e,message:ee.toString(l)}})}max(e,l){return new Io({...this._def,maxSize:{value:e,message:ee.toString(l)}})}size(e,l){return this.min(e,l).max(e,l)}nonempty(e){return this.min(1,e)}}Io.create=(n,e)=>new Io({valueType:n,minSize:null,maxSize:null,typeName:he.ZodSet,..._e(e)});class Bu extends De{get schema(){return this._def.getter()}_parse(e){const{ctx:l}=this._processInputParams(e);return this._def.getter()._parse({data:l.data,path:l.path,parent:l})}}Bu.create=(n,e)=>new Bu({getter:n,typeName:he.ZodLazy,..._e(e)});class Mp extends De{_parse(e){if(e.data!==this._def.value){const l=this._getOrReturnCtx(e);return Z(l,{received:l.data,code:O.invalid_literal,expected:this._def.value}),ye}return{status:"valid",value:e.data}}get value(){return this._def.value}}Mp.create=(n,e)=>new Mp({value:n,typeName:he.ZodLiteral,..._e(e)});function Qh(n,e){return new Cl({values:n,typeName:he.ZodEnum,..._e(e)})}class Cl extends De{_parse(e){if(typeof e.data!="string"){const l=this._getOrReturnCtx(e),o=this._def.values;return Z(l,{expected:Ue.joinValues(o),received:l.parsedType,code:O.invalid_type}),ye}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const l=this._getOrReturnCtx(e),o=this._def.values;return Z(l,{received:l.data,code:O.invalid_enum_value,options:o}),ye}return Qt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const l of this._def.values)e[l]=l;return e}get Values(){const e={};for(const l of this._def.values)e[l]=l;return e}get Enum(){const e={};for(const l of this._def.values)e[l]=l;return e}extract(e,l=this._def){return Cl.create(e,{...this._def,...l})}exclude(e,l=this._def){return Cl.create(this.options.filter(o=>!e.includes(o)),{...this._def,...l})}}Cl.create=Qh;class Rp extends De{_parse(e){const l=Ue.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==W.string&&o.parsedType!==W.number){const r=Ue.objectValues(l);return Z(o,{expected:Ue.joinValues(r),received:o.parsedType,code:O.invalid_type}),ye}if(this._cache||(this._cache=new Set(Ue.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Ue.objectValues(l);return Z(o,{received:o.data,code:O.invalid_enum_value,options:r}),ye}return Qt(e.data)}get enum(){return this._def.values}}Rp.create=(n,e)=>new Rp({values:n,typeName:he.ZodNativeEnum,..._e(e)});class as extends De{unwrap(){return this._def.type}_parse(e){const{ctx:l}=this._processInputParams(e);if(l.parsedType!==W.promise&&l.common.async===!1)return Z(l,{code:O.invalid_type,expected:W.promise,received:l.parsedType}),ye;const o=l.parsedType===W.promise?l.data:Promise.resolve(l.data);return Qt(o.then(r=>this._def.type.parseAsync(r,{path:l.path,errorMap:l.common.contextualErrorMap})))}}as.create=(n,e)=>new as({type:n,typeName:he.ZodPromise,..._e(e)});class _l extends De{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:l,ctx:o}=this._processInputParams(e),r=this._def.effect||null,f={addIssue:m=>{Z(o,m),m.fatal?l.abort():l.dirty()},get path(){return o.path}};if(f.addIssue=f.addIssue.bind(f),r.type==="preprocess"){const m=r.transform(o.data,f);if(o.common.async)return Promise.resolve(m).then(async g=>{if(l.value==="aborted")return ye;const y=await this._def.schema._parseAsync({data:g,path:o.path,parent:o});return y.status==="aborted"?ye:y.status==="dirty"||l.value==="dirty"?Do(y.value):y});{if(l.value==="aborted")return ye;const g=this._def.schema._parseSync({data:m,path:o.path,parent:o});return g.status==="aborted"?ye:g.status==="dirty"||l.value==="dirty"?Do(g.value):g}}if(r.type==="refinement"){const m=g=>{const y=r.refinement(g,f);if(o.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(o.common.async===!1){const g=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return g.status==="aborted"?ye:(g.status==="dirty"&&l.dirty(),m(g.value),{status:l.value,value:g.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(g=>g.status==="aborted"?ye:(g.status==="dirty"&&l.dirty(),m(g.value).then(()=>({status:l.value,value:g.value}))))}if(r.type==="transform")if(o.common.async===!1){const m=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!Tl(m))return ye;const g=r.transform(m.value,f);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:l.value,value:g}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(m=>Tl(m)?Promise.resolve(r.transform(m.value,f)).then(g=>({status:l.value,value:g})):ye);Ue.assertNever(r)}}_l.create=(n,e,l)=>new _l({schema:n,typeName:he.ZodEffects,effect:e,..._e(l)});_l.createWithPreprocess=(n,e,l)=>new _l({schema:e,effect:{type:"preprocess",transform:n},typeName:he.ZodEffects,..._e(l)});class jn extends De{_parse(e){return this._getType(e)===W.undefined?Qt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jn.create=(n,e)=>new jn({innerType:n,typeName:he.ZodOptional,..._e(e)});class El extends De{_parse(e){return this._getType(e)===W.null?Qt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}El.create=(n,e)=>new El({innerType:n,typeName:he.ZodNullable,..._e(e)});class qu extends De{_parse(e){const{ctx:l}=this._processInputParams(e);let o=l.data;return l.parsedType===W.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:l.path,parent:l})}removeDefault(){return this._def.innerType}}qu.create=(n,e)=>new qu({innerType:n,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class zu extends De{_parse(e){const{ctx:l}=this._processInputParams(e),o={...l,common:{...l.common,issues:[]}},r=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return ts(r)?r.then(f=>({status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new Mn(o.common.issues)},input:o.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Mn(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}zu.create=(n,e)=>new zu({innerType:n,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class Np extends De{_parse(e){if(this._getType(e)!==W.nan){const o=this._getOrReturnCtx(e);return Z(o,{code:O.invalid_type,expected:W.nan,received:o.parsedType}),ye}return{status:"valid",value:e.data}}}Np.create=n=>new Np({typeName:he.ZodNaN,..._e(n)});class VT extends De{_parse(e){const{ctx:l}=this._processInputParams(e),o=l.data;return this._def.type._parse({data:o,path:l.path,parent:l})}unwrap(){return this._def.type}}class ac extends De{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const f=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return f.status==="aborted"?ye:f.status==="dirty"?(l.dirty(),Do(f.value)):this._def.out._parseAsync({data:f.value,path:o.path,parent:o})})();{const r=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?ye:r.status==="dirty"?(l.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:o.path,parent:o})}}static create(e,l){return new ac({in:e,out:l,typeName:he.ZodPipeline})}}class Ou extends De{_parse(e){const l=this._def.innerType._parse(e),o=r=>(Tl(r)&&(r.value=Object.freeze(r.value)),r);return ts(l)?l.then(r=>o(r)):o(l)}unwrap(){return this._def.innerType}}Ou.create=(n,e)=>new Ou({innerType:n,typeName:he.ZodReadonly,..._e(e)});var he;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(he||(he={}));const Ci=rn.create,Dp=_i.create;Ei.create;const PT=ns.create;Sl.create;const wp=Pu.create;ei.create;const wo=un.create,GT=st.create,BT=is.create;ls.create;Ai.create;const qT=os.create,zT=Bu.create,OT=Cl.create;as.create;jn.create;El.create;const pl={string:n=>rn.create({...n,coerce:!0}),number:n=>_i.create({...n,coerce:!0}),boolean:n=>ns.create({...n,coerce:!0}),bigint:n=>Ei.create({...n,coerce:!0}),date:n=>Sl.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let HT,FT;function YT(){return{geminiUrl:HT,vertexUrl:FT}}function JT(n,e,l){var o,r,f;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const m=YT();return n.vertexai?(r=m.vertexUrl)!==null&&r!==void 0?r:e:(f=m.geminiUrl)!==null&&f!==void 0?f:l}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mi{}function ie(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const f=e[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function u(n,e,l){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in n))if(Array.isArray(l))n[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const v=y[h];u(v,e.slice(f+1),l[h])}else for(const h of y)u(h,e.slice(f+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];u(y[0],e.slice(f+1),l);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const o=e[e.length-1],r=n[o];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=l}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const o=e[l];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in n){const f=n[r];return Array.isArray(f)?f.map(m=>s(m,e.slice(l+1))):void 0}else return}else n=n[o]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bp||(bp={}));var Ip;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Ip||(Ip={}));var Ke;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Ke||(Ke={}));var kp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(kp||(kp={}));var Up;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Up||(Up={}));var Lp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Lp||(Lp={}));var Vp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Vp||(Vp={}));var Pp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Pp||(Pp={}));var Gp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Gp||(Gp={}));var Bp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Bp||(Bp={}));var qp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qp||(qp={}));var zp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(zp||(zp={}));var Op;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Op||(Op={}));var ss;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ss||(ss={}));var Hp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Hp||(Hp={}));var Hu;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hu||(Hu={}));var Fp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Fp||(Fp={}));var Yp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Yp||(Yp={}));var Jp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Jp||(Jp={}));var $p;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})($p||($p={}));var Zp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Zp||(Zp={}));var Kp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Kp||(Kp={}));var Xp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Xp||(Xp={}));var Qp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Qp||(Qp={}));var Wp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Wp||(Wp={}));var jp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(jp||(jp={}));var eh;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(eh||(eh={}));var th;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(th||(th={}));var nh;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(nh||(nh={}));var ih;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(ih||(ih={}));var lh;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(lh||(lh={}));var oh;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(oh||(oh={}));var ah;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(ah||(ah={}));var sh;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(sh||(sh={}));var rh;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rh||(rh={}));var uh;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(uh||(uh={}));var ch;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ch||(ch={}));var fh;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(fh||(fh={}));var dh;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(dh||(dh={}));var gl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(gl||(gl={}));class Fu{constructor(e){const l={};for(const o of e.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class No{get text(){var e,l,o,r,f,m,g,y;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const _ of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[M,k]of Object.entries(_))M!=="text"&&M!=="thought"&&(k!==null||k!==void 0)&&S.push(M);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,h+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,l,o,r,f,m,g,y;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,M]of Object.entries(S))_!=="inlineData"&&(M!==null||M!==void 0)&&v.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,l,o,r,f,m,g,y;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,l,o,r,f,m,g,y,h;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,l,o,r,f,m,g,y,h;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class mh{}class ph{}class $T{}class ZT{}class hh{}class gh{}class yh{}class KT{}class vh{}class Th{}class Sh{}class XT{}class QT{}class WT{}class Ch{}class jT{get text(){var e,l,o;let r="",f=!1;const m=[];for(const g of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var e,l,o;let r="";const f=[];for(const m of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&f.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class e0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Wh(n,e){const l=qe(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function jh(n){return Array.isArray(n)?n.map(e=>rs(e)):[rs(n)]}function rs(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function t0(n){const e=rs(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function n0(n){const e=rs(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _h(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function eg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>_h(e)):[_h(n)]}function Yu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Eh(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Ah(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function At(n){if(n==null)throw new Error("ContentUnion is required");return Yu(n)?n:{role:"user",parts:eg(n)}}function tg(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const o=At(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const l=At(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>At(l)):[At(e)]}function Xt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Eh(n)||Ah(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[At(n)]}const e=[],l=[],o=Yu(n[0]);for(const r of n){const f=Yu(r);if(f!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(r);else{if(Eh(r)||Ah(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return o||e.push({role:"user",parts:eg(l)}),e}const i0=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),xh=OT(["string","number","integer","object","array","boolean","null"]),l0=BT([xh,wo(xh)]);function o0(n=!0){const e=zT(()=>{const l=GT({type:l0.optional(),format:Ci().optional(),title:Ci().optional(),description:Ci().optional(),default:wp().optional(),items:e.optional(),minItems:pl.string().optional(),maxItems:pl.string().optional(),enum:wo(wp()).optional(),properties:qT(Ci(),e).optional(),required:wo(Ci()).optional(),minProperties:pl.string().optional(),maxProperties:pl.string().optional(),propertyOrdering:wo(Ci()).optional(),minimum:Dp().optional(),maximum:Dp().optional(),minLength:pl.string().optional(),maxLength:pl.string().optional(),pattern:Ci().optional(),anyOf:wo(e).optional(),additionalProperties:PT().optional()});return n?l.strict():l});return e}function a0(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(o=>o!=="null");if(l.length===1)e.type=Object.values(Ke).includes(l[0].toUpperCase())?l[0].toUpperCase():Ke.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of l)e.anyOf.push({type:Object.values(Ke).includes(o.toUpperCase())?o.toUpperCase():Ke.TYPE_UNSPECIFIED})}}function yl(n){const e={},l=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&a0(n.type,e);for(const[m,g]of Object.entries(n))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(Ke).includes(g.toUpperCase())?g.toUpperCase():Ke.TYPE_UNSPECIFIED}else if(l.includes(m))e[m]=yl(g);else if(o.includes(m)){const y=[];for(const h of g){if(h.type=="null"){e.nullable=!0;continue}y.push(yl(h))}e[m]=y}else if(r.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=yl(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function ko(n){if(Object.keys(n).includes("$schema")){delete n.$schema;const e=o0().parse(n);return yl(e)}else return yl(n)}function sc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function rc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Al(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(e.parameters=ko(e.parameters)),e.response&&(e.response=ko(e.response));return n}function xl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function s0(n,e,l,o=1){const r=!e.startsWith(`${l}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:r?`${l}/${e}`:e}function Rn(n,e){if(typeof e!="string")throw new Error("name must be a string");return s0(n,e,"cachedContents")}function ng(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Nn(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function r0(n){return n!=null&&typeof n=="object"&&"name"in n}function u0(n){return n!=null&&typeof n=="object"&&"video"in n}function c0(n){return n!=null&&typeof n=="object"&&"uri"in n}function ig(n){var e;let l;if(r0(n)&&(l=n.name),!(c0(n)&&(l=n.uri,l===void 0))&&!(u0(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function lg(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function og(n){for(const e of["models","tunedModels","publisherModels"])if(f0(n,e))return n[e];return[]}function f0(n,e){return n!==null&&typeof n=="object"&&e in n}function d0(n,e={}){const l=n,o={name:l.name,description:l.description,parameters:yl(us(l.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function m0(n,e={}){const l=[],o=new Set;for(const r of n){const f=r.name;if(o.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o.add(f);const m=d0(r,e);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function p0(n){const e=[];for(const l of n)e.push(us(l));return e}function h0(n){const e={};for(const[l,o]of Object.entries(n)){const r=o;e[l]=us(r)}return e}function us(n){const e=new Set(["items"]),l=new Set(["anyOf"]),o=new Set(["properties"]),r={};for(const[f,m]of Object.entries(n))if(e.has(f))r[f]=us(m);else if(l.has(f))r[f]=p0(m);else if(o.has(f))r[f]=h0(m);else if(f==="type"){const g=m.toUpperCase();r[f]=Object.values(Ke).includes(g)?g:Ke.TYPE_UNSPECIFIED}else i0.has(f)&&(r[f]=m);return r}function ag(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function g0(n){const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function cs(n,e){const l=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function sg(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y0(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function v0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function T0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function S0(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],y0(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],v0(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],T0(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function rg(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>S0(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function C0(n){const e={},l=s(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=s(n,["default"]);o!=null&&u(e,["default"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const f=s(n,["enum"]);f!=null&&u(e,["enum"],f);const m=s(n,["example"]);m!=null&&u(e,["example"],m);const g=s(n,["format"]);g!=null&&u(e,["format"],g);const y=s(n,["items"]);y!=null&&u(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&u(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&u(e,["maxProperties"],S);const _=s(n,["maximum"]);_!=null&&u(e,["maximum"],_);const M=s(n,["minItems"]);M!=null&&u(e,["minItems"],M);const k=s(n,["minLength"]);k!=null&&u(e,["minLength"],k);const L=s(n,["minProperties"]);L!=null&&u(e,["minProperties"],L);const q=s(n,["minimum"]);q!=null&&u(e,["minimum"],q);const K=s(n,["nullable"]);K!=null&&u(e,["nullable"],K);const j=s(n,["pattern"]);j!=null&&u(e,["pattern"],j);const X=s(n,["properties"]);X!=null&&u(e,["properties"],X);const $=s(n,["propertyOrdering"]);$!=null&&u(e,["propertyOrdering"],$);const F=s(n,["required"]);F!=null&&u(e,["required"],F);const me=s(n,["title"]);me!=null&&u(e,["title"],me);const ge=s(n,["type"]);return ge!=null&&u(e,["type"],ge),e}function _0(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=s(n,["category"]);l!=null&&u(e,["category"],l);const o=s(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function E0(n){const e={},l=s(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=s(n,["description"]);o!=null&&u(e,["description"],o);const r=s(n,["name"]);r!=null&&u(e,["name"],r);const f=s(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&u(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function A0(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function x0(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],A0(l)),e}function M0(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function R0(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],M0(l)),e}function N0(){return{}}function D0(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>E0(y))),u(e,["functionDeclarations"],g)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],x0(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&u(e,["googleSearchRetrieval"],R0(r)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],N0());const m=s(n,["codeExecution"]);return m!=null&&u(e,["codeExecution"],m),e}function w0(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function b0(n){const e={},l=s(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=s(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function I0(n){const e={},l=s(n,["latLng"]);l!=null&&u(e,["latLng"],b0(l));const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function k0(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],w0(l));const o=s(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],I0(o)),e}function U0(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function ug(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],U0(l)),e}function L0(n){const e={},l=s(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=s(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],ug(o)),e}function V0(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>L0(r))),u(e,["speakerVoiceConfigs"],o)}return e}function P0(n){const e={},l=s(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],ug(l));const o=s(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],V0(o));const r=s(n,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function G0(n){const e={},l=s(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=s(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function B0(n,e,l){const o={},r=s(e,["systemInstruction"]);l!==void 0&&r!=null&&u(l,["systemInstruction"],rg(At(r)));const f=s(e,["temperature"]);f!=null&&u(o,["temperature"],f);const m=s(e,["topP"]);m!=null&&u(o,["topP"],m);const g=s(e,["topK"]);g!=null&&u(o,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&u(o,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&u(o,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&u(o,["responseLogprobs"],S);const _=s(e,["logprobs"]);_!=null&&u(o,["logprobs"],_);const M=s(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const k=s(e,["frequencyPenalty"]);k!=null&&u(o,["frequencyPenalty"],k);const L=s(e,["seed"]);L!=null&&u(o,["seed"],L);const q=s(e,["responseMimeType"]);q!=null&&u(o,["responseMimeType"],q);const K=s(e,["responseSchema"]);K!=null&&u(o,["responseSchema"],C0(ko(K)));const j=s(e,["responseJsonSchema"]);if(j!=null&&u(o,["responseJsonSchema"],j),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=s(e,["safetySettings"]);if(l!==void 0&&X!=null){let de=X;Array.isArray(de)&&(de=de.map(Le=>_0(Le))),u(l,["safetySettings"],de)}const $=s(e,["tools"]);if(l!==void 0&&$!=null){let de=xl($);Array.isArray(de)&&(de=de.map(Le=>D0(Al(Le)))),u(l,["tools"],de)}const F=s(e,["toolConfig"]);if(l!==void 0&&F!=null&&u(l,["toolConfig"],k0(F)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const me=s(e,["cachedContent"]);l!==void 0&&me!=null&&u(l,["cachedContent"],Rn(n,me));const ge=s(e,["responseModalities"]);ge!=null&&u(o,["responseModalities"],ge);const be=s(e,["mediaResolution"]);be!=null&&u(o,["mediaResolution"],be);const oe=s(e,["speechConfig"]);if(oe!=null&&u(o,["speechConfig"],P0(sc(oe))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ve=s(e,["thinkingConfig"]);return ve!=null&&u(o,["thinkingConfig"],G0(ve)),o}function q0(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["request","model"],qe(n,o));const r=s(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(g=>rg(g))),u(l,["request","contents"],m)}const f=s(e,["config"]);return f!=null&&u(l,["request","generationConfig"],B0(n,f,l)),l}function z0(n,e){const l={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&u(l,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>q0(n,m))),u(l,["requests","requests"],f)}return l}function O0(n,e){const l={},o=s(n,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function H0(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["src"]);r!=null&&u(l,["batch","inputConfig"],z0(n,ag(n,r)));const f=s(e,["config"]);return f!=null&&u(l,["config"],O0(f,l)),l}function F0(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],cs(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function Y0(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],cs(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function J0(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);if(e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function $0(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],J0(l,e)),e}function Z0(n){const e={},l=s(n,["format"]);l!=null&&u(e,["instancesFormat"],l);const o=s(n,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const r=s(n,["bigqueryUri"]);if(r!=null&&u(e,["bigquerySource","inputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function K0(n){const e={},l=s(n,["format"]);l!=null&&u(e,["predictionsFormat"],l);const o=s(n,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const r=s(n,["bigqueryUri"]);if(r!=null&&u(e,["bigqueryDestination","outputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function X0(n,e){const l={},o=s(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(n,["dest"]);return e!==void 0&&r!=null&&u(e,["outputConfig"],K0(g0(r))),l}function Q0(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["model"],qe(n,o));const r=s(e,["src"]);r!=null&&u(l,["inputConfig"],Z0(ag(n,r)));const f=s(e,["config"]);return f!=null&&u(l,["config"],X0(f,l)),l}function W0(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],cs(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function j0(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],cs(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function eS(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);const f=s(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),l}function tS(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],eS(l,e)),e}function nS(){return{}}function iS(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function lS(n){const e={},l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function oS(n){const e={},l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function aS(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],iS(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],lS(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],oS(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function sS(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>aS(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function rS(n){const e={},l=s(n,["citationSources"]);return l!=null&&u(e,["citations"],l),e}function uS(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=s(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function cS(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>uS(r))),u(e,["urlMetadata"],o)}return e}function fS(n){const e={},l=s(n,["content"]);l!=null&&u(e,["content"],sS(l));const o=s(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],rS(o));const r=s(n,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);const f=s(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],cS(m));const g=s(n,["avgLogprobs"]);g!=null&&u(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&u(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&u(e,["safetyRatings"],S),e}function dS(n){const e={},l=s(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>fS(g))),u(e,["candidates"],m)}const o=s(n,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const r=s(n,["promptFeedback"]);r!=null&&u(e,["promptFeedback"],r);const f=s(n,["usageMetadata"]);return f!=null&&u(e,["usageMetadata"],f),e}function mS(n){const e={},l=s(n,["response"]);return l!=null&&u(e,["response"],dS(l)),s(n,["error"])!=null&&u(e,["error"],nS()),e}function pS(n){const e={},l=s(n,["responsesFile"]);l!=null&&u(e,["fileName"],l);const o=s(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>mS(f))),u(e,["inlinedResponses"],r)}return e}function Ju(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["metadata","state"]);r!=null&&u(e,["state"],sg(r));const f=s(n,["metadata","createTime"]);f!=null&&u(e,["createTime"],f);const m=s(n,["metadata","endTime"]);m!=null&&u(e,["endTime"],m);const g=s(n,["metadata","updateTime"]);g!=null&&u(e,["updateTime"],g);const y=s(n,["metadata","model"]);y!=null&&u(e,["model"],y);const h=s(n,["metadata","output"]);return h!=null&&u(e,["dest"],pS(h)),e}function hS(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["operations"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>Ju(f))),u(e,["batchJobs"],r)}return e}function gS(n){const e={},l=s(n,["details"]);l!=null&&u(e,["details"],l);const o=s(n,["code"]);o!=null&&u(e,["code"],o);const r=s(n,["message"]);return r!=null&&u(e,["message"],r),e}function yS(n){const e={},l=s(n,["instancesFormat"]);l!=null&&u(e,["format"],l);const o=s(n,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const r=s(n,["bigquerySource","inputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function vS(n){const e={},l=s(n,["predictionsFormat"]);l!=null&&u(e,["format"],l);const o=s(n,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const r=s(n,["bigqueryDestination","outputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function $u(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["state"]);r!=null&&u(e,["state"],sg(r));const f=s(n,["error"]);f!=null&&u(e,["error"],gS(f));const m=s(n,["createTime"]);m!=null&&u(e,["createTime"],m);const g=s(n,["startTime"]);g!=null&&u(e,["startTime"],g);const y=s(n,["endTime"]);y!=null&&u(e,["endTime"],y);const h=s(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const v=s(n,["model"]);v!=null&&u(e,["model"],v);const S=s(n,["inputConfig"]);S!=null&&u(e,["src"],yS(S));const _=s(n,["outputConfig"]);return _!=null&&u(e,["dest"],vS(_)),e}function TS(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["batchPredictionJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>$u(f))),u(e,["batchJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xi;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(xi||(xi={}));class Uo{constructor(e,l,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,o,r)}init(e,l,o){var r,f;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};o?typeof o=="object"?m=Object.assign({},o):m=o:m={config:{}},m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SS extends Mi{constructor(e){super(),this.apiClient=e,this.create=async l=>{if(this.apiClient.isVertexAI()){if(Array.isArray(l.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(l.config=l.config||{},l.config.displayName===void 0&&(l.config.displayName="genaiBatchJob_"),l.config.dest===void 0&&typeof l.src=="string")if(l.src.startsWith("gs://")&&l.src.endsWith(".jsonl"))l.config.dest=`${l.src.slice(0,-6)}/dest`;else if(l.src.startsWith("bq://"))l.config.dest=`${l.src}_dest_`;else throw new Error("Unsupported source:"+l.src)}return await this.createInternal(l)},this.list=async(l={})=>new Uo(xi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(l),l)}async createInternal(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Q0(this.apiClient,e);return g=ie("batchPredictionJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>$u(v))}else{const h=H0(this.apiClient,e);return g=ie("{model}:batchGenerateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ju(v))}}async get(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=W0(this.apiClient,e);return g=ie("batchPredictionJobs/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>$u(v))}else{const h=F0(this.apiClient,e);return g=ie("batches/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ju(v))}}async cancel(e){var l,o,r,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=j0(this.apiClient,e);m=ie("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=Y0(this.apiClient,e);m=ie("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=tS(e);return g=ie("batchPredictionJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const S=TS(v),_=new Ch;return Object.assign(_,S),_})}else{const h=$0(e);return g=ie("batches",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=hS(v),_=new Ch;return Object.assign(_,S),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CS(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function _S(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ES(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function AS(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],CS(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],_S(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],ES(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function Mh(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>AS(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function xS(n){const e={},l=s(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=s(n,["description"]);o!=null&&u(e,["description"],o);const r=s(n,["name"]);r!=null&&u(e,["name"],r);const f=s(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&u(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function MS(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function RS(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],MS(l)),e}function NS(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function DS(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],NS(l)),e}function wS(){return{}}function bS(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>xS(y))),u(e,["functionDeclarations"],g)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],RS(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&u(e,["googleSearchRetrieval"],DS(r)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],wS());const m=s(n,["codeExecution"]);return m!=null&&u(e,["codeExecution"],m),e}function IS(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function kS(n){const e={},l=s(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=s(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function US(n){const e={},l=s(n,["latLng"]);l!=null&&u(e,["latLng"],kS(l));const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function LS(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],IS(l));const o=s(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],US(o)),e}function VS(n,e){const l={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);const f=s(n,["displayName"]);e!==void 0&&f!=null&&u(e,["displayName"],f);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let v=Xt(m);Array.isArray(v)&&(v=v.map(S=>Mh(S))),u(e,["contents"],v)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&u(e,["systemInstruction"],Mh(At(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>bS(S))),u(e,["tools"],v)}const h=s(n,["toolConfig"]);if(e!==void 0&&h!=null&&u(e,["toolConfig"],LS(h)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function PS(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["model"],Wh(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],VS(r,l)),l}function GS(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],Rn(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function BS(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],Rn(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function qS(n,e){const l={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),l}function zS(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],Rn(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],qS(r,l)),l}function OS(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),l}function HS(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],OS(l,e)),e}function FS(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function YS(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["data"]);o!=null&&u(e,["data"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function JS(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function $S(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],FS(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],YS(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],JS(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function Rh(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>$S(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function ZS(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&u(e,["description"],l);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["parameters"]);r!=null&&u(e,["parameters"],r);const f=s(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&u(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&u(e,["responseJsonSchema"],g),e}function KS(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function XS(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],KS(l)),e}function QS(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function WS(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],QS(l)),e}function jS(){return{}}function eC(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function tC(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],eC(l));const o=s(n,["authType"]);o!=null&&u(e,["authType"],o);const r=s(n,["googleServiceAccountConfig"]);r!=null&&u(e,["googleServiceAccountConfig"],r);const f=s(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&u(e,["oidcConfig"],g),e}function nC(n){const e={},l=s(n,["authConfig"]);return l!=null&&u(e,["authConfig"],tC(l)),e}function iC(){return{}}function lC(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>ZS(S))),u(e,["functionDeclarations"],v)}const o=s(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=s(n,["googleSearch"]);r!=null&&u(e,["googleSearch"],XS(r));const f=s(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],WS(f)),s(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],jS());const g=s(n,["googleMaps"]);g!=null&&u(e,["googleMaps"],nC(g)),s(n,["urlContext"])!=null&&u(e,["urlContext"],iC());const h=s(n,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function oC(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function aC(n){const e={},l=s(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=s(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function sC(n){const e={},l=s(n,["latLng"]);l!=null&&u(e,["latLng"],aC(l));const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function rC(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],oC(l));const o=s(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],sC(o)),e}function uC(n,e){const l={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);const f=s(n,["displayName"]);e!==void 0&&f!=null&&u(e,["displayName"],f);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let S=Xt(m);Array.isArray(S)&&(S=S.map(_=>Rh(_))),u(e,["contents"],S)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&u(e,["systemInstruction"],Rh(At(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>lC(_))),u(e,["tools"],S)}const h=s(n,["toolConfig"]);e!==void 0&&h!=null&&u(e,["toolConfig"],rC(h));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&u(e,["encryption_spec","kmsKeyName"],v),l}function cC(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["model"],Wh(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],uC(r,l)),l}function fC(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],Rn(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function dC(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],Rn(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function mC(n,e){const l={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),l}function pC(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],Rn(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],mC(r,l)),l}function hC(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),l}function gC(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],hC(l,e)),e}function Wa(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["model"]);r!=null&&u(e,["model"],r);const f=s(n,["createTime"]);f!=null&&u(e,["createTime"],f);const m=s(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&u(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function yC(){return{}}function vC(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>Wa(f))),u(e,["cachedContents"],r)}return e}function ja(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["model"]);r!=null&&u(e,["model"],r);const f=s(n,["createTime"]);f!=null&&u(e,["createTime"],f);const m=s(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&u(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function TC(){return{}}function SC(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>ja(f))),u(e,["cachedContents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CC extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new Uo(xi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=cC(this.apiClient,e);return g=ie("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>ja(v))}else{const h=PS(this.apiClient,e);return g=ie("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Wa(v))}}async get(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=fC(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>ja(v))}else{const h=GS(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Wa(v))}}async delete(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=dC(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(()=>{const v=TC(),S=new Th;return Object.assign(S,v),S})}else{const h=BS(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=yC(),S=new Th;return Object.assign(S,v),S})}}async update(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=pC(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>ja(v))}else{const h=zS(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Wa(v))}}async listInternal(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=gC(e);return g=ie("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const S=SC(v),_=new Sh;return Object.assign(_,S),_})}else{const h=HS(e);return g=ie("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=vC(v),_=new Sh;return Object.assign(_,S),_})}}}function Nh(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],o=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xe(n){return this instanceof Xe?(this.v=n,this):new Xe(n)}function vl(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(n,e||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(M){return function(k){return Promise.resolve(k).then(M,S)}}function g(M,k){o[M]&&(r[M]=function(L){return new Promise(function(q,K){f.push([M,L,q,K])>1||y(M,L)})},k&&(r[M]=k(r[M])))}function y(M,k){try{h(o[M](k))}catch(L){_(f[0][3],L)}}function h(M){M.value instanceof Xe?Promise.resolve(M.value.v).then(v,S):_(f[0][2],M)}function v(M){y("next",M)}function S(M){y("throw",M)}function _(M,k){M(k),f.shift(),f.length&&y(f[0][0],f[0][1])}}function bo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof Nh=="function"?Nh(n):n[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(f){l[f]=n[f]&&function(m){return new Promise(function(g,y){m=n[f](m),r(g,y,m.done,m.value)})}}function r(f,m,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _C(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:cg(l)}function cg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function EC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Dh(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let o=0;for(;o<l;)if(n[o].role==="user")e.push(n[o]),o++;else{const r=[];let f=!0;for(;o<l&&n[o].role==="model";)r.push(n[o]),f&&!cg(n[o])&&(f=!1),o++;f?e.push(...r):e.pop()}return e}class AC{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new xC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xC{constructor(e,l,o,r={},f=[]){this.apiClient=e,this.modelsModule=l,this.model=o,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),EC(f)}async sendMessage(e){var l;await this.sendPromise;const o=At(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,m,g;const y=await r,h=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];v!=null&&(_=(g=v.slice(S))!==null&&g!==void 0?g:[]);const M=h?[h]:[];this.recordHistory(o,M,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var l;await this.sendPromise;const o=At(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,o)}getHistory(e=!1){const l=e?Dh(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var o,r;return vl(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var S=!0,_=bo(e),M;M=yield Xe(_.next()),m=M.done,!m;S=!0){h=M.value,S=!1;const k=h;if(_C(k)){const L=(r=(o=k.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;L!==void 0&&v.push(L)}yield yield Xe(k)}}catch(k){g={error:k}}finally{try{!S&&!m&&(y=_.return)&&(yield Xe(y.call(_)))}finally{if(g)throw g.error}}this.recordHistory(l,v)})}recordHistory(e,l,o){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Dh(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,fs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),l}function RC(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],MC(l,e)),e}function NC(n){const e={},l=s(n,["details"]);l!=null&&u(e,["details"],l);const o=s(n,["message"]);o!=null&&u(e,["message"],o);const r=s(n,["code"]);return r!=null&&u(e,["code"],r),e}function DC(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["mimeType"]);r!=null&&u(e,["mimeType"],r);const f=s(n,["sizeBytes"]);f!=null&&u(e,["sizeBytes"],f);const m=s(n,["createTime"]);m!=null&&u(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&u(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const h=s(n,["sha256Hash"]);h!=null&&u(e,["sha256Hash"],h);const v=s(n,["uri"]);v!=null&&u(e,["uri"],v);const S=s(n,["downloadUri"]);S!=null&&u(e,["downloadUri"],S);const _=s(n,["state"]);_!=null&&u(e,["state"],_);const M=s(n,["source"]);M!=null&&u(e,["source"],M);const k=s(n,["videoMetadata"]);k!=null&&u(e,["videoMetadata"],k);const L=s(n,["error"]);return L!=null&&u(e,["error"],NC(L)),e}function wC(n){const e={},l=s(n,["file"]);l!=null&&u(e,["file"],DC(l));const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function bC(n){const e={},l=s(n,["name"]);l!=null&&u(e,["_url","file"],ig(l));const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function IC(n){const e={},l=s(n,["name"]);l!=null&&u(e,["_url","file"],ig(l));const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function kC(n){const e={},l=s(n,["details"]);l!=null&&u(e,["details"],l);const o=s(n,["message"]);o!=null&&u(e,["message"],o);const r=s(n,["code"]);return r!=null&&u(e,["code"],r),e}function Zu(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["mimeType"]);r!=null&&u(e,["mimeType"],r);const f=s(n,["sizeBytes"]);f!=null&&u(e,["sizeBytes"],f);const m=s(n,["createTime"]);m!=null&&u(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&u(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const h=s(n,["sha256Hash"]);h!=null&&u(e,["sha256Hash"],h);const v=s(n,["uri"]);v!=null&&u(e,["uri"],v);const S=s(n,["downloadUri"]);S!=null&&u(e,["downloadUri"],S);const _=s(n,["state"]);_!=null&&u(e,["state"],_);const M=s(n,["source"]);M!=null&&u(e,["source"],M);const k=s(n,["videoMetadata"]);k!=null&&u(e,["videoMetadata"],k);const L=s(n,["error"]);return L!=null&&u(e,["error"],kC(L)),e}function UC(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>Zu(f))),u(e,["files"],r)}return e}function LC(){return{}}function VC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PC extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new Uo(xi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>Zu(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RC(e);return f=ie("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=UC(y),v=new XT;return Object.assign(v,h),v})}}async createInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wC(e);return f=ie("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(()=>{const y=LC(),h=new QT;return Object.assign(h,y),h})}}async get(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bC(e);return f=ie("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>Zu(y))}}async delete(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IC(e);return f=ie("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(()=>{const y=VC(),h=new WT;return Object.assign(h,y),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GC(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function BC(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function fg(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],GC(l)),e}function qC(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],BC(l)),e}function zC(n){const e={},l=s(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=s(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],fg(o)),e}function OC(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>zC(r))),u(e,["speakerVoiceConfigs"],o)}return e}function HC(n){const e={},l=s(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],fg(l));const o=s(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],OC(o));const r=s(n,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function FC(n){const e={},l=s(n,["voiceConfig"]);if(l!=null&&u(e,["voiceConfig"],qC(l)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function YC(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function JC(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function $C(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ZC(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["data"]);o!=null&&u(e,["data"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function KC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function XC(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function QC(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],YC(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],$C(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],KC(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function WC(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],JC(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],ZC(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],XC(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function jC(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>QC(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function e_(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>WC(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function t_(n){const e={},l=s(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=s(n,["description"]);o!=null&&u(e,["description"],o);const r=s(n,["name"]);r!=null&&u(e,["name"],r);const f=s(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&u(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function n_(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&u(e,["description"],l);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["parameters"]);r!=null&&u(e,["parameters"],r);const f=s(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&u(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&u(e,["responseJsonSchema"],g),e}function i_(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function l_(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function o_(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],i_(l)),e}function a_(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],l_(l)),e}function s_(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function r_(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function u_(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],s_(l)),e}function c_(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],r_(l)),e}function f_(){return{}}function d_(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function m_(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],d_(l));const o=s(n,["authType"]);o!=null&&u(e,["authType"],o);const r=s(n,["googleServiceAccountConfig"]);r!=null&&u(e,["googleServiceAccountConfig"],r);const f=s(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&u(e,["oidcConfig"],g),e}function p_(n){const e={},l=s(n,["authConfig"]);return l!=null&&u(e,["authConfig"],m_(l)),e}function h_(){return{}}function g_(){return{}}function y_(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>t_(y))),u(e,["functionDeclarations"],g)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],o_(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&u(e,["googleSearchRetrieval"],u_(r)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],h_());const m=s(n,["codeExecution"]);return m!=null&&u(e,["codeExecution"],m),e}function v_(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>n_(S))),u(e,["functionDeclarations"],v)}const o=s(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=s(n,["googleSearch"]);r!=null&&u(e,["googleSearch"],a_(r));const f=s(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],c_(f)),s(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],f_());const g=s(n,["googleMaps"]);g!=null&&u(e,["googleMaps"],p_(g)),s(n,["urlContext"])!=null&&u(e,["urlContext"],g_());const h=s(n,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function T_(n){const e={},l=s(n,["handle"]);if(l!=null&&u(e,["handle"],l),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function S_(n){const e={},l=s(n,["handle"]);l!=null&&u(e,["handle"],l);const o=s(n,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function wh(){return{}}function bh(){return{}}function C_(n){const e={},l=s(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=s(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const r=s(n,["endOfSpeechSensitivity"]);r!=null&&u(e,["endOfSpeechSensitivity"],r);const f=s(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function __(n){const e={},l=s(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=s(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const r=s(n,["endOfSpeechSensitivity"]);r!=null&&u(e,["endOfSpeechSensitivity"],r);const f=s(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function E_(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],C_(l));const o=s(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const r=s(n,["turnCoverage"]);return r!=null&&u(e,["turnCoverage"],r),e}function A_(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],__(l));const o=s(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const r=s(n,["turnCoverage"]);return r!=null&&u(e,["turnCoverage"],r),e}function x_(n){const e={},l=s(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function M_(n){const e={},l=s(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function R_(n){const e={},l=s(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=s(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],x_(o)),e}function N_(n){const e={},l=s(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=s(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],M_(o)),e}function D_(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function w_(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function b_(n,e){const l={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const f=s(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","speechConfig"],HC(rc(S)));const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],_);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],jC(At(M)));const k=s(n,["tools"]);if(e!==void 0&&k!=null){let F=xl(k);Array.isArray(F)&&(F=F.map(me=>y_(Al(me)))),u(e,["setup","tools"],F)}const L=s(n,["sessionResumption"]);e!==void 0&&L!=null&&u(e,["setup","sessionResumption"],T_(L));const q=s(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","inputAudioTranscription"],wh());const K=s(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&u(e,["setup","outputAudioTranscription"],wh());const j=s(n,["realtimeInputConfig"]);e!==void 0&&j!=null&&u(e,["setup","realtimeInputConfig"],E_(j));const X=s(n,["contextWindowCompression"]);e!==void 0&&X!=null&&u(e,["setup","contextWindowCompression"],R_(X));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&u(e,["setup","proactivity"],D_($)),l}function I_(n,e){const l={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const f=s(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","speechConfig"],FC(rc(S)));const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],_);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],e_(At(M)));const k=s(n,["tools"]);if(e!==void 0&&k!=null){let F=xl(k);Array.isArray(F)&&(F=F.map(me=>v_(Al(me)))),u(e,["setup","tools"],F)}const L=s(n,["sessionResumption"]);e!==void 0&&L!=null&&u(e,["setup","sessionResumption"],S_(L));const q=s(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","inputAudioTranscription"],bh());const K=s(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&u(e,["setup","outputAudioTranscription"],bh());const j=s(n,["realtimeInputConfig"]);e!==void 0&&j!=null&&u(e,["setup","realtimeInputConfig"],A_(j));const X=s(n,["contextWindowCompression"]);e!==void 0&&X!=null&&u(e,["setup","contextWindowCompression"],N_(X));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&u(e,["setup","proactivity"],w_($)),l}function k_(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["setup","model"],qe(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],b_(r,l)),l}function U_(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["setup","model"],qe(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],I_(r,l)),l}function L_(){return{}}function V_(){return{}}function P_(){return{}}function G_(){return{}}function B_(n){const e={},l=s(n,["media"]);l!=null&&u(e,["mediaChunks"],jh(l));const o=s(n,["audio"]);o!=null&&u(e,["audio"],n0(o));const r=s(n,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);const f=s(n,["video"]);f!=null&&u(e,["video"],t0(f));const m=s(n,["text"]);return m!=null&&u(e,["text"],m),s(n,["activityStart"])!=null&&u(e,["activityStart"],L_()),s(n,["activityEnd"])!=null&&u(e,["activityEnd"],P_()),e}function q_(n){const e={},l=s(n,["media"]);if(l!=null&&u(e,["mediaChunks"],jh(l)),s(n,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=s(n,["audioStreamEnd"]);if(o!=null&&u(e,["audioStreamEnd"],o),s(n,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(s(n,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return s(n,["activityStart"])!=null&&u(e,["activityStart"],V_()),s(n,["activityEnd"])!=null&&u(e,["activityEnd"],G_()),e}function dg(n){const e={},l=s(n,["text"]);l!=null&&u(e,["text"],l);const o=s(n,["weight"]);return o!=null&&u(e,["weight"],o),e}function z_(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>dg(r))),u(e,["weightedPrompts"],o)}return e}function mg(n){const e={},l=s(n,["temperature"]);l!=null&&u(e,["temperature"],l);const o=s(n,["topK"]);o!=null&&u(e,["topK"],o);const r=s(n,["seed"]);r!=null&&u(e,["seed"],r);const f=s(n,["guidance"]);f!=null&&u(e,["guidance"],f);const m=s(n,["bpm"]);m!=null&&u(e,["bpm"],m);const g=s(n,["density"]);g!=null&&u(e,["density"],g);const y=s(n,["brightness"]);y!=null&&u(e,["brightness"],y);const h=s(n,["scale"]);h!=null&&u(e,["scale"],h);const v=s(n,["muteBass"]);v!=null&&u(e,["muteBass"],v);const S=s(n,["muteDrums"]);S!=null&&u(e,["muteDrums"],S);const _=s(n,["onlyBassAndDrums"]);return _!=null&&u(e,["onlyBassAndDrums"],_),e}function O_(n){const e={},l=s(n,["musicGenerationConfig"]);return l!=null&&u(e,["musicGenerationConfig"],mg(l)),e}function pg(n){const e={},l=s(n,["model"]);return l!=null&&u(e,["model"],l),e}function hg(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>dg(r))),u(e,["weightedPrompts"],o)}return e}function Ku(n){const e={},l=s(n,["setup"]);l!=null&&u(e,["setup"],pg(l));const o=s(n,["clientContent"]);o!=null&&u(e,["clientContent"],hg(o));const r=s(n,["musicGenerationConfig"]);r!=null&&u(e,["musicGenerationConfig"],mg(r));const f=s(n,["playbackControl"]);return f!=null&&u(e,["playbackControl"],f),e}function H_(){return{}}function F_(){return{}}function Y_(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function J_(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function $_(n){const e={},l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Z_(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["data"]);o!=null&&u(e,["data"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function K_(n){const e={},l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function X_(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Q_(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],Y_(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],$_(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],K_(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function W_(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],J_(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],Z_(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],X_(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function j_(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>Q_(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function eE(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>W_(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function Ih(n){const e={},l=s(n,["text"]);l!=null&&u(e,["text"],l);const o=s(n,["finished"]);return o!=null&&u(e,["finished"],o),e}function kh(n){const e={},l=s(n,["text"]);l!=null&&u(e,["text"],l);const o=s(n,["finished"]);return o!=null&&u(e,["finished"],o),e}function tE(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=s(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function nE(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>tE(r))),u(e,["urlMetadata"],o)}return e}function iE(n){const e={},l=s(n,["modelTurn"]);l!=null&&u(e,["modelTurn"],j_(l));const o=s(n,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const r=s(n,["interrupted"]);r!=null&&u(e,["interrupted"],r);const f=s(n,["groundingMetadata"]);f!=null&&u(e,["groundingMetadata"],f);const m=s(n,["generationComplete"]);m!=null&&u(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&u(e,["inputTranscription"],Ih(g));const y=s(n,["outputTranscription"]);y!=null&&u(e,["outputTranscription"],Ih(y));const h=s(n,["urlContextMetadata"]);return h!=null&&u(e,["urlContextMetadata"],nE(h)),e}function lE(n){const e={},l=s(n,["modelTurn"]);l!=null&&u(e,["modelTurn"],eE(l));const o=s(n,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const r=s(n,["interrupted"]);r!=null&&u(e,["interrupted"],r);const f=s(n,["groundingMetadata"]);f!=null&&u(e,["groundingMetadata"],f);const m=s(n,["generationComplete"]);m!=null&&u(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&u(e,["inputTranscription"],kh(g));const y=s(n,["outputTranscription"]);return y!=null&&u(e,["outputTranscription"],kh(y)),e}function oE(n){const e={},l=s(n,["id"]);l!=null&&u(e,["id"],l);const o=s(n,["args"]);o!=null&&u(e,["args"],o);const r=s(n,["name"]);return r!=null&&u(e,["name"],r),e}function aE(n){const e={},l=s(n,["args"]);l!=null&&u(e,["args"],l);const o=s(n,["name"]);return o!=null&&u(e,["name"],o),e}function sE(n){const e={},l=s(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>oE(r))),u(e,["functionCalls"],o)}return e}function rE(n){const e={},l=s(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>aE(r))),u(e,["functionCalls"],o)}return e}function uE(n){const e={},l=s(n,["ids"]);return l!=null&&u(e,["ids"],l),e}function cE(n){const e={},l=s(n,["ids"]);return l!=null&&u(e,["ids"],l),e}function Xa(n){const e={},l=s(n,["modality"]);l!=null&&u(e,["modality"],l);const o=s(n,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function Qa(n){const e={},l=s(n,["modality"]);l!=null&&u(e,["modality"],l);const o=s(n,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function fE(n){const e={},l=s(n,["promptTokenCount"]);l!=null&&u(e,["promptTokenCount"],l);const o=s(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const r=s(n,["responseTokenCount"]);r!=null&&u(e,["responseTokenCount"],r);const f=s(n,["toolUsePromptTokenCount"]);f!=null&&u(e,["toolUsePromptTokenCount"],f);const m=s(n,["thoughtsTokenCount"]);m!=null&&u(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&u(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(M=>Xa(M))),u(e,["promptTokensDetails"],_)}const h=s(n,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(M=>Xa(M))),u(e,["cacheTokensDetails"],_)}const v=s(n,["responseTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(M=>Xa(M))),u(e,["responseTokensDetails"],_)}const S=s(n,["toolUsePromptTokensDetails"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(M=>Xa(M))),u(e,["toolUsePromptTokensDetails"],_)}return e}function dE(n){const e={},l=s(n,["promptTokenCount"]);l!=null&&u(e,["promptTokenCount"],l);const o=s(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const r=s(n,["candidatesTokenCount"]);r!=null&&u(e,["responseTokenCount"],r);const f=s(n,["toolUsePromptTokenCount"]);f!=null&&u(e,["toolUsePromptTokenCount"],f);const m=s(n,["thoughtsTokenCount"]);m!=null&&u(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&u(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(k=>Qa(k))),u(e,["promptTokensDetails"],M)}const h=s(n,["cacheTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(k=>Qa(k))),u(e,["cacheTokensDetails"],M)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(k=>Qa(k))),u(e,["responseTokensDetails"],M)}const S=s(n,["toolUsePromptTokensDetails"]);if(S!=null){let M=S;Array.isArray(M)&&(M=M.map(k=>Qa(k))),u(e,["toolUsePromptTokensDetails"],M)}const _=s(n,["trafficType"]);return _!=null&&u(e,["trafficType"],_),e}function mE(n){const e={},l=s(n,["timeLeft"]);return l!=null&&u(e,["timeLeft"],l),e}function pE(n){const e={},l=s(n,["timeLeft"]);return l!=null&&u(e,["timeLeft"],l),e}function hE(n){const e={},l=s(n,["newHandle"]);l!=null&&u(e,["newHandle"],l);const o=s(n,["resumable"]);o!=null&&u(e,["resumable"],o);const r=s(n,["lastConsumedClientMessageIndex"]);return r!=null&&u(e,["lastConsumedClientMessageIndex"],r),e}function gE(n){const e={},l=s(n,["newHandle"]);l!=null&&u(e,["newHandle"],l);const o=s(n,["resumable"]);o!=null&&u(e,["resumable"],o);const r=s(n,["lastConsumedClientMessageIndex"]);return r!=null&&u(e,["lastConsumedClientMessageIndex"],r),e}function yE(n){const e={};s(n,["setupComplete"])!=null&&u(e,["setupComplete"],H_());const o=s(n,["serverContent"]);o!=null&&u(e,["serverContent"],iE(o));const r=s(n,["toolCall"]);r!=null&&u(e,["toolCall"],sE(r));const f=s(n,["toolCallCancellation"]);f!=null&&u(e,["toolCallCancellation"],uE(f));const m=s(n,["usageMetadata"]);m!=null&&u(e,["usageMetadata"],fE(m));const g=s(n,["goAway"]);g!=null&&u(e,["goAway"],mE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],hE(y)),e}function vE(n){const e={};s(n,["setupComplete"])!=null&&u(e,["setupComplete"],F_());const o=s(n,["serverContent"]);o!=null&&u(e,["serverContent"],lE(o));const r=s(n,["toolCall"]);r!=null&&u(e,["toolCall"],rE(r));const f=s(n,["toolCallCancellation"]);f!=null&&u(e,["toolCallCancellation"],cE(f));const m=s(n,["usageMetadata"]);m!=null&&u(e,["usageMetadata"],dE(m));const g=s(n,["goAway"]);g!=null&&u(e,["goAway"],pE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],gE(y)),e}function TE(){return{}}function SE(n){const e={},l=s(n,["text"]);l!=null&&u(e,["text"],l);const o=s(n,["weight"]);return o!=null&&u(e,["weight"],o),e}function CE(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>SE(r))),u(e,["weightedPrompts"],o)}return e}function _E(n){const e={},l=s(n,["temperature"]);l!=null&&u(e,["temperature"],l);const o=s(n,["topK"]);o!=null&&u(e,["topK"],o);const r=s(n,["seed"]);r!=null&&u(e,["seed"],r);const f=s(n,["guidance"]);f!=null&&u(e,["guidance"],f);const m=s(n,["bpm"]);m!=null&&u(e,["bpm"],m);const g=s(n,["density"]);g!=null&&u(e,["density"],g);const y=s(n,["brightness"]);y!=null&&u(e,["brightness"],y);const h=s(n,["scale"]);h!=null&&u(e,["scale"],h);const v=s(n,["muteBass"]);v!=null&&u(e,["muteBass"],v);const S=s(n,["muteDrums"]);S!=null&&u(e,["muteDrums"],S);const _=s(n,["onlyBassAndDrums"]);return _!=null&&u(e,["onlyBassAndDrums"],_),e}function EE(n){const e={},l=s(n,["clientContent"]);l!=null&&u(e,["clientContent"],CE(l));const o=s(n,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],_E(o)),e}function AE(n){const e={},l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);o!=null&&u(e,["mimeType"],o);const r=s(n,["sourceMetadata"]);return r!=null&&u(e,["sourceMetadata"],EE(r)),e}function xE(n){const e={},l=s(n,["audioChunks"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>AE(r))),u(e,["audioChunks"],o)}return e}function ME(n){const e={},l=s(n,["text"]);l!=null&&u(e,["text"],l);const o=s(n,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function RE(n){const e={};s(n,["setupComplete"])!=null&&u(e,["setupComplete"],TE());const o=s(n,["serverContent"]);o!=null&&u(e,["serverContent"],xE(o));const r=s(n,["filteredPrompt"]);return r!=null&&u(e,["filteredPrompt"],ME(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NE(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function DE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function wE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function bE(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],NE(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],DE(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],wE(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function ds(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>bE(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function IE(n){const e={},l=s(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=s(n,["default"]);o!=null&&u(e,["default"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const f=s(n,["enum"]);f!=null&&u(e,["enum"],f);const m=s(n,["example"]);m!=null&&u(e,["example"],m);const g=s(n,["format"]);g!=null&&u(e,["format"],g);const y=s(n,["items"]);y!=null&&u(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&u(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&u(e,["maxProperties"],S);const _=s(n,["maximum"]);_!=null&&u(e,["maximum"],_);const M=s(n,["minItems"]);M!=null&&u(e,["minItems"],M);const k=s(n,["minLength"]);k!=null&&u(e,["minLength"],k);const L=s(n,["minProperties"]);L!=null&&u(e,["minProperties"],L);const q=s(n,["minimum"]);q!=null&&u(e,["minimum"],q);const K=s(n,["nullable"]);K!=null&&u(e,["nullable"],K);const j=s(n,["pattern"]);j!=null&&u(e,["pattern"],j);const X=s(n,["properties"]);X!=null&&u(e,["properties"],X);const $=s(n,["propertyOrdering"]);$!=null&&u(e,["propertyOrdering"],$);const F=s(n,["required"]);F!=null&&u(e,["required"],F);const me=s(n,["title"]);me!=null&&u(e,["title"],me);const ge=s(n,["type"]);return ge!=null&&u(e,["type"],ge),e}function kE(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=s(n,["category"]);l!=null&&u(e,["category"],l);const o=s(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function UE(n){const e={},l=s(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=s(n,["description"]);o!=null&&u(e,["description"],o);const r=s(n,["name"]);r!=null&&u(e,["name"],r);const f=s(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&u(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function LE(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function VE(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],LE(l)),e}function PE(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function GE(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],PE(l)),e}function BE(){return{}}function qE(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>UE(y))),u(e,["functionDeclarations"],g)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],VE(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&u(e,["googleSearchRetrieval"],GE(r)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],BE());const m=s(n,["codeExecution"]);return m!=null&&u(e,["codeExecution"],m),e}function zE(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function OE(n){const e={},l=s(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=s(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function HE(n){const e={},l=s(n,["latLng"]);l!=null&&u(e,["latLng"],OE(l));const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function FE(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],zE(l));const o=s(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],HE(o)),e}function YE(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function gg(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],YE(l)),e}function JE(n){const e={},l=s(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=s(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],gg(o)),e}function $E(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>JE(r))),u(e,["speakerVoiceConfigs"],o)}return e}function ZE(n){const e={},l=s(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],gg(l));const o=s(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],$E(o));const r=s(n,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function KE(n){const e={},l=s(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=s(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function XE(n,e,l){const o={},r=s(e,["systemInstruction"]);l!==void 0&&r!=null&&u(l,["systemInstruction"],ds(At(r)));const f=s(e,["temperature"]);f!=null&&u(o,["temperature"],f);const m=s(e,["topP"]);m!=null&&u(o,["topP"],m);const g=s(e,["topK"]);g!=null&&u(o,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&u(o,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&u(o,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&u(o,["responseLogprobs"],S);const _=s(e,["logprobs"]);_!=null&&u(o,["logprobs"],_);const M=s(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const k=s(e,["frequencyPenalty"]);k!=null&&u(o,["frequencyPenalty"],k);const L=s(e,["seed"]);L!=null&&u(o,["seed"],L);const q=s(e,["responseMimeType"]);q!=null&&u(o,["responseMimeType"],q);const K=s(e,["responseSchema"]);K!=null&&u(o,["responseSchema"],IE(ko(K)));const j=s(e,["responseJsonSchema"]);if(j!=null&&u(o,["responseJsonSchema"],j),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=s(e,["safetySettings"]);if(l!==void 0&&X!=null){let de=X;Array.isArray(de)&&(de=de.map(Le=>kE(Le))),u(l,["safetySettings"],de)}const $=s(e,["tools"]);if(l!==void 0&&$!=null){let de=xl($);Array.isArray(de)&&(de=de.map(Le=>qE(Al(Le)))),u(l,["tools"],de)}const F=s(e,["toolConfig"]);if(l!==void 0&&F!=null&&u(l,["toolConfig"],FE(F)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const me=s(e,["cachedContent"]);l!==void 0&&me!=null&&u(l,["cachedContent"],Rn(n,me));const ge=s(e,["responseModalities"]);ge!=null&&u(o,["responseModalities"],ge);const be=s(e,["mediaResolution"]);be!=null&&u(o,["mediaResolution"],be);const oe=s(e,["speechConfig"]);if(oe!=null&&u(o,["speechConfig"],ZE(sc(oe))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ve=s(e,["thinkingConfig"]);return ve!=null&&u(o,["thinkingConfig"],KE(ve)),o}function Uh(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(g=>ds(g))),u(l,["contents"],m)}const f=s(e,["config"]);return f!=null&&u(l,["generationConfig"],XE(n,f,l)),l}function QE(n,e){const l={},o=s(n,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);const f=s(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&u(e,["requests[]","outputDimensionality"],f),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function WE(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["contents"]);r!=null&&u(l,["requests[]","content"],tg(n,r));const f=s(e,["config"]);f!=null&&u(l,["config"],QE(f,l));const m=s(e,["model"]);return m!==void 0&&u(l,["requests[]","model"],qe(n,m)),l}function jE(n,e){const l={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=s(n,["aspectRatio"]);e!==void 0&&r!=null&&u(e,["parameters","aspectRatio"],r);const f=s(n,["guidanceScale"]);if(e!==void 0&&f!=null&&u(e,["parameters","guidanceScale"],f),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=s(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&u(e,["parameters","includeSafetyAttributes"],y);const h=s(n,["includeRaiReason"]);e!==void 0&&h!=null&&u(e,["parameters","includeRaiReason"],h);const v=s(n,["language"]);e!==void 0&&v!=null&&u(e,["parameters","language"],v);const S=s(n,["outputMimeType"]);e!==void 0&&S!=null&&u(e,["parameters","outputOptions","mimeType"],S);const _=s(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&u(e,["parameters","outputOptions","compressionQuality"],_),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function eA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["prompt"]);r!=null&&u(l,["instances[0]","prompt"],r);const f=s(e,["config"]);return f!=null&&u(l,["config"],jE(f,l)),l}function tA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","name"],qe(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function nA(n,e,l){const o={},r=s(e,["pageSize"]);l!==void 0&&r!=null&&u(l,["_query","pageSize"],r);const f=s(e,["pageToken"]);l!==void 0&&f!=null&&u(l,["_query","pageToken"],f);const m=s(e,["filter"]);l!==void 0&&m!=null&&u(l,["_query","filter"],m);const g=s(e,["queryBase"]);return l!==void 0&&g!=null&&u(l,["_url","models_url"],lg(n,g)),o}function iA(n,e){const l={},o=s(e,["config"]);return o!=null&&u(l,["config"],nA(n,o,l)),l}function lA(n,e){const l={},o=s(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const f=s(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&u(e,["defaultCheckpointId"],f),l}function oA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","name"],qe(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],lA(r,l)),l}function aA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","name"],qe(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function sA(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function rA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(g=>ds(g))),u(l,["contents"],m)}const f=s(e,["config"]);return f!=null&&u(l,["config"],sA(f)),l}function uA(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=s(n,["imageBytes"]);l!=null&&u(e,["bytesBase64Encoded"],Nn(l));const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function cA(n,e){const l={},o=s(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(n,["durationSeconds"]);if(e!==void 0&&r!=null&&u(e,["parameters","durationSeconds"],r),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=s(n,["aspectRatio"]);if(e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=s(n,["personGeneration"]);if(e!==void 0&&m!=null&&u(e,["parameters","personGeneration"],m),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=s(n,["negativePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","negativePrompt"],g);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&u(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function fA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["prompt"]);r!=null&&u(l,["instances[0]","prompt"],r);const f=s(e,["image"]);if(f!=null&&u(l,["instances[0]","image"],uA(f)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=s(e,["config"]);return m!=null&&u(l,["config"],cA(m,l)),l}function dA(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function mA(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["data"]);o!=null&&u(e,["data"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function pA(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function hA(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],dA(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],mA(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],pA(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function Ml(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>hA(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function gA(n){const e={},l=s(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=s(n,["default"]);o!=null&&u(e,["default"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const f=s(n,["enum"]);f!=null&&u(e,["enum"],f);const m=s(n,["example"]);m!=null&&u(e,["example"],m);const g=s(n,["format"]);g!=null&&u(e,["format"],g);const y=s(n,["items"]);y!=null&&u(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&u(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&u(e,["maxProperties"],S);const _=s(n,["maximum"]);_!=null&&u(e,["maximum"],_);const M=s(n,["minItems"]);M!=null&&u(e,["minItems"],M);const k=s(n,["minLength"]);k!=null&&u(e,["minLength"],k);const L=s(n,["minProperties"]);L!=null&&u(e,["minProperties"],L);const q=s(n,["minimum"]);q!=null&&u(e,["minimum"],q);const K=s(n,["nullable"]);K!=null&&u(e,["nullable"],K);const j=s(n,["pattern"]);j!=null&&u(e,["pattern"],j);const X=s(n,["properties"]);X!=null&&u(e,["properties"],X);const $=s(n,["propertyOrdering"]);$!=null&&u(e,["propertyOrdering"],$);const F=s(n,["required"]);F!=null&&u(e,["required"],F);const me=s(n,["title"]);me!=null&&u(e,["title"],me);const ge=s(n,["type"]);return ge!=null&&u(e,["type"],ge),e}function yA(n){const e={},l=s(n,["featureSelectionPreference"]);return l!=null&&u(e,["featureSelectionPreference"],l),e}function vA(n){const e={},l=s(n,["method"]);l!=null&&u(e,["method"],l);const o=s(n,["category"]);o!=null&&u(e,["category"],o);const r=s(n,["threshold"]);return r!=null&&u(e,["threshold"],r),e}function TA(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&u(e,["description"],l);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["parameters"]);r!=null&&u(e,["parameters"],r);const f=s(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&u(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&u(e,["responseJsonSchema"],g),e}function SA(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function CA(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],SA(l)),e}function _A(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function EA(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],_A(l)),e}function AA(){return{}}function xA(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function MA(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],xA(l));const o=s(n,["authType"]);o!=null&&u(e,["authType"],o);const r=s(n,["googleServiceAccountConfig"]);r!=null&&u(e,["googleServiceAccountConfig"],r);const f=s(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&u(e,["oidcConfig"],g),e}function RA(n){const e={},l=s(n,["authConfig"]);return l!=null&&u(e,["authConfig"],MA(l)),e}function NA(){return{}}function yg(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>TA(S))),u(e,["functionDeclarations"],v)}const o=s(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=s(n,["googleSearch"]);r!=null&&u(e,["googleSearch"],CA(r));const f=s(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],EA(f)),s(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],AA());const g=s(n,["googleMaps"]);g!=null&&u(e,["googleMaps"],RA(g)),s(n,["urlContext"])!=null&&u(e,["urlContext"],NA());const h=s(n,["codeExecution"]);return h!=null&&u(e,["codeExecution"],h),e}function DA(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function wA(n){const e={},l=s(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=s(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function bA(n){const e={},l=s(n,["latLng"]);l!=null&&u(e,["latLng"],wA(l));const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function IA(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],DA(l));const o=s(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],bA(o)),e}function kA(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function UA(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],kA(l)),e}function LA(n){const e={},l=s(n,["voiceConfig"]);if(l!=null&&u(e,["voiceConfig"],UA(l)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function VA(n){const e={},l=s(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=s(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function PA(n,e,l){const o={},r=s(e,["systemInstruction"]);l!==void 0&&r!=null&&u(l,["systemInstruction"],Ml(At(r)));const f=s(e,["temperature"]);f!=null&&u(o,["temperature"],f);const m=s(e,["topP"]);m!=null&&u(o,["topP"],m);const g=s(e,["topK"]);g!=null&&u(o,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&u(o,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&u(o,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&u(o,["responseLogprobs"],S);const _=s(e,["logprobs"]);_!=null&&u(o,["logprobs"],_);const M=s(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const k=s(e,["frequencyPenalty"]);k!=null&&u(o,["frequencyPenalty"],k);const L=s(e,["seed"]);L!=null&&u(o,["seed"],L);const q=s(e,["responseMimeType"]);q!=null&&u(o,["responseMimeType"],q);const K=s(e,["responseSchema"]);K!=null&&u(o,["responseSchema"],gA(ko(K)));const j=s(e,["responseJsonSchema"]);j!=null&&u(o,["responseJsonSchema"],j);const X=s(e,["routingConfig"]);X!=null&&u(o,["routingConfig"],X);const $=s(e,["modelSelectionConfig"]);$!=null&&u(o,["modelConfig"],yA($));const F=s(e,["safetySettings"]);if(l!==void 0&&F!=null){let Ie=F;Array.isArray(Ie)&&(Ie=Ie.map(U=>vA(U))),u(l,["safetySettings"],Ie)}const me=s(e,["tools"]);if(l!==void 0&&me!=null){let Ie=xl(me);Array.isArray(Ie)&&(Ie=Ie.map(U=>yg(Al(U)))),u(l,["tools"],Ie)}const ge=s(e,["toolConfig"]);l!==void 0&&ge!=null&&u(l,["toolConfig"],IA(ge));const be=s(e,["labels"]);l!==void 0&&be!=null&&u(l,["labels"],be);const oe=s(e,["cachedContent"]);l!==void 0&&oe!=null&&u(l,["cachedContent"],Rn(n,oe));const ve=s(e,["responseModalities"]);ve!=null&&u(o,["responseModalities"],ve);const de=s(e,["mediaResolution"]);de!=null&&u(o,["mediaResolution"],de);const Le=s(e,["speechConfig"]);Le!=null&&u(o,["speechConfig"],LA(sc(Le)));const pt=s(e,["audioTimestamp"]);pt!=null&&u(o,["audioTimestamp"],pt);const ht=s(e,["thinkingConfig"]);return ht!=null&&u(o,["thinkingConfig"],VA(ht)),o}function Lh(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(g=>Ml(g))),u(l,["contents"],m)}const f=s(e,["config"]);return f!=null&&u(l,["generationConfig"],PA(n,f,l)),l}function GA(n,e){const l={},o=s(n,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&u(e,["instances[]","title"],r);const f=s(n,["outputDimensionality"]);e!==void 0&&f!=null&&u(e,["parameters","outputDimensionality"],f);const m=s(n,["mimeType"]);e!==void 0&&m!=null&&u(e,["instances[]","mimeType"],m);const g=s(n,["autoTruncate"]);return e!==void 0&&g!=null&&u(e,["parameters","autoTruncate"],g),l}function BA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["contents"]);r!=null&&u(l,["instances[]","content"],tg(n,r));const f=s(e,["config"]);return f!=null&&u(l,["config"],GA(f,l)),l}function qA(n,e){const l={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);const f=s(n,["numberOfImages"]);e!==void 0&&f!=null&&u(e,["parameters","sampleCount"],f);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&u(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&u(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const S=s(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&u(e,["parameters","includeSafetyAttributes"],S);const _=s(n,["includeRaiReason"]);e!==void 0&&_!=null&&u(e,["parameters","includeRaiReason"],_);const M=s(n,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const k=s(n,["outputMimeType"]);e!==void 0&&k!=null&&u(e,["parameters","outputOptions","mimeType"],k);const L=s(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&u(e,["parameters","outputOptions","compressionQuality"],L);const q=s(n,["addWatermark"]);e!==void 0&&q!=null&&u(e,["parameters","addWatermark"],q);const K=s(n,["enhancePrompt"]);return e!==void 0&&K!=null&&u(e,["parameters","enhancePrompt"],K),l}function zA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["prompt"]);r!=null&&u(l,["instances[0]","prompt"],r);const f=s(e,["config"]);return f!=null&&u(l,["config"],qA(f,l)),l}function ms(n){const e={},l=s(n,["gcsUri"]);l!=null&&u(e,["gcsUri"],l);const o=s(n,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Nn(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function OA(n){const e={},l=s(n,["maskMode"]);l!=null&&u(e,["maskMode"],l);const o=s(n,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const r=s(n,["maskDilation"]);return r!=null&&u(e,["dilation"],r),e}function HA(n){const e={},l=s(n,["controlType"]);l!=null&&u(e,["controlType"],l);const o=s(n,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function FA(n){const e={},l=s(n,["styleDescription"]);return l!=null&&u(e,["styleDescription"],l),e}function YA(n){const e={},l=s(n,["subjectType"]);l!=null&&u(e,["subjectType"],l);const o=s(n,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function JA(n){const e={},l=s(n,["referenceImage"]);l!=null&&u(e,["referenceImage"],ms(l));const o=s(n,["referenceId"]);o!=null&&u(e,["referenceId"],o);const r=s(n,["referenceType"]);r!=null&&u(e,["referenceType"],r);const f=s(n,["maskImageConfig"]);f!=null&&u(e,["maskImageConfig"],OA(f));const m=s(n,["controlImageConfig"]);m!=null&&u(e,["controlImageConfig"],HA(m));const g=s(n,["styleImageConfig"]);g!=null&&u(e,["styleImageConfig"],FA(g));const y=s(n,["subjectImageConfig"]);return y!=null&&u(e,["subjectImageConfig"],YA(y)),e}function $A(n,e){const l={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);const f=s(n,["numberOfImages"]);e!==void 0&&f!=null&&u(e,["parameters","sampleCount"],f);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&u(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&u(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const S=s(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&u(e,["parameters","includeSafetyAttributes"],S);const _=s(n,["includeRaiReason"]);e!==void 0&&_!=null&&u(e,["parameters","includeRaiReason"],_);const M=s(n,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const k=s(n,["outputMimeType"]);e!==void 0&&k!=null&&u(e,["parameters","outputOptions","mimeType"],k);const L=s(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&u(e,["parameters","outputOptions","compressionQuality"],L);const q=s(n,["editMode"]);e!==void 0&&q!=null&&u(e,["parameters","editMode"],q);const K=s(n,["baseSteps"]);return e!==void 0&&K!=null&&u(e,["parameters","editConfig","baseSteps"],K),l}function ZA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["prompt"]);r!=null&&u(l,["instances[0]","prompt"],r);const f=s(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>JA(y))),u(l,["instances[0]","referenceImages"],g)}const m=s(e,["config"]);return m!=null&&u(l,["config"],$A(m,l)),l}function KA(n,e){const l={},o=s(n,["includeRaiReason"]);e!==void 0&&o!=null&&u(e,["parameters","includeRaiReason"],o);const r=s(n,["outputMimeType"]);e!==void 0&&r!=null&&u(e,["parameters","outputOptions","mimeType"],r);const f=s(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","compressionQuality"],f);const m=s(n,["enhanceInputImage"]);e!==void 0&&m!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],m);const g=s(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&u(e,["parameters","sampleCount"],y);const h=s(n,["mode"]);return e!==void 0&&h!=null&&u(e,["parameters","mode"],h),l}function XA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["image"]);r!=null&&u(l,["instances[0]","image"],ms(r));const f=s(e,["upscaleFactor"]);f!=null&&u(l,["parameters","upscaleConfig","upscaleFactor"],f);const m=s(e,["config"]);return m!=null&&u(l,["config"],KA(m,l)),l}function QA(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","name"],qe(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function WA(n,e,l){const o={},r=s(e,["pageSize"]);l!==void 0&&r!=null&&u(l,["_query","pageSize"],r);const f=s(e,["pageToken"]);l!==void 0&&f!=null&&u(l,["_query","pageToken"],f);const m=s(e,["filter"]);l!==void 0&&m!=null&&u(l,["_query","filter"],m);const g=s(e,["queryBase"]);return l!==void 0&&g!=null&&u(l,["_url","models_url"],lg(n,g)),o}function jA(n,e){const l={},o=s(e,["config"]);return o!=null&&u(l,["config"],WA(n,o,l)),l}function ex(n,e){const l={},o=s(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const f=s(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&u(e,["defaultCheckpointId"],f),l}function tx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],ex(r,l)),l}function nx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","name"],qe(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function ix(n,e){const l={},o=s(n,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],Ml(At(o)));const r=s(n,["tools"]);if(e!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>yg(g))),u(e,["tools"],m)}const f=s(n,["generationConfig"]);return e!==void 0&&f!=null&&u(e,["generationConfig"],f),l}function lx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(g=>Ml(g))),u(l,["contents"],m)}const f=s(e,["config"]);return f!=null&&u(l,["config"],ix(f,l)),l}function ox(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(g=>Ml(g))),u(l,["contents"],m)}const f=s(e,["config"]);return f!=null&&u(l,["config"],f),l}function ax(n){const e={},l=s(n,["uri"]);l!=null&&u(e,["gcsUri"],l);const o=s(n,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Nn(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function sx(n,e){const l={},o=s(n,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const f=s(n,["fps"]);e!==void 0&&f!=null&&u(e,["parameters","fps"],f);const m=s(n,["durationSeconds"]);e!==void 0&&m!=null&&u(e,["parameters","durationSeconds"],m);const g=s(n,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&u(e,["parameters","aspectRatio"],y);const h=s(n,["resolution"]);e!==void 0&&h!=null&&u(e,["parameters","resolution"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const S=s(n,["pubsubTopic"]);e!==void 0&&S!=null&&u(e,["parameters","pubsubTopic"],S);const _=s(n,["negativePrompt"]);e!==void 0&&_!=null&&u(e,["parameters","negativePrompt"],_);const M=s(n,["enhancePrompt"]);e!==void 0&&M!=null&&u(e,["parameters","enhancePrompt"],M);const k=s(n,["generateAudio"]);e!==void 0&&k!=null&&u(e,["parameters","generateAudio"],k);const L=s(n,["lastFrame"]);e!==void 0&&L!=null&&u(e,["instances[0]","lastFrame"],ms(L));const q=s(n,["compressionQuality"]);return e!==void 0&&q!=null&&u(e,["parameters","compressionQuality"],q),l}function rx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],qe(n,o));const r=s(e,["prompt"]);r!=null&&u(l,["instances[0]","prompt"],r);const f=s(e,["image"]);f!=null&&u(l,["instances[0]","image"],ms(f));const m=s(e,["video"]);m!=null&&u(l,["instances[0]","video"],ax(m));const g=s(e,["config"]);return g!=null&&u(l,["config"],sx(g,l)),l}function ux(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function cx(n){const e={},l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function fx(n){const e={},l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function dx(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],ux(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],cx(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],fx(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function mx(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>dx(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function px(n){const e={},l=s(n,["citationSources"]);return l!=null&&u(e,["citations"],l),e}function hx(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=s(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function gx(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>hx(r))),u(e,["urlMetadata"],o)}return e}function yx(n){const e={},l=s(n,["content"]);l!=null&&u(e,["content"],mx(l));const o=s(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],px(o));const r=s(n,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);const f=s(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],gx(m));const g=s(n,["avgLogprobs"]);g!=null&&u(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&u(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&u(e,["safetyRatings"],S),e}function Vh(n){const e={},l=s(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>yx(g))),u(e,["candidates"],m)}const o=s(n,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const r=s(n,["promptFeedback"]);r!=null&&u(e,["promptFeedback"],r);const f=s(n,["usageMetadata"]);return f!=null&&u(e,["usageMetadata"],f),e}function vx(n){const e={},l=s(n,["values"]);return l!=null&&u(e,["values"],l),e}function Tx(){return{}}function Sx(n){const e={},l=s(n,["embeddings"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>vx(f))),u(e,["embeddings"],r)}return s(n,["metadata"])!=null&&u(e,["metadata"],Tx()),e}function Cx(n){const e={},l=s(n,["bytesBase64Encoded"]);l!=null&&u(e,["imageBytes"],Nn(l));const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function vg(n){const e={},l=s(n,["safetyAttributes","categories"]);l!=null&&u(e,["categories"],l);const o=s(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const r=s(n,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function _x(n){const e={},l=s(n,["_self"]);l!=null&&u(e,["image"],Cx(l));const o=s(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const r=s(n,["_self"]);return r!=null&&u(e,["safetyAttributes"],vg(r)),e}function Ex(n){const e={},l=s(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>_x(f))),u(e,["generatedImages"],r)}const o=s(n,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],vg(o)),e}function Ax(n){const e={},l=s(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=s(n,["createTime"]);o!=null&&u(e,["createTime"],o);const r=s(n,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function Xu(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const f=s(n,["version"]);f!=null&&u(e,["version"],f);const m=s(n,["_self"]);m!=null&&u(e,["tunedModelInfo"],Ax(m));const g=s(n,["inputTokenLimit"]);g!=null&&u(e,["inputTokenLimit"],g);const y=s(n,["outputTokenLimit"]);y!=null&&u(e,["outputTokenLimit"],y);const h=s(n,["supportedGenerationMethods"]);return h!=null&&u(e,["supportedActions"],h),e}function xx(n,e){const l={},o=s(e,["nextPageToken"]);o!=null&&u(l,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let f=og(r);Array.isArray(f)&&(f=f.map(m=>Xu(m))),u(l,["models"],f)}return l}function Mx(){return{}}function Rx(n){const e={},l=s(n,["totalTokens"]);l!=null&&u(e,["totalTokens"],l);const o=s(n,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function Nx(n){const e={},l=s(n,["video","uri"]);l!=null&&u(e,["uri"],l);const o=s(n,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],Nn(o));const r=s(n,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function Dx(n){const e={},l=s(n,["_self"]);return l!=null&&u(e,["video"],Nx(l)),e}function wx(n){const e={},l=s(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>Dx(m))),u(e,["generatedVideos"],f)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function bx(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const f=s(n,["error"]);f!=null&&u(e,["error"],f);const m=s(n,["response","generateVideoResponse"]);return m!=null&&u(e,["response"],wx(m)),e}function Ix(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function kx(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["data"]);o!=null&&u(e,["data"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Ux(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Lx(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],Ix(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],kx(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],Ux(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function Vx(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>Lx(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function Px(n){const e={},l=s(n,["citations"]);return l!=null&&u(e,["citations"],l),e}function Gx(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=s(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function Bx(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Gx(r))),u(e,["urlMetadata"],o)}return e}function qx(n){const e={},l=s(n,["content"]);l!=null&&u(e,["content"],Vx(l));const o=s(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],Px(o));const r=s(n,["finishMessage"]);r!=null&&u(e,["finishMessage"],r);const f=s(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],Bx(m));const g=s(n,["avgLogprobs"]);g!=null&&u(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&u(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&u(e,["safetyRatings"],S),e}function Ph(n){const e={},l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>qx(h))),u(e,["candidates"],y)}const o=s(n,["createTime"]);o!=null&&u(e,["createTime"],o);const r=s(n,["responseId"]);r!=null&&u(e,["responseId"],r);const f=s(n,["modelVersion"]);f!=null&&u(e,["modelVersion"],f);const m=s(n,["promptFeedback"]);m!=null&&u(e,["promptFeedback"],m);const g=s(n,["usageMetadata"]);return g!=null&&u(e,["usageMetadata"],g),e}function zx(n){const e={},l=s(n,["truncated"]);l!=null&&u(e,["truncated"],l);const o=s(n,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function Ox(n){const e={},l=s(n,["values"]);l!=null&&u(e,["values"],l);const o=s(n,["statistics"]);return o!=null&&u(e,["statistics"],zx(o)),e}function Hx(n){const e={},l=s(n,["billableCharacterCount"]);return l!=null&&u(e,["billableCharacterCount"],l),e}function Fx(n){const e={},l=s(n,["predictions[]","embeddings"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>Ox(f))),u(e,["embeddings"],r)}const o=s(n,["metadata"]);return o!=null&&u(e,["metadata"],Hx(o)),e}function Yx(n){const e={},l=s(n,["gcsUri"]);l!=null&&u(e,["gcsUri"],l);const o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],Nn(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Tg(n){const e={},l=s(n,["safetyAttributes","categories"]);l!=null&&u(e,["categories"],l);const o=s(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const r=s(n,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function uc(n){const e={},l=s(n,["_self"]);l!=null&&u(e,["image"],Yx(l));const o=s(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const r=s(n,["_self"]);r!=null&&u(e,["safetyAttributes"],Tg(r));const f=s(n,["prompt"]);return f!=null&&u(e,["enhancedPrompt"],f),e}function Jx(n){const e={},l=s(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>uc(f))),u(e,["generatedImages"],r)}const o=s(n,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],Tg(o)),e}function $x(n){const e={},l=s(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>uc(r))),u(e,["generatedImages"],o)}return e}function Zx(n){const e={},l=s(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>uc(r))),u(e,["generatedImages"],o)}return e}function Kx(n){const e={},l=s(n,["endpoint"]);l!=null&&u(e,["name"],l);const o=s(n,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function Xx(n){const e={},l=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&u(e,["baseModel"],l);const o=s(n,["createTime"]);o!=null&&u(e,["createTime"],o);const r=s(n,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function Qx(n){const e={},l=s(n,["checkpointId"]);l!=null&&u(e,["checkpointId"],l);const o=s(n,["epoch"]);o!=null&&u(e,["epoch"],o);const r=s(n,["step"]);return r!=null&&u(e,["step"],r),e}function Qu(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const f=s(n,["versionId"]);f!=null&&u(e,["version"],f);const m=s(n,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(_=>Kx(_))),u(e,["endpoints"],S)}const g=s(n,["labels"]);g!=null&&u(e,["labels"],g);const y=s(n,["_self"]);y!=null&&u(e,["tunedModelInfo"],Xx(y));const h=s(n,["defaultCheckpointId"]);h!=null&&u(e,["defaultCheckpointId"],h);const v=s(n,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>Qx(_))),u(e,["checkpoints"],S)}return e}function Wx(n,e){const l={},o=s(e,["nextPageToken"]);o!=null&&u(l,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let f=og(r);Array.isArray(f)&&(f=f.map(m=>Qu(m))),u(l,["models"],f)}return l}function jx(){return{}}function eM(n){const e={},l=s(n,["totalTokens"]);return l!=null&&u(e,["totalTokens"],l),e}function tM(n){const e={},l=s(n,["tokensInfo"]);return l!=null&&u(e,["tokensInfo"],l),e}function nM(n){const e={},l=s(n,["gcsUri"]);l!=null&&u(e,["uri"],l);const o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Nn(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function iM(n){const e={},l=s(n,["_self"]);return l!=null&&u(e,["video"],nM(l)),e}function lM(n){const e={},l=s(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>iM(m))),u(e,["generatedVideos"],f)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function oM(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const f=s(n,["error"]);f!=null&&u(e,["error"],f);const m=s(n,["response"]);return m!=null&&u(e,["response"],lM(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aM="Content-Type",sM="X-Server-Timeout",rM="User-Agent",Wu="x-goog-api-client",uM="1.7.0",cM=`google-genai-sdk/${uM}`,fM="v1beta1",dM="v1beta",Gh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class mM{constructor(e){var l,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:fM,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:dM,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,o){const r=[this.getRequestUrlInternal(l)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,l,o);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))r.searchParams.append(m,String(g));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.unaryApiCall(r,f,e.httpMethod)}patchHttpOptions(e,l){const o=JSON.parse(JSON.stringify(e));for(const[r,f]of Object.entries(l))typeof f=="object"?o[r]=Object.assign(Object.assign({},o[r]),f):f!==void 0&&(o[r]=f);return o}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,l,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.streamApiCall(r,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,o){if(l&&l.timeout||o){const r=new AbortController,f=r.signal;l.timeout&&(l==null?void 0:l.timeout)>0&&setTimeout(()=>r.abort(),l.timeout),o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=f}return l&&l.extraBody!==null&&pM(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await Bh(r),new Fu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await Bh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var l;return vl(this,arguments,function*(){const r=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Xe(r.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=f.decode(y);try{const S=JSON.parse(h);if("error"in S){const _=JSON.parse(JSON.stringify(S.error)),M=_.status,k=_.code,L=`got status: ${M}. ${JSON.stringify(S)}`;if(k>=400&&k<600)throw new fs({message:L,status:k})}}catch(S){if(S.name==="ApiError")throw S}m+=h;let v=m.match(Gh);for(;v;){const S=v[1];try{const _=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Xe(new Fu(_)),m=m.slice(v[0].length),v=m.match(Gh)}catch(_){throw new Error(`exception parsing stream chunk ${S}. ${_}`)}}}}finally{r.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},l=cM+" "+this.clientOptions.userAgentExtra;return e[rM]=l,e[Wu]=l,e[aM]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[o,r]of Object.entries(e.headers))l.append(o,r);e.timeout&&e.timeout>0&&l.append(sM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var o;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);r.sizeBytes=String(m.size);const g=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y=await this.fetchUploadUrl(r,l);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var o;let r={};l!=null&&l.httpOptions?r=l.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:ie("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:r});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(o=m==null?void 0:m.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Bh(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(o);throw l>=400&&l<600?new fs({message:r,status:l}):new Error(r)}}function pM(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(f,m){const g=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=o(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=o(l,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hM="mcp_used/unknown";function Sg(n){for(const e of n)if(cc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Cg(n){var e;const l=(e=n[Wu])!==null&&e!==void 0?e:"";n[Wu]=(l+` ${hM}`).trimStart()}function gM(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(r=>cc(r)))!==null&&o!==void 0?o:!1}function yM(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(r=>!cc(r)))!==null&&o!==void 0?o:!1}function cc(n){return n!==null&&typeof n=="object"&&n instanceof fc}function vM(n,e=100){return vl(this,arguments,function*(){let o,r=0;for(;r<e;){const f=yield Xe(n.listTools({cursor:o}));for(const m of f.tools)yield yield Xe(m),r++;if(!f.nextCursor)break;o=f.nextCursor}})}class fc{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new fc(e,l)}async initialize(){var e,l,o,r;if(this.mcpTools.length>0)return;const f={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,bo(vM(v))),h;h=await y.next(),e=h.done,!e;g=!0){r=h.value,g=!1;const S=r;m.push(S);const _=S.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=v}}catch(S){l={error:S}}finally{try{!g&&!e&&(o=y.return)&&await o.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),m0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await r.callTool({name:o.name,arguments:o.args},void 0,f);l.push({functionResponse:{name:o.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TM(n,e,l){const o=new e0;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data);const f=RE(r);Object.assign(o,f),e(o)}class SM{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o}async connect(e){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=EM(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(X=>{h=X}),S=e.callbacks,_=function(){h({})},M=this.apiClient,k={onopen:_,onmessage:X=>{TM(M,S.onmessage,X)},onerror:(l=S==null?void 0:S.onerror)!==null&&l!==void 0?l:function(X){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(X){}},L=this.webSocketFactory.create(y,_M(m),k);L.connect(),await v;const q=qe(this.apiClient,e.model),K=pg({model:q}),j=Ku({setup:K});return L.send(JSON.stringify(j)),new CM(L,this.apiClient)}}class CM{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=z_(e),o=hg(l);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=O_(e),o=Ku(l);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const l=Ku({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(gl.PLAY)}pause(){this.sendPlaybackControl(gl.PAUSE)}stop(){this.sendPlaybackControl(gl.STOP)}resetContext(){this.sendPlaybackControl(gl.RESET_CONTEXT)}close(){this.conn.close()}}function _M(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function EM(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function xM(n,e,l){const o=new jT;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(n.isVertexAI()){const m=vE(f);Object.assign(o,m)}else{const m=yE(f);Object.assign(o,m)}e(o)}class MM{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o,this.music=new SM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,o,r,f,m,g;const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const S=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Sg(e.config.tools)&&Cg(S);const _=wM(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const oe=this.apiClient.getApiKey();let ve="BidiGenerateContent",de="key";oe!=null&&oe.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ve="BidiGenerateContentConstrained",de="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ve}?${de}=${oe}`}let M=()=>{};const k=new Promise(oe=>{M=oe}),L=e.callbacks,q=function(){var oe;(oe=L==null?void 0:L.onopen)===null||oe===void 0||oe.call(L),M({})},K=this.apiClient,j={onopen:q,onmessage:oe=>{xM(K,L.onmessage,oe)},onerror:(l=L==null?void 0:L.onerror)!==null&&l!==void 0?l:function(oe){},onclose:(o=L==null?void 0:L.onclose)!==null&&o!==void 0?o:function(oe){}},X=this.webSocketFactory.create(v,DM(_),j);X.connect(),await k;let $=qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const oe=this.apiClient.getProject(),ve=this.apiClient.getLocation();$=`projects/${oe}/locations/${ve}/`+$}let F={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ss.AUDIO]}:e.config.responseModalities=[ss.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const me=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],ge=[];for(const oe of me)if(this.isCallableTool(oe)){const ve=oe;ge.push(await ve.tool())}else ge.push(oe);ge.length>0&&(e.config.tools=ge);const be={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=U_(this.apiClient,be):F=k_(this.apiClient,be),delete F.config,X.send(JSON.stringify(F)),new NM(X,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const RM={turnComplete:!0};class NM{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=Xt(l.turns),e.isVertexAI()?o=o.map(r=>Ml(r)):o=o.map(r=>ds(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const f of o){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(AM)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},RM),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:q_(e)}:l={realtimeInput:B_(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function DM(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function wM(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qh=10;function zh(n){var e,l,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const m of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(es(m)){r=!0;break}if(!r)return!0;const f=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function es(n){return"callTool"in n&&typeof n.callTool=="function"}function Oh(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bM extends Mi{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var o,r,f,m,g;const y=await this.processParamsForMcpUsage(l);if(!gM(l)||zh(l.config))return await this.generateContentInternal(y);if(yM(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const S=Xt(y.contents),_=(f=(r=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:qh;let M=0;for(;M<_&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const k=h.candidates[0].content,L=[];for(const q of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(es(q)){const j=await q.callTool(h.functionCalls);L.push(...j)}M++,v={role:"user",parts:L},y.contents=Xt(y.contents),y.contents.push(k),y.contents.push(v),Oh(y.config)&&(S.push(k),S.push(v))}return Oh(y.config)&&(h.automaticFunctionCallingHistory=S),h},this.generateContentStream=async l=>{if(zh(l.config)){const o=await this.processParamsForMcpUsage(l);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var r;let f;const m=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let g;return f?g={generatedImages:m,positivePromptSafetyAttributes:f}:g={generatedImages:m},g}),this.list=async l=>{var o;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((o=m.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Uo(xi.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var l,o,r;const f=(l=e.config)===null||l===void 0?void 0:l.tools;if(!f)return e;const m=await Promise.all(f.map(async y=>es(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&Sg(e.config.tools)){const y=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Cg(h),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(e){var l,o,r;const f=new Map;for(const m of(o=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(es(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(e){var l,o,r;const f=(r=(o=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:qh;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return function(h,v,S){var _,M;return vl(this,arguments,function*(){for(var k,L,q,K;g<f;){m&&(g++,m=!1);const F=yield Xe(h.processParamsForMcpUsage(S)),me=yield Xe(h.generateContentStreamInternal(F)),ge=[],be=[];try{for(var j=!0,X=(L=void 0,bo(me)),$;$=yield Xe(X.next()),k=$.done,!k;j=!0){K=$.value,j=!1;const oe=K;if(yield yield Xe(oe),oe.candidates&&(!((_=oe.candidates[0])===null||_===void 0)&&_.content)){be.push(oe.candidates[0].content);for(const ve of(M=oe.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(g<f&&ve.functionCall){if(!ve.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ve.functionCall.name)){const de=yield Xe(v.get(ve.functionCall.name).callTool([ve.functionCall]));ge.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ve.functionCall.name}`)}}}}catch(oe){L={error:oe}}finally{try{!j&&!k&&(q=X.return)&&(yield Xe(q.call(X)))}finally{if(L)throw L.error}}if(ge.length>0){m=!0;const oe=new No;oe.candidates=[{content:{role:"user",parts:ge}}],yield yield Xe(oe);const ve=[];ve.push(...be),ve.push({role:"user",parts:ge});const de=Xt(S.contents).concat(ve);S.contents=de}else break}})}(this,y,e)}async generateContentInternal(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Lh(this.apiClient,e);return g=ie("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const S=Ph(v),_=new No;return Object.assign(_,S),_})}else{const h=Uh(this.apiClient,e);return g=ie("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=Vh(v),_=new No;return Object.assign(_,S),_})}}async generateContentStreamInternal(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Lh(this.apiClient,e);return g=ie("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(S){return vl(this,arguments,function*(){var _,M,k,L;try{for(var q=!0,K=bo(S),j;j=yield Xe(K.next()),_=j.done,!_;q=!0){L=j.value,q=!1;const $=Ph(yield Xe(L.json())),F=new No;Object.assign(F,$),yield yield Xe(F)}}catch(X){M={error:X}}finally{try{!q&&!_&&(k=K.return)&&(yield Xe(k.call(K)))}finally{if(M)throw M.error}}})})}else{const h=Uh(this.apiClient,e);return g=ie("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(S){return vl(this,arguments,function*(){var _,M,k,L;try{for(var q=!0,K=bo(S),j;j=yield Xe(K.next()),_=j.done,!_;q=!0){L=j.value,q=!1;const $=Vh(yield Xe(L.json())),F=new No;Object.assign(F,$),yield yield Xe(F)}}catch(X){M={error:X}}finally{try{!q&&!_&&(k=K.return)&&(yield Xe(k.call(K)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=BA(this.apiClient,e);return g=ie("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const S=Fx(v),_=new mh;return Object.assign(_,S),_})}else{const h=WE(this.apiClient,e);return g=ie("{model}:batchEmbedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=Sx(v),_=new mh;return Object.assign(_,S),_})}}async generateImagesInternal(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=zA(this.apiClient,e);return g=ie("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const S=Jx(v),_=new ph;return Object.assign(_,S),_})}else{const h=eA(this.apiClient,e);return g=ie("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=Ex(v),_=new ph;return Object.assign(_,S),_})}}async editImageInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=ZA(this.apiClient,e);return f=ie("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=$x(y),v=new $T;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=XA(this.apiClient,e);return f=ie("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Zx(y),v=new ZT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=QA(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Qu(v))}else{const h=tA(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Xu(v))}}async listInternal(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=jA(this.apiClient,e);return g=ie("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const S=Wx(this.apiClient,v),_=new hh;return Object.assign(_,S),_})}else{const h=iA(this.apiClient,e);return g=ie("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=xx(this.apiClient,v),_=new hh;return Object.assign(_,S),_})}}async update(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=tx(this.apiClient,e);return g=ie("{model}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Qu(v))}else{const h=oA(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Xu(v))}}async delete(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nx(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(()=>{const v=jx(),S=new gh;return Object.assign(S,v),S})}else{const h=aA(this.apiClient,e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=Mx(),S=new gh;return Object.assign(S,v),S})}}async countTokens(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=lx(this.apiClient,e);return g=ie("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const S=eM(v),_=new yh;return Object.assign(_,S),_})}else{const h=rA(this.apiClient,e);return g=ie("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=Rx(v),_=new yh;return Object.assign(_,S),_})}}async computeTokens(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=ox(this.apiClient,e);return f=ie("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=tM(y),v=new KT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=rx(this.apiClient,e);return g=ie("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>oM(v))}else{const h=fA(this.apiClient,e);return g=ie("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>bx(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IM(n){const e={},l=s(n,["operationName"]);l!=null&&u(e,["_url","operationName"],l);const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function kM(n){const e={},l=s(n,["operationName"]);l!=null&&u(e,["_url","operationName"],l);const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function UM(n){const e={},l=s(n,["operationName"]);l!=null&&u(e,["operationName"],l);const o=s(n,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const r=s(n,["config"]);return r!=null&&u(e,["config"],r),e}function LM(n){const e={},l=s(n,["video","uri"]);l!=null&&u(e,["uri"],l);const o=s(n,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],Nn(o));const r=s(n,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function VM(n){const e={},l=s(n,["_self"]);return l!=null&&u(e,["video"],LM(l)),e}function PM(n){const e={},l=s(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>VM(m))),u(e,["generatedVideos"],f)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function GM(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const f=s(n,["error"]);f!=null&&u(e,["error"],f);const m=s(n,["response","generateVideoResponse"]);return m!=null&&u(e,["response"],PM(m)),e}function BM(n){const e={},l=s(n,["gcsUri"]);l!=null&&u(e,["uri"],l);const o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Nn(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function qM(n){const e={},l=s(n,["_self"]);return l!=null&&u(e,["video"],BM(l)),e}function zM(n){const e={},l=s(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>qM(m))),u(e,["generatedVideos"],f)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function Hh(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const f=s(n,["error"]);f!=null&&u(e,["error"],f);const m=s(n,["response"]);return m!=null&&u(e,["response"],zM(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OM extends Mi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;return o&&"httpOptions"in o&&(f=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}})}else return this.getVideosOperationInternal({operationName:l.name,config:o})}async getVideosOperationInternal(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=kM(e);return g=ie("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Hh(v))}else{const h=IM(e);return g=ie("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>GM(v))}}async fetchPredictVideosOperationInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=UM(e);return f=ie("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>Hh(y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HM(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function _g(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],HM(l)),e}function FM(n){const e={},l=s(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=s(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],_g(o)),e}function YM(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>FM(r))),u(e,["speakerVoiceConfigs"],o)}return e}function JM(n){const e={},l=s(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],_g(l));const o=s(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],YM(o));const r=s(n,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function $M(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function ZM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function KM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function XM(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],$M(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],ZM(r));const f=s(n,["fileData"]);f!=null&&u(e,["fileData"],KM(f));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&u(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&u(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&u(e,["text"],S),e}function QM(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>XM(f))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function WM(n){const e={},l=s(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=s(n,["description"]);o!=null&&u(e,["description"],o);const r=s(n,["name"]);r!=null&&u(e,["name"],r);const f=s(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&u(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function jM(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function eR(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],jM(l)),e}function tR(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function nR(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],tR(l)),e}function iR(){return{}}function lR(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>WM(y))),u(e,["functionDeclarations"],g)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],eR(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&u(e,["googleSearchRetrieval"],nR(r)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],iR());const m=s(n,["codeExecution"]);return m!=null&&u(e,["codeExecution"],m),e}function oR(n){const e={},l=s(n,["handle"]);if(l!=null&&u(e,["handle"],l),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Fh(){return{}}function aR(n){const e={},l=s(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=s(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const r=s(n,["endOfSpeechSensitivity"]);r!=null&&u(e,["endOfSpeechSensitivity"],r);const f=s(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function sR(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],aR(l));const o=s(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const r=s(n,["turnCoverage"]);return r!=null&&u(e,["turnCoverage"],r),e}function rR(n){const e={},l=s(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function uR(n){const e={},l=s(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=s(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],rR(o)),e}function cR(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function fR(n,e){const l={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const f=s(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","speechConfig"],JM(rc(S)));const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],_);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],QM(At(M)));const k=s(n,["tools"]);if(e!==void 0&&k!=null){let F=xl(k);Array.isArray(F)&&(F=F.map(me=>lR(Al(me)))),u(e,["setup","tools"],F)}const L=s(n,["sessionResumption"]);e!==void 0&&L!=null&&u(e,["setup","sessionResumption"],oR(L));const q=s(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","inputAudioTranscription"],Fh());const K=s(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&u(e,["setup","outputAudioTranscription"],Fh());const j=s(n,["realtimeInputConfig"]);e!==void 0&&j!=null&&u(e,["setup","realtimeInputConfig"],sR(j));const X=s(n,["contextWindowCompression"]);e!==void 0&&X!=null&&u(e,["setup","contextWindowCompression"],uR(X));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&u(e,["setup","proactivity"],cR($)),l}function dR(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["setup","model"],qe(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],fR(r,l)),l}function mR(n,e,l){const o={},r=s(e,["expireTime"]);l!==void 0&&r!=null&&u(l,["expireTime"],r);const f=s(e,["newSessionExpireTime"]);l!==void 0&&f!=null&&u(l,["newSessionExpireTime"],f);const m=s(e,["uses"]);l!==void 0&&m!=null&&u(l,["uses"],m);const g=s(e,["liveConnectConstraints"]);l!==void 0&&g!=null&&u(l,["bidiGenerateContentSetup"],dR(n,g));const y=s(e,["lockAdditionalFields"]);return l!==void 0&&y!=null&&u(l,["fieldMask"],y),o}function pR(n,e){const l={},o=s(e,["config"]);return o!=null&&u(l,["config"],mR(n,o,l)),l}function hR(n){const e={},l=s(n,["name"]);return l!=null&&u(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gR(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const o=n[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(f=>`${l}.${f}`);e.push(...r)}else e.push(l)}return e.join(",")}function yR(n,e){let l=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const f=o.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,l=f):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(l){const f=gR(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class vR extends Mi{constructor(e){super(),this.apiClient=e}async create(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=pR(this.apiClient,e);f=ie("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=yR(g,e.config);return r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>hR(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TR(n){const e={},l=s(n,["name"]);l!=null&&u(e,["_url","name"],l);const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function SR(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);const f=s(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),l}function CR(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],SR(l,e)),e}function _R(n){const e={},l=s(n,["textInput"]);l!=null&&u(e,["textInput"],l);const o=s(n,["output"]);return o!=null&&u(e,["output"],o),e}function ER(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=s(n,["examples"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>_R(r))),u(e,["examples","examples"],o)}return e}function AR(n,e){const l={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=s(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(n,["epochCount"]);e!==void 0&&r!=null&&u(e,["tuningTask","hyperparameters","epochCount"],r);const f=s(n,["learningRateMultiplier"]);if(f!=null&&u(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=s(n,["batchSize"]);e!==void 0&&m!=null&&u(e,["tuningTask","hyperparameters","batchSize"],m);const g=s(n,["learningRate"]);return e!==void 0&&g!=null&&u(e,["tuningTask","hyperparameters","learningRate"],g),l}function xR(n){const e={},l=s(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=s(n,["trainingDataset"]);o!=null&&u(e,["tuningTask","trainingData"],ER(o));const r=s(n,["config"]);return r!=null&&u(e,["config"],AR(r,e)),e}function MR(n){const e={},l=s(n,["name"]);l!=null&&u(e,["_url","name"],l);const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function RR(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);const f=s(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),l}function NR(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],RR(l,e)),e}function DR(n,e){const l={},o=s(n,["gcsUri"]);if(e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function wR(n){const e={},l=s(n,["gcsUri"]);return l!=null&&u(e,["validationDatasetUri"],l),e}function bR(n,e){const l={},o=s(n,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],wR(o));const r=s(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&u(e,["tunedModelDisplayName"],r);const f=s(n,["description"]);e!==void 0&&f!=null&&u(e,["description"],f);const m=s(n,["epochCount"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const h=s(n,["adapterSize"]);if(e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function IR(n){const e={},l=s(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=s(n,["trainingDataset"]);o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],DR(o,e));const r=s(n,["config"]);return r!=null&&u(e,["config"],bR(r,e)),e}function kR(n){const e={},l=s(n,["name"]);l!=null&&u(e,["model"],l);const o=s(n,["name"]);return o!=null&&u(e,["endpoint"],o),e}function Eg(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["state"]);o!=null&&u(e,["state"],ng(o));const r=s(n,["createTime"]);r!=null&&u(e,["createTime"],r);const f=s(n,["tuningTask","startTime"]);f!=null&&u(e,["startTime"],f);const m=s(n,["tuningTask","completeTime"]);m!=null&&u(e,["endTime"],m);const g=s(n,["updateTime"]);g!=null&&u(e,["updateTime"],g);const y=s(n,["description"]);y!=null&&u(e,["description"],y);const h=s(n,["baseModel"]);h!=null&&u(e,["baseModel"],h);const v=s(n,["_self"]);v!=null&&u(e,["tunedModel"],kR(v));const S=s(n,["distillationSpec"]);S!=null&&u(e,["distillationSpec"],S);const _=s(n,["experiment"]);_!=null&&u(e,["experiment"],_);const M=s(n,["labels"]);M!=null&&u(e,["labels"],M);const k=s(n,["pipelineJob"]);k!=null&&u(e,["pipelineJob"],k);const L=s(n,["serviceAccount"]);L!=null&&u(e,["serviceAccount"],L);const q=s(n,["tunedModelDisplayName"]);return q!=null&&u(e,["tunedModelDisplayName"],q),e}function UR(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["tunedModels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>Eg(f))),u(e,["tuningJobs"],r)}return e}function LR(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const f=s(n,["error"]);return f!=null&&u(e,["error"],f),e}function VR(n){const e={},l=s(n,["checkpointId"]);l!=null&&u(e,["checkpointId"],l);const o=s(n,["epoch"]);o!=null&&u(e,["epoch"],o);const r=s(n,["step"]);r!=null&&u(e,["step"],r);const f=s(n,["endpoint"]);return f!=null&&u(e,["endpoint"],f),e}function PR(n){const e={},l=s(n,["model"]);l!=null&&u(e,["model"],l);const o=s(n,["endpoint"]);o!=null&&u(e,["endpoint"],o);const r=s(n,["checkpoints"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>VR(m))),u(e,["checkpoints"],f)}return e}function ju(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["state"]);o!=null&&u(e,["state"],ng(o));const r=s(n,["createTime"]);r!=null&&u(e,["createTime"],r);const f=s(n,["startTime"]);f!=null&&u(e,["startTime"],f);const m=s(n,["endTime"]);m!=null&&u(e,["endTime"],m);const g=s(n,["updateTime"]);g!=null&&u(e,["updateTime"],g);const y=s(n,["error"]);y!=null&&u(e,["error"],y);const h=s(n,["description"]);h!=null&&u(e,["description"],h);const v=s(n,["baseModel"]);v!=null&&u(e,["baseModel"],v);const S=s(n,["tunedModel"]);S!=null&&u(e,["tunedModel"],PR(S));const _=s(n,["supervisedTuningSpec"]);_!=null&&u(e,["supervisedTuningSpec"],_);const M=s(n,["tuningDataStats"]);M!=null&&u(e,["tuningDataStats"],M);const k=s(n,["encryptionSpec"]);k!=null&&u(e,["encryptionSpec"],k);const L=s(n,["partnerModelTuningSpec"]);L!=null&&u(e,["partnerModelTuningSpec"],L);const q=s(n,["distillationSpec"]);q!=null&&u(e,["distillationSpec"],q);const K=s(n,["experiment"]);K!=null&&u(e,["experiment"],K);const j=s(n,["labels"]);j!=null&&u(e,["labels"],j);const X=s(n,["pipelineJob"]);X!=null&&u(e,["pipelineJob"],X);const $=s(n,["serviceAccount"]);$!=null&&u(e,["serviceAccount"],$);const F=s(n,["tunedModelDisplayName"]);return F!=null&&u(e,["tunedModelDisplayName"],F),e}function GR(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["tuningJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>ju(f))),u(e,["tuningJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BR extends Mi{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new Uo(xi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(l);{const o=await this.tuneMldevInternal(l);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:Hu.JOB_STATE_QUEUED}}}}async getInternal(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=MR(e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>ju(v))}else{const h=TR(e);return g=ie("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Eg(v))}}async listInternal(e){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=NR(e);return g=ie("tuningJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const S=GR(v),_=new vh;return Object.assign(_,S),_})}else{const h=CR(e);return g=ie("tunedModels",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=UR(v),_=new vh;return Object.assign(_,S),_})}}async tuneInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=IR(e);return f=ie("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>ju(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xR(e);return f=ie("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>LR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qR{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zR=1024*1024*8,OR=3,HR=1e3,FR=2,Uu="x-goog-upload-status";async function YR(n,e,l){var o,r,f;let m=0,g=0,y=new Fu(new Response),h="upload";for(m=n.size;g<m;){const S=Math.min(zR,m-g),_=n.slice(g,g+S);g+S>=m&&(h+=", finalize");let M=0,k=HR;for(;M<OR&&(y=await l.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(S)}}}),!(!((o=y==null?void 0:y.headers)===null||o===void 0)&&o[Uu]));)M++,await $R(k),k=k*FR;if(g+=S,((r=y==null?void 0:y.headers)===null||r===void 0?void 0:r[Uu])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[Uu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function JR(n){return{size:n.size,type:n.type}}function $R(n){return new Promise(e=>setTimeout(e,n))}class ZR{async upload(e,l,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YR(e,l,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KR{create(e,l,o){return new XR(e,l,o)}}class XR{constructor(e,l,o){this.url=e,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yh="x-goog-api-key";class QR{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Yh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Yh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WR="gl-node/";class Ag{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const o=JT(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new QR(this.apiKey);this.apiClient=new mM({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:WR+"web",uploader:new ZR,downloader:new qR}),this.models=new bM(this.apiClient),this.live=new MM(this.apiClient,r,new KR),this.batches=new SS(this.apiClient),this.chats=new AC(this.models,this.apiClient),this.caches=new CC(this.apiClient),this.files=new PC(this.apiClient),this.operations=new OM(this.apiClient),this.authTokens=new vR(this.apiClient),this.tunings=new BR(this.apiClient)}}const jR=n=>{let e=n.trim();const l=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,o=e.match(l);o&&o[2]&&(e=o[2].trim());try{return JSON.parse(e)}catch(r){return console.error("Failed to parse JSON response from Gemini:",r,"Original text:",n),null}},eN=async(n,e)=>{var r,f;const l=new Ag({apiKey:e});if(!l)return{error:"Gemini API client not initialized. API Key may be missing or invalid."};const o=`Führe eine Marktrecherche für das Produkt "${n}" durch. Identifiziere Hauptkonkurrenten, typische Preispunkte und allgemeine Kundenstimmungen oder -probleme, die in Online-Diskussionen oder Rezensionen erwähnt werden. Fasse die Ergebnisse kurz zusammen. Nenne auch die Quellen, falls möglich.`;try{const m=await l.models.generateContent({model:Zh,contents:o,config:{tools:[{googleSearch:{}}]}}),g=m.text;let y=[];return m.candidates&&((f=(r=m.candidates[0])==null?void 0:r.groundingMetadata)!=null&&f.groundingChunks)&&(y=m.candidates[0].groundingMetadata.groundingChunks.filter(h=>h.web&&h.web.uri).map(h=>{var v,S;return{title:((v=h.web)==null?void 0:v.title)||((S=h.web)==null?void 0:S.uri)||"Unknown Source",uri:h.web.uri}})),{summary:g,sourceUrls:y}}catch(m){console.error("Error fetching market research from Gemini:",m);let g=m.message||"Failed to fetch market research.";return m.message&&(m.message.toLowerCase().includes("api key not valid")||m.message.toLowerCase().includes("api_key_invalid")||m.message.toLowerCase().includes("permission denied"))&&(g=`Gemini API Fehler: ${m.message}. Bitte überprüfen Sie Ihren API Key und dessen Berechtigungen.`),{error:g}}},tN=async(n,e,l)=>{const o=new Ag({apiKey:e});if(!o)return{error:"Gemini API client not initialized. API Key may be missing or invalid."};const r=`
Du bist ein KI-Assistent, der dabei hilft, detaillierte Produktrezensionsinformationen zu erstellen.
Für das Produkt "${n}":

${l?`
**Wichtiger Kontext aus der Marktforschung:**
Bitte berücksichtige die folgenden Erkenntnisse aus der Marktforschung und Konkurrenzanalyse bei der Erstellung des Testplans, der Bewertungsvorhersage und der Rezensionstexte. Achte darauf, wie sich das Produkt im Vergleich zu Wettbewerbern positioniert, welche Preispunkte üblich sind und welche Kundenstimmungen oder -probleme bereits bekannt sind.
---
${l}
---
`:""}

Basierend auf dem Produktnamen${l?", dem oben genannten Marktforschungskontext,":""} und allgemeinen Kenntnissen:

1.  **Testplan**: Schlage 3-5 spezifische, sinnvolle Tests vor, die ein Rezensent durchführen könnte, um die Qualität und Funktionalität des Produkts zu bewerten. Sei präzise und berücksichtige ggf. die Ergebnisse der Marktforschung.
2.  **Vorhergesagte Bewertung (1-5 Sterne)**: Schätze eine wahrscheinliche Sternebewertung ein. Berücksichtige dabei auch ${l?"den Marktforschungskontext.":"allgemeine Erwartungen."}
3.  **Begründung für Bewertung**: Erkläre kurz, warum du diese Bewertung erwartest.
4.  **Rezensionsvorlagen**: Schreibe 5 vollständige Rezensionstexte (für 5, 4, 3, 2 und 1 Stern). Diese sollten authentisch klingen, den Produktnamen natürlich integrieren und Kontext zur Nutzung geben.
5.  **Interaktiver Bewertungsbaukasten**: Erstelle Textbausteine für eine interaktive Bewertung im Feld \`interactiveRating\`.
    *   Identifiziere 4-6 Schlüsselthemen/Aspekte des Produkts basierend auf dem Produktnamen, der Marktforschung und dem Testplan (z.B. "Design", "Leistung", "Akkulaufzeit", "Preis-Leistung"). Diese werden die Schlüssel im JSON-Objekt.
    *   Erstelle für jedes Thema eine Liste von 3-5 kurzen, unabhängigen Textbausteinen (jeweils nur 1-2 Sätze).
    *   Jeder Baustein in der Liste sollte eine andere Wertung repräsentieren (z.B. sehr positiv, positiv, neutral, negativ).
    *   Die Bausteine müssen so formuliert sein, dass sie vom Benutzer frei kombiniert werden können, um eine vollständige Rezension zu erstellen. Sie sollten nicht aufeinander aufbauen.
    *   Das Ergebnis soll ein JSON-Objekt sein, bei dem die Schlüssel die Themennamen sind und die Werte Arrays von Text-Strings sind.

Bitte gib die Antwort als JSON zurück.
`;try{const f=await o.models.generateContent({model:Zh,contents:r,config:{responseMimeType:"application/json",responseSchema:{type:Ke.OBJECT,properties:{productName:{type:Ke.STRING},testPlan:{type:Ke.ARRAY,items:{type:Ke.STRING}},predictedRating:{type:Ke.OBJECT,properties:{stars:{type:Ke.INTEGER},justification:{type:Ke.STRING}},required:["stars","justification"]},reviews:{type:Ke.OBJECT,properties:{"5_star":{type:Ke.STRING},"4_star":{type:Ke.STRING},"3_star":{type:Ke.STRING},"2_star":{type:Ke.STRING},"1_star":{type:Ke.STRING}},required:["5_star","4_star","3_star","2_star","1_star"]},interactiveRating:{type:Ke.OBJECT,description:"An object where keys are product topics and values are arrays of short, mixable review sentences for that topic, covering different sentiments. The keys are dynamic.",additionalProperties:{type:Ke.ARRAY,items:{type:Ke.STRING}}}},required:["productName","testPlan","predictedRating","reviews","interactiveRating"]}}}),m=jR(f.text);return m?(m.productName!==n&&console.warn(`Gemini returned data for ${m.productName} instead of ${n}. Using it anyway.`),!m.testPlan||!m.predictedRating||!m.reviews||!m.interactiveRating?{error:"Gemini response missing one or more required fields (testPlan, predictedRating, reviews, interactiveRating)."}:m):{error:"Failed to parse structured review data from Gemini."}}catch(f){console.error("Error fetching review generation data from Gemini:",f);let m=f.message||"Failed to fetch review generation data.";return f.message&&(f.message.toLowerCase().includes("api key not valid")||f.message.toLowerCase().includes("api_key_invalid")||f.message.toLowerCase().includes("permission denied"))&&(m=`Gemini API Fehler: ${f.message}. Bitte überprüfen Sie Ihren API Key und dessen Berechtigungen.`),{error:m}}};async function xg(n,e,l){if(!l)return{status:"error",message:"API token is not set for external DB."};const o=`${nT}${n}`;try{const r=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"},body:JSON.stringify({token:l,...e}),mode:"cors"}),f=await r.json();if(!r.ok){const m=f.error||f.message||`API Error: ${r.status} ${r.statusText}`;return console.error(`External DB API Error (${n}):`,m,"Payload:",e,"Response Data:",f),{status:"error",message:m,error:m}}return{status:"success",...f}}catch(r){console.error(`External DB API call ${n} failed:`,r);let f="An unknown network error occurred with the external DB.";return r instanceof Error&&(f=`Network error or invalid response from external DB: ${r.message}`),{status:"error",message:f,error:f}}}const nN=async(n,e)=>xg("get_all",{database:n},e),iN=async(n,e,l,o)=>xg("set",{database:n,key:e,value:l},o),ec=({className:n})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n||"w-5 h-5 text-green-500",children:R.jsx("polyline",{points:"20 6 9 17 4 12"})}),dc=({className:n})=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n||"w-5 h-5 text-red-500",children:[R.jsx("circle",{cx:"12",cy:"12",r:"10"}),R.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),R.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),Mg=({className:n})=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n||"w-5 h-5 text-yellow-500",children:[R.jsx("circle",{cx:"12",cy:"12",r:"10"}),R.jsx("polyline",{points:"12 6 12 12 16 14"})]}),lN=({filled:n,className:e})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:n?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e||"w-5 h-5 text-yellow-400",children:R.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),tc=({rating:n,maxStars:e=5,starSize:l="w-5 h-5"})=>R.jsx("div",{className:"flex items-center","aria-label":`Bewertung: ${n} von ${e} Sternen`,children:[...Array(e)].map((o,r)=>{const f=r+1;return R.jsx(lN,{filled:f<=n,className:`${l} ${f<=n?"text-yellow-400":"text-slate-500"}`},f)})}),oN=({products:n,geminiData:e,onSort:l,sortConfig:o,onSelectProduct:r,onFetchGeminiData:f,currentlyProcessingASIN:m,geminiQueue:g})=>{const y=_=>o.key===_?o.direction==="ascending"?"▲":"▼":"",h=_=>{const M=e[_];return m===_||(M==null?void 0:M.status)==="pending"?R.jsx(Mg,{className:"w-5 h-5 text-yellow-400 animate-spin"}):(M==null?void 0:M.status)==="completed"?R.jsx(ec,{className:"w-5 h-5 text-green-400"}):(M==null?void 0:M.status)==="failed"?R.jsx(dc,{className:"w-5 h-5 text-red-400"}):R.jsx("span",{className:"text-slate-500",children:"-"})},v=_=>{var k,L,q;const M=(q=(L=(k=e[_])==null?void 0:k.reviewOutput)==null?void 0:L.predictedRating)==null?void 0:q.stars;return typeof M=="number"?R.jsx(tc,{rating:M,maxStars:5}):R.jsx("span",{className:"text-slate-500",children:"-"})};if(n.length===0)return R.jsx("p",{className:"text-center text-slate-400 py-8",children:"Keine Produkte entsprechen den aktuellen Filtern."});const S=[{key:"ASIN",label:"ASIN",className:"w-1/12",isSortable:!0},{key:"name",label:"Name",className:"w-4/12",isSortable:!0},{key:"date",label:"Datum",className:"w-1/12",isSortable:!0},{key:"etv",label:"ETV (€)",className:"w-1/12 text-right",isSortable:!0},{key:"geminiStatus",label:"Gemini Status",className:"w-1/12 text-center",isSortable:!0},{key:"geminiRating",label:"Gemini Rating",className:"w-1/12 text-center",isSortable:!0},{key:"actions",label:"Aktion",className:"w-2/12 text-center",isSortable:!1}];return R.jsx("div",{className:"overflow-x-auto bg-slate-800 shadow-md rounded-lg",children:R.jsxs("table",{className:"min-w-full table-fixed",children:[R.jsx("thead",{className:"bg-slate-700",children:R.jsx("tr",{children:S.map(_=>R.jsxs("th",{scope:"col",onClick:()=>_.isSortable&&l(_.key),className:`px-4 py-3 text-left text-xs font-medium text-sky-300 uppercase tracking-wider ${_.className||""} ${_.isSortable?"cursor-pointer hover:bg-slate-600":""}`,"aria-sort":_.isSortable&&o.key===_.key?o.direction==="ascending"?"ascending":"descending":"none",children:[_.label," ",_.isSortable&&y(_.key)]},_.key))})}),R.jsx("tbody",{className:"bg-slate-800 divide-y divide-slate-700",children:n.map(_=>{const M=e[_.ASIN],k=m===_.ASIN||(M==null?void 0:M.status)==="pending",L=g.includes(_.ASIN);return R.jsxs("tr",{className:"hover:bg-slate-700 transition-colors duration-150 ease-in-out group",onClick:()=>r(_.ASIN),role:"button",tabIndex:0,onKeyDown:q=>(q.key==="Enter"||q.key===" ")&&r(_.ASIN),"aria-label":`Details für ${_.name} anzeigen`,children:[R.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-300 tabular-nums",children:_.ASIN}),R.jsx("td",{className:"px-4 py-3 text-sm text-slate-200 group-hover:text-sky-300",children:_.name}),R.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-400",children:_.date}),R.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-300 text-right tabular-nums",children:_.etv.toFixed(2)}),R.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:h(_.ASIN)}),R.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm flex justify-center items-center h-full",children:v(_.ASIN)}),R.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:R.jsx("button",{onClick:q=>{q.stopPropagation(),f(_.ASIN)},className:`font-medium py-1.5 px-3 rounded-md text-xs transition-all duration-150 ease-in-out shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-opacity-50
                    ${k||L?"bg-slate-600 text-slate-400 cursor-not-allowed":(M==null?void 0:M.status)==="completed"?"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500":(M==null?void 0:M.status)==="failed"?"bg-orange-500 hover:bg-orange-600 text-white focus:ring-orange-400":"bg-sky-600 hover:bg-sky-700 text-white focus:ring-sky-500"}`,disabled:k||L,"aria-label":k?`Verarbeite Gemini für ${_.name}`:L?`${_.name} in Warteschlange`:(M==null?void 0:M.status)==="completed"?`Gemini erneut für ${_.name} ausführen`:(M==null?void 0:M.status)==="failed"?`Gemini erneut für ${_.name} versuchen`:`Gemini-Daten für ${_.name} abrufen`,children:k?"Verarbeite...":L&&m!==_.ASIN?"In Warteschl.":(M==null?void 0:M.status)==="completed"?"Erneut":(M==null?void 0:M.status)==="failed"?"Wiederholen":"Abrufen"})})]},_.ASIN)})})]})})},aN=({onSubmit:n,currentProductApiError:e,currentGeminiApiError:l,initialProductToken:o,initialGeminiKey:r})=>{const[f,m]=Te.useState(o||""),[g,y]=Te.useState(r||""),[h,v]=Te.useState(null),[S,_]=Te.useState(null);Te.useEffect(()=>{o&&f!==o&&m(o),r&&g!==r&&y(r)},[o,r,f,g]),Te.useEffect(()=>{v(e||null)},[e]),Te.useEffect(()=>{_(l||null)},[l]);const M=k=>{k.preventDefault();let L=!0;const q=f.trim(),K=g.trim();q?v(null):(v("Produkt API Token darf nicht leer sein."),L=!1),K?_(null):(_("Gemini API Key darf nicht leer sein."),L=!1),L&&n(q,K)};return R.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-80 backdrop-blur-sm flex items-center justify-center p-4 z-[100]","aria-modal":"true",role:"dialog","aria-labelledby":"credentials-modal-title",children:R.jsxs("div",{className:"bg-slate-800 p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-md transform transition-all scale-100 opacity-100",children:[R.jsx("h2",{id:"credentials-modal-title",className:"text-2xl sm:text-3xl font-bold text-sky-400 mb-6 text-center",children:"API Zugangsdaten benötigt"}),R.jsx("p",{className:"text-slate-300 mb-6 text-center text-sm",id:"credentials-modal-description",children:"Bitte gib deinen Produkt API Token und deinen Gemini API Key ein. Diese werden lokal in deinem Browser gespeichert."}),R.jsxs("form",{onSubmit:M,noValidate:!0,"aria-describedby":"credentials-modal-description",children:[R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"productApiToken",className:"block text-sm font-medium text-slate-300 mb-1",children:"Produkt API Token"}),R.jsx("input",{type:"password",id:"productApiToken",value:f,onChange:k=>{m(k.target.value),h&&v(null)},className:`w-full p-3 border rounded-lg bg-slate-700 text-slate-100 focus:ring-2 focus:border-sky-500 transition-colors ${h?"border-red-500 focus:ring-red-500":"border-slate-600 focus:ring-sky-500"}`,placeholder:"Dein Produkt API Token","aria-describedby":"productApiToken-error","aria-invalid":!!h,autoFocus:!0}),h&&R.jsx("p",{id:"productApiToken-error",className:"text-red-400 text-xs mt-1",role:"alert",children:h})]}),R.jsxs("div",{className:"mb-6",children:[R.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium text-slate-300 mb-1",children:"Gemini API Key"}),R.jsx("input",{type:"password",id:"geminiApiKey",value:g,onChange:k=>{y(k.target.value),S&&_(null)},className:`w-full p-3 border rounded-lg bg-slate-700 text-slate-100 focus:ring-2 focus:border-sky-500 transition-colors ${S?"border-red-500 focus:ring-red-500":"border-slate-600 focus:ring-sky-500"}`,placeholder:"Dein Gemini API Key","aria-describedby":"geminiApiKey-error","aria-invalid":!!S}),S&&R.jsx("p",{id:"geminiApiKey-error",className:"text-red-400 text-xs mt-1",role:"alert",children:S})]}),R.jsx("button",{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-50",children:"Speichern und Fortfahren"})]}),R.jsxs("p",{className:"text-xs text-slate-500 mt-6 text-center",children:["Der Produkt API Token wird für die Produkt-API (",R.jsxs("code",{className:"text-xs bg-slate-700 px-1 rounded select-all",children:[ic.split("/").slice(0,3).join("/"),"/..."]}),") verwendet. Der Gemini API Key wird für Anfragen an die Google Gemini API verwendet."]})]})})},Jh=({className:n})=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n||"w-4 h-4",children:[R.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),R.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),Rg=({message:n,size:e="medium"})=>{let l="w-12 h-12";return e==="small"&&(l="w-6 h-6"),e==="large"&&(l="w-16 h-16"),R.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",role:"status","aria-live":"polite",children:[R.jsx("div",{className:`animate-spin rounded-full ${l} border-t-4 border-b-4 border-sky-500`}),n&&R.jsx("p",{className:"mt-4 text-lg text-slate-300",children:n})]})},sN=({product:n,geminiData:e,isOpen:l,onClose:o,onFetchGeminiData:r})=>{const[f,m]=Te.useState({});if(!l)return null;const g=(h,v)=>{navigator.clipboard.writeText(h).then(()=>{m(S=>({...S,[v]:!0})),setTimeout(()=>m(S=>({...S,[v]:!1})),2e3)}).catch(S=>{console.error("Fehler beim Kopieren des Textes: ",S),alert("Fehler beim Kopieren. Bitte manuell kopieren.")})},y=()=>{if((e==null?void 0:e.status)==="pending")return R.jsx(Rg,{message:`Lade Gemini-Daten für ${n.name}...`});if((e==null?void 0:e.status)==="failed")return R.jsxs("div",{className:"text-center py-6",children:[R.jsx(dc,{className:"w-12 h-12 text-red-400 mx-auto mb-3"}),R.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Fehler bei Gemini-Anfrage"}),R.jsx("p",{className:"text-slate-400 mb-4",children:e.error||"Ein unbekannter Fehler ist aufgetreten."}),R.jsx("button",{onClick:()=>r(n.ASIN),className:"bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-lg shadow transition duration-150",children:"Erneut versuchen"})]});if((e==null?void 0:e.status)==="completed"&&e.reviewOutput&&e.marketResearch){const{marketResearch:h,reviewOutput:v}=e;return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"mb-6 p-4 bg-slate-700/50 rounded-lg",children:[R.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-2",children:"Marktrecherche"}),R.jsx("p",{className:"text-slate-300 whitespace-pre-wrap text-sm leading-relaxed mb-2",children:h.summary}),h.sourceUrls&&h.sourceUrls.length>0&&R.jsxs("div",{children:[R.jsx("h4",{className:"text-md font-semibold text-slate-400 mt-3 mb-1",children:"Quellen:"}),R.jsx("ul",{className:"list-disc list-inside pl-2 space-y-1",children:h.sourceUrls.map((S,_)=>R.jsx("li",{className:"text-sm",children:R.jsx("a",{href:S.uri,target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 hover:underline underline-offset-2",children:S.title||S.uri})},_))})]})]}),R.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[R.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg",children:[R.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-2",children:"Testplan"}),v.testPlan&&v.testPlan.length>0?R.jsx("ul",{className:"list-disc list-inside pl-2 space-y-1 text-slate-300 text-sm",children:v.testPlan.map((S,_)=>R.jsx("li",{children:S},_))}):R.jsx("p",{className:"text-slate-400 text-sm",children:"Kein Testplan von Gemini erhalten."})]}),R.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg",children:[R.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-2",children:"Vorhergesagte Bewertung"}),R.jsxs("div",{className:"flex items-center mb-1",children:[R.jsx(tc,{rating:v.predictedRating.stars,starSize:"w-6 h-6"}),R.jsxs("span",{className:"ml-2 text-2xl font-bold text-yellow-400",children:[v.predictedRating.stars," / 5"]})]}),R.jsx("p",{className:"text-slate-300 text-sm italic leading-relaxed",children:v.predictedRating.justification})]})]}),v.interactiveRating&&Object.keys(v.interactiveRating).length>0&&R.jsxs("div",{className:"mb-6",children:[R.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-2",children:"Interaktiver Bewertungsbaukasten"}),R.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Kopiere einzelne Textbausteine, um eine individuelle Rezension zusammenzustellen."}),R.jsx("div",{className:"space-y-4",children:Object.entries(v.interactiveRating).map(([S,_])=>R.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg",children:[R.jsx("h4",{className:"text-lg font-medium text-slate-200 mb-3",children:S}),R.jsx("div",{className:"space-y-3",children:_.map((M,k)=>{const L=`snippet-${S.replace(/\s+/g,"-")}-${k}`;return R.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 bg-slate-600/50 rounded-md ring-1 ring-slate-700",children:[R.jsx("p",{className:"text-slate-300 text-sm leading-relaxed flex-grow",children:M}),R.jsx("button",{onClick:()=>g(M,L),className:"p-1.5 bg-slate-500 hover:bg-sky-600 rounded-md text-slate-300 hover:text-white transition-colors flex-shrink-0","aria-label":`Kopiere Baustein für ${S}`,children:f[L]?R.jsx(ec,{className:"w-4 h-4 text-green-400"}):R.jsx(Jh,{className:"w-4 h-4"})})]},k)})})]},S))})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-3",children:"Vollständige Rezensionsvorlagen"}),R.jsx("div",{className:"space-y-4",children:Object.keys(v.reviews).sort((S,_)=>parseInt(_.split("_")[0])-parseInt(S.split("_")[0])).map(S=>{const _=v.reviews[S],M=parseInt(S.split("_")[0]),k=`review-${S}`;return R.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg",children:[R.jsxs("div",{className:"flex justify-between items-center mb-2",children:[R.jsxs("h4",{className:"text-lg font-medium text-slate-200 flex items-center",children:[R.jsx(tc,{rating:M,starSize:"w-5 h-5"}),R.jsxs("span",{className:"ml-2",children:[M,"-Sterne Rezension"]})]}),R.jsx("button",{onClick:()=>g(_,k),className:"p-1.5 bg-slate-600 hover:bg-sky-600 rounded-md text-slate-300 hover:text-white transition-colors","aria-label":`Kopiere ${M}-Sterne Rezension`,children:f[k]?R.jsx(ec,{className:"w-4 h-4 text-green-400"}):R.jsx(Jh,{className:"w-4 h-4"})})]}),R.jsx("p",{className:"text-slate-300 whitespace-pre-wrap text-sm leading-relaxed",children:_})]},S)})})]})]})}return R.jsxs("div",{className:"text-center py-10",children:[R.jsx(Mg,{className:"w-12 h-12 text-sky-400 mx-auto mb-3"}),R.jsx("h3",{className:"text-xl font-semibold text-slate-200 mb-2",children:"Keine Gemini-Daten"}),R.jsx("p",{className:"text-slate-400 mb-4",children:"Für dieses Produkt wurden noch keine Gemini-Daten abgerufen."}),R.jsx("button",{onClick:()=>{r(n.ASIN)},className:"bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-6 rounded-lg shadow transition duration-150",children:"Gemini-Daten jetzt abrufen"})]})};return R.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-80 backdrop-blur-md flex items-center justify-center p-2 sm:p-4 z-50",onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"product-detail-title",children:R.jsxs("div",{className:"bg-slate-800 p-5 sm:p-6 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-slate-700",onClick:h=>h.stopPropagation(),children:[R.jsxs("div",{className:"flex justify-between items-start mb-4",children:[R.jsxs("div",{children:[R.jsx("h2",{id:"product-detail-title",className:"text-2xl sm:text-3xl font-bold text-sky-400",children:n.name}),R.jsxs("p",{className:"text-sm text-slate-400",children:["ASIN: ",n.ASIN," | Bestelldatum: ",n.date]})]}),R.jsx("button",{onClick:o,className:"text-slate-400 hover:text-slate-200 transition-colors p-1 -mr-1 -mt-1","aria-label":"Schließen",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),y()]})})},rN=({currentPage:n,totalPages:e,onPageChange:l})=>{if(e<=1)return null;const o=[],r=5;let f,m;if(e<=r)f=1,m=e;else{const g=Math.floor((r-1)/2),y=Math.ceil((r-1)/2)-1;n<=g?(f=1,m=r):n+y>=e?(f=e-r+1,m=e):(f=n-g,m=n+y+1)}m=Math.min(m,e),f=Math.max(f,1);for(let g=f;g<=m;g++)o.push(g);return R.jsxs("nav",{"aria-label":"Product list pagination",className:"flex items-center justify-center px-4 py-3 sm:px-6 mt-6",children:[R.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[R.jsx("button",{onClick:()=>l(n-1),disabled:n===1,className:"relative inline-flex items-center px-4 py-2 border border-slate-600 text-sm font-medium rounded-md text-slate-300 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Vorherige"}),R.jsx("button",{onClick:()=>l(n+1),disabled:n===e,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-600 text-sm font-medium rounded-md text-slate-300 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Nächste"})]}),R.jsx("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-center",children:R.jsx("div",{children:R.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[R.jsxs("button",{onClick:()=>l(n-1),disabled:n===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-600 bg-slate-700 text-sm font-medium text-slate-400 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous page",children:[R.jsx("span",{className:"sr-only",children:"Vorherige"}),R.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:R.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),f>1&&R.jsxs(R.Fragment,{children:[R.jsx("button",{onClick:()=>l(1),className:"bg-slate-700 border-slate-600 text-slate-400 hover:bg-slate-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium",children:"1"}),f>2&&R.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-slate-600 bg-slate-700 text-sm font-medium text-slate-500",children:"..."})]}),o.map(g=>R.jsx("button",{onClick:()=>l(g),"aria-current":n===g?"page":void 0,className:`${n===g?"z-10 bg-sky-600 border-sky-500 text-white":"bg-slate-700 border-slate-600 text-slate-400 hover:bg-slate-600"} relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors`,children:g},g)),m<e&&R.jsxs(R.Fragment,{children:[m<e-1&&R.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-slate-600 bg-slate-700 text-sm font-medium text-slate-500",children:"..."}),R.jsx("button",{onClick:()=>l(e),className:"bg-slate-700 border-slate-600 text-slate-400 hover:bg-slate-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium",children:e})]}),R.jsxs("button",{onClick:()=>l(n+1),disabled:n===e,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-600 bg-slate-700 text-sm font-medium text-slate-400 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next page",children:[R.jsx("span",{className:"sr-only",children:"Nächste"}),R.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:R.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})})]})},uN=({totalProductsCount:n,onFetchBatch:e,currentQueue:l,processingASIN:o})=>{const[r,f]=Te.useState("10"),m=()=>{const h=parseInt(r,10);if(isNaN(h)||h<=0){console.warn("Ungültige Anzahl für Batch-Verarbeitung ausgewählt."),e(0);return}e(h)},g=[{value:"5",label:"Nächste 5"},{value:"10",label:"Nächste 10"},{value:"25",label:"Nächste 25"},{value:"50",label:"Nächste 50"}],y=n===0||!!o||l.length>0;return R.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:space-x-3 space-y-3 sm:space-y-0",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"bulk-count",className:"block text-sm font-medium text-slate-300 mb-1",children:"Gemini für Batch"}),R.jsx("select",{id:"bulk-count",value:r,onChange:h=>f(h.target.value),className:"w-full sm:w-auto p-2 border border-slate-600 rounded-md bg-slate-700 text-slate-100 focus:ring-sky-500 focus:border-sky-500 h-[42px]","aria-label":"Select number of products for bulk Gemini fetch",children:g.map(h=>R.jsx("option",{value:h.value,children:h.label},h.value))})]}),R.jsx("button",{onClick:m,className:`w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow transition duration-150 ease-in-out h-[42px] whitespace-nowrap ${y?"opacity-50 cursor-not-allowed":""}`,disabled:y,title:n===0?"Keine Produkte geladen":o||l.length>0?"Gemini verarbeitet gerade oder hat Elemente in der Warteschlange":`Gemini-Daten für die ${r} neuesten Produkte ohne abgeschlossenes Review abrufen (bereits abgeschlossene werden übersprungen)`,children:`Für ${r} starten`})]})},Lu=({message:n,onClose:e})=>n?R.jsxs("div",{className:"mt-4 p-4 bg-red-800 bg-opacity-60 border border-red-700 text-red-200 rounded-lg shadow-md flex items-start space-x-3",role:"alert",children:[R.jsx(dc,{className:"w-6 h-6 text-red-300 flex-shrink-0 mt-0.5"}),R.jsxs("div",{className:"flex-grow",children:[R.jsx("p",{className:"font-semibold",children:"Fehler"}),R.jsx("p",{className:"text-sm",children:n})]}),e&&R.jsx("button",{onClick:e,className:"text-red-300 hover:text-red-100 p-1 -mr-1 -mt-1","aria-label":"Fehlermeldung schließen",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}):null,cN=()=>{const[n,e]=Te.useState(null),[l,o]=Te.useState(null),[r,f]=Te.useState(!1),[m,g]=Te.useState([]),[y,h]=Te.useState({}),[v,S]=Te.useState(!1),[_,M]=Te.useState(!1),[k,L]=Te.useState(null),[q,K]=Te.useState(null),[j,X]=Te.useState(""),[$,F]=Te.useState({key:"date",direction:"descending"}),[me,ge]=Te.useState(1),[be,oe]=Te.useState(null),[ve,de]=Te.useState([]),[Le,pt]=Te.useState(!1),[ht,Ie]=Te.useState(null),[U,J]=Te.useState(null),[ae,Ve]=Te.useState(null),A=Te.useCallback(()=>{J(null),Ve(null)},[]),G=Te.useCallback((z,te=3e3)=>{Ve(z),setTimeout(()=>Ve(null),te)},[]),H=Te.useCallback((z,te=5e3)=>{J(z),setTimeout(()=>J(null),te)},[]),Y=Te.useCallback(async(z,te)=>{if(h(Ce=>({...Ce,[z]:te})),te.status==="completed"||te.status==="failed")if(n)try{const Ce={...te},ce=await iN(mp,z,JSON.stringify(Ce),n);ce.status==="error"?(console.error(`Failed to save Gemini data for ASIN ${z} (status: ${te.status}) to DB:`,ce.message||ce.error),H(`DB-Fehler beim Speichern (${te.status}) für ${z}: ${ce.message||ce.error||"Unbekannter DB Fehler"}`)):console.log(`Gemini data for ASIN ${z} (status: ${te.status}) successfully saved to DB.`)}catch(Ce){console.error(`Network/DB error saving Gemini data for ASIN ${z} (status: ${te.status}):`,Ce),H(`Netzwerk/DB Fehler beim Speichern (${te.status}) für ${z}: ${Ce.message||"Unbekannter DB Fehler"}`)}else console.warn(`Product API Token not available. Cannot persist Gemini data for ASIN ${z} (status: ${te.status}) to DB.`),H(`Produkt API Token nicht verfügbar. Gemini-Daten (${te.status}) für ${z} konnten nicht in DB gespeichert werden.`);else te.status==="pending"&&console.log(`Gemini data for ASIN ${z} is 'pending'. Local state updated. Not saving to DB.`)},[n,H]),le=Te.useCallback(async z=>{if(z){M(!0),A(),console.log("[App] Attempting to load Gemini data from DB...");try{const te=await nN(mp,z);if(te.status==="success"&&te.data){const Ce=te.data,ce={};console.log("[App] Received raw data from DB:",Ce);let se=0,ze=0;for(const Ne in Ce){const je=Ce[Ne];if(typeof je!="string"||je.trim()===""){console.warn(`[App] Skipping ASIN ${Ne} from DB: Entry is not a non-empty string or is empty. Value:`,je),ze++;continue}try{const $e=JSON.parse(je);if(typeof $e.status!="string"||!["completed","failed","pending"].includes($e.status)){console.warn(`[App] Skipping ASIN ${Ne} from DB: Parsed data missing 'status' or status is invalid ('${$e.status}'). Raw:`,je,"Parsed:",$e),ze++;continue}ce[Ne]=$e,se++}catch($e){console.error(`[App] Failed to parse Gemini data for ASIN ${Ne} from DB. Error:`,$e,"Raw data:",je),ze++}}h(ce),console.log(`[App] Gemini data loaded. Successfully parsed: ${se}, Failed to parse: ${ze}`),ze>0&&H(`${ze} gespeicherte(r) Gemini-Eintrag/Einträge konnte(n) nicht korrekt geladen werden. Siehe Konsole.`)}else if(te.message&&(te.message.toLowerCase().includes("database not found")||te.message.toLowerCase().includes("no data found")))h({}),console.log("[App] External DB for Gemini data not found or empty, starting fresh.");else if(te.error||te.message){const Ce=te.error||te.message||"Unknown error";console.error("[App] Error loading Gemini data from DB:",Ce),J(`Fehler beim Laden der gespeicherten Gemini-Daten: ${Ce}`)}else console.log("[App] No Gemini data found in DB or successful empty response."),h({})}catch(te){console.error("[App] Network error loading Gemini data from DB:",te),J(`Netzwerkfehler beim Laden der gespeicherten Gemini-Daten: ${te.message}`)}finally{M(!1)}}},[A,H]);Te.useEffect(()=>{const z=iT(),te=oT();z&&(e(z),le(z)),te&&o(te),(!z||!te)&&f(!0)},[le]);const Re=Te.useCallback(async()=>{var z,te;if(!n){L("Produkt API Token ist nicht gesetzt."),f(!0);return}S(!0),L(null),A();try{const Ce=await cT(n,ic);Ce.status==="success"&&Ce.data?(g(Ce.data),Ce.data.length===0?G("Produktliste erfolgreich geladen, aber keine Produkte gefunden."):G("Produktliste erfolgreich geladen.")):(L(Ce.message||"Fehler beim Laden der Produkte."),((z=Ce.message)!=null&&z.toLowerCase().includes("token")||(te=Ce.message)!=null&&te.toLowerCase().includes("invalid auth"))&&(pp(),e(null),f(!0)))}catch(Ce){L(`Ein Fehler ist aufgetreten: ${Ce.message}`)}finally{S(!1)}},[n,A,G]);Te.useEffect(()=>{n&&m.length===0&&!v&&!k&&Re()},[n,m.length,v,Re,k]);const pe=(z,te)=>{lT(z),e(z),aT(te),o(te),f(!1),L(null),K(null),g([]),z&&le(z)},xt=()=>{pp(),e(null),sT(),o(null),g([]),h({}),de([]),pt(!1),Ie(null),f(!0),G("Erfolgreich ausgeloggt. Alle API Keys entfernt.")},Ye=Te.useCallback(async z=>{if(!n){const Ne="Produkt API Token nicht konfiguriert. Speichern der Ergebnisse nicht möglich.";H(Ne),await Y(z,{status:"failed",error:Ne,lastAttempt:new Date().toISOString()}),f(!0),de(je=>je.filter($e=>$e!==z)),pt(!1),Ie(null);return}if(!l){const Ne="Gemini API Key nicht konfiguriert.";K(Ne),await Y(z,{status:"failed",error:Ne,lastAttempt:new Date().toISOString()}),r||f(!0),de(je=>je.filter($e=>$e!==z)),pt(!1),Ie(null);return}pt(!0),Ie(z);const te=m.find(Ne=>Ne.ASIN===z);if(!te){const Ne=`Produktdetails für ASIN ${z} nicht gefunden.`;console.error(Ne),await Y(z,{status:"failed",error:Ne,lastAttempt:new Date().toISOString()}),de(je=>je.filter($e=>$e!==z)),Ie(null),pt(!1);return}const Ce={...y[z],status:"pending",lastAttempt:new Date().toISOString(),error:void 0};h(Ne=>({...Ne,[z]:Ce})),K(null);let ce=null,se=null,ze;try{ce=await eN(te.name,l);let Ne;"error"in ce?(Ne=ce.error,(ce.error.toLowerCase().includes("api key")||ce.error.toLowerCase().includes("api client not initialized")||ce.error.toLowerCase().includes("permission denied"))&&(K("Gemini API Fehler (Marktforschung): "+ce.error+" Bitte überprüfen Sie Ihren Gemini API Key und dessen Berechtigungen."),r||f(!0))):ze=ce.summary,se=await tN(te.name,l,ze);let je;"error"in se&&(je=se.error,(se.error.toLowerCase().includes("api key")||se.error.toLowerCase().includes("api client not initialized")||se.error.toLowerCase().includes("permission denied"))&&(K("Gemini API Fehler (Review-Generierung): "+se.error+" Bitte überprüfen Sie Ihren Gemini API Key und dessen Berechtigungen."),r||f(!0)));const $e=ce&&!("error"in ce)?ce:void 0,Tt=se&&!("error"in se)?se:void 0;let lt=[];ce&&"error"in ce&&lt.push(`Marktforschung: ${ce.error}`),se&&"error"in se&&lt.push(`Review-Generierung: ${se.error}`);const Mt=lt.join("; ").trim();Mt?await Y(z,{marketResearch:$e,reviewOutput:Tt,status:"failed",error:Mt,lastAttempt:new Date().toISOString()}):$e&&Tt?await Y(z,{marketResearch:$e,reviewOutput:Tt,status:"completed",lastAttempt:new Date().toISOString()}):(console.warn(`[App.tsx] Gemini processing for ${z} in ambiguous state. Errors: "${Mt}", MR: ${!!$e}, RO: ${!!Tt}`),await Y(z,{marketResearch:$e,reviewOutput:Tt,status:"failed",error:"Unvollständige Daten von Gemini erhalten. Mindestens ein Schritt schlug fehl oder lieferte keine verwertbaren Daten.",lastAttempt:new Date().toISOString()}))}catch(Ne){console.error(`Unerwarteter Fehler bei der sequentiellen Gemini-Verarbeitung für ${z}:`,Ne),await Y(z,{marketResearch:ce&&!("error"in ce)?ce:void 0,reviewOutput:se&&!("error"in se)?se:void 0,status:"failed",error:`Unerwarteter Fehler: ${Ne.message||"Unknown error during sequential processing"}`,lastAttempt:new Date().toISOString()})}finally{de(Ne=>Ne.filter(je=>je!==z)),Ie(null),pt(!1)}},[n,l,m,y,Y,H,r]);Te.useEffect(()=>{if(!Le&&ve.length>0&&n&&l){const z=ve[0];Ye(z)}else ve.length>0&&!Le&&(!n||!l)&&(H(`${n?"Gemini API Key":"Produkt API Token"} nicht gesetzt. Verarbeitung der Warteschlange angehalten.`),r||f(!0))},[ve,Le,n,l,Ye,H,r]);const Wt=Te.useCallback(z=>{if(!n||!l){H(`${n?"Gemini API Key":"Produkt API Token"} ist nicht konfiguriert. Ergebnisse können nicht abgerufen oder gespeichert werden.`),r||f(!0);return}if(!ve.includes(z)&&ht!==z){const te={...y[z],status:"pending",lastAttempt:new Date().toISOString(),error:void 0};h(Ce=>({...Ce,[z]:te})),de(Ce=>[z,...Ce.filter(ce=>ce!==z)]),G(`${z} zur Warteschlange hinzugefügt.`)}else G(`${z} ist bereits in der Warteschlange oder wird bearbeitet.`)},[n,l,ve,ht,y,H,G,r]),Rl=Te.useCallback(async z=>{if(!n||!l){H(`${n?"Gemini API Key":"Produkt API Token"} ist nicht konfiguriert. Ergebnisse können nicht abgerufen oder gespeichert werden.`),r||f(!0);return}if(z<=0){H("Ungültige Anzahl für Batch-Verarbeitung ausgewählt.",5e3);return}const Ce=m.filter(se=>{const ze=y[se.ASIN];return!(ze&&ze.status==="completed")}).sort((se,ze)=>Ka(ze.date).getTime()-Ka(se.date).getTime()).slice(0,z).map(se=>se.ASIN);if(Ce.length===0){H("Keine geeigneten Produkte für Batch-Verarbeitung gefunden. Möglicherweise sind alle relevanten Produkte bereits abgeschlossen oder es gibt keine Produkte.",5e3);return}const ce=[];for(const se of Ce){const ze=y[se];if(!ve.includes(se)&&!(ht===se)){if((ze==null?void 0:ze.status)!=="pending"){const $e={...ze,status:"pending",lastAttempt:new Date().toISOString(),error:void 0};h(Tt=>({...Tt,[se]:$e}))}ce.push(se)}}ce.length>0?(de(se=>{const ze=[...se];return ce.forEach(Ne=>{ze.includes(Ne)||ze.push(Ne)}),ze}),G(`${ce.length} Produkt(e) zur Warteschlange hinzugefügt.`)):H("Die ausgewählten Produkte sind bereits in der Warteschlange oder werden bearbeitet.",5e3)},[n,l,m,y,ve,ht,H,G,r]),ti=Te.useMemo(()=>{let z=[...m];return $.key&&z.sort((te,Ce)=>{var ze,Ne,je,$e,Tt,lt,Mt,St;let ce,se;if($.key==="geminiRating")ce=((je=(Ne=(ze=y[te.ASIN])==null?void 0:ze.reviewOutput)==null?void 0:Ne.predictedRating)==null?void 0:je.stars)??-1,se=((lt=(Tt=($e=y[Ce.ASIN])==null?void 0:$e.reviewOutput)==null?void 0:Tt.predictedRating)==null?void 0:lt.stars)??-1;else if($.key==="geminiStatus"){const Lo={pending:1,failed:2,completed:3};ce=Lo[((Mt=y[te.ASIN])==null?void 0:Mt.status)||""]??4,se=Lo[((St=y[Ce.ASIN])==null?void 0:St.status)||""]??4}else $.key==="date"?(ce=Ka(te[$.key]).getTime(),se=Ka(Ce[$.key]).getTime()):(ce=te[$.key],se=Ce[$.key]);return typeof ce=="string"&&typeof se=="string"?$.direction==="ascending"?ce.localeCompare(se):se.localeCompare(ce):ce==null&&se!=null?$.direction==="ascending"?1:-1:ce!=null&&se==null?$.direction==="ascending"?-1:1:ce==null&&se==null?0:ce<se?$.direction==="ascending"?-1:1:ce>se?$.direction==="ascending"?1:-1:0}),z},[m,$,y]),ni=Te.useMemo(()=>ti.filter(z=>z.name.toLowerCase().includes(j.toLowerCase())||z.ASIN.toLowerCase().includes(j.toLowerCase())),[ti,j]),Ri=Math.ceil(ni.length/Iu),Ni=Te.useMemo(()=>ni.slice((me-1)*Iu,me*Iu),[ni,me]),ps=z=>{let te="ascending";$.key===z&&$.direction==="ascending"?te="descending":$.key===z&&$.direction==="descending"&&(te="ascending"),F({key:z,direction:te}),ge(1)},Nl=Te.useMemo(()=>{if(be)return m.find(z=>z.ASIN===be)},[be,m]);return!n||!l||r?R.jsx(aN,{onSubmit:pe,currentProductApiError:k,currentGeminiApiError:q,initialProductToken:n,initialGeminiKey:l}):R.jsxs("div",{className:"container mx-auto p-4 min-h-screen flex flex-col",children:[R.jsxs("header",{className:"mb-6 text-center",children:[R.jsx("h1",{className:"text-4xl font-bold text-sky-400",children:"📝 Review Assistant Pro"}),R.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"API Keys werden lokal im Browser gespeichert."})]}),U&&R.jsx(Lu,{message:U,onClose:()=>J(null)}),ae&&R.jsx("div",{className:"mb-4 p-3 bg-green-600 bg-opacity-80 text-white rounded-md text-center transition-opacity duration-300",children:ae}),q&&!r&&R.jsx(Lu,{message:q,onClose:()=>K(null)}),R.jsxs("div",{className:"mb-6 p-4 bg-slate-800 rounded-lg shadow-xl",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[R.jsxs("div",{className:"md:col-span-2",children:[R.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-slate-300 mb-1",children:"Produkt suchen (Name oder ASIN)"}),R.jsx("input",{type:"text",id:"search",placeholder:"Suche...",value:j,onChange:z=>{X(z.target.value),ge(1)},className:"w-full p-2 border border-slate-600 rounded-md bg-slate-700 text-slate-100 focus:ring-sky-500 focus:border-sky-500"})]}),R.jsx(uN,{totalProductsCount:m.length,onFetchBatch:Rl,currentQueue:ve,processingASIN:ht})]}),k&&m.length===0&&R.jsx(Lu,{message:k,onClose:()=>L(null)})]}),v||_?R.jsx(Rg,{message:v?"Lade Produkte...":"Lade gespeicherte Gemini-Daten..."}):k&&m.length===0?R.jsxs("div",{className:"text-center py-10",children:[R.jsx("p",{className:"text-red-400 text-lg",children:"Produkte konnten nicht geladen werden."}),R.jsx("button",{onClick:Re,className:"mt-4 bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-lg shadow transition duration-150",children:"Erneut versuchen"})]}):R.jsxs(R.Fragment,{children:[R.jsx(oN,{products:Ni,geminiData:y,onSort:ps,sortConfig:$,onSelectProduct:oe,onFetchGeminiData:Wt,currentlyProcessingASIN:ht,geminiQueue:ve}),Ni.length>0&&Ri>1&&R.jsx(rN,{currentPage:me,totalPages:Ri,onPageChange:ge})]}),Nl&&R.jsx(sN,{product:Nl,geminiData:y[Nl.ASIN],isOpen:!!be,onClose:()=>oe(null),onFetchGeminiData:Wt}),R.jsxs("footer",{className:"text-center py-6 mt-auto text-sm text-slate-500",children:["Produkt-Review-Assistent Pro. Gemini-Antworten (Status: abgeschlossen/fehlgeschlagen) werden in einer externen Datenbank gespeichert.",R.jsx("button",{onClick:xt,className:"ml-4 text-sky-400 hover:text-sky-300 underline",children:"Logout & API Keys löschen"})]})]})},Ng=document.getElementById("root");if(!Ng)throw new Error("Could not find root element to mount to");const fN=tT.createRoot(Ng);fN.render(R.jsx($v.StrictMode,{children:R.jsx(cN,{})}));
